<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐จ๐ผโ๐คโ๐จ๐ป ๐๐ฝ โณ ููุชุจ ูุญุฑู ูููุณู ุงูุฎุงุตุฉ ุจูุง ๐ค๏ธ ๐ ๐ด๐ผ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููุงุญุธุฉ: ููุฏ ุงููุตุฏุฑ ุงููุงูู ููุฐุง ุงููุดุฑูุน ูุชุงุญ ููุง: [ ุงููุตุฏุฑ ]. 

 ุนูุฏูุง ูุจุฏุฃ ุงููุดุฑูุน ุงูุฐู ุฃุนูู ุนููู ูู ุงูููุงุฏ ุ ุฃุถูุช ุชุตูุฑุงุช ุฌุฏูุฏุฉ ุชููุญูู ุงูุญุงูุฒ ูููุถู ูุฏ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ููุชุจ ูุญุฑู ูููุณู ุงูุฎุงุตุฉ ุจูุง</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/474414/" style=";text-align:right;direction:rtl"><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/a53/e5f/dea/a53e5fdeab8992f2b647feb66ccf126b.png" alt="ุตูุฑุฉ"></div><br>  <em><strong>ููุงุญุธุฉ:</strong> ููุฏ ุงููุตุฏุฑ ุงููุงูู ููุฐุง ุงููุดุฑูุน ูุชุงุญ ููุง: [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุตุฏุฑ</a> ].</em> <br><br>  ุนูุฏูุง ูุจุฏุฃ ุงููุดุฑูุน ุงูุฐู ุฃุนูู ุนููู ูู ุงูููุงุฏ ุ ุฃุถูุช ุชุตูุฑุงุช ุฌุฏูุฏุฉ ุชููุญูู ุงูุญุงูุฒ ูููุถู ูุฏููุง. <br><br>  ุจุนุฏ ุฅุตุฏุงุฑ ููููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Task-Bot</a> ุงูุฃุตูู [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุชุฑุฌูุฉ</a> ุฅูู Habrรฉ] ุ ุดุนุฑุช ุจุฃููู ููุช ูููุฏูุง ุจุงููุถุงุก ุซูุงุฆู ุงูุฃุจุนุงุฏ ุงูุฐู ุนููุช ููู.  ูุจุฏู ุฃูู ูุงู ูุนูู ุฅููุงูุงุช ุงูุณููู ุงููุงุดุฆ ููุฑูุจูุชุงุช. <br><br>  ุงููุญุงููุงุช ุงูุณุงุจูุฉ ุบูุฑ ุงููุงุฌุญุฉ ูุชุนูู OpenGL ุงูุญุฏูุซุฉ ูุฏ ูุถุนุช ุฃูุงูู ุนุงุฆููุง ุนููููุง ุ ููููู ูู ููุงูุฉ ุดูุฑ ููููู ุงุฎุชุฑูุช ุฐูู ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู.  ุงูููู ุ ูู ููุงูุฉ ุดูุฑ ุฃูุชูุจุฑ ุ ูุฏู ุจุงููุนู ููู ููู ููููุงููู ุ ูุฐูู ุฃุทููุช ูุญุฑู voxel ุงูุจุณูุท ุงูุฎุงุต ุจู ุ ูุงูุฐู ุณูููู ุจูุซุงุจุฉ ุจูุฆุฉ ูุญูุงุฉ ูุงุฒุฏูุงุฑ ุจุฑูุงูุฌ Task-Bots ุงูุฎุงุต ุจู. <br><br>  ูุฑุฑุช ุฅูุดุงุก ูุญุฑู ุฎุงุต ุจู ุ ูุฃููู ููุช ุจุญุงุฌุฉ ุฅูู ุงูุชุญูู ุงููุงูู ูู ุงูุฑุณููุงุช ุ  ุงูู ุฌุงูุจ ุฐูู ุ ููุช ุฃุฑุบุจ ูู ุงุฎุชุจุงุฑ ููุณู.  ุจุทุฑููุฉ ูุง ุ ููุช ุฃุฎุชุฑุน ุฏุฑุงุฌุฉ ุ ูููู ุฃุญุจุจุช ูุฐู ุงูุนูููุฉ ุญููุง! <br><br>  ูุงู ุงููุฏู ุงูููุงุฆู ูููุดุฑูุน ุจุฃูููู ูู ูุญุงูุงุฉ ูุงููุฉ ูููุธุงู ุงูุฅูููููุฌู ุ ุญูุซ ูููู ุงูุฑูุจูุชุงุช ูู ุฏูุฑ ุงููููุงุก ุจูุนุงูุฌุฉ ุงูุจูุฆุฉ ูุงูุชูุงุนู ูุนูุง. <br><br>  ูุธุฑูุง ูุฃู ุงููุญุฑู ูุฏ ุชุญุฑู ุจุงููุนู ุฅูู ุงูุฃูุงู ููููุงู ูุณุฃูุชูู ุฅูู ุจุฑูุฌุฉ ุจุฑุงูุฌ ุงูุฑูุจูุช ูุฑุฉ ุฃุฎุฑู ุ ููุฏ ูุฑุฑุช ูุชุงุจุฉ ููุดูุฑ ุนู ุงููุญุฑู ููุธุงุฆูู ูุชูููุฐู ูู ุฃุฌู ุงูุชุฑููุฒ ุนูู ุงูููุงู ุฐุงุช ุงููุณุชูู ุงูุฃุนูู ูู ุงููุณุชูุจู. <br><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  ููููู ุงููุญุฑู </h2><br>  ุชุชู ูุชุงุจุฉ ุงููุญุฑู ุจุงููุงูู ูู ุงูุจุฏุงูุฉ ูู C ++ (ูุน ุจุนุถ ุงูุงุณุชุซูุงุกุงุช ุ ูุซู ุงูุจุญุซ ุนู ูุณุงุฑ).  ุฃุณุชุฎุฏู SDL2 ูุชูุฏูู ุงูุณูุงู ููุนุงูุฌุฉ ุงููุฏุฎูุงุช ุ OpenGL ูุชูุฏูู ูุดูุฏ ุซูุงุซู ุงูุฃุจุนุงุฏ ุ ู DearImgui ููุชุญูู ูู ุงููุญุงูุงุฉ. <br><br>  ูุฑุฑุช ุงุณุชุฎุฏุงู voxels ุจุดูู ุฃุณุงุณู ูุฃููู ุฃุฑุฏุช ุงูุนูู ูุน ุดุจูุฉ ููุง ุงูุนุฏูุฏ ูู ุงููุฒุงูุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ุงูููููู ุฌูุฏุง ุฎูู ุชูุณุฌู ูุชูุฏูููุง. </li><li style=";text-align:right;direction:rtl">  ูุฏุฑุงุช ุชุฎุฒูู ุงูุจูุงูุงุช ูู ุงูุนุงูู ุฃูุซุฑ ุชููุนูุง ููููููุฉ. </li><li style=";text-align:right;direction:rtl">  ููุฏ ููุช ุจุงููุนู ุจุฅูุดุงุก ุฃูุธูุฉ ูุชูููุฏ ุงูุชุถุงุฑูุณ ูุงููุญุงูุงุฉ ุงูููุงุฎูุฉ ุงููุงุฆูุฉ ุนูู ุงูุดุจูุงุช. </li><li style=";text-align:right;direction:rtl">  ูู ุงูุณูู ุชุญุฏูุฏ ููุงู ุจุฑุงูุฌ ุงูุฑูุจูุช ูู ุงูุดุจูุฉ. </li></ul><br>  ูุชููู ุงููุญุฑู ูู ูุธุงู ุจูุงูุงุช ุนุงููู ุ ููุธุงู ุงูุชูุฏูู ูุงูุนุฏูุฏ ูู ุงููุฆุงุช ุงููุณุงุนุฏุฉ (ุนูู ุณุจูู ุงููุซุงู ุ ููุนุงูุฌุฉ ุงูุตูุช ูุงููุฏุฎูุงุช). <br><br>  ุณูู ุฃุชุญุฏุซ ูู ุงูููุงู ุนู ูุงุฆูุฉ ุงูููุฒุงุช ุงูุญุงููุฉ ุ ูุถูุงู ุนู ุฅููุงุก ูุธุฑุฉ ูุงุญุตุฉ ุนูู ุงูุฃูุธูุฉ ุงููุฑุนูุฉ ุงูุฃูุซุฑ ุชุนููุฏูุง. <br><br><h3 style=";text-align:right;direction:rtl">  ูุณุชูู ุนุงููู </h3><br>  ุชุนุชุจุฑ ุงูุทุจูุฉ ุงูุนุงูููุฉ ุจูุซุงุจุฉ ุงูุทุจูุฉ ุงูุฃุณุงุณูุฉ ูุชุฎุฒูู ุฌููุน ูุนูููุงุช ุงูุนุงูู.  ููู ูุชููู ุชูููุฏ ูุชุญููู ูุชุฎุฒูู ุจูุงูุงุช ุงููุชูุฉ. <br><br>  ูุชู ุชุฎุฒูู ุจูุงูุงุช ุงููุชูุฉ ูู ูุฌููุนุงุช ุฐุงุช ุญุฌู ุซุงุจุช (16 ^ 3) ุ ููููู ุงูุนุงูู ุจุชุฎุฒูู ูุงูู ุงูุฌุฒุก ุงูุฐู ุชู ุชุญูููู ูู ุงูุฐุงูุฑุฉ ุงูุธุงูุฑูุฉ.  ูู ุงูุนูุงูู ุงููุจูุฑุฉ ุ ูู ุงูุถุฑูุฑู ุนูููุงู ุชุฐูุฑ ุฌุฒุก ูุนูู ูู ุงูุนุงูู ุ ูููุฐุง ุงุฎุชุฑุช ูุฐุง ุงูููุฌ. <br><br><pre style=";text-align:right;direction:rtl"><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">World</span></span></span><span class="hljs-class">{</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: World(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span> _saveFile){ saveFile = _saveFile; loadWorld(); } <span class="hljs-comment"><span class="hljs-comment">//Data Storage std::vector&lt;Chunk&gt; chunks; //Loaded Chunks std::stack&lt;int&gt; updateModels; //Models to be re-meshed void bufferChunks(View view); //Generation void generate(); Blueprint blueprint; bool evaluateBlueprint(Blueprint &amp;_blueprint); //File IO Management std::string saveFile; bool loadWorld(); bool saveWorld(); //other... int SEED = 100; int chunkSize = 16; int tickLength = 1; glm::vec3 dim = glm::vec3(20, 5, 20); //...</span></span></code> </pre> <br>  ุชููู ุงูุฃุฌุฒุงุก ุจุชุฎุฒูู ุจูุงูุงุช ุงููุชูุฉ ุ ููุฐูู ุจุนุถ ุงูุจูุงูุงุช ุงูุชุนุฑูููุฉ ุงูุฃุฎุฑู ุ ูู ุตููู ุซุงุจุช.  ูู ุงูุจุฏุงูุฉ ุ ููุช ุจุชุทุจูู ุดุฌุฑุฉ octree ุงููุชูุงุซุฑุฉ ุงูุฎุงุตุฉ ุจู ูุชุฎุฒูู ุงูุฃุฌุฒุงุก ุ ููู ุงุชุถุญ ุฃู ููุช ุงููุตูู ุงูุนุดูุงุฆู ูุฑุชูุน ุฌุฏูุง ุจุญูุซ ูุง ูููู ุฅูุดุงุก ุดุจูุงุช.  ุนูู ุงูุฑุบู ูู ุฃู ุงูุตููู ุงููุณุทุญ ููุณ ูู ุงูุฃูุซู ูู ูุฌูุฉ ูุธุฑ ุงูุฐุงูุฑุฉ ุ ุฅูุง ุฃูู ูููุฑ ุงููุฏุฑุฉ ุนูู ุจูุงุก ุงูุดุจูุงุช ูุงูุชูุงุนุจ ุจุณุฑุนุฉ ูุจูุฑุฉ ูุน ูุชู ุ ููุฐูู ุงููุตูู ุฅูู ูุณุงุฑ ุงูุจุญุซ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Chunk</span></span></span><span class="hljs-class">{</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: <span class="hljs-comment"><span class="hljs-comment">//Position information and size information glm::vec3 pos; int size; BiomeType biome; //Data Storage Member int data[16*16*16] = {0}; bool refreshModel = false; //Get the Flat-Array Index int getIndex(glm::vec3 _p); void setPosition(glm::vec3 _p, BlockType _type); BlockType getPosition(glm::vec3 _p); glm::vec4 getColorByID(BlockType _type); };</span></span></code> </pre> <br>  ุฅุฐุง ููุช ูู ุฃู ููุช ุจุชุทุจูู ุฃุฌุฒุงุก ูุชุนุฏุฏุฉ ูู ุนูููุงุช ุงูุชุญููู ูุงูุชุญููู ุ ููููู ุฃู ูููู ุชุญููู ุตููู ูุณุทุญ ุฅูู ุดุฌุฑุฉ ุฃููุชุฑู ูุชูุฑูุฉ ูุงูุนูุณ ุฎูุงุฑูุง ูููููุง ุชูุงููุง ูุญูุธ ุงูุฐุงูุฑุฉ.  ูุง ูุฒุงู ููุงู ูุฌุงู ููุชุญุณูู! <br><br>  ูุชู ุชุฎุฒูู ุชูููุฐ ุดุฌุฑุฉ octree ุงููุชูุงุซุฑุฉ ูู ุงูุดูุฑุฉ ุ ุจุญูุซ ููููู ุงุณุชุฎุฏุงููุง ุจุฃูุงู. <br><br><h4 style=";text-align:right;direction:rtl">  ุชุฎุฒูู ุฌุฒุก ููุนุงูุฌุฉ ุงูุฐุงูุฑุฉ </h4><br>  ุชุธูุฑ ุงูุดุธุงูุง ููุท ุนูุฏูุง ุชููู ุฏุงุฎู ูุณุงูุฉ ุงูุชูุฏูู ูููุถุน ุงููุงููุฑุง ุงูุญุงูู.  ูุฐุง ูุนูู ุฃูู ุนูุฏูุง ุชุชุญุฑู ุงููุงููุฑุง ุ ูุฃูุช ุชุญุชุงุฌ ุฅูู ุชุญููู ุงูุฃุฌุฒุงุก ุจุดูู ุฏููุงูููู ูู ุงูุดุจูุงุช. <br><br>  ูุชู ุฅุฌุฑุงุก ุชุณูุณู ุงูุฃุฌุฒุงุก ุจุงุณุชุฎุฏุงู ููุชุจุฉ ุงูุชุนุฒูุฒ ุ ููุชู ุชุฎุฒูู ุจูุงูุงุช ุงูุนุงูู ูููู ูุตู ุจุณูุท ุ ุญูุซ ูู ุฌุฒุก ุฌุฒุก ูู ุงูููู.  ูุชู ุฅูุดุงุคูุง ูู ุชุฑุชูุจ ูุนูู ุจุญูุซ ูููู "ุชุฑุชูุจ" ูู ููู ุงูุนุงูู.  ูุฐุง ููู ููุฒูุฏ ูู ุงูุชุญุณููุงุช. <br><br>  ูู ุญุงูุฉ ูุฌูุฏ ุนุงูู ูุจูุฑ ุ ูุฅู ุนูู ุงูุฒุฌุงุฌุฉ ุงูุฑุฆูุณู ูููู ูู ูุฑุงุกุฉ ุงูููู ุงูุนุงููู ูุดุธุงูุง ุงูุชุญููู / ุงููุชุงุจุฉ.  ูู ุงููุงุญูุฉ ุงููุซุงููุฉ ุ ูุญุชุงุฌ ููุท ุฅูู ุชูุฒูู ูููู ููู ุงูุนุงูู. <br><br>  ููููุงู ุจุฐูู ุ ูุฒูู ุงูุฃุณููุจ <code>World::bufferChunks()</code> ุงูุฃุฌุฒุงุก ุงูููุฌูุฏุฉ ูู ุงูุฐุงูุฑุฉ ุงูุธุงูุฑูุฉ ูููููุง ุบูุฑ ูุฑุฆูุฉ ุ ููููู ุจุฐูุงุก ุจุชุญููู ุงูุฃุฌุฒุงุก ุงูุฌุฏูุฏุฉ ูู ุงูููู ุงูุนุงููู. <br><br>  ุนู ุทุฑูู ุงูุฐูุงุก ูุนูู ุฃูู ููุฑุฑ ุจุจุณุงุทุฉ ุชุญุฏูุฏ ุงูุฃุฌุฒุงุก ุงูุฌุฏูุฏุฉ ุงูุชู ุณูุชู ุชุญููููุง ุ ููุฑุฒูุง ุญุณุจ ูููุนูุง ูู ููู ุงูุญูุธ ุ ุซู ุงูููุงู ุจุชูุฑูุฑุฉ ูุงุญุฏุฉ.  ูู ุดูุก ุจุณูุท ุฌุฏุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> World::bufferChunks(View view){ <span class="hljs-comment"><span class="hljs-comment">//Load / Reload all Visible Chunks evaluateBlueprint(blueprint); //Chunks that should be loaded glm::vec3 a = glm::floor(view.viewPos/glm::vec3(chunkSize))-view.renderDistance; glm::vec3 b = glm::floor(view.viewPos/glm::vec3(chunkSize))+view.renderDistance; //Can't exceed a certain size a = glm::clamp(a, glm::vec3(0), dim-glm::vec3(1)); b = glm::clamp(b, glm::vec3(0), dim-glm::vec3(1)); //Chunks that need to be removed / loaded std::stack&lt;int&gt; remove; std::vector&lt;glm::vec3&gt; load; //Construct the Vector of chunks we should load for(int i = ax; i &lt;= bx; i ++){ for(int j = ay; j &lt;= by; j ++){ for(int k = az; k &lt;= bz; k ++){ //Add the vector that we should be loading load.push_back(glm::vec3(i, j, k)); } } } //Loop over all existing chunks for(unsigned int i = 0; i &lt; chunks.size(); i++){ //Check if any of these chunks are outside of the limits if(glm::any(glm::lessThan(chunks[i].pos, a)) || glm::any(glm::greaterThan(chunks[i].pos, b))){ //Add the chunk to the erase pile remove.push(i); } //Don't reload chunks that remain for(unsigned int j = 0; j &lt; load.size(); j++){ if(glm::all(glm::equal(load[j], chunks[i].pos))){ //Remove the element from load load.erase(load.begin()+j); } } //Flags for the Viewclass to use later updateModels = remove; //Loop over the erase pile, delete the relevant chunks. while(!remove.empty()){ chunks.erase(chunks.begin()+remove.top()); remove.pop(); } //Check if we want to load any guys if(!load.empty()){ //Sort the loading vector, for single file-pass std::sort(load.begin(), load.end(), [](const glm::vec3&amp; a, const glm::vec3&amp; b) { if(ax &gt; bx) return true; if(ax &lt; bx) return false; if(ay &gt; by) return true; if(ay &lt; by) return false; if(az &gt; bz) return true; if(az &lt; bz) return false; return false; }); boost::filesystem::path data_dir( boost::filesystem::current_path() ); data_dir /= "save"; data_dir /= saveFile; std::ifstream in((data_dir/"world.region").string()); Chunk _chunk; int n = 0; while(!load.empty()){ //Skip Lines (this is dumb) while(n &lt; load.back().x*dim.z*dim.y+load.back().y*dim.z+load.back().z){ in.ignore(1000000,'\n'); n++; } //Load the Chunk { boost::archive::text_iarchive ia(in); ia &gt;&gt; _chunk; chunks.push_back(_chunk); load.pop_back(); } } in.close(); } }</span></span></code> </pre> <br><div class="oembed" style=";text-align:right;direction:rtl"><div style=";text-align:right;direction:rtl"><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;;text-align:right;direction:rtl"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  ูุชุตูุญู ูุง ูุฏุนู ููุฏูู HTML5. <source src="http://weigert.vsos.ethz.ch/wp-content/uploads/2019/10/chunkload.mp4" type="video/mp4"></video></div></div></div><br>  <i>ูุซุงู ุนูู ุดุธุงูุง ุงูุชุญููู ุจูุณุงูุฉ ุชูุฏูู ุตุบูุฑุฉ.</i>  <i>ุชุญุฏุซ ุขุซุงุฑ ุชุดููู ุงูุดุงุดุฉ ุจุณุจุจ ุจุฑูุงูุฌ ุชุณุฌูู ุงูููุฏูู.</i>  <i>ุชุญุฏุซ ุทูุฑุงุช ููุญูุธุฉ ูู ุงูุชูุฒููุงุช ูู ุจุนุถ ุงูุฃุญูุงู ุ ููุฑุฌุน ุฐูู ุฃุณุงุณุง ุฅูู ุงูุดุจูุงุช</i> <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ููุช ุจุชุนููู ุนูุงูุฉ ุชุดูุฑ ุฅูู ุฃูู ูุฌุจ ุนูู ุงูุนุงุฑุถ ุฅุนุงุฏุฉ ุฅูุดุงุก ุดุจูุฉ ุงูุฌุฒุก ุงููุญูู. <br><br><h4 style=";text-align:right;direction:rtl">  ูุฆุฉ ูุฎุทุท ู editBuffer </h4><br>  editBuffer ุนุจุงุฑุฉ ุนู ุญุงููุฉ bufferObjects ูุงุจูุฉ ูููุฑุฒ ุชุญุชูู ุนูู ูุนูููุงุช ุญูู ุงูุชุญุฑูุฑ ูู ูุณุงุญุฉ ุงูุนุงูู ููุณุงุญุฉ ุงูุดุธุงูุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//EditBuffer Object Struct struct bufferObject { glm::vec3 pos; glm::vec3 cpos; BlockType type; }; //Edit Buffer! std::vector&lt;bufferObject&gt; editBuffer;</span></span></code> </pre> <br>  ุฅุฐุง ุ ุนูุฏ ุฅุฌุฑุงุก ุชุบููุฑุงุช ุนูู ุงูุนุงูู ุ ูุชุงุจุชูุง ุฅูู ููู ููุฑ ุฅุฌุฑุงุก ุงูุชุบููุฑ ุ ูุณูุชุนูู ุนูููุง ููู ุงูููู ุงููุตู ุจุงููุงูู ููุชุงุจุฉ ูู ุชุบููุฑ.  ูุฐุง ุฃูุฑ ูุธูุน ูู ุญูุซ ุงูุฃุฏุงุก. <br><br>  ูุฐูู ุฃููุงู ุ ุฃูุชุจ ูู ุงูุชุบููุฑุงุช ุงูุชู ูุฌุจ ุฅุฌุฑุงุคูุง ุนูู editBuffer ุจุงุณุชุฎุฏุงู ุทุฑููุฉ addEditBuffer (ุงูุชู ุชุญุณุจ ุฃูุถูุง ููุถุน ุงูุชุบููุฑุงุช ูู ูุณุงุญุฉ ุงูุฌุฒุก).  ูุจู ูุชุงุจุชูุง ูู ููู ุ ุฃูุฑุฒ ุงูุชุบููุฑุงุช ุญุณุจ ุชุฑุชูุจ ุงูุฃุฌุฒุงุก ุงูุชู ุชูุชูู ุฅูููุง ููููุง ููููุนูุง ูู ุงูููู. <br><br>  ุชุชููู ูุชุงุจุฉ ุงูุชุบููุฑุงุช ุนูู ููู ูู ููู ููู ูุงุญุฏ ุ ูุชุญููู ูู ุณุทุฑ (ุฃู ุฌุฒุก) ุ ุญูุซ ุชูุฌุฏ ุชุบููุฑุงุช ุนูู editBuffer ุ ูุฅุฌุฑุงุก ุฌููุน ุงูุชุบููุฑุงุช ุ ููุชุงุจุชูุง ุฅูู ููู ูุคูุช ุญุชู ูุตุจุญ editBuffer ูุงุฑุบูุง.  ูุชู ุฐูู ูู ูุธููุฉ <code>evaluateBlueprint()</code> ุ ููู ุณุฑูุน ุจูุง ููู ุงูููุงูุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> World::evaluateBlueprint(Blueprint &amp;_blueprint){ <span class="hljs-comment"><span class="hljs-comment">//Check if the editBuffer isn't empty! if(_blueprint.editBuffer.empty()){ return false; } //Sort the editBuffer std::sort(_blueprint.editBuffer.begin(), _blueprint.editBuffer.end(), std::greater&lt;bufferObject&gt;()); //Open the File boost::filesystem::path data_dir(boost::filesystem::current_path()); data_dir /= "save"; data_dir /= saveFile; //Load File and Write File std::ifstream in((data_dir/"world.region").string()); std::ofstream out((data_dir/"world.region.temp").string(), std::ofstream::app); //Chunk for Saving Data Chunk _chunk; int n_chunks = 0; //Loop over the Guy while(n_chunks &lt; dim.x*dim.y*dim.z){ if(in.eof()){ return false; } //Archive Serializers boost::archive::text_oarchive oa(out); boost::archive::text_iarchive ia(in); //Load the Chunk ia &gt;&gt; _chunk; //Overwrite relevant portions while(!_blueprint.editBuffer.empty() &amp;&amp; glm::all(glm::equal(_chunk.pos, _blueprint.editBuffer.back().cpos))){ //Change the Guy _chunk.setPosition(glm::mod(_blueprint.editBuffer.back().pos, glm::vec3(chunkSize)), _blueprint.editBuffer.back().type); _blueprint.editBuffer.pop_back(); } //Write the chunk back oa &lt;&lt; _chunk; n_chunks++; } //Close the fstream and ifstream in.close(); out.close(); //Delete the first file, rename the temp file boost::filesystem::remove_all((data_dir/"world.region").string()); boost::filesystem::rename((data_dir/"world.region.temp").string(),(data_dir/"world.region").string()); //Success! return true; }</span></span></code> </pre> <br>  ุชุญุชูู ูุฆุฉ ุงููุฎุทุทุงุช ุนูู editBuffer ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงูุนุฏูุฏ ูู ุงูุทุฑู ุงูุชู ุชุณูุญ ูู ุจุฅูุดุงุก editBuffers ููุงุฆูุงุช ูุญุฏุฏุฉ (ุงูุฃุดุฌุงุฑ ุ ุงูุตุจุงุฑ ุ ุงูุฃููุงุฎ ุ ุฅูุฎ).  ุจุนุฏ ุฐูู ุ ูููู ุชุญููู ุงููุฎุทุท ุฅูู ุงูููุถุน ุงูุฐู ุชุฑูุฏ ูุถุน ุงููุงุฆู ููู ุ ุซู ุงูุชุจู ุฅูู ุฐุงูุฑุฉ ุงูุนุงูู. <br><br>  ูุงุญุฏุฉ ูู ุฃูุจุฑ ุงูุตุนูุจุงุช ุนูุฏ ุงูุนูู ูุน ุงูุฃุฌุฒุงุก ูู ุฃู ุงูุชุบููุฑุงุช ูู ุนุฏุฉ ูุชู ุจูู ุญุฏูุฏ ุงูุฃุฌุฒุงุก ูููู ุฃู ุชููู ุนูููุฉ ุฑุชูุจุฉ ูุน ุงููุซูุฑ ูู ูุนุงูู ุงูุญุณุงุจ ูุชูุณูู ุงูุชุบููุฑุงุช ุฅูู ุนุฏุฉ ุฃุฌุฒุงุก.  ูุฐู ูู ุงููุดููุฉ ุงูุฑุฆูุณูุฉ ุงูุชู ุชุนุงูุฌ ูุฆุฉ ุงููุฎุทุท ุจุจุฑุงุนุฉ. <br><br>  ุฃูุง ุงุณุชุฎุฏุงููุง ุจูุดุงุท ูู ูุฑุญูุฉ ุงูุฌูู ุงูุนุงููู ูุชูุณูุน "ุนูู ุงูุฒุฌุงุฌุฉ" ููุชุงุจุฉ ุงูุชุบููุฑุงุช ุนูู ููู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> World::generate(){ <span class="hljs-comment"><span class="hljs-comment">//Create an editBuffer that contains a flat surface! blueprint.flatSurface(dim.x*chunkSize, dim.z*chunkSize); //Write the current blueprint to the world file. evaluateBlueprint(blueprint); //Add a tree Blueprint _tree; evaluateBlueprint(_tree.translate(glm::vec3(x, y, z))); }</span></span></code> </pre> <br>  ุชุฎุฒู ุงููุฆุฉ ุงูุนุงูููุฉ ูุฎุทุทูุง ุงูุฎุงุต ุจุงูุชุบููุฑุงุช ุงูุชู ุชู ุฅุฌุฑุงุคูุง ุนูู ุงูุนุงูู ุ ุจุญูุซ ูุชู ุงุณุชุฏุนุงุก ุฌููุน ุงูุชุบููุฑุงุช ุฅูู ุงููุฑุต ุงูุซุงุจุช ูู ูุณุงุฑ ูุงุญุฏ ุซู ูุชู ุญุฐููุง ูู ุงูุฐุงูุฑุฉ ุงูุธุงูุฑูุฉ ุนูุฏูุง ูุชู ุงุณุชุฏุนุงุก bufferChunks (). <br><br><h3 style=";text-align:right;direction:rtl">  ุฃุฏุงุก </h3><br>  ุงูุนุงุฑุถ ูู ุจููุชู ููุณ ูุนูุฏูุง ููุบุงูุฉ ุ ูููู ูุชุทูุจ ูุนุฑูุฉ OpenGL ููููู.  ููุณุช ุฌููุน ุฃุฌุฒุงุฆูุง ูุซูุฑุฉ ููุงูุชูุงู ุ ุฎุงุตุฉ ุฃููุง ูุบููุงุช ูุธุงุฆู OpenGL.  ููุฏ ุฌุฑุจุช ุงูุชุตูุฑ ูุจุนุถ ุงูููุช ููุญุตูู ุนูู ูุง ูุนุฌุจูู. <br><br>  ูุธุฑูุง ูุฃู ุงููุญุงูุงุฉ ููุณุช ูู ุงูุดุฎุต ุงูุฃูู ุ ููุฏ ุงุฎุชุฑุช ุงูุฅุณูุงุท ุงููุฌุงุฆู.  ูููู ุชูููุฐู ุจุชูุณูู pseudo-3D (ุนูู ุณุจูู ุงููุซุงู ุ ูุจูุงุทุงุช ูุง ูุจู ุงููุดุฑูุน ูุชุฑุงูุจูุง ูู ุนุงุฑุถ ุจุฑุงูุฌ) ุ ูููู ุจุฏุง ุงูุฃูุฑ ุณุฎูููุง ุจุงููุณุจุฉ ูู.  ุฃูุง ุณุนูุฏ ูุฃููู ุชุญููุช ุฅูู ุงุณุชุฎุฏุงู ุจุฑูุงูุฌ OpenGL. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/61e/923/40e/61e92340e2801dc8f6dd63b54badc438.png"></div><br>  ุชุณูู ุงููุฆุฉ ุงูุฃุณุงุณูุฉ ููุนุฑุถ "ุนุฑุถ" ุ ููู ุชุญุชูู ุนูู ูุนุธู ุงููุชุบูุฑุงุช ุงููููุฉ ุงูุชู ุชุชุญูู ูู ุชุตูุฑ ุงููุญุงูุงุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุญุฌู ุงูุดุงุดุฉ ูุงููููุณ ุงูุธู </li><li style=";text-align:right;direction:rtl">  ูุงุฆูุงุช ุชุธููู ุ ูุงููุฑุง ุ ูุตูููุฉ ุ ุฅูุฎ. ุนูุงูู ุงูุชูุจูุฑ </li><li style=";text-align:right;direction:rtl">  ุงูููู ุงูููุทููุฉ ููู ูุธุงุฆู ุงูุนุงุฑุถ ุชูุฑูุจูุง <ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงููุงุฆูุฉ ุ ุงูุถุจุงุจ ุ ุนูู ุงููุฌุงู ุ ูุณูุฌ ุงูุญุจูุจ ุ ุฅูุฎ. </li></ul></li><li style=";text-align:right;direction:rtl">  ุฃููุงู ููุฅุถุงุกุฉ ุ ุงูุถุจุงุจ ุ ุงูุณูุงุก ุ ุงุฎุชูุงุฑ ุงููุงูุฐุฉ ุ ุฅูุฎ. </li></ul><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ููุงู ุงูุนุฏูุฏ ูู ูุฆุงุช ุงููุณุงุนุฏุฉ ุงูุชู ุชุคุฏู ุนูููุฉ ุงูุชูุฏูู ูุงูุชูุงู ูุจุฑูุงูุฌ OpenGL ููุณู! <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุทุจูุฉ ุดุงุฏุฑ <ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุญููู ููุฌูุน ููุฌูุน ููุณุชุฎุฏู ุชุธููู GLSL </li></ul></li><li style=";text-align:right;direction:rtl">  ูุฆุฉ ุงููููุฐุฌ <ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุญุชูู ุนูู ุฃุฌุฒุงุก ุจูุงูุงุช VAO (ูุงุฆู Vertex Arrays Object) ููุนุฑุถ ุ ููุธููุฉ ุฅูุดุงุก ุงูุดุจูุงุช ูุทุฑููุฉ ุงูุชุฌุณูุฏ. </li></ul></li><li style=";text-align:right;direction:rtl">  ููุญุฉ ูุฆุฉ <ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุญุชูู ุนูู FBO (ูุงุฆู FrameBuffer) ูุนุฑุถู - ูููุฏ ูุฅูุดุงุก ุชุฃุซูุฑุงุช ูุง ุจุนุฏ ุงููุนุงูุฌุฉ ูุงูุชุธููู. </li></ul></li><li style=";text-align:right;direction:rtl">  ุงูุทุจูุฉ ุงูุนูุฑูุช <ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฑุณู ุงุชุฌุงู ุฑุจุงุนู ุงูุงุชุฌุงู ุจุงููุณุจุฉ ูููุงููุฑุง ุ ููุชู ุชุญูููู ูู ููู ูุณูุฌ (ููุฑูุจูุชุงุช ูุงููุงุฆูุงุช).  ูููู ุฃูุถุง ุงูุชุนุงูู ูุน ุงูุฑุณูู ุงููุชุญุฑูุฉ! </li></ul></li><li style=";text-align:right;direction:rtl">  ุงูุทุจูุฉ ูุงุฌูุฉ <ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููุนูู ูุน ImGUI </li></ul></li><li style=";text-align:right;direction:rtl">  ูุฆุฉ ุงูุตูุช <ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฏุนู ุตูุช ุจุฏุงุฆู ููุบุงูุฉ (ุฅุฐุง ููุช ุจุชุฑุฌูุฉ ุงููุญุฑู ุ ูุงุถุบุท ุนูู "M") </li></ul></li></ul><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/6e5/0f3/ef6/6e50f3ef66d7d71dd5ae76b94b3c168a.png"></div><br>  <i>ุงุฑุชูุงุน ุนูู ุงููุฌุงู (DOF).</i>  <i>ุนูู ูุณุงูุงุช ุชูุฏูู ูุจูุฑุฉ ุ ูููู ุฃู ูููู ุจุทูุฆูุง ุ ูููู ูุนูุช ูู ูุฐุง ุนูู ุฌูุงุฒ ุงูููุจููุชุฑ ุงููุญููู.</i>  <i>ุฑุจูุง ุนูู ุฌูุงุฒ ููุจููุชุฑ ุฌูุฏ ุณุชููู ุงููุฑุงูู ุบูุฑ ูุฑุฆูุฉ.</i>  <i>ุฃูุง ุฃููู ุฃูู ูุฌูุฏ ุนููู ููุนู ุฐูู ูููุชุนุฉ ููุท.</i> <br><br>  ุชูุถุญ ุงูุตูุฑุฉ ุฃุนูุงู ุจุนุถ ุงููุนููุงุช ุงูุชู ูููู ุชุบููุฑูุง ุฃุซูุงุก ุงููุนุงูุฌุฉ.  ุฃูุง ุฃูุถุง ุชูููุฐ ุงูุชุญูู ุฅูู ูุถุน ููุก ุงูุดุงุดุฉ.  ุชูุธูุฑ ุงูุตูุฑุฉ ูุซุงููุง ูุนููุช ุจูุช ุชู ุชูุฏููู ุนูู ุดูู ุฑุจุงุนู ุงูุฃุทุฑุงู ููุฌู ูุญู ุงููุงููุฑุง.  ุชู ุจูุงุก ุงูููุงุฒู ูุงูุตุจุงุฑ ูู ุงูุตูุฑุฉ ุจุงุณุชุฎุฏุงู ูุฎุทุท. <br><br><h4 style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุชูุณุฌู ุงูุดุธุงูุง </h4><br>  ูู ุงูุจุฏุงูุฉ ุ ุงุณุชุฎุฏูุช ุงูุฅุตุฏุงุฑ ุงูุณุงุฐุฌ ูุฅูุดุงุก ุงูุดุจูุงุช: ููุฏ ููุช ุจุจุณุงุทุฉ ุจุฅูุดุงุก ููุนุจ ูุฑุคูุณ ุชู ุฅููุงููุง ููู ุชูุณ ูุณุงุญุฉ ูุงุฑุบุฉ.  ููุน ุฐูู ุ ูุงู ูุฐุง ุงูุญู ุจุทูุฆูุง ุ ูุนูุฏ ุชุญููู ุฃุฌุฒุงุก ุฌุฏูุฏุฉ ุ ุงุชุถุญ ุฃู ุฅูุดุงุก ุงูุดุจูุงุช ูููู "ุงุฎุชูุงูุงุช" ุฃูุซุฑ ุถูููุง ูู ุงููุตูู ุฅูู ุงูููู. <br><br>  ูุงูุช ุงููุดููุฉ ุงูุฑุฆูุณูุฉ ูู ุงูุฅูุดุงุก ุงููุนุงู ูุดุธุงูุง VBOs ุงูููุฏูุฉ ุ ููููู ุชูููุช ูู ุชูููุฐ ุงูุฅุตุฏุงุฑ C ++ ุงูุฎุงุต ุจู ูู "ุงูุฑุจุท ุงูุฌุดุน" (ุงูุฑุจุท ุงูุฌุดุน) ุ ุงููุชูุงูู ูุน OpenGL (ุจุฏูู ููุงูู ุบุฑูุจุฉ ูุน ุงูุญููุงุช).  ููููู ุงุณุชุฎุฏุงู ุงูููุฏ ุงูุฎุงุต ุจู ุจุถููุฑ ูุฑุชุงุญ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Model::fromChunkGreedy(Chunk chunk){ <span class="hljs-comment"><span class="hljs-comment">//... (this is part of the model class - find on github!) }</span></span></code> </pre> <br>  ุจุดูู ุนุงู ุ ุฃุฏู ุงูุงูุชูุงู ุฅูู ุงูุชุดุจูู ุงูุฌุดุน ุฅูู ุชูููู ุนุฏุฏ ุงูุฒูุงูุง ุงููุฑุจูุทุฉ ุจูุนุฏู 60ูช.  ุจุนุฏ ุฐูู ุ ุจุนุฏ ูุฒูุฏ ูู ุงูุชุญุณููุงุช ุงูุทูููุฉ (ููุฑุณุฉ VBO) ุ ุชู ุชุฎููุถ ุงูุฑูู ุจููุฏุงุฑ ุงูุซูุซ ุงูุขุฎุฑ (ูู 6 ุฑุคูุณ ุฅูู ุงูุญุงูุฉ ุฅูู 4 ุฑุคูุณ). <br><br>  ุนูุฏ ุนุฑุถ ูุดูุฏ ุจุญุฌู 5 ร 1 ร 5 ูู ูุงูุฐุฉ ุบูุฑ ููุชููุฉ ุ ุฃุญุตู ุนูู ูุนุฏู ุญูุงูู 140 ุฅุทุงุฑูุง ูู ุงูุซุงููุฉ (ูุน ุชุนุทูู VSYNC). <br><br>  ุนูู ุงูุฑุบู ูู ุฃููู ุณุนูุฏ ุฌุฏูุง ุจูุฐู ุงููุชูุฌุฉ ุ ุฅูุง ุฃููู ูุง ุฒูุช ุฃุฑุบุจ ูู ุงูุชูุตู ุฅูู ูุธุงู ูุชูุฏูู ููุงุฐุฌ ุบูุฑ ููุนุจุฉ ูู ุงูุจูุงูุงุช ุงูุนุงูููุฉ.  ููุณ ูู ุงูุณูู ุงูุงูุฏูุงุฌ ูุน ุงูุชุดุงุจู ุงูุฌุดุน ุ ูุฐูู ูุฌุฏุฑ ุงูุชูููุฑ ููู. <br><br><h4 style=";text-align:right;direction:rtl">  ุชุธููู ู voxel ุชุณููุท ุงูุถูุก </h4><br>  ูุนุฏ ุชุทุจูู ุชุธููู GLSL ุฃุญุฏ ุฃูุซุฑ ุงูุฃุฌุฒุงุก ุฅุซุงุฑุฉ ููุงูุชูุงู ููู ุงูููุช ููุณู ุงูุฃุฌุฒุงุก ุงููุฒุนุฌุฉ ููุชุงุจุฉ ุงููุญุฑู ูุธุฑูุง ูุชุนููุฏ ุชุตุญูุญ ุงูุฃุฎุทุงุก ุนูู ูุญุฏุฉ ูุนุงูุฌุฉ ุงูุฑุณููุงุช.  ุฃูุง ูุณุช ูุชุฎุตุตูุง ูู GLSL ุ ูุฐูู ูุงู ุนูู ุฃู ุฃุชุนูู ุงููุซูุฑ ุฃุซูุงุก ุงูุชููู. <br><br>  ุชุณุชุฎุฏู ุงูุชุฃุซูุฑุงุช ุงูุชู ููุช ุจุชุทุจูููุง ุจูุดุงุท ุงุณุชุฎุฏุงู FBO ูุฃุฎุฐ ุนููุงุช ุงููุณูุฌ (ุนูู ุณุจูู ุงููุซุงู ุ ุนุฏู ูุถูุญ ุงูุชุธููู ูุงุณุชุฎุฏุงู ูุนูููุงุช ุงูุนูู). <br><br>  ูุง ุฒูุช ูุง ุฃุญุจ ุทุฑุงุฒ ุงูุฅุถุงุกุฉ ุงูุญุงูู ุ ูุฃูู ูุง ูุนุงูุฌ "ุงูุธูุงู" ุฌูุฏูุง.  ุขูู ุฃู ูุชู ุฅุตูุงุญ ุฐูู ูู ุงููุณุชูุจู ุนูุฏูุง ุฃุนูู ุนูู ุฏูุฑุฉ ุชุบููุฑ ุงูููุงุฑ ูุงูููู. <br><br>  ููุช ุฃูุถูุง ุจุชูููุฐ ูุธููุฉ ุงุฎุชูุงุฑ voxel ุจุณูุทุฉ ุจุงุณุชุฎุฏุงู ุฎูุงุฑุฒููุฉ Bresenham ุงููุนุฏูุฉ (ูุฐู ููุฒุฉ ุฃุฎุฑู ูุงุณุชุฎุฏุงู voxels).  ูู ุงููููุฏ ุงูุญุตูู ุนูู ูุนูููุงุช ููุงููุฉ ุฃุซูุงุก ุงููุญุงูุงุฉ.  ูุนูู ุชุทุจููู ููุท ุนูู ุงูุฅุณูุงุทุงุช ุงููุฌุงุฆูุฉ ุ ูููู ููููู ุงุณุชุฎุฏุงูู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/c60/020/f2c/c60020f2cd1b4507152fdee4ef16e0ea.png"></div><br>  <i>"ุชุณููุท ุงูุถูุก" ุงูููุทูู.</i> <br><br><h3 style=";text-align:right;direction:rtl">  ูุตูู ุงููุนุจุฉ </h3><br>  ุชู ุฅูุดุงุก ุงูุนุฏูุฏ ูู ุงููุฆุงุช ุงููุณุงุนุฏุฉ ููุนุงูุฌุฉ ุงููุฏุฎูุงุช ูุชุตุญูุญ ุงูุฑุณุงุฆู ุจุงูุฅุถุงูุฉ ุฅูู ูุตู ุนูุตุฑ ูููุตู ูุน ูุธุงุฆู ุฃุณุงุณูุฉ (ูุงูุชู ุณูุชู ุชูุณูุนูุง ุฃูุซุฑ). <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">eventHandler</span></span></span><span class="hljs-class">{</span></span> <span class="hljs-comment"><span class="hljs-comment">/* This class handles user input, creates an appropriate stack of activated events and handles them so that user inputs have continuous effect. */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: <span class="hljs-comment"><span class="hljs-comment">//Queued Inputs std::deque&lt;SDL_Event*&gt; inputs; //General Key Inputs std::deque&lt;SDL_Event*&gt; scroll; //General Key Inputs std::deque&lt;SDL_Event*&gt; rotate; //Rotate Key Inputs SDL_Event* mouse; //Whatever the mouse is doing at a moment SDL_Event* windowevent; //Whatever the mouse is doing at a moment bool _window; bool move = false; bool click = false; bool fullscreen = false; //Take inputs and add them to stack void input(SDL_Event *e, bool &amp;quit, bool &amp;paused); //Handle the existing stack every tick void update(World &amp;world, Player &amp;player, Population &amp;population, View &amp;view, Audio &amp;audio); //Handle Individual Types of Events void handlePlayerMove(World &amp;world, Player &amp;player, View &amp;view, int a); void handleCameraMove(World &amp;world, View &amp;view); };</span></span></code> </pre> <br>  ูุนุงูุฌ ุงูุฃุญุฏุงุซ ุงูุฎุงุต ุจู ูุจูุญ ุ ูููู ุนููู.  ุณุฃูุจู ุจูู ุณุฑูุฑ ุชูุตูุงุช ูุชุญุณูููุง ุ ุฎุงุตุฉ ูููุง ูุชุนูู ุจุงุณุชุฎุฏุงู SDL Poll Event. <br><br><h2 style=";text-align:right;direction:rtl">  ุขุฎุฑ ุงูููุงุญุธุงุช </h2><br>  ุงููุญุฑู ููุณู ูู ูุฌุฑุฏ ูุธุงู ุฃุถุน ููู ุฑูุจูุชุงุช ุงูููุงู ุงูุฎุงุตุฉ ุจู (ุณุฃุชุญุฏุซ ุนููุง ุจุงูุชูุตูู ูู ุงูููุดูุฑ ุงูุชุงูู).  ูููู ุฅุฐุง ูุฌุฏุช ุฃุณุงููุจู ูุซูุฑุฉ ููุงูุชูุงู ูุชุฑูุฏ ูุนุฑูุฉ ุงููุฒูุฏ ุ ูุงูุชุจ ูู. <br><br>  ุจุนุฏ ุฐูู ููุช ุจููู ูุธุงู bot (ุงูููุจ ุงูุญูููู ููุฐุง ุงููุดุฑูุน) ุฅูู ุงูุนุงูู ุซูุงุซู ุงูุฃุจุนุงุฏ ูููุช ุจุชูุณูุน ูุฏุฑุงุชู ุจุดูู ูุจูุฑ ุ ูููู ุงููุฒูุฏ ุนู ุฐูู ูุงุญููุง (ููุน ุฐูู ุ ุชู ูุดุฑ ุงูููุฏ ุจุงููุนู ุนุจุฑ ุงูุฅูุชุฑูุช)! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar474414/">https://habr.com/ru/post/ar474414/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar474400/index.html">ุงูุฎุฑุงูุงุช ุญูู ุชูุงูุฑ ุชุจุงูู ุงูุฃููุงู</a></li>
<li><a href="../ar474402/index.html">Vavr Collections Guide Guide</a></li>
<li><a href="../ar474404/index.html">ุชุญููู ุงููุดููุงุช ุงูุชู ุชู ุญููุง ูู ุจุทููุฉ ุงูุจุฑูุฌุฉ ูู Yandex (ุชุทููุฑ ุงููุงุฌูุฉ ุงูุฃูุงููุฉ) 2019</a></li>
<li><a href="../ar474406/index.html">ุธููุฑ BlueKeep ุงูุฃูู ูู ุงูุจุฑูุฉ ุงููุณุฌูุฉ</a></li>
<li><a href="../ar474408/index.html">ุซูุฑุฉ ุฃู ุชุทูุฑ ุทุฑุงุฒ ูุงุฆู ุงูุตูุญุฉุ</a></li>
<li><a href="../ar474418/index.html">ูุคุชูุฑ DEFCON 27. ุงูุงุณุชูุงุฏุฉ ูู ููุชุฌุงุช ุงููุฑุตูุฉ ููุธุงู ุงูุชุดุบูู MacOS. ุงูุฌุฒุก 1</a></li>
<li><a href="../ar474420/index.html">ุชุดููู ุงูุญุฑุงุฑุฉ: ููู ุญุฏุซ ุฐูู</a></li>
<li><a href="../ar474422/index.html">ุฅุซุงุฑุฉ ุงูููุตุงุช ููุชูุญุฉ ุงููุตุฏุฑ ูุชุทููุฑ ุชุทุจููุงุช ุงููุงุชู ุงููุญููู</a></li>
<li><a href="../ar474424/index.html">ุงูุชุฏุฑูุจ ุงููุฎุชูุท - ูุง ูู ูููู ูุนูู</a></li>
<li><a href="../ar474426/index.html">ุณูุณูุฉ ุงูุฑุณูู ุงููุชุญุฑูุฉ "ุงูุฏุงุฆุฑุฉ ุงูุฑูุงุถูุฉ"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>