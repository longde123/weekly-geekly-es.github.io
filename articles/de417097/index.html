<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçπ ‚úçüèø üêö JavaScript-Metaprogrammierung üë£ ‚õ±Ô∏è üÖæÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Metaprogrammierung ist eine Art der Programmierung, die mit der Erstellung von Programmen verbunden ist, die aufgrund ihrer Arbeit andere Programme ge...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>JavaScript-Metaprogrammierung</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/docsvision/blog/417097/"><blockquote>  Metaprogrammierung ist eine Art der Programmierung, die mit der Erstellung von Programmen verbunden ist, die aufgrund ihrer Arbeit andere Programme generieren, oder von Programmen, die sich w√§hrend der Ausf√ºhrung selbst √§ndern.  (Wikipedia) </blockquote><p>  In einer einfacheren Sprache kann die Metaprogrammierung in JavaScript als Mechanismus betrachtet werden, mit dem Sie das Programm je nach Aktion in Echtzeit analysieren und √§ndern k√∂nnen.  Und h√∂chstwahrscheinlich verwenden Sie sie irgendwie, wenn Sie jeden Tag Skripte schreiben. </p><a name="habracut"></a><br><p>  JavaScript ist von Natur aus eine sehr leistungsf√§hige dynamische Sprache und erm√∂glicht es Ihnen, flexiblen Code gut zu schreiben: </p><br><pre><code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** *   save-    */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> comment = { <span class="hljs-attr"><span class="hljs-attr">authorId</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">comment</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> name <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> comment) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pascalCasedName = name.slice(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>).toUpperCase() + name.slice(<span class="hljs-number"><span class="hljs-number">1</span></span>); comment[<span class="hljs-string"><span class="hljs-string">`save</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${pascalCasedName}</span></span></span><span class="hljs-string">`</span></span>] = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   } } comment.saveAuthorId(); //  authorId comment.saveComment(); //  comment</span></span></code> </pre> <br><p>  √Ñhnlicher Code zum dynamischen Erstellen von Methoden in anderen Sprachen erfordert h√§ufig eine spezielle Syntax oder API.  Zum Beispiel ist PHP auch eine dynamische Sprache, die jedoch mehr Aufwand erfordert: </p><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Comment</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $authorId; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $comment; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($authorId, $comment)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;authorId = $authorId; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comment = $comment; } <span class="hljs-comment"><span class="hljs-comment">//       public function __call($methodName, $arguments) { foreach (get_object_vars($this) as $fieldName =&gt; $fieldValue) { $saveMethodName = "save" . strtoupper($fieldName[0]) . substr($fieldName, 1); if ($methodName == $saveMethodName) { //   } } } } $comment = new Comment(1, ''); $comment-&gt;saveAuthorId(); //  authorId $comment-&gt;saveComment(); //  comment</span></span></code> </pre> <br><p>  Zus√§tzlich zur flexiblen Syntax bieten wir eine Reihe n√ºtzlicher Funktionen zum Schreiben von dynamischem Code: Object.create, Object.defineProperty, Function.apply und viele andere. </p><br><p>  Betrachten Sie sie genauer. </p><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Codegenerierung</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mit Funktionen arbeiten</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mit Objekten arbeiten</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">API widerspiegeln</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Symbole</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Proxy</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fazit</a> </li></ol><br><h2 id="1-generaciya-koda">  1. Codegenerierung </h2><br><p>  Das Standardwerkzeug zum dynamischen Ausf√ºhren von Code ist die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Auswertungsfunktion</a> , mit der Sie Code aus der √ºbergebenen Zeichenfolge ausf√ºhren k√∂nnen: </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">eval</span></span>(<span class="hljs-string"><span class="hljs-string">'alert("Hello, world")'</span></span>);</code> </pre> <br><p>  Leider hat eval viele Nuancen: </p><br><ul><li>  Wenn unser Code im strengen Modus geschrieben ist ('use strict'), sind die in eval deklarierten Variablen im aufrufenden eval-Code nicht sichtbar.  Gleichzeitig kann der Code selbst in eval immer externe Variablen √§ndern. </li><li>  Der Code in eval kann sowohl im globalen Kontext (wenn er √ºber window.eval aufgerufen wird) als auch im Kontext der Funktion ausgef√ºhrt werden, in der der Aufruf ausgef√ºhrt wurde (wenn nur eval, ohne Fenster). </li><li>  Probleme k√∂nnen aufgrund der JS-Minimierung auftreten, wenn Variablennamen durch k√ºrzere ersetzt werden, um die Gr√∂√üe zu verringern.  Der Code, der als Zeichenfolge an eval √ºbergeben wird, ber√ºhrt normalerweise nicht den Minifier. Aus diesem Grund k√∂nnen wir mit alten nicht minimierten Namen auf externe Variablen zugreifen, was zu subtilen Fehlern f√ºhrt. </li></ul><br><p>  Es gibt eine gro√üartige Alternative zur L√∂sung dieser Probleme - eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">neue Funktion</a> . </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> hello = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Function</span></span>(<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'alert("Hello, " + name)'</span></span>); hello(<span class="hljs-string"><span class="hljs-string">''</span></span>) <span class="hljs-comment"><span class="hljs-comment">// alert("Hello, ");</span></span></code> </pre> <br><p>  Im Gegensatz zu eval k√∂nnen wir Parameter immer explizit durch die Argumente einer Funktion √ºbergeben und ihr dynamisch den Kontext geben (√ºber <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Function.apply</a> oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Function.call</a> ).  Dar√ºber hinaus wird die erstellte Funktion immer im globalen Bereich aufgerufen. </p><br><p>  In den alten Tagen wurde eval oft verwendet, um Code dynamisch zu √§ndern  JavaScript hatte nur sehr wenige Mechanismen zur Reflexion und es war unm√∂glich, auf eine Auswertung zu verzichten.  Im modernen Sprachstandard ist jedoch eine viel h√∂here Funktionalit√§t aufgetaucht, und die Bewertung wird jetzt viel seltener verwendet. </p><br><h2 id="2-rabota-s-funkciyami">  2. Arbeiten Sie mit Funktionen </h2><br><p>  JavaScript bietet uns viele hervorragende Tools f√ºr die dynamische Arbeit mit Funktionen, mit denen wir zur Laufzeit verschiedene Informationen √ºber die Funktion abrufen und √§ndern k√∂nnen: </p><br><ul><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Function.length</a> - Mit dieser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Funktion</a> k√∂nnen Sie die Anzahl der Argumente einer Funktion ermitteln: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> func = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name, surname</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Hello, </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${surname}</span></span></span><span class="hljs-string"> </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${name}</span></span></span><span class="hljs-string">`</span></span>) }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(func.length) <span class="hljs-comment"><span class="hljs-comment">// 2</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Function.apply</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Function.call</a> - Mit dieser Option k√∂nnen Sie den Kontext dieser Funktion dynamisch √§ndern: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> person = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">introduce</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">` </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.name}</span></span></span><span class="hljs-string">`</span></span>; } } person.introduce(); <span class="hljs-comment"><span class="hljs-comment">//   person.introduce.call({ name: '' }); //  </span></span></code> </pre> <br><p>  Sie unterscheiden sich nur dadurch, dass in Function.apply die Argumente f√ºr die Funktion als Array und in Function.call durch Kommas getrennt werden.  Diese Funktion wurde zuvor h√§ufig verwendet, um eine Liste von Argumenten als Array an die Funktion zu √ºbergeben.  Ein h√§ufiges Beispiel ist die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Math.max-</a> Funktion (standardm√§√üig funktioniert sie nicht mit Arrays): </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.max.apply(<span class="hljs-literal"><span class="hljs-literal">null</span></span>, [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>]); <span class="hljs-comment"><span class="hljs-comment">// 4</span></span></code> </pre> <br><p>  Mit dem Aufkommen des neuen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Spread-Operators k√∂nnen</a> Sie einfach Folgendes schreiben: </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.max(...[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>]); <span class="hljs-comment"><span class="hljs-comment">// 4</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Function.bind</a> - Erm√∂glicht das Erstellen einer Kopie einer Funktion aus einer vorhandenen, jedoch mit einem anderen Kontext: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> person = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">introduce</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">` </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.name}</span></span></span><span class="hljs-string">`</span></span>; } } person.introduce(); <span class="hljs-comment"><span class="hljs-comment">//   const introduceEgor = person.introduce.bind({ name: '' }); introduceEgor(); //  </span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Function.caller</a> - Erm√∂glicht das Abrufen der aufrufenden Funktion.  <strong>Es wird nicht empfohlen, es zu verwenden</strong> , da es im Sprachstandard nicht vorhanden ist und nicht im strengen Modus funktioniert.  Dies lag an der Tatsache, dass der Aufruf von Function.caller m√∂glicherweise zu falschen Ergebnissen f√ºhrt, wenn verschiedene JavaScript-Engines die in der Sprachspezifikation beschriebene <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Tail-Call-</a> Optimierung implementieren.  Anwendungsbeispiel: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(a.caller == b); } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> b = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ a(); } b(); <span class="hljs-comment"><span class="hljs-comment">// true</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Function.toString</a> - Gibt eine Zeichenfolgendarstellung der Funktion zur√ºck.  Dies ist eine sehr leistungsstarke Funktion, mit der Sie sowohl den Inhalt einer Funktion als auch ihre Argumente untersuchen k√∂nnen: </p><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> getFullName = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name, surname, middlename</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${surname}</span></span></span><span class="hljs-string"> </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${name}</span></span></span><span class="hljs-string"> </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${middlename}</span></span></span><span class="hljs-string">`</span></span>); } getFullName.toString() <span class="hljs-comment"><span class="hljs-comment">/* * "(name, surname, middlename) =&gt; { * console.log(`${surname} ${name} ${middlename}`); * }" */</span></span></code> </pre> <br><p>  Nachdem wir eine Zeichenfolgendarstellung einer Funktion erhalten haben, k√∂nnen wir sie analysieren und analysieren.  Dies kann beispielsweise verwendet werden, um die Namen von Funktionsargumenten abzurufen und je nach Namen automatisch den gew√ºnschten Parameter zu ersetzen.  Im Allgemeinen gibt es zwei M√∂glichkeiten zum Parsen: </p><br><ul><li>  Wenn Sie eine Reihe von Stammg√§sten analysieren, erhalten Sie ein akzeptables Ma√ü an Zuverl√§ssigkeit (funktioniert m√∂glicherweise nicht, wenn wir nicht alle m√∂glichen Arten von Funktionseintr√§gen abdecken). </li><li>  Wir erhalten die Zeichenfolgendarstellung der Funktion und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">f√ºgen</a> sie in den fertigen JavaScript-Parser (z. B. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Esprima</a> oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Eichel</a> ) ein. Anschlie√üend arbeiten wir mit dem strukturierten AST.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">AST-Parsing-Beispiel √ºber Esprima.</a>  Ich kann auch einen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">guten Bericht √ºber Parser</a> von Alexei Okhrimenko empfehlen. </li></ul><br></li></ul><br><p>  Einfache Beispiele mit regul√§rer Funktionsanalyse: </p><br><div class="spoiler">  <b class="spoiler_title">Eine Liste der Funktionsargumente abrufen</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** *    . * @param fn  */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> getFunctionParams = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">fn</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> COMMENTS = <span class="hljs-regexp"><span class="hljs-regexp">/(\/\/.*$)|(\/\*[\s\S]*?\*\/)|(\s*=[^,\)]*(('(?:\\'|[^'\r\n])*')|("(?:\\"|[^"\r\n])*"))|(\s*=[^,\)]*))/gm</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> DEFAULT_PARAMS = <span class="hljs-regexp"><span class="hljs-regexp">/=[^,]+/gm</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> FAT_ARROW = <span class="hljs-regexp"><span class="hljs-regexp">/=&gt;.*$/gm</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ARGUMENT_NAMES = <span class="hljs-regexp"><span class="hljs-regexp">/([^\s,]+)/g</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> formattedFn = fn .toString() .replace(COMMENTS, <span class="hljs-string"><span class="hljs-string">""</span></span>) .replace(FAT_ARROW, <span class="hljs-string"><span class="hljs-string">""</span></span>) .replace(DEFAULT_PARAMS, <span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> params = formattedFn .slice(formattedFn.indexOf(<span class="hljs-string"><span class="hljs-string">"("</span></span>) + <span class="hljs-number"><span class="hljs-number">1</span></span>, formattedFn.indexOf(<span class="hljs-string"><span class="hljs-string">")"</span></span>)) .match(ARGUMENT_NAMES); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> params || []; }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> getFullName = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name, surname, middlename</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(surname + <span class="hljs-string"><span class="hljs-string">' '</span></span> + name + <span class="hljs-string"><span class="hljs-string">' '</span></span> + middlename); }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(getFunctionParams(getFullName)); <span class="hljs-comment"><span class="hljs-comment">// ["name", "surname", "middlename"]</span></span></code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><br><div class="spoiler">  <b class="spoiler_title">K√∂rperfunktion bekommen</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** *     . * @param fn  */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> getFunctionBody = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">fn</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> restoreIndent = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">body</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> lines = body.split(<span class="hljs-string"><span class="hljs-string">"\n"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> bodyLine = lines.find(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">line</span></span></span><span class="hljs-function"> =&gt;</span></span> line.trim() !== <span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> indent = <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> bodyLine !== <span class="hljs-string"><span class="hljs-string">"undefined"</span></span> ? <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">/[ \t]*/</span></span></span></span><span class="hljs-function"><span class="hljs-params">.exec(bodyLine</span></span></span><span class="hljs-function">) || [])[0] : ""; </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">indent</span></span></span><span class="hljs-function"> = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">indent</span></span></span><span class="hljs-function"> || ""; </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">return</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">lines</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">map</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">line =&gt; line.replace(indent, </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">""</span></span></span></span></span><span class="hljs-function">)).</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">join</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"\n"</span></span></span></span></span><span class="hljs-function">); }; </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">const</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">fnStr</span></span></span><span class="hljs-function"> = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">fn</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">toString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">; </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">const</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">rawBody</span></span></span><span class="hljs-function"> = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">fnStr</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">substring</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> fnStr.indexOf(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"{"</span></span></span></span></span><span class="hljs-function">) + 1, </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">fnStr</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">lastIndexOf</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"}"</span></span></span></span></span><span class="hljs-function">) ); </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">const</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">indentedBody</span></span></span><span class="hljs-function"> = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">restoreIndent</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">rawBody</span></span></span><span class="hljs-function">); </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">const</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">trimmedBody</span></span></span><span class="hljs-function"> = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">indentedBody</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">replace</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">/^\s+|\s+$/g</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">""</span></span></span></span></span><span class="hljs-function">); </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">return</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">trimmedBody</span></span></span><span class="hljs-function">; }; //       </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getFullName</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">const</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getFullName</span></span></span><span class="hljs-function"> = (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name, surname, middlename</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(surname + <span class="hljs-string"><span class="hljs-string">' '</span></span> + name + <span class="hljs-string"><span class="hljs-string">' '</span></span> + middlename); }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(getFunctionBody(getFullName));</code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><br><p>  Es ist wichtig zu beachten, dass bei Verwendung des Minifizierers sowohl der Code selbst innerhalb der analysierten Funktion als auch seine Argumente optimiert werden k√∂nnen und sich daher √§ndern k√∂nnen. </p><br><h2 id="3-rabota-s-obektami">  3. Arbeiten Sie mit Objekten </h2><br><p>  JavaScript verf√ºgt √ºber ein globales Objektobjekt, das viele Methoden zum dynamischen Arbeiten mit Objekten enth√§lt. </p><br><p>  Die meisten dieser Methoden von dort existieren seit langem in der Sprache und sind weit verbreitet. </p><br><h3 id="svoystva-obekta">  Objekteigenschaften </h3><br><ul><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Object.assign</a> - um die Eigenschaften eines oder mehrerer Objekte bequem in das durch den ersten Parameter angegebene Objekt zu kopieren: </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.assign({}, { <span class="hljs-attr"><span class="hljs-attr">a</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">b</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">c</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span> }) <span class="hljs-comment"><span class="hljs-comment">// {a: 1, b: 2, c: 3}</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Object.keys</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Object.values</a> - gibt entweder eine Liste von Schl√ºsseln oder eine Liste von Objektwerten zur√ºck: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = { <span class="hljs-attr"><span class="hljs-attr">a</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">b</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">c</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span> }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.keys(obj)); <span class="hljs-comment"><span class="hljs-comment">// ["a", "b", "c"] console.log(Object.values(obj)); // [1, 2, 3]</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Object.entries</a> - gibt eine Liste seiner Eigenschaften im Format <em>[[key1, value1], [key2, value2]] zur√ºck</em> : </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = { <span class="hljs-attr"><span class="hljs-attr">a</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">b</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">c</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span> }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.entries(obj)); <span class="hljs-comment"><span class="hljs-comment">// [["a", 1], ["b", 2], ["c", 3]]</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Object.prototype.hasOwnProperty</a> - √úberpr√ºft, ob eine Eigenschaft in einem Objekt enthalten ist (nicht in seiner Prototypenkette): </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = { <span class="hljs-attr"><span class="hljs-attr">a</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> }; obj.__proto__ = { <span class="hljs-attr"><span class="hljs-attr">b</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span> }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(obj.hasOwnProperty(<span class="hljs-string"><span class="hljs-string">'a'</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// true console.log(obj.hasOwnProperty('b')) // false</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Object.getOwnPropertyNames</a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Gibt</a> eine Liste seiner eigenen Eigenschaften zur√ºck, einschlie√ülich aufgez√§hlter und nicht aufgez√§hlter: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = { <span class="hljs-attr"><span class="hljs-attr">a</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">b</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span> }; <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.defineProperty(obj, <span class="hljs-string"><span class="hljs-string">'c'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">enumerable</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }); <span class="hljs-comment"><span class="hljs-comment">//    for (let key in obj) { console.log(key); } // "a", "b" console.log(Object.getOwnPropertyNames(obj)); // [ "a", "b", "c" ]</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Object.getOwnPropertySymbols</a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Gibt</a> eine Liste eigener Zeichen (im Objekt und nicht in der Prototypenkette enthalten) zur√ºck: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = {}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = <span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>(<span class="hljs-string"><span class="hljs-string">'a'</span></span>); obj[a] = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getOwnPropertySymbols(obj)); <span class="hljs-comment"><span class="hljs-comment">// [ Symbol(a) ]</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Object.prototype.propertyIsEnumerable</a> - √úberpr√ºft, ob eine Eigenschaft aufz√§hlbar ist (z. B. in for- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">in-</a> und for-of-Schleifen verf√ºgbar ist): </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> arr = [ <span class="hljs-string"><span class="hljs-string">' '</span></span> ]; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(arr.propertyIsEnumerable(<span class="hljs-number"><span class="hljs-number">0</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// true ‚Äî  ' '   console.log(arr.propertyIsEnumerable('length')); // false ‚Äî  length   </span></span></code> </pre> <br></li></ul><br><h3 id="deskriptory-svoystv-obekta">  Objekteigenschaftsbeschreibungen </h3><br><p>  Mit Deskriptoren k√∂nnen Sie die Eigenschaftsparameter optimieren.  Mit ihnen k√∂nnen wir bequem unsere eigenen Interceptors erstellen, w√§hrend wir eine Eigenschaft lesen / schreiben (Getter und Setter - get / set), Eigenschaften unver√§nderlich oder nicht aufz√§hlbar machen und eine Reihe anderer Dinge. </p><br><ul><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Object.defineProperty</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Object.defineProperties</a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Erstellt</a> einen oder mehrere Eigenschaftsbeschreibungen.  Erstellen Sie Ihren eigenen Deskriptor mit Getter und Setter: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">surname</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }; <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.defineProperty(obj, <span class="hljs-string"><span class="hljs-string">'fullname'</span></span>, { <span class="hljs-comment"><span class="hljs-comment">//     fullname get: function() { return `${this.name} ${this.surname}`; }, //     fullname (     delete obj.fullname) set: function(value) { const [name, surname] = value.split(' '); this.name = name; this.surname = surname; }, }); console.log(obj.fullname); //   obj.fullname = ' '; console.log(obj.name); //  console.log(obj.surname); // </span></span></code> </pre> <br><p>  Im obigen Beispiel hatte die Eigenschaft fullname keinen eigenen Wert, sondern arbeitete dynamisch mit den Eigenschaften name und Nachname.  Es ist nicht erforderlich, sowohl einen Getter als auch einen Setter gleichzeitig zu definieren. Wir k√∂nnen nur den Getter belassen und eine schreibgesch√ºtzte Eigenschaft erhalten.  Oder wir k√∂nnen dem Setter eine zus√§tzliche Aktion hinzuf√ºgen und den Wert festlegen, z. B. Protokollierung. <br>  Zus√§tzlich zu den get / set-Eigenschaften m√ºssen Deskriptoren mehrere weitere Eigenschaften konfigurieren: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = {}; <span class="hljs-comment"><span class="hljs-comment">//      get/set,       value.    get/set  value.   ‚Äî undefined. Object.defineProperty(obj, 'name', { value: '' }); // ,         (for-in, for-of, Object.keys).   ‚Äî false. Object.defineProperty(obj, 'a', { enumerable: true }); //         defineProperty     delete.   ‚Äî false. Object.defineProperty(obj, 'b', { configurable: false }); //      .   ‚Äî false. Object.defineProperty(obj, 'c', { writable: true });</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Object.getOwnPropertyDescriptor</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Object.getOwnPropertyDescriptors</a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mit dieser</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Option</a> k√∂nnen Sie den gew√ºnschten Objektdeskriptor oder dessen vollst√§ndige Liste <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">abrufen</a> : </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = { <span class="hljs-attr"><span class="hljs-attr">a</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">b</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span> }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getOwnPropertyDescriptor(obj, <span class="hljs-string"><span class="hljs-string">"a"</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// { configurable: true, enumerable: true, value: 1, writable: true } /** * { * a: { configurable: true, enumerable: true, value: 1, writable: true }, * b: { configurable: true, enumerable: true, value: 2, writable: true } * } */ console.log(Object.getOwnPropertyDescriptors(obj));</span></span></code> </pre> <br></li></ul><br><h3 id="sozdanie-ogranicheniy-pri-rabote-s-obektami">  Erstellen von Einschr√§nkungen beim Arbeiten mit Objekten </h3><br><ul><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Object.freeze</a> - "friert" die Eigenschaften eines Objekts ein.  Die Folge eines solchen "Einfrierens" ist die vollst√§ndige Unver√§nderlichkeit der Objekteigenschaften - sie k√∂nnen nicht ge√§ndert und gel√∂scht, neue hinzugef√ºgt, Deskriptoren ge√§ndert werden: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.freeze({ <span class="hljs-attr"><span class="hljs-attr">a</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> }); <span class="hljs-comment"><span class="hljs-comment">//       ,       . obj.a = 2; obj.b = 3; console.log(obj); // { a: 1 } console.log(Object.isFrozen(obj)) // true</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Object.seal</a> - "versiegelt" die Eigenschaften eines Objekts.  Die Versiegelung √§hnelt Object.freeze, weist jedoch eine Reihe von Unterschieden auf.  Wie in Object.freeze verbieten wir das Hinzuf√ºgen neuer Eigenschaften, das L√∂schen vorhandener Eigenschaften und das √Ñndern ihrer Deskriptoren. Gleichzeitig k√∂nnen wir jedoch auch die Eigenschaftswerte √§ndern: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.seal({ <span class="hljs-attr"><span class="hljs-attr">a</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> }); obj.a = <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  a   2 //     ,       . obj.b = 3; console.log(obj); // { a: 2 } console.log(Object.isSealed(obj)) // true</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Object.preventExtensions</a> - Verbietet das Hinzuf√ºgen neuer Eigenschaften / Deskriptoren: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.preventExtensions({ <span class="hljs-attr"><span class="hljs-attr">a</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> }); obj.a = <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-comment"><span class="hljs-comment">//       ,       . obj.b = 3; console.log(obj); // { a: 2 } console.log(Object.isExtensible(obj)) // false</span></span></code> </pre> <br></li></ul><br><h3 id="prototipy-obektov">  Objektprototypen </h3><br><ul><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Object.create</a> - um ein Objekt mit dem im Parameter angegebenen Prototyp zu erstellen.  Diese Funktion kann sowohl f√ºr die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Vererbung von Prototypen</a> als auch f√ºr die Erstellung "sauberer" Objekte ohne Eigenschaften aus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Object.prototype verwendet werden</a> : </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pureObj = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.create(<span class="hljs-literal"><span class="hljs-literal">null</span></span>);</code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Object.getPrototypeOf</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Object.setPrototypeOf</a> - um den Prototyp eines Objekts <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">abzurufen</a> / zu √§ndern: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> duck = {}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> bird = {}; <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.setPrototypeOf(duck, bird); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getPrototypeOf(duck) === bird); <span class="hljs-comment"><span class="hljs-comment">// true console.log(duck.__proto__ === bird); // true</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Object.prototype.isPrototypeOf</a> - √úberpr√ºft, ob das aktuelle Objekt in der Prototypenkette eines anderen Objekts enthalten ist: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> duck = {}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> bird = {}; duck.__proto__ = bird; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(bird.isPrototypeOf(duck)); <span class="hljs-comment"><span class="hljs-comment">// true</span></span></code> </pre> <br></li></ul><br><h2 id="4-reflect-api">  4. Reflect API </h2><br><p>  Mit dem Aufkommen von ES6 wurde JavaScript ein globales <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Reflect-</a> Objekt hinzugef√ºgt, um verschiedene Methoden in Bezug auf Reflexion und Selbstbeobachtung zu speichern. </p><br><p>  Die meisten seiner Methoden sind das Ergebnis der √úbertragung vorhandener Methoden von globalen Objekten wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Object</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Function</a> in einen separaten Namespace mit ein wenig Refactoring f√ºr eine komfortablere Verwendung. </p><br><p>  Das √úbertragen von Funktionen auf das Reflect-Objekt erleichterte nicht nur die Suche nach den erforderlichen Methoden f√ºr die Reflexion und f√ºhrte zu einer besseren Semantik, sondern vermied auch unangenehme Situationen, in denen unser Objekt keinen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Object.prototype</a> in seinem Prototyp enth√§lt, sondern wir die folgenden Methoden verwenden m√∂chten: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> obj = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.create(<span class="hljs-literal"><span class="hljs-literal">null</span></span>); obj.qwerty = <span class="hljs-string"><span class="hljs-string">'qwerty'</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(obj.__proto__) <span class="hljs-comment"><span class="hljs-comment">// null console.log(obj.hasOwnProperty('qwerty')) // Uncaught TypeError: obj.hasOwnProperty is not a function console.log(obj.hasOwnProperty === undefined); // true console.log(Object.prototype.hasOwnProperty.call(obj, 'qwerty')); // true</span></span></code> </pre> <br><p>  Refactoring hat das Verhalten von Methoden expliziter und eint√∂niger gemacht.  Wenn beispielsweise fr√ºher beim Aufrufen von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Object.defineProperty</a> f√ºr einen falschen Wert (wie eine Zahl oder eine Zeichenfolge) eine Ausnahme ausgel√∂st wurde, w√§hrend beim Aufrufen von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Object.getOwnPropertyDescriptor</a> f√ºr einen nicht vorhandenen Objektdeskriptor stillschweigend undefiniert zur√ºckgegeben wurde, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">l√∂sen</a> √§hnliche Methoden von Reflect immer Ausnahmen f√ºr falsche Daten aus . </p><br><p>  Es wurden auch mehrere neue Methoden hinzugef√ºgt: </p><br><ul><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Reflect.construct</a> ist eine bequemere Alternative zu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Object.create</a> , mit der ein Objekt mit dem angegebenen Prototyp nicht nur erstellt, sondern auch sofort initialisiert werden kann: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Person</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name, surname</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.formatParam(name); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.surname = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.formatParam(surname); } Person.prototype.formatParam = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">param</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> param.slice(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>).toUpperCase() + param.slice(<span class="hljs-number"><span class="hljs-number">1</span></span>).toLowerCase(); } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> oldPerson = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.create(Person.prototype); <span class="hljs-comment"><span class="hljs-comment">// {} Person.call(oldPerson, '', ''); // {name: "", surname: ""} const newPerson = Reflect.construct(Person, ['', '']); // {name: "", surname: ""}</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Reflect.ownKeys</a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Gibt</a> ein Array von Eigenschaften zur√ºck, die zum angegebenen Objekt geh√∂ren (und nicht zu Objekten in der Prototypenkette): </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> person = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">surname</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }; person.__proto__ = { <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-number"><span class="hljs-number">30</span></span> }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">Reflect</span></span>.ownKeys(person)); <span class="hljs-comment"><span class="hljs-comment">// ["name", "surname"]</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Reflect.deleteProperty</a> - eine Alternative zum <em>L√∂schoperator</em> in Form einer Methode: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> person = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">surname</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> person.name; <span class="hljs-comment"><span class="hljs-comment">// person = {surname: ""} Reflect.deleteProperty(person, 'surname'); // person = {}</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Reflect.has</a> - eine Alternative zum <em>in-</em> Operator in Form einer Methode: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> person = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">surname</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'name'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> person); <span class="hljs-comment"><span class="hljs-comment">// true console.log(Reflect.has(person, 'name')); // true</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Reflect.get</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Reflect.set</a> - zum Lesen / √Ñndern von Objekteigenschaften: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> person = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">surname</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">Reflect</span></span>.get(person, <span class="hljs-string"><span class="hljs-string">'name'</span></span>)); <span class="hljs-comment"><span class="hljs-comment">//  Reflect.set(person, 'surname', '') // person = {name: "", surname: ""}</span></span></code> </pre> <br></li></ul><br><p>  Weitere Details zu den √Ñnderungen finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> . </p><br><h3 id="reflect-metadata">  Metadaten widerspiegeln </h3><br><p>  Zus√§tzlich zu den oben aufgef√ºhrten Reflect-Objektmethoden gibt es einen experimentellen Vorschlag zum bequemen Binden verschiedener Metadaten an Objekte. </p><br><p>  Metadaten k√∂nnen n√ºtzliche Informationen sein, die nicht direkt mit dem Objekt zusammenh√§ngen, zum Beispiel: </p><br><ul><li>  Wenn TypeScript das Flag <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">emitDecoratorMetadata aktiviert, werden</a> Informationen zu Typen in die Metadaten geschrieben, sodass Sie zur Laufzeit darauf zugreifen k√∂nnen.  Ferner k√∂nnen diese Informationen durch das Schl√ºsseldesign erhalten werden: Typ: <br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> typeData = Reflect.getMetadata(<span class="hljs-string"><span class="hljs-string">"design:type"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">object</span></span>, propertyName);</code> </pre> </li><li>  Die beliebte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">InversifyJS-</a> Bibliothek zur Inversionssteuerung speichert verschiedene Informationen zu den beschriebenen Beziehungen in den Metadaten. </li></ul><br><p>  Momentan wird diese <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Polyf√ºllung</a> verwendet, um in Browsern zu arbeiten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">.</a> </p><br><h2 id="5-simvoly-symbols">  5. Symbole </h2><br><p>  Symbole sind ein neuer unver√§nderlicher Datentyp, der haupts√§chlich zum Erstellen eindeutiger Namen f√ºr Objekteigenschaftsbezeichner verwendet wird.  Wir haben die M√∂glichkeit, Charaktere auf zwei Arten zu erstellen: </p><br><ol><li><p>  Lokale Symbole - Der Text in den Parametern der Symbolfunktion hat keinen Einfluss auf die Eindeutigkeit und wird nur zum Debuggen ben√∂tigt: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> sym1 = <span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>(<span class="hljs-string"><span class="hljs-string">'name'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> sym2 = <span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>(<span class="hljs-string"><span class="hljs-string">'name'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(sym1 == sym2); <span class="hljs-comment"><span class="hljs-comment">// false</span></span></code> </pre> <br></li><li><p>  Globale Zeichen - Zeichen werden in der globalen Registrierung gespeichert, sodass Zeichen mit demselben Schl√ºssel gleich sind: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> sym3 = <span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>.for(<span class="hljs-string"><span class="hljs-string">'name'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> sym4 = <span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>.for(<span class="hljs-string"><span class="hljs-string">'name'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> sym5 = <span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>.for(<span class="hljs-string"><span class="hljs-string">'other name'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(sym3 == sym4); <span class="hljs-comment"><span class="hljs-comment">// true,        'name' console.log(sym3 == sym5); // false,    </span></span></code> </pre> <br></li></ol><br><p>  Die F√§higkeit, solche Bezeichner zu erstellen, erm√∂glicht es uns, keine Angst zu haben, dass wir eine Eigenschaft in einem uns unbekannten Objekt √ºberschreiben k√∂nnten.  Diese Qualit√§t erm√∂glicht es den Erstellern des Standards, Objekten auf einfache Weise neue Standardeigenschaften hinzuzuf√ºgen, ohne die Kompatibilit√§t mit verschiedenen vorhandenen Bibliotheken (die m√∂glicherweise dieselbe Eigenschaft definieren) und Benutzercode zu beeintr√§chtigen.  Daher gibt es eine Reihe von Standardsymbolen, von denen einige neue M√∂glichkeiten zur Reflexion bieten: </p><br><ul><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Symbol.iterator</a> - Erm√∂glicht das Erstellen eigener Regeln f√ºr das Iterieren von Objekten mit dem <em>Operator "</em> <em>for of of</em> or <em>..."</em> : </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> arr = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>]; <span class="hljs-comment"><span class="hljs-comment">//       arr[Symbol.iterator] = function() { const self = this; let pos = this.length - 1; return { next() { if (pos &gt;= 0) { return { done: false, value: self[pos--] }; } else { return { done: true }; } } } }; console.log([...arr]); // [3, 2, 1]</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Symbol.hasInstance</a> ist eine Methode, die bestimmt, ob ein Konstruktor ein Objekt als seine Instanz erkennt.  Wird von der Instanz des Operators verwendet: </p><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyArray</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> [<span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>.hasInstance](instance) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>.isArray(instance); } } <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log([] <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> MyArray); <span class="hljs-comment"><span class="hljs-comment">// true</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Symbol.isConcatSpreadable</a> - Gibt an, ob das Array bei Verkettung in Array.concat abgeflacht werden soll: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> firstArr = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> secondArr = [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]; firstArr.concat(secondArr); <span class="hljs-comment"><span class="hljs-comment">// [1, 2, 3, 4, 5, 6] secondArr[Symbol.isConcatSpreadable] = false; console.log(firstArr.concat(secondArr)); // [1, 2, 3, [4, 5, 6]]</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Symbol.species</a> - Mit dieser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Option</a> k√∂nnen Sie angeben, mit welchem ‚Äã‚ÄãKonstruktor abgeleitete Objekte innerhalb der Klasse erstellt werden sollen. <br>  Zum Beispiel haben wir eine Standard-Array-Klasse f√ºr die Arbeit mit Arrays und eine .map-Methode, die ein neues Array basierend auf dem aktuellen Array erstellt.  Um herauszufinden, mit welcher Klasse dieses neue Array erstellt werden soll, ruft Array <em>this.constructor [Symbol.species] folgenderma√üen auf</em> : </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>.prototype.map = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">cb</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ArrayClass = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.constructor[<span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>.species]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> result = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayClass(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.length); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value, index, arr</span></span></span><span class="hljs-function">) =&gt;</span></span> { result[index] = cb(value, index, arr); }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }</code> </pre> <br><p>  Wenn Sie Symbol.species √ºberschreiben, k√∂nnen Sie eine eigene Klasse f√ºr die Arbeit mit Arrays erstellen und sagen, dass alle Standardmethoden wie .map, .reduce usw. keine Instanz der Array-Klasse, sondern eine Instanz unserer Klasse zur√ºckgeben: </p><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyArray</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Array</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> get [<span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>.species]() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> arr = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyArray(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>); <span class="hljs-comment"><span class="hljs-comment">// [1, 2, 3] console.log(arr instanceof MyArray); // true console.log(arr instanceof Array); // true //   Array.map     Array,    Symbol.species  this      MyArray const doubledArr = arr.map(x =&gt; x * 2); console.log(doubledArr instanceof MyArray); // true console.log(doubledArr instanceof Array); // true</span></span></code> </pre> <br><p>  Dies funktioniert nat√ºrlich nicht nur mit Arrays, sondern auch mit anderen Standardklassen.  Selbst wenn wir einfach unsere eigene Klasse mit Methoden erstellen, die neue Instanzen derselben Klasse zur√ºckgeben, sollten wir this.constructor [Symbol.species] verwenden, um einen Verweis auf den Konstruktor zu erhalten. </p><br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Symbol.toPrimitive</a> - Mit dieser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Option</a> k√∂nnen Sie festlegen, wie unser Objekt in einen primitiven Wert konvertiert werden soll.  Wenn wir fr√ºher, um auf ein Grundelement zu reduzieren, toString zusammen mit valueOf verwenden mussten, kann jetzt alles auf eine bequeme Methode ausgef√ºhrt werden: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> figure = { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, [<span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>.toPrimitive](hint) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (hint === <span class="hljs-string"><span class="hljs-string">'string'</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (hint === <span class="hljs-string"><span class="hljs-string">'number'</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.id; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-comment"><span class="hljs-comment">// default return this.name; } } } console.log(`${figure}`); // hint = string console.log(+figure); // hint = number console.log(figure + ''); // hint = default</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Symbol.match</a> - Erm√∂glicht das Erstellen eigener <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Handlerklassen</a> f√ºr die Methode f√ºr die Funktion <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">String.prototype.match</a> : </p><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StartAndEndsWithMatcher</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(value) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.value = value; } [<span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>.match](str) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> startsWith = str.startsWith(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.value); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> endsWith = str.endsWith(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.value); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (startsWith &amp;&amp; endsWith) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.value]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> testMatchResult = <span class="hljs-string"><span class="hljs-string">'||'</span></span>.match(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StartAndEndsWithMatcher(<span class="hljs-string"><span class="hljs-string">'|'</span></span>)); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(testMatchResult); <span class="hljs-comment"><span class="hljs-comment">// ["|"] const catMatchResult = '|'.match(new StartAndEndsWithMatcher('|')); console.log(catMatchResult) // null</span></span></code> </pre> <br><p>     ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Symbol.replace</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Symbol.search</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Symbol.split</a>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">String.prototype</a> . </p><br></li></ul><br><p>  ,   (  reflect-metadata   )         .  -   ,    ,       .        : </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> validationRules = <span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>(<span class="hljs-string"><span class="hljs-string">'validationRules'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> person = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">surname</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }; person[validationRules] = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: [<span class="hljs-string"><span class="hljs-string">'max-length-256'</span></span>, <span class="hljs-string"><span class="hljs-string">'required'</span></span>], <span class="hljs-attr"><span class="hljs-attr">surname</span></span>: [<span class="hljs-string"><span class="hljs-string">'max-length-256'</span></span>] };</code> </pre> <br><h2 id="6-proksi-proxy"> 6.  (Proxy) </h2><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Proxy</a>    ,    Reflect API  Symbols  ES6,       //  ,  ,       .  ,  <em>   </em> . </p><br><p>           ,    data-binding  MobX  React, Vue  .       . </p><br><p>  : </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> formData = { <span class="hljs-attr"><span class="hljs-attr">login</span></span>: <span class="hljs-string"><span class="hljs-string">'User'</span></span>, <span class="hljs-attr"><span class="hljs-attr">password</span></span>: <span class="hljs-string"><span class="hljs-string">'pass'</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> proxyFormData = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Proxy</span></span>(formData, { set(target, name, value) { target[name] = value; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.forceUpdate(); <span class="hljs-comment"><span class="hljs-comment">//   React- } }); //       forceUpdate()    React proxyFormData.login = 'User2'; //     ,   -      proxyFormData.age = 20;</span></span></code> </pre> <br><p>        ,  /: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> formData = { <span class="hljs-attr"><span class="hljs-attr">login</span></span>: <span class="hljs-string"><span class="hljs-string">'User'</span></span>, <span class="hljs-attr"><span class="hljs-attr">password</span></span>: <span class="hljs-string"><span class="hljs-string">'pass'</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> proxyFormData = {}; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> param <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> formData) { <span class="hljs-built_in"><span class="hljs-built_in">Reflect</span></span>.defineProperty(proxyFormData, <span class="hljs-string"><span class="hljs-string">`__private__</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${param}</span></span></span><span class="hljs-string">`</span></span>, { <span class="hljs-attr"><span class="hljs-attr">value</span></span>: formData[param], <span class="hljs-attr"><span class="hljs-attr">enumerable</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">configurable</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }); <span class="hljs-built_in"><span class="hljs-built_in">Reflect</span></span>.defineProperty(proxyFormData, param, { <span class="hljs-attr"><span class="hljs-attr">get</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>[<span class="hljs-string"><span class="hljs-string">`__private__</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${param}</span></span></span><span class="hljs-string">`</span></span>]; }, <span class="hljs-attr"><span class="hljs-attr">set</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>[<span class="hljs-string"><span class="hljs-string">`__private__</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${param}</span></span></span><span class="hljs-string">`</span></span>] = value; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.forceUpdate(); <span class="hljs-comment"><span class="hljs-comment">//   React- }, enumerable: true, configurable: true }); } //       forceUpdate()    React proxyFormData.login = 'User2'; //                  -  Reflect.defineProperty proxyFormData.age = 20;</span></span></code> </pre> <br><p>          -,     ‚Äî   Proxy            (  ,       ),    /             ,           <em>delete obj[name]</em> . </p><br><h2 id="7-zaklyuchenie"> 7.  </h2><br><p> JavaScript        ,           ECMAScript 4,             .               ,   . </p><br><p>             <a href="">  </a>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">You Don't Know JS</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de417097/">https://habr.com/ru/post/de417097/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de417085/index.html">Browser schalten den Sound in Ihrer WebRTC-Anwendung stumm. H√∂r auf was?</a></li>
<li><a href="../de417087/index.html">HPE Digitalize 2018: Event und Live-Stream</a></li>
<li><a href="../de417089/index.html">Quantencomputer: Ein Photon, um alle zu regieren</a></li>
<li><a href="../de417091/index.html">Erstellen Sie einen Cartoon-Water-Shader f√ºr das Web. Teil 3</a></li>
<li><a href="../de417093/index.html">Touch-Schalter mit Modbus: Warum werden sie ben√∂tigt und wie werden sie in einer intelligenten Wohnung angewendet?</a></li>
<li><a href="../de417099/index.html">Wie habe ich die Standard-C ++ 11-Bibliothek geschrieben oder warum ist Boost so be√§ngstigend? Kapitel 2</a></li>
<li><a href="../de417101/index.html">Definition von Ready - Was wir vergessen haben zu erz√§hlen</a></li>
<li><a href="../de417103/index.html">Spark SQL. Ein bisschen √ºber das Abfrageoptimierungsprogramm</a></li>
<li><a href="../de417105/index.html">Drucken auf einem 3D-Drucker. Die geheimen Erfahrungen von 3Dtool</a></li>
<li><a href="../de417107/index.html">Entwickler des Spiels w√§hrend True: Erfahren Sie () mehr √ºber Gamedev-Programmierung, VR-Probleme und ML-Simulationen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>