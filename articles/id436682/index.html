<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸš´ ğŸš ğŸ¤¸ğŸ¿ Jangan membuat JL (DSL) Anda sendiri untuk memperluas fungsionalitas aplikasi ğŸ“œ ğŸ…±ï¸ ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saat Anda ingin memberi pengguna kemampuan untuk menulis plugin untuk aplikasi Anda, Anda dihadapkan pada pilihan bagaimana menyediakan API. Di bawah ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Jangan membuat JL (DSL) Anda sendiri untuk memperluas fungsionalitas aplikasi</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436682/"><p>  Saat Anda ingin memberi pengguna kemampuan untuk menulis plugin untuk aplikasi Anda, Anda dihadapkan pada pilihan bagaimana menyediakan API.  Di bawah potongan, saya akan menunjukkan mengapa solusi terburuk untuk ini adalah menciptakan bahasa pemrograman Anda sendiri dan mengurai kode sumber, serta furnitur di sini. </p><br><p><img src="https://habrastorage.org/webt/mm/z3/fl/mmz3flzbwecfpjejtazzand6dfs.png" alt="CPAP"></p><a name="habracut"></a><br><h2 id="yap--eto-ne-osnovnaya-funkciya-prilozheniya">  PL bukan fungsi utama aplikasi </h2><br><p> Bayangkan kita membuka produksi furnitur modular.  Ada beberapa elemen dasar: countertops, tatakan gelas, meja samping tempat tidur, dll.  Ada jalur produksi yang terkait dengan pemrosesan kayu: peralatan mesin, gergaji, pernis, semua dengan teknologi terbaru.  Tapi semua ini entah bagaimana harus disatukan.  Kita tahu bahwa ada 100.500 perusahaan yang berspesialisasi dalam pembuatan perangkat keras dan baut, ada beberapa standar untuk pengencang furnitur yang telah diciptakan oleh komunitas profesional untuk membuat hidup lebih mudah bagi pelanggan mereka.  Seberapa jauhkah keputusan akan mengerahkan garis tambahan untuk produksi baut, mur, dan sudut sendiri? </p><br><p>  Apa yang bisa kita menangkan? </p><br><ul><li>  Dengan cara ini, kita dapat memberi <abbr title="Jika piano Steinway Anda memiliki setidaknya satu bagian bukan dari Steinway, itu bukan Steinway">merek produk kita</abbr> sehingga hamster merasakan "keasliannya" dan membawa lebih banyak uang. </li><li>  Mungkin ini akan memungkinkan kami untuk tidak membayar hak cipta untuk baut, atau untuk menyelesaikan masalah logistik. </li><li>  Kita dapat memasuki pasar baru untuk baut dan mur, menetapkan standar kita sendiri, yang <abbr title="Nah, di mana 2.5mm TRS (Jack) sekarang?">lebih cepat, lebih baik, dan lebih tinggi.</abbr> </li></ul><br><p>  Tapi mari kita bersihkan. </p><br><ul><li>  Ilitisme adalah karya wiraniaga.  Penjual akan atau tidak akan membuat merek menjadi Elite dengan atau tanpa lini produksi baru. </li><li>  Hak cipta, sebagai suatu peraturan (tidak selalu, tentu saja), lebih murah daripada pengembangan dari awal.  Dan menyelesaikan masalah pengiriman satu elemen dengan menggunakan jalur produksi baru, Anda hanya memperburuknya. </li><li>  Jika kita ingin mencoba bidang kegiatan baru untuk diri kita sendiri, kita tidak perlu menghubungkannya dengan apa yang sudah kita lakukan.  Tampaknya lebih mudah untuk mendorong baut dengan furnitur, tetapi jika baut tidak terbang, mereka akan menyeret furnitur bersama mereka.  Setidaknya apa yang sudah dikenakan biaya pada klien. </li></ul><br><p>  Kembali ke domba kami: jika Anda membuat ekosistem untuk ekstensi aplikasi Anda, maka Anda memiliki <strong>aplikasi</strong> .  Itu melakukan sesuatu yang baik, sesuatu yang Anda kuasai. </p><br><h2 id="ksp--kontakt-script-processor-ili-liniya-proizvodstva-boltov-v-mire-digital-audio">  KSP - Kontakt Script Processor, atau jalur produksi baut di dunia audio digital </h2><br><p><img src="https://habrastorage.org/webt/e1/ky/8h/e1ky8heowpw6mhn41blmegpt6os.png" alt="Kontakt"></p><br><p>  Saya akan bercerita tentang bahasa seperti itu kepada Anda: </p><br><p>  <strong>Kontakt</strong> adalah romper (sampler) dari perusahaan Austria <strong>Native Instruments</strong> .  Saat ini sangat sulit untuk menemukan proyek menggunakan alat virtual yang tidak digunakan.  Selama 10 tahun terakhir, Kontakt telah menduduki sebagian besar pasar instrumen sampel.  Rahasianya sederhana: pada suatu waktu, Kontakt mengusulkan dua inovasi yang membalikkan perkembangan instrumen virtual sampel. </p><br><p>  Inovasi pertama berhubungan langsung dengan fungsi utamanya: ia menangani memori dengan sangat hati-hati (dan sampel dalam wav adalah pemakan yang sama, baik HDD dan RAM).  <strong>NI</strong> membuat <em>format</em> kompresi <em>lossless</em> dengan decoding cepat dan menulis sistem penyangga audio revolusioner untuk masanya. </p><br><h3 id="vtoroy-innovaciey-stal-ksp">  Inovasi kedua adalah KSP </h3><br><p>  Sebelum kontak, ada dua cara untuk secara fungsional mengatur sampel yang direkam ke dalam instrumen yang dikendalikan MIDI: </p><br><ul><li>  Tulis mesin Anda sendiri dari awal dalam C ++, atau dalam bahasa lain yang dapat menggunakan Steinberg's VST SDK (dan ada format plugin lainnya, misalnya, AAX). </li><li>  Gunakan sampler siap pakai yang dibuat untuk musisi yang tidak terbiasa dengan pemrograman, tetapi yang memiliki suara yang perlu diatur dalam beberapa jenis sistem.  Katakanlah <strong>Giga Studio</strong> .  Tetapi romperm seperti itu, sebagai suatu peraturan, entah ditutup, atau untuk menyelesaikan pekerjaan mereka, mereka membutuhkan tidak kurang dari staf daripada pengembangan telanjang di bawah VST SDK. </li></ul><br><p>  Kontak senang baik ini dan itu: untuk pembuatan prototipe cepat ada GUI nyaman yang dapat dimengerti oleh setiap musisi yang telah membaca manual, dan untuk penyempurnaan lebih lanjut tidak ada yang kurang <strong>dari bahasa pemrograman</strong> , dengan kondisi, fungsi (dari versi 4) dan perpustakaan standar yang mewakili API untuk sebagian besar fungsi yang diterapkan melalui GUI, serta parameter untuk memutar sampel secara langsung.  Antara lain, dari versi 2 menjadi mungkin untuk menyesuaikan antarmuka dengan segala macam peluit dan palsu, yang memungkinkan untuk menunjukkan keunikannya pada skala yang hampir tak terbatas.  Dan kode pengembang disembunyikan dari tampilan dua kali: kebingungan dan perlindungan terhadap <abbr title="ya, itu tidak berfungsi dalam versi warez">alat yang</abbr> berubah. </p><br><p>  Mengingat semakin populernya mesin, serta periode yang mengesankan pengembangan aktif baju monyet, hari ini Kontakt adalah jenis senapan serbu Kalashnikov di dunia Audio Digital.  Mudah dipelajari, dapat diandalkan sebagai tank, memiliki kemampuan untuk dopilka dalam batas yang wajar untuk diri Anda tercinta, dan memegang pasar yang sangat besar bagi pengguna yang puas. </p><br><h3 id="ne-vse-tak-raduzhno">  Tidak semuanya begitu cerah </h3><br><p>  Hal yang tak terhindarkan terjadi: inovasi dalam bentuk KSP telah menjadi momok.  Mencoba membuat sintaks dapat diakses oleh boneka, yang merupakan musisi, alih-alih menyelesaikan implementasi API dalam bahasa manusia, Nativs menulis penerjemah mereka sendiri untuk bahasa mereka sendiri, arsitektur yang awalnya tidak mengandaikan penerbangan imajinasi para pengembang alat yang penuh badai, yang kita saksikan sekarang.  Sudah pada versi 3, penduduk asli kehilangan harapan untuk mengikuti selera pengguna, dan mulai memukau fungsi-fungsi baru dari perpustakaan standar, memungkinkan pengguna untuk mengetahui lingkungan pengembangan kode sendiri. </p><br><p> Selain itu, bahkan <strong>Nils Lieberg KScriptEditor muncul</strong> , bercabang dengan <strong>Scintilla</strong> , yang telah lama berfungsi sebagai IDE utama untuk KSP.  Sungguh konyol untuk mengatakan, tetapi ketika penduduk asli menyadari bahwa kontak tersebut tidak dapat mengatasi ukuran sumber yang diumpankan, mereka memperkenalkan fungsi ke dalam bahasa, tanpa repot-repot menyampaikan argumen ke dalamnya.  Dan sebulan kemudian sebuah taskfunc muncul di <code>taskfunc</code> , meneruskan argumen ke fungsi yang tidak menggunakan argumen. </p><br><p>  Setelah beberapa saat, Niels menyadari bahwa ia menginjak penggaruk penduduk asli: tidak ada gunanya mengembangkan IDE sendiri.  Dia porting compiler dan mengimplementasikan fungsionalitas IDE ke SublimeText2, dan melambaikan tangan.  Saat ini, kendali SublimeKSP ditanggung oleh pengembang, tampaknya, dari <abbr title="Perusahaan Pengembangan Alat Kontakt">Fluffy Audio</abbr> . </p><br><p><img src="https://habrastorage.org/webt/6j/fg/yx/6jfgyxlkmajwlnkdxnibbd-f8zg.png" alt="Ketiga kalinya menyapu yang sama"></p><br><h3 id="nu-vy-ponyali">  Yah, kamu mengerti) </h3><br><p>  Dan lagi, sudah menjadi pembuat kode, yang tidak kurang dari bahasa, dengan sistem impor, parser, kompiler, sintaks berbeda dari KSP, tetapi masih mendukung kompatibilitas dengan itu, untuk alasan yang tidak diketahui ilmu pengetahuan, itu ternyata menjadi gunung kruk mengerikan yang tidak dapat dibuang. karena kompatibilitas mundur proyek pengembang perpustakaan yang telah mengembangkan mesin KSP mereka selama bertahun-tahun. </p><br><p>  Misalkan sistem impor bekerja secara global berkenaan dengan file dari mana kompilasi diluncurkan, oleh karena itu, untuk mengkompilasi satu modul yang terletak di subfolder, perlu untuk sepenuhnya mengubah jalurnya dalam impor, sesuai dengan posisinya dalam struktur proyek.  Dan pria yang mendukungnya akan dengan senang hati mengubah ini, tapi kemudian dia akan menghancurkan proyek-proyek dari <abbr title="perusahaan lain yang mengembangkan alat untuk Kontakt">Spitfire Audio yang</abbr> sama untuk waktu yang lama.  Dan fakta ini saja menyulitkan pengujian modular (jangan katakan apapun tentang unit) ke neraka. </p><br><p>  Tampaknya solusi untuk masalah ini adalah dengan menggunakan symlink, tetapi di suatu tempat di sana tidak berfungsi seperti yang diharapkan, dan symlink hanya berfungsi sebagian.  Masalah seperti ini bukan satu hal.  Antara lain, setelah Niels, pengembangan tidak dilakukan dengan memodifikasi kompiler itu sendiri, yang menerima kode yang sudah diuraikan.  Dan, sekali lagi, untuk alasan kompatibilitas ke belakang, dengan menambahkan plug-in dari sintaks yang diperluas, masing-masing menerima sumber yang awalnya dipotong menjadi garis-garis, mem-parsingnya sendiri, dan membuat modifikasi. </p><br><p>  Mengingat bahwa sebagian besar logika preprosesor bersandar pada makro dan fungsi sebaris yang menyebarkan kode ke kanvas besar yang menyimpan 80% kondisi selalu benar atau selalu salah (dengan mengganti konstanta untuk input kondisi), yang runtuh kembali pada tahap parsing AST, waktu kompilasi sumber "benar" sebanding dengan Dengan proyek, ini dalam bahasa yang ditafsirkan untuk boneka. </p><br><p>  Mengatakan bahwa KSP telah menjadi masalah bagi pengembang adalah tidak mengatakan apa-apa. </p><br><h3 id="ne-kontaktom-edinym">  Tidak ada satu kontak pun. </h3><br><p>  Saya tidak bisa memberikan contoh dari bidang lain, tetapi di sini dari lingkup DigitalAudio: </p><br><ul><li>  <strong>Lemur</strong> adalah aplikasi sekop dengan editor desktop yang memungkinkan Anda untuk dengan cepat membuat antarmuka yang indah untuk berkomunikasi sekop menggunakan protokol <abbr title="Open Sound Control adalah protokol untuk mengendalikan perangkat dan program yang telah menggantikan MIDI di bidang otomatisasi parameter audio: misalnya, kenop volume dan panorama.">OSC</abbr> .  Ini memiliki PL sendiri, yang dapat digunakan dalam objek <em>skrip</em> khusus yang tersebar di seluruh pohon proyek.  Tidak ada cara untuk membuat kompiler seperti apa yang dilakukan untuk KSP. </li><li>  <strong>Reaper</strong> - <abbr title="Stasiun kerja digital. Alat utama untuk insinyur dan penata suara">DAW</abbr> dengan ekosistem pengembangan ekstensi yang dikembangkan.  Akibatnya, jika memungkinkan, saya menggandakan <abbr title="versi terpotong JavaScript (tampaknya, untuk kecepatan parsing)"><em>kode bahasa JSFX (ReaScript) saya</em></abbr> sebagai API untuk C ++, lua dan Python. </li><li>  <strong>HISE</strong> adalah penulis dan <strong>pembangun</strong> <abbr title="Format plugin DAW universal yang dikembangkan oleh Steinberg">VST \ VSTi</abbr> muda yang akan membunuh Kontakt dari pengembang Swedia <em>Christoph Haart</em> cepat atau lambat.  Di dalam editor itu sendiri, ini memungkinkan Anda untuk menulis dalam JavaScript yang dimodifikasi, yang diuraikan dan dikompilasi ke dalam biner oleh objek C ++.  Gagasan dengan parser Anda sendiri untuk memperkenalkan entitas tambahan (misalnya, mendaftarkan variabel, jika saya menerjemahkan dengan benar) bekerja hingga pengguna mentransfer kode mereka dari editor HISE ke IDE favorit mereka dengan penyorotan sintaksis, analisis statis dan <em>alat</em> pemformatan <em>JsPrettier</em> .  Sekarang Christophe membuat sketsa beberapa file header untuk mengkompilasi pustaka statis di C ++, yang kemudian dapat digunakan sebagai modul dalam editor.  Secara paralel, ia terus menambahkan HISEScript (karena JavaScript tidak dapat lagi menyebutnya) dengan fungsi baru, tetapi kita tahu bahwa ... </li></ul><br><h1 id="vyvod">  Kesimpulan </h1><br><p>  Menulis aplikasi Anda sendiri, mengabdikan diri pada fungsi utamanya, jangan buang waktu untuk parser, semantik, dan sintaksis.  Ini menarik saat Anda mulai, tetapi dengan probabilitas tinggi akan mengarah ke jalan buntu.  Bahasa pemrograman tidak dapat menjadi bagian dari aplikasi: ini adalah jenis jalur produksi terpisah yang membutuhkan banyak waktu untuk mempertahankan, memodifikasi, dan mendukung komunitas.  Pada gilirannya, jika Anda berharap untuk menurunkan ambang batas untuk boneka, jatuhkan.  Teko nyata, sebagai suatu peraturan, takut untuk mencetak apa pun, dan tidak akan mengganggu dirinya sendiri dengan sintaksis sederhana Anda. </p><br><p>  Pada saat yang sama, untuk pengembang plug-in pemula untuk program Anda, Anda cukup membuat <em>QuickStartGuide</em> kecil, memperkenalkan mereka pada konsep dasar PL pilihan Anda untuk memperluas fungsionalitas dan perlahan memberinya API Anda, yang merupakan bagian dari ekosistem bahasa ini. </p><br><p>  <em>PS Tidak, menulis parser Anda sendiri untuk PL yang sudah jadi juga merupakan ide yang buruk.</em> </p><br><p>  Saya akan senang dengan kritik apa pun dari artikel ini, pancake pertama dan semua hal. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id436682/">https://habr.com/ru/post/id436682/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id436664/index.html">Memperkenalkan Seri Standup Komunitas .NET</a></li>
<li><a href="../id436668/index.html">Bisakah statistik dibaca dengan sejumlah kecil data?</a></li>
<li><a href="../id436670/index.html">Cara menggulung pembaruan dalam produksi secara otomatis</a></li>
<li><a href="../id436674/index.html">Reverse Engineering Fantastic Dizzy</a></li>
<li><a href="../id436676/index.html">Bagaimana cara DDoS seluruh negara</a></li>
<li><a href="../id436684/index.html">Hari Jadi Android 10 (Q). Apa yang diketahui sekarang?</a></li>
<li><a href="../id436686/index.html">JPEG dari dunia 3D. Apa itu glTF?</a></li>
<li><a href="../id436688/index.html">Raksasa IT meninggalkan pasar untuk chip untuk pusat data - beri tahu kami apa artinya bagi industri</a></li>
<li><a href="../id436690/index.html">[Tanya - jawab] tentang kekayaan intelektual dan perlindungan data</a></li>
<li><a href="../id436692/index.html">(dalam) Perang Terbatas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>