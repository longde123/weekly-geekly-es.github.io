<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí¥ üëè üíÉüèæ Contenedores para adultos (Parte 03): 10 cosas que no necesitas hacer con los contenedores ‚òùÔ∏è üë®üèª‚Äç‚úàÔ∏è üë©‚Äçüíª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Finalmente se rindi√≥ a merced de los contenedores y descubri√≥ que resuelven muchos problemas y tiene muchas ventajas: 



1. Los contenedores son inmu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Contenedores para adultos (Parte 03): 10 cosas que no necesitas hacer con los contenedores</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/redhatrussia/blog/421663/">  Finalmente se rindi√≥ a merced de los contenedores y descubri√≥ que resuelven muchos problemas y tiene muchas ventajas: <br><br><ol><li>  Los contenedores son inmutables: SO, bibliotecas, carpetas y aplicaciones: dado que todo esto se almacena directamente en el contenedor, est√° 100% seguro de que la imagen que se prob√≥ en QA siempre ir√° a producci√≥n.  Y funcionar√° exactamente de la misma manera. </li><li>  Contenedores livianos: un contenedor no desperdicia memoria.  En lugar de cientos de megabytes y gigabytes, un contenedor solo necesita memoria para el proceso principal. </li><li>  Los contenedores son r√°pidos: un contenedor se inicia tan r√°pido como un proceso normal de Linux.  No minutos, sino literalmente segundos. </li></ol><br><img src="https://habrastorage.org/webt/kn/kz/0i/knkz0i3sesbhdq0nj4xvb8jxvsq.png" width="100%"><br><br>  Sin embargo, muchos todav√≠a creen que los contenedores son m√°quinas virtuales, y se olvidan de su propiedad m√°s importante ... <br><a name="habracut"></a><br><h3>  Contenedores ef√≠meros </h3><br>  La disponibilidad es la raz√≥n por la que debe cambiar su enfoque sobre c√≥mo manejar los contenedores. <br><br>  <b>Y esto es lo que en ning√∫n caso debe hacerse para no perder las ventajas de los contenedores:</b> <br><br>  <b>1. No es necesario almacenar datos dentro del contenedor.</b>  Durante el ciclo de vida, los contenedores se pueden suspender, destruir, reemplazar.  Si la aplicaci√≥n se ejecuta en un contenedor, la versi√≥n 1.0 de esta aplicaci√≥n deber√≠a cambiar f√°cilmente a la versi√≥n 1.1 sin p√©rdida de datos y otros problemas.  Por lo tanto, si desea guardar datos, deben escribirse en eso.  Sin embargo, debe tener cuidado de que los dos contenedores no escriban en el mismo lugar para no da√±ar los datos.  Por lo tanto, verifique que las aplicaciones escriban correctamente los datos en el almacenamiento compartido. <br><br>  <b>2. No es necesario dividir la entrega de la aplicaci√≥n.</b>  Algunas personas piensan que un contenedor es la misma m√°quina virtual.  Y la mayor√≠a de ellos creen que las aplicaciones deber√≠an implementarse en contenedores existentes.  De hecho, esto tambi√©n es posible, especialmente en la fase de desarrollo, cuando hay una depuraci√≥n y una implementaci√≥n constantes.  Pero deben ingresar el CD-ROM de entrega continua para transferirlo al departamento de control de calidad o producci√≥n solo como parte de su propia imagen.  Recuerde: los contenedores son inquebrantables. <br><br>  <b>3. No es necesario crear im√°genes grandes.</b>  Una imagen grande es m√°s dif√≠cil de distribuir.  Por lo tanto, la imagen debe incluir solo aquellos archivos y bibliotecas que realmente se necesitan para iniciar el proceso de solicitud.  No es necesario instalar paquetes innecesarios o ejecutar actualizaciones (yum update), que crean una nueva capa en la imagen y le escriben muchos archivos. <br><br>  <b>4. No use recipientes de una sola capa.</b>  Para utilizar eficazmente los sistemas de archivos multicapa (multinivel), cree siempre capas separadas para el sistema operativo, para la definici√≥n del nombre de usuario, para la configuraci√≥n y, finalmente, para la aplicaci√≥n misma.  Por lo tanto, ser√° m√°s f√°cil recrear, mantener y distribuir im√°genes. <br><br>  <b>5. No es necesario crear im√°genes a partir de contenedores en ejecuci√≥n.</b>  En otras palabras, no use el comando docker commit para crear una imagen, ya que dichas im√°genes no ser√°n reproducibles.  En su lugar, use siempre un Dockerfile u otras herramientas S2I (fuente a imagen) que proporcionen reproducibilidad.  Adem√°s, en Dockerfile, puede rastrear f√°cilmente los cambios si lo almacena en el repositorio de origen (git). <br><br>  <b>6. No es necesario usar solo la √∫ltima etiqueta.</b>  Esta etiqueta es algo as√≠ como INSTANT√ÅNEA para los usuarios de Maven.  Debido a la naturaleza de varias capas del sistema de archivos contenedor, las etiquetas son muy √∫tiles.  Sin embargo, puede esperar una sorpresa desagradable cuando, por ejemplo, despu√©s de un descanso de meses, decide recopilar una imagen y de repente descubre que la aplicaci√≥n ya no se inicia porque la capa principal (FROM en el lenguaje Dockerfile) ha sido reemplazada por una nueva versi√≥n que no admite compatibilidad con versiones anteriores.  O porque se recuper√≥ la versi√≥n incorrecta del cach√© de compilaci√≥n que estaba esperando.  Adem√°s, la √∫ltima etiqueta tambi√©n debe evitarse al implementar contenedores en producci√≥n, ya que no podr√° rastrear qu√© versi√≥n de la imagen se est√° iniciando. <br><br>  <b>7. No es necesario ejecutar m√°s de un proceso en un contenedor.</b>  Los contenedores son ideales para un solo proceso (http daemon daemon, servidor de aplicaciones, DBMS).  De lo contrario, puede encontrar todo tipo de problemas, como profundizar en los registros o actualizar los procesos por separado. <br><br>  <b>8. No es necesario almacenar credenciales en una imagen; utilice variables de entorno para esto.</b>  No prescriba ning√∫n inicio de sesi√≥n y contrase√±a en la imagen.  En su lugar, utilice variables de entorno para extraer datos relevantes de fuentes externas al contenedor.  La imagen de Postgres es un gran ejemplo de c√≥mo hacer esto correctamente. <br><br>  <b>9. No es necesario ejecutar procesos como root.</b>  ‚ÄúDe manera predeterminada, los contenedores Docker se ejecutan como root.  (...) Sin embargo, a medida que la tecnolog√≠a evoluciona, pueden aparecer otras opciones de inicio predeterminadas m√°s seguras.  En las condiciones actuales, el requisito de ra√≠z puede considerarse una amenaza y puede no proporcionarse en todos los entornos.  Para especificar un usuario que no sea root, en nombre del cual se lanzar√° el contenedor, se usa la directiva USER ‚Äù(Extracto de la gu√≠a para los autores de im√°genes de Docker) <br><br>  <b>10. No es necesario confiar en las direcciones IP.</b>  Cada contenedor tiene su propia direcci√≥n IP interna, que puede cambiar despu√©s de reiniciar el contenedor.  Si la aplicaci√≥n o el microservicio necesita comunicarse con otro contenedor, use variables de entorno para transferir el nombre de host deseado al n√∫mero de puerto de un contenedor a otro. <br>  ¬øTe acuerdas?  Ahora puedes usarlo con seguridad.  Y puede encontrar consejos pr√°cticos para usar contenedores en nuestro blog. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es421663/">https://habr.com/ru/post/es421663/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es421649/index.html">‚ÄúTop 3D Expo. Educaci√≥n digital 2018 ‚Äù21 de septiembre en el Technopolis Mosc√∫</a></li>
<li><a href="../es421653/index.html">Descripci√≥n general y dispositivo de medidores de electricidad modernos</a></li>
<li><a href="../es421655/index.html">Ingenieros de Jetpack: Alexander Fedorovich Andreev</a></li>
<li><a href="../es421657/index.html">Crecimiento continuo JSON</a></li>
<li><a href="../es421659/index.html">C√≥mo Microsoft olvid√≥ la mitad del mundo o ley√≥ mensajes de error</a></li>
<li><a href="../es421665/index.html">Android Jetpack: convirtiendo aplicaciones en cohetes</a></li>
<li><a href="../es421667/index.html">CJM Meetup en MegaFon: c√≥mo fue y de qu√© hablamos (informes en video)</a></li>
<li><a href="../es421669/index.html">El tribunal prohibi√≥ la distribuci√≥n gratuita de archivos CAD de grado de armas, por lo que el creador comenz√≥ a venderlos.</a></li>
<li><a href="../es421671/index.html">Cinco nanotecnolog√≠as de la naturaleza que nos pueden inspirar a nuevos desarrollos</a></li>
<li><a href="../es421675/index.html">Finalmente, hubo un problema que solo las computadoras cu√°nticas pueden resolver</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>