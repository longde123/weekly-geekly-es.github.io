<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ˜¡ ğŸ§š ğŸ”» Pembelajaran Mesin untuk berburu flat Anda. Bagian 2 ğŸŒŸ ğŸš£ğŸ¾ ğŸ´ó §ó ¢ó ³ó £ó ´ó ¿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A. A. A. A. A. A. A.  
 Pernahkah Anda memikirkan pengaruh metro terdekat dengan harga flat Anda? A. 
 A. A. Bagaimana dengan beberapa taman kanak-kan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pembelajaran Mesin untuk berburu flat Anda. Bagian 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470710/"><p>  A. A. A. A. A. A. A. <span class="notranslate" onmouseover="_tipon(this)" onmouseout="_tipoff()"></span> <br>  Pernahkah Anda memikirkan pengaruh metro terdekat dengan harga flat Anda?  A. <br>  A. A. Bagaimana dengan beberapa taman kanak-kanak di sekitar apartemen Anda?  Apakah Anda siap untuk terjun dalam dunia data geo-spasial? </p><br><p>  A. <img src="https://habrastorage.org/webt/mk/hb/cd/mkhbcdjqdoilsw7psuegvtv25r0.png" alt="Mereka menyediakan begitu banyak Informasi dan ...">  A. <br>  A. A. <br>  A. <a name="habracut"></a></p><br><h2 id="what-is-all-about">  Tentang apa semua ini? </h2><br><p> A. <br>  Pada bagian <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sebelumnya</a> , kami memiliki beberapa data dan mencoba menemukan penawaran yang cukup bagus di pasar real estat di Yekaterinburg. </p><br><p>  Kami tiba di suatu titik ketika kami memiliki akurasi pada validasi silang dekat 73%.  Namun, setiap koin memiliki 2 sisi.  Dan akurasi 73% itu adalah 27% kesalahan.  Bagaimana kita bisa mengurangi itu?  Apa langkah selanjutnya? </p><br><p>  A. </p><br><h2 id="spatial-data-is-coming-to-help">  Data spasial akan membantu </h2><br><p>  Bagaimana dengan mendapatkan lebih banyak data dari lingkungan?  Kita dapat menggunakan geo-konteks dan beberapa data spasial. <br>  A. <br>  Jarang orang menghabiskan seluruh hidup mereka di rumah.  A. Terkadang mereka pergi ke toko, mengambil anak-anak dari tempat penitipan anak.  Anak-anak mereka tumbuh dan pergi ke sekolah, universitas, dll.  A. </p><br><p>  Atau ... kadang-kadang mereka membutuhkan bantuan medis dan mereka mencari rumah sakit.  Dan yang sangat penting adalah angkutan umum, metro setidaknya. A. Dengan kata lain, ada banyak hal di dekat sana, yang berdampak pada harga. </p><br><p>  Biarkan saya menunjukkan kepada Anda daftar mereka: </p><br><ul><li>  Transportasi umum berhenti </li><li>  Toko </li><li>  Taman kanak-kanak </li><li>  Rumah sakit / institusi medis A. A. A. A. A. A.  A. A. A. </li><li>  Lembaga pendidikan A. A. A. A. A. A.  A. A. A. </li><li>  Metro </li></ul><br><h3 id="visualization-for-new-data">  Visualisasi untuk data baru </h3><br><p>  Setelah mendapatkan informasi itu dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">A. Sumber berbeda A. A. ,</a> Saya membuat visualisasi. </p><br><p>  A. <br>  A. <img src="https://habrastorage.org/webt/ws/au/w5/wsauw53wky7lkl0ffzklyiyomg4.png">  A. A. A. A. <br>  Ada beberapa titik di peta distrik Yek aterinburg paling bergengsi (dan mahal). A. A. A. A. A. <br>  A. A. </p><br><ul><li>  A. A. A. A. Poin ed - flat </li><li>  <strong>O</strong> jalankan ge - stop </li><li>  <strong>Y</strong> ellow - toko </li><li>  <strong>G</strong> TK - TK </li><li>  <strong>B</strong> lue - pendidikan </li><li>  <strong>Saya</strong> ndigo - medis </li><li>  <strong>V</strong> iolet - Metro </li></ul><br><p>  Ya, ada pelangi di sini. </p><br><h3 id="overview">  Ikhtisar </h3><br><p>  Sekarang kami memiliki dataset yang dibatasi dengan geodata dan memiliki beberapa informasi baru </p><br><pre><code class="python hljs">df.head(<span class="hljs-number"><span class="hljs-number">10</span></span>)</code> </pre> <br><p><img src="https://habrastorage.org/webt/pn/wp/2g/pnwp2gqzcxbt25nmahbmri2g9fu.png"></p><br><pre> <code class="python hljs">df.describe()</code> </pre><br><p><img src="https://habrastorage.org/webt/r2/vj/cx/r2vjcx5myydbcx8vqo1p4pneea8.png"></p><br><h2 id="a-good-old-model">  Model lama yang bagus </h2><br><p>  Coba dengan cara yang sama seperti sebelumnya </p><br><pre> <code class="python hljs">y = df.cost X = df.drop(columns=[<span class="hljs-string"><span class="hljs-string">'cost'</span></span>]) X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="hljs-number"><span class="hljs-number">0.2</span></span>,random_state=<span class="hljs-number"><span class="hljs-number">42</span></span>)</code> </pre> <br><p>  Kemudian kami melatih model kami lagi, menyilangkan jari kami dan mencoba memprediksi harga flat lagi. </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.linear_model <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> LinearRegression regressor = LinearRegression() model = regressor.fit(X_train, y_train) do_cross_validation(X_test, y_test, model)</code> </pre> <br><p><img src="https://habrastorage.org/webt/e_/af/fl/e_affl53a0ey291a3_rzscwst20.png"></p><br><p>  Hmm ... itu terlihat lebih baik dari hasil sebelumnya dengan akurasi 73%. <br>  Bagaimana dengan mencoba interpretasi?  Model kami sebelumnya memiliki kemampuan yang cukup baik untuk menjelaskan harga flat. </p><br><pre> <code class="python hljs">estimate_model(regressor)</code> </pre> <br><p><img src="https://habrastorage.org/webt/tv/db/vs/tvdbvsugcwrsekxthskddg0uyto.png"></p><br><p>  Ups ... Model baru kami berfungsi baik dengan fitur lama, tetapi perilaku dengan yang baru tampak aneh. </p><br><p>  Sebagai contoh, semakin banyak institusi pendidikan atau medis menyebabkan penurunan harga flat.  Oleh karena itu, jumlah pemberhentian di dekat flat adalah situasi yang identik dan harus mendapatkan kontribusi tambahan pada harga flat. <br>  Model baru lebih akurat, tetapi tidak cocok dengan kehidupan nyata. </p><br><h2 id="something-is-broken">  Ada yang rusak </h2><br><p>  Mari pertimbangkan apa yang terjadi. </p><br><p>  Pertama-tama - saya ingin mengingatkan Anda bahwa fitur utama dari regresi linier kami adalah ... erm ... linearitas.  Ya, Kapten Obvious ada di sini. </p><br><p>  Jika data Anda kompatibel dengan gagasan "Semakin besar / sewa adalah X semakin besar / sewa akan Y" - regresi linier akan menjadi alat yang baik.  Tetapi geodata lebih kompleks dari yang kita duga. </p><br><p>  Misalnya: </p><br><ul><li>  Ketika dekat flat Anda adalah halte bus itu baik, tetapi jika jumlahnya sekitar 5, itu mengarah ke jalan yang bising dan orang-orang ingin menghindari untuk membeli flat di dekatnya. </li><li>  Jika ada universitas, itu harus memiliki pengaruh yang baik pada harga, <br>  pada saat yang sama kerumunan siswa di dekat rumah Anda tidak begitu senang jika Anda bukan orang yang sangat ramah. </li><li>  Metro di dekat rumah Anda baik, tetapi jika Anda tinggal dalam satu jam dengan berjalan kaki <br>  dari metro terdekat - itu tidak masuk akal. </li></ul><br><p>  Seperti yang Anda lihat - itu tergantung pada banyak faktor dan sudut pandang.  Dan sifat geodata kita tidak linier, kita tidak bisa memperkirakan dampaknya. <br>  Pada saat yang sama, mengapa model dengan koefisien aneh bekerja lebih baik daripada yang sebelumnya? </p><br><pre> <code class="python hljs">plot.figure(figsize=(<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>)) corr = df.corr()*<span class="hljs-number"><span class="hljs-number">100.0</span></span> sns.heatmap(corr[[<span class="hljs-string"><span class="hljs-string">'cost'</span></span>]], cmap= sns.diverging_palette(<span class="hljs-number"><span class="hljs-number">220</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>), center=<span class="hljs-number"><span class="hljs-number">0</span></span>, linewidths=<span class="hljs-number"><span class="hljs-number">1</span></span>, cbar_kws={<span class="hljs-string"><span class="hljs-string">"shrink"</span></span>: <span class="hljs-number"><span class="hljs-number">.7</span></span>}, annot=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, fmt=<span class="hljs-string"><span class="hljs-string">".2f"</span></span>)ï»¿ï»¿ï»¿ï»¿</code> </pre> <br><p><img src="https://habrastorage.org/webt/qu/ja/fg/qujafgl6oqquabiiv_5eyyzhq18.png" alt="Korelasi dengan harga flat"></p><br><p>  Itu terlihat menarik.  Kami telah melihat gambar serupa di bagian sebelumnya. <br>  Ada korelasi negatif antara jarak ke metro terdekat dan harga.  Dan faktor ini berdampak pada akurasi lebih dari beberapa yang lebih tua. </p><br><p>  <strong>Sementara itu</strong> , model kami bekerja berantakan dan tidak melihat ketergantungan antara data yang dikumpulkan dan variabel target.  Kesederhanaan regresi linier memiliki batasnya sendiri.  A. </p><br><h2 id="the-king-is-dead-long-live-the-king">  Raja sudah mati, umur panjang raja! </h2><br><p>  Dan jika regresi linier tidak cocok untuk kasus kami, apa yang bisa lebih baik?  Kalau saja model kami bisa "lebih pintar" ... </p><br><p>  Untungnya, kami memiliki pendekatan yang seharusnya lebih baik karena lebih ... fleksibel dan memiliki mekanisme bawaan "lakukan jika itu melakukan ini lagi lakukan itu". </p><br><p>  <strong>Decision Tree</strong> muncul di tempat kejadian. </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.tree <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> DecisionTreeRegressor A decision tree can have a different depth, usually, it works well when depth <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> bigger. And the parameter of max depth has the biggest influence on the result. Let<span class="hljs-string"><span class="hljs-string">'s do some code for checking depth from 3 to 32 data = [] for x in range(3,32): regressor = DecisionTreeRegressor(max_depth=x,random_state=42) model = regressor.fit(X_train, y_train) accuracy = do_cross_validation(X, y, model) data.append({'</span></span>max_depth<span class="hljs-string"><span class="hljs-string">':x,'</span></span>accuracy<span class="hljs-string"><span class="hljs-string">':accuracy}) data = pd.DataFrame(data) ax = sns.lineplot(x="max_depth", y="accuracy", data=data) max_result = data.loc[data['</span></span>accuracy<span class="hljs-string"><span class="hljs-string">'].idxmax()] ax.set_title(f'</span></span>Max accuracy-{max_result.accuracy}\nDepth {max_result.max_depth} <span class="hljs-string"><span class="hljs-string">')</span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/iq/q1/vp/iqq1vpflhxb2vgpfdqeum6th_vo.png" alt="&quot;Lebih banyak&quot; tidak berarti &quot;Terbaik&quot;"></p><br><p>  Nah ... untuk situasi ketika m A. Ax_depth dari pohon sama dengan 8 akurasi di atas 77. <br>  Dan itu akan menjadi pencapaian yang baik jika kita tidak memikirkan batasan dari pendekatan itu.  Mari kita lihat bagaimana cara kerjanya <em>A. A. M ax_depht = 2 A. A.</em> A. </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> IPython.core.display <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Image, SVG <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.tree <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> export_graphviz <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> graphviz <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Source <span class="hljs-number"><span class="hljs-number">2</span></span>_level_regressor = DecisionTreeRegressor(max_depth=<span class="hljs-number"><span class="hljs-number">2</span></span>, random_state=<span class="hljs-number"><span class="hljs-number">42</span></span>) model = <span class="hljs-number"><span class="hljs-number">2</span></span>_level_regressor.fit(X_train, y_train) graph = Source(export_graphviz(model, out_file=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span> , feature_names=X.columns , filled = <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)) SVG(graph.pipe(format=<span class="hljs-string"><span class="hljs-string">'svg'</span></span>))</code> </pre> <br><p><img src="https://habrastorage.org/webt/tu/aq/nn/tuaqnnpvmhawqb4tmbn9rcix64u.png"></p><br><p>  Pada gambar ini, kita dapat melihat bahwa hanya ada 4 varian prediksi.  Ketika Anda menggunakan <em>DecisionTreeRegressor</em> , ia bekerja secara berbeda dari <em>Regresi Linier</em> .  Hanya berbeda.  Itu tidak menggunakan kontribusi faktor (koefisien), bukannya itu <em>DecisionTreeRegressor</em> menggunakan "kemungkinan".  Dan harga flat akan sama dengan flat yang paling mirip pada prediksi. <br>  Kami dapat menunjukkannya dengan memperkirakan harga kami dengan pohon itu. </p><br><pre> <code class="python hljs">y = two_level_regressor.predict(X_test) errors = pd.DataFrame(data=y,columns=[<span class="hljs-string"><span class="hljs-string">'errors'</span></span>]) f, ax = plot.subplots(figsize=(<span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>)) sns.countplot(x=<span class="hljs-string"><span class="hljs-string">"errors"</span></span>, data=errors)</code> </pre> <br><p><img src="https://habrastorage.org/webt/bw/kl/t3/bwklt3nvb65y2mdmfwlkj0_v_le.png"><br>  Dan setiap prediksi Anda akan cocok dengan salah satu dari nilai-nilai ini.  Dan ketika kita menggunakan <em>max_depth</em> = 8 kita dapat mengharapkan tidak lebih dari 256 opsi berbeda untuk lebih dari 2000 flat.  Mungkin itu bagus untuk masalah klasifikasi, tetapi tidak cukup fleksibel untuk kasus kami. </p><br><h2 id="wisdom-of-crowd">  Kebijaksanaan orang banyak </h2><br><p>  Jika Anda mencoba memprediksi skor di final Piala Dunia - ada kemungkinan besar Anda akan salah.  Pada saat yang sama, jika Anda meminta pendapat semua juri di Kejuaraan - Anda akan memiliki peluang lebih baik untuk menebak.  Jika Anda bertanya pada pakar, pelatih, juri independen dan kemudian melakukan beberapa keajaiban dengan jawaban - peluang Anda akan meningkat secara signifikan.  Sepertinya pemilihan presiden. </p><br><p>  Sebuah ensemble dari beberapa pohon "primitif" dapat memberikan lebih dari masing-masing.  Dan <em>rando mForestRegressor adalah</em> alat yang akan kita gunakan </p><br><p>  Pertama-tama, mari kita pertimbangkan params dasar - <em>max_depth</em> , <em>max_features</em> dan <em>sejumlah pohon</em> dalam model. <br>  A. </p><br><h3 id="number-of-trees">  Jumlah pohon </h3><br><p>  Sesuai dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">"Berapa Banyak Pohon di Hutan Acak?"</a>  pilihan terbaik adalah <strong>128 pohon</strong> .  Peningkatan jumlah pohon lebih lanjut tidak mengarah pada peningkatan akurasi yang signifikan, tetapi menambah waktu untuk pelatihan. </p><br><h3 id="maximal-number-of-features">  Jumlah fitur maksimal </h3><br><p>  Saat ini model kami memiliki 12 fitur.  Setengah dari mereka adalah yang lama yang terkait dengan fitur flat, lainnya terkait dengan geo-konteks.  Jadi saya memutuskan untuk memberikan kesempatan kepada mereka masing-masing.  Biarkan itu menjadi <strong>6 fitur</strong> untuk pohon. </p><br><h3 id="maximal-depth-of-a-tree">  Kedalaman maksimal pohon </h3><br><p>  Untuk parameter itu, kita bisa menganalisis kurva belajar. </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.ensemble <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> RandomForestRegressor data = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>): regressor = RandomForestRegressor(random_state=<span class="hljs-number"><span class="hljs-number">42</span></span>, max_depth=x, n_estimators=<span class="hljs-number"><span class="hljs-number">128</span></span>,max_features=<span class="hljs-number"><span class="hljs-number">6</span></span>)ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿model = regressor.fit(X_train, y_train)ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿ï»¿accuracy = do_cross_validation(X, y, model) data.append({<span class="hljs-string"><span class="hljs-string">'max_depth'</span></span>:x,<span class="hljs-string"><span class="hljs-string">'accuracy'</span></span>:accuracy}) data = pd.DataFrame(data) f, ax = plot.subplots(figsize=(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>)) sns.lineplot(x=<span class="hljs-string"><span class="hljs-string">"max_depth"</span></span>, y=<span class="hljs-string"><span class="hljs-string">"accuracy"</span></span>, data=data) max_result = data.loc[data[<span class="hljs-string"><span class="hljs-string">'accuracy'</span></span>].idxmax()] ax.set_title(<span class="hljs-string"><span class="hljs-string">f'Max accuracy-</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{max_result.accuracy}</span></span></span><span class="hljs-string">\nDepth </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{max_result.max_depth}</span></span></span><span class="hljs-string"> '</span></span>)</code> </pre> <br><p><img src="https://habrastorage.org/webt/sl/mw/ca/slmwcayhk5w0tlediopsbku7dde.png" alt="86% akurasi luar biasa"></p><br><p>  Whoa ... akurasi lebih dari 86% pada <strong>max_depth = 16</strong> melawan 77% pada satu pohon desain.  Terlihat luar biasa, bukan? </p><br><h2 id="conclusion">  Kesimpulan </h2><br><p>  Baiklah ... sekarang kita memiliki hasil prediksi yang lebih baik daripada prediksi sebelumnya, 86% mendekati garis finish.  Langkah terakhir untuk memeriksa - mari kita lihat pentingnya fitur.  Apakah geodata memberi manfaat pada model kami? </p><br><pre> <code class="python hljs">feat_importances = model.feature_importances_ feat_importances = pd.Series(feat_importances, index=X.columns) feat_importances.nlargest(<span class="hljs-number"><span class="hljs-number">5</span></span>).plot(kind=<span class="hljs-string"><span class="hljs-string">'barh'</span></span>)</code> </pre> <br><p><img src="https://habrastorage.org/webt/cn/bm/im/cnbmimno-ma3r0qbqozoq7diwrw.png" alt="Bagian atas 5 fitur paling penting"></p><br><p>  Beberapa fitur lama masih mempengaruhi hasilnya.  Pada saat yang sama jarak ke metro dan taman kanak-kanak terdekat juga telah terpengaruh.  Dan itu terdengar masuk akal. </p><br><p>  Tanpa ragu, geodata membantu kami meningkatkan model kami. </p><br><p>  <strong>Terima kasih sudah membaca!</strong> </p><br><h2 id="ps">  PS </h2><br><p>  Perjalanan kita belum selesai.  Keakuratan 86% adalah hasil yang luar biasa untuk data nyata.  Sementara itu, di sini ada celah kecil antara 14% dan 10% dari kesalahan rata-rata, yang kami harapkan.  Dalam bab selanjutnya dari kisah kami, kami akan mencoba untuk mengatasi penghalang ini atau setidaknya untuk mengurangi kesalahan ini. A. A. A. A. A. A.  A. A. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Ada</a> IPython-notebook </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id470710/">https://habr.com/ru/post/id470710/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id470692/index.html">Bagaimana kami membuat situs web Rosbank baru, dan apa yang terjadi</a></li>
<li><a href="../id470694/index.html">Memilih platform pemasaran email: apa yang harus diperhatikan perusahaan Rusia</a></li>
<li><a href="../id470696/index.html">Mengapa Kaldi bagus untuk pengenalan ucapan? (diperbarui 12.25.2019)</a></li>
<li><a href="../id470700/index.html">Meja. Logam Diam Milikmu</a></li>
<li><a href="../id470706/index.html">Python + Keras + LSTM: lakukan penerjemah teks dalam waktu setengah jam</a></li>
<li><a href="../id470714/index.html">Bagaimana saya pergi ke Final Terobosan Digital</a></li>
<li><a href="../id470718/index.html">"Efek aljabar" dalam bahasa manusia</a></li>
<li><a href="../id470720/index.html">Bagaimana cara menulis kontrak pintar dengan Python pada Ontologi? Bagian 2: API Penyimpanan</a></li>
<li><a href="../id470722/index.html">Bagaimana cara menulis kontrak pintar dengan Python pada Ontologi? Bagian 3: Runtime API</a></li>
<li><a href="../id470726/index.html">Bagaimana tidak tenggelam dalam rutinitas, atau Pengalaman kami membandingkan AWR dumps selama stress testing</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>