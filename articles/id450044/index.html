<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌔 🗜️ 🏂🏾 Mencari masalah di tempat yang salah 🍆 🧑🏼‍🤝‍🧑🏼 🤜🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ini adalah cerita pendek dari praktik nyata, ketika masalah kecil, disamarkan dengan baik oleh toleransi kesalahan, berubah menjadi sakit kepala. 

 D...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mencari masalah di tempat yang salah</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450044/">  Ini adalah cerita pendek dari praktik nyata, ketika masalah kecil, disamarkan dengan baik oleh toleransi kesalahan, berubah menjadi sakit kepala. <br><a name="habracut"></a><br><h2>  Disposisi kecil </h2><br>  Cabang kecil, ia memiliki PBX sendiri (asterisk + FreePBX) berbasis desktop besi dan server terminal lokal yang sama dengan 1C, penyimpanan file, dan pengontrol domain RO virtual.  Internet mendistribusikan Mikrotik.  Cabang kecil sudah cukup untuk mereka. <br><br>  Semuanya dimulai dengan pemantauan (karena kurangnya waktu dan kemalasan, bukan semuanya monitor), yang melaporkan terlalu panasnya satu server (dari PBX) di cabang.  Sementara penduduk setempat memecahkan masalah, orang tua itu jatuh dan merusak sedikit dari database MySQL. <br><br><h3>  Banyak masalah, tapi bukan ini ... </h3><br>  Tidak masalah, pangkalan diperbaiki, semuanya harus bekerja.  Tapi penduduk setempat mengeluh, teleponnya rusak.  Oke - ada masalah di FreePBX, saya akan mengambil cadangan, menyebarkannya, semuanya OK. <br><br>  Tapi masalahnya ada di tempat, penduduk setempat masih mengeluh, panggilan tidak berjalan dengan baik.  Di depan mereka, panggilan berlalu dengan normal, tetapi ketika mereka sendiri memanggil, atau saling memanggil, penundaan beberapa detik diperoleh.  Saya mulai melihat log Asterisk dan FreePBX yang tebal dan tidak jelas, mereka tidak dapat melihat masalahnya.  Saya ingat ada masalah dengan STUN dan ICE, yang memberikan penundaan serupa.  Saya mematikannya ke neraka, hasilnya nol. <br><br>
<h3>  Kesedihan adalah cara untuk membuat keputusan yang buruk </h3><br>  Saya berkecil hati, mengambil PBX selama berjam-jam tidak mengarah pada sesuatu yang baik, sudah larut malam, tetapi masalahnya tidak terpecahkan. <br><br>  Dia meninggalkan masalah sampai pagi, berharap kepala baru.  Di pagi hari, keputusan lain yang gagal dibuat: karena sistem telah rusak (walaupun ketergantungan tidak dapat begitu merusak), saya mencoba untuk memperbaiki sistem dengan menginstal ulang semua paket.  Hasilnya sedikit lebih dari nol, penundaan berkurang (tidak signifikan, tetapi sudah sukses). <br><br>  Saya membuat satu lagi keputusan buruk: jika perbaikan sebagian OS (dan basis data dari cadangan) tidak banyak berhasil, dan akar masalahnya masih belum jelas, dan pada saat yang sama banyak waktu telah dihabiskan untuk menemukan penyebabnya, maka saya memutuskan untuk bertindak secara radikal: kita menghapus OS dan kami menggulung semuanya dari awal (manfaat dari otomatisasi proses melakukan ini dalam waktu yang dapat diterima).  Saya menggulung konfigurasi FreePBX dari salinan.  Kegagalan lain.  Hasilnya nol! <br><br><h3>  Keputusasaan - pikiran dibayangi, keputusan menjadi lebih buruk </h3><br>  Saya jatuh dalam keputusasaan.  Pikiran yang sangat buruk mulai datang, saya pikir: mungkin conf di cadangan adalah kurva (saya memilikinya setelah sejumlah pembaruan yang tidak berhasil setelah mereka, dan saya tidak dapat menemukan alasannya), tidak ada yang tersisa: Anda perlu menggulung semuanya dari awal dengan tangan Anda.  Sayang sekali!  Hasilnya benar-benar nol, dan bahkan menghabiskan banyak waktu! <br><br><h3>  Penerimaan adalah jalan menuju kesadaran </h3><br>  Dalam upaya putus asa untuk memahami apa yang terjadi, saya mulai mempelajari log dengan hati-hati.  Saya perhatikan sebuah pola.  Ekstensi panggilan tepat 5 detik, dan untuk sekelompok panggilan dari 3 Ekstensi dalam 15!  Saya mulai ke Google tentang penundaan panggilan, tetapi sudah menunjukkan penundaan tertentu.  Dan saya menemukan jawaban yang sudah saya temukan, orang mengatakan bahwa masalahnya ada di DNS, tapi saya tahu pasti, tidak ada masalah, semua alamat diselesaikan! <br><br><h3>  Yang jelas adalah yang luar biasa </h3><br>  Tidak ada yang bisa dilakukan, ambil nslookup dan bingo (saya berharap bisa segera melakukannya!)  Kebohongan DNS primer (virtualka dengan controller), tapi saya tidak melihat!  Akan ada satu DNS, akan segera ada kesalahan;) <br><br><h3>  Ringkasan </h3><br>  Masalah mendasar yang dapat dilihat oleh pemantauan (masih harus dikonfigurasi untuk semua node), ditutupi oleh ketahanan DNS, menyebabkan hilangnya hampir dua hari kerja untuk menyelesaikan situasi bodoh.  Terlalu malas semua api kecil, mengatur pemantauan sebentar - mencari masalah di mana itu tidak ada - dua hari. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id450044/">https://habr.com/ru/post/id450044/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id450032/index.html">Cara membuat tema gelap tanpa merusak: belajar dengan tim Yandex Mail</a></li>
<li><a href="../id450034/index.html">Mengapa Anda harus berpartisipasi dalam hackathons</a></li>
<li><a href="../id450036/index.html">Summ3r 0f h4ck: magang Keamanan Digital 2019</a></li>
<li><a href="../id450040/index.html">Perusahaan baru akan mendukung OpenJDK 8 dan 11 - kami memahami situasinya</a></li>
<li><a href="../id450042/index.html">Tata letak keyboard diperpanjang Rusia</a></li>
<li><a href="../id450048/index.html">Komentar tentang perubahan Undang-Undang Federal No. 149-ФЗ “Tentang Informasi, Teknologi Informasi, dan Perlindungan Informasi”</a></li>
<li><a href="../id450050/index.html">Dasar-dasar pemrograman reaktif menggunakan RxJS. Bagian 3. Observasi Tingkat Tinggi</a></li>
<li><a href="../id450054/index.html">Meretas token jwt</a></li>
<li><a href="../id450056/index.html">Bayar Perhatian # 2: Intisari Artikel tentang Pemikiran Produk, Psikologi Perilaku, dan Produktivitas Pribadi</a></li>
<li><a href="../id450058/index.html">Resume orang itu</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>