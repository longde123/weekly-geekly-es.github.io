<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👌🏾 🗳️ 👊🏼 PHP 7.3. Apa yang baru? 🤟🏼 🙎🏽 👕</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sintaks 


1. Lembutkan Persyaratan Sintered Heredoc dan Nowdoc 
2. Dukungan untuk membuntuti koma dalam panggilan fungsi dan metode 
3. Tautan dalam ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PHP 7.3. Apa yang baru?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/422507/"><p><img src="https://habrastorage.org/webt/qb/0s/qb/qb0sqbtbsney4hzc4erkjjqo0ki.png"></p><br><h1 id="sintaksis">  Sintaks </h1><br><ol><li>  Lembutkan Persyaratan Sintered Heredoc dan Nowdoc </li><li>  Dukungan untuk membuntuti koma dalam panggilan fungsi dan metode </li><li> Tautan dalam <code>list()</code> </li></ol><br><h1 id="ustarevshie-vozmozhnosti-deprecated">  Fitur usang (usang) </h1><br><ol><li>  <code>image2wbmp()</code> tidak digunakan lagi </li><li>  Bendera <code>FILTER_FLAG_SCHEME_REQUIRED</code> dan <code>FILTER_FLAG_HOST_REQUIRED</code> saat menggunakan <code>FILTER_VALIDATE_URL</code> </li><li>  Daftarkan konstanta independen tidak digunakan lagi </li></ol><br><h1 id="novye-vozmozhnosti">  Fitur baru </h1><br><ol><li>  Pengecualian opsional untuk kesalahan dalam <code>json_decode</code> <code>json_encode</code> dan <code>json_decode</code> </li><li>  Menambahkan fungsi <code>is_countable()</code> </li><li>  Menambahkan fungsi <code>array_key_first()</code> dan <code>array_key_last()</code> <a name="habracut"></a></li></ol><br><h1 id="izmeneniya">  Perubahan </h1><br><ol><li>  Bermigrasi dari PCRE ke PCRE2 </li></ol><br><h2 id="smyagchenie-trebovaniy-k-sintaksisu-heredoc-i-nowdoc">  Lembutkan Persyaratan Sintered Heredoc dan Nowdoc </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Heredoc</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Nowdoc</a> menuntut untuk menempatkan pengidentifikasi penutup pertama di baris baru. </p><br><p>  Contoh: </p><br><pre> <code class="php hljs">$foo = &lt;&lt;&lt;IDENTIFIER the crazy dog jumps over the lazy fox <span class="hljs-string"><span class="hljs-string">"foo"</span></span> bar; IDENTIFIER</code> </pre> <br><p>  Di sini, <code>IDENTIFIER</code> penutup <em>harus</em> menjadi karakter pertama pada baris baru agar ini berfungsi.  Selain itu, seharusnya tidak ada karakter lain setelah pengidentifikasi penutup (kecuali <code>;</code> yang opsional). </p><br><p>  RFC untuk PHP 7.3 menyarankan untuk menghapus persyaratan ini untuk meningkatkan keterbacaan kode.  Pertama-tama, untuk menambahkan lekukan saat menggunakan pengidentifikasi <code>heredoc/nowdoc</code> . </p><br><p>  Daftar lengkap perubahan pada sintaks <code>heredoc/nowdoc</code> : </p><br><ol><li>  Pengidentifikasi penutup tidak harus menjadi karakter pertama dalam string. </li><li>  Pengidentifikasi penutup diberi indentasi dengan spasi atau tab. </li><li>  Lekukan (spasi atau tab) tidak boleh dicampur.  Jika Anda melakukan ini, Anda akan mendapatkan <code>Parse error: Invalid indentation - tabs and spaces cannot be mixed in .. on line ..</code> </li><li>  Jumlah persis spasi / tab yang digunakan sebelum pengidentifikasi penutup akan dihapus dari setiap baris ekspresi <code>heredoc/nowdoc</code> . </li><li>  Jika jumlah karakter indentasi yang digunakan sebelum pengidentifikasi penutup lebih besar daripada di salah satu baris ekspresi, Anda akan mendapatkan <code>Parse error: Invalid body indentation level (expecting an indentation level of at least ..) in .. on line ..</code> </li><li>  beberapa ekspresi setelah pengidentifikasi penutup akan berfungsi tanpa kesalahan </li></ol><br><p>  Berikut ini cuplikan yang memanfaatkan fitur baru tanpa melanggar aturan baru: </p><br><pre> <code class="php hljs">$foo = [<span class="hljs-string"><span class="hljs-string">'foo'</span></span>, <span class="hljs-string"><span class="hljs-string">'bar'</span></span>, &lt;&lt;&lt;EOT baz - hello world! -- ahoy EOT, <span class="hljs-string"><span class="hljs-string">'qux'</span></span>, <span class="hljs-string"><span class="hljs-string">'quux'</span></span> ]; var_dump($foo);</code> </pre> <br><p>  Outputnya adalah: </p><br><pre> <code class="plaintext hljs">array(5) {        [0]=&gt;           string(3) "foo" [1]=&gt;           string(3) "bar" [2]=&gt;           string(29) "baz - hello world! -- ahoy" [3]=&gt; string(3) "qux" [4]=&gt; string(4) "quux" }     `</code> </pre> <br><p>  Perhatikan bahwa lekukan yang digunakan dalam deklarasi menggunakan <code>heredoc</code> tidak ditampilkan dalam output <code>var_dump()</code> , dan kami terus membuat daftar elemen array setelah pengidentifikasi <code>EOT</code> . </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>RFC</em></a> <em>,</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>diskusi tentang Externals.io</em></a> <em>,</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>implementasi</em></a> </p><br><h3 id="vliyanie-na-obratnuyu-sovmestimost">  Dampak Kompatibilitas Mundur </h3><br><p>  Sampai Anda menggunakan satu set <code>heredox/nowdoc</code> karakter <code>heredox/nowdoc</code> identik sebagai awal baris, Anda berada di atas kuda. </p><br><pre> <code class="php hljs">$foo = &lt;&lt;&lt;HELLO HELLO_WORLD &lt;--         HELLOWORLD &lt;--     HELLO WORLD &lt;--    HELLO;</code> </pre> <br><p>  Jika Anda memiliki sintaks <code>heredoc/nowdoc</code> mirip dengan yang dijelaskan di atas, saya perhatikan bahwa dengan PHP 7.3, PHP akan menerima <code>HELLO</code> literal pertama dan melemparkan kesalahan pada baris berikutnya.  Dalam versi sebelumnya, <code>HELLO WORLD</code> tidak dianggap sebagai pengidentifikasi penutup untuk heredoc.  Terima kasih <em>/ u / ImSuperObjective2</em> dengan reddit untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">menunjukkan ini</a> </p><br><h2 id="podderzhka-konechnyh-zapyatyh-v-vyzovah-funkciy-i-metodov">  Dukungan untuk membuntuti koma dalam panggilan fungsi dan metode </h2><br><p>  Ini adalah perubahan sederhana yang memungkinkan penggunaan tanda koma dalam <em>panggilan</em> fungsi dan metode.  Ini tidak mempengaruhi deklarasi. </p><br><p>  Misalnya, sintaks berikut akan menjadi mungkin: </p><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//  foo('bar', 'baz',); //        'baz'</span></span></code> </pre> <br><p>  Dalam versi pra-PHP-7.3, cuplikan di atas melempar <code>PHP Parse error: syntax error, unexpected ')' in .. on line ..</code> </p><br><p>  Anda tidak dapat menggunakan lebih dari satu koma di bagian akhir atau menggunakan koma untuk melewati argumen.  Ini terutama merupakan perubahan untuk fungsi dengan parameter variabel.  Juga dengan pengeditan baru, sintaks array akan terlihat lebih konsisten. </p><br><p>  Perhatikan bahwa Anda tidak dapat menggunakan fitur ini dalam deklarasi fungsi / metode;  ini salah: </p><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($bar, $baz, )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// nah, you can't do this. }</span></span></code> </pre> <br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>RFC</em></a> <em>,</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>diskusi tentang Externals.io</em></a> <em>,</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>implementasi</em></a> </p><br><h3 id="vliyanie-na-obratnuyu-sovmestimost-1">  Dampak Kompatibilitas Mundur </h3><br><p>  Tidak ada  Kode yang ada akan terus berfungsi.  Jika Anda memiliki panggilan fungsi yang menerima parameter variabel, tambahkan tanda koma ke tempat-tempat ini untuk kenyamanan.  Tetapi menggunakannya di mana-mana jelas terlalu banyak. </p><br><h2 id="ssylki-v-list">  Tautan dalam <code>list()</code> </h2><br><p>  Fungsi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><code>list()</code></a> berguna untuk dengan cepat memberikan nilai ke variabel dari array.  Sebelum PHP 7.3, itu tidak mungkin untuk menentukan variabel dengan referensi.  Sebelum PHP 7.3, cuplikan berikut ini menyebabkan kesalahan fatal: </p><br><pre> <code class="php hljs">$arr = [<span class="hljs-string"><span class="hljs-string">'apple'</span></span>, <span class="hljs-string"><span class="hljs-string">'orange'</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">list</span></span>($a, &amp;$b) = $arr; $b = <span class="hljs-string"><span class="hljs-string">'banana'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $arr[<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-comment"><span class="hljs-comment">// Fatal error: [] and list() assignments cannot be by reference in .. on line ..</span></span></code> </pre> <br><p>  Tidak mungkin merujuk ke variabel yang <code>non-referencable</code> : <code>list($a, &amp;$b) = [12, 14];</code>  akan memberikan <code>Fatal error: Cannot assign reference to non referencable value in .. on line ..</code> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>RFC</em></a> <em>,</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>diskusi tentang Externals.io</em></a> <em>,</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>implementasi</em></a> </p><br><h3 id="vliyanie-na-obratnuyu-sovmestimost-2">  Dampak Kompatibilitas Mundur </h3><br><p>  Tidak.  Alih-alih menggunakan <code>list()</code> untuk mengisi beberapa variabel, saya sarankan Anda menggunakan objek nilai untuk membuat hal-hal lebih sederhana.  Mereka masih akan diteruskan dengan referensi, tetapi akan membuat kode Anda jauh lebih bersih. </p><br><h2 id="funkciya-image2wbmp-obyavlena-ustarevshey">  <code>image2wbmp()</code> tidak digunakan lagi </h2><br><p>  fungsi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><code>image2wbmp()</code></a> dari ekstensi GD digunakan untuk menampilkan gambar dalam format WBMP (Wireless Bitmap).  Dalam PHP 7.3, ia tidak lagi mendukung fungsi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><code>imagewbmp()</code></a> . </p><br><p>  Jika Anda menggunakan <code>image2wbmp()</code> , maka ganti saja nama fungsi dengan <code>imagewbmp</code> dan semuanya akan baik-baik saja!  Lebih dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><code>5,500  image2wbmp()</code></a> di github versus lebih dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><code>39,300  imagewbmp()</code></a> .  Sepertinya tim pengembang PHP menghilangkan fitur yang jarang digunakan untuk meminimalkan dampak. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>RFC</em></a> <em>,</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>diskusi tentang Externals.io</em></a> <em>,</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>implementasi</em></a> </p><br><h3 id="vliyanie-na-obratnuyu-sovmestimost-3">  Dampak Kompatibilitas Mundur </h3><br><p>  Jika Anda menggunakan fungsi <code>image2wbmp()</code> , ganti panggilan dengan <code>imagewbmp</code> .  Manfaatkan otomatisasi yang dapat mengubah ini untuk Anda. </p><br><h2 id="flagi-filter_flag_scheme_required-i-filter_flag_host_required-pri-ispolzovanii-filter_validate_url-obyavleny-ustarevshimi">  Bendera <code>FILTER_FLAG_SCHEME_REQUIRED</code> dan <code>FILTER_FLAG_HOST_REQUIRED</code> saat menggunakan <code>FILTER_VALIDATE_URL</code> </h2><br><p>  Ini adalah gerakan maju.  Saat Anda menggunakan <code>filter_var($var, FILTER_VALIDATE_URL)</code> , ada dua flag tambahan yang dapat diatur untuk memastikan pengecekan URL yang ketat: <code>FILTER_FLAG_SCHEME_REQUIRED</code> dan <code>FILTER_FLAG_HOST_REQUIRED</code> . <br>  Dimulai dengan PHP 5.2.1, kedua flag ini diterapkan secara implisit terlepas dari apakah mereka disetel atau tidak. </p><br><p>  Jika kode Anda menggunakan flag-flag ini, hapus saja dan itu akan baik-baik saja.  Saat ini ada lebih dari 5.000 hasil pencarian github yang menggunakannya. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>RFC</em></a> <em>,</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>diskusi tentang Externals.io</em></a> <em>,</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>implementasi</em></a> </p><br><h3 id="vliyanie-na-obratnuyu-sovmestimost-4">  Dampak Kompatibilitas Mundur </h3><br><p>  Karena kedua flag ini sudah usang, Anda akan melihat notifikasi seperti: </p><br><pre> <code class="plaintext hljs">Deprecated: filter_var(): explicit use of FILTER_FLAG_SCHEME_REQUIRED and FILTER_FLAG_HOST_REQUIRED is deprecated in ...</code> </pre> <br><p>  Yang harus Anda lakukan hanyalah menghapus dua flag, sebagai  mereka <code>FILTER_VALIDATE_URL</code> tersirat saat menggunakan <code>FILTER_VALIDATE_URL</code> . </p><br><h2 id="registro-nezavisimye-konstanty-obyavleny-ustarevshimi">  Daftarkan konstanta independen tidak digunakan lagi </h2><br><p>  Fungsi <code>define()</code> memungkinkan Anda untuk mendeklarasikan konstanta dalam mode case-insensitive.  Anda harus secara eksplisit mendeklarasikan konstanta case-sensitive dengan melewatkan parameter ketiga dari fungsi <code>true</code> .  Ini bukan perilaku default dan mungkin tidak konsisten dengan kemampuan untuk mendeklarasikan konstanta melalui kata kunci <code>const</code> . </p><br><pre> <code class="php hljs">define(<span class="hljs-string"><span class="hljs-string">'Foo'</span></span>, <span class="hljs-string"><span class="hljs-string">'Bar'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>);</code> </pre> <br><p>  Kode di atas akan membuang pemberitahuan usang: <code>Deprecated: define(): Declaration of case-insensitive constants is deprecated in ...</code> </p><br><p>  Selain itu, ketika Anda mencoba mengakses konstanta yang dideklarasikan dalam mode <code>Deprecated: Case-insensitive constants are deprecated. The correct casing for this constant is "Foo"</code> ( <code>FOO</code> ), Anda akan melihat peringatan yang cukup berguna: <code>Deprecated: Case-insensitive constants are deprecated. The correct casing for this constant is "Foo"</code> <code>Deprecated: Case-insensitive constants are deprecated. The correct casing for this constant is "Foo"</code> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>RFC</em></a> <em>,</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>diskusi tentang Externals.io</em></a> <em>,</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>implementasi</em></a> </p><br><h3 id="vliyanie-na-obratnuyu-sovmestimost-5">  Dampak Kompatibilitas Mundur </h3><br><p>  Anda harus pergi ke kode dasar, di mana konstanta register-independen dideklarasikan dan kemudian diperbaiki.  Sangat tidak mungkin akan ada masalah dengan ini, karena agak sulit untuk menangkap semua kasus penggunaan, tetapi sebagai hasilnya kode akan menjadi lebih jelas. </p><br><p>  Saya belum menemukan contoh penggunaan ini di github, tetapi setidaknya Drupal dan WordPress (dua proyek PHP yang cukup tua dan matang) memiliki konstanta case-insensitive. </p><br><h2 id="opcionalnyy-vybros-isklyucheniy-pri-oshibkah-v-funkciyah-json_encode-i-json_decode">  Pengecualian opsional untuk kesalahan dalam <code>json_decode</code> <code>json_encode</code> dan <code>json_decode</code> </h2><br><p>  Salah satu favorit saya.  Selama bertahun-tahun, <code>json_encode()</code> dan <code>json_decode()</code> diam tentang kesalahan dalam variabel PHP atau string json, yang menyebabkan kode yang ditandai.  Kasus ini bahkan dalam kritik terkenal <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PHP: Fraktal desain yang buruk</a> . </p><br><blockquote>  <code>json_decode</code> mengembalikan null untuk input yang tidak valid, sedangkan null adalah objek yang benar-benar benar untuk JSON yang didekodekan.  Fungsi ini sama sekali tidak dapat diandalkan, kecuali tentu saja Anda memanggil <code>json_last_error</code> setiap kali Anda menggunakannya. </blockquote><p>  Butuh 6 tahun setelah posting blog itu dan kami memiliki kesempatan untuk mendapatkan kesalahan tentang kegagalan json: </p><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { json_decode(<span class="hljs-string"><span class="hljs-string">"{"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, <span class="hljs-number"><span class="hljs-number">512</span></span>, JSON_THROW_ON_ERROR); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (\JsonException $exception) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $exception-&gt;getMessage(); <span class="hljs-comment"><span class="hljs-comment">//  "Syntax error" }</span></span></code> </pre> <br><p>  <code>\JsonException</code> adalah turunan dari <code>\Exception</code> , serta konstanta <code>JsonException</code> dan <code>JsonException</code> sendiri berada di namespace global. </p><br><p>  Saya sangat menyarankan Anda mulai menggunakan fitur ini.  Ada perpustakaan pihak ketiga, seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">daverandom / exceptional-json</a> , yang mengimplementasikan fungsionalitas serupa untuk versi PHP 7.2 dan di bawahnya.  Dengan tampilan fungsi ini di inti PHP, Anda dapat menghapus paket ini dan berton-ton kode template jelek dengan panggilan <code>json_last_error()</code> di setiap tempat Anda bekerja dengan json. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>RFC</em></a> <em>,</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>diskusi tentang Externals.io</em></a> <em>,</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>implementasi</em></a> </p><br><h3 id="vliyanie-na-obratnuyu-sovmestimost-6">  Dampak Kompatibilitas Mundur </h3><br><p>  Tidak ada apa-apa jika Anda tidak menggunakan pengecualian Anda sendiri dan / atau konstan dengan nama yang sama. </p><br><h2 id="dobavlenie-funkcii-is_countable">  Menambahkan fungsi <code>is_countable()</code> </h2><br><p>  PHP 7.2 memiliki banyak fungsi yang usang dan bermasalah.  Jika Anda menggunakan PHP 7.2.  <code>count()</code> panggilan <code>count()</code> menggunakan variabel yang tidak <code>countable</code> , maka PHP akan menampilkan peringatan tentang ini.  Dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pengeditan umum,</a> ada proposal untuk memeriksa variabel yang dihasilkan untuk <code>countable</code> sebelum menggunakannya dalam <code>count()</code> . </p><br><p>  <code>countable</code> -variable adalah array atau objek yang mengimplementasikan <code>\Countable</code> interface.  Karena banyak kode boilerplate akan digunakan selama verifikasi, PHP 7.3 memperkenalkan fungsi baru <code>is_countable()</code> , yang memeriksa variabel untuk ... yah ... kemungkinan menggunakan <code>count()</code> . </p><br><p>  Saya menulis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">polyfile untuk is__countable ()</a> jika Anda ingin mulai menggunakan fitur ini sekarang. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>RFC</em></a> <em>,</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>diskusi tentang Externals.io</em></a> <em>,</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>implementasi</em></a> </p><br><h3 id="vliyanie-na-obratnuyu-sovmestimost-7">  Dampak Kompatibilitas Mundur </h3><br><p>  Sampai fungsinya sendiri <code>is_countable()</code> , tidak akan ada masalah. </p><br><h2 id="dobavlenie-funkciy-array_key_first-i-array_key_last">  Menambahkan fungsi <code>array_key_first()</code> dan <code>array_key_last()</code> </h2><br><p>  Di PHP, ada 75 fungsi yang berbeda untuk bekerja dengan array, tetapi sejauh ini belum ada cara mudah untuk mendapatkan kunci pertama dan terakhir dari sebuah array tanpa mengubah pointer array atau mengulangi semua kunci (melalui <code>array_keys()</code> ) dan kemudian mendapatkan nilai pertama / terakhir. </p><br><p>  Dua fungsi baru telah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><code>array_key_first()</code></a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><code>array_key_first()</code></a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><code>array_key_last()</code></a> memungkinkan Anda untuk melakukan ini. </p><br><p>  RFC juga menyarankan untuk menambahkan <code>array_value_first()</code> dan <code>array_value_last()</code> , tetapi bagian ini tidak memberikan suara. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>RFC</em></a> <em>,</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>diskusi tentang Externals.io</em></a> <em>,</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>implementasi</em></a> </p><br><h3 id="vliyanie-na-obratnuyu-sovmestimost-8">  Dampak Kompatibilitas Mundur </h3><br><p>  Jika Anda tidak mendeklarasikan fungsi <code>array_key_first()</code> dan <code>array_key_last()</code> Anda sendiri, maka tidak ada masalah. </p><br><h2 id="migraciya-s-pcre-na-pcre2">  Bermigrasi dari PCRE ke PCRE2 </h2><br><p>  PHP menggunakan <em>Ekspresi Reguler Kompatibel Perl</em> atau yang tidak lama <em>PCRE</em> di perpustakaan untuk bekerja dengan ekspresi reguler.  Sejak PHP 7.2, versi 8.x dari PCRE Legacy Library telah digunakan, dan dalam PHP 7.3 PCRE2 sudah akan digunakan.  Harap perhatikan bahwa PCRE2 dianggap sebagai perpustakaan baru, meskipun sebagian besar kompatibel dengan PCRE (8.x). </p><br><p>  Perpustakaan baru lebih agresif dalam validasi pola dan dapat menyebabkan kesalahan dalam kode yang ada.  Cuplikan berikut akan tidak valid dengan PHP 7.3: </p><br><pre> <code class="php hljs">preg_match(<span class="hljs-string"><span class="hljs-string">'/[\w-.]+/'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>);</code> </pre> <br><p>  PHP akan memberikan peringatan. <code>Warning: preg_match(): Compilation failed: invalid range in character class at offset 3</code> . <br>  Masalah dengan pola: agar ini berfungsi, tanda hubung harus dipindahkan ke akhir atau melarikan diri. </p><br><pre> <code class="php hljs">preg_match(<span class="hljs-string"><span class="hljs-string">'/[\w\-.]+/'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>);</code> </pre> <br><p>  Kode di atas akan berfungsi dengan baik tidak hanya dengan PHP 7.3, tetapi juga dengan versi yang lebih lama.  Dalam pola baru, tanda hubung dilepaskan <code>-</code> ke <code>\-</code> .  Ini adalah masalah paling umum yang mungkin Anda temui ketika menyelesaikan masalah kompatibilitas. </p><br><p>  Ini adalah perubahan yang sangat kecil, tetapi ada kemungkinan bahwa semuanya akan salah.  Pesan kesalahan menunjukkan posisi tepat karakter dalam ekspresi reguler.  Pastikan untuk memeriksa kode Anda dengan cermat.  Periksa ekspresi reguler Anda untuk kompatibilitas dengan sintaks PCRE2 melalui <code>Regex Buddy</code> atau perangkat lunak serupa lainnya.  Lihat deskripsi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sintaks PCRE2</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sintaks PCRE</a> lama <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">untuk</a> informasi lebih lanjut. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>RFC</em></a> <em>,</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>diskusi tentang Externals.io</em></a> <em>,</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><em>implementasi</em></a> </p><br><h3 id="vliyanie-na-obratnuyu-sovmestimost-9">  Dampak Kompatibilitas Mundur </h3><br><p>  Karena PCRE2 lebih pilih-pilih dan ketat tentang template, beberapa <code>preg_match()</code> dan panggilan serupa mungkin tidak berfungsi.  Perbaikan bervariasi dari hanya memperbarui templat (misalnya, melarikan diri tanda hubung) ke templat penulisan ulang.  Pastikan semua tes Anda lulus. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id422507/">https://habr.com/ru/post/id422507/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id422493/index.html">Kubernetes (k8s) + Helm + GitLab CI / CD. Sebarkan dengan benar</a></li>
<li><a href="../id422495/index.html">Kisah tentang ikon lama. Teka-teki 18 warna. Warna transparan dan terbalik</a></li>
<li><a href="../id422497/index.html">ICANN telah menerbitkan panduan terperinci tentang apa yang diharapkan ketika meningkatkan KSK di zona akar</a></li>
<li><a href="../id422499/index.html">Sekali lagi tentang komponen web ...</a></li>
<li><a href="../id422501/index.html">Proses teknologi baru untuk produksi microchip semakin ditunda - mengapa?</a></li>
<li><a href="../id422509/index.html">Ringkasan buku "Never Eat Alone"</a></li>
<li><a href="../id422511/index.html">Memuat data ke dalam Splunk: Universal Forwarder vs Heavy Forwarder. Apa bedanya?</a></li>
<li><a href="../id422513/index.html">7 tips tentang cara tidak membuat marah kolega penguji di liburannya</a></li>
<li><a href="../id422515/index.html">Dua Apache Ignite mitaps dan In-Memory Computing webinar pada bulan September</a></li>
<li><a href="../id422517/index.html">TelegramBot di Cloud Wolfram</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>