<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©‚Äçüë©‚Äçüë¶ üë©‚Äçüëß‚Äçüë¶ üìç Trabajar con la API de KOMPAS-3D ‚Üí Lecci√≥n 16 ‚Üí Caracteres de control üíÉüèΩ #‚É£ üòµ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Continuamos la serie de art√≠culos sobre c√≥mo trabajar con CAD API COMPASS-3D. Los personajes de control ya se han visto varias veces en lecciones ante...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Trabajar con la API de KOMPAS-3D ‚Üí Lecci√≥n 16 ‚Üí Caracteres de control</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ascon/blog/457702/">  Continuamos la serie de art√≠culos sobre c√≥mo trabajar con CAD API COMPASS-3D.  Los personajes de control ya se han visto varias veces en lecciones anteriores del ciclo.  Luego, cada vez se dec√≠a que las l√≠neas de salida no deber√≠an contenerlas, ya que COMPAS las procesa de una manera especial.  Ahora es el momento de conocerlos mejor. <br><br>  Habiendo dominado el trabajo con ellos, comprender√° que crear cadenas compuestas complejas es una tarea trivial, en la mayor√≠a de los casos no requiere escribir una gran cantidad de c√≥digo. <br><br>  En la lecci√≥n, veremos c√≥mo usar caracteres especiales y caracteres de fuente con caracteres de control, hablaremos sobre c√≥mo crear fracciones y desviaciones con su ayuda, y tambi√©n consideraremos su uso junto con los p√°rrafos. <br><br><img src="https://habrastorage.org/webt/5c/cs/bd/5ccsbdc8ufpd1vavz6hzfbqasas.png"><br><a name="habracut"></a><br><blockquote><h4>  El contenido de la serie de lecciones "Trabajando con la API KOMPAS-3D" </h4><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Los fundamentos</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Dise√±o de dibujo</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Conexi√≥n correcta a KOMPAS</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Inscripci√≥n principal</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Primitivas gr√°ficas</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Guardar un documento en varios formatos</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Conociendo la configuraci√≥n</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">M√©todos de escritura m√°s sofisticados en el bloque de t√≠tulo</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Lectura de celdas de subt√≠tulos</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Caracteres especiales que incluyen una cadena</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Etiquetas de texto simple</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Cuerdas compuestas</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Los p√°rrafos</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Texto multil√≠nea</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">L√≠neas compuestas basadas en p√°rrafos</a> </li><li>  <b>Personajes de control</b> </li></ol></blockquote><br><h2>  <font color="#00B2FF">Revisi√≥n cursiva</font> </h2><br>  Los caracteres de control son: @, $, &amp;,;, ~, ^ y #.  Desafortunadamente, el SDK de KOMPAS tiene muy poca informaci√≥n sobre c√≥mo usarlos.  Para obtener m√°s informaci√≥n, consulte la ayuda de KOMPAS, en la secci√≥n <i>"9.</i>  <i>Configuraci√≥n de KOMPAS-3D / Almacenamiento de la configuraci√≥n del sistema / Archivos de servicio / Archivo de men√∫ de usuario / Sintaxis de archivo "</i> . <br><br><img src="https://habrastorage.org/webt/ya/jc/cx/yajccx87d-06xfzy5rjhfdlc2wa.png"><br><br>  Todos los caracteres de control se pueden dividir condicionalmente en dos grupos: principal y auxiliar.  Los s√≠mbolos auxiliares se usan solo junto con los principales y, por s√≠ mismos, no describen ning√∫n componente.  La siguiente tabla proporciona una breve descripci√≥n de los caracteres de control. <br><br><img src="https://habrastorage.org/webt/bg/tj/ap/bgtjapszut_xvfq_u2vq0l3rak4.png"><br><br>  Consideremos con m√°s detalle. <br><br><h2>  <font color="#00B2FF">Insertar caracteres especiales</font> </h2><br>  Ya hemos considerado personajes especiales (ver lecciones <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">4</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">10</a> ).  Luego, para insertar un car√°cter especial, se <b>utiliz√≥</b> una instancia separada de la interfaz <b>ksTextItemParam</b> .  Usando caracteres de control, puede insertar tantos caracteres especiales en la cadena como mejor le parezca sin <b>reutilizar la</b> interfaz <b>ksTextItemParam</b> . <br>  La sintaxis para insertar caracteres especiales es: <br><br>  <i><b>AA</b> @ <b>YXXXX</b> ~ <b>BB</b></i> <br><br>  donde <br>  <b>AA</b> : una cadena ubicada antes de un car√°cter especial, <br>  <b>Y</b> - modificador para la representaci√≥n del c√≥digo de caracteres especiales, <br>  <b>XXXX</b> : c√≥digo del car√°cter especial insertado. <br>  <b>BB</b> : una l√≠nea ubicada despu√©s del car√°cter especial. <br><br>  El c√≥digo para el car√°cter especial insertado se especifica entre <i>@</i> y <i>~</i> .  Adem√°s, dependiendo del valor del modificador <b>Y</b> , se puede especificar en notaci√≥n decimal o hexadecimal.  Los valores v√°lidos del modificador <b>Y</b> se muestran en la tabla a continuaci√≥n. <br><br><img src="https://habrastorage.org/webt/pk/td/jq/pktdjqgmgj8ftldxtei4-614ct0.png"><br><br>  <i>Nota:</i> como muestran mis experimentos, COMPASS normalmente procesa la ausencia del car√°cter <i>~</i> .  En este caso, se insertan caracteres especiales seg√∫n sea necesario.  Sin embargo, recomiendo no depender de este comportamiento y completar siempre la operaci√≥n de inserci√≥n con el car√°cter <i>~</i> . <br><br>  El siguiente es un ejemplo de un programa que demuestra la salida de caracteres especiales. <br><br><pre><code class="plaintext hljs">BSTR str = SysAllocString(OLESTR(" @+51~ ")); document2D-&gt;ksText(100.0,100.0,0.0,0.0,0.0,0,str); SysFreeString(str); str = SysAllocString(OLESTR(" @*33~ ")); document2D-&gt;ksText(100.0,90.0,0.0,0.0,0.0,0,str); SysFreeString(str);</code> </pre> <br>  En este ejemplo, el mismo car√°cter (Œ± alfa) se muestra dos veces.  La primera vez que su c√≥digo se especifica en decimal, la segunda vez en hexadecimal.  La siguiente figura muestra el resultado del programa. <br><br><img src="https://habrastorage.org/webt/o3/4b/3i/o34b3igkqgkvdrmze1ky6w4a1es.png"><br><br>  Los caracteres de control le permiten mostrar varios caracteres especiales en la misma l√≠nea.  Entonces, en el siguiente ejemplo, las primeras tres letras del alfabeto griego se muestran en una llamada al m√©todo <b>ksText</b> . <br><br><pre> <code class="plaintext hljs">BSTR str = SysAllocString(OLESTR("@+51~ @+52~ @+53~")); document2D-&gt;ksText(100.0,100.0,0.0,0.0,0.0,0,str); SysFreeString(str);</code> </pre><br>  La siguiente figura muestra el resultado de este programa. <br><br><img src="https://habrastorage.org/webt/mg/_v/xv/mg_vxv17mpco689p7gm6fzhp-ms.png"><br><br>  Modificador + es el modificador predeterminado.  Por lo tanto, la l√≠nea anterior se puede escribir as√≠: <br><br>  <i>"@ 51 ~ @ 52 ~ @ 53 ~"</i> <br><br>  En este caso, el resultado del programa seguir√° siendo el mismo. <br><br>  Si una <i>@ es</i> un car√°cter no v√°lido, la l√≠nea entre <i>@</i> y <i>~</i> se muestra como est√°.  Los caracteres <i>@</i> y <i>~ se</i> omiten.  Por ejemplo, con la l√≠nea: <br><br>  <i>"Antes @ T51 ~ Despu√©s"</i> <br><br>  El documento mostrar√°: <br><br>  <i>Antes T51 Despu√©s</i> <br><br>  <i>Nota:</i> este comportamiento de KOMPAS no est√° documentado y puede variar en diferentes versiones del programa. <br><br>  <i>Nota:</i> los caracteres de control no son adecuados para insertar caracteres especiales que contienen una cadena.  El hecho es que para limitar su acci√≥n, debe usar el indicador SPECIAL_SYMBOL_END (para obtener m√°s detalles, consulte la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">lecci√≥n 10 del</a> ciclo), pero los caracteres de control no permiten el uso de indicadores. <br><br><h2>  <font color="#00B2FF">Insertar caracteres de fuente</font> </h2><br>  Adem√°s de los caracteres especiales, puede insertar caracteres ordinarios por su c√≥digo.  Los caracteres de control <i>^</i> y <i>~</i> se utilizan para esto.  Su sintaxis se da a continuaci√≥n. <br><br>  <i><b>AA</b> ^ ( <b>FNAME</b> ) <b>YXXXX</b> ~ <b>BB</b></i> <br><br>  donde <br>  <b>AA</b> : una cadena ubicada antes del car√°cter insertado, <br>  <b>FNAME</b> : el nombre de la fuente de la que se toma el car√°cter, <br>  <b>Y</b> - modificador para la representaci√≥n del c√≥digo de caracteres (similar a @), <br>  <b>XXXX</b> : c√≥digo num√©rico del car√°cter insertado, <br>  <b>BB</b> : una l√≠nea ubicada despu√©s del car√°cter insertado. <br><br>  Por su prop√≥sito, el car√°cter de control <i>^</i> es similar a <i>@</i> .  Incluso tienen una sintaxis similar.  Pero hay dos diferencias importantes entre ellos: <br><br><ol><li>  <i>^</i> inserta no un car√°cter especial, sino un car√°cter de fuente por su c√≥digo; </li><li>  para que se inserte el car√°cter, puede establecer la fuente en el campo <b>FNAME</b> (@ no permite esto). </li></ol><br>  Los c√≥digos de s√≠mbolos se pueden ver usando la aplicaci√≥n charmap (Tabla de s√≠mbolos), que forma parte del sistema operativo Windows. <br><br>  Si no se especifica ninguna fuente, se utiliza la fuente predeterminada.  El siguiente es un ejemplo usando el car√°cter <i>^</i> . <br><br><pre> <code class="plaintext hljs">BSTR str = SysAllocString(OLESTR(" ^(Arial)*B1~  ^*39~ ")); document2D-&gt;ksText(100.0,100.0,0.0,0.0,0.0,0,str); SysFreeString(str);</code> </pre><br>  En este ejemplo, se insertan dos caracteres en la cadena resultante, para el primero seleccionamos la fuente <i>Arial</i> , para el segundo dejamos la fuente predeterminada.  La siguiente figura muestra la l√≠nea que se env√≠a al documento. <br><br><img src="https://habrastorage.org/webt/lj/8i/5k/lj8i5kqw_acqwuvq0lulgnmgolw.png"><br><br>  Tenga en cuenta: la fuente se establece solo para el car√°cter que se muestra.  Como muestran mis experimentos, KOMPAS normalmente procesa la ausencia de un terminador <i>~</i> .  Sin embargo, no recomiendo confiar en este comportamiento y siempre configurar un finalizador. <br><br>  Si se especifica un car√°cter no v√°lido (o un c√≥digo no v√°lido) despu√©s de <i>^</i> , entonces <i>se</i> omiten <i>^</i> y <i>~</i> , y la l√≠nea entre ellos se muestra tal como est√° usando la fuente predeterminada.  Por ejemplo, con la l√≠nea <br><br>  <i>"Antes ^ Q (Arial) * B1 ~ Despu√©s"</i> <br><br>  El documento mostrar√°: <br><br>  <i>"Antes de Q (Arial) * B1 Despu√©s"</i> <br><br>  Si se indica un nombre de fuente incorrecto en el campo <b>FNAME</b> , KOMPAS seleccionar√° la fuente y mostrar√° el car√°cter en ella. <br><br>  Si no hay par√©ntesis de cierre en la l√≠nea, entonces dicha l√≠nea no se mostrar√° completamente.  Por ejemplo, con la l√≠nea: <br><br>  <i>"Antes ^ Q (Arial * B1 ~ Despu√©s"</i> <br><br>  El documento solo mostrar√° <br><br>  <i>"Hasta"</i> <br><br>  <i>Nota:</i> el comportamiento anterior con una sintaxis de caracteres de control incorrecta es v√°lido para KOMPAS-3D V17 y no est√° documentado.  En otras versiones, puede ser diferente. <br><br><h2>  <font color="#00B2FF">Formas adicionales de insertar caracteres</font> </h2><br>  Los caracteres <i>@</i> y <i>^</i> tienen an√°logos - <i>&amp;</i> y <i>#</i> respectivamente.  Tienen una sintaxis similar: <br><br>  <i><b>AA</b> y <b>XX</b> ~ <b>BB</b></i> <i><br></i>  <i><b>AA</b> # ( <b>FNAME</b> ) <b>XX</b> ~ <b>BB</b></i> <br><br>  donde <br><br>  <b>AA</b> : una cadena que se muestra antes del car√°cter insertado, <br>  <b>XX</b> - c√≥digo del car√°cter insertado (para &amp; - car√°cter especial, para # - car√°cter de fuente), <br>  <b>BB</b> : una cadena que se muestra despu√©s del car√°cter insertado, <br>  <b>FNAME</b> : el nombre de la fuente. <br><br>  Solo hay dos diferencias entre los caracteres <i>@</i> y <i>^</i> y sus contrapartes: <br><br><ol><li>  Los caracteres &amp; y # no tienen un modificador Y. El c√≥digo de caracteres siempre se especifica en notaci√≥n decimal. </li><li>  El c√≥digo para el car√°cter a insertar se especifica por un m√°ximo de dos d√≠gitos. </li></ol><br>  El siguiente es el c√≥digo fuente de un programa que muestra c√≥mo usar los caracteres <i>&amp;</i> y <i>#</i> . <br><br><pre> <code class="plaintext hljs">BSTR str = SysAllocString(OLESTR(" &amp;51~ ")); document2D-&gt;ksText(100.0,100.0,0.0,0.0,0.0,0,str); SysFreeString(str); str = SysAllocString(OLESTR(" #(Arial)37~  #37~ ")); document2D-&gt;ksText(100.0,90.0,0.0,0.0,0.0,0,str); SysFreeString(str);</code> </pre><br>  La siguiente figura muestra el resultado de este programa. <br><br><img src="https://habrastorage.org/webt/xq/ku/tw/xqkutwd7x225k5zx8dd-lsriorg.png"><br><br><h2>  <font color="#00B2FF">Texto multil√≠nea</font> </h2><br>  Usando caracteres de control, se puede mostrar texto de varias l√≠neas.  Para hacer esto, en el lugar de la transferencia a una nueva l√≠nea, debe insertar la secuencia: <i>@ /</i> .  Nota: el car√°cter <i>@</i> se usa sin un terminador <i>~</i> .  El siguiente es el c√≥digo fuente de un programa que muestra texto multil√≠nea utilizando caracteres de control. <br><br><pre> <code class="plaintext hljs">BSTR str = SysAllocString(OLESTR(" @/ ")); document2D-&gt;ksText(100.0,100.0,0.0,0.0,0.0,0,str); SysFreeString(str);</code> </pre><br>  Tenga en cuenta: gracias al uso de caracteres de control, mostramos texto de dos l√≠neas con una sola llamada al m√©todo <b>ksText</b> .  La siguiente figura muestra el resultado de este programa. <br><br><img src="https://habrastorage.org/webt/tp/-3/fm/tp-3fmwgsjpyrgrhhw9icccok70.png"><br><br><h2>  <font color="#00B2FF">Insertar caracteres de control</font> </h2><br>  Descubrimos c√≥mo insertar caracteres especiales arbitrarios y caracteres Unicode.  Pero, ¬øqu√© pasa si desea insertar el car√°cter de control en s√≠?  Aqu√≠ puedes ir de dos maneras.  La primera forma es usar el car√°cter <i>^</i> y pegarlo como caracteres de fuente normal.  Pero hay una manera m√°s f√°cil. <br><br>  S√≠mbolo <i>;</i>  es auxiliar y se puede insertar directamente en el texto.  Para insertar otros caracteres de control, debe duplicarlos.  Es decir, un par de caracteres <i>@@</i> inserta un car√°cter <i>@</i> en el texto.  Lo mismo es cierto para otros personajes de control. <br><br>  El siguiente es un programa de ejemplo que muestra la inserci√≥n de caracteres de control en una cadena. <br><br><pre> <code class="plaintext hljs">BSTR str = SysAllocString(OLESTR(" : @@ $$ &amp;&amp; ; ~~ ^^ ##")); document2D-&gt;ksText(100.0,100.0,0.0,0.0,0.0,0,str); SysFreeString(str);</code> </pre><br>  La siguiente figura muestra el resultado de este programa. <br><br><img src="https://habrastorage.org/webt/4t/jv/rx/4tjvrxux7i2epcfivimh8aai-2g.png"><br><br><h2>  <font color="#00B2FF">Desviaciones superiores e inferiores</font> </h2><br>  La siguiente sintaxis se utiliza para insertar desviaciones: <br><br>  <i><b>AA</b> $ <b>XX</b> ;</i>  <i><b>AA</b> $ <b>BB</b></i> <br><br>  donde <br><br>  <b>AA</b> : texto que se muestra antes de las desviaciones; <br>  <b>XX</b> - desviaci√≥n superior; <br>  <b>YY</b> es la desviaci√≥n m√°s baja; <br>  <b>BB</b> : texto que se muestra despu√©s de las desviaciones. <br><br>  Tenga en cuenta: toda la construcci√≥n est√° limitada a <i>$</i> caracteres y el " <i>;</i>  ¬ªSirve como separador entre las desviaciones superior e inferior. <br><br>  Si no hay delimitador "entre los caracteres <i>$</i> <i>;</i>  ", Entonces toda la l√≠nea entre ellos se interpreta como la desviaci√≥n superior.  Si el componente <b>XX est√°</b> ausente, es decir, despu√©s de que el primer <i>$</i> se vaya inmediatamente " <i>;</i>  ", Entonces toda la l√≠nea subsiguiente al <i>$</i> m√°s cercano <i>se</i> interpreta como la desviaci√≥n m√°s baja. <br><br>  <i>Nota: el</i> texto de la desviaci√≥n superior no debe comenzar con las letras <i>b</i> , <i>d</i> , <i>s</i> , <i>my</i> <i>l</i> (min√∫scula <i>L</i> ).  La raz√≥n de esto se explicar√° un poco m√°s adelante. <br><br>  El siguiente es un ejemplo de un programa que muestra resultados con desviaciones <br><br><pre> <code class="plaintext hljs">BSTR str = SysAllocString(OLESTR(" $;$ ")); document2D-&gt;ksText(100.0,100.0,0.0,0.0,0.0,0,str); SysFreeString(str);</code> </pre><br>  La siguiente figura muestra el resultado de este programa: <br><br><img src="https://habrastorage.org/webt/-w/hr/ql/-whrqlu38elpopxgq22zblob6tm.png"><br><br>  Tenga en cuenta que KOMPAS procesa solo un car√°cter " <i>;</i>  ".  El segundo personaje es " <i>;</i>  "Se puede interpretar como el finalizador de toda la estructura.  Por ejemplo, con la l√≠nea " <i>11 $ 22; 33; 44 $</i> " la pantalla mostrar√°: <br><br><img src="https://habrastorage.org/webt/pf/22/0i/pf220i_rer29nw_nsx2h88ja_le.png"><br><br>  <i>Nota:</i> este comportamiento de KOMPAS no est√° documentado, por lo que no puede confiar en √©l. <br><br><h2>  <font color="#00B2FF">Fracci√≥n</font> </h2><br>  La sintaxis de fracci√≥n es similar a la sintaxis de desviaci√≥n y tiene dos opciones equivalentes: <br><br>  <i><b>AA</b> $ <b>bXX</b> ;</i>  <i><b>AA</b> $ <b>BB</b></i> <i><br></i>  <i><b>AA</b> $ <b>dXX</b> ;</i>  <i><b>AA</b> $ <b>BB</b></i> <br><br>  donde <br><br>  <b>AA</b> - salida de texto a fracciones; <br>  <b>XX</b> es el numerador; <br>  <b>YY</b> es el denominador; <br>  <b>BB</b> : texto que se muestra despu√©s de la fracci√≥n. <br><br>  Tenga en cuenta: la √∫nica diferencia entre el resultado de la fracci√≥n y el resultado de las desviaciones es la presencia de la letra <i>d</i> o <i>b</i> inmediatamente despu√©s del primer signo <i>$</i> .  De lo contrario, sus sintaxis son id√©nticas. <br><br>  Si no hay " <i>;</i> " entre los caracteres <i>$ d</i> ( <i>$ b</i> ) y <i>$</i>  ", Entonces toda la l√≠nea entre ellos se interpretar√° como un numerador.  Si el componente <b>XX est√°</b> ausente, es decir, despu√©s de que <i>$ d</i> ( <i>$ b</i> ) aparece inmediatamente " <i>;</i>  ", Entonces toda la l√≠nea subsiguiente al <i>$</i> m√°s cercano <i>se</i> interpreta como el denominador. <br><br>  <i>Nota:</i> el texto del numerador no debe comenzar con las letras <i>s</i> , <i>mo</i> <i>l</i> (min√∫scula <i>L</i> ).  La raz√≥n de esto se explicar√° un poco m√°s adelante. <br><br>  El siguiente es un ejemplo de un programa que muestra la salida de fracciones utilizando caracteres de control. <br><br><pre> <code class="plaintext hljs">BSTR str = SysAllocString(OLESTR(" $d;$ ")); document2D-&gt;ksText(100.0,100.0,0.0,0.0,0.0,0,str); SysFreeString(str);</code> </pre><br>  La siguiente figura muestra el resultado de este programa. <br><br><img src="https://habrastorage.org/webt/ha/sm/dd/hasmddwd9o67w8t747vhwceoae0.png"><br><br>  Tenga en cuenta que KOMPAS procesa los caracteres "extra" <i>;</i>  ¬ªAs√≠ como en el caso de desviaciones.  Este comportamiento no est√° documentado y no se puede confiar en √©l. <br><br><h2>  <font color="#00B2FF">Control de variaci√≥n y tama√±o de fracci√≥n</font> </h2><br>  Al comienzo de la construcci√≥n de desviaciones o fracciones, se puede ubicar una de las letras: <i>s</i> , <i>mo</i> <i>l</i> (min√∫scula <i>L</i> ).  Especifican el tama√±o de las desviaciones y los elementos de la fracci√≥n (numerador y denominador).  Su prop√≥sito se describe en la tabla a continuaci√≥n. <br><br><img src="https://habrastorage.org/webt/mp/ez/1u/mpez1un_2njdu3jxixivvwqbdz4.png"><br><br>  Si no se especifica ninguna de estas letras, entonces <i>l se</i> usa para la fracci√≥n, <i>ym se</i> usa para las desviaciones.  El siguiente es un programa de ejemplo que demuestra el uso de estas letras. <br><br><pre> <code class="plaintext hljs">BSTR str = SysAllocString(OLESTR(" $d;$ ")); document2D-&gt;ksText(100.0,100.0,0.0,0.0,0.0,0,str); SysFreeString(str); str = SysAllocString(OLESTR(" $dl;$ ")); document2D-&gt;ksText(100.0,85.0,0.0,0.0,0.0,0,str); SysFreeString(str); str = SysAllocString(OLESTR(" $dm;$ ")); document2D-&gt;ksText(100.0,70.0,0.0,0.0,0.0,0,str); SysFreeString(str); str = SysAllocString(OLESTR(" $ds;$ ")); document2D-&gt;ksText(100.0,60.0,0.0,0.0,0.0,0,str); SysFreeString(str);</code> </pre><br>  La siguiente figura muestra el resultado de este programa. <br><br><img src="https://habrastorage.org/webt/z2/2_/dj/z22_djahn5b1uiugptca_0doqui.png"><br><br>  Aunque las letras <i>s</i> , <i>myl</i> se usan para fracciones en este ejemplo, su uso para las desviaciones no es diferente. <br><br>  Tenga en cuenta que si entre el comienzo de una fracci√≥n o desviaci√≥n ( <i>$</i> , <i>$ do</i> <i>$ b</i> ) y la letra <i>s</i> , <i>mo</i> <i>l</i> hay al menos un car√°cter "extra√±o" (por ejemplo, un espacio), entonces COMPAS no "ver√°" las letras y la fracci√≥n o La desviaci√≥n ser√° el tama√±o predeterminado. <br><br><h2>  <font color="#00B2FF">Personajes de control anidados</font> </h2><br>  Al generar fracciones y desviaciones, las l√≠neas incluidas en su composici√≥n se procesan de forma recursiva.  Esto significa que al formar el numerador y el denominador, tambi√©n se pueden usar caracteres de control.  Este enfoque se demuestra en el siguiente ejemplo. <br><br><pre> <code class="plaintext hljs">BSTR str = SysAllocString(OLESTR("@54~$s2$ + $d@+51~;@+52~$ - ^(Symbol)*70~")); document2D-&gt;ksText(100.0,100.0,0.0,0.0,0.0,0,str); SysFreeString(str);</code> </pre><br>  La siguiente figura muestra el resultado de este programa. <br><br><img src="https://habrastorage.org/webt/qq/f_/9a/qqf_9au_d7ijxvxhvopiuzlhpbk.png"><br><br>  Para insertar letras del alfabeto griego, usamos los caracteres de control @ y ^ (para la letra ÔÅ∞ pi).  El grado en el primer t√©rmino se deriva utilizando desviaciones.  La subcadena <i>$ s2 $ lo</i> muestra.  La letra <i>s</i> indica el peque√±o tama√±o de la desviaci√≥n, pero debido a la ausencia de un separador " <i>;</i>  ¬ªSolo se muestra la desviaci√≥n superior. <br><br>  Para formar una fracci√≥n, <i>se usa</i> la combinaci√≥n <i>$ d; $</i> .  Adem√°s, el numerador y el denominador incluyen caracteres de control que proporcionan la salida de las letras del alfabeto griego. <br><br>  El √∫ltimo sustra√≠do (œÄ pi) se muestra como el s√≠mbolo de la fuente Symbol usando los caracteres de control <i>^</i> y <i>~</i> . <br><br>  Desafortunadamente, las posibilidades de tal "recursi√≥n" son muy limitadas.  No podemos invertir fracciones y desviaciones entre s√≠.  El problema es que ambos se forman usando el car√°cter <i>$</i> control.  Debido a esto, COMPASS no puede analizar correctamente qu√© <i>$</i> pertenece a qu√© elemento. <br><br><h2>  <font color="#00B2FF">Controlar caracteres en el p√°rrafo</font> </h2><br>  Puede omitir parcialmente la restricci√≥n con caracteres de control anidados mediante p√°rrafos.  El uso de caracteres de control y p√°rrafos juntos le permite construir estructuras a√∫n m√°s complejas.  El siguiente ejemplo demuestra la construcci√≥n de una fracci√≥n de 4 niveles. <br><br><div class="spoiler">  <b class="spoiler_title">C√≥digo de programa para construir una fracci√≥n de 4 niveles</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">//   DynamicArrayPtr dynamicArray; dynamicArray = static_cast&lt;DynamicArrayPtr&gt;(kompas-&gt;GetDynamicArray(TEXT_ITEM_ARR)); dynamicArray-&gt;ksClearArray(); TextItemParamPtr textItemParam; textItemParam = static_cast&lt;TextItemParamPtr&gt;(kompas-&gt;GetParamStruct(ko_TextItemParam)); //     BSTR str = SysAllocString(OLESTR("  ")); textItemParam-&gt;set_s(str); dynamicArray-&gt;ksAddArrayItem(-1, textItemParam); SysFreeString(str); //     TextItemFontPtr textItemFont; textItemFont = static_cast&lt;TextItemFontPtr&gt;(textItemParam-&gt;GetItemFont()); textItemFont-&gt;set_bitVector(NUMERATOR); str = SysAllocString(OLESTR("1 + $d@+51~;2$")); textItemParam-&gt;set_s(str); dynamicArray-&gt;ksAddArrayItem(-1, textItemParam); SysFreeString(str); //    textItemFont-&gt;set_bitVector(DENOMINATOR); str = SysAllocString(OLESTR("1 + $d@+56~;2$")); textItemParam-&gt;set_s(str); dynamicArray-&gt;ksAddArrayItem(-1, textItemParam); SysFreeString(str); //  textItemFont-&gt;set_bitVector(END_FRACTION); str = SysAllocString(OLESTR("  ")); textItemParam-&gt;set_s(str); dynamicArray-&gt;ksAddArrayItem(-1, textItemParam); SysFreeString(str); //   textItemFont.Unbind(); textItemParam.Unbind(); //    ksTextLineParam TextLineParamPtr textLineParam; textLineParam = static_cast&lt;TextLineParamPtr&gt;(kompas-&gt;GetParamStruct(ko_TextLineParam)); textLineParam-&gt;Init(); textLineParam-&gt;SetTextItemArr(dynamicArray); dynamicArray.Unbind(); //  ParagraphParamPtr paragraphParam; paragraphParam=static_cast&lt;ParagraphParamPtr&gt;(kompas-&gt;GetParamStruct(ko_ParagraphParam)); paragraphParam-&gt;Init(); paragraphParam-&gt;set_x(100.0); paragraphParam-&gt;set_y(100.0); document2D-&gt;ksParagraph(paragraphParam); document2D-&gt;ksTextLine(textLineParam); document2D-&gt;ksEndObj(); //   textLineParam.Unbind(); paragraphParam.Unbind();</code> </pre><br></div></div><br>  En este ejemplo, los caracteres de control se utilizan para construir fracciones en el numerador y el denominador de la fracci√≥n principal, as√≠ como para insertar letras del alfabeto griego.  La siguiente figura muestra el resultado de este programa. <br><br><img src="https://habrastorage.org/webt/ji/x6/lo/jix6loqqynqpondf3g47pvhopj0.png"><br><br><h2>  Conclusi√≥n </h2><br>  En esta lecci√≥n, nos encontramos con caracteres de control y aprendimos c√≥mo usarlos para mostrar caracteres especiales y caracteres de fuente.  Como puede ver, proporcionan una sintaxis simple para crear cadenas que incluyen caracteres especiales, fracciones y desviaciones.  Desafortunadamente, no son adecuados para insertar caracteres especiales que contienen cadenas.  Pero esos personajes especiales son extremadamente raros.  Esta es una de las limitaciones de los caracteres de control.  Adem√°s, no se pueden usar para crear subcadenas y subcadenas, y existen limitaciones cuando se trabaja con caracteres especiales que incluyen cadenas.  Pero esto no resta valor a sus m√©ritos.  Esto concluye nuestra discusi√≥n sobre los personajes de control. <br><br>  <b>Para continuar, sigue las noticias del blog.</b> <br><br> <a href=""><img src="https://habrastorage.org/web/595/eee/f27/595eeef271b24830b3578751fcb52716.png"></a>  Sergey Norseev, Ph.D., autor del libro "Desarrollo de aplicaciones para COMPAS en Delphi". </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/457702/">https://habr.com/ru/post/457702/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../457692/index.html">Reflexiones sobre los est√°ndares nacionales de NB-Fi y los sistemas de facturaci√≥n</a></li>
<li><a href="../457694/index.html">Los peligros de usar constantes de varios caracteres</a></li>
<li><a href="../457696/index.html">Los peligros de usar constantes de varios caracteres</a></li>
<li><a href="../457698/index.html">Experimento: utilizamos proxies como herramienta para combatir ataques DoS</a></li>
<li><a href="../457700/index.html">Gu√≠a de autenticaci√≥n de Node.js sin passport.js y servicios de terceros</a></li>
<li><a href="../457704/index.html">C√≥mo las GPU manejan la ramificaci√≥n</a></li>
<li><a href="../457706/index.html">Robot prueba SAP ERP</a></li>
<li><a href="../457710/index.html">Las incre√≠bles caracter√≠sticas de las redes neuronales 2019</a></li>
<li><a href="../457712/index.html">C√≥mo Verizon y BGP Optimizer configuran una excelente conexi√≥n</a></li>
<li><a href="../457714/index.html">Stack Overflow en ingl√©s: Community Kill Guide</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>