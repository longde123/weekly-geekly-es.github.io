<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üñïüèø üë©üèø‚Äçüî¨ üíØ Gu√≠a de arquitectura de aplicaciones de Android üå¶Ô∏è üîî üåÅ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola Habr! Le presento la traducci√≥n gratuita de "Gu√≠a para la arquitectura de aplicaciones" de JetPack . Le pido que deje todos los comentarios sobre...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Gu√≠a de arquitectura de aplicaciones de Android</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/456256/">  Hola Habr!  Le presento la traducci√≥n gratuita de "Gu√≠a para la arquitectura de aplicaciones" de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">JetPack</a> .  Le pido que deje todos los comentarios sobre la traducci√≥n en los comentarios, y se corregir√°n.  Adem√°s, los comentarios de quienes utilizaron la arquitectura presentada con recomendaciones para su uso ser√°n √∫tiles para todos. <br><br>  Esta gu√≠a cubre las mejores pr√°cticas y la arquitectura recomendada para construir aplicaciones robustas.  Esta p√°gina asume una introducci√≥n b√°sica al Android Framework.  Si es nuevo en el desarrollo de aplicaciones de Android, consulte nuestras <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">gu√≠as</a> para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">desarrolladores</a> para comenzar y aprender m√°s sobre los conceptos mencionados en esta gu√≠a.  Si est√° interesado en la arquitectura de aplicaciones y desea familiarizarse con los materiales de esta gu√≠a desde una perspectiva de programaci√≥n de Kotlin, consulte el curso de Udacity, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"Desarrollo de aplicaciones para Android con Kotlin"</a> . <br><br><h2>  Experiencia de usuario de la aplicaci√≥n m√≥vil </h2><br>  En la mayor√≠a de los casos, las aplicaciones de escritorio tienen un √∫nico punto de entrada desde el escritorio o el iniciador, y luego se ejecutan como un solo proceso monol√≠tico.  Las aplicaciones de Android tienen una estructura mucho m√°s compleja.  Una aplicaci√≥n t√≠pica de Android contiene varios <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">componentes de la aplicaci√≥n</a> , que incluyen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Actividades</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Fragmentos</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Servicios</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Proveedores de contenido</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">BroadcastReceivers</a> . <br><br>  Usted declara todos o algunos de estos componentes de la aplicaci√≥n en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">manifiesto de</a> la aplicaci√≥n.  Luego, Android utiliza este archivo para decidir c√≥mo integrar su aplicaci√≥n en la interfaz de usuario com√∫n del dispositivo.  Dado que una aplicaci√≥n de Android bien escrita contiene varios componentes, y los usuarios a menudo interact√∫an con varias aplicaciones en un corto per√≠odo de tiempo, las aplicaciones deben adaptarse a diferentes tipos de flujos de trabajo y tareas dirigidas por los usuarios. <br><a name="habracut"></a><br>  Por ejemplo, considere lo que sucede cuando comparte una foto en su aplicaci√≥n de redes sociales favorita: <br><br><ol><li>  La aplicaci√≥n desencadena la intenci√≥n de la c√°mara.  Android lanza una aplicaci√≥n de c√°mara para procesar la solicitud.  Por el momento, el usuario ha dejado la aplicaci√≥n para las redes sociales, y su experiencia como usuario es impecable. </li><li>  Una aplicaci√≥n de c√°mara puede desencadenar otras intenciones, como iniciar un selector de archivos, que puede iniciar otra aplicaci√≥n. </li><li>  Al final, el usuario vuelve a la aplicaci√≥n de red social y comparte la foto. </li></ol><br>  En cualquier momento del proceso, el usuario puede ser interrumpido por una llamada telef√≥nica o notificaci√≥n.  Despu√©s de la acci√≥n asociada con esta interrupci√≥n, el usuario espera poder regresar y reanudar este proceso para compartir fotos.  Este comportamiento de cambio de aplicaci√≥n es com√∫n en dispositivos m√≥viles, por lo que su aplicaci√≥n debe manejar correctamente estos puntos (tareas). <br><br>  Recuerde que los dispositivos m√≥viles tambi√©n tienen recursos limitados, por lo que en cualquier momento el sistema operativo puede destruir algunos procesos de aplicaci√≥n para liberar espacio para otros nuevos. <br><br>  Dadas las condiciones de este entorno, los componentes de su aplicaci√≥n pueden iniciarse individualmente y no en orden, y el sistema operativo o el usuario pueden destruirlos en cualquier momento.  Dado que estos eventos no est√°n bajo su control, <b>no debe almacenar ning√∫n dato o estado en los componentes de su aplicaci√≥n,</b> y los componentes de su aplicaci√≥n no deben depender el uno del otro. <br><br><h2>  Principios arquitect√≥nicos generales </h2><br>  Si no debe utilizar los componentes de la aplicaci√≥n para almacenar datos y el estado de la aplicaci√≥n, ¬øc√≥mo debe desarrollar su aplicaci√≥n? <br><br><h3>  Divisi√≥n de responsabilidad </h3><br>  El principio m√°s importante a seguir es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">compartir responsabilidades</a> .  Un error com√∫n es cuando escribe todo su c√≥digo en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Actividad</a> o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Fragmento</a> .  Estas son clases de interfaz de usuario que deben contener solo el procesamiento l√≥gico de la interacci√≥n de la interfaz de usuario y el sistema operativo.  Al compartir la responsabilidad tanto como sea posible en estas clases <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">(SRP)</a> , puede evitar muchos de los problemas asociados con el ciclo de vida de la aplicaci√≥n. <br><br><h3>  Control de interfaz de usuario del modelo </h3><br>  Otro principio importante es que debe <b>controlar su interfaz de usuario desde un modelo</b> , preferiblemente desde un modelo permanente.  Los modelos son los componentes responsables del procesamiento de los datos para la aplicaci√≥n.  Son independientes de los objetos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">View</a> y los componentes de la aplicaci√≥n, por lo tanto, no se ven afectados por el ciclo de vida de la aplicaci√≥n y los problemas relacionados. <br><br>  Un modelo permanente es ideal por las siguientes razones: <br><br><ul><li>  Sus usuarios no perder√°n datos si el sistema operativo Android destruye su aplicaci√≥n para liberar recursos. </li><li>  Su aplicaci√≥n contin√∫a funcionando cuando la conexi√≥n de red es inestable o no est√° disponible. </li></ul><br>  Al organizar la base de su aplicaci√≥n en clases modelo con una responsabilidad claramente definida para la gesti√≥n de datos, su aplicaci√≥n se vuelve m√°s comprobable y compatible. <br><br><h2>  Arquitectura de aplicaci√≥n recomendada </h2><br>  Esta secci√≥n muestra c√≥mo estructurar una aplicaci√≥n utilizando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">componentes arquitect√≥nicos</a> , trabajando en un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">escenario de uso de extremo</a> a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">extremo</a> . <br><br>  <i><b>Nota</b></i>  <i>No es posible tener una forma de escribir aplicaciones que funcione mejor para cada escenario.</i>  <i>Sin embargo, la arquitectura recomendada es un buen punto de partida para la mayor√≠a de las situaciones y flujos de trabajo.</i>  <i>Si ya tiene una buena manera de escribir aplicaciones de Android que cumplan con los principios arquitect√≥nicos generales, no debe cambiarla.</i> <br><br>  Imagine que estamos creando una interfaz de usuario que muestra un perfil de usuario.  Utilizamos una API privada y una API REST para recuperar datos de perfil. <br><br><h3>  Revisar </h3><br>  Para comenzar, considere el esquema de interacci√≥n de los m√≥dulos de la arquitectura de la aplicaci√≥n terminada: <br><br><img src="https://habrastorage.org/webt/lb/xq/cx/lbxqcxyjtoauqkif9hte7srpnm8.png"><br><br>  Tenga en cuenta que cada componente solo depende del componente un nivel por debajo de √©l.  Por ejemplo, Actividad y Fragmentos dependen solo del modelo de vista.  El repositorio es la √∫nica clase que depende de muchas otras clases;  En este ejemplo, el almacenamiento depende de un modelo de datos persistente y una fuente de datos interna remota. <br><br>  Este patr√≥n de dise√±o crea una experiencia de usuario consistente y agradable.  Independientemente de si el usuario vuelve a la aplicaci√≥n unos minutos despu√©s de cerrarla o unos d√≠as despu√©s, ver√° instant√°neamente la informaci√≥n del usuario de que la aplicaci√≥n se guarda localmente.  Si estos datos no est√°n actualizados, el m√≥dulo de almacenamiento de la aplicaci√≥n comienza a actualizar los datos en segundo plano. <br><br><h3>  Crear una interfaz de usuario </h3><br>  La interfaz de usuario consta del fragmento <code>UserProfileFragment</code> y el correspondiente <code>user_profile_layout.xml</code> dise√±o <code>user_profile_layout.xml</code> . <br><br>  Para administrar la interfaz de usuario, nuestro modelo de datos debe contener los siguientes elementos de datos: <br><br><ul><li>  <b>ID de</b> usuario <b>:</b> ID de usuario.  La mejor soluci√≥n es pasar esta informaci√≥n al fragmento utilizando los argumentos del fragmento.  Si el sistema operativo Android destruye nuestro proceso, esta informaci√≥n se guarda, por lo que el identificador estar√° disponible la pr√≥xima vez que lancemos nuestra aplicaci√≥n. </li><li>  <b>Objeto de usuario:</b> una clase de datos que contiene informaci√≥n del usuario. </li></ul><br>  Utilizamos un <code>UserProfileViewModel</code> basado en un componente de la arquitectura ViewModel para almacenar esta informaci√≥n. <br><br>  <i><u>El objeto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ViewModel</a> proporciona datos para un componente espec√≠fico de la interfaz de usuario, como un fragmento o actividad, y contiene l√≥gica de procesamiento de datos empresariales para interactuar con el modelo.</u></i>  <i><u>Por ejemplo, <b>ViewModel</b> puede llamar a otros componentes para cargar datos y puede reenviar las solicitudes de los usuarios para cambios de datos.</u></i>  <i><u><b>ViewModel</b> no conoce los componentes de la interfaz de usuario, por lo que no se ve afectado por los cambios de configuraci√≥n, como la recreaci√≥n de la actividad cuando se gira el dispositivo.</u></i> <br><br>  Ahora hemos identificado los siguientes archivos: <br><br><ul><li>  <code>user_profile.xml</code> : dise√±o de interfaz de usuario definido. </li><li>  <code>UserProfileFragment</code> : describe un controlador de interfaz de usuario que es responsable de mostrar informaci√≥n al usuario. </li><li>  <code>UserProfileViewModel</code> : una clase responsable de preparar los datos para mostrarlos en <code>UserProfileFragment</code> y responder a la interacci√≥n del usuario. </li></ul><br>  Los siguientes fragmentos de c√≥digo muestran el contenido inicial de estos archivos.  (El archivo de dise√±o se omite por simplicidad). <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserProfileViewModel</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">ViewModel</span></span></span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> userId : String = TODO() <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> user : User = TODO() } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserProfileFragment</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Fragment</span></span></span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> viewModel: UserProfileViewModel <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> viewModels() <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreateView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( inflater: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">LayoutInflater</span></span></span></span><span class="hljs-function"><span class="hljs-params">, container: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">ViewGroup</span></span></span></span><span class="hljs-function"><span class="hljs-params">?, savedInstanceState: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Bundle</span></span></span></span><span class="hljs-function"><span class="hljs-params">? )</span></span></span></span>: View { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> inflater.inflate(R.layout.main_fragment, container, <span class="hljs-literal"><span class="hljs-literal">false</span></span>) } }</code> </pre> <br>  Ahora que tenemos estos m√≥dulos de c√≥digo, ¬øc√≥mo los conectamos?  Despu√©s de establecer el campo de usuario en la clase UserProfileViewModel, necesitamos una forma de informar a la interfaz de usuario. <br><br>  <i><b>Nota</b></i>  <i>SavedStateHandle permite que ViewModel acceda al estado guardado y a los argumentos del fragmento o acci√≥n asociados.</i> <br><br><pre> <code class="kotlin hljs"><span class="hljs-comment"><span class="hljs-comment">// UserProfileViewModel class UserProfileViewModel( savedStateHandle: SavedStateHandle ) : ViewModel() { val userId : String = savedStateHandle["uid"] ?: throw IllegalArgumentException("missing user id") val user : User = TODO() } // UserProfileFragment private val viewModel: UserProfileViewModel by viewModels( factoryProducer = { SavedStateVMFactory(this) } ... )</span></span></code> </pre> <br>  Ahora necesitamos informar a nuestro Fragmento cuando se recibe el objeto de usuario.  Aqu√≠ es donde aparece el componente de la arquitectura LiveData. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">LiveData</a> es un titular de datos observable.  Otros componentes en su aplicaci√≥n pueden rastrear los cambios en los objetos usando este soporte, sin crear rutas de dependencia expl√≠citas y dif√≠ciles entre ellos.  El componente LiveData tambi√©n tiene en cuenta el estado del ciclo de vida de los componentes de su aplicaci√≥n, como Actividades, Fragmentos y Servicios, e incluye l√≥gica de limpieza para evitar fugas de objetos y consumo excesivo de memoria. <br><br>  <i>Nota</i>  <i>Si ya usa bibliotecas como RxJava o Agera, puede continuar us√°ndolas en lugar de LiveData.</i>  <i>Sin embargo, cuando use bibliotecas y enfoques similares, aseg√∫rese de manejar adecuadamente el ciclo de vida de su aplicaci√≥n.</i>  <i>En particular, aseg√∫rese de suspender sus secuencias de datos cuando se detiene el LifecycleOwner asociado, y destruya estas secuencias cuando se destruye el LifecycleOwner asociado.</i>  <i>Tambi√©n puede agregar el artefacto android.arch.lifecycle: corrientes en chorro para usar LiveData con otra biblioteca de corrientes en chorro como RxJava2.</i> <br><br>  Para incluir el componente LiveData en nuestra aplicaci√≥n, cambiamos el tipo de campo en <code>UserProfileViewModel</code> a LiveData.  <code>UserProfileFragment</code> ahora <code>UserProfileFragment</code> informado sobre las actualizaciones de datos.  Adem√°s, dado que este campo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">LiveData</a> admite el ciclo de vida, borra autom√°ticamente los enlaces cuando ya no son necesarios. <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserProfileViewModel</span></span></span></span>( savedStateHandle: SavedStateHandle ) : ViewModel() { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> userId : String = savedStateHandle[<span class="hljs-string"><span class="hljs-string">"uid"</span></span>] ?: <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> IllegalArgumentException(<span class="hljs-string"><span class="hljs-string">"missing user id"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> user : LiveData&lt;User&gt; = TODO() }</code> </pre> <br>  Ahora modificamos el <code>UserProfileFragment</code> para observar los datos en <code>ViewModel</code> y actualizar la interfaz de usuario de acuerdo con los cambios: <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onViewCreated</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(view: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">View</span></span></span></span><span class="hljs-function"><span class="hljs-params">, savedInstanceState: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Bundle</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onViewCreated(view, savedInstanceState) viewModel.user.observe(viewLifecycleOwner) { <span class="hljs-comment"><span class="hljs-comment">//  UI } }</span></span></code> </pre> <br>  Cada vez que se actualizan los datos del perfil de usuario, se llama a la devoluci√≥n de llamada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">onChanged ()</a> y se actualiza la interfaz de usuario. <br><br>  Si est√° familiarizado con otras bibliotecas que usan devoluciones de llamada observables, es posible que se haya dado cuenta de que no redefinimos el m√©todo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">onStop ()</a> del fragmento para dejar de observar datos.  Este paso es opcional para LiveData porque admite el ciclo de vida, lo que significa que no llamar√° a la <code>onChanged()</code> llamada <code>onChanged()</code> si el fragmento est√° en un estado inactivo;  es decir, recibi√≥ una llamada a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">onStart ()</a> , pero a√∫n no ha recibido <code>onStop()</code> ).  LiveData tambi√©n elimina autom√°ticamente el observador cuando llama al m√©todo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">onDestroy ()</a> en el fragmento. <br><br>  No hemos agregado ninguna l√≥gica para manejar los cambios de configuraci√≥n, como la rotaci√≥n de la pantalla del dispositivo por parte del usuario.  <code>UserProfileViewModel</code> restaura autom√°ticamente cuando se cambia la configuraci√≥n, por lo que tan pronto como se crea un nuevo fragmento, recibe la misma instancia de <code>ViewModel</code> y se llama a la devoluci√≥n de llamada inmediatamente utilizando los datos actuales.  Dado que los objetos <code>ViewModel</code> est√°n dise√±ados para sobrevivir a los objetos <code>View</code> correspondientes que actualizan, no debe incluir referencias directas a los objetos <code>View</code> en su implementaci√≥n ViewModel.  Para obtener m√°s informaci√≥n sobre la vida √∫til de <code>ViewModel</code> corresponde al ciclo de vida de los componentes de la interfaz de usuario, consulte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ciclo de vida de ViewModel.</a> <br><br><h3>  Recuperaci√≥n de datos </h3><br>  Ahora que hemos utilizado LiveData para conectar <code>UserProfileViewModel</code> a <code>UserProfileFragment</code> , ¬øc√≥mo podemos obtener los datos del perfil de usuario? <br><br>  En este ejemplo, suponemos que nuestro backend proporciona una API REST.  Utilizamos la biblioteca Retrofit para acceder a nuestro backend, aunque puede usar una biblioteca diferente que tenga el mismo prop√≥sito. <br><br>  Aqu√≠ est√° nuestra definici√≥n de un servicio <code>Webservice</code> que se vincula a nuestro backend: <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Webservice</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@GET</span></span></span><span class="hljs-comment"> declares an HTTP GET request * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@Path</span></span></span><span class="hljs-comment">("user") annotation on the userId parameter marks it as a * replacement for the {user} placeholder in the </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@GET</span></span></span><span class="hljs-comment"> path */</span></span> <span class="hljs-meta"><span class="hljs-meta">@GET(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"/users/{user}"</span></span></span><span class="hljs-meta">)</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUser</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-meta"><span class="hljs-function"><span class="hljs-params"><span class="hljs-meta">@Path(</span></span></span><span class="hljs-meta-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-meta"><span class="hljs-meta-string">"user"</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-meta">)</span></span></span></span><span class="hljs-function"><span class="hljs-params"> userId: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>: Call&lt;User&gt; }</code> </pre> <br>  Una primera idea para implementar un <code>ViewModel</code> podr√≠a implicar llamar a <code>Webservice</code> para recuperar los datos y asignarlos a nuestro objeto <code>LiveData</code> .  Este dise√±o funciona, pero usarlo hace que nuestra aplicaci√≥n sea m√°s dif√≠cil de mantener a medida que crece.  Esto le da demasiada responsabilidad a la clase <code>UserProfileViewModel</code> , lo que viola el principio de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">separaci√≥n de intereses</a> .  Adem√°s, el alcance de ViewModel est√° asociado con el ciclo de vida <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Actividad</a> o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Fragmento</a> , lo que significa que los datos del Servicio <code>Webservice</code> pierden cuando finaliza el ciclo de vida del objeto de interfaz de usuario asociado.  Este comportamiento crea una experiencia de usuario indeseable. <br><br>  En cambio, nuestro <code>ViewModel</code> delega el proceso de recuperaci√≥n de datos a un nuevo m√≥dulo de almacenamiento. <br><br>  <u><i><b>Los</b> m√≥dulos de <b>repositorio</b> manejan las operaciones de datos.</i></u>  <u><i>Proporcionan una API limpia para que el resto de la aplicaci√≥n pueda obtener f√°cilmente estos datos.</i></u>  <u><i>Saben de d√≥nde obtener los datos y qu√© llamadas API hacer al actualizar los datos.</i></u>  <u><i>Puede pensar en los repositorios como intermediarios entre diferentes fuentes de datos, como modelos persistentes, servicios web y cach√©s.</i></u> <br><br>  Nuestra clase <code>UserRepository</code> , que se muestra en el siguiente fragmento de c√≥digo, utiliza una instancia de <code>WebService</code> para recuperar datos de usuario: <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserRepository</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> webservice: Webservice = TODO() <span class="hljs-comment"><span class="hljs-comment">// ... fun getUser(userId: String): LiveData&lt;User&gt; { //    .    . val data = MutableLiveData&lt;User&gt;() webservice.getUser(userId).enqueue(object : Callback&lt;User&gt; { override fun onResponse(call: Call&lt;User&gt;, response: Response&lt;User&gt;) { data.value = response.body() } //     . override fun onFailure(call: Call&lt;User&gt;, t: Throwable) { TODO() } }) return data } }</span></span></code> </pre> <br>  Aunque el m√≥dulo de almacenamiento parece innecesario, tiene un prop√≥sito importante: abstrae las fuentes de datos del resto de la aplicaci√≥n.  Ahora nuestro <code>UserProfileViewModel</code> no sabe c√≥mo recuperar datos, por lo que podemos proporcionar modelos de presentaci√≥n con datos obtenidos de varias implementaciones diferentes de extracci√≥n de datos. <br><br>  <b>Nota</b>  Perdimos el caso de los errores de red por simplicidad.  Para una implementaci√≥n alternativa que expone los errores y el estado de descarga, consulte el Ap√©ndice: Divulgaci√≥n del estado de la red. <br><br>  <b>Gesti√≥n de dependencias entre componentes</b> <br><br>  La clase <code>UserRepository</code> anterior necesita una instancia de <code>Webservice</code> para recuperar los datos del usuario.  Simplemente podr√≠a crear una instancia, pero para esto tambi√©n necesita conocer las dependencias de la clase de servicio <code>Webservice</code> .  Adem√°s, <code>UserRepository</code> probablemente no sea la √∫nica clase que necesita un servicio web.  Esta situaci√≥n requiere que dupliquemos el c√≥digo, ya que cada clase que necesita un enlace al servicio <code>Webservice</code> necesita saber c√≥mo crearlo y sus dependencias.  Si cada clase crea un nuevo servicio web, nuestra aplicaci√≥n puede requerir muchos recursos. <br><br>  Para resolver este problema, puede usar los siguientes patrones de dise√±o: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Inyecci√≥n de dependencia (DI)</a> .  La inyecci√≥n de dependencias permite a las clases definir sus dependencias sin crearlas.  En tiempo de ejecuci√≥n, otra clase es responsable de proporcionar estas dependencias.  Recomendamos la biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Dagger 2</a> para implementar la inyecci√≥n de dependencia en aplicaciones de Android.  Dagger 2 crea autom√°ticamente objetos, sin pasar por el √°rbol de dependencias, y proporciona garant√≠as en tiempo de compilaci√≥n para las dependencias. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">(Ubicaci√≥n del servicio) Localizador del servicio</a> : la plantilla del localizador del servicio proporciona un registro en el que las clases pueden obtener sus dependencias en lugar de crearlas. </li></ul><br>  Implementar un registro de servicio es m√°s f√°cil que usar DI, por lo tanto, si es nuevo en DI, use la plantilla: ubicaci√≥n del servicio. <br><br>  Estas plantillas le permiten escalar su c√≥digo porque proporcionan plantillas claras para administrar dependencias sin duplicar o complicar el c√≥digo.  Adem√°s, estas plantillas le permiten cambiar r√°pidamente entre implementaciones de prueba y producci√≥n de muestreo de datos. <br><br>  Nuestra aplicaci√≥n de muestra usa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Dagger 2</a> para administrar las dependencias del objeto de servicio <code>Webservice</code> . <br><br><h3>  Conecte ViewModel y almacenamiento </h3><br>  Ahora modificamos nuestro <code>UserProfileViewModel</code> para usar el objeto <code>UserRepository</code> : <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserProfileViewModel</span></span></span><span class="hljs-class"> </span><span class="hljs-meta"><span class="hljs-class"><span class="hljs-meta">@Inject</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">constructor</span></span></span></span>( savedStateHandle: SavedStateHandle, userRepository: UserRepository ) : ViewModel() { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> userId : String = savedStateHandle[<span class="hljs-string"><span class="hljs-string">"uid"</span></span>] ?: <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> IllegalArgumentException(<span class="hljs-string"><span class="hljs-string">"missing user id"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> user : LiveData&lt;User&gt; = userRepository.getUser(userId) }</code> </pre> <br><h3>  Almacenamiento en cach√© </h3><br>  La implementaci√≥n de <code>UserRepository</code> abstrae la invocaci√≥n del objeto de servicio <code>Webservice</code> , pero como se basa en una sola fuente de datos, no es muy flexible. <br><br>  El principal problema con la implementaci√≥n de <code>UserRepository</code> es que despu√©s de recibir datos de nuestro backend, estos datos no se almacenan en ning√∫n lado.  Por lo tanto, si el usuario deja <code>UserProfileFragment</code> y luego vuelve a √©l, nuestra aplicaci√≥n debe recuperar los datos, incluso si no han cambiado. <br><br>  Este dise√±o no es √≥ptimo por las siguientes razones: <br><br><ul><li>  Gasta valiosos recursos de tr√°fico. </li><li>  Esto hace que el usuario espere a que se complete una nueva solicitud. </li></ul><br>  Para abordar estas deficiencias, agregamos una nueva fuente de datos a nuestro <code>UserRepository</code> , que almacena en cach√© los objetos del <code>User</code> en la memoria: <br><br><pre> <code class="kotlin hljs"><span class="hljs-comment"><span class="hljs-comment">// Dagger,        . @Singleton class UserRepository @Inject constructor( private val webservice: Webservice, //    .    . private val userCache: UserCache ) { fun getUser(userId: String): LiveData&lt;User&gt; { val cached = userCache.get(userId) if (cached != null) { return cached } val data = MutableLiveData&lt;User&gt;() userCache.put(userId, data) //     ,  ,  . //      . webservice.getUser(userId).enqueue(object : Callback&lt;User&gt; { override fun onResponse(call: Call&lt;User&gt;, response: Response&lt;User&gt;) { data.value = response.body() } //     . override fun onFailure(call: Call&lt;User&gt;, t: Throwable) { TODO() } }) return data } }</span></span></code> </pre> <br><h3>  Datos persistentes </h3><br>  Usando nuestra implementaci√≥n actual, si el usuario gira el dispositivo o se va e inmediatamente regresa a la aplicaci√≥n, la interfaz de usuario existente se vuelve inmediatamente visible, porque la tienda recupera datos de nuestro cach√© en la memoria. <br><br>  Sin embargo, ¬øqu√© sucede si un usuario abandona la aplicaci√≥n y regresa unas horas despu√©s de que el sistema operativo Android complete el proceso?  Confiando en nuestra implementaci√≥n actual en esta situaci√≥n, necesitamos obtener datos de la red nuevamente.  Este proceso de actualizaci√≥n no es solo una mala experiencia de usuario;  Tambi√©n es un desperdicio porque consume valiosos datos m√≥viles. <br><br>  Puede resolver este problema almacenando en cach√© las solicitudes web, pero esto crea un nuevo problema clave: ¬øqu√© sucede si se muestran los mismos datos de usuario en una solicitud de un tipo diferente, por ejemplo, al recibir una lista de amigos?  La aplicaci√≥n mostrar√° datos conflictivos, lo cual es confuso en el mejor de los casos.  Por ejemplo, nuestra aplicaci√≥n puede mostrar dos versiones diferentes de los datos del mismo usuario si el usuario envi√≥ una solicitud de lista de amigos y una solicitud de usuario √∫nico en diferentes momentos.  Nuestra aplicaci√≥n tendr√≠a que descubrir c√≥mo combinar estos datos en conflicto. <br><br>  La forma correcta de lidiar con esta situaci√≥n es usar un modelo constante.  La Biblioteca de datos permanentes (DB) de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sala</a> nos ayuda. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Room</a> es una biblioteca de mapeo de objetos que proporciona almacenamiento local de datos con un c√≥digo est√°ndar m√≠nimo.  En el momento de la compilaci√≥n, verifica que cada consulta cumpla con su esquema de datos, por lo que las consultas SQL da√±adas producen errores durante la compilaci√≥n y no se bloquean en el tiempo de ejecuci√≥n.  Resumen de sala a partir de algunos detalles b√°sicos de implementaci√≥n de tablas y consultas SQL sin procesar.  Tambi√©n le permite observar cambios en los datos de la base de datos, incluidas colecciones y solicitudes de conexi√≥n, exponiendo dichos cambios utilizando objetos LiveData.  Incluso define expl√≠citamente restricciones de ejecuci√≥n que resuelven problemas comunes de subprocesos, como el acceso al almacenamiento en el subproceso principal. <br><br>  <i><b>Nota</b></i>  <i>Si su aplicaci√≥n ya usa otra soluci√≥n, como el mapeo relacional de objetos SQLite (ORM), no necesita reemplazar la soluci√≥n existente con Room.</i>  <i>Sin embargo, si est√° escribiendo una nueva aplicaci√≥n o reorganizando una aplicaci√≥n existente, le recomendamos usar Room para guardar los datos de su aplicaci√≥n.</i>  <i>Por lo tanto, puede aprovechar la abstracci√≥n de la biblioteca y la validaci√≥n de consultas.</i> <br><br>  Para usar Room, necesitamos definir nuestro dise√±o local.  Primero, agregamos la anotaci√≥n <code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">@Entity</a></code> a nuestra clase de modelo de datos de <code>User</code> y la anotaci√≥n <code>@PrimaryKey</code> en el campo <code>id</code> clase.  Estas anotaciones marcan al <code>User</code> como una tabla en nuestra base de datos, y la <code>id</code> como la clave principal de la tabla: <br><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@Entity</span></span> <span class="hljs-keyword"><span class="hljs-keyword">data</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span></span>( <span class="hljs-meta"><span class="hljs-meta">@PrimaryKey</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> id: String, <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> name: String, <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> lastName: String )</code> </pre> <br>  Luego creamos la clase de base de datos implementando <code>RoomDatabase</code> para nuestra aplicaci√≥n: <br><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@Database(entities = [User::class], version = 1)</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserDatabase</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">RoomDatabase</span></span></span></span>()</code> </pre> <br>  Tenga en cuenta que <code>UserDatabase</code> es abstracto.  La biblioteca de salas proporciona autom√°ticamente una implementaci√≥n de esto.  Consulte la documentaci√≥n de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Room</a> para m√°s detalles. <br><br>  Ahora necesitamos una forma de insertar datos de usuario en la base de datos.  Para esta tarea, creamos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">un objeto de acceso a datos (DAO)</a> . <br><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@Dao</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserDao</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Insert(onConflict = REPLACE)</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">save</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(user: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">User</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> <span class="hljs-meta"><span class="hljs-meta">@Query(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"SELECT * FROM user WHERE id = :userId"</span></span></span><span class="hljs-meta">)</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">load</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(userId: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>: LiveData&lt;User&gt; }</code> </pre> <br>  Tenga en cuenta que el m√©todo de <code>load</code> devuelve un objeto de tipo LiveData.  Room sabe cu√°ndo se cambia la base de datos y notifica autom√°ticamente a todos los observadores activos los cambios en los datos.  Como Room usa <i>LiveData</i> , esta operaci√≥n es eficiente;  actualiza los datos solo si hay al menos un observador activo. <br><br>  <i><b>Nota: La</b> sala verifica la invalidaci√≥n en funci√≥n de las modificaciones de la tabla, lo que significa que puede enviar notificaciones de falsos positivos.</i> <br><br>  Habiendo definido nuestra clase <code>UserDao</code> , luego hacemos referencia al DAO de nuestra clase de base de datos: <br><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@Database(entities = [User::class], version = 1)</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserDatabase</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">RoomDatabase</span></span></span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">userDao</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: UserDao }</code> </pre> <br>  Ahora podemos cambiar nuestro <code>UserRepository</code> para incluir la fuente de datos de Room: <br><br><pre> <code class="kotlin hljs"><span class="hljs-comment"><span class="hljs-comment">//  Dagger,         . @Singleton class UserRepository @Inject constructor( private val webservice: Webservice, //    .    . private val executor: Executor, private val userDao: UserDao ) { fun getUser(userId: String): LiveData&lt;User&gt; { refreshUser(userId) //   LiveData    . return userDao.load(userId) } private fun refreshUser(userId: String) { //    . executor.execute { // ,      . val userExists = userDao.hasUser(FRESH_TIMEOUT) if (!userExists) { //  . val response = webservice.getUser(userId).execute() //    . //   .  LiveData  , //        . userDao.save(response.body()!!) } } } companion object { val FRESH_TIMEOUT = TimeUnit.DAYS.toMillis(1) } }</span></span></code> </pre> <br>  Tenga en cuenta que incluso si cambiamos la fuente de datos en <code>UserRepository</code> , no necesitamos cambiar nuestro <code>UserProfileViewModel</code> o <code>UserProfileFragment</code> .  Esta peque√±a actualizaci√≥n demuestra la flexibilidad que proporciona nuestra arquitectura de aplicaciones.  Tambi√©n es excelente para las pruebas, ya que podemos proporcionar un <code>UserRepository</code> falso y probar nuestra producci√≥n <code>UserProfileViewModel</code> al mismo tiempo. <br><br>  Si los usuarios regresan en unos d√≠as, es probable que una aplicaci√≥n que use esta arquitectura muestre informaci√≥n desactualizada hasta que el repositorio reciba informaci√≥n actualizada.  Dependiendo de su caso de uso, es posible que no muestre informaci√≥n desactualizada.  En su lugar, puede mostrar datos de <i>marcador de posici√≥n</i> , que muestra valores ficticios e indica que su aplicaci√≥n est√° descargando y cargando informaci√≥n actualizada. <br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La √∫nica fuente de verdad: por lo</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> general, diferentes puntos finales de la API REST devuelven los mismos datos. Por ejemplo, si nuestro backend tiene otro punto final que devuelve una lista de amigos, el mismo objeto de usuario puede provenir de dos puntos finales API diferentes, posiblemente incluso utilizando diferentes niveles de detalle. Si </font></font><code>UserRepository</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">devolvimos la respuesta de la solicitud </font></font><code>Webservice</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tal como est√°, sin verificar la coherencia, nuestras interfaces de usuario podr√≠an mostrar informaci√≥n confusa, porque la versi√≥n y el formato de los datos del almacenamiento depender√≠an del √∫ltimo punto final llamado. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por esta raz√≥n, nuestra implementaci√≥n </font></font><code>UserRepository</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">almacena las respuestas del servicio web en una base de datos. Los cambios en la base de datos desencadenan devoluciones de llamada para objetos </font><i><font style="vertical-align: inherit;">LiveData</font></i><font style="vertical-align: inherit;"> activos</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Con este modelo, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la base de datos sirve como la √∫nica fuente de verdad</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , y otras partes de la aplicaci√≥n acceden a ella a trav√©s de la nuestra </font></font><code>UserRepository</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Independientemente de si utiliza un cach√© de disco, le recomendamos que su repositorio identifique la fuente de datos como la √∫nica fuente de verdad para el resto de su aplicaci√≥n.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mostrar progreso de la operaci√≥n </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En algunos casos de uso, como pull-to-refresh, es importante que la interfaz de usuario muestre al usuario que una operaci√≥n de red est√° actualmente en progreso. </font><font style="vertical-align: inherit;">Se recomienda que la acci√≥n de la interfaz de usuario se separe de los datos reales, ya que los datos pueden actualizarse por varias razones. </font><font style="vertical-align: inherit;">Por ejemplo, si obtenemos una lista de amigos, el mismo usuario puede seleccionarse nuevamente mediante programaci√≥n, lo que conducir√° a una actualizaci√≥n de LiveData. </font><font style="vertical-align: inherit;">Desde el punto de vista de la interfaz de usuario, el hecho de tener una solicitud en vuelo es solo otro punto de datos, similar a cualquier otro dato en el objeto mismo </font></font><code>User</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Podemos usar una de las siguientes estrategias para mostrar el estado de actualizaci√≥n de datos acordado en la interfaz de usuario, independientemente de d√≥nde provenga la solicitud de actualizaci√≥n de datos: </font></font><br><br><ul><li>  <code>getUser ()</code> ,      <code>LiveData</code> .         .  ,   NetworkBoundResource   GitHub <a href="">android-Architecture-components</a> . </li><li>       <code>UserRepository</code> ,      .    ,              ,         ,   pull-to-refresh. </li></ul><br><h3>    </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En la secci√≥n sobre separaci√≥n de intereses, mencionamos que una de las ventajas clave de seguir este principio es la capacidad de prueba. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La siguiente lista muestra c√≥mo probar cada m√≥dulo de c√≥digo de nuestro ejemplo extendido:</font></font><br><br><ul><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interfaz de usuario e interacci√≥n</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : use el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kit de herramientas de prueba de la interfaz de usuario de Android</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">La mejor manera de crear esta prueba es usar la biblioteca </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espresso</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Puede crear un fragmento y proporcionarle un dise√±o </font></font><code>UserProfileViewModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dado que el fragmento est√° asociado solo con </font></font><code>UserProfileViewModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, la burla </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(imitaci√≥n) de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> solo esta clase es suficiente para probar completamente la interfaz de usuario de su aplicaci√≥n.</font></font></li><li> <b>ViewModel:</b>     <code>UserProfileViewModel</code>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">JUnit</a> .      , <code>UserRepository</code> . </li><li> <b>UserRepository:</b>     <code>UserRepository</code>    JUnit.    <code>Webservice</code>  <code>UserDao</code> .      : <br><br><ul><li>     -. </li><li>      . </li><li>     ,     . </li></ul><br></li><li>   <code>Webservice</code> ,  <code>UserDao</code>  ,             . </li><li> <b>UserDao:</b>   DAO    .       -   ,   .        ,  ,      ,        ‚Ä¶ <br><br> <i><b>:</b> Room     ,    DAO,   JSQL  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">SupportSQLiteOpenHelper</a></b> .     ,      SQLite     SQLite   .</i> </li><li> <b>-:</b>         .   ,  -,      .  ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://github.com/square/ok">MockWebServer</a> ,          . </li><li> <b> :</b>     maven    .    <code>androidx.arch.core</code> :    JUnit: <br><br><ul><li> <code>InstantTaskExecutorRule:</code>            . </li><li> <code>CountingTaskExecutorRule:</code>         .        Espresso     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="> </a> . </li></ul><br></li></ul><br><h2>   </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La programaci√≥n es un campo creativo, y la creaci√≥n de aplicaciones de Android no es una excepci√≥n. Hay muchas formas de resolver el problema, ya sea transfiriendo datos entre varias acciones o fragmentos, recuperando datos eliminados y guard√°ndolos localmente fuera de l√≠nea, o cualquier otro escenario com√∫n encontrado por aplicaciones no triviales. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aunque no se requieren las siguientes recomendaciones, nuestra experiencia muestra que su implementaci√≥n hace que su base de c√≥digo sea m√°s confiable, comprobable y compatible a largo plazo: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Evite designar los puntos de entrada de su aplicaci√≥n, como acciones, servicios y receptores de transmisi√≥n, como fuentes de datos.</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En cambio, solo necesitan coordinarse con otros componentes para obtener un subconjunto de los datos relacionados con este punto de entrada. Cada componente de la aplicaci√≥n es de corta duraci√≥n, dependiendo de la interacci√≥n del usuario con su dispositivo y el estado actual general del sistema. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cree l√≠neas claras de responsabilidad entre los diversos m√≥dulos de su aplicaci√≥n.</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Por ejemplo, no distribuya c√≥digo que descargue datos de la red a varias clases o paquetes en su base de c√≥digo. Del mismo modo, no defina m√∫ltiples responsabilidades no relacionadas, como el almacenamiento en cach√© y el enlace de datos, en la misma clase. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exponga lo menos posible de cada m√≥dulo.</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resista la tentaci√≥n de crear una etiqueta de "solo uno" que revele los detalles de una implementaci√≥n interna desde un m√≥dulo. Puede ganar algo de tiempo a corto plazo, pero luego incurrir√° en una deuda t√©cnica muchas veces a medida que se desarrolle su base de c√≥digo. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Piense en c√≥mo hacer que cada m√≥dulo sea comprobable de forma aislada.</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Por ejemplo, tener una API bien definida para recuperar datos de la red facilita la prueba de un m√≥dulo que almacena estos datos en una base de datos local. Si, en cambio, combina la l√≥gica de estos dos m√≥dulos en un solo lugar o distribuye su c√≥digo de red en toda la base de c√≥digo, las pruebas se vuelven mucho m√°s dif√≠ciles, en algunos casos ni siquiera imposibles. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conc√©ntrese en el n√∫cleo √∫nico de su aplicaci√≥n para destacarse de otras aplicaciones.</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No reinvente la rueda escribiendo el mismo patr√≥n una y otra vez. En cambio, concentre su tiempo y energ√≠a en lo que hace que su aplicaci√≥n sea √∫nica, y deje que los componentes de la arquitectura de Android y otras bibliotecas recomendadas hagan frente a un patr√≥n repetitivo. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mantenga la mayor cantidad de datos relevantes y frescos posible.</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Por lo tanto, los usuarios pueden disfrutar de la funcionalidad de su aplicaci√≥n, incluso si su dispositivo est√° fuera de l√≠nea. Recuerde que no todos sus usuarios usan una conexi√≥n de alta velocidad constante. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Designe una √∫nica fuente de datos como la √∫nica fuente verdadera.</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Siempre que su aplicaci√≥n necesite acceso a este dato, siempre debe provenir de esta √∫nica fuente de verdad.</font></font><br><br><h3> <u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anexo: divulgaci√≥n del estado de la red</font></font></u> </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En la secci√≥n anterior de la arquitectura de aplicaci√≥n recomendada, omitimos los errores de red y los estados de arranque para simplificar los fragmentos de c√≥digo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esta secci√≥n muestra c√≥mo mostrar el estado de la red utilizando la clase Resource, que encapsula tanto los datos como su estado. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El siguiente fragmento de c√≥digo proporciona un ejemplo de implementaci√≥n</font></font><code>Resource:</code> <br><br><pre> <code class="kotlin hljs"><span class="hljs-comment"><span class="hljs-comment">//  ,         . sealed class Resource&lt;T&gt;( val data: T? = null, val message: String? = null ) { class Success&lt;T&gt;(data: T) : Resource&lt;T&gt;(data) class Loading&lt;T&gt;(data: T? = null) : Resource&lt;T&gt;(data) class Error&lt;T&gt;(message: String, data: T? = null) : Resource&lt;T&gt;(data, message) }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dado que la descarga de datos de la red cuando se muestra una copia de estos datos es una pr√°ctica com√∫n, es √∫til crear una clase auxiliar que pueda reutilizarse en varios lugares. Para este ejemplo, creamos una clase con el nombre </font></font><code>NetworkBoundResource</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El siguiente diagrama muestra el √°rbol de decisi√≥n para </font></font><code>NetworkBoundResource</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/e1/wv/c9/e1wvc9un_w2t8jyi0kiky8wagw0.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comienza observando la base de datos para el recurso. Cuando se descarga un registro de la base de datos por primera vez, </font></font><code>NetworkBoundResource</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">verifica si el resultado es lo suficientemente bueno como para ser enviado, o si necesita ser recuperado de la red. Tenga en cuenta que estas dos situaciones pueden ocurrir simult√°neamente, dado que probablemente desee mostrar los datos en cach√© al actualizarlos desde la red.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si la llamada de red tiene √©xito, almacena la respuesta en la base de datos y reinicializa la secuencia. En caso de una </font></font><code>NetworkBoundResource</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">falla de </font><font style="vertical-align: inherit;">solicitud de red </font><font style="vertical-align: inherit;">, env√≠a la falla directamente. </font></font><br><br> <code><b>.</b>             .       ,       .</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tenga en cuenta que confiar en una base de datos para enviar cambios implica el uso de efectos secundarios relacionados, lo que no es muy bueno porque el comportamiento indefinido de estos efectos secundarios puede ocurrir si la base de datos no env√≠a los cambios porque los datos no han cambiado.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adem√°s, no env√≠e resultados recibidos de la red, ya que esto viola el principio de una sola fuente de verdad. </font><font style="vertical-align: inherit;">Al final, es posible que la base de datos contenga disparadores que cambien los valores de los datos durante la operaci√≥n de guardar. </font><font style="vertical-align: inherit;">Del mismo modo, no env√≠e "√âXITO" sin nuevos datos, porque entonces el cliente recibir√° la versi√≥n incorrecta de los datos. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El siguiente fragmento de c√≥digo muestra la API abierta proporcionada por la clase </font></font><code>NetworkBoundResource</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para sus subclases:</font></font><br><br><pre> <code class="kotlin hljs"><span class="hljs-comment"><span class="hljs-comment">// ResultType:   . // RequestType:   API. abstract class NetworkBoundResource&lt;ResultType, RequestType&gt; { //      API   . @WorkerThread protected abstract fun saveCallResult(item: RequestType) //      ,  ,    //     . @MainThread protected abstract fun shouldFetch(data: ResultType?): Boolean //        . @MainThread protected abstract fun loadFromDb(): LiveData&lt;ResultType&gt; //     API. @MainThread protected abstract fun createCall(): LiveData&lt;ApiResponse&lt;RequestType&gt;&gt; // ,    .   //    ,    . protected open fun onFetchFailed() {} //   LiveData,  , //    . fun asLiveData(): LiveData&lt;ResultType&gt; = TODO() }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Presta atenci√≥n a los siguientes detalles importantes de la definici√≥n de clase: </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Define dos par√°metros de tipo, </font></font><code>ResultType</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font><code>RequestType</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dado que el tipo de datos devuelto por la API puede no corresponder con el tipo de datos utilizado localmente.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utiliza una clase </font></font><code>ApiResponse</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para solicitudes de red. </font></font><code>ApiResponse</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es un contenedor simple para una clase </font></font><code>Retrofit2.Call</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que convierte las respuestas en instancias </font></font><code>LiveData</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La implementaci√≥n completa de la clase </font></font><code>NetworkBoundResource</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aparece como parte del proyecto </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub android-Architecture-components</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Una vez creado, </font></font><code>NetworkBoundResource</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">podemos usarlo para escribir nuestro disco y las implementaciones conectadas a la red </font></font><code>User</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en la clase </font></font><code>UserRepository</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="kotlin hljs"><span class="hljs-comment"><span class="hljs-comment">//  Dagger2,         . @Singleton class UserRepository @Inject constructor( private val webservice: Webservice, private val userDao: UserDao ) { fun getUser(userId: String): LiveData&lt;User&gt; { return object : NetworkBoundResource&lt;User, User&gt;() { override fun saveCallResult(item: User) { userDao.save(item) } override fun shouldFetch(data: User?): Boolean { return rateLimiter.canFetch(userId) &amp;&amp; (data == null || !isFresh(data)) } override fun loadFromDb(): LiveData&lt;User&gt; { return userDao.load(userId) } override fun createCall(): LiveData&lt;ApiResponse&lt;User&gt;&gt; { return webservice.getUser(userId) } }.asLiveData() } }</span></span></code> </pre> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/456256/">https://habr.com/ru/post/456256/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../456240/index.html">Desarrollo de chatbot (laravel + botman)</a></li>
<li><a href="../456242/index.html">Un poco m√°s sobre la multitarea en microcontroladores</a></li>
<li><a href="../456246/index.html">Elemento cero</a></li>
<li><a href="../456248/index.html">C√≥mo atrap√©: antes de los estilos para un elemento de enfoque</a></li>
<li><a href="../456250/index.html">Localizaci√≥n de aplicaciones y soporte RTL. Informe Yandex.Taxi</a></li>
<li><a href="../456258/index.html">Gratis como viento y gratis como cerveza traducci√≥n de "Gratis como en libertad" al ruso bajo la licencia GNU FDL 1.3</a></li>
<li><a href="../456260/index.html">Charla de econom√≠a justa</a></li>
<li><a href="../456262/index.html">Radio definida por software: ¬øc√≥mo funciona? Parte 9</a></li>
<li><a href="../456264/index.html">Cree archivos binarios de Android con c√≥digo fuente y NDK de Android. Bombeamos la utilidad screencap</a></li>
<li><a href="../456266/index.html">El resumen de materiales interesantes para el desarrollador m√≥vil # 302 (del 10 al 16 de junio)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>