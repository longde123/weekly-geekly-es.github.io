<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨ğŸ½â€âš•ï¸ ğŸ›¬ ğŸ¤¬ Xiaomi Aqara Beralih redo dari ZigBee ke Z-Wave ğŸ–ğŸ½ ğŸ’º ğŸ‚ğŸ½</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya memutuskan untuk mencoba mengintegrasikan sakelar ke rumah saya Z-Wave automation ZigBee. Untuk percobaan, saya membeli sakelar bertenaga baterai...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Xiaomi Aqara Beralih redo dari ZigBee ke Z-Wave</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430882/"><img src="https://habrastorage.org/webt/n7/ke/va/n7kevawzvuk65h83ji2t-pgs2uu.jpeg"><br><br>  Saya memutuskan untuk mencoba mengintegrasikan sakelar ke rumah saya Z-Wave automation ZigBee.  Untuk percobaan, saya membeli sakelar bertenaga baterai ZigBee yang murah, Xiaomi Aqara Smart Switch.  Itu terlihat cantik, plastik kualitas tertinggi, sangat bagus, tombol sakelar dengan mekanisme pegas, yang memberikan umpan balik sentuhan penuh. <br><br>  Sakelar itu direncanakan akan digunakan dalam skenario berikut: <br><br><ul><li>  dengan sekali tekan hidupkan / matikan lampu malam </li><li>  tahan lama peredupan cahaya malam </li><li>  dengan menekan dua kali, hidupkan / matikan lampu latar LED </li></ul><br>  Tetapi pengujian menunjukkan bahwa Xiaomi Aqara Smart Switch hanya merespons satu ketukan.  Dan ketika saya mencoba mensimulasikan dan <b>menahan kunci selama 5 detik, itu diatur ulang ke pengaturan pabrik</b> .  Karena itu, Aqara Smart Switch ternyata tidak berguna bagi saya, dan saya memutuskan untuk membuat saklar Z-Wave dengan semua fungsi yang saya butuhkan dalam kasingnya. <br><br><img src="https://habrastorage.org/webt/zj/sg/rn/zjsgrnu1t9blxyy_fkughm2gt9i.png" width="300" align="right">  Dasar dari sakelar Z-Wave adalah Modul Z-Uno - papan kecil yang di atasnya, hanya chip dan memori Z-Wave, yang diprogram dari lingkungan Arduino melalui USB.  Modul dengan ukuran 25x15x1.9 mm menyediakan akses ke semua pin chip Z-Wave.  Modul ini memiliki konektor U.FL untuk menghubungkan antena, atau Anda cukup menyolder kabel 86 mm.  Ini adalah Z-Uno yang sama hanya untuk produsen perangkat. <br><a name="habracut"></a><br>  Saya baru-baru ini membuat beberapa saklar Z-Wave yang berbeda, semua orang mencari solusi yang sempurna: <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pengembangan saklar sentuh Z-Wave pada baterai dengan tombol bercahaya</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Gira + Z-Wave Switch.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Sakelar radio 4 tombol berdasarkan Z-Uno</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Sentuh saklar bertenaga baterai radio.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Livolo + Z-Uno</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Mengubah saklar radio tombol menjadi sentuhan</a> </li></ol><br>  Pengembangan papan pemutus sirkuit tidak membutuhkan banyak waktu.  Tetapi dalam perjalanan saya harus menyelesaikan beberapa masalah. <br><br>  Awalnya, saya membuat papan uji dari 1,6 mm PCB, menyoldernya ke Z-Uno 1,9 mm, ternyata desainnya tidak terlalu tinggi, saya harus menggunakan 1 mm PCB, sama seperti pada papan Xiaomi asli. <br><br>  Ternyata sulit untuk membuat pengencang untuk baterai CR2032, jadi saya melepasnya dari papan asli dan juga menggunakan kapasitor tantalum 220mF dari papan asli. <br>  Xiaomi juga memiliki versi dua tombol, jadi saya membuat papan universal.  Saya mendapat komponen yang jauh lebih sedikit untuk penyolderan daripada Xiaomi, semua binding chip Z-Wave sudah ada di modul.  Menurut pengalaman, saya solder tombol tanpa fluks, agar tidak mencucinya nanti, jika tidak, setelah mencuci papan, tombol cepat berhenti bekerja. <br><br>  Saya memesan papan produksi di seeedstudio, ternyata 1000r dengan pengiriman selama 10 pcs. Saya sangat puas dengan kualitasnya, seperti biasa, warnanya hitam pekat. <br><br><img src="https://habrastorage.org/webt/9s/ec/gr/9secgr8hk4dvserjkjltrfzyq1k.jpeg"><br><br>  Sirkuit, seperti dari pelajaran pertama tentang Arduino - sepasang tombol dan LED. <br><br><img src="https://habrastorage.org/webt/wi/te/ro/witeroumoz1clghiwnotqkfsc3s.png"><br><br>  Untuk Z-Uno ada pustaka yang nyaman untuk bekerja dengan tombol, penekanan singkat, klik panjang dan ganda didukung.  Klik tiga kali adalah kombinasi sistem, yang digunakan untuk menambahkan perangkat ke pengontrol Z-Wave dan mengirim paket informasi. <br><br><img src="https://habrastorage.org/webt/-t/ob/0u/-tob0ujcf4-q38kbaqtgcjabwni.png"><br><br>  Ketika Anda menekan tombol apa saja, bumi menutup melalui dioda pada INT 18 dan Z-Uno bangun, lalu tombol-tombol disurvei. <br><br>  Sketsa diunggah melalui USB, untuk ini di bagian belakang papan saya berikan poin GND, 3V, DM, DP.  Selain itu, Anda memerlukan tombol RESET untuk menempatkan Z-Uno ke mode pemrograman.  Debugging dapat dilakukan oleh UART, mereka berada di Z-Uno 2, keduanya besi. <br><br><img src="https://habrastorage.org/webt/vx/mt/gk/vxmtgkp5juot60hikrnvogpu1a0.jpeg"><br><br>  Seperti yang saya rencanakan, saya menerapkan 3 skenario manajemen perangkat, konfigurasi dilakukan menggunakan pengontrol RaZberry Z-Wave.  Ada 4 kelompok asosiasi.  Kelompok pertama adalah mengirim baterai ke controller.  Grup kedua untuk perangkat yang dikontrol hanya dengan penekanan singkat, mis.  hanya bisa dinyalakan / dimatikan.  Kelompok ketiga untuk perangkat yang dapat dimmable, saya memiliki lampu malam di dalamnya.  Kelompok keempat untuk perangkat yang dikendalikan oleh klik ganda, di dalamnya saya akan menempatkan lampu latar LED. <br><br><img src="https://habrastorage.org/webt/nk/0q/el/nk0qelugtgnamklcn7dad-_lfsu.png"><br><br>  Papan yang sudah selesai cocok dengan sempurna ke dalam case, seperti yang asli.  Baterai CR2032 harus cukup untuk sekitar satu tahun kerja, tetapi ini akan menunjukkan latihan, Anda mungkin harus mengoptimalkan sesuatu yang lain.  Saya sangat suka desain saklar, saya juga akan mengumpulkan versi lain dengan dua tombol. <br><br><img src="https://habrastorage.org/webt/6e/sc/dh/6escdh4nzze-cowie9mwhzcakfe.jpeg"><br><br><img src="https://habrastorage.org/webt/ms/rz/9c/msrz9cv0bm0rtaiyem7epbsx7em.jpeg"><br><br>  Harga masalah adalah: 2500r (Z-Uno) + 1000r (Xiaomi Aqara Smart Switch) + 100r (1 board) = 3600r.  Kenikmatan proses pengembangan sangat berharga! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id430882/">https://habr.com/ru/post/id430882/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id430872/index.html">Siapa yang akan memenangkan perdebatan mesh vs ESB</a></li>
<li><a href="../id430874/index.html">Bermigrasi ke Google Cloud Platform (Google Cloud Platform - GCP)</a></li>
<li><a href="../id430876/index.html">Pengembangan melalui pengujian: meningkatkan keterampilan</a></li>
<li><a href="../id430878/index.html">PhpStorm 2018.3 tersedia</a></li>
<li><a href="../id430880/index.html">Implementasi Pemrosesan Data Lainnya</a></li>
<li><a href="../id430884/index.html">Pabrik percetakan: mengapa "LANIT-Integration" membuka "percetakan" sendiri</a></li>
<li><a href="../id430886/index.html">Perbarui perpustakaan dan pembenci SPPermission</a></li>
<li><a href="../id430888/index.html">Seberapa aman menggunakan paket R untuk bekerja dengan API sistem periklanan</a></li>
<li><a href="../id430890/index.html">Di mana lincah itu mengerikan, terutama scrum</a></li>
<li><a href="../id430892/index.html">Kombinasi dari cross-platform dan pendekatan asli dalam pengembangan aplikasi mobile</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>