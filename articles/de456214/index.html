<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ’ˆ ğŸ© ğŸ´ Verwenden Sie __main__.py ğŸ‘¨ğŸ¿â€ğŸš€ ğŸ› ğŸ‘©ğŸ¾â€ğŸ¤â€ğŸ‘¨ğŸ½</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Warum __init__.py benÃ¶tigt wird, weiÃŸ wahrscheinlich jeder Pythonist, aber was ist mit __main__.py ? Ich habe viele Projekte gesehen, entweder in Arbe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Verwenden Sie __main__.py</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/456214/"><p>  Warum <strong>__init__.py</strong> benÃ¶tigt wird, weiÃŸ wahrscheinlich jeder Pythonist, aber was ist mit <strong>__main__.py</strong> ?  Ich habe viele Projekte gesehen, entweder in Arbeit oder auf Github, die diese magische Datei nicht verwenden, obwohl sie ihr Leben leichter machen kÃ¶nnten.  Meiner Meinung nach ist <strong>__main__.py</strong> der beste Weg, um mit Python-Modulen zu interagieren, die aus mehreren Dateien bestehen. </p><br><h2>  Aber machen wir es zuerst richtig: Wie fÃ¼hren die meisten Leute ihre Python-Skripte aus? </h2><br><p>  Sobald Sie ein Programm geschrieben haben, das Sie sowohl als importiertes Modul als auch als Ã¼ber die Befehlszeile gestartetes Tool verwenden mÃ¶chten.  Sie wissen hÃ¶chstwahrscheinlich, was in diesem Fall normalerweise getan wird: </p><br><pre><code class="plaintext hljs">if __name__ == '__main__': main(sys.argv)</code> </pre> <br><p>  Wenn Sie das Skript dem Interpreter <strong>zufÃ¼hren,</strong> erhÃ¤lt die magische globale Variable <strong>__name__</strong> den Wert <strong>__main__</strong> .  So erfahren wir, dass dies kein Import, sondern ein Start ist.  Zum Beispiel: </p><br><pre> <code class="plaintext hljs">python myapp.py</code> </pre> <br><p>  Und das funktioniert hervorragend fÃ¼r eine einzelne Datei. </p><br><h2>  Das Problem </h2><br><p>  Aber wenn Sie wie ich sind, mÃ¶chten Sie nicht, dass Ihre gesamte Anwendung in einer einzigen Datei zusammengefasst wird.  Das Aufteilen der Logik in verschiedene Dateien vereinfacht die Bearbeitung und UnterstÃ¼tzung.  Zum Beispiel: </p><br><pre> <code class="plaintext hljs">. â”œâ”€â”€ README.me â”œâ”€â”€ requirements.txt â”œâ”€â”€ setup.py â””â”€â”€ src â”œâ”€â”€ __init__.py â”œâ”€â”€ client.py â”œâ”€â”€ logic.py â”œâ”€â”€ models.py â””â”€â”€ run.py</code> </pre> <br><p>  Aber der Benutzer, der das Projekt aus dem Repository geklont hat, wird nicht verstehen - welche dieser Dateien ist die Hauptdatei?  Ist <strong>run.py</strong> wirklich?  Oder vielleicht <strong>client.py</strong> ?  Wo kann man nach der bekannten Zeichenfolge suchen, <strong>wenn __name__ == '__main__'</strong> ?  Hier kann sich <strong>__main__.py</strong> beweisen. </p><a name="habracut"></a><br><h2>  __main__.py </h2><br><p>  Die Datei <strong>__main__.py</strong> wird aufgerufen, wenn das Projekt mit dem <strong>Modulflag</strong> - <strong>-m</strong> beginnt.  Dies ist sehr praktisch, wenn der Code als Modul und zum Starten Ã¼ber die Konsole vorgesehen ist.  <strong>Stellen</strong> Sie sich diese Datei als einen Ort vor, an dem Sie alles <strong>ablegen kÃ¶nnen</strong> , was Sie normalerweise in <strong>__name__ ==</strong> <strong>'</strong> <strong>__main__' einfÃ¼gen</strong> .  Lassen Sie uns das Projekt gegenÃ¼ber dem obigen Beispiel entsprechend Ã¤ndern: </p><br><pre> <code class="plaintext hljs">. â”œâ”€â”€ README.me â”œâ”€â”€ requirements.txt â”œâ”€â”€ setup.py â””â”€â”€ myapp â”œâ”€â”€ __init__.py â”œâ”€â”€ __main__.py â”œâ”€â”€ client.py â”œâ”€â”€ logic.py â”œâ”€â”€ models.py</code> </pre> <br><p>  Und voila!  Jetzt kÃ¶nnen Sie das Projekt einfach als regulÃ¤res Modul starten. </p><br><pre> <code class="plaintext hljs">python -m myapp</code> </pre> <br><p>  <strong>__main__.py</strong> wird automatisch ausgefÃ¼hrt.  Dies ist der perfekte Ort, um die Befehlszeilenschnittstelle zu hosten und Eingabeargumente zu verarbeiten! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de456214/">https://habr.com/ru/post/de456214/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de456202/index.html">WSL 2 ist jetzt in Windows Insidern verfÃ¼gbar</a></li>
<li><a href="../de456204/index.html">WSL 2 ist jetzt fÃ¼r Windows Insider verfÃ¼gbar</a></li>
<li><a href="../de456206/index.html">Wie Moovit seine App verbessert hat, um Menschen mit Behinderungen dabei zu helfen, den Transit mit Zuversicht zu fahren</a></li>
<li><a href="../de456208/index.html">90 Milliarden Rubel fÃ¼r die Entwicklung der kÃ¼nstlichen Intelligenz</a></li>
<li><a href="../de456210/index.html">Wie eine mobile Anwendung einem SchÃ¼ler mit Sehproblemen hilft, sich in Moskau zu bewegen</a></li>
<li><a href="../de456216/index.html">Machen Sie ein Retro-Spiel aus den 80ern oder wie man Modelle fÃ¼r das Laserschneiden kocht</a></li>
<li><a href="../de456218/index.html">.NET Core 3.0 (Vorschau 6) verÃ¶ffentlicht</a></li>
<li><a href="../de456220/index.html">Verallgemeinerung des Brokar-Problems</a></li>
<li><a href="../de456222/index.html">Die Gentechnik menschlicher Embryonen wird in zwei Jahren sicher und wirksam</a></li>
<li><a href="../de456224/index.html">AnkÃ¼ndigung der .NET Core 3.0-Vorschau 6</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>