<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëáüèø üë©üèª‚Äçü§ù‚Äçüë®üèæ üßöüèª Usando o PVS-Studio ao verificar projetos do Unreal Engine no sistema operacional Windows üè® ‚öôÔ∏è üßöüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este artigo √© dedicado aos recursos de verifica√ß√£o de projetos do Unreal Engine usando o analisador est√°tico PVS-Studio no sistema operacional Windows...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Usando o PVS-Studio ao verificar projetos do Unreal Engine no sistema operacional Windows</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/466479/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/977/529/b80/977529b809b96ad36c8f2c766610263a.png" alt="Quadro 2"></div><br>  Este artigo √© dedicado aos recursos de verifica√ß√£o de projetos do Unreal Engine usando o analisador est√°tico PVS-Studio no sistema operacional Windows: como instalar o analisador, como verificar o projeto, onde e como visualizar o relat√≥rio de erros. <br><a name="habracut"></a><br>  Parte integrante do ciclo de nossos artigos s√£o t√≥picos de uma maneira ou de outra relacionados √† ind√∫stria de jogos.  Verificar o mecanismo f√≠sico usado nos jogos AAA - cometa os principais erros da ind√∫stria de jogos - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">para sua sa√∫de</a> , encontrar bugs em um dos mecanismos de jogos mais populares - o Unreal Engine (UE) - √© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">f√°cil</a> .  Ao desenvolver jogos, bem como ao escrever outros aplicativos, a qualidade do c√≥digo √© importante.  Os erros s√£o melhor encontrados o mais cedo poss√≠vel e √© aconselh√°vel fazer isso automaticamente - √© aqui que os analisadores de c√≥digo est√°tico auxiliam os programadores. <br><br>  Neste artigo, tentarei falar brevemente sobre como voc√™ pode usar o analisador est√°tico PVS-Studio para analisar projetos criados no UE.  O PVS-Studio ajudar√° a melhorar o c√≥digo de seus projetos, encontrando erros, permitindo reduzir o tempo gasto na revis√£o de c√≥digos. <br><br>  Observe que este artigo √© um complemento √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">documenta√ß√£o existente</a> sobre a an√°lise de projetos da UE e n√£o serve para substitu√≠-lo, emprestando amplamente o conte√∫do da documenta√ß√£o. <br><br><h2>  Instale o PVS-Studio </h2><br>  A maneira mais f√°cil de instalar o analisador PVS-Studio √© baixar o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">arquivo de instala√ß√£o</a> .  Para poder analisar projetos criados no UE, ao instalar o PVS-Studio, voc√™ precisa selecionar os seguintes componentes: ‚ÄúMonitoramento de compilador C e C ++‚Äù e ‚ÄúIntegra√ß√£o com o Microsoft Visual Studio (Visual C ++ / C #)‚Äù.  O √∫ltimo item √© respons√°vel pela integra√ß√£o do plug-in PVS-Studio no IDE do Visual Studio, atrav√©s do qual √© conveniente trabalhar com o log de erros e com as configura√ß√µes gerais do pr√≥prio analisador. <br><br>  Para trabalhar totalmente com o PVS-Studio, voc√™ deve inserir uma licen√ßa.  Isso pode ser feito abrindo o IDE do Visual Studio (VS) e inserindo a licen√ßa na janela 'PVS-Studio | Op√ß√µes ... | Registro'.  No VS 2019, o menu PVS-Studio foi removido no menu 'Extens√µes', para que o caminho para a janela de entrada da licen√ßa tenha a seguinte apar√™ncia: 'Extens√µes' | 'PVS-Studio | Op√ß√µes ... | Registro'.  A licen√ßa pode ser obtida em nosso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">site</a> . <br><br>  Para criar projetos UE, n√£o √© usado o sistema de montagem padr√£o usado no VS - MSBuild, mas o pr√≥prio programa da Epic Games respons√°vel pela montagem - UnrealBuildTool (UBT).  Nesse sentido, o plug-in PVS-Studio n√£o pode implementar o script usual para verificar projetos C ++ / C # criados no VS: ‚ÄúPVS-Studio -&gt; Verificar -&gt; Projeto Atual‚Äù.  Existem v√°rias solu√ß√µes para contornar essa limita√ß√£o. <br><br><h2>  Executando an√°lise usando um sistema de monitoramento de compila√ß√£o </h2><br>  A primeira e mais f√°cil maneira de verificar o projeto UE pode ser feita usando o programa C e C ++ Compiler Monitoring (chamado Standalone.exe), localizado no diret√≥rio de instala√ß√£o do PVS-Studio.  O princ√≠pio de seu trabalho √© que ele monitora os lan√ßamentos de processos correspondentes ao compilador de destino (neste caso, cl.exe) e coleta todas as informa√ß√µes necess√°rias para pr√©-processamento e an√°lise posterior dos arquivos de origem.  Depois de abrir o Monitoramento do compilador C e C ++, use o menu ‚ÄúFerramentas‚Äù e selecione a op√ß√£o ‚ÄúAnalisar seus arquivos (C e C ++) ...‚Äù.  Pressione o bot√£o ‚ÄúIniciar monitoramento‚Äù e voc√™ ver√° uma janela no canto inferior esquerdo da tela informando que as chamadas do compilador est√£o sendo monitoradas: <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d04/c56/21a/d04c5621a3674d9003777275c3698398.png" alt="Quadro 1"></div><br>  Em seguida, construa seu projeto UE e pressione a tecla "Stop Monitoring". <br><br>  Depois disso, a an√°lise dos arquivos de origem que foram compilados ser√° iniciada.  Um relat√≥rio dos avisos encontrados ser√° exibido na janela Sa√≠da do analisador do programa C and C ++ Compiler Monitoring. <br><br>  O rastreamento semelhante de chamadas do compilador e a an√°lise subsequente dos arquivos recebidos podem ser feitos usando o programa de console CLMonitor.exe, localizado na mesma pasta em que o PVS-Studio foi instalado.  O CLMonitor.exe possui dois modos operacionais: modo de servidor (quando o rastreamento de processos corresponde ao compilador de destino) e modo cliente (ao analisar os arquivos de origem recebidos no est√°gio de rastreamento e gerar um relat√≥rio sobre os resultados da an√°lise).  Para executar o CLMonitor.exe no modo de servidor, execute o seguinte comando: <br><br><pre><code class="cpp hljs">CLMonitor.exe monitor</code> </pre> <br>  Depois disso, crie seu projeto UE e execute o comando abaixo: <br><br><pre> <code class="cpp hljs">CLMonitor.exe analyze -l <span class="hljs-string"><span class="hljs-string">"c:\ptest.plog"</span></span></code> </pre> <br>  O comando "analisar" inicia o CLMonitor.exe no modo cliente e fecha a inst√¢ncia em execu√ß√£o deste programa que trabalha no modo servidor.  Ap√≥s executar este comando, o CLMonitor.exe come√ßar√° a analisar os arquivos.  O par√¢metro para a op√ß√£o "- l" √© o caminho para o arquivo no qual os resultados do analisador ser√£o gravados. <br><br><h2>  Executando an√°lises usando a chave -StaticAnalyzer = PVSStudio </h2><br>  Uma abordagem alternativa e mais conveniente para a an√°lise de projetos da UE √© a integra√ß√£o direta com o sistema de montagem UBT.  Para fazer isso, no VS, abra a janela de propriedades do seu projeto UE e selecione "NMake" na lista "Configuration Properties".  Adicione o sinalizador -StaticAnalyzer = PVSStudio √† caixa de texto da propriedade Build Command Line.  Como exemplo, o valor do campo "Build Command Line" pode ser assim: <br><br><pre> <code class="cpp hljs">C:\Program Files\Epic Games\UE_4<span class="hljs-number"><span class="hljs-number">.22</span></span>\Engine\Build\BatchFiles\Build.bat<span class="hljs-string"><span class="hljs-string">" MyProject Win64 DebugGame -Project="</span></span>$(SolutionDir)$(ProjectName).uproject<span class="hljs-string"><span class="hljs-string">" -WaitMutex -FromMsBuild -StaticAnalyzer=PVSStudio</span></span></code> </pre> <br>  Vale considerar que agora, ao realizar a montagem do projeto, apenas an√°lises ser√£o realizadas, mas a montagem em si n√£o ser√° realizada.  Um cen√°rio em que a montagem e a an√°lise subsequente s√£o realizadas ser√° descrito abaixo.  Tamb√©m √© necess√°rio entender que apenas os arquivos de origem ser√£o analisados ‚Äã‚Äãque foram alterados desde a √∫ltima compila√ß√£o do projeto (se algum arquivo .h de plug-in tiver sido alterado, esse n√£o ser√° o motivo da an√°lise durante a pr√≥xima compila√ß√£o).  Para realizar uma an√°lise completa, voc√™ precisa adicionar o mesmo sinalizador ao campo de texto da propriedade "Reconstruir todas as linhas de comando".  Agora, quando voc√™ reconstr√≥i o projeto, obt√©m o resultado da an√°lise de todo o projeto. <br><br><h2>  Script de an√°lise atrav√©s da modifica√ß√£o de arquivos em lote </h2><br>  Agora, vejamos outro cen√°rio para integrar o analisador PVS-Studio ao sistema de montagem UBT, no qual a an√°lise √© iniciada imediatamente ap√≥s a constru√ß√£o / remontagem do projeto, ou seja, na sa√≠da, voc√™ obt√©m o projeto montado e o arquivo de resultados da an√°lise.  Como voc√™ deve ter notado, o campo Build Command Line cont√©m o caminho para o arquivo em lotes Build.bat, que por sua vez cont√©m instru√ß√µes para iniciar o UBT com os argumentos necess√°rios.  O Build.bat inicia no in√≠cio da compila√ß√£o. <br><br>  A id√©ia √© alterar o arquivo em lote para que ele inicie o UBT primeiro com os argumentos de constru√ß√£o padr√£o e, se a fase de constru√ß√£o for conclu√≠da com √™xito, execute o mesmo UBT novamente, mas com o sinalizador adicional -StaticAnalyzer = PVSStudio.  Para implementar o cen√°rio acima, voc√™ pode modificar o arquivo em lotes Build.bat (e √© melhor criar uma c√≥pia com o nome, por exemplo, BuildAndAnalyze.bat) da seguinte maneira.  Imediatamente ap√≥s o comando popd, insira as seguintes instru√ß√µes: <br><br><pre> <code class="cpp hljs">SET <span class="hljs-string"><span class="hljs-string">"UBT_ERR_LEVEL=!ERRORLEVEL!"</span></span> SET <span class="hljs-string"><span class="hljs-string">"NEED_TO_PERFORM_ANALYSIS"</span></span> IF <span class="hljs-string"><span class="hljs-string">"!UBT_ERR_LEVEL!"</span></span>==<span class="hljs-string"><span class="hljs-string">"0"</span></span> ( SET <span class="hljs-string"><span class="hljs-string">"NEED_TO_PERFORM_ANALYSIS=TRUE"</span></span> ) IF <span class="hljs-string"><span class="hljs-string">"!UBT_ERR_LEVEL!"</span></span>==<span class="hljs-string"><span class="hljs-string">"2"</span></span> ( SET <span class="hljs-string"><span class="hljs-string">"NEED_TO_PERFORM_ANALYSIS=TRUE"</span></span> ) IF DEFINED NEED_TO_PERFORM_ANALYSIS ( pushd <span class="hljs-string"><span class="hljs-string">"%~dp0\..\..\Source"</span></span> ECHO Running <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> analysis ..\..\Engine\Binaries\DotNET\UnrealBuildTool.exe %* -StaticAnalyzer=PVSStudio -DEPLOY popd SET <span class="hljs-string"><span class="hljs-string">"UBT_ERR_LEVEL=!ERRORLEVEL!"</span></span> )</code> </pre> <br>  Se o sinalizador -StaticAnalyzer = PVSStudio tiver sido definido anteriormente no campo Build Command Line nas configura√ß√µes do projeto 'Properties | Configuration Properties | NMake', ser√° necess√°rio remov√™-lo. <br><br>  O problema dessa abordagem √© que apenas os arquivos que foram compilados durante a fase de constru√ß√£o ser√£o analisados.  Ou seja, voc√™ n√£o receber√° um arquivo de relat√≥rio com uma verifica√ß√£o completa do seu projeto.  Al√©m disso, quaisquer altera√ß√µes feitas nos arquivos de cabe√ßalho .h inclu√≠dos tamb√©m n√£o ser√£o levadas em considera√ß√£o.  Portanto, n√£o podemos chamar essa an√°lise de incremental, pois as altera√ß√µes nos arquivos de cabe√ßalho n√£o levar√£o a an√°lise a ser realizada durante uma nova montagem.  Nesse caso, voc√™ pode reconstruir o projeto, obtendo um resultado de an√°lise para todo o projeto.  No entanto, pode levar muito tempo para concluir a montagem, para que voc√™ possa seguir o seguinte cen√°rio: criar, excluir o arquivo de cache - ActionHistory.bin, iniciar a montagem com o sinalizador -StaticAnalyzer = PVSStudio e restaurar o arquivo de cache.  O arquivo ActionHistory.bin cont√©m as informa√ß√µes necess√°rias para a execu√ß√£o de montagens incrementais, bem como o hist√≥rico de inicializa√ß√£o do analisador para os arquivos verificados. <br><br>  √Ä primeira vista, esse cen√°rio pode n√£o parecer o mais f√°cil, portanto forneceremos um conjunto completo de instru√ß√µes sobre como voc√™ pode modificar o arquivo Build.bat original.  Vale ressaltar que essas altera√ß√µes s√£o relevantes apenas para o Unreal Engine vers√£o 4.21 e superior.  Ap√≥s o comando setlocal enabledelayedexpansion, declare as seguintes vari√°veis: <br><br><pre> <code class="cpp hljs">SET PROJECT_NAME=%<span class="hljs-number"><span class="hljs-number">1</span></span>% SET PLATFORM=%<span class="hljs-number"><span class="hljs-number">2</span></span>% SET UPROJECT_FILE=%~<span class="hljs-number"><span class="hljs-number">5</span></span> SET ACTIONHISTORY_FOLDER= %UPROJECT_FILE%\..\Intermediate\Build\%PLATFORM%\%PROJECT_NAME% SET ACTION_HISTORY=ActionHistory.bin SET ACTION_HISTORY_BAC=%ACTION_HISTORY%.bac SET ACTIONHISTORY_PATH=<span class="hljs-string"><span class="hljs-string">"%ACTIONHISTORY_FOLDER%\%ACTION_HISTORY%"</span></span> SET ACTIONHISTORY_BAC_PATH= <span class="hljs-string"><span class="hljs-string">"%ACTIONHISTORY_FOLDER%\%ACTION_HISTORY_BAC%"</span></span></code> </pre> <br>  Imediatamente ap√≥s a instru√ß√£o popd, insira estes comandos: <br><pre> <code class="cpp hljs">SET <span class="hljs-string"><span class="hljs-string">"UBT_ERR_LEVEL=!ERRORLEVEL!"</span></span> SET <span class="hljs-string"><span class="hljs-string">"NEED_TO_PERFORM_ANALYSIS="</span></span> IF <span class="hljs-string"><span class="hljs-string">"!UBT_ERR_LEVEL!"</span></span>==<span class="hljs-string"><span class="hljs-string">"0"</span></span> ( SET <span class="hljs-string"><span class="hljs-string">"NEED_TO_PERFORM_ANALYSIS=TRUE"</span></span> ) IF <span class="hljs-string"><span class="hljs-string">"!UBT_ERR_LEVEL!"</span></span>==<span class="hljs-string"><span class="hljs-string">"2"</span></span> ( SET <span class="hljs-string"><span class="hljs-string">"NEED_TO_PERFORM_ANALYSIS=TRUE"</span></span> ) IF DEFINED NEED_TO_PERFORM_ANALYSIS ( pushd <span class="hljs-string"><span class="hljs-string">"%~dp0\..\..\Source"</span></span> ECHO Running <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> analysis IF EXIST %ACTIONHISTORY_PATH% ( ECHO Copying %ACTION_HISTORY% to %ACTION_HISTORY_BAC% COPY %ACTIONHISTORY_PATH% %ACTIONHISTORY_BAC_PATH% ECHO Removing %ACTION_HISTORY%: %ACTIONHISTORY_PATH% DEL %ACTIONHISTORY_PATH% ) ..\..\Engine\Binaries\DotNET\UnrealBuildTool.exe %* -StaticAnalyzer=PVSStudio -DEPLOY popd SET <span class="hljs-string"><span class="hljs-string">"UBT_ERR_LEVEL=!ERRORLEVEL!"</span></span> IF EXIST %ACTIONHISTORY_BAC_PATH% ( ECHO Recovering %ACTION_HISTORY% COPY %ACTIONHISTORY_BAC_PATH% %ACTIONHISTORY_PATH% ECHO Removing %ACTION_HISTORY_BAC%: %ACTIONHISTORY_BAC_PATH% DEL %ACTIONHISTORY_BAC_PATH% ) )</code> </pre> <br>  Observe que as vari√°veis ‚Äã‚ÄãPROJECT_NAME, PLATFORM e UPROJECT_FILE necess√°rias para determinar corretamente o caminho do cache obt√™m seus valores nos argumentos da linha de comando Build.bat.  Se voc√™ tiver uma ordem diferente desses argumentos, dever√° alterar a inicializa√ß√£o das tr√™s vari√°veis ‚Äã‚Äãdescritas acima. <br><br><h2>  An√°lise incremental de projeto atrav√©s da modifica√ß√£o do UBT </h2><br>  O PVS-Studio pode trabalhar no modo de an√°lise incremental.  A an√°lise incremental visa verificar apenas os arquivos de origem que foram modificados desde a √∫ltima compila√ß√£o do projeto.  No modo de an√°lise incremental, o PVS-Studio inicia automaticamente em segundo plano na m√°quina do desenvolvedor imediatamente ap√≥s a compila√ß√£o do c√≥digo e analisa todos os arquivos afetados pelas modifica√ß√µes.  Voc√™ pode encontrar um guia mais detalhado sobre o uso do PVS-Studio no modo de an√°lise incremental em nossa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">documenta√ß√£o</a> . <br><br>  Com a implementa√ß√£o do modo de an√°lise incremental para projetos da UE, tudo fica um pouco mais complicado do que com o cen√°rio de trabalho padr√£o.  Nesse caso, para poder executar uma an√°lise incremental (levando em considera√ß√£o as altera√ß√µes nos arquivos .h conectados), voc√™ precisar√° fazer altera√ß√µes no sistema de montagem UBT.  Para fazer isso, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">acesse</a> o reposit√≥rio UE no github.com e clone-o na sua m√°quina.  Para configurar ainda mais o reposit√≥rio clonado, voc√™ precisa seguir as etapas listadas na se√ß√£o ‚ÄúInstalando e executando‚Äù da subse√ß√£o ‚ÄúWindows‚Äù.  Voc√™ pode encontrar a se√ß√£o mencionada na p√°gina principal do reposit√≥rio oficial da UE.  Depois de configurar seu reposit√≥rio, voc√™ poder√° come√ßar a fazer altera√ß√µes no UBT.  Para fazer isso, v√° para o seguinte caminho no reposit√≥rio clonado: \ UnrealEngine \ Engine \ Source \ Programs \ UnrealBuildTool.  Abra a solu√ß√£o UnrealBuildTool.sln e, na janela Solution Explorer, localize o arquivo PVSToolChain.cs.  Neste arquivo, adicione as seguintes linhas de c√≥digo √† classe PVSApplicationSettings: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/// &lt;summary&gt; /// Whether need incremental analysis or not /// &lt;/summary&gt; public bool IncrementalAnalysis;</span></span></code> </pre> <br>  Essa linha de c√≥digo permite que a op√ß√£o IncrementalAnalysis seja desserializada do arquivo de configura√ß√µes do PVS-Studio.  N√£o se esque√ßa de ativar o pr√≥prio modo de an√°lise incremental do PVS-Studio.Para fazer isso, abra o item de menu principal Extens√µes no VS, o submenu PVS-Studio, An√°lise ap√≥s compila√ß√£o (somente arquivos modificados), Ativado.  Agora adicione as seguintes linhas de c√≥digo imediatamente ap√≥s declarar a vari√°vel BaseFileName: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// Get pvslog file FileReference OutputFileLocation = FileReference. Combine(OutputDir, BaseFileName + ".pvslog"); FileItem OutputFileItem = FileItem.GetItemByFileReference(OutputFileLocation); if (ApplicationSettings.IncrementalAnalysis &amp;&amp; OutputFileItem.Exists) { // Get object file FileReference ObjectFileLocation = FileReference. Combine(OutputDir, BaseFileName + ".obj"); FileItem ObjectFileItem = FileItem.GetItemByFileReference(ObjectFileLocation); if (ObjectFileItem.Exists &amp;&amp; (ObjectFileItem.LastWriteTimeUtc &lt; OutputFileItem.LastWriteTimeUtc)) { continue; } }</span></span></code> </pre> <br>  Depois disso, exclua as declara√ß√µes de vari√°veis ‚Äã‚Äãanteriores OutputFileLocation e OutputFileItem abaixo no c√≥digo. <br><br>  Durante o processo de montagem do projeto UE, um arquivo de objeto .obj √© gerado para cada arquivo .cpp de origem.  A ideia dessa an√°lise incremental √© verificar apenas os arquivos .cpp de origem para os quais a data de cria√ß√£o / modifica√ß√£o do arquivo de objeto √© mais recente que a do arquivo de relat√≥rio .pvslog (para cada arquivo de origem √© gerado seu pr√≥prio arquivo .pvslog, ent√£o tudo Os arquivos .pvslog ser√£o combinados em um final .pvslog).  Depois de fazer as altera√ß√µes acima, compile o UBT e copie o bin√°rio rec√©m-coletado no local do UBT original. <br><br>  Est√° tudo pronto, agora, quando voc√™ concluir a montagem do projeto UE, receber√° um log de relat√≥rio contendo os resultados do analisador apenas para os arquivos de origem que foram submetidos √† compila√ß√£o.  Lembre-se de que essa modifica√ß√£o no UBT s√≥ faz sentido se voc√™ modificar o arquivo Build.bat para excluir o arquivo de cache ActionHistory.bin (uma descri√ß√£o detalhada desse cen√°rio foi descrita acima).  Para desativar o modo de an√°lise incremental, basta definir a op√ß√£o "An√°lise ap√≥s compila√ß√£o (somente arquivos modificados)" descrita acima como "Desativado". <br><br>  Deixe-me lembr√°-lo mais uma vez: se voc√™ definir o sinalizador -StaticAnalyzer = PVSStudio no campo Build Command Line nas configura√ß√µes do projeto 'Properties | Configuration Properties | NMake', ser√° necess√°rio remov√™-lo neste cen√°rio. <br><br><h2>  Abrindo o arquivo de relat√≥rio do analisador e seu carregamento autom√°tico no Visual Studio </h2><br>  Por padr√£o, ao analisar um projeto UE, o arquivo de relat√≥rio n√£o √© carregado na janela PVS-Studio no VS.  √â simplesmente salvo em rela√ß√£o √† pasta do projeto no seguinte caminho: \ YouProject \ Saved \ PVS-Studio \.  Para abrir esse arquivo no VS, √© necess√°rio usar o seguinte comando: 'PVS-Studio | Abrir / Salvar | Abrir relat√≥rio de an√°lise' e defina a op√ß√£o 'Sa√≠da n√£o analisada' na op√ß√£o de sele√ß√£o de tipo de arquivo.  Voc√™ tamb√©m pode abrir o arquivo de relat√≥rio no programa de Monitoramento de Compilador C e C ++ usando este comando: 'Arquivo | Abrir registro do PVS-Studio' e tamb√©m selecionar o tipo de arquivo 'Sa√≠da n√£o analisada'. <br><br>  Existe uma op√ß√£o mais conveniente para abrir o log de an√°lise - ele √© carregado automaticamente no VS.  Para carreg√°-lo automaticamente na janela PVS-Studio no VS ap√≥s a conclus√£o da an√°lise, √© necess√°rio ativar a op√ß√£o correspondente: 'PVS-Studio | Op√ß√µes | Configura√ß√µes espec√≠ficas do analisador | Salvar / carregar (relat√≥rio do analisador) | AutoloadUnrealEngineLog'. <br><br><h2>  Fa√ßa o download e experimente o analisador PVS-Studio </h2><br>  Eu, como autor deste artigo e como uma daquelas pessoas que est√£o trabalhando diretamente na implementa√ß√£o e suporte da funcionalidade PVS-Studio relacionada √† an√°lise de projetos baseados no mecanismo UE, estou pronto para ajudar os leitores.  Se voc√™ tiver alguma dificuldade em usar o PVS-Studio com seu projeto UE ou tiver alguma d√∫vida que n√£o encontrou resposta neste artigo, terei prazer em conversar com voc√™.  Escreva-nos em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">suporte</a> e cartas ser√£o entregues a mim sobre a UE e quest√µes relacionadas.  Obrigado pela aten√ß√£o. <br><br><h2>  Sitelinks </h2><br><ol><li>  Andrey Karpov.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A t√£o esperada verifica√ß√£o do Unreal Engine 4</a> .  (14 de abril de 2014) </li><li>  Pavel Eremeev, Svyatoslav Razmyslov.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como a equipe do PVS-Studio aprimorou o c√≥digo do Unreal Engine</a> .  (20 de junho de 2015) </li><li>  Andrey Karpov.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">An√°lise est√°tica como parte do processo de desenvolvimento do Unreal Engine</a> .  (27 de junho de 2017) </li></ol><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/c78/30f/70c/c7830f70c5577c3d6704f254d7cad6a3.png" align="left"></a> </p><br>  Se voc√™ deseja compartilhar este artigo com um p√∫blico que fala ingl√™s, use o link para a tradu√ß√£o: Ilya Gainulin.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Uso do PVS-Studio ao verificar projetos de mecanismo irreal no sistema operacional Windows</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt466479/">https://habr.com/ru/post/pt466479/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt466465/index.html">Summ3r 0f h4ck 2019: resultados da pesquisa</a></li>
<li><a href="../pt466467/index.html">Suporte para tokens jwt an√¥nimos no IdentityServer4 usando AnonymousIdentity</a></li>
<li><a href="../pt466473/index.html">Como criamos o sistema IoT para gerenciar o uso de energia solar</a></li>
<li><a href="../pt466475/index.html">Como transformar tr√°fego em vendas usando dados do usu√°rio do site</a></li>
<li><a href="../pt466477/index.html">Uso do PVS-Studio ao verificar projetos de mecanismo irreal no sistema operacional Windows</a></li>
<li><a href="../pt466485/index.html">Carros el√©tricos dos anos 90. Parte 1. Irm√£os Citroen e Peugeot</a></li>
<li><a href="../pt466489/index.html">Os engenheiros coreanos sugerem o uso da Hololens como alternativa √†s divis√≥rias de escrit√≥rio</a></li>
<li><a href="../pt466491/index.html">Projeto de Treinamento em Godot - Pong (Parte 2) Criando e Configurando a Bola</a></li>
<li><a href="../pt466493/index.html">Docker: Para come√ßar. Aten√ß√£o Implantar</a></li>
<li><a href="../pt466495/index.html">Como n√£o errar com a concorr√™ncia no Go</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>