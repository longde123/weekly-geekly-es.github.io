<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏿‍🍳 🛒 🚇 TelegramBot说明，用于为机器人创建基本功能。 （第1部分） 🎧 👨🏿‍🔬 🔸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="不久前，我建议您使用我的电报机器人。 

 电报机器人-活动策划助手 

 在PM中收到许多问题后，我意识到为Telegram创建机器人的问题非常流行。 

 他们问我机器人的源代码，问我分享各种机器人功能实现的具体示例，问我建议使用某种功能来处理机器人和消息。 

 我决定撰写一系列文章，在这些文...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>TelegramBot说明，用于为机器人创建基本功能。 （第1部分）</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/476306/">不久前，我建议您使用我的电报机器人。 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">电报机器人-活动策划助手</a> <br><br> 在PM中收到许多问题后，我意识到为Telegram创建机器人的问题非常流行。 <br><br> 他们问我机器人的源代码，问我分享各种机器人功能实现的具体示例，问我建议使用某种功能来处理机器人和消息。 <br><br> 我决定撰写一系列文章，在这些文章中，我将展示编写机器人所需的基本知识。 <br>  Java，Maven，TelegramAPI，Lombok和Log4j等着您。 <br> 谁在乎-请在猫下... <br><a name="habracut"></a><br> 然后我马上去买王牌 <br><br> 上一篇文章中要求的内容。 <br><br> 您可以在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">此处</a>找到该项目的源代码。 <br><br> 在“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">master</a> ”分支中，将是bot的最终版本，我们将在出现新文章的过程中与您一起编写该bot的最终版本。 <br><br> 本文的完整资源将在“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">Part1-Base</a> ”分支中。 <br><br> 在这一部分中，我们将与您一起创建一个基本模板，该模板将能够： <br><br><ol><li> 在电报服务器上注册机器人 </li><li> 接收写入机器人的消息 </li><li> 响应/启动命令 </li></ol><br><h3> 创建一个标准的Maven项目 </h3><br>  （ <i>我会错过有关使用开发环境的手册以及Java编程的基础知识。所有这些东西都很容易在Google上找到。如果无法解决，请写下问题</i> ）。 <br><br>  <b>让我们看看在这个项目中我们需要什么依赖。</b> <br><br> 首先，这是<b>龙目岛</b> 。 这是什么以及为什么-例如，您可以<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在这里</a>阅读。 <br><br> 并确保添加记录器。 我将使用<b>log4j，</b>并进一步说明如何在调试此应用程序时使用它，以及更深入地了解TelegramAPI的操作。 <br><br><pre><code class="xml hljs"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.projectlombok<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>lombok<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.18.10<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span>provided<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>log4j<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>log4j<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.2.17<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br> 而且，因为 我们为Telegram编写了一个机器人，然后从Telegram编写了库本身： <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.telegram<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>telegrambots<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>3.5<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  pom文件的结构可以在<a href="" rel="nofollow">这里</a>找到<a href="" rel="nofollow">。</a> <br>  pom.xml文件的结构可以在<a href="" rel="nofollow">这里</a>看到。 <br><br> 接下来，我们添加基类<a href="" rel="nofollow">Bot.java</a> ，它将实现我们与Telegram服务的所有交互。 我们将与LongPolling合作，因为 此方法不需要加密证书，可以从装有Java的任何计算机上启动。 <br><br> 为此，我们从<b>TelegramLongPollingBot</b>类继承并实现基本方法： <br><br>  <b>public void onUpdateReceived（更新更新）</b> <b><br></b>  <b>公共字符串getBotUsername（）</b> <b><br></b>  <b>公共字符串getBotToken（）</b> <br><br> 从我们自己，我们将需要添加一个将机器人连接到TelegramAPI的过程： <br><br>  <b>公共无效botConnect（）</b> <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lombok.AllArgsConstructor; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lombok.Getter; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lombok.NoArgsConstructor; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lombok.Setter; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.apache.log4j.Logger; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.telegram.telegrambots.TelegramBotsApi; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.telegram.telegrambots.api.objects.Update; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.telegram.telegrambots.bots.TelegramLongPollingBot; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.telegram.telegrambots.exceptions.TelegramApiRequestException; <span class="hljs-meta"><span class="hljs-meta">@AllArgsConstructor</span></span> <span class="hljs-meta"><span class="hljs-meta">@NoArgsConstructor</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bot</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TelegramLongPollingBot</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Logger log = Logger.getLogger(Bot.class); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> RECONNECT_PAUSE =<span class="hljs-number"><span class="hljs-number">10000</span></span>; <span class="hljs-meta"><span class="hljs-meta">@Setter</span></span> <span class="hljs-meta"><span class="hljs-meta">@Getter</span></span> String userName; <span class="hljs-meta"><span class="hljs-meta">@Setter</span></span> <span class="hljs-meta"><span class="hljs-meta">@Getter</span></span> String token; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onUpdateReceived</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Update update)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> 11/18/2019     log.debug("new Update recieve"); } @Override public String getBotUsername() { return userName; } @Override public String getBotToken() { return token; } public void botConnect() { TelegramBotsApi telegramBotsApi = new TelegramBotsApi(); try { telegramBotsApi.registerBot(this); log.info("TelegramAPI started. Look for messages"); } catch (TelegramApiRequestException e) { log.error("Cant Connect. Pause " + RECONNECT_PAUSE / 1000 + "sec and try again. Error: " + e.getMessage()); try { Thread.sleep(RECONNECT_PAUSE); } catch (InterruptedException e1) { e1.printStackTrace(); return; } botConnect(); } } }</span></span></code> </pre><br> 原则上，一切。 此代码可以连接到Telegram服务器，并且在接收到发给它的消息后，它将在接收到更新的日志文件中记录信息。 <br><br> 让我们创建一个将运行我们的应用程序的类。 <br><br> 这将由类App.java完成。 链接到文件： <a href="" rel="nofollow">此处</a> <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.example.telegrambot; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.example.telegrambot.bot.Bot; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.apache.log4j.Logger; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.telegram.telegrambots.ApiContextInitializer; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Logger log = Logger.getLogger(App.class); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ ApiContextInitializer.init(); Bot test_habr_bot = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Bot(<span class="hljs-string"><span class="hljs-string">"test_habr_bot"</span></span>, <span class="hljs-string"><span class="hljs-string">"1012522162:AAHLvPVqKF48LdqnsvS3l5YrJfvFey6dBa0"</span></span>); test_habr_bot.botConnect(); } }</code> </pre> <br> 如您所见，为了使机器人正常工作，我们只需要“机器人名称”和“令牌”，就可以将它们传递给Bot类的构造函数。 <br><br> 您可以从所有bot的父亲那里获得该bot的名称和令牌：)，方法是用电报给他写信。 <br> 他的昵称： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">@BotFather</a> <br> 与他的交流非常简单明了。 <br><br> 根据命令 <br><blockquote>  / newbot </blockquote><br> 因此，您应该获得以下对话框： <br><br><img src="https://habrastorage.org/webt/93/bo/fc/93bofc9fylsdmyu0polllzad-x4.png"><br><br> 他们还在这里写道，它更准确，请勿向任何人显示此信息，否则其他人将可以控制您的机器人：） <br><br> 您可能会说我不是很准确。也许吧，但是机器人之父允许我们更改令牌并回想那些公开访问的令牌。 因此，当您尝试连接我的数据时，您将收到以下消息： <br><br><pre> <code class="plaintext hljs">2019-12-04 13:44:25,252[DEBUG][main ][ com.example.telegrambot.bot.Bot] - Bot token: 1012522162:AAF5D49N4NreEJfCk0aOsC-UnmIu_GLkoyc 2019-12-04 13:44:26,613[ERROR][main ][ com.example.telegrambot.bot.Bot] - Cant Connect. Pause 10sec and try again. Error: Error removing old webhook</code> </pre><br> 因此，使用我的数据无法连接。 注册您的。 在类<a href="" rel="nofollow">App.java中</a>指定新数据 <br><br> 现在，通过运行App类中的main方法，让我们的机器人连接并等待新消息。 他将写信给我们，介绍他在控制台中的操作和尝试。 <br><br><h3>  Log4j </h3><br> 记住，上面我谈到了log4j库的实用程序。 在这里，出于好奇，有用数据的通俗易懂。 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">log4j.properties</a>文件已经包含用于日志记录的基本设置以及第三方类以及在我们的机器人中可以使用的那些日志记录的特定日志记录级别。 <br><br><pre> <code class="plaintext hljs">log4j.rootLogger= error, file log4j.logger.com.example.telegrambot.App = debug, stdout log4j.logger.com.example.telegrambot.bot.Bot = debug, stdout</code> </pre> <br> 日志记录的基本级别指示为错误。 <br><br> 对于Bot和App类，指示了Debug级别的日志输出。 <br><br>  <i>这些级别是什么以及它们之间的区别-您可以在Google中轻松找到。</i> <br><br> 如果要查看电报库执行所有操作的方式和顺序，请将常规日志记录模式切换到较低级别：信息或调试。 <br><br> 启动应用程序时，您将在控制台中看到在连接，工作过程中发生了多少有趣的事情。 使用漫游器名称和令牌对您的函数进行多少次轮询。 <br><br> 记录级别随以下行而变化： <br> 要根据信息级别获取日志，请输入以下内容： <br><br><pre> <code class="plaintext hljs">log4j.rootLogger= info, file</code> </pre> <br> 对于调试级别，如下所示： <br><br><pre> <code class="plaintext hljs">log4j.rootLogger= debug, file</code> </pre> <br><h3> 最后 </h3><br> 现在我们有了一个机器人：它可以连接并向我们显示漂亮的日志，并报告有消息正在向它发送。 <br><br> 但在上面，我向您保证机器人会响应启动命令。 让我们稍微更改负责处理收到消息的过程。 <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onUpdateReceived</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Update update)</span></span></span><span class="hljs-function"> </span></span>{ log.debug(<span class="hljs-string"><span class="hljs-string">"Receive new Update. updateID: "</span></span> + update.getUpdateId()); Long chatId = update.getMessage().getChatId(); String inputText = update.getMessage().getText(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (inputText.startsWith(<span class="hljs-string"><span class="hljs-string">"/start"</span></span>)) { SendMessage message = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SendMessage(); message.setChatId(chatId); message.setText(<span class="hljs-string"><span class="hljs-string">"Hello. This is start message"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { execute(message); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (TelegramApiException e) { e.printStackTrace(); } } }</code> </pre> <br> 从代码中可以看到，该机器人执行以下操作： <br><br><ul><li> 它接收更新并在日志中捕获其ID号。 </li><li> 从发送的消息中检索聊天ID和消息的文本 </li><li> 检查此文本是否为“ /开始”命令 </li><li> 如果比较成功，它会创建一条消息作为响应，并将其发送到聊天中，并且ID会较早收到 </li></ul><br> 希望您觉得它有用和有趣。 <br><br> 以后，我将向您展示如何在我的机器人中实现它： <br><br><ul><li> 使用各种团队 </li><li> 将这些命令绑定到处理程序 </li><li> 多线程：独立接收和发送消息 </li><li> 讯息格式 </li><li> 使用按钮和回调 </li><li> 编辑旧帖子 </li></ul><br> 在此基础上，在公共访问中，我的两个机器人现在为我工作。 <br><br> 您知道的一件事是<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">活动策划助手</a> 。 <br><br> 还有第二位<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">厚脸皮的电影迷</a> 。 他热爱电影，并且对电影了解很多。 他甚至更喜欢与您分享他的知识。 他<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">通过电报</a>引导<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">频道</a> ，在其中确定自己喜欢的电影并将其提供给您。 他知道如何按流派创建个人选择并创建个性化推荐的订阅。 他知道如何找到您从未听说过的杰作，甚至都不知道如何找到这些电影。 <br><br> 例如，您是否认为有些电影具有“狂野”的类型组合，例如：纪录片，恐怖片，喜剧片。 <br><br> 但是机器人在命令 <br><br><pre> <code class="plaintext hljs">     2010-</code> </pre> <br> 他会说，从2010年到现在，这类电影已拍摄了6部：) <br><br> 如何使用类似的命令，如何解析字符串和命令序列，我们将在以下出版物中与您讨论。 <br><br> 谢谢您的关注。 编程很有趣:) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN476306/">https://habr.com/ru/post/zh-CN476306/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN476294/index.html">分布式游戏网络是GFN的替代产品：它如何起飞，为何起飞以及在俄罗斯已经开始运作的地方</a></li>
<li><a href="../zh-CN476296/index.html">11月21日，产品工程聚会：谁是产品工程师？</a></li>
<li><a href="../zh-CN476298/index.html">踏上自行车的荆棘，第1部分：了解使用插件自定义Visual Studio调试器的基础知识</a></li>
<li><a href="../zh-CN476300/index.html">《电车》杂志是俄罗斯儿童先锋派的一颗闪闪发光，褪色很快的明星</a></li>
<li><a href="../zh-CN476304/index.html">顶级系统上的Linux设备硬件加密狗认证</a></li>
<li><a href="../zh-CN476308/index.html">2020年将遵循的5大软件开发实践</a></li>
<li><a href="../zh-CN476310/index.html">人脸CRM</a></li>
<li><a href="../zh-CN476312/index.html">React或Angular或Vue.js-选择什么？</a></li>
<li><a href="../zh-CN476316/index.html">Vue店面：在ES中填充数据</a></li>
<li><a href="../zh-CN476318/index.html">我们完全攻击Joker 2019：俄罗斯最大的Java会议怎么样</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>