<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåÆ üè¥Û†ÅßÛ†Å¢Û†Å≥Û†Å£Û†Å¥Û†Åø ‚úñÔ∏è Sunrise Manually # 2: De acordo com o hardcore do IDE, Cmake e minha decep√ß√£o com os animais üõçÔ∏è üéóÔ∏è üìµ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Em um artigo anterior, tive a aud√°cia de usar o CLion como um IDE. E ent√£o um homem veio correndo com uma pergunta: ah, uma embarca√ß√£o paga propriet√°r...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sunrise Manually # 2: De acordo com o hardcore do IDE, Cmake e minha decep√ß√£o com os animais</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/425209/"><p> Em um artigo anterior, tive a aud√°cia de usar o CLion como um IDE.  E ent√£o um homem veio correndo com uma pergunta: ah, uma embarca√ß√£o paga propriet√°ria, esgotada, riu, etc.  Para ser justo, houve apenas um coment√°rio sobre Habr√©, mas na realidade existem milhares deles.  Por exemplo, a √∫ltima conta <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">LOR</a> ativa, sou registrada desde 2010 e, em quase todas as discuss√µes envolvendo algum software propriet√°rio, esse inferno come√ßa.  √â claro que n√£o vou provar nada a ningu√©m, mas isso pode ajudar o passado raro de passear. </p><br><p>  O artigo √© dividido condicionalmente em duas partes: socialmente motivacional e t√©cnico (como criar o CMake no Windows sob v√°rios IDEs). </p><br><p><img src="https://habrastorage.org/webt/9g/45/pb/9g45pbrivllf4bxi6-yxx3ejxno.png"><br></p><a name="habracut"></a><br><h1 id="otkuda-vsyo-poshlo">  Para onde foi tudo </h1><br><p>  Este <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">coment√°rio do √∫ltimo artigo foi a</a> base <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">do artigo</a> : "Se o podcast √© para iniciantes e n√£o profissionais, por que voc√™ n√£o levou em considera√ß√£o a licen√ßa IDE :(" e a seguir. </p><br><p>  O artigo √© baseado nos resultados de um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">fluxo do Twitch</a> e nos seus coment√°rios.  O registro est√° no YouTube.  Este artigo n√£o √© uma transcri√ß√£o de um podcast, mas um produto da sua compreens√£o. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/y8U8iTrV9PU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h1 id="ishodnyy-posyl">  Mensagem de origem </h1><br><p>  Primeiro, vamos verificar a validade da suposi√ß√£o original: o software √© caro.  Se voc√™ for ao site, o CLion custa 8,90 d√≥lares por m√™s.  580 rublos.  √â claro que, para uma pessoa que n√£o ganha a vida com programa√ß√£o - isso √†s vezes pode mostrar uma quantia decente que pode ser gasta em algo mais √∫til.  Compre uma refei√ß√£o, por exemplo. </p><br><p>  Para um profissional, tudo √© completamente diferente, mas vamos deixar esse t√≥pico.  Um jornalista difere de um funcion√°rio do departamento de marketing de um fabricante de software ou jogos, pois n√£o promove a pol√≠tica do Partido, n√£o toma medidas para promover o produto.  Ele fala como √©.  Como tudo isso √© realmente, como um jornalista realmente v√™ uma pergunta.  O mesmo acontece com os evangelistas de verdade. </p><br><blockquote>  A ess√™ncia dos fen√¥menos e a sequ√™ncia de anos, <br>  Rostos de amigos e m√°scaras de inimigos, <br>  Claramente vis√≠vel e n√£o pode ocultar <br>  Dos olhos do poeta - o dono de s√©culos. <br><br>  A luz das estrelas distantes e o come√ßo do amanhecer <br>  Os segredos da vida e os segredos do amor <br>  Em um momento de inspira√ß√£o, aquecido pelo sol - <br>  Tudo se reflete nas almas do poeta - <br>  No espelho do mundo ... <br><br>  (c) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Konstantin Nikolsky, Espelho do Mundo</a> <br></blockquote><p>  Se for realmente interessante como o CLion aumenta sua renda, voc√™ encontrar√° algu√©m para entrar em contato e aqui estamos falando de outra coisa. </p><br><h1 id="tipologiya">  Tipologia </h1><br><p>  Em vez disso, considere grupos de pessoas que s√£o bombardeadas, tanto quanto poss√≠vel, a partir de software fechado. </p><br><p>  Como voc√™ j√° entendeu, eu n√£o sou um nifiga um soci√≥logo, e eu tenho apenas a tipologia que se desenvolveu no calor dos confrontos do f√≥rum.  Ele tem apenas a vantagem de ser poss√≠vel atribuir uma pessoa a um determinado grupo praticamente sem incluir o c√©rebro, observando os dois primeiros coment√°rios. </p><br><p>  Ent√£o, as pessoas s√£o: </p><br><ul><li>  Lutadores da Liberdade e C√≥digo Aberto </li><li>  Honestamente enganado </li><li>  Animais </li></ul><br><p>  Sugiro n√£o considerar a incorreta do autor.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Eu sou uma quest√£o diferente</a> . </p><br><h1 id="borcy-za-svobodu-i-opensorc">  Lutadores da Liberdade e C√≥digo Aberto </h1><br><p>  Os mais puros e brilhantes s√£o os lutadores para quem abre.  Eu pr√≥prio sou um daqueles que, ouvindo a palavra "Linux", corrige constantemente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">"n√£o o Linux, mas o GNU / Linux"</a> .  O problema √© que o mundo real nunca √© preto e branco.  Temos uma certa liberdade, e esse √© um recurso que pode ser usado se necess√°rio.  Como algu√©m da ger√™ncia da Mozilla brincou (ou n√£o), "por que precisamos de um cr√©dito de confian√ßa se n√£o o gastamos?". </p><br><p>  Exemplo: havia uma pessoa assim, Miguel de Icaza.  Ele criou o Gnome e ajudou a criar um GNU / Linux desagrad√°vel da maneira que conhecemos.  E ent√£o ele foi expulso da comunidade, e Stallman o chamou de "traidor da liberdade": </p><br><blockquote>  ‚ÄúMiguel de Icaza √© essencialmente um traidor da comunidade de Software Livre.  &lt;...&gt; O projeto visa organizar o funcionamento de programas supostamente de "c√≥digo aberto" na plataforma Windows;  portanto, o tempo inestim√°vel dos desenvolvedores √© gasto em plataformas gratuitas " <br></blockquote><p>  E onde est√° o Miguel agora?  Ele e sua equipe trabalham lado a lado com um dos maiores projetos dos √∫ltimos anos - portando o .NET para o GNU / Linux sob licen√ßas permissivas.  Ele realmente passou seu tempo. </p><br><p>  No fluxo, matei pelo menos vinte minutos para trope√ßar no CMake sob o Visual Studio Code.  N√£o deu certo.  E no Visual Studio gratuito, mas n√£o gratuito, ele saiu pela primeira vez.  √â exatamente isso que costumamos obter ao tentar usar software livre: no c√≥digo aberto, por raz√µes √≥bvias, n√£o h√° tempo para pensar em scripts de ponta a ponta e cuidar de todo o produto.  Obrigado aos desenvolvedores por terem feito pelo menos alguma coisa.  Mas para n√≥s, como usu√°rios, ainda temos uma escolha moral e √©tica: ou escolhe a liberdade e gasta muito tempo desenvolvendo o software livre ou, pelo contr√°rio, gasta a nossa liberdade na compra de tempo, que pode ser gasto em algumas boas a√ß√µes. </p><br><p>  Como esse problema est√° al√©m do escopo dos problemas t√©cnicos, terminaremos aqui.  Uma pessoa verdadeiramente ideol√≥gica √© fiel √† sua ideia. </p><br><h1 id="zhivotnye">  Animais </h1><br><p>  Oh, mas esta categoria est√° me bombardeando. </p><br><blockquote>  "As caracter√≠sticas espec√≠ficas de uma pessoa que o distingue de outros animais s√£o a postura ereta, um c√©rebro altamente desenvolvido, o pensamento e a fala articulada. Uma pessoa estuda e muda a si mesma e ao mundo ao seu redor, cria uma cultura e sua pr√≥pria hist√≥ria".  (c) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Wikipedia</a> . </blockquote><p>  Infelizmente, em uma conversa sobre o IDE, muitas vezes acontece que o interlocutor n√£o √© capaz de pensamento independente, em vez de fala articulada, ele murmura "e eu j√° tenho normas" e come o que eles d√£o.  Por causa da postura ereta, √© f√°cil confundi-la com uma pessoa, mas n√£o se engane. </p><br><p>  Essas criaturas montam tudo para qualquer um.  Nos jogos, eles vendem lootboxes e DLC com m√∫sica nost√°lgica.  Nos editores, eles colocam v√°rias coisas ocupadas analmente, com o objetivo de vincular o paciente a um ambiente, ecossistema espec√≠fico e tanto que n√£o √© necess√°rio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">fenazepam</a> .  Eles v√£o comer de tudo.  <em>"E tamb√©m s√£o as normas para mim."</em> </p><br><p>  √â importante acrescentar que n√£o apenas os profissionais de marketing est√£o se interessando, mas tamb√©m apenas trolls ou esquiz√≥sicos cl√≠nicos naturais.  Existem muitos esquiz√≥s, voc√™ n√£o acredita em quanto. </p><br><p>  Por exemplo, lembre-se do manifesto que Nikitonsky publicou recentemente (mais precisamente, sua tradu√ß√£o para o Habr): <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Minha decep√ß√£o com o software</a> ?  Como eu sou bombardeado com ele.  Espero sinceramente que Nikitonsky tenha escrito tudo isso para tocar conscientemente, e n√£o realmente. </p><br><p>  Veja o que teses existem: </p><br><ul><li>  Tudo √© insuportavelmente lento - um telefone moderno √© mais poderoso do que computadores que enviaram pessoas para a lua; </li><li>  Tudo √© ENORME - o Android pesa 6 gigabytes; </li><li>  Tudo apodrece - dispositivos antigos n√£o funcionam ou funcionam mal; </li><li>  No caos da programa√ß√£o, observe os gr√°ficos de depend√™ncia em npm e no teclado esquerdo. </li></ul><br><p>  Trolling √© trolling, mas pode n√£o ser familiar para algu√©m que o tamanho do c√≥digo-fonte √© "o que levou a pessoa √† lua", ou seja, Apollo 11, de forma que o autor dificilmente os leria. </p><br><p><img src="https://habrastorage.org/webt/rc/uc/fb/rcucfbhz3eka-xvpqmer_ofdnow.jpeg"><br></p><br><p>  Os sistemas operacionais modernos definem qualquer equipamento e t√™m tudo para todas as ocasi√µes.  Que a desacelera√ß√£o dos dispositivos levou a uma situa√ß√£o maravilhosa quando os capitalistas de Merissa se curvaram e desenvolveram o ferro a um n√≠vel moderno, gra√ßas ao qual temos no bolso um megadispositivo para todas as ocasi√µes.  Mesmo toalhas n√£o s√£o necess√°rias, √© no Google Play.  O npm mencionado permite que uma pessoa comum escreva coisas de complexidade inimagin√°vel que levariam anos antes. </p><br><p>  E ent√£o a todos esses camaradas que est√£o "comendo o que d√£o", de repente mega id√©ias da lista acima come√ßam a aparecer na minha cabe√ßa.  Vamos estender ao IDE: </p><br><ul><li>  Para aplicativos no Electron (Visual Studio Code, Atom), as letras aparecem na tela muito lentamente, seja vim ou emacs; </li><li>  O IDE do Eclipse fica mais lento; </li><li>  Em geral, o Java fica mais lento - junto com tudo o que est√° escrito nele, incluindo NetBeans, IDEA e Clion; </li><li>  Qualquer IDE desacelera comer por cento exatamente assim; </li><li>  A propriedade √© m√°; </li><li>  A lista continua. </li></ul><br><p>  Essa lista j√° √© suficiente para revisar o telhado.  N√£o acredite em nenhum lixo.  Se o vim √© melhor que o Eclipse (ou vice-versa) em alguns casos, isso definitivamente n√£o acontece porque os vizinhos irradiam os vimers com um microondas e os alien√≠genas sequestram os eclipses √† noite. </p><br><p>  Infelizmente, como resultado de longas guerras de guerra em rede, foi estabelecido com precis√£o: n√£o pode haver di√°logo aqui.  Para o homem - humano, e para animal - animal.  √â assim que a vida √© organizada.  A probabilidade de algu√©m ler este artigo e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">mudar de id√©ia</a> √© extremamente pequena, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">imolada</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">melhorada</a> . </p><br><h1 id="chestno-zabluzhdayuschiesya">  Honestamente enganado </h1><br><p>  Agora terminamos com extremos: particularmente inteligentes da seita Stallman, de um lado do espectro, e n√£o animais muito inteligentes do outro, vamos falar sobre pessoas comuns. </p><br><p>  O primeiro equ√≠voco √© que, de alguma forma, somos pregados ao IDE.  Passou do tempo em que as pessoas usavam algum tipo de Delphi 7 e vers√µes antigas do Microsoft Visual Studio.  Dizem que no novo Vizhualka estava tudo bem com os arquivos do projeto.  Ol√°, ol√°, agora √© o ano de 2018, n√£o h√° mais escravid√£o. </p><br><p>  Para nos livrarmos da escravid√£o, recebemos o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CMake</a> de cima: uma ferramenta utilit√°rio de c√≥digo aberto de plataforma cruzada que permite criar, testar e empacotar aplicativos. </p><br><p> Ainda n√£o diz nada ao novato e seus bra√ßos buscam o IDE.  Tudo isso com medo e mal-entendidos do que est√° acontecendo.  Eu pr√≥prio sou de Java e, portanto, sei bem como os olhos de uma pessoa que viu o <code>pom.xml</code> pela primeira vez se expandem pela primeira vez. </p><br><p>  Vamos descobrir em que consiste o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">projeto criado pela √∫ltima vez</a> e como constru√≠-lo em todos os tipos de IDEs diferentes. </p><br><p>  Composi√ß√£o do arquivo: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CMakeLists.txt</a> </li><li>  <a href="">main.cpp</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">shaders.shader</a> </li></ul><br><p>  O sombreador √© compilado diretamente em tempo de execu√ß√£o, <a href="">com a fun√ß√£o D3DCompile</a> .  O D3DCompiler do DirectX SDK (que agora √© o Windows SDK) funciona.  Nenhum IDE √© necess√°rio para constru√≠-lo. </p><br><p>  <code>main.cpp</code> √© o √∫nico arquivo a ser constru√≠do.  E √© coletado usando informa√ß√µes que est√£o inteiramente no <code>CMakeLists.txt</code> . </p><br><p>  Na dire√ß√£o oposta: existe o <code>CMakeLists.txt</code> , que nos diz exatamente o que vamos compilar.  O assembly <code>main.cpp</code> registrado nele.  Isso √© suficiente para compilar o projeto.  Ap√≥s a compila√ß√£o, √© obtido um arquivo exe que, ap√≥s o lan√ßamento, coleta o sombreador e o exibe na tela.  Tudo √© extremamente simples, o IDE n√£o est√° envolvido nessa cadeia e pode ser qualquer coisa. </p><br><p>  IDE √© opcional.  Geralmente.  O que √© incompreens√≠vel aqui? </p><br><h1 id="sborka">  Assembl√©ia </h1><br><h2 id="podgotovitelnye-momenty">  Momentos preparat√≥rios </h2><br><p>  Como sempre, a prepara√ß√£o ocupa a maior parte do processo.  H√° algumas coisas que precisam ser esclarecidas. </p><br><p>  Sup√µe-se que tudo seja feito com base no Msys2, que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">instalamos na √∫ltima vez</a> .  Se n√£o for esse o caso, voc√™ ter√° que se desembara√ßar :) </p><br><h3 id="kak-ustanovit-cmake-i-ninja">  Como instalar o CMake e Ninja </h3><br><p>  Para poder coletar algo, voc√™ deve instalar o CMake, se ainda n√£o o fez. </p><br><ul><li>  Fa√ßa o download no site: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://cmake.org/download</a> .  Eu tenho cmake-3.12.2-win64-x64; </li><li>  Descompacte e adicione o caminho ao local em que cmake.exe se encontra na vari√°vel de ambiente PATH do Windows; </li><li>  Baixe do site o gerador ninja da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">vers√£o mais recente</a> ; </li><li>  Descompacte e tamb√©m coloque em algum lugar no PATH. </li></ul><br><h3 id="kak-redaktirovat-path-chtoby-ne-poehat-kukuhoy">  Como editar PATH para n√£o viajar como um cuco </h3><br><p>  A primeira maneira √© conhecida por todos: win + pause -&gt; Configura√ß√µes avan√ßadas do sistema -&gt; Advanced -&gt; Vari√°veis ‚Äã‚Äãde ambiente.  Infelizmente, mesmo no Windows 10, no qual o editor de vari√°veis ‚Äã‚ÄãPATH foi adicionado, isso ainda n√£o √© muito conveniente. </p><br><p>  Se voc√™ costuma mexer com PATH, usar a janela de edi√ß√£o padr√£o √© muito irritante.  Aconselho que voc√™ use o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Rapid Environment Editor</a> - √© gratuito e economiza bastante nervos. </p><br><h3 id="kak-podklyuchat-dll-iz-mingw-v-rezhime-razrabotki">  Como conectar a DLL do MinGW no modo de desenvolvimento </h3><br><p>  Para iniciar o aplicativo, voc√™ precisa de arquivos DLL de pelo menos <code>mingw64\bin</code> . </p><br><p>  Infelizmente, n√£o consegui encontrar uma solu√ß√£o realmente conveniente para lan√ßar bibliotecas do MinGW para o PATH.  Se algum s√°bio puder dizer nos coment√°rios, ficarei muito agradecido. </p><br><p>  Agora, a maneira mais f√°cil √© anexar o diret√≥rio bin MinGW diretamente ao primeiro local no PATH.  (No caso do Visual Studio, voc√™ pode simplesmente soltar as bibliotecas no diret√≥rio do assembly.) Infelizmente, esse m√©todo tem um enorme sinal de menos: alguns dos softwares no Windows come√ßam a cair imediatamente ap√≥s a modifica√ß√£o PATH.  Por exemplo, Overwatch parou de funcionar para mim, e isso √© uma coisa completamente fatal. </p><br><p>  Se voc√™, como eu, mora em um computador e n√£o o liga apenas durante o hor√°rio comercial, √© proposto o seguinte esquema: adicione MinGW ao PATH antes da programa√ß√£o e remova-o.  Para facilitar o processo, voc√™ precisa criar dois arquivos em lotes que podem ser iniciados clicando duas vezes: </p><br><p>  before.bat: </p><br><pre> <code class="hljs tex">setx path "Z:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">msys</span></span></span></span>64<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mingw</span></span></span></span>64<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bin</span></span></span></span>;<span class="hljs-comment"><span class="hljs-comment">%path%"</span></span></code> </pre> <br><p>  after.bat: </p><br><pre> <code class="hljs pgsql">setx <span class="hljs-type"><span class="hljs-type">PATH</span></span> "%PATH:Z:\msys64\mingw64\bin;=%"</code> </pre><br><h3 id="kak-podklyuchat-dll-v-rezhime-testovogo-reliza">  Como conectar a DLL no modo de lan√ßamento de teste </h3><br><p>  √â claro que o m√©todo anterior funciona apenas enquanto <code>mingw64\bin</code> est√° no PATH, ou seja, apenas no computador do desenvolvedor.  E mesmo l√°, voc√™ nem sempre quer mutilar o PATH.  Se ele inicia uma pessoa comum (ou depois de after.bat), algo como: </p><br><img width="400" src="https://habrastorage.org/webt/d2/ka/-b/d2ka-bup2zcih2chipoohkcj6u8.png"><br><p><img width="400" src="https://habrastorage.org/webt/tf/ia/zh/tfiazhyj4f-f_-omq2tojpkykmk.png"><br></p><br><p>  A maneira mais f√°cil de resolver esse problema √© colocar a dll necess√°ria ao lado do arquivo execut√°vel.  Mas, para isso, voc√™ precisa saber quais dlls s√£o usadas! </p><br><p>  J√° temos alguns utilit√°rios criados pela Microsoft para isso. </p><br><ul><li>  Uma lista completa de um aplicativo em execu√ß√£o pode ser vista <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">usando ListDLLs</a> , mas n√£o mostra o que ainda n√£o foi carregado. </li><li>  Se voc√™ <code>dumpbin /dependents "Z:\game\build\Mingw64-Debug\src.exe"</code> Ferramentas -&gt; Prompt de Comando do Visual Studio, <code>dumpbin /dependents "Z:\game\build\Mingw64-Debug\src.exe"</code> , exibir√° apenas a dll de primeiro n√≠vel.  Em outras palavras, se voc√™ terminar apenas o que o dumpbin lhe diz, ap√≥s o lan√ßamento ainda haver√° erros - eles ser√£o sobre outras DLLs. </li></ul><br><p>  Para percorrer as depend√™ncias em profundidade, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">existe um script</a> que pode ser executado diretamente na linha de comando (msys2, cygwin, etc. - o suficiente para ter python2 / 3 e objdump instalados dentro). </p><br><ul><li>  Fa√ßa o download do script mingw-bundledlls, </li><li>  Coloque ao lado do arquivo, </li><li>  Em um editor de texto, na <code>blacklist = [</code> array <code>blacklist = [</code> adicione nossas partes do DirectX: <code>d3d10.dll, d3d11.dll, d3dcompiler_43.dll</code> , </li><li>  <code>chmod 755 ./mingw-bundledlls</code> , </li><li>  Para ver as <code>./mingw-bundledlls ./src.exe</code> usadas: <code>./mingw-bundledlls ./src.exe</code> (bem, qualquer execut√°vel em que voc√™ esteja mais interessado), </li><li>  Para copiar e colocar automaticamente a seguir: <code>./mingw-bundledlls --copy ./src.exe</code> </li><li>  LUCRO: o execut√°vel √© iniciado assim, clicando duas vezes no arquivo exe e no Visual Studio. </li></ul><br><p>  Ainda existem v√°rias maneiras complicadas de contratar o CMake para copiar a dll, mas se voc√™ come√ßar a se aprofundar em problemas de distribui√ß√£o, nunca poder√° terminar este artigo. </p><br><h1 id="sborka-vruchnuyu">  Montagem manual </h1><br><ul><li>  before.bat </li><li>  Iniciar -&gt; Executar -&gt; cmd.exe </li><li> <code>cd /dz://game/src</code> </li> <li> <code>cmake -G "Ninja" -D EXECUTABLE_OUTPUT_PATH="bin" -D CMAKE_CXX_COMPILER="Z:/msys64/mingw64/bin/g++.exe" -D CMAKE_C_COMPILER="Z:/msys64/mingw64/bin/gcc.exe" .</code> </li> <li>  ninja </li><li>  Execute o arquivo gerado na lixeira imediatamente ou anexe a dll de acordo com as instru√ß√µes acima e execute after.bat </li></ul><br><p>  Provamos que n√£o estamos vinculados ao IDE. </p><br><h1 id="sborka-v-visual-studio">  Construir no Visual Studio </h1><br><p>  Mas, ainda assim, o desenvolvimento sem um IDE n√£o √© o ideal.  Na √∫ltima vez, j√° montamos um aplicativo de teste usando o CLion.  Mas isso √© propriedade paga e zashkvar, certo?  Esque√ßa.  Agora apenas gr√°tis. </p><br><p>  No Visual Studio, a sequ√™ncia de a√ß√µes necess√°rias √© super simples. </p><br><ul><li>  before.bat </li><li>  Inicie o Visual Studio; </li><li>  Arquivo -&gt; Abrir -&gt; CMake; </li><li>  Selecione CMakeLists.txt; </li><li>  O visualizador pensa e exibe o projeto por um tempo; </li><li>  Menu principal -&gt; Cache -&gt; Gerar -&gt; nome do projeto; </li><li>  N√≥s olhamos para Sa√≠da e corrigimos os erros (por exemplo, eu jurei na vers√£o CMake, tive que baix√°-la para 3,11 em vez de 3,12); </li><li>  Menu principal -&gt; CMake -&gt; Alterar configura√ß√µes do CMake (selecione MinGW64-Debug); </li><li>  Um arquivo CMakeSettings.json √© gerado automaticamente no projeto.  N√≥s indicamos o caminho para o MinGW l√° (eu o encontrei no v√≠deo anterior "Z: \ msys64 \ mingw64"), salve o arquivo; </li><li>  Menu principal -&gt; Cache -&gt; Gerar -&gt; CMakeLists.txt; </li><li>  Menu principal -&gt; Cache -&gt; Gerar -&gt; nome do projeto; </li><li>  Se tudo for feito corretamente, um item com o nome do projeto aparecer√° no menu Selecionar um item de inicializa√ß√£o v√°lido (ao lado da seta verde para iniciar o aplicativo); </li><li>  Come√ßamos. </li></ul><br><p>  Como no caso do console, voc√™ pode inici√°-lo corretamente (lembrando que o MinGW est√° no PATH) ou executar o after.bat e colocar as DLLs necess√°rias de acordo com as instru√ß√µes.  A DLL precisa ser colocada diretamente no diret√≥rio para onde o aplicativo est√° indo.  Pode ser especificado no par√¢metro buildRoot no arquivo CMakeSettings.json. </p><br><p>  Ent√£o, senhores, a coisa mais importante: no Visual Studio, tudo compila e roda perfeitamente.  Provamos que n√£o estamos vinculados a um IDE comercial. </p><br><h1 id="sborka-v-visual-studio-code">  Construir no c√≥digo do Visual Studio </h1><br><p>  Infelizmente, o Visual Studio ainda n√£o √© um software de c√≥digo fechado propriet√°rio.  Precisamos avan√ßar para algo mais gratuito, e este √© o Visual Studio Code. </p><br><p>  Primeiro mindfak engra√ßado.  Se voc√™ executar o VSCode em um monitor com grande escala (estou sentado em casa assistindo TV, por exemplo), a interface do VSCode se tornar√° uma bagun√ßa.  Para impedir que isso aconte√ßa, voc√™ precisa execut√°-lo com o fator <code>--force-device-scale-factor</code> (fa√ßa um atalho para a √°rea de trabalho ou algo assim). </p><br><p>  Infelizmente, eu n√£o dominei o gerenciamento PATH para VSCode, portanto, a √∫nica maneira de inici√°-lo √© modificar o PATH com before.bat e outro hack, que descreverei abaixo. </p><br><p>  Em seguida, voc√™ precisa configurar o VSCode. </p><br><ul><li>  Instale o CMake Tools: Visualizar -&gt; Extens√µes -&gt; na pesquisa, digite "CMake Tools", clique em instalar na frente do pacote criado pelo autor do vetor-de-bool. </li><li>  Ver -&gt; Explorer -&gt; Abrir Pasta (selecione o diret√≥rio com o nosso projeto); </li><li>  Paleta de comandos (CP, atalho Ctrl + P) -&gt; "&gt; CMake: Scan for Kits"; </li><li>  Escolha nosso "GCC 8.2.0", para o qual ele leva ao lugar certo onde o msys2 est√° instalado ou o que voc√™ usa l√°; </li><li>  Arquivo&gt; Prefer√™ncias&gt; Configura√ß√µes; </li><li>  V√° para a guia Configura√ß√µes do usu√°rio; </li><li>  Clique nos tr√™s pontos no canto superior direito do painel e selecione "Abrir settings.json" no menu; </li><li>  Adicione as seguintes op√ß√µes: </li></ul><br><pre> <code class="hljs powershell"><span class="hljs-string"><span class="hljs-string">"cmake.configureOnOpen"</span></span>: true, <span class="hljs-string"><span class="hljs-string">"terminal.integrated.shell.windows"</span></span>: <span class="hljs-string"><span class="hljs-string">"D:/msys64/usr/bin/bash.exe"</span></span>, <span class="hljs-string"><span class="hljs-string">"terminal.integrated.shellArgs.windows"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"-i"</span></span> ], <span class="hljs-string"><span class="hljs-string">"terminal.integrated.env.windows"</span></span>: { <span class="hljs-string"><span class="hljs-string">"PATH"</span></span>: <span class="hljs-string"><span class="hljs-string">"/mingw64/bin;/usr/local/bin;/usr/bin;/bin;Z:/msys64/bin/;Z:/msys64/usr/local/bin;Z:/msys64/usr/bin;Z:/msys64/bin;Z:/msys64/mingw64/bin/;%PATH%"</span></span> }, <span class="hljs-string"><span class="hljs-string">"cmake.buildDirectory"</span></span>: <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$</span></span></span><span class="hljs-string">{workspaceRoot}/build/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$</span></span></span><span class="hljs-string">{buildType}"</span></span>, <span class="hljs-string"><span class="hljs-string">"cmake.clearOutputBeforeBuild"</span></span>: true, <span class="hljs-string"><span class="hljs-string">"cmake.generator"</span></span>: <span class="hljs-string"><span class="hljs-string">"Ninja"</span></span>, <span class="hljs-string"><span class="hljs-string">"cmake.cmakePath"</span></span>: <span class="hljs-string"><span class="hljs-string">"C:\\my\\opt\\cmake-3.12.2-win64-x64\\cmake-3.12.2-win64-x64\\bin\\cmake.exe"</span></span>, <span class="hljs-string"><span class="hljs-string">"cmake.mingwSearchDirs"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"Z:/msys64/mingw64"</span></span>, ], <span class="hljs-string"><span class="hljs-string">"cmake.preferredGenerators"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"Ninja"</span></span> ], <span class="hljs-string"><span class="hljs-string">"cmake.loggingLevel"</span></span>: <span class="hljs-string"><span class="hljs-string">"debug"</span></span></code> </pre> <br><ul><li>  A compila√ß√£o deve ocorrer automaticamente e a compila√ß√£o ser√° dobrada no diret√≥rio da <code>build</code> .  Se isso n√£o acontecer, voc√™ precisar√° clicar no bot√£o <code>Build</code> com a engrenagem na linha de status com o mouse. </li></ul><br><p>  √â claro que √© necess√°rio especificar diretamente o caminho para mingw e cmake.  "Mas eu tenho CAMINHO!"  Apenas indique, por favor, isso resolver√° toda uma gama de problemas. </p><br><p>  H√°, no entanto, uma maneira exclusiva de n√£o descartar o PATH. </p><br><ul><li> <code>"cmake.generator": "MSYS Makefiles"</code> </li> <li> <code>"cmake.preferredGenerators": [ "MSYS Makefiles"]</code> </li> <li>  Verifique se o MinGW n√£o est√° no PATH (after.bat); </li><li>  Verifique se voc√™ removeu o diret√≥rio de constru√ß√£o no projeto. </li><li>  Inicie o console Msys2; </li><li>  <code>export PATH=/z/msys64/mingw64/bin;$PATH</code> (voc√™ pode inseri-lo em algum tipo de <code>"~/.bashrc"</code> ) </li><li>  Execute o VSCode a partir dele, por exemplo, da seguinte forma: <code>"C:\Users\olegchir\AppData\Local\Programs\Microsoft VS Code\Code.exe"</code> </li><li>  E ent√£o tudo √© como antes.  O arquivo deve ser gerado normalmente. </li><li>  Quando voc√™ tenta inici√°-lo imediatamente no Explorer com um clique duplo, isso instantaneamente leva a erros de pesquisa de DLL - isso significa que tudo est√° correto, n√≥s realmente usamos um PATH especial dentro do VSCode, mas n√£o fora. </li></ul><br><p>  Portanto, provamos que em um IDE gratuito tamb√©m podemos viver bastante para n√≥s mesmos. </p><br><h1 id="itogi">  Sum√°rio </h1><br><p>  Resumindo, se voc√™ √© uma pessoa normal, pode usar o CMake, MinGW e n√£o soprar no bigode.  Tudo √© livremente port√°til entre o IDE, tudo simplesmente funciona.  Podemos usar qualquer IDE pago, fechado e n√£o gratuito a qualquer momento, e n√£o teremos nada a ver com isso.  Mas todo mundo vai sofrer, e com raz√£o. </p><br><p>  Artigos futuros levar√£o em conta sua opini√£o.  Voc√™ pode fazer perguntas e oferecer sugest√µes nos coment√°rios <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">durante o fluxo do Twitch</a> .  Se esses artigos ser√£o ou n√£o depende de qu√£o violentamente voc√™ pressiona a seta para baixo deste coment√°rio. </p><br><pre> <code class="hljs">                </code> </pre> <br><p>  ¬© Alexander Raevsky </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt425209/">https://habr.com/ru/post/pt425209/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt425197/index.html">Estimativa de custos de um projeto de implementa√ß√£o de IDM - Como prever surpresas</a></li>
<li><a href="../pt425199/index.html">O que protege os compradores contra fraudes no pagamento sem contato</a></li>
<li><a href="../pt425203/index.html">Antiga vulnerabilidade UPnP de uma nova maneira</a></li>
<li><a href="../pt425205/index.html">Soft Skills em gerenciamento de projetos: conceito, objetivos e dicas para o uso bem-sucedido dos neg√≥cios</a></li>
<li><a href="../pt425207/index.html">Design Testing: As 10 principais palestras do Heisenbug 2018 Piter</a></li>
<li><a href="../pt425211/index.html">286 e rede</a></li>
<li><a href="../pt425213/index.html">Planos para a pr√≥xima vers√£o do Vue.js</a></li>
<li><a href="../pt425215/index.html">4 dicas para otimizar seu aplicativo webpack</a></li>
<li><a href="../pt425217/index.html">Toler√¢ncia a falhas do aplicativo ao atualizar o cluster Kubernetes</a></li>
<li><a href="../pt425219/index.html">O que √© sa√∫de mental: uma perspectiva da psicologia / psicoterapia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>