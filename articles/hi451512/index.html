<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯЙР тЬНЁЯП╝ тЬЛ рдореЛрдмрд╛рдЗрд▓ MMORPG рдиреЗрдЯрд╡рд░реНрдХ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЛ рдкрд╛рд░реНрд╕ рдХреИрд╕реЗ рдХрд░реЗрдВ ЁЯОТ ЁЯМ┤ ЁЯС▓ЁЯП╜</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдПрдХ рдореЛрдмрд╛рдЗрд▓ MMORPG рдЦреЗрд▓рдиреЗ рдХреЗ рд╡рд░реНрд╖реЛрдВ рдореЗрдВ, рдореИрдВрдиреЗ рдЗрд╕рдХреЗ рд░рд┐рд╡рд░реНрд╕ рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ рдореЗрдВ рдХреБрдЫ рдЕрдиреБрднрд╡ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рдореИрдВ рд▓реЗрдЦреЛрдВ рдХреА рдПрдХ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдореЗрдВ рд╕рд╛рдЭрд╛ рдХрд░рдирд╛ рдЪрд╛рд╣реВрдВрдЧрд╛...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдореЛрдмрд╛рдЗрд▓ MMORPG рдиреЗрдЯрд╡рд░реНрдХ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЛ рдкрд╛рд░реНрд╕ рдХреИрд╕реЗ рдХрд░реЗрдВ</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/451512/">  рдПрдХ рдореЛрдмрд╛рдЗрд▓ MMORPG рдЦреЗрд▓рдиреЗ рдХреЗ рд╡рд░реНрд╖реЛрдВ рдореЗрдВ, рдореИрдВрдиреЗ рдЗрд╕рдХреЗ рд░рд┐рд╡рд░реНрд╕ рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ рдореЗрдВ рдХреБрдЫ рдЕрдиреБрднрд╡ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рдореИрдВ рд▓реЗрдЦреЛрдВ рдХреА рдПрдХ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдореЗрдВ рд╕рд╛рдЭрд╛ рдХрд░рдирд╛ рдЪрд╛рд╣реВрдВрдЧрд╛ред  рдирдореВрдирд╛ рд╡рд┐рд╖рдп: <br><br><ol><li>  рд╕рд░реНрд╡рд░ рдФрд░ рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЗ рдмреАрдЪ рдкрд╛рд░реНрд╕ рд╕рдВрджреЗрд╢ рд╕реНрд╡рд░реВрдкред </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЧреЗрдо рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рддрд░реАрдХреЗ рд╕реЗ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реБрдирдиреЗ рдХрд╛ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рд▓рд┐рдЦрдирд╛ред</a> </li><li>  рдЧреИрд░-HTTP рдкреНрд░реЙрдХреНрд╕реА рд╕рд░реНрд╡рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЯреНрд░реИрдлрд╝рд┐рдХ рдЕрд╡рд░реЛрдзрди рдФрд░ рдЗрд╕рдХрд╛ рд╕рдВрд╢реЛрдзрдиред </li><li>  рдЕрдкрдиреЗ рдЦреБрдж рдХреЗ ("рдкрд╛рдпрд░реЗрдЯреЗрдб") рд╕рд░реНрд╡рд░ рдХреЗ рд▓рд┐рдП рдкрд╣рд▓рд╛ рдХрджрдоред </li></ol><br>  рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ, рдореИрдВ <b>рд╕рд░реНрд╡рд░ рдФрд░ рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЗ рдмреАрдЪ рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рд░реВрдк рдХреЛ рдкрд╛рд░реНрд╕ рдХрд░рдиреЗ</b> рдкрд░ рдЪрд░реНрдЪрд╛ рдХрд░реВрдВрдЧрд╛ред  рд░реБрдЪрд┐, рдореИрдВ рдмрд┐рд▓реНрд▓реА рдХреЗ рд▓рд┐рдП рдкреВрдЫрдирд╛ред <br><a name="habracut"></a><br><h3>  рдЖрд╡рд╢реНрдпрдХ рдЙрдкрдХрд░рдг </h3><br>  рдиреАрдЪреЗ рд╡рд░реНрдгрд┐рдд рдЪрд░рдгреЛрдВ рдХреЛ рджреЛрд╣рд░рд╛рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдирд┐рдореНрди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА: <br><br><ul><li>  рдкреАрд╕реА (рдореИрдВрдиреЗ рд╡рд┐рдВрдбреЛрдЬ 7/10 рдкрд░ рдХрд┐рдпрд╛ рдерд╛, рд▓реЗрдХрд┐рди рдореИрдХрдУрдПрд╕ рдмрд╣реБрдд рдХрд╛рдо рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдЕрдЧрд░ рдиреАрдЪреЗ рдХреА рд╡рд╕реНрддреБрдПрдВ рдЙрдкрд▓рдмреНрдз рд╣реЛрдВ); </li><li>  рдкреИрдХреЗрдЯ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рд▓рд┐рдП рд╡рд┐рд░реЗрдЪрдХ; </li><li>  рдЯреЗрдореНрдкрд▓реЗрдЯ рджреНрд╡рд╛рд░рд╛ рдкреИрдХреЗрдЯ рдкрд╛рд░реНрд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП 010Editor (рд╡реИрдХрд▓реНрдкрд┐рдХ, рд▓реЗрдХрд┐рди рдЖрдкрдХреЛ рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рд░реВрдк рдХреЛ рдЬрд▓реНрджреА рдФрд░ рдЖрд╕рд╛рдиреА рд╕реЗ рд╡рд░реНрдгрди рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ); </li><li>  рдЦреЗрд▓ рдХреЗ рд╕рд╛рде рд╣реА рдореЛрдмрд╛рдЗрд▓ рдбрд┐рд╡рд╛рдЗрд╕ред </li></ul><br>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╣рд╛рде рдореЗрдВ рдЦреЗрд▓ рд╕реЗ рдкрдврд╝рдиреЗ рдпреЛрдЧреНрдп рдбреЗрдЯрд╛, рдЬреИрд╕реЗ рдХрд┐ рдЙрдирдХреЗ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛рдУрдВ рдХреЗ рд╕рд╛рде рд╡рд╕реНрддреБрдУрдВ, рдкреНрд░рд╛рдгрд┐рдпреЛрдВ рдЖрджрд┐ рдХреА рд╕реВрдЪреА рд╣реЛрдирд╛ рдмрд╣реБрдд рд╣реА рд╡рд╛рдВрдЫрдиреАрдп рд╣реИред  рдпрд╣ рд╕рдВрдХреБрд▓ рдореЗрдВ рдкреНрд░рдореБрдЦ рдмрд┐рдВрджреБрдУрдВ рдХреА рдЦреЛрдЬ рдХреЛ рдмрд╣реБрдд рд╕рд░рд▓ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдХрднреА-рдХрднреА рдпрд╣ рдЖрдкрдХреЛ рдбреЗрдЯрд╛ рдХреЗ рдирд┐рд░рдВрддрд░ рдкреНрд░рд╡рд╛рд╣ рдореЗрдВ рд╡рд╛рдВрдЫрд┐рдд рд╕рдВрджреЗрд╢ рдХреЛ рдлрд╝рд┐рд▓реНрдЯрд░ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред <br><br><h3><anchor>  рдкрджрдЪреНрдЫреЗрдж </anchor>  рд╕рд░реНрд╡рд░ рдФрд░ рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЗ рдмреАрдЪ рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рд░реВрдк </h3><br>  рдЖрд░рдВрдн рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдореЛрдмрд╛рдЗрд▓ рдбрд┐рд╡рд╛рдЗрд╕ рдХрд╛ рдЯреНрд░реИрдлрд╝рд┐рдХ рджреЗрдЦрдирд╛ рд╣реЛрдЧрд╛ред  рдРрд╕рд╛ рдХрд░рдирд╛ рдХрд╛рдлреА рд╕рд░рд▓ рд╣реИ (рд╣рд╛рд▓рд╛рдВрдХрд┐ рдореИрдВ рдмрд╣реБрдд рд▓рдВрдмреЗ рд╕рдордп рдХреЗ рд▓рд┐рдП рдЗрд╕ рд╕реНрдкрд╖реНрдЯ рдирд┐рд░реНрдгрдп рдкрд░ рдкрд╣реБрдВрдЪ рдЧрдпрд╛): рд╣рдорд╛рд░реЗ рдкреАрд╕реА рдкрд░ рд╣рдо рдПрдХ рд╡рд╛рдИ-рдлрд╛рдИ рдПрдХреНрд╕реЗрд╕ рдкреНрд╡рд╛рдЗрдВрдЯ рдмрдирд╛рддреЗ рд╣реИрдВ, рдЗрд╕реЗ рдореЛрдмрд╛рдЗрд▓ рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рддреЗ рд╣реИрдВ, рд╡рд┐рдВрдбрд╕рд░ рдореЗрдВ рд╡рд╛рдВрдЫрд┐рдд рдЗрдВрдЯрд░рдлреЗрд╕ рдХрд╛ рдЪрдпрди рдХрд░рддреЗ рд╣реИрдВ - рдФрд░ рд╣рдорд╛рд░реА рдЖрдВрдЦреЛрдВ рдХреЗ рд╕рд╛рдордиреЗ рд╕рднреА рдореЛрдмрд╛рдЗрд▓ рд╣реИрдВред <br><br>  рдЦреЗрд▓ рдореЗрдВ рдкреНрд░рд╡реЗрд╢ рдХрд░рдиреЗ рдФрд░ рдХреБрдЫ рд╕рдордп рдХреЗ рд▓рд┐рдП рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рддрд╛рдХрд┐ рдЦреЗрд▓ рд╕рд░реНрд╡рд░ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рдЦреБрдж рд╣реА рд░реЛрдХ рди рджрд┐рдпрд╛ рдЬрд╛рдП, рдЖрдк рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд┐рддреНрд░ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/in/ye/61/inye619dyp2vh8iq8nvncdb25u0.png"></div><br>  рдЗрд╕ рд╕реНрддрд░ рдкрд░, рд╣рдо рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЧреЗрдо рдФрд░ рд╕рд░реНрд╡рд░ рдХреЗ рдмреАрдЪ рдХреЗрд╡рд▓ рдкреИрдХреЗрдЯ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд┐рдВрдбрд╕рд░ рдлрд┐рд▓реНрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд╕рд╛рде рд╣реА рдХреЗрд╡рд▓ рдкреЗрд▓реЛрдб рдХреЗ рд╕рд╛рде: <br><br><pre><code class="plaintext hljs">tcp &amp;&amp; tcp.payload &amp;&amp; tcp.port == 44325</code> </pre> <br>  рдпрджрд┐ рдЖрдк рдЕрдиреНрдп рдЦрд┐рд▓рд╛рдбрд╝рд┐рдпреЛрдВ рдФрд░ рдПрдирдкреАрд╕реА рд╕реЗ рджреВрд░ рдПрдХ рд╢рд╛рдВрдд рдЬрдЧрд╣ рдкрд░ рдЦрдбрд╝реЗ рд╣реЛрддреЗ рд╣реИрдВ, рдФрд░ рдХреБрдЫ рднреА рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рд╕рд░реНрд╡рд░ рдФрд░ рдХреНрд▓рд╛рдЗрдВрдЯ рд╕реЗ рд▓рдЧрд╛рддрд╛рд░ рд╕рдВрджреЗрд╢ рджреЛрд╣рд░рд╛рддреЗ рд╣реБрдП рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ (рдЖрдХрд╛рд░ 76 рдФрд░ 84 рдмрд╛рдЗрдЯреНрд╕, рдХреНрд░рдорд╢рдГ)ред  рдореЗрд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЪрд░рд┐рддреНрд░ рдЪрдпрди рд╕реНрдХреНрд░реАрди рдкрд░ рд╡рд┐рднрд┐рдиреНрди рдкреИрдХреЗрдЬреЛрдВ рдХреА рдиреНрдпреВрдирддрдо рд╕рдВрдЦреНрдпрд╛ рднреЗрдЬреА рдЧрдИ рдереАред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/u-/n9/su/u-n9sutlnqod9lbgttfuon6g1ue.png"></div><br>  рдХреНрд▓рд╛рдЗрдВрдЯ рд╕реЗ рдЕрдиреБрд░реЛрдз рдХреА рдЖрд╡реГрддреНрддрд┐ рдкрд┐рдВрдЧ рдХреЗ рд╕рдорд╛рди рд╣реИред  рд╕рддреНрдпрд╛рдкрди рдХреЗ рд▓рд┐рдП рдХреБрдЫ рд╕рдВрджреЗрд╢ рджреЗрдВ (3 рд╕рдореВрд╣, рдКрдкрд░ рдПрдХ рдЧреНрд░рд╛рд╣рдХ рд╕реЗ рдПрдХ рдЕрдиреБрд░реЛрдз рд╣реИ, рдиреАрдЪреЗ рдпрд╣ рдПрдХ рд╕рд░реНрд╡рд░ рдХреА рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╣реИ): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/v3/z9/3e/v3z93eejzkii_hh6di5dwvbowfi.png"></div><br>  рдЖрдкрдХреА рдЖрдВрдЦ рдХреЛ рдкрдХрдбрд╝рдиреЗ рд╡рд╛рд▓реА рдкрд╣рд▓реА рдЪреАрдЬ рд╕рдВрдХреБрд▓ рдХреА рдкрд╣рдЪрд╛рди рд╣реИред  рджрд╢рдорд▓рд╡ рдкреНрд░рдгрд╛рд▓реА рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рд╣реЛрдиреЗ рдкрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдореЗрдВ 8 рдЕрддрд┐рд░рд┐рдХреНрдд рдмрд╛рдЗрдЯреНрд╕ рд╕реЗрдХрдВрдб рдореЗрдВ рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк рдХреЗ рд╕рдорд╛рди рд╣реИрдВ: <code>5CD008F8 <sub>16</sub> = 1557137656 <sub>10</sub></code> (рдкрд╣рд▓реА рдЬреЛрдбрд╝реА рд╕реЗ)ред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣рдо рдШрдбрд╝реА рдХреА рдЬрд╛рдВрдЪ рдХрд░рддреЗ рд╣реИрдВ</a> - рд╣рд╛рдВ, рдпрд╣ рд╣реИред  рдкрд┐рдЫрд▓реЗ 4 рдмрд╛рдЗрдЯреНрд╕ рдЕрдиреБрд░реЛрдз рдореЗрдВ рдЕрдВрддрд┐рдо 4 рдмрд╛рдЗрдЯреНрд╕ рд╕реЗ рдореЗрд▓ рдЦрд╛рддреЗ рд╣реИрдВред  рдЕрдиреБрд╡рд╛рдж рдХрд░рддреЗ рд╕рдордп, рд╣рдо рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ: <code>A4BB <sub>16</sub> = 42171 <sub>10</sub></code> , рдЬреЛ рд╕рдордп рдХреЗ рд╕рдорд╛рди рд╣реИ, рд▓реЗрдХрд┐рди рдорд┐рд▓реАрд╕реЗрдХрдВрдб рдореЗрдВ рднреАред  рдпрд╣ рдЦреЗрд▓ рдХреЗ рд▓реЙрдиреНрдЪ рдХреЗ рд╕рдордп рд╕реЗ рд▓рдЧрднрдЧ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдореЗрд▓ рдЦрд╛рддрд╛ рд╣реИ, рдФрд░ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИред <br><br>  рдпрд╣ рдЕрдиреБрд░реЛрдз рдФрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреЗ рдкрд╣рд▓реЗ 6 рдмрд╛рдЗрдЯреНрд╕ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдиреА рд╣реБрдИ рд╣реИред  рд╕рдВрджреЗрд╢ рдХреЗ рдкрд╣рд▓реЗ рдЪрд╛рд░ рдмрд╛рдЗрдЯреНрд╕ рдХреЗ рдорд╛рди рдХреА рдирд┐рд░реНрднрд░рддрд╛ рдкрд░ рдзреНрдпрд╛рди рджреЗрдирд╛ рдЖрд╕рд╛рди рд╣реИ (рдЖрдЗрдП рдЗрд╕ рдкреИрд░рд╛рдореАрдЯрд░ <code>L</code> рдХреЙрд▓ рдХрд░реЗрдВ) рд╕рдВрджреЗрд╢ рдХреЗ рдЖрдХрд╛рд░ рдкрд░: рд╕рд░реНрд╡рд░ рд╕реЗ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ 8 рдмрд╛рдЗрдЯреНрд╕ рд╕реЗ рдЕрдзрд┐рдХ рд╣реИ, <code>L</code> рдХреЗ рдореВрд▓реНрдп рдореЗрдВ рднреА 8 рд╕реЗ рд╡реГрджреНрдзрд┐ рд╣реБрдИ рд╣реИ, рд╣рд╛рд▓рд╛рдВрдХрд┐, рдкреИрдХреЗрдЯ рдХрд╛ рдЖрдХрд╛рд░ рджреЛрдиреЛрдВ рдорд╛рдорд▓реЛрдВ рдореЗрдВ <code>L</code> рдХреЗ рдореВрд▓реНрдп рдХреЗ 6 рдмрд╛рдЗрдЯреНрд╕ рд╕реЗ рдЕрдзрд┐рдХ рд╣реИред  рдЖрдк рдпрд╣ рднреА рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ <code>L</code> рдмрд╛рдж рдХреЗ рджреЛ рдмрд╛рдЗрдЯреНрд╕ рдХреНрд▓рд╛рдЗрдВрдЯ рдФрд░ рд╕рд░реНрд╡рд░ рд╕реЗ рдЕрдиреБрд░реЛрдзреЛрдВ рдореЗрдВ рдЕрдкрдирд╛ рдореВрд▓реНрдп рдмрдирд╛рдП рд░рдЦрддреЗ рд╣реИрдВ, рдФрд░ рдпрд╣ рджреЗрдЦрддреЗ рд╣реБрдП рдХрд┐ рдЙрдирдХрд╛ рдореВрд▓реНрдп рдПрдХ рд╕реЗ рднрд┐рдиреНрди рд╣реИ, рд╣рдо рд╡рд┐рд╢реНрд╡рд╛рд╕ рдХреЗ рд╕рд╛рде рдХрд╣ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдпрд╣ рд╕рдВрджреЗрд╢ рдХреЛрдб <code>C</code> (рд╕рдВрдмрдВрдзрд┐рдд рд╕рдВрджреЗрд╢ рдХреЛрдб рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред рдХреНрд░рдорд┐рдХ рд░реВрдк рд╕реЗ)ред  рд╕рд╛рдорд╛рдиреНрдп рд╕рдВрд░рдЪрдирд╛ 010Editor рдХреЗ рд▓рд┐рдП рдиреНрдпреВрдирддрдо рдЯреЗрдореНрдкрд▓реЗрдЯ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╕реНрдкрд╖реНрдЯ рд╣реИ: <br><br><ul><li>  рдкрд╣рд▓реЗ 4 рдмрд╛рдЗрдЯреНрд╕ - <code>L</code> - рд╕рдВрджреЗрд╢ рдкреЗрд▓реЛрдб рдЖрдХрд╛рд░; </li><li>  рдЕрдЧрд▓реЗ 2 рдмрд╛рдЗрдЯреНрд╕ - <code>C</code> - рд╕рдВрджреЗрд╢ рдХреЛрдб; </li><li>  рдкреЗрд▓реЛрдб рд╣реАред </li></ul><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Event</span></span></span><span class="hljs-class"> {</span></span> uint payload_length &lt;bgcolor=<span class="hljs-number"><span class="hljs-number">0xFFFF00</span></span>, name=<span class="hljs-string"><span class="hljs-string">"Payload Length"</span></span>&gt;; ushort event_code &lt;bgcolor=<span class="hljs-number"><span class="hljs-number">0xFF9988</span></span>, name=<span class="hljs-string"><span class="hljs-string">"Event Code"</span></span>&gt;; byte payload[payload_length] &lt;name=<span class="hljs-string"><span class="hljs-string">"Event Payload"</span></span>&gt;; };</code> </pre><br>  рдЗрд╕рд▓рд┐рдП, рдХреНрд▓рд╛рдЗрдВрдЯ рдкрд┐рдВрдЧ рд╕рдВрджреЗрд╢ рдХрд╛ рдкреНрд░рд╛рд░реВрдк: рд╕реНрдерд╛рдиреАрдп рдкрд┐рдВрдЧ рд╕рдордп рднреЗрдЬреЗрдВ;  рд╕рд░реНрд╡рд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдкреНрд░рд╛рд░реВрдк: рд╕реЗрдХрдВрдб рдореЗрдВ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рднреЗрдЬрдиреЗ рдХрд╛ рдПрдХ рд╣реА рд╕рдордп рдФрд░ рд╕рдордп рднреЗрдЬреЗрдВред  рдпрд╣ рдореБрд╢реНрдХрд┐рд▓ рдирд╣реАрдВ рд▓рдЧрддрд╛ рд╣реИ, рд╣реИ рдирд╛? <br><br>  рдЖрдЗрдП рдПрдХ рдЙрджрд╛рд╣рд░рдг рдХреЛ рдФрд░ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рдмрдирд╛рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред  рдПрдХ рд╢рд╛рдВрдд рдЬрдЧрд╣ рдкрд░ рдЦрдбрд╝реЗ рд╣реЛрдХрд░ рдкрд┐рдВрдЧ рдкреИрдХреЗрдЯ рдЫрд┐рдкрд╛рдХрд░, рдЖрдк рд╕рдВрджреЗрд╢ рдЯреЗрд▓реАрдкреЛрд░реНрдЯ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЖрдЗрдЯрдо (рд╢рд┐рд▓реНрдк) рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВред  рдкрд╣рд▓реЗ рдПрдХ рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВред  рдЧреЗрдо рдбреЗрдЯрд╛ рдХреЛ рджреЗрдЦрддреЗ рд╣реБрдП, рдореБрдЭреЗ рдкрддрд╛ рдерд╛ рдХрд┐ рдЯреЗрд▓реАрдкреЛрд░реНрдЯ рдкреЙрдЗрдВрдЯ рдХрд╛ рдХреНрдпрд╛ рдореВрд▓реНрдп рд╣реИред  рдкрд░реАрдХреНрд╖рдгреЛрдВ рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ <code>0x2B</code> , <code>0x67</code> , <code>0x6B</code> рдФрд░ <code>0x1AF</code> рдореВрд▓реНрдпреЛрдВ рдХреЗ рд╕рд╛рде рдмрд┐рдВрджреБрдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ред  рд╕рдВрджреЗрд╢реЛрдВ рдореЗрдВ рдореВрд▓реНрдпреЛрдВ рдХреА рддреБрд▓рдирд╛ рдХрд░реЗрдВ: <code>0x2B</code> , <code>0x67</code> , <code>0x6B</code> рдФрд░ <code>0x3AF</code> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/y7/7r/qs/y77rqsd0mxecueorqwdip3ow3r8.png"></div><br>  рдЧрдбрд╝рдмрдбрд╝ред  рджреЛ рд╕рдорд╕реНрдпрд╛рдПрдВ рджрд┐рдЦрд╛рдИ рджреЗрддреА рд╣реИрдВ: <br><br><ol><li>  рдорд╛рди 4 рдмрд╛рдЗрдЯреНрд╕ рдирд╣реАрдВ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╡рд┐рднрд┐рдиреНрди рдЖрдХрд╛рд░реЛрдВ рдХреЗ рд╣реИрдВ; </li><li>  рд╕рднреА рдорд╛рди рдлрд╝рд╛рдЗрд▓реЛрдВ рд╕реЗ рдбреЗрдЯрд╛ рд╕реЗ рдореЗрд▓ рдирд╣реАрдВ рдЦрд╛рддреЗ рд╣реИрдВ, рдФрд░ рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рдЕрдВрддрд░ 128 рд╣реИред </li></ol><br>  рдЗрд╕рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд, рдЬрдм рдкрд┐рдВрдЧ рдкреНрд░рд╛рд░реВрдк рдХреЗ рд╕рд╛рде рддреБрд▓рдирд╛ рдХреА рдЬрд╛рддреА рд╣реИ, рддреЛ рдЖрдк рдХреБрдЫ рдЕрдВрддрд░ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><ul><li>  рдЕрдкреЗрдХреНрд╖рд┐рдд рдорд╛рди рд╕реЗ рдкрд╣рд▓реЗ <code>0x08</code> ; </li><li>  4-рдмрд╛рдЗрдЯ рдорд╛рди, <code>L</code> рд╕реЗ 4 рдХрдо (рдЪрд▓реЛ рдЗрд╕реЗ <code>D</code> рдХрд╣рддреЗ рд╣реИрдВ <code>D</code> рдпрд╣ рдлрд╝реАрд▓реНрдб рд╕рднреА рд╕рдВрджреЗрд╢реЛрдВ рдореЗрдВ рдкреНрд░рдХрдЯ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИ, рдЬреЛ рдереЛрдбрд╝рд╛ рдЕрдЬреАрдм рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдХрд╣рд╛рдБ рд╣реИ, рдирд┐рд░реНрднрд░рддрд╛ <code>L - 4 = D</code> рд╕рдВрд░рдХреНрд╖рд┐рдд рд╣реИред рдПрдХ рддрд░рдл, рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рд▓рд┐рдПред рдПрдХ рд╕рд╛рдзрд╛рд░рдг рд╕рдВрд░рдЪрдирд╛ (рдкрд┐рдВрдЧ рдХреА рддрд░рд╣) рдЗрд╕рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рджреВрд╕рд░реЗ рдкрд░ - рдпрд╣ рдмреЗрдХрд╛рд░ рджрд┐рдЦрддрд╛ рд╣реИ)ред </li></ul><br>  рдЖрдк рдореЗрдВ рд╕реЗ рдХреБрдЫ, рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ, рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЕрдкреЗрдХреНрд╖рд┐рдд рдореВрд▓реНрдпреЛрдВ рдХреЗ рдмреЗрдореЗрд▓ рд╣реЛрдиреЗ рдХрд╛ рдХрд╛рд░рдг рдЕрдиреБрдорд╛рди рд▓рдЧрд╛ рд╕рдХрддрд╛ рдерд╛, рд▓реЗрдХрд┐рди рдореИрдВ рдЬрд╛рд░реА рд░рдЦреВрдВрдЧрд╛ред  рдЖрдЗрдП рджреЗрдЦреЗрдВ рдХрд┐ рд╢рд┐рд▓реНрдк рдореЗрдВ рдХреНрдпрд╛ рд╣реЛ рд░рд╣рд╛ рд╣реИ: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8f/zk/vs/8fzkvsleifr5b1yodx6a77ggx_g.png"></div><br>  14183 рдФрд░ 14285 рдХреЗ рдЕрдиреБрдорд╛рдирд┐рдд рдореВрд▓реНрдп рднреА рд╡рд╛рд╕реНрддрд╡рд┐рдХ 28391 рдФрд░ 28621 рдХреЗ рдЕрдиреБрд░реВрдк рдирд╣реАрдВ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдпрд╣рд╛рдВ рдЕрдВрддрд░ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА 128 рд╕реЗ рдЕрдзрд┐рдХ рд╣реИред рдХрдИ рдкрд░реАрдХреНрд╖рдгреЛрдВ (рдЕрдиреНрдп рдкреНрд░рдХрд╛рд░ рдХреЗ рд╕рдВрджреЗрд╢реЛрдВ рд╕рд╣рд┐рдд) рдХреЗ рдмрд╛рдж рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рдХрд┐ рдЕрдкреЗрдХреНрд╖рд┐рдд рд╕рдВрдЦреНрдпрд╛ рдЬрд┐рддрдиреА рдмрдбрд╝реА рд╣реЛрдЧреА, рдкреИрдХреЗрдЯ рдореЗрдВ рдореВрд▓реНрдп рдХреЗ рдмреАрдЪ рдХрд╛ рдЕрдВрддрд░ рдЙрддрдирд╛ рд╣реА рдЕрдзрд┐рдХ рд╣реЛрдЧрд╛ред  рдХреНрдпрд╛ рдЕрдЬреАрдм рдмрд╛рдд рдереА рдХрд┐ резреи was рддрдХ рдХреЗ рдореВрд▓реНрдп рдЕрдкрдиреЗ рдЖрдк рдмрдиреЗ рд░рд╣реЗред  рд╕рдордЭ рдЧрдпрд╛, рдХреНрдпрд╛ рд╣рд╛рд▓ рд╣реИ?  рд╕реНрдкрд╖реНрдЯ рд╕реНрдерд┐рддрд┐ рдЙрди рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рд╣реИ рдЬреЛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЗрд╕рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░ рдЪреБрдХреЗ рд╣реИрдВ, рдФрд░ рдЕрдирдЬрд╛рдиреЗ рдореЗрдВ, рдореБрдЭреЗ рдЗрд╕ "рд╕рд┐рдлрд░" рдХреЛ рджреЛ рджрд┐рдиреЛрдВ рдХреЗ рд▓рд┐рдП рдЕрд▓рдЧ рдХрд░рдирд╛ рдкрдбрд╝рд╛ (рдЕрдВрдд рдореЗрдВ, рдмрд╛рдЗрдирд░реА рдлреЙрд░реНрдо рдореЗрдВ рдореВрд▓реНрдпреЛрдВ рдХреЗ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдиреЗ "рд╣реИрдХрд┐рдВрдЧ" рдореЗрдВ рдорджрдж рдХреА)ред  рдКрдкрд░ рд╡рд░реНрдгрд┐рдд рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрд░рд┐рд╡рд░реНрддрдиреАрдп рд▓рдВрдмрд╛рдИ рдХреА рдорд╛рддреНрд░рд╛</a></i> рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ - рдПрдХ рд╕рдВрдЦреНрдпрд╛ рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдЕрдирд┐рд╢реНрдЪрд┐рдд рд╕рдВрдЦреНрдпрд╛ рдХреЗ рдмрд╛рдЗрдЯреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рдЬрд╣рд╛рдВ рдПрдХ рдмрд╛рдЗрдЯ рдХреА рдЖрдард╡реАрдВ рдмрд┐рдЯ (рдирд┐рд░рдВрддрд░рддрд╛ рдмрд┐рдЯ) рдЕрдЧрд▓реЗ рдмрд╛рдЗрдЯ рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреА рд╣реИред  рд╡рд┐рд╡рд░рдг рд╕реЗ, рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реИ рдХрд┐ рд╡реАрдПрд▓рдХреНрдпреВ рдкрдврд╝рдирд╛ рдХреЗрд╡рд▓ рд▓рд┐рдЯрд┐рд▓-рдПрдВрдбрд┐рдпрди рдХреНрд░рдо рдореЗрдВ рд╕рдВрднрд╡ рд╣реИред  рд╕рдВрдпреЛрдЧ рд╕реЗ, рдкреИрдХреЗрдЯ рдореЗрдВ рд╕рднреА рдореВрд▓реНрдп рдЙрд╕реА рдХреНрд░рдо рдореЗрдВ рд╣реИрдВред <br><br>  рдЕрдм рдЬрдм рд╣рдо рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдореВрд▓реНрдп рдХреИрд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛рдП, рддреЛ рд╣рдо рдЯрд╛рдЗрдк рдХреЗ рд▓рд┐рдП рдПрдХ рдЯреЗрдореНрдкреНрд▓реЗрдЯ рд▓рд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">VLQ</span></span></span><span class="hljs-class"> {</span></span> local <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> size = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(<span class="hljs-literal"><span class="hljs-literal">true</span></span>) { byte obf_byte; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((obf_byte &amp; <span class="hljs-number"><span class="hljs-number">0x80</span></span>) == <span class="hljs-number"><span class="hljs-number">0x80</span></span>) { size++; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } FSeek(FTell() - size); byte bytes[size]; local uint64 _ = FromVLQ(bytes, size); };</code> </pre><br>  рдФрд░ рдмрд╛рдЗрдЯреНрд╕ рдХреЗ рдПрдХ рд╕рд░рдгреА рдХреЛ рдкреВрд░реНрдгрд╛рдВрдХ рдорд╛рди рдореЗрдВ рдмрджрд▓рдиреЗ рдХрд╛ рдХрд╛рд░реНрдп: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">uint64 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FromVLQ</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(byte bytes[], </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> size)</span></span></span><span class="hljs-function"> </span></span>{ local uint64 source = <span class="hljs-number"><span class="hljs-number">0</span></span>; local <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; local byte x; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; size; i++) { x = bytes[i]; source |= (x &amp; <span class="hljs-number"><span class="hljs-number">0x7F</span></span>) * Pow(<span class="hljs-number"><span class="hljs-number">2</span></span>, i * <span class="hljs-number"><span class="hljs-number">7</span></span>); <span class="hljs-comment"><span class="hljs-comment">//   &lt;&lt;   , ..     ,  uint32,        uint64 if ((x &amp; 0x80) != 0x80) { break; } } return source; };</span></span></code> </pre><br>  рд▓реЗрдХрд┐рди рд╡рд╛рдкрд╕ рд╡рд┐рд╖рдп рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЗ рд▓рд┐рдПред  рдлрд┐рд░ рд╕реЗ <code>D</code> рджрд┐рдЦрд╛рдИ рджреЗрддрд╛ рд╣реИ рдФрд░ рдлрд┐рд░ рд╕реЗ рдмрджрд▓рддреЗ рдореВрд▓реНрдп рдХреЗ рд╕рд╛рдордиреЗ <code>0x08</code> ред  <code>0x10 0x01</code> рд╕рдВрджреЗрд╢ рдХреЗ рдЕрдВрддрд┐рдо рджреЛ рдмрд╛рдЗрдЯреНрд╕ рд╕рдВрджрд┐рдЧреНрдз рд░реВрдк рд╕реЗ рдХреНрд░рд╛рдлреНрдЯрд┐рдВрдЧ рдЖрдЗрдЯрдо рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЗ рд╕рдорд╛рди рд╣реИрдВ, рдЬрд╣рд╛рдВ <code>0x10</code> рдХреА рднреВрдорд┐рдХрд╛ <code>0x08</code> рд╕рдорд╛рди рд╣реИ рд▓реЗрдХрд┐рди рдлрд┐рд░ рднреА рд╕рдордЭ рд╕реЗ рдмрд╛рд╣рд░ рд╣реИред  рд▓реЗрдХрд┐рди рдЕрдм рдЖрдк рдЗрд╕ рдИрд╡реЗрдВрдЯ рдХреЗ рд▓рд┐рдП рдПрдХ рдЯреЗрдореНрдкреНрд▓реЗрдЯ рд▓рд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CraftEvent</span></span></span><span class="hljs-class"> {</span></span> uint data_length &lt;bgcolor=<span class="hljs-number"><span class="hljs-number">0x00FF00</span></span>, name=<span class="hljs-string"><span class="hljs-string">"Data Length"</span></span>&gt;; byte marker1; VLQ craft_id &lt;bgcolor=<span class="hljs-number"><span class="hljs-number">0x00FF00</span></span>, name=<span class="hljs-string"><span class="hljs-string">"Craft ID"</span></span>&gt;; byte marker2; VLQ quantity &lt;bgcolor=<span class="hljs-number"><span class="hljs-number">0x00FF00</span></span>, name=<span class="hljs-string"><span class="hljs-string">"Craft Quantity"</span></span>&gt;; };</code> </pre><br>  рдЬреЛ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦреЗрдЧрд╛: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ex/sl/y1/exsly1e_f3_3dtj4mhyzryehzou.png"></div><br>  рдФрд░ рдлрд┐рд░ рднреА, рдпреЗ рд╕рд░рд▓ рдЙрджрд╛рд╣рд░рдг рдереЗред  рдЪрд░рд┐рддреНрд░ рдХреЗ рдЖрдВрджреЛрд▓рди рдХреА рдШрдЯрдирд╛ рдХреЛ рдкрд╛рд░реНрд╕ рдХрд░рдирд╛ рдЕрдзрд┐рдХ рдХрдард┐рди рд╣реЛрдЧрд╛ред  рд╣рдо рдХреНрдпрд╛ рдЬрд╛рдирдХрд╛рд░реА рджреЗрдЦрдиреЗ рдХреА рдЙрдореНрдореАрдж рдХрд░рддреЗ рд╣реИрдВ?  рдХрдо рд╕реЗ рдХрдо, рдЪрд░рд┐рддреНрд░ рдХреЗ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдЬрд╣рд╛рдВ рд╡рд╣ рджреЗрдЦ рд░рд╣рд╛ рд╣реИ, рдЧрддрд┐ рдФрд░ рд╕реНрдерд┐рддрд┐ (рдЦрдбрд╝реЗ, рджреМрдбрд╝, рдХреВрдж, рдЖрджрд┐)ред  рдЪреВрдВрдХрд┐ рд╕рдВрджреЗрд╢ рдореЗрдВ рдХреЛрдИ рд░реЗрдЦрд╛рдПрдВ рджрд┐рдЦрд╛рдИ рдирд╣реАрдВ рджреЗрддреА рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ рд░рд╛рдЬреНрдп рдХрд╛ рд╡рд░реНрдгрди <code>enum</code> рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛рдПред  рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреА рдЧрдгрдирд╛ рдХрд░рдХреЗ, рдЧреЗрдо рдлрд╝рд╛рдЗрд▓реЛрдВ рд╕реЗ рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдЙрдирдХреА рддреБрд▓рдирд╛ рдХрд░рдиреЗ рдХреЗ рд╕рд╛рде-рд╕рд╛рде рдХрдИ рдкрд░реАрдХреНрд╖рдгреЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ, рдЖрдк рдЗрд╕ рдмреЛрдЭрд┐рд▓ рдЯреЗрдореНрдкрд▓реЗрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рддреАрди XYZ рд╡реИрдХреНрдЯрд░ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MoveEvent</span></span></span><span class="hljs-class"> {</span></span> uint data_length &lt;bgcolor=<span class="hljs-number"><span class="hljs-number">0x00FF00</span></span>, name=<span class="hljs-string"><span class="hljs-string">"Data Length"</span></span>&gt;; byte marker; VLQ move_time &lt;bgcolor=<span class="hljs-number"><span class="hljs-number">0x00FFFF</span></span>&gt;; FSkip(<span class="hljs-number"><span class="hljs-number">2</span></span>); byte marker; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> position_x &lt;bgcolor=<span class="hljs-number"><span class="hljs-number">0x00FF00</span></span>&gt;; byte marker; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> position_y &lt;bgcolor=<span class="hljs-number"><span class="hljs-number">0x00FF00</span></span>&gt;; byte marker; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> position_z &lt;bgcolor=<span class="hljs-number"><span class="hljs-number">0x00FF00</span></span>&gt;; FSkip(<span class="hljs-number"><span class="hljs-number">2</span></span>); byte marker; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> direction_x &lt;bgcolor=<span class="hljs-number"><span class="hljs-number">0x00FFFF</span></span>&gt;; byte marker; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> direction_y &lt;bgcolor=<span class="hljs-number"><span class="hljs-number">0x00FFFF</span></span>&gt;; byte marker; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> direction_z &lt;bgcolor=<span class="hljs-number"><span class="hljs-number">0x00FFFF</span></span>&gt;; FSkip(<span class="hljs-number"><span class="hljs-number">2</span></span>); byte marker; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> speed_x &lt;bgcolor=<span class="hljs-number"><span class="hljs-number">0x00FFFF</span></span>&gt;; byte marker; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> speed_y &lt;bgcolor=<span class="hljs-number"><span class="hljs-number">0x00FFFF</span></span>&gt;; byte marker; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> speed_z &lt;bgcolor=<span class="hljs-number"><span class="hljs-number">0x00FFFF</span></span>&gt;; byte marker; VLQ character_state &lt;bgcolor=<span class="hljs-number"><span class="hljs-number">0x00FF00</span></span>&gt;; };</code> </pre><br>  рджреГрд╢реНрдп рдкрд░рд┐рдгрд╛рдо: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/aw/wn/rz/awwnrzzruq2wtcnmwbpkho3q1x8.png"></div><br>  рд╣рд░реЗ рд░рдВрдЧ рдХреЗ рддреАрди рд╕реНрдерд╛рди рдХреЗ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдХреЗ рд░реВрдк рдореЗрдВ рдирд┐рдХрд▓рд╛, рдкреАрд▓рд╛ рддреАрди, рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ, рдЬрд╣рд╛рдВ рдЪрд░рд┐рддреНрд░ рджрд┐рдЦ рд░рд╣рд╛ рд╣реИ рдФрд░ рдЙрд╕рдХреА рдЧрддрд┐ рдХрд╛ рд╡реЗрдХреНрдЯрд░ рд╣реИ, рдФрд░ рдЕрдВрддрд┐рдо рдПрдХ рдЪрд░рд┐рддреНрд░ рдХреА рд╕реНрдерд┐рддрд┐ рд╣реИред  рдЖрдк рд╕рдордиреНрд╡рдп рдореВрд▓реНрдпреЛрдВ ( <code>X</code> рдорд╛рди рд╕реЗ рдкрд╣рд▓реЗ <code>0x0D</code> , <code>Y</code> рд╕реЗ рдкрд╣рд▓реЗ <code>0x1D</code> рдФрд░ <code>Z</code> рд╕реЗ рдкрд╣рд▓реЗ <code>0x1D</code> ) рдФрд░ рд░рд╛рдЬреНрдп рд╕реЗ рдкрд╣рд▓реЗ ( <code>0x30</code> ) рдХреЗ рдмреАрдЪ рдирд┐рд░рдВрддрд░ рдмрд╛рдЗрдЯреНрд╕ (рдорд╛рд░реНрдХрд░) рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ рдХрд┐ <code>0x08</code> рдФрд░ <code>0x10</code> рдЕрд░реНрде рдореЗрдВ рд╕рдВрджрд┐рдЧреНрдз рд░реВрдк рд╕реЗ рд╕рдорд╛рди рд╣реИрдВред  рдЕрдиреНрдп рдШрдЯрдирд╛рдУрдВ рдХреЗ рдХрдИ рдорд╛рд░реНрдХрд░реЛрдВ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ рдХрд┐ рдпрд╣ рдЗрд╕рдХреЗ рдмрд╛рдж рдХреЗ рдореВрд▓реНрдп (рдкрд╣рд▓реЗ рддреАрди рдмрд┐рдЯреНрд╕) рдФрд░ рдЕрд░реНрде рдЕрд░реНрде рдХрд╛ рдкреНрд░рдХрд╛рд░ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИ, рдЕрд░реНрдерд╛рддред  рдКрдкрд░ рджрд┐рдП рдЧрдП рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, рдпрджрд┐ рдЖрдк рдЕрдкрдиреЗ рдорд╛рд░реНрдХрд░реЛрдВ (рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ, рдЖрджрд┐ рдХреЗ рд╕рд╛рдордиреЗ <code>0x120F</code> рдХреЛ рдмрдирд╛рдП рд░рдЦрддреЗ рд╣реБрдП рд╡реИрдХреНрдЯрд░ рд╕реНрд╡реИрдк рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЦреЗрд▓ (рд╕реИрджреНрдзрд╛рдВрддрд┐рдХ рд░реВрдк рд╕реЗ) рдХреЛ рд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ рд╕рдВрджреЗрд╢ рдХреЛ рдкрд╛рд░реНрд╕ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЗрд╕ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рдЖрдк рдХреБрдЫ рдирдП рдкреНрд░рдХрд╛рд░ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Packed</span></span></span><span class="hljs-class"> {</span></span> VLQ marker &lt;bgcolor=<span class="hljs-number"><span class="hljs-number">0xFFBB00</span></span>&gt;; <span class="hljs-comment"><span class="hljs-comment">//    VLQ! local uint size = marker.size; //       ( , )          switch (marker._ &amp; 0x7) { case 1: double v; size += 8; break; //     case 5: float v; size += 4; break; default: VLQ v; size += v.size; break; } }; struct PackedVector3 { Packed marker &lt;name="Marker"&gt;; Packed x &lt;name="X"&gt;; Packed y &lt;name="Y"&gt;; Packed z &lt;name="Z"&gt;; };</span></span></code> </pre><br>  рдЕрдм рд╣рдорд╛рд░рд╛ рдЧрддрд┐ рд╕рдВрджреЗрд╢ рдЯреЗрдореНрдкреНрд▓реЗрдЯ рдХрд╛рдлреА рдХрдо рд╣реЛ рдЧрдпрд╛ рд╣реИ: <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MoveEvent</span></span></span><span class="hljs-class"> {</span></span> uint data_length &lt;bgcolor=<span class="hljs-number"><span class="hljs-number">0x00FF00</span></span>, name=<span class="hljs-string"><span class="hljs-string">"Data Length"</span></span>&gt;; Packed move_time &lt;bgcolor=<span class="hljs-number"><span class="hljs-number">0x00FFFF</span></span>&gt;; PackedVector3 position &lt;bgcolor=<span class="hljs-number"><span class="hljs-number">0x00FF00</span></span>&gt;; PackedVector3 direction &lt;bgcolor=<span class="hljs-number"><span class="hljs-number">0x00FF00</span></span>&gt;; PackedVector3 speed &lt;bgcolor=<span class="hljs-number"><span class="hljs-number">0x00FF00</span></span>&gt;; Packed state &lt;bgcolor=<span class="hljs-number"><span class="hljs-number">0x00FF00</span></span>&gt;; };</code> </pre><br>  рдПрдХ рдЕрдиреНрдп рдкреНрд░рдХрд╛рд░ рдЬрд┐рд╕реЗ рд╣рдореЗрдВ рдЕрдЧрд▓реЗ рд▓реЗрдЦ рдореЗрдВ рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИ рд╡рд╣ рд░реЗрдЦрд╛рдПрдВ рд╣реИрдВ рдЬреЛ рдЙрдирдХреЗ рдЖрдХрд╛рд░ рдХреЗ <code>Packed</code> рдореВрд▓реНрдп рд╕реЗ рдкрд╣рд▓реЗ рд╣реИрдВ: <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PackedString</span></span></span><span class="hljs-class"> {</span></span> Packed length; <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> str[length.v._]; };</code> </pre><br>  рдЕрдм, рдирдореВрдирд╛ рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рд░реВрдк рдХреЛ рдЬрд╛рдирддреЗ рд╣реБрдП, рдЖрдк рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рдлрд╝рд┐рд▓реНрдЯрд░ рдХрд░рдиреЗ рдФрд░ рдЙрдирдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдиреЗ рдХреА рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП рдЕрдкрдирд╛ рд╕реБрдирдиреЗ рдХрд╛ рдЖрд╡реЗрджрди рд▓рд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдпрд╣ рдЕрдЧрд▓реЗ рд▓реЗрдЦ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╖рдп рд╣реИред <br><br>  <b>рдЕрдкрдбреЗрдЯ:</b> рд╕рдВрдХреЗрдд рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж рдХрд┐ рдКрдкрд░ рд╡рд░реНрдгрд┐рдд рд╕рдВрджреЗрд╢ рд╕рдВрд░рдЪрдирд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдмрдлрд╝рд░ рд╣реИ</a> , рдФрд░ рдЙрдкрдпреЛрдЧреА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓реЗрдЦ рдХреЗ</a> рд▓рд┐рдВрдХ рдХреЗ рд▓рд┐рдП <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" class="user_link">рдЯрд╛рдЯреАрдХреЛрдорд╛</a> рднреА рд╣реИред </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi451512/">https://habr.com/ru/post/hi451512/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi451502/index.html">13 рд╕реЗ 19 рдордИ рддрдХ рдорд╛рд╕реНрдХреЛ рдореЗрдВ рдбрд┐рдЬрд┐рдЯрд▓ рдХрд╛рд░реНрдпрдХреНрд░рдо</a></li>
<li><a href="../hi451504/index.html">рд╡реЗрдм 2019 рдкрд░ рдЪрд┐рддреНрд░</a></li>
<li><a href="../hi451506/index.html">DNSCrypt рдиреЗ 24 рдШрдВрдЯреЗ рдХреА рд╡реИрдзрддрд╛ рдЕрд╡рдзрд┐ рджрд░реНрдЬ рдХрд░рдХреЗ рдПрдХреНрд╕рдкрд╛рдпрд░реНрдб рд╕рд░реНрдЯрд┐рдлрд┐рдХреЗрдЯ рдЗрд╢реНрдпреВ рдХреЛ рдХреИрд╕реЗ рд╣рд▓ рдХрд┐рдпрд╛</a></li>
<li><a href="../hi451508/index.html">рдбрдореА рдЧрд╛рдЗрдб: рдУрдкрди рд╕реЛрд░реНрд╕ рдЯреВрд▓реНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ DevOps рдЪреЗрди рдмрдирд╛рдирд╛</a></li>
<li><a href="../hi451510/index.html">JetBrains рд╕реЗ C ++ рдЯреВрд▓ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдереЛрдбрд╝рд╛ рд╕рд╛ рдЯреЗрдХреНрдирд┐рдХрд▓ рд▓рд┐рд░рд┐рдХреНрд╕, рдФрд░ рдпреВрдирд┐рдХреЙрд░реНрди рдХрд╛ рдЗрд╕рд╕реЗ рдХреНрдпрд╛ рд▓реЗрдирд╛-рджреЗрдирд╛ рд╣реИ</a></li>
<li><a href="../hi451514/index.html">рд╕реАрдПрд╕рдПрд╕ рд╕рдмрдЧреНрд░рд┐рдб рдиреНрдпреВрдЬрд╝</a></li>
<li><a href="../hi451516/index.html">рд╕реНрдкреНрд░рд┐рдВрдЧ рдлреНрд░реЗрдорд╡рд░реНрдХ рдореЗрдВ рдкреНрд░рдпреБрдХреНрдд рдбрд┐рдЬрд╝рд╛рдЗрди рдкреИрдЯрд░реНрди</a></li>
<li><a href="../hi451518/index.html">рд╣рдорд╛рд░реА рдореЛрдмрд╛рдЗрд▓ рд╡реЗрдмрд╕рд╛рдЗрдЯреЗрдВ рдЫреАрди рд▓реА рдЧрдИрдВ</a></li>
<li><a href="../hi451520/index.html">VDI: рд╕рд╕реНрддрд╛ рдФрд░ рд╣рдВрд╕рдореБрдЦ</a></li>
<li><a href="../hi451522/index.html">рд╣рдо рдХреБрдЫ рдШрдВрдЯреЛрдВ рдореЗрдВ рд╕реНрд╡рдЪрд╛рд▓рди рдХреЛ рддреИрдирд╛рдд рдХрд░рддреЗ рд╣реИрдВ: рдЯрд╛рдЗрдкрд╕реНрдХреНрд░рд┐рдкреНрдЯ, рдкреНрд░реЛрдЯреНрд░реЗрдХреНрдЯрд░, рдЬреИрд╕реНрдореАрди</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>