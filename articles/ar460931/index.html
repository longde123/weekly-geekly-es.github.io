<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👆🏾 😠 👍🏾 حول الديكور في بيثون 👩🏾‍🤝‍👨🏻 💪 👨🏽‍⚕️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="مرحبا بالجميع! 


 تم إعداد ترجمة المقال لطلاب الدورة "مطور ويب في بيثون" . هل هو مثير للاهتمام لتطوير في هذا الاتجاه؟ اشترك في دورة "يوم الأبواب المف...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>حول الديكور في بيثون</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/460931/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  مرحبا بالجميع! </p><br><p style=";text-align:right;direction:rtl">  <em>تم إعداد ترجمة المقال لطلاب الدورة <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">"مطور ويب في بيثون"</a> .</em>  <em>هل هو مثير للاهتمام لتطوير في هذا الاتجاه؟</em>  <em>اشترك في دورة "يوم الأبواب المفتوحة" وقم بالدردشة المباشرة مع المعلم: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">البث عبر الإنترنت</a> في 23 يوليو في الساعة 20:00 بتوقيت موسكو!</em> </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/x1/nu/oh/x1nuohrlyovyehryhkbaqf_wh1e.png"></p><br><p style=";text-align:right;direction:rtl">  عندما تمارس البرمجة في بيثون ، يجب أن تكون قد صادفت مفهومًا مثل الديكور.  إنها واحدة من أكثر الأدوات استخدامًا والأكثر استخدامًا في المكتبات والأطر الحديثة.  تعتبر الزخارف طريقة جيدة لتغليف العديد من تفاصيل التنفيذ ، تاركة واجهة بسيطة على السطح. </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  دعونا نلقي نظرة على مثال عن أداة تسجيل دخول بسيطة تتحقق من تسجيل دخول المستخدم قبل منحه الفرصة لتعديل النشرات.  ثم يعيد الديكور توجيه صفحة تسجيل الدخول أو التسجيل ، ثم بمساعدة المعلمات المضبوطة بشكل صحيح ترجع إلى نفس الصفحة بعد المصادقة الناجحة.  لاستخدام هذه الوظيفة ، تحتاج فقط إلى كتابةlogin_required قبل الوظيفة الهدف. </p><br><pre style=";text-align:right;direction:rtl"><code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">@login_required def edit_post(post_id): ...</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  من السهل جدًا استخدام أدوات الديكور ، لكن إنشاء أدوات تزيين ليست مهمة سهلة حتى بالنسبة لمبرمجي Python ذوي الخبرة.  في هذه المقالة ، سوف نلقي نظرة فاحصة على كيفية عمل الديكور في بيثون. </p><br><h3 id="funkcii" style=";text-align:right;direction:rtl">  وظائف </h3><br><p style=";text-align:right;direction:rtl">  تسمى <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الوظائف</a> أيضًا كائنات من الدرجة الأولى في بيثون.  الدوال هي نفس القيم مثل الأرقام والقوائم والسلاسل ، كما هو موضح في المثال التالي. </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> ... &gt;&gt;&gt; &gt;&gt;&gt; foo() <span class="hljs-number"><span class="hljs-number">1</span></span> &gt;&gt;&gt;</code> </pre> <br><p style=";text-align:right;direction:rtl">  وظائف لديها مساحة الاسم الخاصة بهم ، حيث يبحثون عن أسماء المتغيرات في المقام الأول عندما تحدث في نص وظيفة.  دعنا نكتب وظيفة بسيطة لفهم الفرق بين النطاق العالمي والمحلي. </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>&gt;&gt;&gt; a_string = <span class="hljs-string"><span class="hljs-string">"This is a global variable"</span></span> &gt;&gt;&gt; &gt;&gt;&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> ... print(locals()) ... &gt;&gt;&gt; &gt;&gt;&gt; print(globals()) {..., <span class="hljs-string"><span class="hljs-string">'a_string'</span></span>: <span class="hljs-string"><span class="hljs-string">'This is a global variable'</span></span>} &gt;&gt;&gt; &gt;&gt;&gt; foo() <span class="hljs-comment"><span class="hljs-comment"># 2 {} &gt;&gt;&gt;</span></span></code> </pre> <br><h3 id="oblast-vidimosti-funkcii-kak-peremennaya" style=";text-align:right;direction:rtl">  نطاق وظيفة كمتغير </h3><br><p style=";text-align:right;direction:rtl">  تقول قاعدة النطاق في Python أنه عند إنشاء متغير ، يتم دائمًا إنشاء متغير محلي جديد ، ولكن يتم تحديد الوصول إلى المتغير في النطاق المحلي عندما يبحث في جميع مناطق التطابق الأقرب لأسماء المتغيرات.  هذا لا يعني أننا لا نستطيع الوصول إلى المتغيرات العالمية من وظيفتنا.  لإخراج متغير عمومي ، نقوم بتغيير الدالة foo كما يلي: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>&gt;&gt;&gt; a_string = <span class="hljs-string"><span class="hljs-string">"This is a global variable"</span></span> &gt;&gt;&gt; &gt;&gt;&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> ... print(a_string) <span class="hljs-comment"><span class="hljs-comment">#1 ... &gt;&gt;&gt; &gt;&gt;&gt; foo() This is a global variable &gt;&gt;&gt;</span></span></code> </pre> <br><h3 id="vremya-zhizni-peremennoy" style=";text-align:right;direction:rtl">  متغير العمر </h3><br><p style=";text-align:right;direction:rtl">  لا تعيش المتغيرات فقط في مساحة الاسم ، ولكن لها أيضًا عمر افتراضي ، وهو أمر مهم يجب تذكره.  فكر في مثال يوضح ليس فقط قواعد النطاق والمشاكل التي يمكن أن تسببها ، ولكن أيضًا كيفية تفاعلها مع استدعاءات الوظائف وكيفية عملها في Python واللغات الأخرى. </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> ... x = <span class="hljs-number"><span class="hljs-number">1</span></span> ... &gt;&gt;&gt; foo() &gt;&gt;&gt; &gt;&gt;&gt; print(x) <span class="hljs-comment"><span class="hljs-comment"># 1 Traceback (most recent call last): ... NameError: name 'x' is not defined &gt;&gt;&gt;</span></span></code> </pre><br><h3 id="vlozhennye-funkcii" style=";text-align:right;direction:rtl">  وظائف متداخلة </h3><br><p style=";text-align:right;direction:rtl">  في Python ، يمكنك إنشاء وظائف متداخلة ، مما يعني أنه يمكننا إعلان وظائف ضمن وظائف ، ولا تزال جميع قواعد النطاق والعمر قابلة للتطبيق. </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>&gt;&gt;&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">outer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> ... x = <span class="hljs-number"><span class="hljs-number">1</span></span> ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">inner</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> ... print(x) <span class="hljs-comment"><span class="hljs-comment"># 1 ... inner() # 2 ... &gt;&gt;&gt; outer() 1 &gt;&gt;&gt;</span></span></code> </pre> <br><h3 id="dekoratory" style=";text-align:right;direction:rtl">  الديكور </h3><br><p style=";text-align:right;direction:rtl">  يُطلق على الإغلاق الذي يأخذ دالة كمعلمة ويعيد دالة اسم الديكور.  النظر في مثال من الديكور مفيدة. </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>&gt;&gt;&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">outer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(some_func)</span></span></span><span class="hljs-function">:</span></span> ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">inner</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> ... print(<span class="hljs-string"><span class="hljs-string">"before some_func"</span></span>) ... ret = some_func() <span class="hljs-comment"><span class="hljs-comment"># 1 ... return ret + 1 ... return inner ... &gt;&gt;&gt; def foo(): ... return 1 ... &gt;&gt;&gt; decorated = outer(foo) # 2 &gt;&gt;&gt; &gt;&gt;&gt; decorated() before some_func 2 &gt;&gt;&gt;</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  متغير مزخرف هو نسخة مزينة من فو.  في الواقع ، يمكننا استبدال foo بنسخته المزخرفة وعدم تعلم بناء الجملة الجديد ببساطة عن طريق إعادة تعيين المتغير الذي يحتوي على وظيفتنا: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>&gt;&gt;&gt; foo = outer(foo) &gt;&gt;&gt; &gt;&gt;&gt; foo <span class="hljs-comment"><span class="hljs-comment"># doctest: +ELLIPSIS &lt;function outer.&lt;locals&gt;.inner at 0x...&gt; &gt;&gt;&gt;</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  الآن لدينا ديكور جميل لتتبع المكالمات الدالة.  يمكن استخدام المصممين للعمل مع أي لغة برمجة باستخدام Python.  هذه أداة مفيدة للغاية ، ويجب فهم آلية العمل من أجل تطبيقها بشكل صحيح. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar460931/">https://habr.com/ru/post/ar460931/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar460913/index.html">جولة تصويرية لمتحف معهد الفيزياء والطاقة في أوبينسك</a></li>
<li><a href="../ar460915/index.html">نظام إدارة قواعد البيانات مريحة</a></li>
<li><a href="../ar460923/index.html">مهمة اختبار ياندكس</a></li>
<li><a href="../ar460925/index.html">لعبة على الانترنت مع الروبوتات RC الحقيقي في تشيرنوبيل. الجزء 2</a></li>
<li><a href="../ar460929/index.html">التقاء الأطلسي: قابل للتمدد في الثعبان</a></li>
<li><a href="../ar460933/index.html">أسبوع الأمن 30: الخصوصية والتكنولوجيا والمجتمع</a></li>
<li><a href="../ar460935/index.html">الشروع في العمل باستخدام محلل ثابت PVS-Studio لـ Visual C #</a></li>
<li><a href="../ar460939/index.html">Longrid على تاريخ التعدين الروسي وموقف المنظمين تجاهه</a></li>
<li><a href="../ar460941/index.html">حلول تجارية عبر البريد الإلكتروني: لا دفاع ضد الهجوم</a></li>
<li><a href="../ar460943/index.html">كيفية اختيار مفاتيح واعدة لكبار المسئولين الاقتصاديين على أساس سيناريو التنبؤ في Google Data Studio (قالب +)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>