<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∂üèΩ üòù üç∫ Est√°ndar WASI: Inicie WebAssembly m√°s all√° de la Web üëèüèæ üë©üèæ‚Äçü§ù‚Äçüë®üèª üë©üèΩ‚Äçüè≠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El 27 de marzo, en Mozilla, anunciamos la estandarizaci√≥n de WASI, la interfaz del sistema WebAssembly (interfaz del sistema WebAssembly). 

 Por qu√©:...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Est√°ndar WASI: Inicie WebAssembly m√°s all√° de la Web</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/446764/">  El 27 de marzo, en Mozilla, anunciamos la estandarizaci√≥n de WASI, la interfaz del sistema WebAssembly (interfaz del sistema WebAssembly). <br><br>  <b>Por qu√©: los</b> desarrolladores comenzaron a usar WebAssembly fuera del navegador, porque WASM proporciona una forma r√°pida, escalable y segura de ejecutar el mismo c√≥digo en todas las m√°quinas.  Pero todav√≠a no tenemos una base s√≥lida para tal desarrollo.  Fuera del navegador, necesita alguna forma de comunicarse con el sistema, es decir, la interfaz del sistema.  Pero la plataforma WebAssembly todav√≠a no lo tiene. <br><br>  <b>Qu√©:</b> WebAssembly es un ensamblador para una m√°quina conceptual m√°s que f√≠sica.  Funciona en varias arquitecturas y, por lo tanto, la interfaz del sistema es necesaria para que un SO conceptual funcione en diferentes sistemas operativos. <br><br>  Esto es lo que es WASI: es una interfaz de sistema para la plataforma WebAssembly. <br><a name="habracut"></a><br>  Nos esforzamos por crear una interfaz de sistema que se convierta en un verdadero compa√±ero para WebAssembly con la m√°xima portabilidad y seguridad. <br><br>  <b>Qui√©n:</b> Como parte del equipo de desarrollo de WebAssembly, organizamos un subgrupo que se estandarizar√° en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">WASI</a> .  Ya hemos reunido socios interesados ‚Äã‚Äãy estamos buscando nuevos. <br><br>  Aqu√≠ hay algunas razones por las cuales nosotros, nuestros socios y seguidores consideramos esto importante: <br><br>  <b>Sean White, Director de I + D de Mozilla:</b> <br><blockquote>  "WebAssembly ya est√° cambiando la forma en que las personas entregan nuevos tipos de contenido atractivo. Ayuda a los desarrolladores y creadores de contenido.  Hasta ahora, todo ha funcionado a trav√©s de navegadores, pero con WASI, m√°s usuarios y m√°s dispositivos en diferentes lugares se beneficiar√°n de WebAssembly ". </blockquote><br>  <b>Tyler McMullen, CTO r√°pidamente:</b> <br><blockquote>  ‚ÄúVemos WebAssembly como una plataforma para ejecutar c√≥digo de forma r√°pida y segura en una nube perimetral.  A pesar de los diferentes entornos (borde y navegadores), gracias a WASI, no tiene que portar el c√≥digo a cada plataforma ". </blockquote><br>  <b>Miles Borins, CTO del Comit√© Directivo del Nodo:</b> <br><blockquote>  ‚ÄúWebAssembly puede resolver uno de los mayores problemas de Node: c√≥mo lograr una velocidad casi nativa y reutilizar el c√≥digo escrito en otros lenguajes como C y C ++, manteniendo la portabilidad y la seguridad.  La estandarizaci√≥n de WASI es el primer paso hacia esto ‚Äù. </blockquote><br>  <b>Lori Voss, cofundadora de npm:</b> <br><blockquote>  ‚ÄúNpm est√° extremadamente entusiasmado con el potencial WebAssembly para el ecosistema npm, ya que hace que sea mucho m√°s f√°cil que el c√≥digo nativo se ejecute en aplicaciones JavaScript del lado del servidor.  Esperamos los resultados de este proceso ". </blockquote><br>  ¬°Entonces este es un gran evento! <br><br>  Actualmente hay tres implementaciones de WASI: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">wasmtime</a> , tiempo de ejecuci√≥n de Mozilla WebAssembly <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Lucet</a> , Fastly WebAssembly runtime <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">navegador polyfill</a> </li></ul><br>  Demostraci√≥n de WASI en acci√≥n: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/ggtEJC0Jv8A" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  A continuaci√≥n, hablaremos sobre la propuesta de Mozilla sobre c√≥mo deber√≠a funcionar esta interfaz del sistema. <br><br><h1>  ¬øQu√© es una interfaz del sistema? </h1><br>  Muchos dicen que lenguajes como C proporcionan acceso directo a los recursos del sistema.  Pero esto no es del todo cierto.  En la mayor√≠a de los sistemas, estos idiomas no tienen acceso directo a cosas como abrir o crear archivos.  Por que no <br><br>  Debido a que estos recursos del sistema (archivos, memoria y conexiones de red) son demasiado importantes para la estabilidad y la seguridad. <br><br>  Si un programa arruina accidentalmente los recursos de otro, puede causar un bloqueo.  Peor a√∫n, si un programa (o un usuario) invade espec√≠ficamente los recursos de otras personas, puede robar datos confidenciales. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5a5/18d/7df/5a518d7df32af2b475047a1fc7c73958.png"><br><br>  Por lo tanto, necesita una forma de controlar qu√© programas y usuarios pueden acceder a los recursos.  Durante mucho tiempo, los desarrolladores de sistemas idearon una forma de proporcionar dicho control: anillos de protecci√≥n. <br><br>  Con anillos de protecci√≥n, el SO esencialmente establece una barrera protectora alrededor de los recursos del sistema.  Este es el n√∫cleo.  Solo puede realizar operaciones como crear un archivo, abrir un archivo o abrir una conexi√≥n de red. <br><br>  Los programas de usuario se ejecutan fuera del n√∫cleo en lo que se llama espacio de usuario.  Si el programa quiere abrir el archivo, debe solicitar el n√∫cleo. <br><br> <a href=""><img src="https://habrastorage.org/webt/1x/6e/vi/1x6evigsjy_wlsk1dk5gei1r5ky.png"></a> <br><br>  Aqu√≠ es donde surge el concepto de una llamada al sistema.  Cuando un programa necesita pedirle alguna operaci√≥n al kernel, env√≠a una llamada al sistema.  El kernel verifica al usuario que se contacta y ve si tiene permiso para acceder a este archivo. <br><br>  En la mayor√≠a de los dispositivos, la √∫nica forma de acceder a los recursos del sistema es a trav√©s de llamadas del sistema. <br><br> <a href=""><img src="https://habrastorage.org/webt/td/1s/e7/td1se7jsbqiagsgy6nid_csyick.png"></a> <br><br>  El sistema operativo proporciona acceso a las llamadas del sistema.  Pero si cada sistema operativo tiene sus propias llamadas al sistema, ¬øno necesitan escribir diferentes versiones del c√≥digo?  Afortunadamente no.  El problema se resuelve usando la abstracci√≥n. <br><br>  La mayor√≠a de los idiomas tienen una biblioteca est√°ndar.  Al codificar, el programador no necesita saber para qu√© sistema escribe.  Solo usa la interfaz.  Luego, al compilar, su cadena de herramientas elige qu√© implementaci√≥n de interfaz usar para qu√© sistema.  Esta implementaci√≥n utiliza funciones de la API del sistema operativo, por lo que es espec√≠fica para ella. <br><br>  Aqu√≠ es donde aparece el concepto de una interfaz de sistema.  Por ejemplo, si compila <code>printf</code> para una m√°quina con Windows, utilizar√° la API de Windows.  Si se compila para Mac o Linux, usa POSIX. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/587/cdc/5c0/587cdc5c03ff566a88a9794dc314fa72.png"><br><br>  Sin embargo, esto plantea un problema para WebAssembly.  Aqu√≠ no sabemos para qu√© sistema operativo optimizar el programa incluso durante la compilaci√≥n.  Por lo tanto, no puede usar la interfaz del sistema de ning√∫n sistema operativo dentro de la implementaci√≥n de la biblioteca est√°ndar en WebAssembly. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/443/c36/730/443c3673072b36942ff28f1992ad2095.png"></a> <br><br>  Ya he dicho que WebAssembly es un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ensamblador para una m√°quina conceptual</a> , no una m√°quina real.  Del mismo modo, WebAssembly necesita una interfaz de sistema para un sistema operativo conceptual en lugar de real. <br><br>  Pero ya hay tiempos de ejecuci√≥n que pueden ejecutar WebAssembly fuera del navegador, incluso sin esta interfaz del sistema.  Como lo hacen  A ver <br><br><h1>  ¬øC√≥mo funciona WebAssembly ahora fuera del navegador? </h1><br>  La primera herramienta para generar c√≥digo WebAssembly fue Emscripten.  Emula en la web una interfaz espec√≠fica del sistema operativo: POSIX.  Esto significa que el programador puede usar las funciones de la biblioteca est√°ndar de C (libc). <br><br>  Para esto, Emscripten usa su propia implementaci√≥n de libc.  Se divide en dos partes: la primera se compila en un m√≥dulo WebAssembly y la otra se implementa en c√≥digo JS-glue.  Este pegamento JS env√≠a llamadas al navegador que est√° hablando con el sistema operativo. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/971/a59/857/971a59857adc62742dde95b413cc613a.png"><br><br>  La mayor parte del c√≥digo inicial de WebAssembly se compila con Emscripten.  Por lo tanto, cuando las personas comenzaron a querer ejecutar WebAssembly sin un navegador, comenzaron a ejecutar el c√≥digo Emscripten. <br><br>  Entonces, en estos tiempos de ejecuci√≥n, debe crear sus propias implementaciones para todas las funciones que estaban en el c√≥digo JS-glue. <br><br>  Pero hay un problema.  La interfaz proporcionada por el c√≥digo de pegamento JS no se ha dise√±ado como una interfaz est√°ndar o incluso p√∫blica.  Por ejemplo, para llamar como <code>read</code> en la API normal, el c√≥digo de pegamento JS usa la <code>_system3(which, varargs)</code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/52e/2de/7a8/52e2de7a84456993baeb32b1852c8da5.png"><br><br>  El primer par√°metro <code>which</code> es un n√∫mero entero que siempre coincide con el n√∫mero en el nombre (en nuestro caso 3). <br><br>  El segundo par√°metro, <code>varargs</code> enumera los argumentos.  Se llama <code>varargs</code> porque podemos tener un n√∫mero diferente de argumentos.  Pero WebAssembly no permite pasar un n√∫mero variable de argumentos a una funci√≥n.  Por lo tanto, se transmiten a trav√©s de la memoria lineal, que es insegura y m√°s lenta que a trav√©s de registros. <br><br>  Para Emscripten en el navegador, esto es normal.  Pero ahora los tiempos de ejecuci√≥n ven esto como un est√°ndar de facto, implementando sus propias versiones de pegamento JS.  Emulan los detalles internos de la capa de emulaci√≥n POSIX. <br><br>  Esto significa que vuelven a implementar el c√≥digo (por ejemplo, pasan argumentos como valores de almacenamiento din√°mico), lo que tiene sentido dadas las restricciones de Emscripten, pero no existen tales restricciones en estos entornos de tiempo de ejecuci√≥n. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/e31/181/541/e31181541c0b666d54e43d5c10756088.png"></a> <br><br>  Si hemos estado construyendo el ecosistema de WebAssembly en las pr√≥ximas d√©cadas, necesita una base s√≥lida, no muletas.  Esto significa que nuestro est√°ndar real no puede ser la emulaci√≥n de emulaci√≥n. <br><br>  Pero, ¬øqu√© principios se aplican en este caso? <br><br><h1>  ¬øA qu√© principios debe adherirse la interfaz del sistema WebAssembly? </h1><br>  Dos principios fundamentales de WebAssembly: <br><br><ul><li>  portabilidad <br></li><li>  seguridad </li></ul><br>  Vamos m√°s all√° del navegador, pero conservamos estos principios clave. <br><br>  Sin embargo, el enfoque POSIX y el sistema de control de acceso Unix no nos dan el resultado deseado.  Veamos cu√°l es el problema. <br><br><h3>  Portabilidad </h3><br>  POSIX proporciona portabilidad del c√≥digo fuente.  Puede compilar el mismo c√≥digo fuente con diferentes versiones de libc para diferentes computadoras. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/255/eb7/51f/255eb751f342075453a6a30ea9f5bd98.png"></a> <br><br>  Pero WebAssembly debe ir m√°s all√° de eso.  Necesitamos compilar una vez para ejecutar en un mont√≥n de sistemas diferentes.  Necesitamos binarios port√°tiles. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/07e/06d/94c/07e06d94c4aca3ab4f5599c0c9ac3e10.png"></a> <br><br>  Esto simplifica la distribuci√≥n del c√≥digo. <br><br>  Por ejemplo, si los m√≥dulos de nodo nativos est√°n escritos en WebAssembly, los usuarios no necesitan ejecutar node-gyp al instalar aplicaciones con m√≥dulos nativos, y los desarrolladores no necesitan configurar y distribuir docenas de archivos binarios. <br><br><h3>  Seguridad </h3><br>  Cuando el c√≥digo le pide al sistema operativo que realice entradas o salidas, el sistema operativo debe evaluar la seguridad de esta operaci√≥n, generalmente utilizando un sistema de control de acceso basado en la propiedad y los grupos. <br><br>  Por ejemplo, un programa solicita abrir un archivo.  El usuario tiene un conjunto espec√≠fico de archivos a los que tiene acceso. <br><br>  Cuando un usuario inicia un programa, el programa se inicia en nombre de ese usuario.  Si el usuario tiene acceso al archivo, ya sea que es su propietario o es parte de un grupo que tiene acceso al archivo, entonces el programa tiene el mismo acceso. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/d93/8b9/b2a/d938b9b2af13c33b21ab11057331c413.png"></a> <br><br>  Esto protege a los usuarios unos de otros, lo que ten√≠a sentido en los viejos tiempos, cuando mucha gente trabajaba en una computadora y los administradores controlaban el software.  Entonces, la principal amenaza era que otros usuarios miraran sus archivos. <br><br>  Todo ha cambiado  Actualmente, los sistemas suelen ser de un solo usuario, pero utilizan c√≥digos de terceros de confiabilidad desconocida.  Ahora la principal amenaza proviene del c√≥digo que ejecuta usted mismo. <br><br>  Por ejemplo, para la biblioteca de su aplicaci√≥n, se ha iniciado un nuevo responsable de mantenimiento (como suele ser el caso en c√≥digo abierto).  Puede ser un activista sincero ... o un intruso.  Y si tiene acceso a su sistema, por ejemplo, la capacidad de abrir cualquier archivo y enviarlo a trav√©s de la red, entonces este c√≥digo puede causar un gran da√±o. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/948/478/dc2/948478dc22fbebc0db26d763782be7a0.png"></a> <br>  <i><font color="gray"><b>Aplicaci√≥n sospechosa</b> : trabajo para el usuario Bob.</font></i>  <i><font color="gray">¬øPuedo abrir su billetera Bitcoin?</font></i> <i><font color="gray"><br></font></i>  <i><font color="gray"><b>N√∫cleo</b> : ¬øPara Bob?</font></i>  <i><font color="gray">Por supuesto!</font></i> <i><font color="gray"><br></font></i>  <i><font color="gray"><b>Aplicaci√≥n sospechosa</b> : ¬°Genial!</font></i>  <i><font color="gray">¬øQu√© pasa con la conectividad de red?</font></i> <br><br>  Es por eso que usar bibliotecas de terceros es peligroso.  WebAssembly proporciona seguridad de una manera diferente, a trav√©s del entorno limitado.  Aqu√≠, el c√≥digo no puede hablar directamente con el sistema operativo.  Pero entonces, ¬øc√≥mo acceder a los recursos del sistema?  Las funciones de sandbox de host (el navegador o el tiempo de ejecuci√≥n de wasm) que el c√≥digo puede usar. <br><br>  Esto significa que el host limita program√°ticamente la funcionalidad del programa, no permiti√©ndole simplemente actuar en nombre del usuario, provocando cualquier llamada al sistema con todos los derechos del usuario. <br><br>  Tener un sandbox en s√≠ mismo no hace que el sistema sea seguro: el host a√∫n puede transferir la funcionalidad completa al sandbox, en cuyo caso no proporciona ninguna protecci√≥n.  Pero el entorno limitado ofrece al menos una oportunidad te√≥rica para que los hosts creen un sistema m√°s seguro. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/68f/bdc/2d7/68fbdc2d7bf44565e5923226bc2a9004.png"></a> <br>  <i><font color="gray"><b>WA</b> : Por favor, aqu√≠ hay algunos juguetes seguros para interactuar con el sistema operativo (safe_write, safe_read).</font></i> <i><font color="gray"><br></font></i>  <i><font color="gray"><b>Aplicaci√≥n sospechosa</b> : Oh, maldici√≥n ... ¬ød√≥nde est√° mi acceso a la red?</font></i> <br><br>  En cualquier interfaz del sistema, debe cumplir con estos dos principios.  La portabilidad facilita el desarrollo y la distribuci√≥n de software, y las herramientas para proteger al host y los usuarios son absolutamente necesarias. <br><br><h1>  ¬øC√≥mo deber√≠a ser esa interfaz de sistema? </h1><br>  Dados estos dos principios clave, ¬øcu√°l deber√≠a ser la interfaz del sistema WebAssembly? <br><br>  Esto lo descubriremos en el proceso de estandarizaci√≥n.  Sin embargo, tenemos una sugerencia para empezar: <br><br><ul><li>  Crear un conjunto modular de interfaces est√°ndar <br></li><li>  Comencemos estandarizando el m√≥dulo central wasi-core. </li></ul><br><br><img src="https://habrastorage.org/getpro/habr/post_images/2e1/597/a99/2e1597a9959ff7666a3e77db9d63f12d.png"><br><br>  ¬øQu√© habr√° en wasi-core?  Estos son los elementos b√°sicos que necesitan todos los programas.  El m√≥dulo cubrir√° la mayor parte de la funcionalidad POSIX, incluidos archivos, conexiones de red, relojes y n√∫meros aleatorios. <br><br>  Gran parte de la funcionalidad b√°sica requerir√° un enfoque muy similar.  Por ejemplo, se proporciona un enfoque orientado a archivos POSIX con llamadas abiertas, cerradas, le√≠das y escritas al sistema, y ‚Äã‚Äãtodo lo dem√°s son complementos de arriba. <br><br>  Pero wasi-core no cubre toda la funcionalidad POSIX.  Por ejemplo, el concepto de un proceso no encaja claramente en WebAssembly.  Adem√°s, est√° claro que cada motor de WebAssembly debe admitir operaciones de proceso como <code>fork</code> .  Pero tambi√©n queremos hacer posible la estandarizaci√≥n de la <code>fork</code> . <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/9c9/771/11a/9c977111a2def0f6ae4d5b93b1592d91.png"></a> <br><br>  Idiomas como Rust usar√°n wasi-core directamente en sus bibliotecas est√°ndar.  Por ejemplo, <code>open</code> from Rust se implementa al compilar en WebAssembly llamando a <code>__wasi_path_open</code> . <br><br>  Para C y C ++, creamos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">wasi-sysroot</a> , que implementa libc en t√©rminos de funciones wasi-core. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/878/2a0/fa2/8782a0fa23e8d4890cb1964c896db84c.png"></a> <br><br>  Esperamos que compiladores como Clang puedan interactuar con la API de WASI, y cadenas de herramientas completas como el compilador Rust y Emscripten usar√°n WASI como parte de sus implementaciones de sistema. <br><br>  ¬øC√≥mo invoca el c√≥digo personalizado estas funciones WASI? <br><br>  El tiempo de ejecuci√≥n en el que se ejecuta el c√≥digo pasa la funci√≥n wasi-core, colocando el objeto en la caja de arena. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/371/e44/995/371e44995aa3c88a2c1886ceb27fab19.png"></a> <br><br>  Esto proporciona portabilidad, porque cada host puede tener su propia implementaci√≥n wasi-core espec√≠ficamente para su plataforma: desde tiempos de ejecuci√≥n de WebAssembly como Mozilla Wasmtime y Fastly Lucet, hasta Node o incluso un navegador. <br><br>  Tambi√©n proporciona un aislamiento confiable, porque el host selecciona en funci√≥n del software qu√© funciones wasi-core se transferir√°n al entorno limitado, es decir, qu√© llamadas al sistema deber√≠a permitir.  Esto es seguridad. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/e0a/3a6/28b/e0a3a628b861e321db36d64a647bdfd7.png"></a> <br><br>  WASI mejora y extiende la seguridad al introducir un concepto de seguridad basado en autorizaciones en el sistema. <br><br>  Por lo general, si el c√≥digo necesita abrir el archivo, se <code>open</code> con el nombre de la ruta en la l√≠nea.  Luego, el sistema operativo comprueba si el c√≥digo tiene derecho a dicha acci√≥n (en funci√≥n de los derechos del usuario que inici√≥ el programa). <br><br>  En el caso de WASI, al llamar a una funci√≥n para acceder a un archivo, debe pasar un descriptor de archivo al que se adjuntan los permisos para el archivo en s√≠ o para el directorio que contiene el archivo. <br><br>  Por lo tanto, no puede tener c√≥digo que accidentalmente le pida que abra <code>/etc/passwd</code> .  En cambio, el c√≥digo solo puede funcionar con sus propios directorios. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/92f/b27/cb0/92fb27cb09092b74fd1ba46d661867c4.png"></a> <br><br>  Esto permite que varias llamadas del sistema se resuelvan de forma segura en el c√≥digo aislado porque las capacidades de estas llamadas del sistema son limitadas. <br><br>  Y as√≠ en cada m√≥dulo.  Por defecto, el m√≥dulo no tiene acceso a los descriptores de archivo.  Pero si el c√≥digo en un m√≥dulo tiene un descriptor de archivo, puede pasarlo a funciones llamadas en otros m√≥dulos.  O cree versiones m√°s limitadas del descriptor de archivo para pasar a otras funciones. <br><br>  Por lo tanto, el tiempo de ejecuci√≥n pasa los descriptores de archivos que la aplicaci√≥n puede usar en el c√≥digo de nivel superior, y luego los descriptores de archivos se distribuyen en el resto del sistema seg√∫n sea necesario. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/d80/cb2/f63/d80cb2f63dd1cfa855fc096f36e96ba1.png"></a> <br><br>  Esto acerca a WebAssembly al principio del m√≠nimo privilegio, donde el m√≥dulo solo obtiene acceso al conjunto m√≠nimo de recursos necesarios para hacer su trabajo. <br><br>  Este concepto se basa en la seguridad basada en privilegios, como en CloudABI y Capsicum.  Uno de los problemas con estos sistemas es la dif√≠cil portabilidad del c√≥digo.  Pero creemos que este problema puede resolverse. <br><br>  Si el c√≥digo ya usa <code>openat</code> con rutas de archivo relativas, compilar el c√≥digo simplemente funcionar√°. <br><br>  Si el c√≥digo usa la migraci√≥n <code>open</code> y de estilo <code>open</code> es demasiado dr√°stica, WASI proporcionar√° una soluci√≥n incremental.  Con <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">libpreopen,</a> crea una lista de rutas de archivos a las que la aplicaci√≥n tiene acceso legal.  Luego use <code>open</code> , pero solo con estos caminos. <br><br><h1>  Que sigue </h1><br>  Creemos que wasi-core es un buen comienzo.  Conserva la portabilidad y seguridad de WebAssembly, proporcionando una base s√≥lida para el ecosistema. <br><br>  Pero despu√©s de la estandarizaci√≥n completa de wasi-core, se deben resolver otros problemas, que incluyen: <br><br><ul><li>  entrada-salida as√≠ncrona <br></li><li>  monitoreo de archivos <br></li><li>  bloqueo de archivo </li></ul><br>  Esto es solo el comienzo, as√≠ que si tienes alguna idea, ¬° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">participa</a> ! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/446764/">https://habr.com/ru/post/446764/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../446752/index.html">Servicios de rastreo, OpenTracing y Jaeger</a></li>
<li><a href="../446754/index.html">Futuro de la nube</a></li>
<li><a href="../446756/index.html">Armas para VR - [TUTORIAL DE FUSIL DE FERROCARRIL]</a></li>
<li><a href="../446760/index.html">Temas en 3D Expo 2019: Impresi√≥n 3D en metal, Anton Sotov, Universidad de Samara</a></li>
<li><a href="../446762/index.html">6. Check Point Getting Started R80.20. Comenzando en SmartConsole</a></li>
<li><a href="../446768/index.html">Escritura nominal en TypeScript o c√≥mo proteger su interfaz de identificadores alien√≠genas</a></li>
<li><a href="../446770/index.html">12 trucos JavaScript no encontrados en la mayor√≠a de los tutoriales</a></li>
<li><a href="../446772/index.html">No abra puertos al mundo: lo romper√°n (riesgos)</a></li>
<li><a href="../446774/index.html">Dise√±o de personajes de baja poli</a></li>
<li><a href="../446776/index.html">Prueba de trabajo efectiva</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>