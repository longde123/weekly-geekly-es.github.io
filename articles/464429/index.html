<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíáüèΩ ü§¥üèª üïç Los 10 errores m√°s comunes al trabajar con la plataforma Spring. Parte 1 üñáÔ∏è üë©üèª‚Äçüîß üëÑ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola a todos Hoy compartimos la primera parte del art√≠culo, cuya traducci√≥n fue preparada espec√≠ficamente para estudiantes del curso "Desarrollador en...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Los 10 errores m√°s comunes al trabajar con la plataforma Spring. Parte 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/464429/">  <i>Hola a todos</i>  <i>Hoy compartimos la primera parte del art√≠culo, cuya traducci√≥n fue preparada espec√≠ficamente para estudiantes del curso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"Desarrollador en el Marco de Primavera"</a> .</i>  <i>¬°Empecemos!</i> <br><br><img src="https://habrastorage.org/webt/sp/gg/np/spggnpu1e19b9c_yb66nbynmbqq.png"><br><br><hr><br>  Spring es quiz√°s una de las plataformas de desarrollo de Java m√°s populares.  Esta es una herramienta poderosa, pero bastante dif√≠cil de aprender.  Sus conceptos b√°sicos son bastante f√°ciles de entender y aprender, pero lleva tiempo y esfuerzo convertirse en un desarrollador experimentado de Spring. <br><br>  En este art√≠culo, veremos algunos de los errores m√°s comunes cometidos al trabajar en Spring y, en particular, relacionados con el desarrollo de aplicaciones web y el uso de la plataforma Spring Boot.  Como se se√±al√≥ en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el sitio web de Spring Boot</a> , Spring Boot adopta un enfoque <i>estandarizado</i> para crear aplicaciones listas para usar, y este art√≠culo seguir√° este enfoque.  Dar√° una serie de recomendaciones que se pueden utilizar de manera efectiva en el desarrollo de aplicaciones web est√°ndar basadas en Spring Boot. <a name="habracut"></a><br><br>  En caso de que no est√© muy familiarizado con la plataforma Spring Boot, pero quiera experimentar con los ejemplos de este art√≠culo, cre√© un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">repositorio de GitHub con materiales adicionales para este art√≠culo</a> .  Si en alg√∫n momento est√° un poco confundido mientras lee este art√≠culo, le aconsejar√≠a que cree un clon de este repositorio y experimente con el c√≥digo en su computadora. <br><br><h2>  Error com√∫n n. ¬∞ 1: ir a una programaci√≥n de nivel demasiado bajo </h2><br>  Sucumbimos f√°cilmente a este error com√∫n, porque el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"s√≠ndrome de rechazo del desarrollo de otro" es</a> bastante t√≠pico para el entorno de programaci√≥n.  Uno de sus s√≠ntomas es la reescritura constante de piezas de c√≥digo de uso com√∫n, y este es un s√≠ntoma visto por muchos programadores. <br>  Estudiar la estructura interna y las caracter√≠sticas de implementaci√≥n de una biblioteca en particular a menudo es un proceso √∫til, necesario e interesante, pero si constantemente escribe el mismo tipo de c√≥digo mientras realiza una implementaci√≥n de funciones de bajo nivel, esto puede resultar perjudicial para usted como desarrollador de software.  Es por eso que existen y se utilizan abstracciones y plataformas como Spring, que te salvan del trabajo manual repetitivo y te permiten concentrarte en objetos de tu √°rea tem√°tica y programar la l√≥gica del c√≥digo en un nivel superior. <br><br>  Por lo tanto, no se deben evitar las abstracciones.  La pr√≥xima vez que se enfrente a la necesidad de resolver un problema espec√≠fico, primero realice una b√∫squeda r√°pida y descubra si la biblioteca que resuelve este problema ya est√° integrada en Spring; es probable que encuentre una soluci√≥n llave en mano adecuada.  Una de estas bibliotecas √∫tiles es el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Proyecto Lombok</a> , las anotaciones de las que usar√© en los ejemplos de este art√≠culo.  Lombok se utiliza como un generador de c√≥digo de plantilla, por lo que el desarrollador perezoso que vive en cada uno de nosotros estar√° muy feliz de conocer esta biblioteca.  Vea, por ejemplo, c√≥mo se ve el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">componente est√°ndar JavaBean</a> en Lombok: <br><br><pre><code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Getter</span></span> <span class="hljs-meta"><span class="hljs-meta">@Setter</span></span> <span class="hljs-meta"><span class="hljs-meta">@NoArgsConstructor</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bean</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Serializable</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> firstBeanProperty; String secondBeanProperty; }</code> </pre> <br>  Como ya habr√° entendido, el c√≥digo anterior se convierte al siguiente formulario: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bean</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Serializable</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> firstBeanProperty; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String secondBeanProperty; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getFirstBeanProperty</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.firstBeanProperty; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getSecondBeanProperty</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.secondBeanProperty; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setFirstBeanProperty</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> firstBeanProperty)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.firstBeanProperty = firstBeanProperty; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setSecondBeanProperty</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String secondBeanProperty)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.secondBeanProperty = secondBeanProperty; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Bean</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ } }</code> </pre> <br>  Tenga en cuenta que lo m√°s probable es que tenga que instalar el complemento apropiado si desea utilizar Lombok en su entorno de desarrollo integrado.  La versi√≥n de este complemento para IntelliJ IDEA se puede encontrar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br><h2>  Error com√∫n n√∫mero 2. "Fuga" de estructuras internas </h2><br>  Dar acceso a estructuras internas nunca ha sido una buena idea, ya que perjudica la flexibilidad del modelo de servicio y, como resultado, contribuye a la formaci√≥n de un mal estilo de programaci√≥n.  La "fuga" de las estructuras internas se manifiesta en el hecho de que la estructura de la base de datos se vuelve accesible desde ciertos puntos finales API.  Por ejemplo, suponga que el siguiente "buen objeto Java antiguo" (POJO) representa una tabla en su base de datos: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Entity</span></span> <span class="hljs-meta"><span class="hljs-meta">@NoArgsConstructor</span></span> <span class="hljs-meta"><span class="hljs-meta">@Getter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TopTalentEntity</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Id</span></span> <span class="hljs-meta"><span class="hljs-meta">@GeneratedValue</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Integer id; <span class="hljs-meta"><span class="hljs-meta">@Column</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String name; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TopTalentEntity</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String name)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = name; } }</code> </pre> <br>  Suponga que hay un punto final que necesita acceder a los datos de un objeto <code>TopTalentEntity</code> .  <code>TopTalentEntity</code> instancias de <code>TopTalentEntity</code> parece una idea tentadora, pero una soluci√≥n m√°s flexible ser√≠a crear una nueva clase que represente los datos de TopTalentEntity para el punto final de la API: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@AllArgsConstructor</span></span> <span class="hljs-meta"><span class="hljs-meta">@NoArgsConstructor</span></span> <span class="hljs-meta"><span class="hljs-meta">@Getter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TopTalentData</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String name; }</code> </pre> <br>  Por lo tanto, realizar cambios en los componentes internos de la base de datos no requerir√° cambios adicionales en el nivel de servicio.  Veamos qu√© sucede si el campo de contrase√±a se agrega a la clase <code>TopTalentEntity</code> para almacenar hashes de contrase√±a de usuario en la base de datos: si no hay un conector, como <code>TopTalentData</code> , y el desarrollador olvida cambiar la parte de interfaz del servicio, ¬°esto puede conducir a una divulgaci√≥n no deseada de informaci√≥n secreta! <br><br><h2>  Error com√∫n n√∫mero 3. Combinar funciones que ser√≠a mejor distribuir en el c√≥digo </h2><br>  Organizar el c√≥digo de la aplicaci√≥n a medida que crece se convierte en una tarea cada vez m√°s importante.  Por extra√±o que parezca, la mayor√≠a de los principios de programaci√≥n efectiva dejan de funcionar cuando se alcanza una cierta escala de desarrollo, especialmente si la arquitectura de la aplicaci√≥n no ha sido bien pensada.  Y uno de los errores m√°s frecuentes es la combinaci√≥n de funciones en el c√≥digo que son m√°s razonables de implementar por separado. <br><br>  La raz√≥n de la violaci√≥n del principio de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">separaci√≥n de responsabilidades suele</a> ser la adici√≥n de nuevas funcionalidades a las clases existentes.  Quiz√°s esta sea una buena soluci√≥n moment√°nea (en particular, requiere escribir una cantidad menor de c√≥digo), pero en el futuro inevitablemente se convertir√° en un problema, incluso en las etapas de prueba y mantenimiento del c√≥digo y entre ellos.  Considere el siguiente controlador que devuelve <code>TopTalentData</code> desde el repositorio: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@RestController</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TopTalentController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> TopTalentRepository topTalentRepository; <span class="hljs-meta"><span class="hljs-meta">@RequestMapping</span></span>(<span class="hljs-string"><span class="hljs-string">"/toptal/get"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> List&lt;TopTalentData&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getTopTalent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> topTalentRepository.findAll() .stream() .map(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>::entityToData) .collect(Collectors.toList()); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> TopTalentData </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">entityToData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(TopTalentEntity topTalentEntity)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TopTalentData(topTalentEntity.getName()); } }</code> </pre> <br>  A primera vista, parece que no hay errores obvios en este fragmento de c√≥digo.  Proporciona una lista de objetos <code>TopTalentData</code> , que se toma de instancias de la clase <code>TopTalentEntity</code> .  Pero si observa el c√≥digo m√°s de cerca, veremos que en realidad <code>TopTalentController</code> realiza varias acciones aqu√≠, a saber, correlaciona las solicitudes con un punto final espec√≠fico, recupera datos del repositorio y convierte los objetos recibidos de <code>TopTalentRepository</code> en un formato diferente.  Una soluci√≥n m√°s limpia deber√≠a separar estas funciones en clases separadas.  Por ejemplo, podr√≠a verse as√≠: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@RestController</span></span> <span class="hljs-meta"><span class="hljs-meta">@RequestMapping</span></span>(<span class="hljs-string"><span class="hljs-string">"/toptal"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@AllArgsConstructor</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TopTalentController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> TopTalentService topTalentService; <span class="hljs-meta"><span class="hljs-meta">@RequestMapping</span></span>(<span class="hljs-string"><span class="hljs-string">"/get"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> List&lt;TopTalentData&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getTopTalent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> topTalentService.getTopTalent(); } } <span class="hljs-meta"><span class="hljs-meta">@AllArgsConstructor</span></span> <span class="hljs-meta"><span class="hljs-meta">@Service</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TopTalentService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> TopTalentRepository topTalentRepository; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> TopTalentEntityConverter topTalentEntityConverter; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> List&lt;TopTalentData&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getTopTalent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> topTalentRepository.findAll() .stream() .map(topTalentEntityConverter::toResponse) .collect(Collectors.toList()); } } <span class="hljs-meta"><span class="hljs-meta">@Component</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TopTalentEntityConverter</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> TopTalentData </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toResponse</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(TopTalentEntity topTalentEntity)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TopTalentData(topTalentEntity.getName()); } }</code> </pre> <br>  Una ventaja adicional de esta jerarqu√≠a es que nos permite comprender d√≥nde se encuentra una funci√≥n simplemente mirando el nombre de la clase.  Posteriormente, durante las pruebas, podemos reemplazar f√°cilmente el c√≥digo de cualquiera de estas clases con c√≥digo sustituto, si surge la necesidad. <br><br><h2>  N√∫mero de error com√∫n 4. C√≥digo uniforme y manejo de errores deficiente </h2><br>  El tema de la uniformidad del c√≥digo no es exclusivo de Spring (o de Java en general), pero, sin embargo, es un aspecto importante que debe considerarse al trabajar con proyectos en Spring.  Elegir un estilo de programaci√≥n espec√≠fico puede ser un tema de discusi√≥n (y generalmente es consistente dentro del equipo de desarrollo o en toda la empresa), pero en cualquier caso, la presencia de un est√°ndar com√∫n para escribir c√≥digo contribuye a un aumento en la eficiencia del trabajo.  Esto es especialmente cierto si varias personas trabajan en el c√≥digo.  El c√≥digo uniforme se puede pasar de un desarrollador a otro sin gastar mucho esfuerzo para mantenerlo o largas explicaciones sobre por qu√© se necesitan estas o esas clases. <br><br>  Imagine que hay un proyecto Spring en el que hay varios archivos de configuraci√≥n, servicios y controladores.  Despu√©s de la uniformidad sem√°ntica al nombrarlos, creamos una estructura mediante la cual puede buscar f√°cilmente y en la que cualquier desarrollador puede comprender f√°cilmente el c√≥digo.  Por ejemplo, puede agregar el sufijo de configuraci√≥n a los nombres de las clases de configuraci√≥n, el sufijo de servicio a los nombres de servicio y el sufijo de controlador a los nombres de controlador. <br><br>  El manejo de errores del lado del servidor est√° estrechamente relacionado con la uniformidad del c√≥digo y merece especial atenci√≥n.  Si alguna vez ha manejado excepciones provenientes de una API mal escrita, probablemente sepa lo dif√≠cil que es entender el significado de estas excepciones correctamente, y a√∫n m√°s dif√≠cil determinar por qu√© realmente ocurrieron. <br>  Como desarrollador de API, idealmente le gustar√≠a cubrir todos los puntos finales con los que el usuario est√° trabajando y llevarlos a usar un √∫nico formato de mensaje de error.  Por lo general, esto significa que debe usar c√≥digos de error est√°ndar y su descripci√≥n y abandonar decisiones dudosas como dar al usuario un mensaje de "500 Error interno del servidor" o los resultados de un seguimiento de la pila (la √∫ltima opci√≥n, por cierto, debe evitarse por todos los medios, ya que est√° revelando datos internos, y adem√°s, estos resultados son dif√≠ciles de procesar en el lado del cliente). <br>  Aqu√≠, por ejemplo, c√≥mo se ver√≠a el formato general del mensaje de error: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Value</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ErrorResponse</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Integer errorCode; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String errorMessage; }</code> </pre> <br>  Un formato similar a este se encuentra a menudo en las API m√°s populares y, como regla, funciona muy bien porque puede documentarse de manera f√°cil y sistem√°tica.  Puede convertir una excepci√≥n a este formato agregando la anotaci√≥n <code>@ExceptionHandler</code> al m√©todo (para ver un ejemplo de la anotaci√≥n, consulte la secci√≥n "Error com√∫n n. ¬∞ 6"). <br><br><h2>  Error com√∫n n√∫mero 5. Trabajo incorrecto con subprocesos m√∫ltiples </h2><br>  La implementaci√≥n de subprocesos m√∫ltiples puede ser una tarea dif√≠cil, independientemente de si se usa en aplicaciones de escritorio o en aplicaciones web, en proyectos Spring o proyectos para otras plataformas.  Los problemas causados ‚Äã‚Äãpor la ejecuci√≥n paralela de programas son dif√≠ciles de rastrear, y tratarlos con un depurador a menudo es muy dif√≠cil.  Si comprende que est√° lidiando con un error relacionado con la ejecuci√≥n paralela, lo m√°s probable es que tenga que abandonar el depurador y examinar el c√≥digo manualmente hasta que se encuentre la causa ra√≠z del error.  Desafortunadamente, no hay una forma est√°ndar de resolver tales problemas.  En cada caso, es necesario evaluar la situaci√≥n y "atacar" el problema con el m√©todo que parece mejor en las condiciones dadas. <br><br>  Idealmente, por supuesto, le gustar√≠a evitar por completo los errores asociados con el subprocesamiento m√∫ltiple.  Y aunque no hay una receta universal aqu√≠, todav√≠a puedo ofrecer algunas recomendaciones pr√°cticas. <br><br><h3>  Evita usar estados globales </h3><br>  Primero, recuerde siempre el problema de los "estados globales".  Si est√° desarrollando una aplicaci√≥n multiproceso, debe controlar cuidadosamente todas las variables modificables globalmente y, si es posible, eliminarlas por completo.  Si todav√≠a tiene una raz√≥n por la cual la variable global deber√≠a ser modificable, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sincronice</a> y monitoree adecuadamente el rendimiento de su aplicaci√≥n; debe asegurarse de que no se ralentice debido a los per√≠odos de espera adicionales. <br><br><h3>  Evitar objetos mutables </h3><br>  Esta idea proviene directamente de los principios de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">programaci√≥n funcional</a> y, al estar adaptada a los principios de OOP, establece que las clases mutables y los estados mutables deben evitarse.  En resumen, esto significa que debe abstenerse de establecer m√©todos (establecedores) y tener campos privados con el modificador final en todas las clases de modelos.  La √∫nica vez que cambian sus valores es cuando se crea el objeto.  En este caso, puede estar seguro de que no hay problemas asociados con la competencia por los recursos, y al acceder a las propiedades del objeto, siempre se obtendr√°n los valores correctos. <br><br><h3>  Registrar datos importantes </h3><br>  Eval√∫e d√≥nde pueden surgir problemas en la aplicaci√≥n y configure de antemano un registro de todos los datos importantes.  Si se produce un error, le complacer√° recibir informaci√≥n sobre las solicitudes recibidas y podr√° comprender mejor los motivos del mal funcionamiento de su aplicaci√≥n.  Sin embargo, tenga en cuenta que el registro implica E / S de archivos adicionales y no se debe abusar, ya que esto puede afectar negativamente el rendimiento de la aplicaci√≥n. <br><br><h3>  Use implementaciones de subprocesos listas para usar </h3><br>  Cuando necesite generar sus hilos (por ejemplo, para crear solicitudes asincr√≥nicas a varios servicios), use implementaciones de hilos seguras ya preparadas en lugar de crear las suyas propias.  En la mayor√≠a de los casos, puede utilizar las abstracciones de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ExecutorService</a> y las espectaculares abstracciones funcionales <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CompletableFuture</a> para Java 8. Para crear subprocesos. La plataforma Spring tambi√©n le permite manejar solicitudes asincr√≥nicas utilizando la clase <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">DeferredResult</a> . <br><br>  El final de la primera parte. <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Lee la segunda parte.</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/464429/">https://habr.com/ru/post/464429/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../464413/index.html">PVS-Studio - motor de progreso</a></li>
<li><a href="../464415/index.html">Nuevo servicio de sugerencias para buscar hh.ru</a></li>
<li><a href="../464417/index.html">10 marcos PHP populares en 2019</a></li>
<li><a href="../464421/index.html">Radio Viber - todas las estaciones de radio en el messenger en l√≠nea</a></li>
<li><a href="../464423/index.html">¬øC√≥mo gestionar el tiempo? Respuesta independiente</a></li>
<li><a href="../464433/index.html">Plataformas de prueba m√≥viles en la nube</a></li>
<li><a href="../464435/index.html">C√≥mo no ahogarse en un mar de tecnolog√≠a y enfoques: la experiencia de 50 expertos</a></li>
<li><a href="../464437/index.html">C√≥mo el equipo de desarrollo puede ganar m√°s creando sitios de tr√°fico [Gu√≠a de implementaci√≥n]</a></li>
<li><a href="../464443/index.html">Natas Web. Paso de la plataforma CTF destinada a explotar vulnerabilidades web. Parte 2</a></li>
<li><a href="../464445/index.html">¬øPor qu√© es realmente imposible ser vegetariano?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>