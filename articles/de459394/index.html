<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💏 🎆 🤔 Reine Lösungsarchitektur, Tests ohne Mobs und wie ich dazu gekommen bin 👨🏿‍🎨 🎖️ 👾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo liebe Leser! In diesem Artikel möchte ich über die Architektur meines Projekts sprechen, das ich beim Start viermal überarbeitet habe, da ich mi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Reine Lösungsarchitektur, Tests ohne Mobs und wie ich dazu gekommen bin</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459394/"><p>  Hallo liebe Leser!  In diesem Artikel möchte ich über die Architektur meines Projekts sprechen, das ich beim Start viermal überarbeitet habe, da ich mit dem Ergebnis nicht zufrieden war.  Ich werde über die Nachteile populärer Ansätze sprechen und meine eigenen zeigen. </p><a name="habracut"></a><br><p>  Ich möchte sofort sagen, dass dies mein erster Artikel ist, ich sage nicht, was ich tun soll - richtig.  Ich möchte nur zeigen, was ich getan habe, erzählen, wie ich zum Endergebnis gekommen bin, und vor allem - die Meinungen anderer einholen. </p><br><p>  Ich habe in mehreren Kampagnen gearbeitet und eine Menge von allem gesehen, was ich anders gemacht hätte. </p><br><p>  Zum Beispiel sehe ich oft eine N-Layer-Architektur, es gibt eine Schicht für die Arbeit mit Daten (DA), es gibt eine Schicht mit Geschäftslogik (BL), die mit DA und möglicherweise einigen anderen Diensten arbeitet, und es gibt auch eine Ansichtsebene \ API, in der Eine Anfrage wird empfangen und mit BL verarbeitet.  Es scheint praktisch, aber wenn ich mir den Code ansehe, sehe ich diese Situation: </p><br><ul><li>  [DA] zieht \ schreibt \ ändert Daten, auch wenn eine komplexe Abfrage - OK </li><li>  [BL] 80% ruft 1 Methode auf und würfelt das obige Ergebnis - Warum diese leere Ebene? </li><li>  [Anzeigen] 80% Aufrufe 1 BL-Methode wirft das obige Ergebnis - Warum diese leere Ebene? </li></ul><br><p>  Darüber hinaus ist es in Mode, Schnittstellen einzuschließen, damit Sie später sperren und testen können - wow, einfach wow! </p><br><ul><li>  Warum nass werden? </li><li>  Nun, um Nebenwirkungen für die Dauer der Tests zu reduzieren. </li><li>  Das heißt, wir werden ohne Nebenwirkungen protestieren, aber mit ihnen? <br>  ... </li></ul><br><p>  Dies ist eine grundlegende Sache, die mir in dieser Architektur nicht gefallen hat, da das Lösen eines Problems wie "Benutzerlikes auflisten" ein großer Prozess ist, aber in Wirklichkeit gibt es 1 Abfrage in der Datenbank und möglicherweise eine Zuordnung. </p><br><div class="spoiler">  <b class="spoiler_title">Probenlösung</b> <div class="spoiler_text"><p>  1) [DA] Anfrage zu DA hinzufügen <br>  2) [BL] DA-Antwort weiterleiten <br>  3) [Anzeigen] BA-Ergebnis weiterleiten, kann fördern </p><br><p>  Vergessen Sie nicht, dass all diese Methoden noch zur Benutzeroberfläche hinzugefügt werden müssen. Wir schreiben ein Projekt, um nass zu werden, und nicht für eine Lösung. </p></div></div><br><p>  An anderer Stelle sah ich eine API-Implementierung mit einem CQRS-Ansatz. </p><br><p>  Die Lösung sah nicht schlecht aus, 1 Ordner - 1 Funktion.  Ein Entwickler, der ein Feature erstellt, befindet sich in seinem Ordner und kann fast immer den Einfluss seines Codes auf andere Features vergessen, aber es gab so viele Dateien, dass es nur ein Albtraum war.  Anforderungs- / Antwortmodelle, Validatoren, Helfer, Logik selbst.  Die Suche im Studio weigerte sich praktisch zu arbeiten, es wurden Erweiterungen hinzugefügt, um die notwendigen Dinge im Code zu finden. </p><br><p>  Es gibt noch viel mehr zu sagen, aber ich habe die Hauptgründe hervorgehoben, warum ich es abgelehnt habe </p><br><h2 id="i-nakonec-k-moemu-proektu">  Und schließlich zu meinem Projekt </h2><br><p>  Wie gesagt, ich habe mein Projekt mehrmals überarbeitet, in diesem Moment hatte ich eine „Programmierer-Depression“, war einfach nicht zufrieden mit meinem Code und habe ihn immer wieder überarbeitet. Am Ende habe ich mir ein Video über die Architektur der Anwendung angesehen, um zu sehen, wie andere tun es.  Ich stieß auf Anton Moldovans Berichte über DDD und funktionale Programmierung und dachte: „Hier ist es, ich brauche F #!“. </p><br><p>  Nachdem ich ein paar Tage mit F # verbracht hatte, wurde mir klar, dass ich im Prinzip dasselbe in C # machen würde und nicht schlechter.  Das Video zeigte: </p><br><ul><li>  Hier ist der C # -Code, es ist Scheiße </li><li>  Hier ist F # cool, weniger geschrieben - super. </li></ul><br><p>  Der Trick ist jedoch, dass die Lösung für F # anders implementiert wurde und dagegen eine schlechte Implementierung für C # gezeigt wurde.  Das Hauptprinzip war, dass BL keine Sache ist, die DA-Dienste aufruft und die ganze Arbeit erledigt, sondern eine <strong>reine Funktion ist</strong> . </p><br><p>  Natürlich ist F # gut, ich mochte einige Funktionen, aber wie C # ist dies nur ein Werkzeug, das auf verschiedene Arten verwendet werden kann. </p><br><p>  Und ich ging zurück zu C # und fing an zu kreieren. </p><br><p>  Ich habe solche Projekte in der Lösung erstellt: </p><br><ol><li>  API </li><li>  Kern </li><li>  Dienstleistungen </li><li>  Tests </li></ol><br><p>  Ich habe auch C # 8-Funktionen verwendet, insbesondere den nullbaren Referenztyp. Ich werde seine Anwendung zeigen. <br>  Kurz über die Aufgaben der Schichten, die ich ihnen gegeben habe. </p><br><p>  <strong>API</strong> <br>  1) Empfangen von Anfragen, Anforderungsmodellen + Validierung, Einschränkungen </p><br><div class="spoiler">  <b class="spoiler_title">Weitere Details</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/getpro/habr/post_images/1ba/e1f/fdf/1bae1ffdfd889b06d323d50d58904459.png" alt="Bild"></p></div></div><br><p>  2) Aufrufen von Funktionen von Core and Services </p><br><div class="spoiler">  <b class="spoiler_title">Weitere Details</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/getpro/habr/post_images/a9f/01f/606/a9f01f6067340c60ca2e07e3e1321fbf.png" alt="Bild"></p><br><p>  Hier sehen wir einen einfachen, lesbaren Code. Ich denke, jeder wird verstehen, was hier geschrieben steht. <br>  Klares Muster beobachtet <br>  1) Daten abrufen <br>  2) Verarbeiten, Ändern usw. - Dieser Teil muss getestet werden. <br>  3) Speichern. </p></div></div><br><p>  3) Mapping, falls erforderlich <br>  4) Fehlerbehandlung (Protokollierung + menschliche Reaktion) </p><br><div class="spoiler">  <b class="spoiler_title">Weitere Details</b> <div class="spoiler_text"><p>  Diese Klasse enthält alle möglichen Anwendungsfehler, auf die der Ausnahmebehandler reagiert. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/574/7f6/c44/5747f6c44498d03e6c94958b3b500f8b.png" alt="Bild"></p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/a74/5c4/4ab/a745c44ab83c307d92fdaa82b339bd55.png" alt="Bild"></p><br><p>  Es stellt sich heraus, dass die Anwendung entweder funktioniert oder einen bestimmten Fehler ausgibt und nicht die verarbeiteten Fehler entweder ein Nebeneffekt oder ein Fehler sind. Das Protokoll solcher Fehler wird mir sofort im Telegramm in einem Chat mit dem Bot angezeigt. </p><br><p>  Ich habe AppError.Bug diesen Fehler für einen unklaren Fall. </p><br><p>  Ich habe ein CallBack von einem anderen Dienst, es hat eine Benutzer-ID in meinem System, und wenn ich keinen Benutzer mit dieser ID finde, ist entweder etwas mit dem Benutzer passiert oder es ist überhaupt nicht klar, ein solcher Fehler fliegt mir wie KRITISCH, theoretisch sollte es nicht zu entstehen, aber wenn es tut, erfordert es mein Eingreifen. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/625/ecf/ce5/625ecfce5eb5570993443f65eb4b7006.png" alt="Bild"></p></div></div><br><p>  <strong>Kern, der interessanteste</strong> </p><br><p>  Ich habe immer daran gedacht, dass BLs nur Funktionen sind, die das gleiche Ergebnis mit der gleichen Eingabe liefern.  Die Komplexität des Codes in dieser Schicht lag auf der Ebene der Laborarbeit, nicht auf großartigen Funktionen, die ihre Arbeit klar und fehlerfrei erledigen.  Und es war wichtig, dass es keine Nebenwirkungen innerhalb der Funktionen gab, alles, was die Funktion benötigte, war ihr Parameter. </p><br><p>  Wenn die Funktion ein Benutzerguthaben benötigt, erhalten WIR das Guthaben und übertragen es an die Funktion. Pushen Sie den Benutzerdienst NICHT in BL. </p><br><p>  1) Grundlegende Aktionen von Entitäten </p><br><div class="spoiler">  <b class="spoiler_title">Weitere Details</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/getpro/habr/post_images/729/ec2/7d4/729ec27d4e71e4f050d6c404f2c25c5c.png" alt="Bild"><br><img src="https://habrastorage.org/getpro/habr/post_images/d49/b15/f17/d49b15f17eb75d63a61486db99f9ceab.png" alt="Bild"></p><br><p>  Ich habe Methoden als Erweiterungsmethoden entwickelt, damit die Klasse nicht aufgebläht wird und die Funktionalität nach Features gruppiert werden kann. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/3ef/4a6/634/3ef4a663438981f8ab3d326e2289e1c7.png" alt="Bild"><br><img src="https://habrastorage.org/getpro/habr/post_images/296/e9c/220/296e9c220a1b41407b5901d7789b317e.png" alt="Bild"></p></div></div><br><p>  Ich halte eine gute Konstruktion von Entitätsmodellen für ein ebenso wichtiges Thema. </p><br><p>  Zum Beispiel habe ich einen Benutzer, der Benutzer hat Guthaben in mehreren Währungen.  Eine der typischen Entscheidungen, die ich ohne zu zögern getroffen habe, ist die Essenz von "Balance" und ich habe dem Benutzer nur eine Reihe von Salden hinzugefügt.  Aber welche Art von Bequemlichkeit brachte eine solche Entscheidung? </p><br><p>  1) Hinzufügen / Entfernen von Währungen.  Diese Aufgabe bedeutet für uns sofort, nicht nur neuen Code zu schreiben, sondern auch zu migrieren, wobei alle vorhandenen Benutzer ausgefüllt / gelöscht werden. Dies ist die einfachste Option.  Gott bewahre, um eine neue Währung hinzuzufügen, müssten Sie eine Schaltfläche für den Benutzer erstellen, auf die er klickt und die Erstellung einer neuen Brieftasche für eine Art Geschäftsprozess initiiert.  Infolgedessen war es nur notwendig, die Aufzählung für die neue Währung zu erweitern, und sie schrieben eine weitere Funktion zum Erstellen von Brieftaschen per Knopfdruck. Sie warfen eine weitere Aufgabe nach vorne. </p><br><p>  2) Im Code werden FirstOrDefault-Konstanten (s =&gt; s.Currency == Currency) und auf Null geprüft </p><br><div class="spoiler">  <b class="spoiler_title">Meine Entscheidung</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/getpro/habr/post_images/254/d7d/7d5/254d7d7d580592114c8ab62a6bd028de.png" alt="Bild"></p><br><p>  Durch das Modell selbst garantiere ich mir, dass es kein Null-Gleichgewicht gibt, und durch das Erstellen des Indexer-Operators habe ich meinen Code an allen Orten der Interaktion mit dem Gleichgewicht vereinfacht. </p></div></div><br><h2 id="services">  Dienstleistungen </h2><br><p>  Diese Ebene bietet mir praktische Tools für die Arbeit mit verschiedenen Diensten. <br>  In meinem Projekt verwende ich MongoDB und habe die Sammlungen für eine bequeme Arbeit damit in ein solches Repository verpackt. </p><br><div class="spoiler">  <b class="spoiler_title">Weitere Details</b> <div class="spoiler_text"><p>  Repository selbst <br><img src="https://habrastorage.org/getpro/habr/post_images/259/453/270/2594532705f07b698d6b6d29c19eb4ef.png" alt="Bild"></p><br><p>  Monga blockiert das Dokument zum Zeitpunkt der Arbeit damit. Dies hilft uns bei der Lösung von Problemen im Wettbewerb der Anfragen.  Und im Mong gibt es Methoden für die Suche nach einer Entität + die darauf einwirkt, zum Beispiel: "Finde einen Benutzer mit ID und addiere 10 zu seinem aktuellen Kontostand" </p><br><p>  Und nun zum Feature von C # 8. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/579/237/bc6/579237bc61fdb0e58342ff73300b0def.png" alt="Bild"></p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/221/449/d5e/221449d5ea5fb587e3d8cf2aea980f0a.png" alt="Bild"></p><br><p>  Die Methodensignatur sagt mir, dass Benutzer zurückgeben kann, und möglicherweise Null, wenn ich Benutzer sehe?  Ich erhalte sofort eine Compiler-Warnung und führe eine Nullprüfung durch. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/441/28c/503/44128c503d8af4762f5bc7fea812f0b3.png" alt="Bild"></p><br><p>  Wenn die Methode User zurückgibt, arbeite ich sicher damit. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/665/8c6/4b9/6658c64b9cb10ea08fbfae84447e6c48.png" alt="Bild"></p><br><p>  Ich möchte auch darauf aufmerksam machen, dass es keinen Try Catch gibt, da es nur Ausnahmen von "seltsamen Situationen" und falschen Daten geben kann, die hier nicht erreicht werden sollten, weil es eine Validierung gibt.  Es gibt auch keinen Try-Catch in der API-Schicht, es gibt nur einen globalen Ausnahmebehandler. </p><br><p>  Es gibt nur eine Methode, die eine Ausnahme auslöst: die Update-Methode. <br>  Es implementiert den Schutz vor Datenverlust im Multithread-Modus. <br><img src="https://habrastorage.org/getpro/habr/post_images/4b5/87c/709/4b587c709dffe51e88dcf8deb7db42ee.png" alt="Bild"></p><br><p>  Warum haben Sie die oben genannten Monga-Methoden nicht angewendet? <br>  Es gibt Orte, an denen ich immer noch nicht genau weiß, ob ich überhaupt mit dem Benutzer arbeiten kann. Vielleicht hat er kein Geld für diese Aktion. Am Anfang hole ich den Benutzer heraus und überprüfe sie, mutiere und speichere sie. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/9fd/c68/b23/9fdc68b236ce758a977c1cca2f50ad69.png" alt="Bild"></p><br><p>  Meine theoretische Anwendung wird das Gleichgewicht des Benutzers mehr als einmal pro Sekunde verändern, da es sich um schnelle Spiele handelt. </p><br><p>  Das Modell des Benutzers selbst zeigt jedoch deutlich, dass die Überweisung des Benutzers optional ist und Sie mit allem anderen arbeiten können, ohne an Null zu denken. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/c0f/0c7/835/c0f0c7835e56f5ac9372dc0a5139908d.png" alt="Bild"></p></div></div><br><h2 id="i-nakonec-tests">  Schließlich Tests </h2><br><p>  Wie gesagt, Sie müssen nur die Logik testen, und die Logik unserer Funktion ist ohne Nebenwirkungen. <br>  Daher können wir unsere Tests sehr schnell und mit unterschiedlichen Parametern ausführen. </p><br><div class="spoiler">  <b class="spoiler_title">Weitere Details</b> <div class="spoiler_text"><p>  Ich habe Nuget FSCheck heruntergeladen, das zufällig eingehende Daten generiert und viele verschiedene Fälle berücksichtigt. </p><br><p>  Ich muss nur verschiedene Benutzer erstellen, ihren Test füttern und die Änderungen überprüfen. </p><br><p>  Es gibt einen kleinen Builder zum Erstellen solcher Benutzer, der jedoch leicht zu erweitern ist. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/ff5/11a/bf1/ff511abf173fd7fd9b452934af2e0d20.png" alt="Bild"></p><br><p>  Und hier sind die Tests selbst </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/51e/ba1/1ec/51eba11ec1df6ca5393bba5095a4dd15.png" alt="Bild"></p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/4dd/fa7/063/4ddfa706330f69bff4950bf9d46b7fe0.png" alt="Bild"></p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/459/d62/92d/459d6292d288de62429663160487bb2c.png" alt="Bild"></p><br><p>  Nach einigen Änderungen führe ich die Tests aus, nach 1-2 Sekunden sehe ich, dass alles in Ordnung ist. <br>  Es ist auch geplant, E2E-Tests zu schreiben, um die gesamte API von außen zu überprüfen und sicherzustellen, dass sie von der Anforderung bis zur Antwort ordnungsgemäß funktioniert. </p></div></div><br><h2 id="fishki">  Chips </h2><br><div class="spoiler">  <b class="spoiler_title">Coole Sachen, die du vielleicht brauchst</b> <div class="spoiler_text"><p>  Jede meiner Anforderungen ist dotiert. Wenn ein Fehler auftritt, finde ich requestId und kann den Fehler leicht reproduzieren, indem ich die Anforderung wiederhole, da meine API keinen Status hat und jede Anforderung nur von den Anforderungsparametern abhängt. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/d4d/2e9/112/d4d2e9112f58db9beee8dbaaa9abb466.png" alt="Bild"></p></div></div><br><p>  Zusammenfassend. </p><br><p>  Wir haben wirklich eine Lösung geschrieben und kein Framework, in dem eine Reihe zusätzlicher Abstraktionen sowie Mok.  Wir haben Fehler an einem Ort behandelt und sie sollten sehr selten auftreten.  Wir haben BL und Nebenwirkungen getrennt, jetzt ist BL nur eine lokale Logik, die wiederverwendet werden kann.  Wir haben keine zusätzlichen Funktionen geschrieben, die den Aufruf einfach an andere Funktionen weiterleiten.  Ich werde Kommentare aktiv lesen und den Artikel ergänzen, danke! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de459394/">https://habr.com/ru/post/de459394/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de459378/index.html">Schreiben einer API für Reaktionskomponenten, Teil 2: Geben Sie dem Verhalten Namen, nicht der Interaktion</a></li>
<li><a href="../de459380/index.html">Schreiben einer API für React-Komponenten, Teil 3: Die Reihenfolge der Requisiten ist wichtig</a></li>
<li><a href="../de459384/index.html">Auf die Frage nach einem anderen oder einem anderen Weinen von Jaroslawna</a></li>
<li><a href="../de459388/index.html">Star Wars: Ritter der alten Republik</a></li>
<li><a href="../de459392/index.html">Überdenken des Interviewprozesses in der Entwicklungsabteilung von Microsoft</a></li>
<li><a href="../de459396/index.html">"WARNUNG: Durch das Bereinigen von HTML wurden einige Inhalte entfernt" und wie man richtig damit umgeht</a></li>
<li><a href="../de459400/index.html">Welche Vorfälle mit dem Border Gateway-Protokoll in den letzten Jahren hervorgehoben werden können</a></li>
<li><a href="../de459402/index.html">Wie implementiere ich eine saubere Architektur auf Android?</a></li>
<li><a href="../de459404/index.html">Idee: anonyme Registrierung / Autorisierung über das Ethereum + Metamask-Netzwerk, ohne E-Mails usw.</a></li>
<li><a href="../de459408/index.html">Wie ich versucht habe, eine Kartensuche nach Treibern zu reparieren. Teil 3 (endgültig)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>