<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö¥üèº ‚èèÔ∏è üïäÔ∏è F # 4: Lassen / Verwenden / Tun üë∞üèº üé• üöá</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In diesem Beitrag werden wir uns Bindungen in F # ansehen, insbesondere Let / Use / Do. Jetzt fragen Sie sich vielleicht, was Bindungen sind, und da w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>F # 4: Lassen / Verwenden / Tun</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470195/">  In diesem Beitrag werden wir uns Bindungen in F # ansehen, insbesondere Let / Use / Do.  Jetzt fragen Sie sich vielleicht, was Bindungen sind, und da wir sie noch nicht untersucht haben, ist es jetzt an der Zeit, dar√ºber zu sprechen. <br><br>  Einfach ausgedr√ºckt, eine Bindung verkn√ºpft einen Bezeichner mit einem Wert oder einer Funktion. <br><a name="habracut"></a><br><h4>  Lass </h4><br>  Mit dem Schl√ºsselwort let verkn√ºpfen Sie einen Namen mit einem Wert oder einer Funktion.  Tats√§chlich gibt es eine subtil andere Verwendung von Let, bei der eine auf der obersten Ebene des Moduls deklariert wird und die andere, bei der wir einen lokalen Kontext definieren.  Hier ist ein Beispiel f√ºr beide: <br><br><pre><code class="erlang hljs">module DemoModule = <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> someFunction = <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> a = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> b = <span class="hljs-number"><span class="hljs-number">2</span></span> a * b</code> </pre> <br>  Wir k√∂nnten mit einem vollst√§ndig qualifizierten Namen wie DemoModule.someFunction auf someFunction zugreifen, aber verschachtelte Let (a, b) -Bindungen sind nur f√ºr Let der obersten Ebene verf√ºgbar.  Normalerweise sehen Sie mehr F√§lle, wenn wir die Let-Bindung verwenden, um einige Werte des internen Moduls zu deklarieren. Konzentrieren wir uns also darauf (obwohl es wichtig ist zu wissen, dass Sie Let auf Modulebene verwenden k√∂nnen). <br><br>  Schauen wir uns also noch ein paar Beispiele an. <br><br><pre> <code class="erlang hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> aString =<span class="hljs-string"><span class="hljs-string">"this is a string"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> aInt = <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> aDecimal = <span class="hljs-number"><span class="hljs-number">12.444</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> aPiFunction () = Math.PI <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> aSquareRootFunction (x) = Math.Sqrt(x) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> aFullyTypedSquareRootFunction (x :float) = Math.Sqrt(x) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> a,b = <span class="hljs-string"><span class="hljs-string">"a"</span></span>,<span class="hljs-string"><span class="hljs-string">"tuple"</span></span></code> </pre> <br>  Sie k√∂nnen sehen, dass wir die Let-Bindung verwenden k√∂nnen, um an mehrere Werte zu binden, die von verschiedenen Typen sein k√∂nnen, wie z. <br><br><ul><li>  Ganze Zahl </li><li>  Dezimal </li><li>  Funktion ohne Eingabeparameter </li><li>  Funktion mit Eingabeparametern (wobei das logische Inferenzsystem vom Typ F # den Typ korrekt ausw√§hlt) </li><li>  Eine Funktion mit vollst√§ndig definierten Parametertypen </li><li>  Tupel (in diesem Fall String * String Tupel) </li></ul><br>  An anderer Stelle k√∂nnen Sie die Let-Bindung in der Klasse sehen, aber wir werden dies im n√§chsten Artikel in dieser Reihe genauer diskutieren. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sie k√∂nnen mehr √ºber Let Binding auf MSDN lesen.</a> <br><br><h4>  Verwenden Sie </h4><br>  Die Use-Bindung ist der Let-Bindung sehr √§hnlich, da sie den Wert an das Ergebnis des Ausdrucks bindet.  Der Hauptunterschied besteht darin, dass die Use-Bindung f√ºr die Verwendung mit IDisposable-Typen ausgelegt ist und einen Wert automatisch l√∂scht, wenn er nicht mehr im G√ºltigkeitsbereich liegt.  Dies ist dem Schl√ºsselwort .NET using sehr √§hnlich, obwohl ich nicht glaube, dass die F # Use-Bindung genau mit der Verwendung in .NET identisch ist, da das Schl√ºsselwort using in .NET tats√§chlich ein Versuch / Endlich mit einem Aufruf von Dispose ( ) endlich. <br><br>  Wir haben bereits im letzten Beitrag ein Beispiel f√ºr die Verwendung der Bindung zur Textformatierung gesehen, aber um uns daran zu erinnern, schauen wir uns das noch einmal an. <br><br><pre> <code class="erlang hljs">use sw = new StreamWriter(@<span class="hljs-string"><span class="hljs-string">"c:\temp\fprintfFile.txt"</span></span>) fprintf sw <span class="hljs-string"><span class="hljs-string">"This is a string line %s\r\n"</span></span> <span class="hljs-string"><span class="hljs-string">"cat"</span></span> fprintf sw <span class="hljs-string"><span class="hljs-string">"This is a int line %i"</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> sw.Close()</code> </pre> <br>  In diesem Beispiel garantiert die Use-Bindung, dass die StreamWriter-Methode nach dem Aufrufen von sw.Close () die oben gezeigte Dispose () -Methode aufruft. <br><br>  Die Verwendung funktioniert nur mit IDisposables, und Sie erhalten einen Kompilierungsfehler, wenn Sie versuchen, sie mit etwas anderem zu verwenden, wie unten gezeigt: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9cc/ddf/4cc/9ccddf4cca18ab8e635892c0c0e61ff5.png" alt="Bild"><br><br>  Da die Dispose () -Methode am Ende der Use-Bindung aufgerufen wird, sollte darauf geachtet werden, den mit Let verkn√ºpften Wert nicht zur√ºckzugeben. <br><br><pre> <code class="erlang hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> Write = use sw = new StreamWriter(@<span class="hljs-string"><span class="hljs-string">"c:\temp\fprintfFile.txt"</span></span>) sw</code> </pre> <br>  Wenn Sie IDisposable, die Teil der Use-Bindung sind, unbedingt zur√ºckgeben m√ºssen, k√∂nnen Sie stattdessen den R√ºckruf verwenden.  So etwas wird funktionieren, aber ich w√ºrde aufh√∂ren und mich fragen, ob Sie Ihr Design richtig entworfen haben, wenn Sie solche Dinge tun: <br><br><pre> <code class="erlang hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> Write callback = use sw = new StreamWriter(@<span class="hljs-string"><span class="hljs-string">"c:\temp\fprintfFile.txt"</span></span>) fprintf sw <span class="hljs-string"><span class="hljs-string">"Write is writing to the StreamWriter"</span></span> callback sw sw <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> callback sw = fprintf sw <span class="hljs-string"><span class="hljs-string">"sw is the StreamWriter"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> disp = Write callback</code> </pre> <br><h4>  Tun Sie </h4><br>  Die do-Bindung wird verwendet, um Code auszuf√ºhren, ohne eine Funktion oder einen Wert zu definieren.  Eine Bindung MUSS immer die Einheit zur√ºckgeben (kein Wert / ung√ºltig).  In vielen F√§llen k√∂nnen Sie die Do-Bindung weglassen, und alles funktioniert wie erwartet. <br><br>  Hier sind einige Beispiele f√ºr die Verwendung von Do-Bindungen. <br><br><pre> <code class="erlang hljs">do printf <span class="hljs-string"><span class="hljs-string">"doing the do"</span></span> //oh oh <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> a unit do printf <span class="hljs-string"><span class="hljs-string">"print a sum %i"</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span> do <span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  Wenn ich Ihnen stattdessen einen Screenshot mit dem obigen Code zeige, werden Sie feststellen, dass sich der Compiler beschwert, wenn Sie versuchen, Do mit einem Nicht-Unit-Ergebnis zu verwenden. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e7a/20c/9d3/e7a20c9d3e18100e0f1a4ed11db911de.png" alt="Bild"><br><br>  Sie haben zwei M√∂glichkeiten: <br><br><ul><li>  Verwenden Sie einen Pipeline-Operator, um das Ergebnis zu ignorieren </li><li>  Let-Bindung erstellen </li></ul><br>  Ich habe unten jeweils ein Beispiel gezeigt: <br><br><pre> <code class="erlang hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> x = <span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span> do printf <span class="hljs-string"><span class="hljs-string">"print a sum %i"</span></span> x do (<span class="hljs-number"><span class="hljs-number">1</span></span>+<span class="hljs-number"><span class="hljs-number">1</span></span> |&gt; ignore)</code> </pre> <br><h4>  Lass!  Verwenden Sie!  Tun Sie! </h4><br>  Obwohl ich sie noch nicht diskutieren m√∂chte, sehen Sie manchmal versehentlich Let!  Verwenden Sie!  Do!, Und wenn Sie dies tun, ist dies Teil eines sogenannten rechnerischen Ausdrucks.  Sie werden dies h√∂chstwahrscheinlich in asynchronen F # -Workflows sehen, die wir in einem der letzten Artikel behandeln werden.  Wenn ich genug verstehe, kann ich sogar versuchen zu erkl√§ren, wie Sie Ihren eigenen ‚ÄûComputerausdruck‚Äú erstellen k√∂nnen, obwohl es sich um ein eher abstraktes Konzept und ein ziemlich kompliziertes Thema handelt. Jetzt ist nicht die richtige Zeit daf√ºr. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de470195/">https://habr.com/ru/post/de470195/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de470181/index.html">Wie die Levenberg-Marquardt-Methode funktioniert</a></li>
<li><a href="../de470187/index.html">Die Preisspanne f√ºr das Design und die Gestaltung eines Onlinedienstes liegt zwischen 100.000 und 5 Millionen Rubel. Gr√ºnde</a></li>
<li><a href="../de470189/index.html">Senden von Peer-to-Peer-Nachrichten mit PeerJS</a></li>
<li><a href="../de470191/index.html">Web Probleml√∂sung mit r0ot-mi. Teil 1</a></li>
<li><a href="../de470193/index.html">Universeller Schutz gegen xss-Angriffe und SQL-Injektionen</a></li>
<li><a href="../de470197/index.html">Kann ich Haz? Betrachten Sie das Has-Muster</a></li>
<li><a href="../de470199/index.html">Memo an einen unerfahrenen Computerspielentwickler</a></li>
<li><a href="../de470203/index.html">Die Nadel der Zustimmung zum Karma als Spiegel der Entwicklung des Homo</a></li>
<li><a href="../de470207/index.html">1C Developer Tales: Epicafe</a></li>
<li><a href="../de470209/index.html">Code-Transformation in Android 2. AST-Analyse</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>