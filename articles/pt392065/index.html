<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòÄ üë®üèæ üåî Um rob√¥ de madeira que pode jogar xadrez üéå üë≤ ‚úåüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Voc√™ provavelmente j√° viu muitos projetos baseados no Arduino que foram gerenciados atrav√©s de algum tipo de smartphone. Tais projetos, em regra, eram...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Um rob√¥ de madeira que pode jogar xadrez</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/392065/"><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://www.youtube.com/embed/tmG-FJrXAj8%3Ffeature%3Doembed&amp;usg=ALkJrhiYweftz6zcVA0anVVmIOfIst1gSg" frameborder="0" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ provavelmente j√° viu muitos projetos baseados no Arduino que foram gerenciados atrav√©s de algum tipo de smartphone. </font><font style="vertical-align: inherit;">Tais projetos, em regra, eram assim: uma m√°quina com um m√≥dulo Bluetooth inserido, para a qual os comandos s√£o enviados pelo emulador de joystick no telefone (ou algo assim). </font><font style="vertical-align: inherit;">Muitos desses aparelhos foram criados, e essa ideia me veio √† mente. </font><font style="vertical-align: inherit;">Mas e se o Arduino ajudar voc√™ a se separar do seu smartphone por um tempo, mas ao mesmo tempo continuar a reproduzi-lo? </font><font style="vertical-align: inherit;">E assim nasceu o projeto de um rob√¥ de xadrez, cujos "c√©rebros" e "olhos" est√£o concentrados no smartphone Android. </font><font style="vertical-align: inherit;">Mais detalhes - sob o corte.</font></font><br>
<a name="habracut"></a><br>
<br>
<h5><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vista geral</font></font></b></h5><br>
<div style="text-align:center;"><img width="50%" src="https://habrastorage.org/files/f07/2c3/a49/f072c3a49c5942a7ad6e5328f7270797.jpg"></div><br>
<a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[Hirez]</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Toda essa composi√ß√£o √© uma caixa de madeira na qual h√° um tabuleiro de xadrez, um manipulador e um suporte com luz de fundo no qual o telefone repousa. Ap√≥s o jogo, todos os itens acima s√£o removidos nesta mesma caixa e podem ser transportados para qualquer lugar sem problemas, por exemplo, em uma mochila. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O princ√≠pio de opera√ß√£o √© o seguinte. Na parte superior da placa, em um suporte especial, um telefone √© instalado com um aplicativo especial que, usando um sistema de vis√£o computacional, fixa a posi√ß√£o atual das pe√ßas na placa. Com base no fato de o sistema monitorar todos os movimentos, n√£o √© necess√°rio determinar visualmente qual figura est√° na c√©lula, basta saber o fato de sua presen√ßa e cor. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Depois que uma mudan√ßa feita por uma pessoa √© corrigida, essas informa√ß√µes s√£o transmitidas</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um mecanismo de xadrez</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que decide a qual movimento ele precisa responder. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, os √¢ngulos s√£o calculados para as posi√ß√µes que o rob√¥ precisa tomar para fazer um movimento. Em seguida, essas informa√ß√µes s√£o enviadas via Bluetooth ao manipulador. O manipulador pode apenas aceitar essas </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
informa√ß√µes e fazer uma jogada.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Espero que o leitor deste artigo encontre algo interessante para si mesmo aqui. </font><font style="vertical-align: inherit;">Talvez algu√©m queira repetir este projeto ou fazer algo semelhante. </font><font style="vertical-align: inherit;">Quero dizer imediatamente que n√£o haver√° um tutorial, porque copiar este trabalho simplesmente de acordo com as instru√ß√µes n√£o funcionar√° passo a passo, porque existem muitas sutilezas que s√≥ podem ser entendidas ao tentar implement√°-lo. </font><font style="vertical-align: inherit;">Se voc√™ quiser ver os desenhos do manipulador, ou se tiver outras perguntas, escreva em uma mensagem pessoal no GT ou </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VK</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , responderei gratuitamente e mediante solicita√ß√£o.</font></font><br>
<br>
<h5><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parte do software</font></font></b></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Toda essa composi√ß√£o √© controlada por um pequeno aplicativo Android. Ele tem muitas tarefas: determinar as figuras no tabuleiro, calcular os √¢ngulos para o manipulador, trabalhar com o mecanismo de xadrez, algumas mensagens de voz do rob√¥ como "Eu coloquei voc√™ no cheque!" e "Obrigado pelo jogo!" Mas com tudo isso, a interface do aplicativo se encaixa em uma tela.</font></font><br>
<div style="text-align:center;"><img width="30%" src="https://habrastorage.org/files/102/adc/94a/102adc94a4e84bb0ab5d5af36ef15908.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O sistema de vis√£o √© bem simples. </font><font style="vertical-align: inherit;">Da perspectiva do telefone, n√£o h√° muita diferen√ßa entre, digamos, um rei e um cavalo - visualmente essas duas figuras parecer√£o c√≠rculos em preto e branco. </font><font style="vertical-align: inherit;">Portanto, o sistema n√£o se familiariza com a posi√ß√£o que v√™ novamente, mas lembra a sequ√™ncia de todos os movimentos realizados. </font><font style="vertical-align: inherit;">E a mudan√ßa feita √© muito simples de determinar: se em algum momento o programa v√™ que uma pe√ßa desapareceu em uma c√©lula e aparece em outra, isso ser√° considerado uma mudan√ßa. </font><font style="vertical-align: inherit;">√â assim que funciona. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esse tipo de vis√£o t√©cnica √© implementada exclusivamente por meio da API do Android, sem o uso do OpenCV ou algo semelhante. </font><font style="vertical-align: inherit;">Isso n√£o est√° certo, a raz√£o aqui √© um interesse pessoal em realizar tudo do zero.</font></font><br>
<div style="text-align:center;"><img width="40%" src="https://habrastorage.org/files/efc/89d/372/efc89d3721cd4aa3afdedc426b5973c8.jpg"></div><br>
<br>
<h5><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manipulador</font></font></b></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Foram necess√°rias muitas pesquisas criativas para criar um design de manipulador que pudesse executar adequadamente seu trabalho com os servo-drives chineses TowerPro sg-90 baratos que eu tinha em grande n√∫mero, que n√£o s√£o de alta qualidade. Portanto, os dois bra√ßos do manipulador s√£o feitos na forma de paralelogramos, permitindo que o sistema de captura de formas permane√ßa sempre na posi√ß√£o vertical. Isso, por sua vez, torna desnecess√°rio adicionar outro servo; portanto, o sistema ter√° menos erros, permite que seja leve e </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mais ou menos</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">confi√°vel. Como as engrenagens tamb√©m s√£o feitas de madeira, √© dif√≠cil obter a mais alta qualidade de seu trabalho, portanto, para compensar a folga, o manipulador faz um movimento lateral antes de cada movimento para aproximar-se de cada ponto de um lado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quanto √† fonte de alimenta√ß√£o, seu rob√¥ recebe de duas placas-m√£e a partir de tarifas normais do telefone, localizadas com seguran√ßa no gabinete. Uma carga alimenta o pr√≥prio controlador juntamente com o m√≥dulo Bluetooth, a outra diretamente para a mec√¢nica. Para fazer a ilumina√ß√£o, a l√¢mpada LED foi desmontada. Como se viu, existem duas placas dentro dela: os LEDs est√£o localizados em uma e o conversor de energia na outra. Um √© preso ao suporte, o outro √© colocado no corpo da caixa. Toda a energia √© exibida em um pequeno soquete na lateral do corpo da caixa:</font></font><br>
<div style="text-align:center;"><img width="50%" src="https://habrastorage.org/files/243/559/bb3/243559bb3d7d4cd0921112494b574d4f.JPG"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Outra imagem mostra a √°rea de trabalho do manipulador para o ponto vermelho marcado nele. </font><font style="vertical-align: inherit;">Para o eixo zero, a faixa de √¢ngulo √© de 180 ¬∞.</font></font><br>
<div style="text-align:center;"><img width="40%" src="https://habrastorage.org/files/17e/4ce/6d0/17e4ce6d04624e07858acf958ebaee60.jpg"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√£o consegui fabricar esse rob√¥ imediatamente, alguns prot√≥tipos funcionaram muito mal e outros funcionaram para outros trabalhos. </font><font style="vertical-align: inherit;">Por exemplo, o rob√¥ no v√≠deo abaixo coloca a√ß√∫car em uma caneca e agita a gaivota.</font></font><br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://www.youtube.com/embed/EeZhsN9AhdQ%3Ffeature%3Doembed&amp;usg=ALkJrhiEZcP7ZEWJeFcBwsq_X5KJ80HxOg" frameborder="0" allowfullscreen=""></iframe><br>
<br>
<h5><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema de captura de formas</font></font></b></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De interesse particular, na minha opini√£o, √© o design do sistema de captura de figuras. </font><font style="vertical-align: inherit;">A solu√ß√£o mais √≥bvia aqui era fazer duas bochechas se moverem uma contra a outra sob o controle de um servoconversor. </font><font style="vertical-align: inherit;">Algo assim:</font></font><br>
<div style="text-align:center;"><img width="40%" src="https://habrastorage.org/files/e59/07b/825/e5907b8254014d88a928e73a0f193c3c.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como voc√™ pode ver na figura, para um conjunto de pe√ßas completamente pequenas com um di√¢metro base de 18 mm, voc√™ precisa tornar a gaiola quadriculado quase o dobro do tamanho, e o tamanho da placa tamb√©m se torna irracionalmente grande. </font><font style="vertical-align: inherit;">Depois de v√°rias implementa√ß√µes malsucedidas dessa op√ß√£o, deparei-me com uma coisa t√£o incomum, que √© chamada de ‚Äúgrip flex√≠vel de pin√ßa‚Äù), e fica assim:</font></font><br>
<div style="text-align:center;"><img width="40%" src="https://habrastorage.org/files/7df/664/365/7df6643655ff4240ac24da934b5b5bcd"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ou seja, √© um n√∫cleo oco flex√≠vel por dentro com uma pequena garra de mola de metal na extremidade, que fecha se for apertada nas laterais. </font><font style="vertical-align: inherit;">E na aus√™ncia de press√£o, a garra se abre instantaneamente. </font><font style="vertical-align: inherit;">Tendo quebrado essa captura, com base em mim, criei meu sistema para capturar figuras. </font><font style="vertical-align: inherit;">Uma garra de metal comprime o anel, que √© anexado ao rack de engrenagens, acionado por um servo.</font></font><br>
<img width="30%" src="https://habrastorage.org/files/010/316/976/010316976fd14cfd8e2ed6088d0164e8.jpg"> <img width="30%" src="https://habrastorage.org/files/c6b/cf4/b3d/c6bcf4b3da99430998d27c260f672379.jpg"><br>
<br>
<h5><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resultados</font></font></b></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O trabalho no projeto continua e os resultados tamb√©m est√£o melhorando gradualmente. </font><font style="vertical-align: inherit;">No momento, o rob√¥ pode jogar um jogo que n√£o seja limitado pelo n√∫mero de movimentos, tanto em preto quanto em branco. </font><font style="vertical-align: inherit;">Nesse caso, n√£o haver√° erros no trabalho da mec√¢nica ou na parte do software do sistema. </font><font style="vertical-align: inherit;">A prop√≥sito, ele n√£o joga muito forte, no n√≠vel da terceira categoria, isso √© facilmente corrigido substituindo o mecanismo de xadrez. </font><font style="vertical-align: inherit;">Eu demonstrei esse rob√¥ na exposi√ß√£o "Archimedes-2016", onde ele tocou com diferentes pessoas quase sem parar por 6 horas seguidas e passou adequadamente nesse teste. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S√≥ isso, espero que voc√™ esteja interessado neste projeto. </font><font style="vertical-align: inherit;">Obviamente, ele tem suas </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">desvantagens de</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> recursos </font><s><font style="vertical-align: inherit;">de</font></s><font style="vertical-align: inherit;"> implementa√ß√£o, portanto ainda h√° espa√ßo para aprimoramento, aprimoramento e desenvolvimento. </font><font style="vertical-align: inherit;">Ficarei feliz em receber conselhos, perguntas e sugest√µes nos coment√°rios.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt392065/">https://habr.com/ru/post/pt392065/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt392049/index.html">Futuras turbinas e√≥licas com estrutura de palmeiras ser√£o maiores Empire State Building</a></li>
<li><a href="../pt392051/index.html">O criador do mod Brutal Doom lan√ßar√° um novo mod "Brutal Doom 64"</a></li>
<li><a href="../pt392053/index.html">Processador russo Baikal</a></li>
<li><a href="../pt392057/index.html">Foi interposto recurso no caso do macaco indon√©sio e sua selfie</a></li>
<li><a href="../pt392059/index.html">Refletor LED incomum da NANOSVET com teste de campo</a></li>
<li><a href="../pt392067/index.html">A sonda Dawn enviou fotos dos pontos brilhantes da Ceres com a m√°xima qualidade</a></li>
<li><a href="../pt392069/index.html">As incr√≠veis propriedades dos √≠m√£s magn√©ticos program√°veis</a></li>
<li><a href="../pt392071/index.html">Solu√ß√£o integrada para capturar e manter est√°gios de retorno de naves espaciais</a></li>
<li><a href="../pt392073/index.html">PornHub adicionou categoria de realidade virtual</a></li>
<li><a href="../pt392075/index.html">Um gadget que cabe em uma mochila intercepta dados do Gmail e redes sociais dos telefones dos usu√°rios para aplica√ß√£o da lei</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>