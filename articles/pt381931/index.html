<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üå† üë®‚Äçüë©‚Äçüë¶‚Äçüë¶ üòë Controle deslizante motorizado de timelapse üôãüèª üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë© üóØÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A ideia de criar um controle deslizante de v√≠deo, e tamb√©m motorizado, ocorreu-me em agosto de 2014. Naquela √©poca, eu fotografava paisagens estrelada...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Controle deslizante motorizado de timelapse</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/381931/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A ideia de criar um controle deslizante de v√≠deo, e tamb√©m motorizado, ocorreu-me em agosto de 2014. Naquela √©poca, eu fotografava paisagens estreladas noturnas h√° mais de um ano e decidi me dedicar aos neg√≥cios de timelapse. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em timelapse "anima√ß√£o da imagem" √© sempre apreciada! A mudan√ßa de quadros feitos em uma c√¢mera montada estaticamente na maioria dos casos n√£o afeta o visualizador com a mesma plotagem, mas j√° foi filmada em uma c√¢mera em movimento no espa√ßo. A composi√ß√£o do v√≠deo √© preenchida com din√¢mica ilimitada, deixando uma boa impress√£o no v√≠deo!</font></font><br>
<br>
<img src="https://habrastorage.org/files/7e0/a5e/8c5/7e0a5e8c59944417b231495e413fe7fa.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E as vendas de tais equipamentos? Sem problemas! Isso √© apenas assustador nos pre√ßos c√≥smicos ... No processo de busca de op√ß√µes, seja de marca ou chinesa, voc√™ conclui que o conceito de "controle deslizante motorizado do or√ßamento" n√£o existe na natureza! A op√ß√£o de or√ßamento √© apenas se voc√™ mesmo a projetar! Foi exatamente o que eu fiz!</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu n√£o comecei a fabricar o controle deslizante imediatamente, at√© encontrar uma sa√≠da, como fazer um trilho a baixo custo! Tudo come√ßou com ela. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na loja de m√≥veis, comprei guias para acess√≥rios e rolos para m√≥veis. </font></font><br>
<br>
<img src="https://habrastorage.org/files/b50/cc0/28a/b50cc028ae3e411a904e7326e5dec307.jpg"><br>
<br>
<img src="https://habrastorage.org/files/1d6/6e8/1d8/1d66e81d8b714dbc8ed15b4997771221.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para a base dos trilhos, usei a regra de constru√ß√£o de alum√≠nio de 1,5 m de comprimento, dispon√≠vel na fazenda (o n√≠vel interno ajuda a instalar suavemente o controle deslizante). Com a ajuda de uma broca, rebites de exaust√£o e inser√ß√µes de madeira compensada nas duas extremidades da r√©gua, um trilho de 2 metros de comprimento foi feito em apenas algumas horas. </font></font><br>
 <br>
<img src="https://habrastorage.org/files/6c0/5f8/634/6c05f86342cc4bf59c3a7414173f4dfa.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Continua sendo o caso do transporte. Eu fiz isso de plexigl√°s dur√°vel. Os rolos foram presos com parafusos e porcas marcados com M6.</font></font><br>
<br>
<img src="https://habrastorage.org/files/a51/2b1/0d8/a512b10d8f65478f83677bf8ed52aead.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O primeiro teste falhou, infelizmente. </font><font style="vertical-align: inherit;">A carruagem rolou em empurr√µes, e no v√≠deo foi muito percept√≠vel (movimento suave para baixo e para cima). </font><font style="vertical-align: inherit;">Tudo isso se deve aos rolos normalmente n√£o centrados na produ√ß√£o (embora o vendedor tenha dito que os acess√≥rios s√£o italianos). </font><font style="vertical-align: inherit;">A sa√≠da √© bloquear todas as rodas. </font><font style="vertical-align: inherit;">Agora eles desempenham o papel de mancais de deslizamento. </font><font style="vertical-align: inherit;">A carruagem come√ßou a deslizar linearmente no trilho! </font></font><br>
<br>
<img src="https://habrastorage.org/files/28b/f3b/a98/28bf3ba984ea43eb931fc0c291eaa5f5.jpg"><br>
<br>
<img src="https://habrastorage.org/files/708/1f3/f9c/7081f3f9ce814106890142c1de3f77b1.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para manter o trilho em trip√©s, duas plataformas de trip√© foram acopladas a ele. </font><font style="vertical-align: inherit;">Aqui eles s√£o feitos em casa, feitos de madeira compensada. </font><font style="vertical-align: inherit;">Fixado com parafusos e porcas M6.</font></font><br>
<br>
<img src="https://habrastorage.org/files/040/53c/73a/04053c73af60455db7b041c4c0197c4a.jpg"><br>
<br>
<img src="https://habrastorage.org/files/f5b/6fd/a19/f5b6fda1919a48a9b03e640d2d5ba4f1.jpg"><br>
<br>
<img src="https://habrastorage.org/files/c51/e61/85e/c51e6185e0bb41dda79ef5716c84bdb9.jpg"><br>
<br>
<img src="https://habrastorage.org/files/3ff/423/f92/3ff423f92de143ffa1134907509dfc73.jpg"><br>
<br>
<img src="https://habrastorage.org/files/62d/eab/da3/62deabda3b314ebdbd2adb19e86b8ba4.jpg"><br>
<br>
<img src="https://habrastorage.org/files/25e/1e5/313/25e1e531303347efba5105c924800b60.jpg"><br>
<br>
<img src="https://habrastorage.org/files/c4a/ed0/099/c4aed00990e44985b053f02786b25684.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eletricista</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que eu queria fazer inicialmente? Inicialmente, planejava-se usar uma unidade para o transporte. Para fazer isso, voc√™ s√≥ precisa de um motor de alto torque, uma bateria e um microcircuito para controlar a velocidade. Pela primeira vez, aprendi sobre servos e decidi lev√°-lo ao meu projeto. O chip era um servo testador que pode controlar a velocidade do servo. O que voc√™ precisa! Precisa pegar! Mas n√£o temos pressa ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um conhecimento mais profundo do servoconversor surgiu com um conceito como o Arduino. E isso √© bom! Mais uma vez, pensei no projeto e decidi que no controle deslizante n√£o era necess√°rio um movimento constante de carruagem, mas sim um intervalo. Afinal, o movimento durante a exposi√ß√£o (fotografia noturna - exposi√ß√µes longas) pode rejeitar o quadro com desfoque.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E como terei uma unidade de controle t√£o inteligente, decidi complementar meu controle deslizante com outro mecanismo. </font><font style="vertical-align: inherit;">Al√©m de se mover pelos trilhos, a c√¢mera tamb√©m gira em torno de um eixo vertical. </font><font style="vertical-align: inherit;">O design pode ser chamado de "controle deslizante de v√≠deo com um astrotracker a bordo". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, foi comprado:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microcontrolador Arduino UNO R3</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Servo TowerPro MG995 13kg / cm</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Motor de passo 28byj-48-5v + Driver ULN2003</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primeiro, fiz a montagem do servo no trilho a partir do mesmo plexiglass. </font></font><br>
<br>
<img src="https://habrastorage.org/files/e05/377/874/e053778748204e50addefcbf0a1a81b1.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O carro e o servo foram conectados por uma rosca inextens√≠vel, enrolada em seu eixo. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A c√¢mera √© </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">girada</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> usando um motor de passo </font><b><font style="vertical-align: inherit;">28byj-48</font></b><font style="vertical-align: inherit;"> , montado em uma engrenagem sem-fim de 1/55. </font></font><br>
<br>
<img src="https://habrastorage.org/files/a60/a78/d12/a60a78d124c547eba714e86a7a14b37f.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Decidi defender o Arduino e outros componentes el√©tricos do plexigl√°s. Colei tudo com supercola, embora eles usem cola especial para esse material, que solda as pe√ßas umas √†s outras e depois n√£o as separa. Para conectar os motores √† unidade de controle, fiz dois cabos, nos quais utilizei conectores sovi√©ticos confi√°veis ‚Äã‚Äãe comprovados do tipo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DIN 5 PIN</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/files/8b7/9bc/0cd/8b79bc0cde1f40ec873da0aadb0966a9.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A energia √© fornecida atrav√©s de um </font><b><font style="vertical-align: inherit;">conector DC</font></b><font style="vertical-align: inherit;"> comum</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bateria: 7.2V, 2250mAh</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br>
<br>
<img src="https://habrastorage.org/files/47b/506/78e/47b50678ec464c19b6675c9293448eb9.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primeiro tempo de teste el√©trico! Conectamos os motores, alimentamos, instalamos a c√¢mera, conectamos o controle remoto a ele, configuramos para o Arduino: velocidade do obturador 30 segundos, intervalo 5 segundos. Pressionamos simultaneamente iniciar no controle remoto e no Arduino. Estamos esperando ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em menos de cinco minutos, a assincronia foi descoberta no trabalho. O motor principal come√ßou a girar quando o obturador ainda estava aberto. O problema √© o controle remoto: n√£o conta o tempo corretamente. Se, em tempo real, se passarem 30 segundos, o contador no controle remoto contar√° apenas 28 a 29 segundos. Ele est√° diminuindo a velocidade. Talvez devido ao fato de que os chineses ou por algum outro motivo (ser√° interessante aprender com voc√™ por que)! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para evitar isso, voc√™ precisa fazer tudo com base em um sistema - o Arduino. Mas como controlar o obturador da c√¢mera atrav√©s do Arduino?</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Google novamente para ajudar! </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adaptador do controle remoto</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br>
<br>
<img src="https://habrastorage.org/files/0ab/209/fac/0ab209fac50c4989bb935ac9ad8df36d.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O adaptador do controle remoto est√° conectado em uma extremidade da c√¢mera e a outra (tomada 2.5) no fio do controle remoto. O Jack 2.5 possui tr√™s contatos e, pelo princ√≠pio do controle remoto da c√¢mera, aprendi que, para acionar o obturador, dois desses tr√™s contatos devem ser fechados. Depois de tentar v√°rias combina√ß√µes, achei que funcionava! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fiz um cabo de dois n√∫cleos, um dos quais possui um conector de 2,5 pinos para a m√£e e √© conectado atrav√©s desse adaptador do controle remoto √† c√¢mera, o outro lado √© da unidade de controle. Dentro dele, eu vim com a ajuda de um bot√£o mec√¢nico para fechar essas duas veias. √â feito de micro servo e bot√£o de contato. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um micro-servo rocker</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pressiona um bot√£o de rel√≥gio em um determinado momento, fechando assim dois contatos e a c√¢mera tira uma foto:</font></font><br>
<br>
<img src="https://habrastorage.org/files/555/4c3/a76/5554c3a76de24bb59f56416de061ab4f.jpg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cabo do n√∫cleo: cabo de </font></font></b><br>
<br>
<img src="https://habrastorage.org/files/984/058/9b0/9840589b00bf4869bab6867ed52e4a9f.jpg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dois n√∫cleos + adaptador remoto:</font></font></b><br>
<br>
<img src="https://habrastorage.org/files/b11/13e/7a3/b1113e7a3ea34214b7f727752087af64.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
No final do outono, quando h√° um freezer pequeno, decidi testar o controle deslizante e encontrei outro defeito: mesmo a + 2 ¬∞ C, o servo principal se recusava a trabalhar. Isso ocorreu devido ao espessamento da lubrifica√ß√£o da engrenagem. Ap√≥s 5 a 10 minutos, o servo ficou preso nessa temperatura. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais tarde, j√° no inverno real, quando havia geadas at√© -10 ¬∞ C, o micro servo tamb√©m se fez sentir! Embora √† mesma temperatura a + 2 ¬∞ C, na qual o grande </font><b><font style="vertical-align: inherit;">MG995</font></b><font style="vertical-align: inherit;"> parou de funcionar</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, o bot√£o mec√¢nico funcionou de forma est√°vel e n√£o causou nenhuma reclama√ß√£o. Aparentemente, isso se deve ao fato de ela estar em um caso com um Arduino, que n√£o permitia que um micro motor congelasse rapidamente. Ent√£o o bot√£o funcionou bem, mas agora o sinal do disparador do obturador n√£o era enviado todas as vezes, e n√£o √© disso que precisamos. Eu tive que modificar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Logo ele encontrou uma solu√ß√£o para a libera√ß√£o do motor e do obturador. Comprei um motor de passo bipolar como o Nema 17 e mais um volumoso driver caseiro do vendedor. E nenhuma geada √© agora um obst√°culo! </font></font><br>
<br>
<img src="https://habrastorage.org/files/b00/550/68d/b0055068da384ac1a7edfbaf3a513021.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tamb√©m usei esse motor de passo em conjunto com uma caixa de c√¢mbio 1/55 semelhante, sobre a qual escrevi acima. O cabo est√° enrolado em um carretel.</font></font><br>
<br>
<img src="https://habrastorage.org/files/1b9/70d/27c/1b970d27ca4e47e39a4b3d977c89bd4e.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Resolvi o problema com o bot√£o lendo um artigo na Internet sobre um interval√¥metro caseiro para uma c√¢mera baseada em Arduino. L√°, um transistor convencional foi usado para fechar o circuito (dois contatos). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu tamb√©m me livrei de um enorme motorista caseiro, que foi brutalmente aquecido devido √† alta corrente nele, e poderia simplesmente falhar na hora errada. Substituindo-o depois pelo famoso </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EasyDriver</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , tive a oportunidade de ajustar a corrente no driver devido ao resistor de sintonia nele. A for√ßa da corrente afeta proporcionalmente o torque do motor. √â aqui menos da metade da norma m√°xima, pois √© usada uma caixa de engrenagens sem-fim com uma grande rela√ß√£o de transmiss√£o. O motorista come√ßou a aquecer significativamente menos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tamb√©m no </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EasyDriver</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√© poss√≠vel organizar facilmente um "modo de suspens√£o" quando o motorista est√° desligado e n√£o consome corrente no momento de espera do motor - o motor est√° completamente desligado. </font><font style="vertical-align: inherit;">A capacidade de dividir a etapa tamb√©m n√£o √© um recurso extra! </font><font style="vertical-align: inherit;">Agora, sem problemas, voc√™ pode fazer uma c√≥pia relativamente id√™ntica da unidade de controle dos componentes adquiridos na loja! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, h√° muito mais espa√ßo no caso do que era. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ANTES </font></font></b><br>
<br>
<img src="https://habrastorage.org/files/c08/5bf/5d8/c085bf5d8bf4497f80a62a6925dd9dcb.jpg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DEPOIS</font></font></b><br>
<br>
<img src="https://habrastorage.org/files/65f/fd7/0b5/65ffd70b5fca42c99e47ea026a1cd324.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tempo</font></font></h4><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Passei a maior parte aprendendo programa√ß√£o no Arduino. </font><font style="vertical-align: inherit;">E mesmo agora, meu esbo√ßo pode ser modificado. </font><font style="vertical-align: inherit;">Existe apenas um problema. </font><font style="vertical-align: inherit;">N√£o consigo fazer com que pressionar o bot√£o do rel√≥gio alterne o modo de opera√ß√£o e permane√ßa em um deles constantemente. </font><font style="vertical-align: inherit;">Os modos diferem apenas no tempo de exposi√ß√£o. </font><font style="vertical-align: inherit;">O intervalo √© sempre o mesmo e igual a 3,5 segundos. </font><font style="vertical-align: inherit;">Eu tentei muito, mas enquanto houver essa op√ß√£o. </font><font style="vertical-align: inherit;">Escrevi no final do inverno e combina comigo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â simples: a velocidade do obturador √© definida e equiparada ao per√≠odo decorrido desde o in√≠cio do programa at√© o momento de um √∫nico toque no bot√£o do rel√≥gio. </font><font style="vertical-align: inherit;">Para alter√°-lo, voc√™ precisa reiniciar o Arduino. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esbo√ßo:</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;Stepper.h&gt;</span></span><font></font>
<span class="hljs-keyword">int</span> Distance = <span class="hljs-number">0</span>; <font></font>
<span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>;<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> STEPS_MOTOR 32   </span><font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> STEPS_OUTPUT 32 * 64  <span class="hljs-comment">// = 2048</span></span><font></font>
<span class="hljs-function">Stepper <span class="hljs-title">stepper2</span><span class="hljs-params">(STEPS_MOTOR, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>, <span class="hljs-number">9</span>, <span class="hljs-number">11</span>)</span></span>;<font></font>
<font></font>
<span class="hljs-keyword">int</span>  steps;<font></font>
<span class="hljs-keyword">int</span> button = <span class="hljs-number">12</span>;<font></font>
<span class="hljs-keyword">int</span> previousMillis = <span class="hljs-number">0</span>; <font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span></span><font></font><span class="hljs-function">
</span>{<font></font>
  pinMode(<span class="hljs-number">13</span>, OUTPUT);     <font></font>
  pinMode(<span class="hljs-number">12</span>, INPUT);<font></font>
  pinMode(<span class="hljs-number">2</span>, OUTPUT);     <font></font>
  pinMode(<span class="hljs-number">3</span>, OUTPUT);<font></font>
  pinMode(<span class="hljs-number">7</span>, OUTPUT);<font></font>
<font></font>
 <font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span></span><font></font><span class="hljs-function">
</span>{ <font></font>
     <font></font>
   <span class="hljs-keyword">if</span> (digitalRead(<span class="hljs-number">12</span>) == HIGH)<font></font>
     { <font></font>
     <font></font>
     <font></font>
      <font></font>
       previousMillis = millis();     <font></font>
<font></font>
<span class="hljs-keyword">int</span> x = <span class="hljs-built_in">map</span>(previousMillis,<span class="hljs-number">60000</span>, <span class="hljs-number">0</span>, <span class="hljs-number">78</span>, <span class="hljs-number">0</span>);<font></font>
<font></font>
<font></font>
 a:<font></font>
 <font></font>
digitalWrite(<span class="hljs-number">2</span>, HIGH);<font></font>
  digitalWrite(<span class="hljs-number">3</span>, LOW);<font></font>
<font></font>
 { <font></font>
   digitalWrite(<span class="hljs-number">3</span>, HIGH);<font></font>
  delayMicroseconds(<span class="hljs-number">552</span>);          <font></font>
  digitalWrite(<span class="hljs-number">3</span>, LOW); <font></font>
  delayMicroseconds(<span class="hljs-number">552</span>);<font></font>
  Distance = Distance + <span class="hljs-number">1</span>; <font></font>
  <font></font>
<font></font>
  <span class="hljs-keyword">if</span> (Distance == <span class="hljs-number">3620</span>)<font></font>
  {<font></font>
    <span class="hljs-keyword">if</span> (digitalRead(<span class="hljs-number">2</span>) == HIGH)<font></font>
    {<font></font>
      digitalWrite(<span class="hljs-number">2</span>, HIGH);<font></font>
    }<font></font>
    <span class="hljs-keyword">else</span><font></font>
    {<font></font>
      digitalWrite(<span class="hljs-number">2</span>, LOW);<font></font>
    }<font></font>
   <font></font>
   <font></font>
 digitalWrite(<span class="hljs-number">2</span>, LOW);<font></font>
 digitalWrite(<span class="hljs-number">3</span>, LOW);  <font></font>
                   <font></font>
 steps = STEPS_OUTPUT;<font></font>
  stepper2.setSpeed(<span class="hljs-number">161.25</span>);     <span class="hljs-comment">// 500 ms</span><font></font>
  stepper2.step(steps = - x);                                    <font></font>
                      <font></font>
digitalWrite(<span class="hljs-number">8</span>, LOW);<font></font>
digitalWrite(<span class="hljs-number">10</span>, LOW);<font></font>
digitalWrite(<span class="hljs-number">9</span>, LOW);<font></font>
digitalWrite(<span class="hljs-number">11</span>, LOW);  <font></font>
   <font></font>
  <font></font>
   delay(<span class="hljs-number">500</span>);                   <span class="hljs-comment">// 500 ms</span><font></font>
<font></font>
<font></font>
digitalWrite(<span class="hljs-number">13</span>, HIGH);  <font></font>
  digitalWrite(<span class="hljs-number">7</span>, HIGH);   <font></font>
  delay(<span class="hljs-number">50</span>);                     <span class="hljs-comment">// 50 ms</span><font></font>
 digitalWrite(<span class="hljs-number">7</span>, LOW);     <font></font>
  digitalWrite(<span class="hljs-number">13</span>, LOW);    <font></font>
delay(previousMillis<span class="hljs-number">-3050</span>);             <span class="hljs-comment">// inerval = x-3500 ms</span><font></font>
  Distance = <span class="hljs-number">0</span>;<font></font>
}<font></font>
}<font></font>
<span class="hljs-keyword">goto</span> a;<font></font>
}}<font></font>
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instala√ß√£o do slider</font></font></h4><br>
<img src="https://habrastorage.org/files/59f/eb0/902/59feb0902e0b4875a35feec6c47da1c8.jpg"><br>
<br>
<img src="https://habrastorage.org/files/8c8/051/c07/8c8051c07768419ca33e67bf4874e83e.jpg"><br>
<br>
<img src="https://habrastorage.org/files/cfa/0d7/b3c/cfa0d7b3c7454de7bce351843c425d13.jpg"><br>
<br>
<img src="https://habrastorage.org/files/fc3/1a6/51d/fc31a651da6f4e128030f1622cf46def.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tudo est√° conectado. </font><font style="vertical-align: inherit;">O controle deslizante est√° pronto para ir!</font></font></h4><br>
<br>
<img src="https://habrastorage.org/files/c22/e30/8f5/c22e308f575c496b92fe2bce090115d6.jpg"><br>
<br>
<img src="https://habrastorage.org/files/7eb/17b/d43/7eb17bd43a3441e6bd41fbed060ef53e.jpg"><br>
<br>
<img src="https://habrastorage.org/files/0d9/2c6/bda/0d92c6bda0344f5db03e9e565d71e1b6.jpg"><br>
<br>
<img src="https://habrastorage.org/files/913/402/fc0/913402fc0ffa44fd9c813fb8bae5a006.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">achados</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que eu penso: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No momento, o controle deslizante est√° pronto para uso e est√° cumprindo totalmente seu objetivo, mas h√° algumas nuances que eu gostaria de finalizar no futuro. Quase todos eles pertencem √† carruagem. Eu acho que voc√™ percebeu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Precisamos de um mecanismo mais confi√°vel para manter o "astrotracker". O eixo do seu eixo deve ser sempre perpendicular ao solo. A cabe√ßa do trip√© de marca dar√° ao meu design uma apar√™ncia ainda mais est√©tica, originalmente concebida por mim! Quanto √† eletr√¥nica: √© assim que me conv√©m aqui, at√© o esbo√ßo do Arduino! De qualquer forma, j√° alcancei o resultado planejado! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um exemplo puramente t√©cnico do controle deslizante (inverno, fevereiro, -15 ¬∞ C):</font></font><br>
<br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://www.youtube.com/embed/3xXw4dfL3fM&amp;usg=ALkJrhiUTUAeP8rJPPORfvm0cbMhn1WgXg" frameborder="0" allowfullscreen=""></iframe><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O custo deste controle deslizante de v√≠deo √© inferior a US $ 100, sem incluir o custo de dois trip√©s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obrigado pela aten√ß√£o! </font><font style="vertical-align: inherit;">Boa sorte a todos em caseiros!</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt381931/">https://habr.com/ru/post/pt381931/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt381917/index.html">Muscula√ß√£o para freelancer</a></li>
<li><a href="../pt381919/index.html">A era dos inovadores em s√©rie</a></li>
<li><a href="../pt381923/index.html">–ü–∞—Ç–µ–Ω—Ç–æ–≤–∞–Ω–∏–µ –ø–æ–ª–µ–∑–Ω–æ–π –º–æ–¥–µ–ª–∏: —à–∞–≥–∏</a></li>
<li><a href="../pt381927/index.html">Plut√£o descobriu uma poderosa camada atmosf√©rica e a aus√™ncia de uma magnetosfera</a></li>
<li><a href="../pt381929/index.html">Conceito: luar - totalmente autom√°tico</a></li>
<li><a href="../pt381935/index.html">Cientistas da equipe New Horizons respondem a perguntas de usu√°rios do reddit (parte 2)</a></li>
<li><a href="../pt381937/index.html">Aplicativo Top Story - not√≠cias que te amam</a></li>
<li><a href="../pt381939/index.html">Vibe Shot: o primeiro celular com c√¢mera da Lenovo em a√ß√£o</a></li>
<li><a href="../pt381941/index.html">O cofundador Mail.ru investir√° US $ 100 milh√µes na busca de alien√≠genas</a></li>
<li><a href="../pt381943/index.html">In√©rcia do pensamento. Progresso cient√≠fico e social contra o conservadorismo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>