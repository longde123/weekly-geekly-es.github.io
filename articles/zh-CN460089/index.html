<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛩️ 👶🏻 🖇️ Zimbra Collaboration Suite安全更新 🤚🏿 🧡 🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="碰巧的是，系统管理员对新事物总是不信任。 从字面上看，从新服务器平台到软件更新的所有内容都应谨慎对待，直到出现首次使用的实际经验和来自其他企业的同事的积极反馈为止。 这是可以理解的，因为当您实际上是负责企业绩效和重要信息安全的负责人时，随着时间的推移，您甚至不再信任自己，更不用说承包商，下属或普通用...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Zimbra Collaboration Suite安全更新</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/zimbra/blog/460089/">碰巧的是，系统管理员对新事物总是不信任。 从字面上看，从新服务器平台到软件更新的所有内容都应谨慎对待，直到出现首次使用的实际经验和来自其他企业的同事的积极反馈为止。 这是可以理解的，因为当您实际上是负责企业绩效和重要信息安全的负责人时，随着时间的推移，您甚至不再信任自己，更不用说承包商，下属或普通用户了。 <br><br> 对软件更新的不信任是由于许多不愉快的情况，当安装新补丁导致性能下降，用户界面更改，信息系统故障或尤其是令人不快的数据丢失时。 但是，无法完全放弃更新，在这种情况下，企业的基础架构可能会受到网络犯罪分子的攻击。 足以让人联想起WannaCry病毒的惊人案例，当时存储在数百万台未更新为Windows最新版本的计算机上的数据被加密。 该事件不仅使一百多名系统管理员的工作成本增加，而且还清楚地表明需要制定一项新策略来更新企业中的软件产品，以兼顾安全性和安装速度。 让我们看一下如何在Zimbra 8.8.15 LTS版本发布前夕更新Zimbra Collabration Suite开源版，以确保所有关键数据都得到保证。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e98/93d/7d9/e9893d7d9f995c2a24dce02df7fa5d51.png" alt="图片"><a name="habracut"></a><br><br>  Zimbra Collaboration Suite的主要功能之一是几乎所有链接都可以复制。 特别是，除了主LDAP-Master服务器之外，您还可以添加重复的LDAP-副本，如果需要，可以将主LDAP服务器的功能转移到该副本。 您还可以复制代理服务器和具有MTA的服务器。 这种复制允许在必要时在升级过程中从基础结构中删除基础结构的各个链接，并且，由于这一点，不仅可以可靠地保护自身免受延长的停机时间，而且还可以防止因升级失败而导致的数据丢失。 <br><br> 与基础架构中的其他链接不同，Zimbra Collaboration Suite中不支持邮件存储库的重复。 即使您的基础结构具有多个邮件存储，每个邮箱的数据也可以位于任何一台邮件服务器上。 因此，更新期间数据安全的主要规则之一就是及时备份邮件存储中的信息。 备份越新鲜，在紧急情况下将保存更多的数据。 但是，需要注意的是，免费版Zimbra Collaboration Suite没有内置的备份机制，您将不得不使用内置的GNU / Linux工具来创建备份。 但是，如果您的Zimbra基础结构具有多个邮件存储，并且邮件归档的大小足够大，则每个此类备份都将花费很长时间，并且还会给本地网络和服务器本身造成严重的负担。 此外，在长时间复制期间，各种不可抗力事件的风险会急剧增加。 另外，如果在不停止服务的情况下执行了这样的备份，则存在可能无法正确复制某些文件的风险，这将导致某些数据丢失。 <br><br> 这就是为什么如果您需要从邮件存储中备份大量信息，最好使用增量备份，这样可以避免所有信息的完整复制，并且仅备份在进行了上次完整备份之后出现或经过更改的那些文件。 这大大加快了删除备份的过程，还使您可以快速开始安装更新。  Zimbra开源版中的增量备份可以使用Zextras套件中的Zextras Backup模块化扩展来实现。 <br><br> 另一个强大的工具Zextras PowerStore允许系统管理员对邮件存储中的数据进行重复数据删除。 这意味着邮件服务器上所有相同的附件和重复的电子邮件将被一个源文件替换，并且所有重复将变成透明的符号链接。 因此，不仅可以大大节省硬盘空间，而且可以大大减少备份的大小，从而可以减少完全备份的时间，并因此可以更频繁地执行备份。 <br><br> 但是Zextras PowerStore可以提供安全更新的主要机会是Zimbra多服务器基础结构中邮件服务器之间的邮箱转移。 多亏了此功能，系统管理员才有机会使用与MTA和LDAP服务器安全地更新它们相同的方式来处理邮件存储。 例如，如果Zimbra基础结构有四个邮件存储，则可以尝试将其中一个邮箱分配到其他三个邮箱，并且当第一个邮件存储为空时，可以对其进行更新，而不必担心数据的安全性。 如果系统管理员在基础结构中具有备用邮件存储，则他可以将其用作从更新的邮件存储中迁移的邮箱的临时存储。 <br><br> 要执行这种传输，可以使用控制台命令<b>DoMoveMailbox</b> 。 为了使用它从邮件存储中转移所有帐户，您必须首先获得其完整列表。 为了实现此目的，在邮件服务器上， <b>执行</b>命令<b>zmprov sa zimbraMailHost = Mailbox.example.com&gt; account.txt</b> 。 执行后，我们将收到<b>accounts.txt</b>文件，其中包含邮件存储中所有邮箱的列表。 之后，您可以立即使用它将帐户转移到另一个邮件存储。 例如，它将看起来像这样： <br><br><blockquote>  zxsuite powerstore doMailboxMove reserve_mailbox.example.com input_file accounts.txt暂存数据 <br>  zxsuite powerstore doMailboxMove reserve_mailbox.example.com input_file accounts.txt暂存数据，帐户通知admin@example.com </blockquote><br> 为了不复制帐户本身而第一次复制所有数据，该命令执行了两次，第二次，由于数据是递增传输的，因此复制在第一次传输之后出现的所有数据，然后再转移帐户本身。 我们提请您注意以下事实：帐户的转移伴随着邮箱的短期不可访问性，因此警告用户这一点是合理的。 此外，第二条命令完成后，管理员会在邮件中收到相应的通知。 多亏了他，管理员才能快速开始更新邮件存储。 <br><br> 如果邮件存储上的软件更新是由SaaS提供商进行的，则将数据传输到帐户而非位于帐户上的域，这将更加合理。 为此，只需稍微修改输入命令即可： <br><br><blockquote>  zxsuite powerstore doMailboxMove reserve_mailbox.saas.com域client1.ru，client2.ru，client3.ru暂存数据 <br>  zxsuite powerstore doMailboxMove secureserver.saas.com域client1.ru，client2.ru，client3.ru暂存数据，帐户通知admin@saas.com </blockquote><br> 从邮件存储中完成帐户及其数据的传输之后，源服务器上的数据将不再具有任何意义，并且您可以开始更新邮件服务器而无需担心它们的安全性。 <br><br> 对于希望在移动邮箱时减少停机时间的<b>用户来说</b> ，使用<b>zxsuite powerstore doMailboxMove命令</b>的完全不同的方案<b>是理想的</b> ，其本质是将邮箱直接传输到更新的服务器，而无需中间服务器。 换句话说，我们向Zimbra基础结构添加了一个新的邮件存储库，该存储库已经更新为最新版本，然后根据熟悉的情况将帐户从未更新的服务器转移到该服务器，然后重复该过程直到基础结构中的所有服务器都更新为止。 <br><br> 此方法使您可以一次转移帐户，从而减少邮箱不可用的时间。 另外，它的实现将只需要一个额外的邮件服务器。 但是，请谨慎使用那些在具有不同配置的服务器上部署邮件存储的管理员。 事实是，将大量帐户转移到性能较弱的服务器可能会对服务的可用性和响应性产生不利影响，这对于大型企业和SaaS提供商而言非常关键。 <br><br> 因此，由于有了Zextras Backup和Zextras PowerStore，Zimbra系统管理员才有机会更新Zimbra基础结构的所有节点，而不会对存储在其上的信息造成任何风险。 <br><br> 有关Zextras Suite的所有问题，您可以通过电子邮件katerina@zextras.com与Zextras Katerina Triandafilidi的代表联系。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN460089/">https://habr.com/ru/post/zh-CN460089/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN460060/index.html">创建Amazon Prime，这是互联网历史上最成功，最具破坏力的会员计划</a></li>
<li><a href="../zh-CN460070/index.html">闲置硬盘中的工艺品-迷你泵</a></li>
<li><a href="../zh-CN460073/index.html">交流：如何在数字时代向消费者传递信息</a></li>
<li><a href="../zh-CN460083/index.html">使用React Hooks创建类似Redux的全局存储</a></li>
<li><a href="../zh-CN460087/index.html">金字塔排序（HeapSort）</a></li>
<li><a href="../zh-CN460091/index.html">使用Epson SureColor SC – F在T恤上直接打印，与丝网印刷，贴花和热升华的区别</a></li>
<li><a href="../zh-CN460095/index.html">在gitlab.com上禁止了fork deepNude</a></li>
<li><a href="../zh-CN460097/index.html">矩阵为您提供：使用MITER ATT＆CK的项目概述</a></li>
<li><a href="../zh-CN460099/index.html">机器结构自动机器学习在神经网络中的应用</a></li>
<li><a href="../zh-CN460101/index.html">基于Cookie的XSS操作| $ 2300 Bug赏金故事</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>