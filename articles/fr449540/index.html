<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§≤üèΩ üôÖüèΩ üí¥ Effet de shader Doodle üîñ üëâüèø ‚ÅâÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans ce didacticiel, je vais vous expliquer comment recr√©er l'effet de doodle sprite populaire dans Unity √† l'aide de shaders. Si votre style n√©cessit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Effet de shader Doodle</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/449540/">  Dans ce didacticiel, je vais vous expliquer comment recr√©er l'effet de doodle sprite populaire dans Unity √† l'aide de shaders.  Si votre style n√©cessite ce style, alors cet article vous apprendra comment le r√©aliser sans rendre un tas d'images suppl√©mentaires. <br><br>  Au cours des derni√®res ann√©es, ce style est devenu de plus en plus populaire et est activement utilis√© dans des jeux tels que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener">GoNNER</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener">Baba is You</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cd2/3af/a39/cd23afa3995577cc1d1c87f7eff8be7d.gif"></div><br>  Ce didacticiel couvre tout ce dont vous avez besoin, des bases du codage des shaders aux math√©matiques utilis√©es.  √Ä la fin de l'article, il y a un lien pour t√©l√©charger le package Unity complet. <br><br>  Le succ√®s de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Doodle Studio 95</a> m'a inspir√© pour cr√©er ce tutoriel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">!</a>  . <br><a name="habracut"></a><br><h1>  Pr√©sentation </h1><br>  Dans mon blog, j'explore des sujets assez complexes, des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener">math√©matiques de la cin√©matique inverse</a> √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener">la diffusion de Rayleigh atmosph√©rique</a> .  J'aime vraiment rendre ces sujets difficiles compr√©hensibles pour un large public.  Mais le nombre de personnes int√©ress√©es et ayant un niveau technique suffisant n'est pas si grand.  Par cons√©quent, vous ne devriez pas √™tre surpris que les articles les plus populaires soient les plus simples.  Cela s'applique √©galement √† un r√©cent <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener">tweet de Nick Caman</a> dans lequel il a montr√© comment cr√©er <strong>un effet de griffonnage</strong> dans Unity. <br><br><div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1011319744031440896"></twitter-widget><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div><br>  Apr√®s 1000 likes et 4000 retweets, il est devenu clair qu'il existe une forte demande pour des tutoriels plus simples qui peuvent √™tre √©tudi√©s m√™me par des personnes qui n'ont pratiquement aucune connaissance de la cr√©ation de shaders. <br><br>  Si vous cherchez un moyen professionnel et efficace d'animer des sprites 2D avec un haut niveau de contr√¥le artistique, alors je recommande fortement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Doodle Studio 95!</a>  (voir GIF ci-dessous).  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener">Ici,</a> vous pouvez regarder quelques jeux qui utilisent cet outil. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9cf/563/42b/9cf56342b58ddde7eca5feced342ae18.gif"></div><br><h1>  Anatomie de l'effet Doodle </h1><br>  Pour recr√©er l'effet doodle, nous devons d'abord comprendre comment il fonctionne et quelles techniques y sont utilis√©es. <br><br>  <strong>Effet shader.</strong>  Premi√®rement, nous voulons que cet effet soit aussi simple que possible et ne n√©cessite pas de scripts suppl√©mentaires.  Cela est possible gr√¢ce √† l'utilisation de <strong>shaders</strong> qui indiquent √† Unity comment rendre les mod√®les 3D (y compris les mod√®les plats!) √Ä l'√©cran.  Si vous n'√™tes pas familier avec le monde <strong>du codage des shaders</strong> , alors vous devriez √©tudier mon article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">A Gentle Introduction to Shaders</a> . <br><br>  <strong>Shader de sprite.</strong>  Unity est livr√© avec de nombreux types de shaders.  Si vous utilisez les outils Unity 2D fournis, vous travaillez probablement avec des <strong>sprites</strong> .  Si c'est le cas, vous avez besoin de <strong>Sprite Shader</strong> - un type sp√©cial de shader compatible avec <code>SpriteRenderer</code> Unity.  Ou vous pouvez commencer avec le <strong>shader Unlit</strong> plus traditionnel. <br><br>  <strong>D√©calage de sommet.</strong>  Lorsque vous dessinez des sprites manuellement, aucun cadre ne co√Øncidera compl√®tement avec les autres.  Nous voulons que le sprite "vacille" d'une certaine mani√®re afin de simuler cet effet.  Les shaders ont un moyen tr√®s efficace de le faire, en utilisant le <strong>d√©calage de sommet</strong> .  Il s'agit d'une technique qui vous permet de modifier la position des sommets d'un objet 3D.  Si nous les d√©pla√ßons au hasard, nous obtenons l'effet souhait√©. <br><br>  <strong>Temps de trajet.</strong>  Les animations √† main lev√©e ont g√©n√©ralement une faible fr√©quence d'images.  Si nous voulons simuler, disons, cinq images par seconde, nous devons changer la position des sommets des sprites cinq fois par seconde.  Cependant, Unity est susceptible d'ex√©cuter le jeu √† un taux de rafra√Æchissement beaucoup plus √©lev√©;  peut-√™tre avec 30 ou m√™me 60 images par seconde.  Pour que le sprite ne change pas 60 fois par seconde, vous devez travailler sur le composant de synchronisation d'animation. <br><br><h1>  √âtape 1: terminer le shader de sprite </h1><br>  Si vous souhaitez cr√©er un nouveau shader dans Unity, le choix sera assez limit√©.  Le shader le plus proche avec <strong>lequel</strong> nous pouvons commencer sera <strong>Shader non √©clair√©</strong> , bien qu'il ne soit pas n√©cessairement le mieux adapt√© √† nos besoins. <br><br>  Si vous souhaitez que le shader doodle soit enti√®rement compatible avec <code>SpriteRenderer</code> Unity, nous devons compl√©ter le <strong>Sprite Shader</strong> existant.  Malheureusement, nous ne pouvons pas y acc√©der directement depuis Unity lui-m√™me. <br><br>  Vous pouvez y acc√©der en acc√©dant √† la page d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener">archives de t√©l√©chargement d'Unity</a> et en t√©l√©chargeant le package <strong>Build in shaders</strong> pour la version d'Unity avec laquelle vous travaillez.  Il s'agit d'un fichier zip contenant le code source de tous les shaders fournis avec votre build Unity. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d00/1b9/da8/d001b9da891e60ef4b93f89ffb8a9fda.png"></div><br>  Apr√®s le t√©l√©chargement, d√©compressez-le et recherchez le fichier <code>Sprites-Diffuse.shader</code> dans le dossier <code>builtin_shaders-2018.1.6f1\DefaultResourcesExtra</code> .  C'est le fichier que nous utiliserons dans le tutoriel. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/888/ee9/66f/888ee966f71ad738752f0bed48f4d66b.png"></div><br><div class="spoiler">  <b class="spoiler_title">Sprites-Diffuse n'est pas un shader de sprite standard!</b> <div class="spoiler_text">  Lors de la cr√©ation d'un nouveau sprite, son mat√©riau standard utilise un shader appel√© <code>Sprites-Default.shader</code> , et non <code>Sprites-Diffuse.shader</code> . <br><br>  La diff√©rence entre les deux est que le premier n'utilise pas d'√©clairage et que le second r√©agit √† l'√©clairage de la sc√®ne.  En raison de la nature de l'impl√©mentation Unity, la version diffuse est beaucoup plus facile √† √©diter que la version sans √©clairage. <br><br>  √Ä la fin de ce tutoriel, il y a un lien pour t√©l√©charger les shaders de doodle avec et sans √©clairage. </div></div><br><h1>  √âtape 2: d√©calage des sommets </h1><br>  √Ä l'int√©rieur de <code>Sprites-Diffuse.shader</code> il y a une fonction appel√©e <code>vert</code> , qui est la <strong>fonction de sommet</strong> dont nous avons parl√© ci-dessus.  Son nom n'est pas important, l'essentiel est qu'il co√Øncide avec celui sp√©cifi√© dans la section <code>vertex:</code> de la <code>#pragma</code> : <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">pragma</span></span></span><span class="hljs-meta"> surface surf Lambert vertex:vert nofog nolightmap nodynlightmap keepalpha noinstancing</span></span></code> </pre> <br>  En bref, la fonction de sommet est appel√©e pour chaque sommet du mod√®le 3D et d√©cide comment la superposer √† l'espace d'√©cran bidimensionnel.  Dans ce didacticiel, nous nous int√©ressons uniquement √† la fa√ßon de d√©placer un objet. <br><br>  Le param√®tre <code>appdata_full v</code> contient le champ de <code>vertex</code> , qui contient la position 3D de chaque sommet dans <strong>l'espace objet</strong> .  Lorsque la valeur change, le sommet se d√©place.  C'est-√†-dire, par exemple, que le code ci-dessous transf√®re l'objet avec son shader d'une unit√© le long de l'axe X. <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vert</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(inout appdata_full v, out Input o)</span></span></span><span class="hljs-function"> </span></span>{ v.vertex = UnityFlipSprite(v.vertex, _Flip); v.vertex.x += <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> defined(PIXELSNAP_ON) v.vertex = UnityPixelSnap (v.vertex); #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> UNITY_INITIALIZE_OUTPUT(Input, o); o.color = v.color * _Color * _RendererColor; }</span></span></code> </pre> <br>  Par d√©faut, les jeux 2D cr√©√©s dans Unity fonctionnent uniquement avec les axes X et Y, nous devons donc changer <code>v.vertex.xy</code> pour d√©placer le sprite sur un plan bidimensionnel. <br><br><div class="spoiler">  <b class="spoiler_title">Qu'est-ce que l'espace objet?</b> <div class="spoiler_text">  Le champ de <code>vertex</code> de la structure <code>appdata_full</code> contient la position du sommet actuel trait√© par le shader dans l'espace objet.  Il s'agit de la position du sommet sous l'hypoth√®se que l'objet est situ√© au centre du monde (0,0,0), sans changement d'√©chelle et sans rotation. <br><br>  Les pics exprim√©s dans l'espace mondial refl√®tent leur position r√©elle dans la sc√®ne Unity. </div></div><br><div class="spoiler">  <b class="spoiler_title">Pourquoi l‚Äôobjet ne se d√©place-t-il pas √† une vitesse d‚Äôun m√®tre par image?</b> <div class="spoiler_text">  Si nous ajoutons +1 √† la composante <code>x</code> de la valeur <code>transform.position</code> dans la m√©thode <code>Update</code> d'un script C #, nous verrons comment l'objet vole vers la droite √† une vitesse de 1 m√®tre par image, soit environ 216 kilom√®tres par heure. <br><br>  En effet, les modifications apport√©es par C # modifient la position elle-m√™me.  Dans la fonction vertex, cela ne se produit pas.  Le shader modifie uniquement la repr√©sentation visuelle du mod√®le, mais ne met pas √† jour ni ne modifie les sommets stock√©s du mod√®le.  C'est pourquoi l'ajout de +1 √† <code>v.vertex.x</code> d√©cale un objet d'un m√®tre une seule fois. </div></div><br><div class="spoiler">  <b class="spoiler_title">N'oubliez pas d'importer le sprite en tant que Tight!</b> <div class="spoiler_text">  Cet effet d√©place le haut du sprite.  Traditionnellement, les sprites sont import√©s dans Unity sous forme de quadrangles (voir la figure √† gauche).  Cela signifie qu'ils n'ont que quatre pics.  Si c'est le cas, seuls ces points peuvent √™tre d√©plac√©s, ce qui r√©duit la force de l'effet de griffonnage. <br><br>  Pour une distorsion plus forte et plus r√©aliste, vous devez importer des sprites en choisissant <b>Tight</b> pour le param√®tre <b>Mesh Type</b> , qui les transforme en une forme convexe (voir la figure √† droite). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0c6/50e/e6b/0c650ee6b9ec95c457e223200ce22d03.png"></div><br>  Cela augmente le nombre de sommets.  Ce n'est pas toujours souhaitable, mais c'est exactement ce dont nous avons besoin maintenant. </div></div><br><h2>  D√©calage al√©atoire </h2><br>  L'effet de griffonnage d√©cale al√©atoirement la position de chaque sommet.  L'√©chantillonnage de <strong>nombres al√©atoires</strong> dans un shader a toujours √©t√© une t√¢che difficile.  Cela est principalement d√ª √† l'architecture GPU distribu√©e, qui complique et r√©duit l'efficacit√© de la recr√©ation de l'algorithme utilis√© dans la plupart des biblioth√®ques (y compris <code>Mathf.Random</code> ). <br><br>  Le post de Nick Caman a utilis√© une texture de bruit qui, une fois √©chantillonn√©e, donne l'illusion du hasard.  Dans le cadre de votre projet, ce n'est peut-√™tre pas l'approche la plus efficace, car dans ce cas, le nombre d'op√©rations de recherche de texture effectu√©es par le shader double. <br><br>  Par cons√©quent, dans la plupart des shaders, des fonctions plut√¥t confuses et chaotiques sont utilis√©es, qui, malgr√© leur d√©terminisme, nous semblent n'avoir aucune r√©gularit√©.  Et comme ils doivent √™tre distribu√©s, chaque nombre al√©atoire doit √™tre g√©n√©r√© avec sa propre graine.  C'est tr√®s bien pour nous, car la position de chaque sommet doit √™tre unique.  Nous pouvons l'utiliser pour lier un nombre al√©atoire √† chaque sommet.  Nous discuterons plus tard de l'impl√©mentation de cette fonction al√©atoire;  appelons-le <code>random3</code> . <br><br>  Nous pouvons utiliser <code>random3</code> pour g√©n√©rer un d√©calage al√©atoire de chaque sommet.  Dans l'exemple ci-dessous, les nombres al√©atoires sont mis √† l'√©chelle √† l'aide de la propri√©t√© <code>_NoiseScale</code> , qui vous permet de contr√¥ler la force de d√©placement. <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vert</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(inout appdata_full v, out Input o)</span></span></span><span class="hljs-function"> </span></span>{ ... float2 noise = random3(v.vertex.xyz).xy * _NoiseScale; v.vertex.xy += noise; ... }</code> </pre> <br>  Maintenant, nous devons √©crire le code <code>random3</code> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/043/169/225/04316922581e9d303653d6d49554a058.png" alt="image"></div><br><h2>  Al√©atoire dans le shader </h2><br>  L'une des fonctions pseudo-al√©atoires les plus courantes et les plus embl√©matiques utilis√©es dans les shaders est tir√©e d'un article de W. Ray publi√© en 1998 sous le titre " <em>Sur la g√©n√©ration de nombres al√©atoires, √† l'aide de y = [(a + x) sin (bx)] mod 1</em> ". <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rand</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float2 co)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fract(<span class="hljs-built_in"><span class="hljs-built_in">sin</span></span>(dot(co.xy ,float2(<span class="hljs-number"><span class="hljs-number">12.9898</span></span>,<span class="hljs-number"><span class="hljs-number">78.233</span></span>))) * <span class="hljs-number"><span class="hljs-number">43758.5453</span></span>); }</code> </pre> <br>  Cette fonction est d√©terministe (c'est-√†-dire qu'elle n'est pas <em>vraiment</em> al√©atoire), mais elle se comporte de mani√®re si al√©atoire qu'elle semble compl√®tement al√©atoire.  Ces fonctions sont appel√©es <strong>pseudo-al√©atoires</strong> .  Pour mon tutoriel, j'ai choisi une fonction plus complexe, invent√©e par <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Nikita Miropolsky.</a> <br><br>  La g√©n√©ration d'un nombre pseudo al√©atoire dans un shader est un sujet tr√®s complexe.  Si vous souhaitez en savoir plus sur elle, alors <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener">le Livre des Shaders</a> a un bon chapitre sur elle.  De plus, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener">Patricio Gonzales Vivo a</a> construit un grand r√©f√©rentiel de fonctions pseudo-al√©atoires appel√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener">bruit GLSL</a> , qui peut √™tre utilis√© dans les shaders. <br><br><h1>  √âtape 3: ajouter du temps </h1><br>  Gr√¢ce au code que nous avons √©crit, chaque point de chaque image est d√©cal√© du m√™me montant.  Nous obtenons donc un sprite d√©form√©, pas un effet de griffonnage.  Pour r√©soudre ce probl√®me, vous devez trouver un moyen de modifier l'effet au fil du temps.  L'une des fa√ßons les plus simples de proc√©der consiste √† utiliser la position du sommet et l'heure actuelle pour g√©n√©rer un nombre al√©atoire. <br><br>  Dans notre cas, je viens d'ajouter l'heure actuelle en secondes <code>_Time.y</code> √† la position du sommet. <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> time = float3(_Time.y, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); float2 noise = random3(v.vertex.xyz + time).xy * _NoiseScale; v.vertex.xy += noise;</code> </pre> <br>  Des effets plus complexes peuvent n√©cessiter des moyens plus sophistiqu√©s pour ajouter du temps √† l'√©quation.  Mais comme nous ne nous int√©ressons qu'√† un effet al√©atoire intermittent, alors deux valeurs sont plus que suffisantes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b27/e1e/736/b27e1e736bda8387e8ef2e35486a7de5.gif"></div><br><h2>  Commutation horaire </h2><br>  Le principal probl√®me avec l'ajout de <code>_Time.y</code> est qu'il provoque l'animation de l'image-objet dans chaque image.  Cela n'est pas souhaitable pour nous, car la plupart des animations dessin√©es √† la main ont une faible fr√©quence d'images.  La composante temporelle ne doit pas √™tre continue, mais discr√®te.  Cela signifie que si nous voulons afficher cinq images par seconde, cela ne devrait changer que cinq fois par seconde.  Autrement dit, le temps devrait √™tre <em>li√©</em> √† un cinqui√®me de seconde.  Les seules valeurs valides doivent √™tre <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>0</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.73ex" height="2.419ex" viewBox="0 -780.1 5050.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-30" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-3D" x="3493" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-30" x="4550" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>0</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-1"> \ frac {0} {5} = 0 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>0</mn><mo>,</mo><mn>2</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.927ex" height="2.419ex" viewBox="0 -780.1 5996.2 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-31" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-3D" x="3493" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-30" x="4550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-2C" x="5050" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-32" x="5495" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>0</mn><mo>,</mo><mn>2</mn></math></span></span><script type="math/tex" id="MathJax-Element-2"> \ frac {1} {5} = 0,2 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>0</mn><mo>,</mo><mn>4</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.927ex" height="2.419ex" viewBox="0 -780.1 5996.2 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-32" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-3D" x="3493" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-30" x="4550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-2C" x="5050" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-34" x="5495" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>2</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>0</mn><mo>,</mo><mn>4</mn></math></span></span><script type="math/tex" id="MathJax-Element-3"> \ frac {2} {5} = 0,4 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>3</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>0</mn><mo>,</mo><mn>6</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.927ex" height="2.419ex" viewBox="0 -780.1 5996.2 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-33" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-3D" x="3493" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-30" x="4550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-2C" x="5050" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-36" x="5495" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>3</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>0</mn><mo>,</mo><mn>6</mn></math></span></span><script type="math/tex" id="MathJax-Element-4"> \ frac {3} {5} = 0,6 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>4</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>0</mn><mo>,</mo><mn>8</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.927ex" height="2.419ex" viewBox="0 -780.1 5996.2 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-34" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-3D" x="3493" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-30" x="4550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-2C" x="5050" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-38" x="5495" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>4</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>0</mn><mo>,</mo><mn>8</mn></math></span></span><script type="math/tex" id="MathJax-Element-5"> \ frac {4} {5} = 0,8 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.73ex" height="2.419ex" viewBox="0 -780.1 5050.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-35" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-3D" x="3493" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjpN1QKT6BHq1pvNGWXm7l7SkdsHA#MJMAIN-31" x="4550" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-6"> \ frac {5} {5} = 1 </script>  avec, et ainsi de suite ... <br><br>  J'ai d√©j√† couvert Snap sur mon blog dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener">How To Snap To Grid</a> .  Dans cet article, j'ai propos√© une solution au probl√®me de la liaison de la position d'un objet sur une grille spatiale.  Si nous devons lier le temps √† une grille temporelle, les math√©matiques, et donc le code, seront les m√™mes. <br><br>  La fonction ci-dessous prend le nombre <code>x</code> et le lie √† des valeurs enti√®res qui sont des multiples de <code>snap</code> . <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">inline</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">snap</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> snap)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> snap * round(x / snap); }</code> </pre> <br>  Autrement dit, notre code devient comme ceci: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> time = snap(_Time.y, _NoiseSnap); float2 noise = random3(v.vertex.xyz + float3(time, <span class="hljs-number"><span class="hljs-number">0.0</span></span>, <span class="hljs-number"><span class="hljs-number">0.0</span></span>) ).xy * _NoiseScale; v.vertex.xy += noise;</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e50/b7e/cea/e50b7ecea7366a53edcb1bd28d0d61b0.gif"></div><br><h1>  Conclusion </h1><br>  Le package Unity pour cet effet peut √™tre t√©l√©charg√© gratuitement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur Patreon</a> . <br><br><h2>  Ressources suppl√©mentaires </h2><br>  Au cours des derniers mois, un grand nombre de jeux dans le style de griffonnages sont apparus.  Il me semble que la raison en est le succ√®s de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Doodle Studio 95!</a>  - Un outil pour Unity, d√©velopp√© par <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Fernando Ramallo</a> .  Si ce style convient √† votre jeu, je vous recommande d'acheter cet outil incroyable. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Ax0CeKFTavI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr449540/">https://habr.com/ru/post/fr449540/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr449528/index.html">Sur la d√©composition de la r√©ponse multicanal d'un syst√®me en modes de vibration ¬´pseudo-propri√©taires¬ª</a></li>
<li><a href="../fr449532/index.html">ok.tech: Meetup Cassandra</a></li>
<li><a href="../fr449534/index.html">Concept car SLA: comment c'est fait en Chine</a></li>
<li><a href="../fr449536/index.html">iOS Digest n ¬∞ 4 (5 avril - 26 avril)</a></li>
<li><a href="../fr449538/index.html">D√©placement du portail Web: de l'architecture monolithique √† l'architecture microservice</a></li>
<li><a href="../fr449542/index.html">La m√©decine se d√©place vers le Web, les forums de discussion et les applications mobiles. Conversation avec BestDoctor</a></li>
<li><a href="../fr449544/index.html">Le monde moderne repose sur l'API</a></li>
<li><a href="../fr449546/index.html">V8: un an avec Spectre</a></li>
<li><a href="../fr449548/index.html">Centre de donn√©es spatiales. Reportage vid√©o du lancement</a></li>
<li><a href="../fr449552/index.html">Cryptage asym√©trique en pratique</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>