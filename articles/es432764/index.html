<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üõåüèø ü§¥üèæ üöØ UDB Que es esto üï¶ ü§õüèø üñåÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En los comentarios a mi art√≠culo sobre el control de LED RGB utilizando el bloque de microcontrolador UDB de Cypress PSoC, se sugiri√≥ que ser√≠a bueno ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>UDB Que es esto</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/432764/"><img src="https://habrastorage.org/webt/-g/uu/1k/-guu1klnqoqlqkjqj0jhxdp87o0.jpeg"><br><br>  En los comentarios a mi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo sobre el control de LED RGB utilizando el bloque de microcontrolador UDB de Cypress PSoC,</a> se sugiri√≥ que ser√≠a bueno decir brevemente al comienzo del art√≠culo qu√© es UDB.  Como ya se√±al√© en el art√≠culo, no puedo escribir sobre UDB brevemente, pero simplemente puede transferirle la documentaci√≥n de la compa√±√≠a para familiarizar al lector dom√©stico con una herramienta tan poderosa para implementar funciones de firmware. <br><a name="habracut"></a><br><br>  Pero primero, veamos de qu√© se trata PSoC.  PSoC es una familia de chipsets de Cypress para implementar sistemas en chip.  Las diferentes familias tienen un n√∫cleo de procesador diferente (para PSoC 3 es MCS-51, para PSoC 4 es Cortex M0, para PSoC 5LP es Cortex M3 y para PSoC 6 son dos a la vez: Cortex M0 + y Cortex M4) y un conjunto de l√≥gica programable.  Adem√°s, esta l√≥gica no es puramente digital; hay cosas anal√≥gicas all√≠.  Adem√°s de un conjunto de ADC diferentes, tambi√©n hay conmutadores anal√≥gicos.  Incluso puede conectar program√°ticamente las patas a trav√©s de circuitos anal√≥gicos, sin embargo, la resistencia del circuito se medir√° en kilogramos.  Hay amplificadores operacionales dentro de PSoC que se pueden cambiar mediante programaci√≥n, lo que significa que puede construir diferentes bloques anal√≥gicos en ellos. <br><br>  Por cierto, los PSoC pueden ser alimentados por cualquier voltaje de 2.7 a 5.5 voltios.  Es decir, no necesita pensar en ning√∫n tipo de estabilizadores con bater√≠a o con USB. <br><br>  Pero escrib√≠ sobre cosas anal√≥gicas simplemente por una palabra roja.  Ahora nos centraremos en las cosas digitales.  La mayor√≠a de los controladores modernos tienen potentes unidades perif√©ricas que proporcionan una gran variedad de funciones.  Pero en la pr√°ctica, en cada desarrollo de software espec√≠fico, estos bloques no se usan completamente, sino solo parcialmente.  Y en PSoC, en lugar de muchos buenos, se implementa la l√≥gica del programa, similar a la l√≥gica de los FPGA cl√°sicos.  En consecuencia, es posible implementar exactamente aquellos bloques que se necesitan en √©l, incluy√©ndolos en los modos que se requieren.  Y los recursos no deben gastarse en modos no utilizados, regal√°ndolos para la implementaci√≥n de alg√∫n tipo de cosas propias. <br><br>  Y aqu√≠ a menudo surge alg√∫n malentendido.  Muchos desarrolladores est√°n acostumbrados al hecho de que hay dos tipos de circuitos integrados l√≥gicos programables (FPGA): CPLD y FPGA.  Por lo tanto, muchos de los que han escuchado acerca de PSoC creen que existe una especie de caja CPLD que se puede programar en Veriolg.  De hecho, s√≠ y no.  Un cierto n√∫mero de PLD (sin "C", solo PLD) realmente est√°n all√≠, y realmente puede programarlos en Verilog.  Pero realmente, estos PLD son parte de los bloques UDB.  Y es UDB el elemento principal de la l√≥gica programable implementada en PSoC.  Este bloque es extremadamente original y ofrece simplemente las oportunidades m√°s amplias para el desarrollador.  Considere la figura de la documentaci√≥n patentada que explica la esencia del uso de bloques UDB. <br><br><img src="https://habrastorage.org/webt/ge/96/v7/ge96v7q6f8qwol5v38hqy1qfook.png"><br><br>  Como estudi√© todo utilizando la familia PSoC 5LP como ejemplo, traducir√© la documentaci√≥n a la misma.  Pero antes de comenzar, dir√© algunas palabras sobre el precio de estos controladores.  Si vas a Ali Express y miras la tabla para ellos, tienes una sensaci√≥n triste.  Hablando francamente, en comparaci√≥n con STM32-DISCOVERY todav√≠a no son nada, pero en comparaci√≥n con los prototipos STM32F103C8T6, son un poco caros.  En primer lugar, esto se debe al hecho de que las maquetas corporativas siempre tienen no uno, sino dos controladores de este tipo.  Las funciones JTAG se implementan en el PSoC 5LP, incluso si el controlador de destino y el PSoC 4 (este √∫ltimo generalmente no tiene un puerto USB). <br><br>  Pero al dividir el precio por dos, a√∫n obtenemos que es m√°s alto que el del STM32F103, que es similar en el n√∫cleo del procesador.  Sin embargo, si agregamos incluso el CPLD m√°s simple al mismo STM32 desde el exterior, entonces el precio total saldr√° a favor de PSoC.  Y agregaremos las patas perdidas a la conexi√≥n de estos dos casos (PSoC tiene todas las conexiones dentro).  Y tambi√©n el precio de cent√≠metros cuadrados del tablero.  Resulta que si necesita trabajar solo con el n√∫cleo del procesador, PSoC realmente no es necesario.  Si necesita aportar alguna funcionalidad al nivel de firmware o hardware, entonces necesita PSoC.  En √©l, el sistema saldr√° m√°s barato y m√°s f√°cil. <br><br>  De hecho, tengo una idea man√≠aca para tratar de hacer soporte de hardware para el n√∫cleo de nuestro RTOS MAX.  Para hacer esto, estudi√© la metodolog√≠a para desarrollar aplicaciones de Bare Metal para Altera V SoC (por desgracia, result√≥ que la caracter√≠stica de la arquitectura es tal que el sistema operativo puede ralentizarse, pero no puede acelerarlo: las solicitudes individuales al hardware vienen con una latencia loca).  Para esto, comenc√© a dominar PSoC.  No he alcanzado el overclocking del kernel (solo hay pensamientos generales), pero realmente me gust√≥ la idea de la programaci√≥n UDB.  Por supuesto, ahora estoy interesado en llevar esta idea al m√°ximo n√∫mero de programadores nacionales.  Por lo tanto, procedemos a la traducci√≥n de la parte correspondiente de la documentaci√≥n propietaria de Cypress en UDB.  La numeraci√≥n de cap√≠tulos y figuras se mantiene de acuerdo con el documento original. <br><br>  El contenido general del ciclo ‚ÄúUDB.  ¬øQu√© es esto? <br>  Parte 1. Introducci√≥n.  Pld.  (Art√≠culo actual) <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2. Ruta de datos.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3. Datapath FIFO.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 4. Datapath ALU.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 5. Ruta de datos.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Peque√±as cosas √∫tiles.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 6. M√≥dulo de gesti√≥n y estado.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 7. M√≥dulo de control de temporizaci√≥n y reinicio</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 8. Abordar UDB</a> <br><br><h1>  UDB  Que es esto  Parte 1 </h1><br><h2>  21. bloques digitales universales </h2><br>  En este cap√≠tulo, veremos c√≥mo los bloques digitales universales (UDB) permiten el desarrollo de funciones perif√©ricas digitales programables.  La arquitectura UDB logra un equilibrio entre granularidad de configuraci√≥n e implementaci√≥n eficiente.  Los UDB consisten en una combinaci√≥n de l√≥gica no conmutada similar a una matriz l√≥gica programable (PLM, PLD en ingl√©s), l√≥gica estructurada (m√°quinas operativas, en lo sucesivo denominadas Datapath) y un esquema de rastreo flexible. <br><br><h3>  21.1 Caracter√≠sticas </h3><br><ul><li>  Para una flexibilidad √≥ptima, cada UDB contiene los siguientes componentes: <br>  ‚Ä¢ Ruta de datos de 8 bits basada en ALU (Unidad aritm√©tica y l√≥gica, ALU) con repositorio de instrucciones de 8 palabras, varios registros y memorias intermedias FIFO; <br>  ‚Ä¢ dos PLD, cada uno de los cuales tiene 12 entradas, ocho t√©rminos conjuntivos (T√©rminos del producto, PT) y cuatro salidas de macroceldas; <br>  ‚Ä¢ registros de gesti√≥n y estado; <br>  ‚Ä¢ reloj y m√≥dulos de reinicio. </li><li>  PSoC 5LP contiene una matriz de hasta 24 UDB de tama√±o. </li><li>  Seguimiento flexible entre elementos de matriz UDB. </li><li>  Los elementos UDB se pueden dividir o encadenar para crear funciones m√°s grandes. </li><li>  Implementaci√≥n flexible de una serie de funciones digitales, incluidos temporizadores, contadores, moduladores de ancho de pulso (incluido PWM con un generador de banda muerta), UART, bus I2C, bus SPI y verificaci√≥n / generaci√≥n de CRC. </li></ul><br><h3>  21.2 Diagrama de bloques </h3><br>  La Figura 21-1 muestra la UDB como una construcci√≥n que contiene dos bloques l√≥gicos b√°sicos, PLD, Datapath y las funciones de control, estado, reloj y reinicio. <br><br><img src="https://habrastorage.org/webt/fo/zu/co/fozucosb4fhjohp6uuhbi1-onzq.png"><br>  <i>Figura 21-1.</i>  <i>Diagrama de bloques de UDB.</i> <br><br><h3>  21.3 C√≥mo funciona </h3><br>  Los componentes principales de UDB son: <br><br><ul><li>  PLD (2).  Los datos de los recursos de rastreo se env√≠an a las entradas de estos bloques.  Implementan l√≥gica combinacional y ajuste de datos, lo que le permite implementar m√°quinas de estados finitos, controlar las operaciones del bloque Datapath, configurar las condiciones de entrada y controlar las salidas. </li><li>  Datapath.  Este bloque contiene ALU programables din√°micamente, cuatro registros, dos memorias intermedias FIFO, comparadores y generaci√≥n de condiciones. </li><li>  Gesti√≥n y estado (Estado y Control).  Estos m√≥dulos proporcionan un mecanismo para la interacci√≥n de los microprogramas del procesador central (CPU) y la sincronizaci√≥n con las operaciones UDB.  Los registros de control act√∫an sobre elementos internos, y los registros de estado leen el estado de los elementos externos. </li><li>  Reloj y control de reinicio  Estos m√≥dulos proporcionan selecci√≥n y habilitaci√≥n de temporizaci√≥n, as√≠ como restablecer selecci√≥n dentro de UDB. </li><li>  Encadenamiento de se√±ales.  PLD y Datapath tienen se√±ales que le permiten encadenar bloques adyacentes en una cadena para crear funciones de bits m√°s altos. </li><li>  Canal de rastreo  Los UDB se conectan al canal de rastreo a trav√©s de matrices de conmutaci√≥n programables para la comunicaci√≥n entre bloques dentro del mismo UDB y para la comunicaci√≥n con otros UDB en la matriz. </li><li>  Interfaz del bus del sistema (interfaz del bus del sistema).  Todos los registros y RAM en cada UDB se proyectan en el espacio de direcciones del sistema, y ‚Äã‚Äãse puede acceder a ellos utilizando el procesador central o mediante el acceso directo a la memoria (Acceso directo a la memoria en ingl√©s, DMA) en forma de 8 bits y 16 bits. datos </li></ul><br><h4>  21.3.1.  Pld </h4><br>  Cada UDB tiene dos PLD 12C4.  Los bloques PLD que se muestran en la Figura 21-1 se pueden usar para implementar m√°quinas de estado, procesar datos de E / S y crear una l√≥gica de tabla (Tabla de b√∫squeda de ing.  Adem√°s, PLD se puede configurar para realizar funciones aritm√©ticas, establecer la secuencia de Datapath y generar estado.  La l√≥gica general se puede sintetizar y proyectar en bloques PLD.  Esta secci√≥n proporciona una descripci√≥n general de la arquitectura PLD. <br><br>  PLD tiene 12 entradas que transmiten informaci√≥n en 8 t√©rminos conjuntivos en una matriz AND.  En cada t√©rmino conjuntivo, puede elegir una entrada directa (verdadera, T) o inversa (complemento, C).  La salida de los t√©rminos conjuntivos va a la entrada de la matriz OR.  La letra 'C' en 12C4 indica que los t√©rminos OR son constantes para todas las entradas, y cada entrada OR puede obtener acceso program√°tico a cualquier t√©rmino conjuntivo.  Esta estructura proporciona la m√°xima flexibilidad y garantiza que todas las entradas y salidas se puedan mover. <br><br><img src="https://habrastorage.org/webt/j8/f9/c7/j8f9c7wdwgm9s5gedhb7swc8i08.png"><br>  <i>Figura 21-2.</i>  <i>La estructura de PLD 12C4.</i> <br><br><h4>  21.3.1.1 Macro PLD </h4><br>  La arquitectura de las macroc√©lulas se muestra en la figura 21-3.  La salida controla la matriz de rastreo y puede enclavarse o Raman.  Para el enclavamiento, se utiliza un disparador D con entrada directa o inversa o un disparador T con un nivel de entrada alto o bajo.  El disparador de salida se puede configurar o restablecer durante la inicializaci√≥n o de forma as√≠ncrona durante el funcionamiento normal, mediante una se√±al externa del canal de rastreo. <br><br><img src="https://habrastorage.org/webt/fo/rg/1w/forg1w4bmsa7n4mjt27c5mucwss.png"><br>  <i>Figura 21-3.</i>  <i>Arquitectura de macroc√©lulas.</i> <br><br>  <b>Registro de celda macro de PLD de solo lectura</b> <br>  Adem√°s de controlar la matriz de rastreo, las salidas de macroceldas de ambos PLD se proyectan en el espacio de direcciones en forma de un registro de solo lectura de 8 bits, al que se puede acceder utilizando la CPU o DMA. <br><br><img src="https://habrastorage.org/webt/a5/oc/zc/a5oczcwt1zvvzivxmrgbcc_opju.png"><br>  <i>Figura 21-4.</i>  <i>El registro de macroceldas PLD de solo lectura.</i> <br><br><h4>  21.3.1.2 cadena de separaci√≥n de palabras PLD </h4><br>  Los PLD est√°n unidos en el direccionamiento UDB.  Como se muestra en la Figura 21-5, la entrada de la cadena de transporte de selin se reenv√≠a desde el UDB anterior al circuito, a trav√©s de cada macroc√©lula en ambos PLD, luego se reenv√≠a al siguiente UDB como la salida de la cadena de transporte de selout.  Para apoyar la colocaci√≥n eficiente de las funciones aritm√©ticas, se generan t√©rminos conjuntivos especiales (PT), que se utilizan en macroc√©lulas junto con una cadena de separaci√≥n sil√°bica. <br><br><img src="https://habrastorage.org/webt/ms/fi/ai/msfiaihduu5-28whmd5iethri9y.png"><br>  <i>Figura 21-5.</i>  <i>Cadena de separaci√≥n sil√°bica PLD y entradas de t√©rminos conjuntivos especiales.</i> <br><br><h4>  21.3.1.3 Configuraci√≥n PLD </h4><br>  Cada PLD aparece antes de la CPU o DMA en forma de RAM con acceso de 16 bits.  La matriz AND tiene 12 √ó 8 √ó 2 bits o 24 bytes para la programaci√≥n, y la matriz OR tiene 4 √ó 8 bits o 4 bytes para la programaci√≥n.  Adem√°s, cada macrocelda tiene un byte de configuraci√≥n, totalizando 32 bytes de configuraci√≥n por PLD.  Como cada UDB tiene 2 PLD, la configuraci√≥n total de cada UDB es de 64 bytes. <br><br>  La pr√≥xima vez consideraremos los aut√≥matas operativos (rutas de datos). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es432764/">https://habr.com/ru/post/es432764/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es432752/index.html">Hormiguero o fortaleza? Estoy construyendo una casa por el precio de un apartamento. 3 partes Fuente de alimentaci√≥n</a></li>
<li><a href="../es432754/index.html">El almacenamiento de datos en memoria y en disco traer√° al p√∫blico</a></li>
<li><a href="../es432756/index.html">Implementamos soporte de accesibilidad sin cambiar el componente visual de la aplicaci√≥n m√≥vil.</a></li>
<li><a href="../es432760/index.html">Vistas de productos vectoriales u otro uso del modelo Word2Vec</a></li>
<li><a href="../es432762/index.html">El detector de mentiras de IA puede detectar cuando una persona est√° mintiendo</a></li>
<li><a href="../es432766/index.html">C√≥mo codificar un mensaje secreto en una huella digital</a></li>
<li><a href="../es432768/index.html">Auriculares inal√°mbricos para "maratones en serie": en Dolby se ofrecer√°n por $ 599</a></li>
<li><a href="../es432770/index.html">Botnets y sus tipos: lo que se conoce en 2018</a></li>
<li><a href="../es432772/index.html">C√≥mo creamos un servicio de campa√±a publicitaria que cumpla con el RGPD</a></li>
<li><a href="../es432774/index.html">Frontend DevDay. Grabaci√≥n de informes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>