<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧞 🌊 🗂️ Kami mempelajari data yang dikumpulkan oleh Xiaomi Mi Band untuk tahun ini 😵 ◽️ 🖕🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pendahuluan 


 Orang memakai gelang kebugaran karena berbagai alasan, saya dapat mengasumsikan beberapa di antaranya: 


1. Agar tetap bugar dan meme...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kami mempelajari data yang dikumpulkan oleh Xiaomi Mi Band untuk tahun ini</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/464055/"><h2 id="vvedenie">  Pendahuluan </h2><br><p>  Orang memakai gelang kebugaran karena berbagai alasan, saya dapat mengasumsikan beberapa di antaranya: </p><br><ol><li>  Agar tetap bugar dan memenuhi tujuan kegiatan; </li><li>  Karena itu adalah hal kecil yang modis; </li><li>  Bereksperimen dengan diri sendiri atau mengenal diri sendiri lebih baik. </li></ol><br><p>  Saya memakai gelang kebugaran untuk alasan nomor 3. Dalam artikel ini saya ingin berbicara tentang bagaimana Anda dapat mengekstrak data dari gelang dan mencoba untuk mendapatkan beberapa dependensi. </p><br><p>  Metode untuk mengekstraksi data ini berfungsi untuk <strong>Mi Band 1</strong> , <strong>1S</strong> , dan mungkin <strong>2</strong> (aplikasi untuk 2 tampaknya sama). <a name="habracut"></a></p><br><h2 id="izvlechenie-dannyh">  Ekstraksi data </h2><br><p>  Untuk mengekstrak data dari gelang, pertama-tama, Anda perlu mendapatkan database dari telepon SQLite tempat metrik yang dikumpulkan disimpan.  Dalam kasus Android, ini dilakukan dengan sangat sederhana, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">lihat topik di forum xda-developer</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">skrip untuk database saat ini</a> : </p><br><ol><li>  Kami menghubungkan ponsel Android dengan debugging USB yang diaktifkan ke komputer; </li><li> Kami membuat cadangan aplikasi: <code>adb backup -f mi.ab -noapk -noshared com.xiaomi.hm.health</code> ; </li><li>  Buat <code>dd if=mi.ab bs=1 skip=24 | python -c "import zlib,sys;sys.stdout.write(zlib.decompress(sys.stdin.read()))" &gt; mi.tar</code>  <code>dd if=mi.ab bs=1 skip=24 | python -c "import zlib,sys;sys.stdout.write(zlib.decompress(sys.stdin.read()))" &gt; mi.tar</code> ; </li><li>  Buka paket arsip dari database: <code>tar xvf mi.tar apps/com.xiaomi.hm.health/db/ 2&gt;&amp;1 | tee -a log</code>  <code>tar xvf mi.tar apps/com.xiaomi.hm.health/db/ 2&gt;&amp;1 | tee -a log</code> ; </li><li>  Salin basis data: <code>cp -f apps/com.xiaomi.hm.health/db/origin_db* ./db/</code> . </li></ol><br><p>  Hasilnya, kami mendapatkan database SQLite dengan nama file <code>db/origin_db_[0-9]+$</code> , yang menyimpan metrik Mi Band. </p><br><h2 id="zagruzka-i-analiz-dannyh">  Pemuatan dan analisis data </h2><br><p>  Untuk mempelajari data, menurut pendapat saya, nyaman untuk menggunakan notebook IPython: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Xiaomi_Mifit_miband_data.ipynb</a> </p><br><p>  Metrik disimpan dalam tabel DATE_DATA: </p><br><pre> <code class="python hljs">df = pd.read_sql_query(<span class="hljs-string"><span class="hljs-string">"SELECT * from DATE_DATA"</span></span>, con)</code> </pre> <br><p>  Kolom dalam tabel yang menarik: </p><br><div class="scrollable-table"><table><thead><tr><th>  kolom </th><th>  deskripsi </th></tr></thead><tbody><tr><td>  DATE </td><td>  tanggal </td></tr><tr><td>  RINGKASAN </td><td>  JSON dengan data yang diproses untuk hari itu </td></tr><tr><td>  DATA </td><td>  data mentah per menit per tidur [aktivitas1], aktivitas2, aktivitas3 </td></tr><tr><td>  DATA_HR </td><td>  data detak jantung menit mentah </td></tr></tbody></table></div><br><h3 id="agregirovannye-za-den-dannye">  Data Teragregasi Harian </h3><br><p>  Data teragregasi disimpan sebagai JSON: </p><br><pre> <code class="json hljs">{<span class="hljs-attr"><span class="hljs-attr">"slp"</span></span>:{<span class="hljs-attr"><span class="hljs-attr">"usrEd"</span></span>:<span class="hljs-number"><span class="hljs-number">-1440</span></span>,<span class="hljs-attr"><span class="hljs-attr">"lt"</span></span>:<span class="hljs-number"><span class="hljs-number">457</span></span>,<span class="hljs-attr"><span class="hljs-attr">"st"</span></span>:<span class="hljs-number"><span class="hljs-number">1464376080</span></span>,<span class="hljs-attr"><span class="hljs-attr">"wk"</span></span>:<span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-attr"><span class="hljs-attr">"dp"</span></span>:<span class="hljs-number"><span class="hljs-number">30</span></span>,<span class="hljs-attr"><span class="hljs-attr">"usrSt"</span></span>:<span class="hljs-number"><span class="hljs-number">-1440</span></span>,<span class="hljs-attr"><span class="hljs-attr">"ed"</span></span>:<span class="hljs-number"><span class="hljs-number">1464406200</span></span>},<span class="hljs-attr"><span class="hljs-attr">"v"</span></span>:<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-attr"><span class="hljs-attr">"goal"</span></span>:<span class="hljs-number"><span class="hljs-number">8000</span></span>,<span class="hljs-attr"><span class="hljs-attr">"stp"</span></span>:{<span class="hljs-attr"><span class="hljs-attr">"rn"</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-attr"><span class="hljs-attr">"cal"</span></span>:<span class="hljs-number"><span class="hljs-number">257</span></span>,<span class="hljs-attr"><span class="hljs-attr">"runDist"</span></span>:<span class="hljs-number"><span class="hljs-number">256</span></span>,<span class="hljs-attr"><span class="hljs-attr">"wk"</span></span>:<span class="hljs-number"><span class="hljs-number">69</span></span>,<span class="hljs-attr"><span class="hljs-attr">"ttl"</span></span>:<span class="hljs-number"><span class="hljs-number">5244</span></span>,<span class="hljs-attr"><span class="hljs-attr">"runCal"</span></span>:<span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-attr"><span class="hljs-attr">"dis"</span></span>:<span class="hljs-number"><span class="hljs-number">3817</span></span>}}</code> </pre> <br><p>  Data dibagi menjadi 2 bagian: tidur ( <strong>slp</strong> ) dan aktivitas ( <strong>stp</strong> ).  Untuk tidur, waktu mulai dan berakhir disimpan - <strong>st, ed</strong> , serta waktu tidur nyenyak dan dalam hitungan menit - <strong>lt, dp</strong> .  Waktu terjaga antara awal dan akhir tidur juga disimpan - <strong>minggu</strong> .  Untuk aktivitas, jumlah total "langkah" <strong>ttl</strong> disimpan - jumlah pembacaan sensor utama untuk hari itu dan jumlah turunan lainnya <code>func(ttl, , )</code> . </p><br><h3 id="syrye-dannye-aktivnosti-i-pulsa">  Aktivitas mentah dan data detak jantung </h3><br><p>  Data aktivitas mentah disimpan setiap menit (per hari 1440), dan mewakili 3 nilai per menit.  Nilai pertama adalah mimpi dan nilai dari 0 hingga 127 (tetapi dalam kasus saya maksimum 126), yang kedua dan ketiga adalah aktivitas dengan nilai dari 0 hingga 255 (saya memiliki maksimum activity2 - 189, activity3 - 240). </p><br><p>  Denyut nadi disimpan setiap menit dan berkisar dari 0 hingga 255. </p><br><h2 id="kak-syrye-dannye-prevraschayutsya-v-agregirovannye-za-den">  Bagaimana data mentah menjadi teragregasi per hari </h2><br><p>  Agregat paling sederhana adalah jumlah langkah per hari - jumlah nilai activity3 per hari.  Lebih sulit tidur: Saya tidak pernah belajar cara mengubah data tidur mentah menjadi data agregat.  Gagasan itu diungkapkan dalam forum bahwa nilai activity1 == 4 adalah tidur nyenyak, dan 5 ringan, tetapi tidak sesederhana dengan langkah-langkah untuk membangun hubungan antara data agregat dan data mentah. </p><br><h2 id="analiz-dannyh">  Analisis data </h2><br><p>  Pertama, berapa banyak saya tidur sepanjang tahun.  Nilai ini ternyata ~ (7 + - 1) jam.  Segalanya tampak baik-baik saja dengan itu. </p><br><p><img src="https://raw.githubusercontent.com/vologab/miband_jupyter_notebook/master/plots/sleep_time_distribution.png" alt="waktu tidur"></p><br><p>  Hal lain yang jelas - saya cukup tidur di akhir pekan: </p><br><p><img src="https://raw.githubusercontent.com/vologab/miband_jupyter_notebook/master/plots/sleep2_time_vs_wd.png" alt="tidur vs hari minggu"></p><br><p>  Dan jika Anda menyebut hubungan tidur nyenyak dengan kualitas cahaya, ternyata saya memiliki kualitas tidur terbaik pada hari Kamis, dan pada saat yang sama, tidur nyenyak adalah 23% dari total waktu tidur.  Dan pada hari Jumat - kualitas tidur terburuk, saya takut untuk menebak mengapa. </p><br><p><img src="https://raw.githubusercontent.com/vologab/miband_jupyter_notebook/master/plots/sleep_ratio_vs_wd.png" alt="aktivitas vs hari kerja"></p><br><p>  Jumlah maksimum "langkah" yang saya buat pada hari Jumat dan Sabtu: </p><br><p><img src="https://raw.githubusercontent.com/vologab/miband_jupyter_notebook/master/plots/activity_steps_vs_wd.png" alt="aktivitas vs hari kerja"></p><br><p>  Pada saat yang sama, lingkungan saya adalah hari ketika saya tidur sedikit dan berjalan sedikit, tidak ada penjelasan yang jelas dari kategori "Saya bekerja dari rumah", jadi ini adalah sesuatu yang baru bagi saya. </p><br><p>  Saya berharap bahwa seseorang dari pemilik gelang Mi band yang populer juga ingin belajar sendiri dan menceritakan tentang fitur mereka. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id464055/">https://habr.com/ru/post/id464055/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id464039/index.html">Jaringan saraf dan pembelajaran mendalam: tutorial online, bab 6, bagian 2: kemajuan terbaru dalam pengenalan gambar</a></li>
<li><a href="../id464041/index.html">Mengapa pilot pesawat tempur terbaik sering mendapat masalah besar</a></li>
<li><a href="../id464043/index.html">Sejarah Konverter Ethernet-CAN</a></li>
<li><a href="../id464045/index.html">How I Almost Real-Time Race Trails pada tahun 1997</a></li>
<li><a href="../id464053/index.html">Nota: Pemilihan trek dan algoritma rotasi</a></li>
<li><a href="../id464057/index.html">Hilbert, Lebesgue ... and the Void</a></li>
<li><a href="../id464063/index.html">Memotong kabel pada tahun 2019</a></li>
<li><a href="../id464071/index.html">Revolusi atau rasa sakit? Laporan Reaksi Kait Yandex</a></li>
<li><a href="../id464075/index.html">Pengantar C. Pesan dari abad terakhir</a></li>
<li><a href="../id464077/index.html">Tidak, Anda tidak perlu delta 50 km / s. Anda Membutuhkan Teknologi Aditif (Bagian 1)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>