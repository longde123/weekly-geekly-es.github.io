<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§Ω üèΩ üìù Zimbra y protecci√≥n de sobrecarga del servidor üçã ü§ûüèæ ü§ò</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El correo electr√≥nico se ha consolidado como un est√°ndar para la comunicaci√≥n empresarial. Debido a la alta eficiencia econ√≥mica de los correos electr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Zimbra y protecci√≥n de sobrecarga del servidor</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/zimbra/blog/457896/"> El correo electr√≥nico se ha consolidado como un est√°ndar para la comunicaci√≥n empresarial.  Debido a la alta eficiencia econ√≥mica de los correos electr√≥nicos, as√≠ como a una serie de caracter√≠sticas asociadas con la cita de texto y adjuntar archivos adjuntos, son los correos electr√≥nicos los m√°s adecuados para el papel de una forma universal de intercambio de documentos y comunicaci√≥n comercial educada.  Estas mismas caracter√≠sticas se han convertido en la raz√≥n por la cual los spammers son tan aficionados al correo electr√≥nico.  Como resultado, hoy el correo electr√≥nico es un inmenso oc√©ano de spam, en cuyas aguas solo se encuentran ocasionalmente cartas comerciales.  Es por eso que una de las tareas principales del administrador de cualquier servidor de correo es la protecci√≥n contra el correo no deseado.  Echemos un vistazo a lo que puede hacer con esto en Zimbra Collaboration Suite Open-Source Edition. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e98/93d/7d9/e9893d7d9f995c2a24dce02df7fa5d51.png" alt="imagen"><br><a name="habracut"></a><br>  A pesar de la soluci√≥n gratuita, Zimbra OSE puede proporcionar al administrador del sistema una tonelada de herramientas extremadamente efectivas para resolver el problema de recibir correos electr√≥nicos no deseados.  Ya escribimos sobre utilidades como Amavis, SpamAssassin, ClamAV y cbpolicyd, que le permiten filtrar de manera confiable el correo entrante filtrando los correos no deseados, as√≠ como los correos electr√≥nicos infectados y de phishing.  Sin embargo, su inconveniente clave es que todos trabajan con mensajes de correo ya recibidos y gastan recursos del sistema para filtrar mensajes in√∫tiles, que siempre se pueden encontrar mucho mejor.  Pero, ¬øqu√© sucede si su empresa est√° bajo la pistola de una gran red de bots que constantemente arroja su servidor de correo con tantas cartas basura que filtrarlas solo ocupar√° la mayor parte de la capacidad del servidor MTA? <br><br>  En teor√≠a, puede protegerse de esto conectando un servicio en la nube para filtrar el correo entrante, pero en la pr√°ctica este m√©todo de protecci√≥n no es adecuado para todas las empresas, porque en este caso tendr√° que confiar a terceros el procesamiento no solo del correo no deseado, sino tambi√©n de la correspondencia comercial, que no siempre es as√≠. seguro y, a menudo, directamente contrario a la pol√≠tica de seguridad de la empresa.  Adem√°s, existen riesgos asociados con la confiabilidad del filtro de spam en la nube.  La soluci√≥n a esta situaci√≥n puede ser la organizaci√≥n de la protecci√≥n del servidor por s√≠ sola.  Especialmente para estos fines, Zimbra ten√≠a una utilidad incorporada Postscreen, que est√° dise√±ada para proteger el servidor de correo de las cartas enviadas por botnets, sin cargar el servidor de correo. <br><br>  La esencia del trabajo de Postscreen es que esta utilidad escanea todas las solicitudes de conexi√≥n al servidor de correo y no permite a los clientes que parezca sospechoso conectarse al servidor.  Dado que, seg√∫n las estad√≠sticas, alrededor del 90% del spam en el mundo es enviado por botnets, Postscreen a menudo se usa como el primer grado de protecci√≥n para un servidor de correo de correos no deseados.  Gracias a esto, el servidor de correo puede funcionar de manera estable sin sobrecargas incluso ante fuertes ataques de spam de grandes botnets. <br><br>  El principio de funcionamiento de Postscreen es bastante simple, la utilidad puede realizar una serie de verificaciones simples de las cartas entrantes antes de transferirlas al servidor de correo u otros servicios que realizan una verificaci√≥n m√°s profunda y detallada de las cartas entrantes.  Cada una de las comprobaciones, respectivamente, se puede pasar, pero no se puede pasar.  En funci√≥n de los resultados de cada una de las comprobaciones, Postscreen puede aplicar una de tres acciones a elecci√≥n del administrador de Zimbra: <b>Drop</b> , <b>Ignore</b> o <b>Enforce</b> .  La acci√≥n <b>Descartar</b> obliga a desconectar la conexi√≥n con el cliente si la verificaci√≥n falla, la acci√≥n <b>Ignorar le</b> permite ignorar los resultados de las comprobaciones al tomar la decisi√≥n final, pero al mismo tiempo recopilar informaci√≥n y estad√≠sticas sobre las comprobaciones, y la acci√≥n <b>Imponer le</b> permite tener en cuenta los resultados de las comprobaciones al tomar la decisi√≥n final, pero al mismo tiempo contin√∫e realizando todas las pruebas planificadas por el administrador del sistema. <br><br>  El simple principio de funcionamiento no significa facilidad de uso y configuraci√≥n.  El hecho es que una pantalla de mensajes mal configurada puede convertirse en la raz√≥n por la cual varios mensajes que son importantes para la empresa no llegar√°n al destinatario.  Es por eso que es necesario abordar la configuraci√≥n de una herramienta tan poderosa como Postscreen con gran cuidado y probar constantemente su comportamiento en ciertas situaciones. <br><br>  Postscreen en Zimbra se incluye inicialmente, pero muchos pueden no estar contentos con la configuraci√≥n inicial.  Ahora veremos la mejor opci√≥n para configurar Postscreen en t√©rminos de seguridad y sin riesgos.  Su esencia es que despu√©s de la falla de cualquiera de las verificaciones, Postscreen no se desconectar√° del cliente sin conversaciones, sino que llevar√° a cabo todas las verificaciones hasta el final y si estas verificaciones fallan, mostrar√° un mensaje de error.  Esto notificar√° al remitente vivo de la no entrega del mensaje si Postscreen lo acepta como spam.  Esto se logra al establecer el valor de cumplimiento en los par√°metros de las comprobaciones.  Es este valor el que le permite completar las comprobaciones iniciadas hasta el final, sin interrumpir la conexi√≥n con el cliente en el primer fallo, pero al mismo tiempo, al finalizar, a√∫n bloquea el correo electr√≥nico no deseado sin entregarlo al servidor. <br><br>  Para habilitar las verificaciones necesarias, ingrese los siguientes comandos: <br><br>  <b>zmprov mcf zimbraMtaPostscreenDnsblSites 'b.barracudacentral.org = 127.0.0.2 * 7' zimbraMtaPostscreenDnsblSites 'zen.spamhaus.org = 127.0.0. [10; 11] * 8' zimbraMtaPostscreenDnsblSites 'zen.spa.0haus.org = 127.0.0. ..7] * 6 'zimbraMtaPostscreenDnsblSites' zen.spamhaus.org = 127.0.0.3 * 4 'zimbraMtaPostscreenDnsblSites' zen.spamhaus.org = 127.0.0.2 * 3 '</b> <br><br>  Este comando le permite agregar una comprobaci√≥n de DNS de las conexiones entrantes a las dos bases de datos de spam p√∫blico m√°s populares y calificar las letras seg√∫n la base de datos donde se encontrar√° la direcci√≥n del remitente.  Mientras m√°s ‚Äúpenalizadas‚Äù estrellas obtenga un cliente, m√°s probable es que sea un spammer <br><br>  <b>zmprov mcf zimbraMtaPostscreenDnsblAction hacer cumplir</b> <br><br>  Este comando determina la acci√≥n que se realiza como resultado de pasar la verificaci√≥n de DNS.  En este caso, se recuerda el resultado de la prueba, y la carta en s√≠ contin√∫a siendo sometida a otras pruebas. <br><br>  <b>zmprov mcf zimbraMtaPostscreenGreetAction hacer cumplir</b> <br><br>  Dado que en el protocolo SMTP, despu√©s de una conexi√≥n directa, el servidor primero inicia la comunicaci√≥n con el cliente y, en consecuencia, Postscreen puede enviar un saludo al cliente.  Debido al hecho de que muchos clientes de correo no deseado, sin esperar el final del saludo, comienzan a enviar comandos, pueden ser f√°cilmente reconocidos.  Este comando le permite tener en cuenta los resultados de esta prueba, pero al mismo tiempo continuar realizando m√°s pruebas. <br><br>  <b>zmprov mcf zimbraMtaPostscreenNonSmtpCommandAction drop</b> <br><br>  Como parte de esta prueba, Postscreen le permite filtrar conexiones que no provienen de clientes de correo electr√≥nico.  Dado que no env√≠an cartas, puede desconectarlas del servidor de forma segura sin ning√∫n temor. <br><br>  <b>zmprov mcf zimbraMtaPostscreenPipeliningAction hacer cumplir</b> <br><br>  Esta verificaci√≥n se basa en el hecho de que, de manera predeterminada, en el protocolo SMTP el cliente puede enviar solo un comando a la vez y luego esperar a que el servidor responda a este comando.  Sin embargo, muchos robots de spam se comportan de manera diferente al enviar muchos comandos sin esperar una respuesta del servidor.  Esto le permite identificar bots de spam de manera casi inconfundible. <br><br>  En principio, estas comprobaciones para Postscreen ser√°n m√°s que suficientes para cortar la mayor parte de los robots de spam del servidor y lograr una reducci√≥n significativa en la carga en su servidor de correo.  Al mismo tiempo, las personas vivas recibir√°n un mensaje de que su carta no ha sido entregada, lo que reduce significativamente el riesgo de perder mensajes importantes debido a la configuraci√≥n de la pantalla de publicaci√≥n.  En el caso de que esto suceda, puede agregar un remitente de confianza a la lista blanca de la pantalla de publicaciones.  Para crear listas blancas y negras de Postscreen, primero debe crear el archivo <b>/ opt / zimbra / conf / postfix / postscreen_wblist</b> . <br><br>  Agregaremos una lista de direcciones IP y subredes permitidas y prohibidas en el formato de tabla CIDR.  Por ejemplo, bloquee la subred 121.144.169. *, Pero permita la conexi√≥n a una √∫nica direcci√≥n IP desde esta subred: <br><br><blockquote>  # Las reglas se eval√∫an en el orden especificado. <br>  # Lista negra 121.144.169. * Excepto 121.144.169.196. <br>  121.144.169.196/32 permiso <br>  121.144.169.0/24 rechazar </blockquote><br>  Llamamos su atenci√≥n sobre la importancia del orden de las entradas.  El hecho es que Postscreen escanear√° el archivo con listas blancas y negras hasta la primera coincidencia, y si la subred bloqueada es anterior a la direcci√≥n IP permitida, entonces la verificaci√≥n simplemente no alcanzar√° el registro de que esta direcci√≥n IP se agrega a la lista blanca y la conexi√≥n El servidor no va a suceder. <br><br>  Despu√©s de editar y guardar el archivo con listas blancas y negras, puede habilitar la verificaci√≥n correspondiente con los siguientes comandos: <br><br><blockquote>  zmprov mcf zimbraMtaPostscreenAccessList "permit_mynetworks, cidr: / opt / zimbra / conf / postfix / postscreen_wblist" <br>  zmprov mcf zimbraMtaPostscreenBlacklistAction enforce </blockquote><br>  Ahora, Postscreen, adem√°s de las comprobaciones que ya hemos establecido, tambi√©n acceder√° al archivo con listas blancas y negras, lo que permitir√° al administrador resolver f√°cilmente los problemas con la imposibilidad de conectar remitentes confiables al servidor. <br><br>  Para todas las preguntas relacionadas con la Suite Zextras, puede contactar al representante de la compa√±√≠a "Zextras" Katerina Triandafilidi por correo electr√≥nico katerina@zextras.com </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/457896/">https://habr.com/ru/post/457896/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../457884/index.html">Internet soberano: √≥rdenes aclaratorias</a></li>
<li><a href="../457886/index.html">Autenticaci√≥n de dos factores en el sitio utilizando un token USB. Ahora para Linux</a></li>
<li><a href="../457888/index.html">Prueba de mutaci√≥n: pruebas de prueba</a></li>
<li><a href="../457892/index.html">Profesor de ruleta</a></li>
<li><a href="../457894/index.html">Trabaje con un cl√∫ster Proxmox: instalaci√≥n, configuraci√≥n de red, ZFS, soluci√≥n de problemas comunes</a></li>
<li><a href="../457900/index.html">Comisi√≥n Federal de Comunicaciones de EE. UU. Contra meteor√≥logos</a></li>
<li><a href="../457902/index.html">Mitap para ciencia de datos</a></li>
<li><a href="../457904/index.html">Radio at√≥mica: la primera emisi√≥n musical</a></li>
<li><a href="../457906/index.html">Los m√©dicos creen que en el futuro cercano, los dispositivos de fabricaci√≥n de vacunas aparecer√°n en hogares y farmacias.</a></li>
<li><a href="../457910/index.html">WebFPGA - Desarrollo Verilog en navegador</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>