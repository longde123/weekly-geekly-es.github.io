<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏗️ 🧚 🥐 Nous interdisons govnokod, ou plug-ins utiles pour ESLint 🎺 🙇🏽 🍸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Je pense que beaucoup de gens savent que dans les projets sérieux de nos jours, il est habituel d'utiliser des outils spéciaux pour vérifier les erreu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nous interdisons govnokod, ou plug-ins utiles pour ESLint</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/417841/"><p>  Je pense que beaucoup de gens savent que dans les projets sérieux de nos jours, il est habituel d'utiliser des outils spéciaux pour vérifier les erreurs du code et correspondre au style adopté dans l'équipe. </p><br><p>  Aujourd'hui, je veux aborder ESLint, un excellent outil pour vérifier les projets JavaScript pour les erreurs. </p><br><p>  Je n'écrirai pas dans cet article sur des points évidents, tels que la configuration d'eslint pour votre projet: j'espère que vous pourrez lire la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation</a> sur cette partie vous-même et la connecter à vous-même.  Et ici, nous allons discuter du «kit» supplémentaire que vous pouvez connecter à l'outil d'origine et de la façon dont vous pouvez le configurer pour le faire fonctionner à votre avantage. <a name="habracut"></a></p><br><h2 id="eslint-config-airbnbhttpswwwnpmjscompackageeslint-config-airbnb">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">eslint-config-airbnb</a> </h2><br><p> Maintenant, nous utilisons la configuration préparée avec les règles de l'équipe airbnb comme base des règles.  Leur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">norme d'</a> écriture de code JavaScript compte désormais plus de 73 000 étoiles sur le github et est utilisée <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">par de nombreuses organisations bien connues</a> .  Je pense que vous pouvez lui faire confiance. </p><br><p> Cette configuration connecte plusieurs packages importants au projet à la fois: <code>eslint</code> , <code>eslint-plugin-import</code> , <code>eslint-plugin-react</code> <code>eslint-plugin-jsx-a11y</code> et <code>eslint-plugin-jsx-a11y</code> , qui contiennent des règles supplémentaires pour valider votre code.  Il convient de noter que ce fichier de configuration implique que vous utilisez React.js dans votre projet.  Si ce n'est pas le cas, vous pouvez toujours installer la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">configuration eslint-config-airbnb-base</a> , qui contient tout de même, à l'exception de la dépendance de plug-in pour React.js. </p><br><p>  Examinons de plus près les packages de plug-in et découvrons quelles vérifications ils ajouteront à votre code de projet: </p><br><h3 id="eslint-plugin-importhttpswwwnpmjscompackageeslint-plugin-import">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">eslint-plugin-import</a> </h3><br><p>  Ce plugin ajoutera une validation pour toutes vos importations à votre projet et garantira que toutes les dépendances importées sont présentes dans le projet, connectées dans un ordre pratique pour les travaux ultérieurs, etc. </p><br><h3 id="eslint-plugin-reacthttpswwwnpmjscompackageeslint-plugin-react">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">eslint-plugin-react</a> </h3><br><p>  Le plugin vous permet d'écrire du code plus correct sur React.js et vous évite les antipatterns courants, et vous oblige également à attribuer à tous vos composants des descriptions des types de données qu'ils acceptent. </p><br><h3 id="eslint-plugin-jsx-a11yhttpswwwnpmjscompackageeslint-plugin-jsx-a11y">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">eslint-plugin-jsx-a11y</a> </h3><br><p>  Ce plugin s'applique également aux projets sur React.js et il est également extrêmement utile dans le travail.  Cela vous obligera à écrire du HTML qui sera beaucoup mieux conforme aux normes d'accessibilité.  Vos projets deviendront beaucoup plus pratiques pour les personnes handicapées. </p><br><hr><br><p>  En général, cet ensemble de règles rendra vos projets beaucoup mieux écrits et élargira vos connaissances sur les normes modernes d'écriture de code. </p><br><p>  Mais dans notre monde, il n'y a pas seulement ces plugins pour eslint, mais bien d'autres.  Il y a déjà un merveilleux projet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">génial-eslint</a> sur le github à ce sujet.  Ces derniers jours, j'ai décidé d'étudier ce sujet et je veux présenter à votre tribunal les choses les plus intéressantes qui ont été trouvées, testées personnellement et mises en œuvre dans mon projet actuel, sur lequel je travaille actuellement. </p><br><h2 id="dopolnitelnye-plaginy-dlya-eslint">  Plugins supplémentaires pour ESLint </h2><br><p>  Vous pouvez étudier le projet ci-dessus par vous-même et trouver personnellement des plugins intéressants, mais j'écrirai ici ce qui m'intéresse. </p><br><h3 id="eslint-plugin-nodehttpsgithubcommysticateaeslint-plugin-node">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">eslint-plugin-node</a> </h3><br><p>  Un plugin conçu spécifiquement pour les projets Node.js.  Je pense que beaucoup peuvent être utiles s'ils ne l'utilisent toujours pas à la maison. </p><br><h3 id="eslint-plugin-lodashhttpsgithubcomwixeslint-plugin-lodash">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">eslint-plugin-lodash</a> </h3><br><p>  Ce plugin vous fera "aimer" Lodash et réécrira la plupart des méthodes JS natives dans les méthodes de Lodash, et il contient également de nombreuses recommandations pour écrire du code qui utilise des chaînes lodash.  En général, c'est très intéressant, mais jusqu'à présent, je ne l'ai pas implémenté simplement parce que nous devons maintenant réécrire trop de code pour respecter les règles de ce plugin.  Mais pour l'avenir, je l'ai pris pour moi. </p><br><h3 id="eslint-plugin-compathttpsgithubcomamilajackeslint-plugin-compat">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">eslint-plugin-compat</a> </h3><br><p>  Ce plugin vous permet directement pendant le développement de vérifier la compatibilité du code que vous avez écrit avec les navigateurs actuels que vous ciblez actuellement dans votre projet.  Pour le moment, je ne l'ai pas connecté à mon projet car nous utilisons maintenant le service <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">polyfill.io</a> , qui connecte automatiquement tous les polyfills nécessaires à chaque navigateur individuel, donc le problème de la compatibilité du code dans son ensemble est en quelque sorte absent.  Mais pour l’avenir, je fais aussi une note pour moi-même: et si j’en ai besoin? </p><br><h3 id="eslint-plugin-optimize-regexhttpsgithubcombrainmaestroeslint-plugin-optimize-regex">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">eslint-plugin-optimise-regex</a> </h3><br><p>  Un plugin qui vous indique comment optimiser vos expressions régulières.  Pourquoi ne pas l'installer?  Ce ne sera pas superflu, pensais-je. </p><br><h3 id="eslint-plugin-sonarjshttpsgithubcomsonarsourceeslint-plugin-sonarjs">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">eslint-plugin-sonarjs</a> </h3><br><p>  L'une des découvertes les plus intéressantes de cette liste de kits de carrosserie supplémentaires.  Ce plugin contient tout un ensemble de vérifications, grâce auxquelles il trouve des sections de code mal écrites, les mêmes fonctions et des constructions simplement dénuées de sens, et propose de les réécrire (il est dommage qu'il ne sache pas comment les réécrire: D).  Si vous n'aimez pas décomposer votre code en petits blocs clairs et écrire des fonctions complexes sur plus de 100 lignes - attendez les avertissements de ce plugin que la complexité cognitive de ces endroits dans le projet est trop élevée pour un support à long terme et doit être réécrite. </p><br><h3 id="eslint-plugin-no-loopshttpsgithubcombuildoeslint-plugin-no-loops">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">eslint-plugin-no-loops</a> </h3><br><p>  Ce plugin vous jurera simplement lorsque vous voudrez écrire des boucles standard <code>for</code> ou <code>while</code> .  De nos jours, il est depuis longtemps habituel d'utiliser <code>forEach</code> , <code>map</code> , <code>reduce</code> , etc.  Je suis généralement d'accord avec l'auteur et j'ai branché le plugin sur mon projet. </p><br><h3 id="eslint-plugin-no-use-extend-nativehttpsgithubcomdustinspeckereslint-plugin-no-use-extend-native">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">eslint-plugin-no-use-extend-native</a> </h3><br><p>  Un plugin qui vous empêchera d'étendre les prototypes d'objets JavaScript standard.  Dites non!  Patchs de singe.  Et c'est vrai. </p><br><h3 id="eslint-plugin-promisehttpsgithubcomxjamundxeslint-plugin-promise">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">eslint-plugin-promise</a> </h3><br><p>  Un plugin qui vous aide à écrire les bonnes promesses et vous protège des erreurs courantes lorsque vous travaillez avec elles.  C'est aussi très utile, je pense. </p><br><hr><br><p>  Voici une liste de plugins à la fin.  Qu'utilisez-vous dans vos projets pour tester votre code? </p><br><p>  En conclusion, je vais laisser un exemple de configuration de notre fichier <code>.eslintrc</code> du projet en cours: </p><br><div class="spoiler">  <b class="spoiler_title">.eslintrc</b> <div class="spoiler_text"><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"parser"</span></span>: <span class="hljs-string"><span class="hljs-string">"babel-eslint"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"extends"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"airbnb"</span></span>, <span class="hljs-string"><span class="hljs-string">"plugin:import/errors"</span></span>, <span class="hljs-string"><span class="hljs-string">"plugin:import/warnings"</span></span>, <span class="hljs-string"><span class="hljs-string">"plugin:jsx-a11y/recommended"</span></span>, <span class="hljs-string"><span class="hljs-string">"plugin:sonarjs/recommended"</span></span>, <span class="hljs-string"><span class="hljs-string">"plugin:promise/recommended"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"plugins"</span></span>: [<span class="hljs-string"><span class="hljs-string">"react"</span></span>, <span class="hljs-string"><span class="hljs-string">"jsx-a11y"</span></span>, <span class="hljs-string"><span class="hljs-string">"optimize-regex"</span></span>, <span class="hljs-string"><span class="hljs-string">"sonarjs"</span></span>, <span class="hljs-string"><span class="hljs-string">"no-loops"</span></span>, <span class="hljs-string"><span class="hljs-string">"no-use-extend-native"</span></span>, <span class="hljs-string"><span class="hljs-string">"promise"</span></span>], <span class="hljs-attr"><span class="hljs-attr">"rules"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"react/jsx-filename-extension"</span></span>: <span class="hljs-string"><span class="hljs-string">"off"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"jsx-a11y/click-events-have-key-events"</span></span>: <span class="hljs-string"><span class="hljs-string">"off"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"import/no-extraneous-dependencies"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"error"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">"packageDir"</span></span>: <span class="hljs-string"><span class="hljs-string">"./"</span></span> } ], <span class="hljs-attr"><span class="hljs-attr">"allowTernary"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">"optimize-regex/optimize-regex"</span></span>: <span class="hljs-string"><span class="hljs-string">"warn"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"sonarjs/cognitive-complexity"</span></span>: [<span class="hljs-string"><span class="hljs-string">"error"</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>], <span class="hljs-attr"><span class="hljs-attr">"no-loops/no-loops"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">"no-use-extend-native/no-use-extend-native"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, }, <span class="hljs-attr"><span class="hljs-attr">"settings"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"import/resolver"</span></span>: <span class="hljs-string"><span class="hljs-string">"webpack"</span></span> } }</code> </pre> </div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr417841/">https://habr.com/ru/post/fr417841/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr417829/index.html">Réduisez le nombre de couches d'architecture de 5 à 2</a></li>
<li><a href="../fr417831/index.html">La vie avec Java SE 8 et Java SE 11 à 25 $ par processeur par mois</a></li>
<li><a href="../fr417835/index.html">«Empire en profondeur»: pourquoi les grandes entreprises informatiques posent leurs câbles sous-marins</a></li>
<li><a href="../fr417837/index.html">Mise à niveau de Django de la version 1.9 vers la version 2.0</a></li>
<li><a href="../fr417839/index.html">Les attaquants utilisent le jeu "Clash of Clans" pour blanchir de l'argent des cartes de crédit volées</a></li>
<li><a href="../fr417845/index.html">Diminuer la taille de l'APK (dans des limites raisonnables)</a></li>
<li><a href="../fr417849/index.html">Bobbiniki: une brève histoire des magnétophones à bobine et un intérêt croissant pour le gadget audio aujourd'hui</a></li>
<li><a href="../fr417851/index.html">Le condensé de matériaux intéressants pour le développeur mobile # 262 (16 juillet - 22 juillet)</a></li>
<li><a href="../fr417855/index.html">Le "Moon Palace" chinois établit un nouveau record</a></li>
<li><a href="../fr417857/index.html">225 $ spoofer GPS capable de rediriger les robots vers le trafic venant en sens inverse</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>