<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úçüèø ü§öüèø üè´ Semana de la seguridad 09: vulnerabilidad de 19 a√±os en WinRAR üí∑ üôãüèΩ ü§±</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Anunciamos una semana de errores prehist√≥ricos. La vulnerabilidad en el archivador WinRAR, descubierta y cerrada a finales de enero, fue descrita en d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Semana de la seguridad 09: vulnerabilidad de 19 a√±os en WinRAR</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/kaspersky/blog/441718/"><img src="https://habrastorage.org/webt/7b/wu/t9/7bwut9_r22f5g-aq_47-q6g2cpy.png" align="right">  Anunciamos una semana de errores prehist√≥ricos.  La vulnerabilidad en el archivador WinRAR, descubierta y cerrada a finales de enero, fue descrita en detalle por especialistas de Check Point Software ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">noticias</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">investigaci√≥n</a> original).  En el peor de los casos, una infracci√≥n le permite descomprimir el archivo malicioso en una ubicaci√≥n arbitraria de su disco duro, por ejemplo, en el directorio de ejecuci√≥n autom√°tica de Windows. <br><br>  Esta vulnerabilidad te hace pensar en usar bibliotecas de terceros dif√≠ciles de verificar en tu software, pero no solo.  Hoy hablaremos brevemente sobre el problema en s√≠, la decisi√≥n de los desarrolladores de WinRAR de abandonar la biblioteca para desempaquetar archivos en formato ACE, y tambi√©n abordaremos el tema de actualizar WinRAR en las computadoras de los usuarios.  Mirando hacia el futuro: aunque las noticias causaron una seria resonancia, es m√°s probable que sea una historia de final feliz.  Pero vale la pena prestar especial atenci√≥n a la clase de vulnerabilidades asociadas con el procesamiento de cualquier archivo que llegue a su computadora. <br><a name="habracut"></a><br>  En el informe original, antes de demostrar el problema, hay muchos detalles (interesantes), pero veamos el resultado de inmediato. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/R2qcBWJzHMo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  El archivo preparado se guarda en el escritorio, el usuario intenta descomprimirlo all√≠, pero el archivo ejecutable se escribe en el directorio de ejecuci√≥n autom√°tica.  Como sucedio  Los investigadores utilizaron tecnolog√≠a fuzzing, a saber, el paquete <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">WinAFL</a> , respaldado por el equipo de Google Project Zero y que es la versi√≥n para Windows de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">American Fuzzy Loop</a> .  Al igual que otras herramientas similares, WinAFL le permite examinar la seguridad (o estabilidad) del software al pasar datos aleatorios (o no del todo) a la aplicaci√≥n y preservar la reacci√≥n.  Los fuzzers pueden considerarse una especie de "varita m√°gica" de un investigador de seguridad.  Ayudan a detectar varios bloqueos del programa en lugares donde no deber√≠an estar. <br><br>  Sin embargo, un informe de Check Point muestra que las cosas no son tan simples.  La investigaci√≥n de WinAAR con WinAFL ayud√≥ a identificar varios bloqueos inesperados de la aplicaci√≥n y condujo a los investigadores a una biblioteca que procesa archivos en formato ACE, un est√°ndar de archivo patentado.  Esta biblioteca (unacev2.dll) se actualiz√≥ por √∫ltima vez en 2006 y no ten√≠a mecanismos de protecci√≥n est√°ndar (como ASLR o DEP).  Adem√°s, estuvo presente en todas las versiones de WinRAR durante los √∫ltimos 19 a√±os y, como result√≥ m√°s tarde, todo este tiempo fue vulnerable.  En el momento en que se descubri√≥ el error, los desarrolladores de WinRAR no ten√≠an acceso a su c√≥digo fuente.  ACE fue generalmente un archivador comercial en un momento, la biblioteca de desempaquetado era gratuita, pero legalmente pod√≠a crear archivos en este formato solo con la utilidad patentada WinACE (se actualiz√≥ hasta 2007, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el sitio web del programa</a> existi√≥ hasta 2017; y ahora este es claramente un software abandonado ) <br><br>  Encontrar una vulnerabilidad simple como Path Traversal cuando el archivador desempaqueta el archivo en un directorio arbitrario no funcion√≥, tuve que configurar una utilidad fuzzing nuevamente, pero esta vez despu√©s de estudiar las caracter√≠sticas de formato usando el programa WinACE original y el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">c√≥digo</a> distribuido libremente para desempacar Python  En el siguiente viaje por fallas aleatorias, los investigadores encontraron un archivo que no se guard√≥ en absoluto donde se supon√≠a que WinAFL deb√≠a guardar el resultado de ejecutar la biblioteca. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ns/lb/ru/nslbru7z9sfx4ptvh0pifohy0zc.png"></div><br><br>  El hecho es que el archivador ACE le permite guardar la ruta completa al archivo comprimido.  En una situaci√≥n normal, esta ruta se agrega a la ruta de desempaquetado seleccionada al descomprimir.  Durante el fuzzing, result√≥ que algunos conjuntos de datos permitieron hacer que la ruta sea absoluta, es decir, desempaquetar el archivo no donde el usuario lo indic√≥, sino en cualquier lugar, pero esto no es muy bueno.  Adem√°s, parece ser simple: debe aplicar el mismo truco cuando trabaje no con la biblioteca directamente, sino con WinRAR, ¬øverdad?  En realidad no: la vulnerabilidad no se reprodujo.  No volver√© a contar todo el historial de encontrar la combinaci√≥n correcta de par√°metros y pasar por alto otra etapa de validaci√≥n en WinRAR: el programa verifica y elimina el delito de la ruta de guardado para evitar tales situaciones.  Pero comprueba, como result√≥, no todas las opciones posibles. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cx/bj/fo/cxbjfoyha7a0ehhxvlmctekcopc.png"></div><br><br>  Esto es lo que pas√≥.  Esta es una captura de pantalla del an√°lisis de un archivo "preparado" utilizando el c√≥digo de Python mencionado anteriormente.  El doble c: \\ al comienzo de la ruta es procesado por la biblioteca unacev2 y WinRAR en s√≠, de modo que el archivo se escribe en un directorio arbitrario.  Parece ser un exploit listo?  De nuevo no, o m√°s bien no realmente.  Intentar escribir el ejecutable en el directorio de ejecuci√≥n autom√°tica en esta configuraci√≥n activar√° la protecci√≥n de Windows.  Pero los investigadores lograron encontrar una forma de evitar esta limitaci√≥n si el archivo se guarda en el directorio del usuario, por ejemplo, en la carpeta Descargas o en el escritorio (lo cual es bastante probable).  Como se muestra en el video al principio, el archivo preparado se guard√≥ en el directorio de ejecuci√≥n autom√°tica del usuario navegando a una carpeta m√°s arriba en la ruta del archivo. <br><br>  Cual es el resultado?  En WinRAR 5.70 Beta 1, la vulnerabilidad se solucion√≥ al abandonar por completo el uso de una biblioteca obsoleta para trabajar con archivos ACE.  Es poco probable que alguien se moleste seriamente por esto.  Por cierto, el consejo dado en un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo</a> en el sitio web de ZDNet - "No abra archivos sospechosos en formato ACE" - es un poco incorrecto.  WinRAR no detecta archivos con permiso, y el exploit funcionar√° con una versi√≥n vulnerable del programa, incluso si el archivo ACE preparado tiene la extensi√≥n RAR (o cualquier otra).  No abra archivos sospechosos; esto es bueno, pero generalmente necesita actualizarse. <br><br><div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1052984615139340288"></twitter-widget><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div><br><br>  Ahora deje de pensar en la publicaci√≥n por un minuto y vea qu√© versi√≥n de WinRAR ha instalado (a menos que, por supuesto, use este archivador).  Para referencia: la versi√≥n 5.50 se lanz√≥ en 2017, 5.00 - en 2012, 3.90 - en 2009.  Con cierta probabilidad, la fecha de lanzamiento de WinRAR corresponder√° aproximadamente a la fecha de configuraci√≥n inicial del sistema, ya que todav√≠a no hay una funci√≥n de actualizaci√≥n autom√°tica en este programa.  Como puede ver en el tweet de la compa√±√≠a de corredores de vulnerabilidad Zerodium, existe una demanda de exploits de trabajo en los archivadores.  Vulnerabilidades como las que se encuentran en la biblioteca de archivos ACE se pueden usar para ataques masivos o dirigidos a las computadoras de las v√≠ctimas.  Cabe se√±alar que las posibilidades de una operaci√≥n exitosa de este error est√°n lejos de ser absolutas.  Es muy probable que el servicio de correo bloquee el archivo infectado (por ejemplo, para GMail, por ejemplo, los archivos protegidos con contrase√±a y los archivos con archivos ejecutables no se omiten all√≠) o el software antivirus.  A menos que, por supuesto, lo tengas. <br><br>  Sin embargo, todos estos recordatorios molestos de la necesidad de actualizar uno de los docenas de programas instalados en la computadora tienen sentido.  De lo contrario, es f√°cil pasar por alto una vulnerabilidad grave que funcionar√° en el momento m√°s inoportuno.  Para ser justos, notamos que los problemas serios en WinRAR <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aparecen con</a> poca frecuencia. <br><br>  <i>Descargo de responsabilidad: las opiniones expresadas en este resumen pueden no coincidir siempre con la posici√≥n oficial de Kaspersky Lab.</i>  <i>Los estimados editores generalmente recomiendan tratar cualquier opini√≥n con escepticismo saludable.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/441718/">https://habr.com/ru/post/441718/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../441708/index.html">WG Contract API: zool√≥gico de servicios</a></li>
<li><a href="../441710/index.html">Los juegos m√≥viles del navegador te desaf√≠an</a></li>
<li><a href="../441712/index.html">Soluci√≥n matem√°tica a los problemas de relatividad.</a></li>
<li><a href="../441714/index.html">¬øC√≥mo se organizaron las locomotoras de vapor?</a></li>
<li><a href="../441716/index.html">Programaci√≥n para no programadores. Biograf√≠a de junio</a></li>
<li><a href="../441720/index.html">Chatbot para Vkontakte en ASP.NET Core C #</a></li>
<li><a href="../441722/index.html">Automatice la transici√≥n a React Hooks</a></li>
<li><a href="../441724/index.html">La valoraci√≥n del mercado de criptomonedas llegar√° a $ 1 bill√≥n este a√±o - Predicciones de criptomonedas 2019</a></li>
<li><a href="../441726/index.html">Kubespray-as-a-Service: agregue Kubernetes a cualquier nube</a></li>
<li><a href="../441728/index.html">Resumiendo el concurso en l√≠nea para el juego Blotto</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>