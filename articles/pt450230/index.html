<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔂 🚩 👩🏻‍🤝‍👨🏽 Você não é google 🔅 🤞🏿 💠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Os desenvolvedores são loucos pelas coisas mais estranhas. Todos nós preferimos nos considerar seres super-racionais, mas quando se trata de escolher ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Você não é google</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450230/"><p><img src="https://habrastorage.org/webt/sp/pe/bj/sppebj78v_2idxhv1ej5-exussu.png"></p><br><p> Os desenvolvedores são loucos pelas coisas mais estranhas.  Todos nós preferimos nos considerar seres super-racionais, mas quando se trata de escolher uma tecnologia específica, caímos em uma espécie de loucura, passando de um comentário no HackerNews para um post de blog e agora, como se estivéssemos esquecidos, somos impotentes estamos navegando em direção à fonte mais brilhante de luz e nos curvamos obedientemente, tendo esquecido completamente o que estávamos procurando originalmente. </p><a name="habracut"></a><br><p>  Não é assim que pessoas racionais tomam decisões.  Mas exatamente para que os desenvolvedores decidam usar, por exemplo, o MapReduce. </p><br><p>  Como Joe Hellerstein observou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">em sua palestra sobre bancos de dados para estudantes de graduação</a> (aos 54 minutos): </p><br><blockquote>  <em>O fato é que existem aproximadamente 5 empresas no mundo que realizam tarefas tão ambiciosas.</em>  <em>Quanto a todos os outros ... eles gastam recursos incríveis para fornecer um sistema tolerante a falhas que eles realmente não precisam.</em>  <em>As pessoas tinham uma espécie de "googleing" na década de 2000: "faremos tudo exatamente como o Google, porque também gerenciamos o maior serviço de processamento de dados do mundo ..." [ironicamente balança a cabeça e espera risadas da platéia]</em> </blockquote><p><img src="https://habrastorage.org/webt/cs/6p/x-/cs6px-zosus_teurpriw6sodply.jpeg"><br>  <em>Quantos andares no prédio do seu data center?</em>  <em>O Google decidiu ficar em quatro, pelo menos neste data center específico localizado em Mays County, Oklahoma.</em> </p><br><p>  Sim, seu sistema é mais resistente do que você precisa, mas pense no que isso pode custar.  O ponto não é apenas a necessidade de processar grandes quantidades de dados.  Você provavelmente está trocando um sistema completo - com transações, índices e otimização de consultas - por algo relativamente fraco.  Este é um passo significativo para trás.  Quantos usuários do Hadoop fazem isso conscientemente?  Quantos deles tomam uma decisão realmente equilibrada? </p><br><p>  O MapReduce / Hadoop é um exemplo muito simples.  Até os seguidores do Cargo Cult já perceberam que os aviões não resolveriam todos os seus problemas.  No entanto, o uso do MapReduce permite fazer uma generalização importante: se você usa a tecnologia criada para uma grande corporação, mas ao mesmo tempo resolve pequenos problemas, pode estar agindo sem pensar.  Mesmo assim, é mais provável que você seja guiado por idéias místicas que, imitando gigantes como Google e Amazon, atingirão as mesmas alturas. </p><br><p><img src="https://habrastorage.org/webt/p4/sf/n2/p4sfn2m-dwznr5kufdonmywu2rk.jpeg"><br>  <em>Sim, este artigo é outro oponente do culto à carga.</em>  <em>Mas espere, eu tenho uma lista de verificação útil para você, que você pode usar para tomar decisões mais informadas.</em> </p><br><h2 id="klassnyy-freymvork-unphat">  Estrutura legal: UNPHAT </h2><br><p>  Na próxima vez que você pesquisar no Google alguma nova técnica interessante para (re) moldar seu sistema, peço que você pare e use a estrutura <strong>UNPHAT</strong> : </p><br><ol><li>  Nem tente pensar em possíveis soluções antes de <strong>entender o</strong> problema <strong>(Compreender)</strong> .  Seu principal objetivo é "resolver" o problema em termos do problema, não em termos de soluções. </li><li>  <strong>Listar (eNumerar)</strong> várias soluções possíveis.  Não há necessidade de apontar imediatamente o dedo para sua opção favorita. </li><li>  Considere uma solução separada e leia a <strong>documentação (papel)</strong> , se houver. </li><li>  Defina o <strong>contexto histórico</strong> em que esta solução foi criada. </li><li>  Combine <strong>vantagens</strong> com falhas.  Analise o que os tomadores de decisão tiveram que sacrificar para atingir seu objetivo. </li><li>  <strong>Pense (pense)</strong> !  Com seriedade e seriedade, considere quão bem essa solução é adequada para atender às suas necessidades.  <em>O que exatamente precisa mudar para você mudar de idéia?</em>  Por exemplo, quanto menos dados devem existir, para que você prefira não usar o Hadoop? </li></ol><br><h2 id="vy-ne-amazon">  Você não é amazon </h2><br><p>  Usar o UNPHAT é fácil.  Lembre-se da minha recente conversa com uma empresa que decidiu apressadamente usar o Cassandra para um intenso processo de leitura de dados baixados à noite. </p><br><p>  Como eu já estava familiarizado com a documentação do Dynamo e sabia que o Cassandra é um sistema derivado, entendi que nesses bancos de dados o foco principal estava na <em>capacidade de gravar</em> (a Amazon precisava fazer a ação "adicionar ao carrinho" nunca não falhou).  Também apreciei que os desenvolvedores sacrificassem a integridade dos dados - e, de fato, todos os recursos inerentes ao RDBMS tradicional.  Mas, afinal, a empresa com a qual conversei, a capacidade de gravar não era uma prioridade.  Honestamente, o projeto significava criar um grande recorde por dia. </p><br><p><img src="https://habrastorage.org/webt/px/sw/xg/pxswxgbgpnk0ovipwmvhya2yt1u.jpeg"><br>  <em>A Amazon vende muito de tudo.</em>  <em>Se a função "adicionar à cesta" de repente parasse de funcionar, eles perderiam muito dinheiro.</em>  <em>Você tem um problema da mesma ordem?</em> </p><br><p>  Essa empresa decidiu usar o Cassandra porque demorou alguns minutos para concluir a consulta do PostgreSQL em questão, e eles decidiram que essas eram limitações técnicas por parte do hardware.  Depois de esclarecer alguns pontos, percebemos que a tabela consistia em aproximadamente 50 milhões de linhas de 80 bytes cada.  Levaria cerca de 5 segundos para lê-lo no SSD se você tivesse que passar por isso completamente.  Isso é lento, mas ainda é duas ordens de magnitude mais rápido que a velocidade de execução da consulta naquele momento. </p><br><p>  Nesse estágio, eu tinha muitas perguntas (U = entendi, entendi o problema!) E comecei a ponderar cerca de 5 estratégias diferentes que poderiam resolver o problema original (N = eNumerate, liste algumas soluções possíveis!), Mas de qualquer forma já estava claro no momento que o uso de Cassandra era fundamentalmente a decisão errada.  Tudo o que eles precisavam era de um pouco de paciência para configurar, provavelmente um novo design para o banco de dados e, possivelmente (embora improvável), a escolha de uma tecnologia diferente ... Mas definitivamente não é um armazenamento de dados de valor-chave com gravação intensiva que a Amazon criou para sua cesta! </p><br><h2 id="vy-ne-linkedin">  Você não é o LinkedIn </h2><br><p>  Fiquei muito surpreso ao descobrir que uma startup estudantil decidiu construir sua arquitetura em torno de Kafka.  Isso foi incrível.  Até onde eu sabia, os negócios deles realizavam apenas algumas dezenas de operações muito grandes por dia.  Talvez algumas centenas nos dias de maior sucesso.  Com essa largura de banda, o principal armazém de dados pode ser entradas manuscritas em um livro comum. </p><br><p>  Para comparação, lembre-se de que o Kafka foi criado para lidar com todos os eventos analíticos no LinkedIn.  Esta é apenas uma enorme quantidade de dados.  Até alguns anos atrás, eram <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">cerca de 1 trilhão de eventos por dia</a> , com um pico de carga de 10 milhões de mensagens por segundo.  Claro, eu entendo que Kafka pode ser usado para trabalhar com cargas mais baixas, mas com 10 pedidos a menos? </p><br><p><img src="https://habrastorage.org/webt/ym/go/ut/ymgoutcmv7qmmm0n9ol2uxvfpaa.jpeg"><br>  <em>O Sol, sendo um objeto muito massivo, é apenas 6 ordens de magnitude mais pesadas que a Terra.</em> </p><br><p>  Talvez os desenvolvedores tenham tomado uma decisão deliberada, com base nas necessidades esperadas e um bom entendimento do objetivo do Kafka.  Mas acho que eles foram alimentados pelo entusiasmo (geralmente justificado) da comunidade por Kafka e quase nunca se perguntaram se essa era realmente a ferramenta de que precisavam.  Imagine ... 10 pedidos! </p><br><h2 id="ya-uzhe-govoril-vy-ne-amazon">  Eu já disse isso?  Você não é amazon </h2><br><p>  Ainda mais popular que o data warehouse distribuído da Amazon, é a abordagem de desenvolvimento arquitetônico que lhes proporcionou escalabilidade: uma arquitetura orientada a serviços.  Como Werner Vogels observou em uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">entrevista de 2006 com</a> Jim Gray, a Amazon percebeu em 2001 que eles estavam tendo dificuldades em dimensionar a parte do front-end e que uma arquitetura orientada a serviços poderia ajudá-los.  Essa idéia infectou um desenvolvedor após o outro, enquanto as startups, compostas por apenas alguns desenvolvedores e quase nenhum cliente, não começaram a dividir seu software em nanosserviços. </p><br><p>  Quando a Amazon decidiu mudar para SOA (arquitetura orientada a serviços), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">eles tinham cerca de 7.800 funcionários e suas vendas excederam US $ 3 bilhões</a> . </p><br><p><img src="https://habrastorage.org/webt/jm/tu/ft/jmtuftcplxwvwt4hipq9v291lig.jpeg"><br>  <em>A sala de concertos Bill Graham Auditorium, em São Francisco, acomoda 7.000 pessoas.</em>  <em>A Amazon tinha cerca de 7.800 funcionários quando mudaram para SOA.</em> </p><br><p>  Isso não significa que você deve adiar a transição para SOA até que sua empresa atinja o nível de 7800 funcionários ... apenas <em>pense sempre com sua própria cabeça</em> .  Esta é realmente a melhor solução para sua tarefa?  Qual é exatamente a tarefa diante de você e existem outras maneiras de resolvê-la? </p><br><p>  Se você me disser que o trabalho da sua organização, que consiste em 50 desenvolvedores, simplesmente aumenta sem uma SOA, então me pergunto por que tantas empresas grandes simplesmente trabalham maravilhosamente usando um aplicativo único, mas bem organizado. </p><br><h2 id="dazhe-google--ne-google">  Mesmo o Google não é o Google. </h2><br><p>  Exemplos de uso de sistemas para processar fluxos de dados altamente carregados (Hadoop ou Spark) podem realmente ser desconcertantes.  Muitas vezes, os DBMSs tradicionais são mais adequados para a carga e, às vezes, a quantidade de dados é tão pequena que até a <em>memória disponível</em> seria suficiente para eles.  Você sabia que pode comprar 1 TB de RAM em algum lugar por US $ 10.000?  Mesmo se você tivesse um bilhão de usuários, ainda seria capaz de fornecer a cada um deles 1 KB de RAM. </p><br><p>  Talvez isso não seja suficiente para a sua carga, porque você precisará ler e gravar no disco.  Mas você realmente precisa de vários milhares de discos para ler e escrever?  Aqui está a quantidade de dados que você tem de fato?  O GFS e o MapReduce foram criados para resolver problemas de computação na Internet ... por exemplo, para recalcular o índice de pesquisa <em>na Internet</em> . </p><br><p><img src="https://habrastorage.org/webt/eo/ys/qa/eoysqaa_e4yvtbekv9jmx-ct_km.jpeg"><br>  <em>Os preços dos discos rígidos estão agora muito mais baixos do que em 2003, quando a documentação do GFS foi publicada.</em> </p><br><p>  Talvez você tenha lido a documentação do GFS e do MapReduce e percebido que um dos problemas do Google não era a quantidade de dados, mas a largura de banda (velocidade de processamento): eles usavam armazenamento distribuído porque demorava muito tempo para transferir bytes dos discos.  Mas qual será a largura de banda dos dispositivos que você usará este ano?  Como você nem precisa de tantos dispositivos quanto o Google precisa, seria melhor comprar apenas unidades mais modernas?  Quanto vai custar para usar um SSD? </p><br><p>  Talvez você queira considerar a escalabilidade antecipadamente.  Você já fez todos os cálculos necessários?  Você acumulará dados mais rapidamente do que os preços do SSD?  Quantas vezes a sua empresa precisará crescer para que todos os dados disponíveis não caibam mais em um dispositivo?  A partir de 2016, o Stack Exchange processava 200 milhões de consultas por dia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">com suporte para apenas 4 servidores SQL</a> : o principal para Stack Overflow, mais um para todo o resto e duas cópias. </p><br><p>  Novamente, você pode recorrer ao UNPHAT e ainda decidir usar o Hadoop ou Spark.  E a decisão pode até estar certa.  O principal é que você <em>realmente usa a tecnologia certa para resolver seu problema</em> .  A propósito, isso é bem conhecido no Google: quando eles decidiram que o MapReduce não era adequado para indexação, eles pararam de usá-lo. </p><br><h2 id="pervo-napervo-ponyat-problemu">  Primeiras coisas primeiro, entender o problema </h2><br><p>  Minha mensagem pode não ser algo novo, mas pode ser dessa forma que ela responderá a você ou talvez seja fácil lembrar da UNPHAT e aplicá-la na vida.  Caso contrário, você poderá assistir ao discurso de Rich Hickey no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Hammock Driven Development</a> , ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">no</a> livro de Paul <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">, How to Solve it</a> , ou em Hamming <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">, The Art of Doing Science and Engineering</a> .  Porque a principal coisa que todos pedimos é pensar! </p><br><p>  <strong>E realmente entenda o problema que você está tentando resolver.</strong>  Nas palavras inspiradoras de Paulo: </p><br><blockquote>  “ <em>É tolice responder a uma pergunta que você não entende.</em>  <em>É triste lutar por uma meta que você não deseja alcançar. "</em> </blockquote><br><hr><br><h2 id="perevod-na-russkiy">  Tradução para o russo </h2><br><p>  <strong>Tradução:</strong> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Alexander Tregubov</a> <br>  <strong>Editado por</strong> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Alexey Ivanov (@ponchiknews)</a> <br>  <strong>Comunidade:</strong> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">@ponchiknews</a> <br>  <strong>Figura:</strong> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Equipe de conteúdo do LucidChart</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt450230/">https://habr.com/ru/post/pt450230/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt450210/index.html">Abra suas asas: como a vigilância por vídeo ajuda ornitólogos a salvar pássaros raros</a></li>
<li><a href="../pt450214/index.html">Executando inspeções do IntelliJ IDEA no Jenkins</a></li>
<li><a href="../pt450216/index.html">Feriado ou feriado?</a></li>
<li><a href="../pt450222/index.html">5 serviços legais de marketing digital não ouvidos na Rússia</a></li>
<li><a href="../pt450228/index.html">10 mitos sobre raiva</a></li>
<li><a href="../pt450232/index.html">Sistemas de purificação de água por osmose reversa - ótimo ou não?</a></li>
<li><a href="../pt450234/index.html">Como as máquinas se comunicam: protocolo Modbus</a></li>
<li><a href="../pt450236/index.html">Como eu parei de me preocupar e dei uma olhada diferente nos sistemas de rastreamento de tempo</a></li>
<li><a href="../pt450238/index.html">Validação da interface TypeScript usando Joi</a></li>
<li><a href="../pt450240/index.html">Walmart abre primeira loja orientada a IA</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>