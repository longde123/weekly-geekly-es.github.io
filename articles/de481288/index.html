<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßëüèº‚Äçü§ù‚Äçüßëüèº üîÄ ‚úäüèª Redux Toolkit als Werkzeug f√ºr eine effektive Redux-Entwicklung ‚ò∫Ô∏è üßúüèΩ üÉè</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Derzeit wird der L√∂wenanteil der auf dem React-Framework basierenden Webanwendungen mithilfe der Redux-Bibliothek entwickelt. Diese Bibliothek ist die...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Redux Toolkit als Werkzeug f√ºr eine effektive Redux-Entwicklung</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/inobitec/blog/481288/"><p><img src="https://habrastorage.org/getpro/habr/post_images/aad/f48/d2f/aadf48d2f864cef234b3b73d600dc8d1.jpg" alt="Bild"><br>  Derzeit wird der L√∂wenanteil der auf dem React-Framework basierenden Webanwendungen mithilfe der Redux-Bibliothek entwickelt.  Diese Bibliothek ist die beliebteste Implementierung der FLUX-Architektur und weist trotz einer Reihe offensichtlicher Vorteile erhebliche Nachteile auf, wie z. </p><br><ul><li>  die Komplexit√§t und ‚ÄûAusf√ºhrlichkeit‚Äú der empfohlenen Muster f√ºr das Schreiben und Organisieren von Code, die eine gro√üe Anzahl von Boilerplates mit sich bringen; </li><li>  Das Fehlen integrierter Steuerelemente f√ºr asynchrones Verhalten und Nebenwirkungen f√ºhrt dazu, dass Sie das richtige Tool aus einer Vielzahl von Add-Ons ausw√§hlen m√ºssen, die von Drittanbieter-Entwicklern geschrieben wurden. </li></ul><br><p>  Um diese M√§ngel zu beheben, haben die Redux-Entwickler die Redux Toolkit-Bibliothek eingef√ºhrt.  Dieses Tool enth√§lt eine Reihe praktischer L√∂sungen und Methoden zur Vereinfachung der Anwendungsentwicklung mit Redux.  Die Entwickler dieser Bibliothek wollten typische F√§lle der Verwendung von Redux vereinfachen.  Dieses Tool ist keine universelle L√∂sung f√ºr alle m√∂glichen F√§lle der Verwendung von Redux, aber Sie k√∂nnen den Code, den der Entwickler schreiben muss, vereinfachen. </p><br><p>  In diesem Artikel werden die wichtigsten im Redux Toolkit enthaltenen Tools beschrieben und anhand eines Beispiels f√ºr ein Fragment unserer internen Anwendung gezeigt, wie sie in vorhandenem Code verwendet werden. </p><a name="habracut"></a><br><h2 id="kratko-o-biblioteke">  Kurz √ºber die Bibliothek </h2><br><p>  Zusammenfassung des Redux Toolkit: </p><br><ul><li> vor der Ver√∂ffentlichung hie√ü die Bibliothek Redux-Starter-Kit; </li><li>  die Ver√∂ffentlichung fand Ende Oktober 2019 statt; </li><li>  Die Bibliothek wird offiziell von Redux-Entwicklern unterst√ºtzt. </li></ul><br><p>  Laut <a href="https://redux-toolkit.js.org/introduction/quick-start">den Entwicklern</a> f√ºhrt das Redux Toolkit die folgenden Funktionen aus: </p><br><ul><li>  Hilft Ihnen, schnell mit Redux zu beginnen. </li><li>  vereinfacht die Arbeit mit typischen Aufgaben und Redux-Code; </li><li>  Erm√∂glicht die Verwendung der Best Practices von Redux. </li><li>  bietet L√∂sungen, die das Misstrauen gegen√ºber Kesselplatten verringern. </li></ul><br><p>  Redux Toolkit bietet eine Reihe von speziell entwickelten und eine Reihe von bew√§hrten <a href="https://redux-toolkit.js.org/api/other-exports">Tools</a> , die √ºblicherweise in Verbindung mit Redux verwendet werden.  Mit diesem Ansatz kann der Entwickler entscheiden, wie und welche Tools in seiner Anwendung verwendet werden sollen.  Im Verlauf dieses Artikels werden wir feststellen, welche Ausleihen diese Bibliothek verwendet.  Weitere Informationen und Abh√§ngigkeiten des Redux Toolkit finden Sie in der <a href="https://www.npmjs.com/package/%40reduxjs/toolkit">Paketbeschreibung @ reduxjs / toolkit</a> . </p><br><p>  Die wichtigsten Funktionen der Redux Toolkit-Bibliothek sind: </p><br><ul><li>  <a href="https://habr.com/ru/company/inobitec/blog/481288/">#configureStore</a> - eine Funktion zur Vereinfachung des Erstellens und Konfigurierens von Speicher; </li><li>  <a href="https://habr.com/ru/company/inobitec/blog/481288/">#createReducer</a> - eine Funktion, mit der ein Reduzierer kurz und klar beschrieben und erstellt werden kann; </li><li>  <a href="https://habr.com/ru/company/inobitec/blog/481288/">#createAction</a> - <a href="https://habr.com/ru/company/inobitec/blog/481288/">Gibt</a> die Funktion des Erstellers der Aktion f√ºr die angegebene Zeichenfolge des Aktionstyps zur√ºck. </li><li>  <a href="https://habr.com/ru/company/inobitec/blog/481288/">#createSlice</a> - kombiniert die Funktionen von createAction und createReducer; </li><li>  createSelector ist eine Funktion aus der <a href="https://github.com/reduxjs/reselect">Reselect-</a> Bibliothek, <a href="https://github.com/reduxjs/reselect">die</a> zur Vereinfachung der Verwendung <a href="https://github.com/reduxjs/reselect">erneut exportiert wird</a> . </li></ul><br><p>  Es ist auch erw√§hnenswert, dass das Redux Toolkit vollst√§ndig in TypeScript integriert ist.  Weitere Informationen finden Sie im Abschnitt <a href="https://redux-toolkit.js.org/usage/usage-with-typescript/">Verwendung mit TypeScript</a> in der offiziellen Dokumentation. </p><br><h2 id="primenenie">  Bewerbung </h2><br><p>  Ziehen Sie die Verwendung der Redux Toolkit-Bibliothek als Beispiel f√ºr ein Fragment einer wirklich verwendeten React Redux-Anwendung in Betracht. <br>  <em>Hinweis</em>  Im weiteren Verlauf des Artikels wird der Quellcode sowohl ohne als auch mit dem Redux Toolkit vorgestellt, wodurch die positiven und negativen Aspekte der Verwendung dieser Bibliothek besser bewertet werden k√∂nnen. </p><br><h3 id="zadacha">  Herausforderung </h3><br><p>  In einer unserer internen Anwendungen mussten Informationen zu Releases unserer Softwareprodukte hinzugef√ºgt, bearbeitet und angezeigt werden.  F√ºr jede dieser Aktionen wurden separate API-Funktionen entwickelt, deren Ergebnisse dem Redux-Store hinzugef√ºgt werden m√ºssen.  Als Mittel zur Steuerung des asynchronen Verhaltens und der Nebenwirkungen verwenden wir <a href="https://github.com/reduxjs/redux-thunk">Thunk</a> . </p><br><h3 id="sozdanie-hranilischa">  Speichererstellung </h3><br><p>  Die urspr√ºngliche Version des Quellcodes, der das Repository erstellt, sah folgenderma√üen aus: </p><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { createStore, applyMiddleware, combineReducers, compose, } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> thunk <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-thunk'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> reducers <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./reducers'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ext = <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.__REDUX_DEVTOOLS_EXTENSION__; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> devtoolMiddleware = ext &amp;&amp; process.env.NODE_ENV === <span class="hljs-string"><span class="hljs-string">'development'</span></span> ? ext() : <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">f</span></span></span><span class="hljs-function"> =&gt;</span></span> f; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> store = createStore( combineReducers({ ...reducers, }), compose( applyMiddleware(thunk), devtoolMiddleware ) );</code> </pre> <br><p>  Wenn Sie sich den obigen Code sorgf√§ltig ansehen, sehen Sie eine ziemlich lange Abfolge von Aktionen, die ausgef√ºhrt werden m√ºssen, damit der Speicher vollst√§ndig konfiguriert ist.  Das Redux Toolkit enth√§lt ein Tool zur Vereinfachung dieses Vorgangs, n√§mlich die configureStore-Funktion. </p><br><h4 id="funkciya-configurestoreanchorconfigurestoreanchor">  ConfigureStore-Funktion <a name="configureStore"></a></h4><br><p>  Mit diesem Tool k√∂nnen Sie Reduzierungen automatisch kombinieren, Redux-Middleware hinzuf√ºgen (standardm√§√üig Redux-Thunk) und auch die Redux DevTools-Erweiterung verwenden.  Die configureStore-Funktion akzeptiert ein Objekt mit den folgenden Eigenschaften als Eingabeparameter: </p><br><ul><li>  Reduzierer - eine Reihe von benutzerdefinierten Reduzierern, </li><li>  Middleware - ein optionaler Parameter, der ein Array von Middleware angibt, das f√ºr die Verbindung mit dem Repository entwickelt wurde. </li><li>  devTools - ein logischer Typparameter, mit dem Sie die im Browser installierte Redux DevTools-Erweiterung aktivieren k√∂nnen (der Standardwert ist true), </li><li>  preloadedState - ein optionaler Parameter, der den Anfangszustand des Repositorys festlegt, </li><li>  Enhancer - ein optionaler Parameter, der eine Reihe von Verst√§rkern definiert. </li></ul><br><p>  Um die beliebteste Liste von Middleware zu erhalten, k√∂nnen Sie die Sonderfunktion getDefaultMiddleware verwenden, die ebenfalls Teil des Redux Toolkit ist.  Diese Funktion gibt ein Array mit standardm√§√üig aktivierter Middleware in der Redux Toolkit-Bibliothek zur√ºck.  Die Liste dieser Middlewares unterscheidet sich je nach Modus, in dem Ihr Code ausgef√ºhrt wird.  Im Produktionsmodus besteht ein Array nur aus einem Element - Thunk.  Im Entwicklungsmodus wird die Liste zum Zeitpunkt des Schreibens mit der folgenden Middleware erg√§nzt: </p><br><ul><li>  serializableStateInvariant - Ein speziell f√ºr das Redux Toolkit entwickeltes Tool, mit dem der Statusbaum auf nicht serialisierbare Werte wie Funktionen, Promise, Symbol und andere Werte √ºberpr√ºft werden kann, die keine einfachen JS-Daten sind. </li><li>  immutableStateInvariant - Middleware aus dem Paket <a href="https://www.npmjs.com/package/redux-immutable-state-invariant">redux-immutable-state-invariant</a> , mit der Mutationen in im Repository gespeicherten Daten erkannt werden. </li></ul><br><p>  Um eine aufsteigende Liste von Middleware anzugeben, akzeptiert die Funktion getDefaultMidlleware ein Objekt, das die Liste der enthaltenen Middleware und deren Einstellungen definiert.  Weitere Informationen zu diesen Informationen finden Sie im entsprechenden <a href="https://redux-toolkit.js.org/api/getDefaultMiddleware">Abschnitt der</a> offiziellen Dokumentation. </p><br><p>  Jetzt schreiben wir den Code-Abschnitt neu, der f√ºr die Erstellung des Repositorys mit den oben beschriebenen Tools verantwortlich ist.  Als Ergebnis erhalten wir Folgendes: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { configureStore, getDefaultMiddleware } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@reduxjs/toolkit'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> reducers <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./reducers'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> middleware = getDefaultMiddleware({ <span class="hljs-attr"><span class="hljs-attr">immutableCheck</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">serializableCheck</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">thunk</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, }); <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> store = configureStore({ <span class="hljs-attr"><span class="hljs-attr">reducer</span></span>: { ...reducers }, middleware, <span class="hljs-attr"><span class="hljs-attr">devTools</span></span>: process.env.NODE_ENV !== <span class="hljs-string"><span class="hljs-string">'production'</span></span>, });</code> </pre> <br><p>  Anhand des Beispiels dieses Codeabschnitts k√∂nnen Sie deutlich erkennen, dass die configureStore-Funktion die folgenden Probleme l√∂st: </p><br><ul><li>  die Notwendigkeit, Untersetzungsgetriebe zu kombinieren, wobei combineReducers automatisch aufgerufen wird, </li><li>  Die Notwendigkeit, Middleware zu kombinieren, ruft automatisch applyMiddleware auf. </li></ul><br><p>  Au√üerdem k√∂nnen Sie die Redux DevTools-Erweiterung mit der Funktion composeWithDevTools aus dem <a href="https://www.npmjs.com/package/redux-devtools-extension">Erweiterungspaket redux-devtools</a> bequemer aktivieren.  All dies weist darauf hin, dass Sie mit dieser Funktion den Code kompakter und verst√§ndlicher gestalten k√∂nnen. </p><br><p>  Damit ist die Erstellung und Konfiguration des Repositorys abgeschlossen.  Wir √ºbermitteln es an den Anbieter und fahren fort. </p><br><h3 id="deystviya-sozdateli-deystviy-i-redyuser">  Aktionen, Aktionsersteller und Reduzierer </h3><br><p>  Betrachten wir nun die Funktionen des Redux Toolkit in Bezug auf die Entwicklung von Aktionen, Aktionserstellern und Reduzierern.  Die urspr√ºngliche Version des Codes ohne das Redux Toolkit war in die Dateien actions.js und reducers.js unterteilt.  Der Inhalt der Datei actions.js sah folgenderma√üen aus: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> productReleasesService <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../../services/productReleases'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> PRODUCT_RELEASES_FETCHING = <span class="hljs-string"><span class="hljs-string">'PRODUCT_RELEASES_FETCHING'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> PRODUCT_RELEASES_FETCHED = <span class="hljs-string"><span class="hljs-string">'PRODUCT_RELEASES_FETCHED'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> PRODUCT_RELEASES_FETCHING_ERROR = <span class="hljs-string"><span class="hljs-string">'PRODUCT_RELEASES_FETCHING_ERROR'</span></span>; ‚Ä¶ <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> PRODUCT_RELEASE_UPDATING = <span class="hljs-string"><span class="hljs-string">'PRODUCT_RELEASE_UPDATING'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> PRODUCT_RELEASE_UPDATED = <span class="hljs-string"><span class="hljs-string">'PRODUCT_RELEASE_UPDATED'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> PRODUCT_RELEASE_CREATING_UPDATING_ERROR = <span class="hljs-string"><span class="hljs-string">'PRODUCT_RELEASE_CREATING_UPDATING_ERROR'</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">productReleasesFetching</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: PRODUCT_RELEASES_FETCHING }; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">productReleasesFetched</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">productReleases</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: PRODUCT_RELEASES_FETCHED, productReleases }; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">productReleasesFetchingError</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: PRODUCT_RELEASES_FETCHING_ERROR, error } } ‚Ä¶ <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fetchProductReleases</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">dispatch</span></span></span><span class="hljs-function"> =&gt;</span></span> { dispatch(productReleasesFetching()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> productReleasesService.getProductReleases().then( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">productReleases</span></span></span><span class="hljs-function"> =&gt;</span></span> dispatch(productReleasesFetched(productReleases)) ).catch(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function"> =&gt;</span></span> { error.clientMessage = <span class="hljs-string"><span class="hljs-string">"Can't get product releases"</span></span>; dispatch(productReleasesFetchingError(error)) }); } } ‚Ä¶ <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateProductRelease</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> id, productName, productVersion, releaseDate </span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">dispatch</span></span></span><span class="hljs-function"> =&gt;</span></span> { dispatch(productReleaseUpdating()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> productReleasesService.updateProductRelease( id, productName, productVersion, releaseDate ).then( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">productRelease</span></span></span><span class="hljs-function"> =&gt;</span></span> dispatch(productReleaseUpdated(productRelease)) ).catch(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function"> =&gt;</span></span> { error.clientMessage = <span class="hljs-string"><span class="hljs-string">"Can't update product releases"</span></span>; dispatch(productReleaseCreatingUpdatingError(error)) }); } }</code> </pre> <br><p>  Inhalt der Datei reducers.js vor Verwendung von Redux Toolkit: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> initialState = { <span class="hljs-attr"><span class="hljs-attr">productReleases</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">loadedProductRelease</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">fetchingState</span></span>: <span class="hljs-string"><span class="hljs-string">'none'</span></span>, <span class="hljs-attr"><span class="hljs-attr">creatingState</span></span>: <span class="hljs-string"><span class="hljs-string">'none'</span></span>, <span class="hljs-attr"><span class="hljs-attr">updatingState</span></span>: <span class="hljs-string"><span class="hljs-string">'none'</span></span>, <span class="hljs-attr"><span class="hljs-attr">error</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, }; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reducer</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state = initialState, action = {}</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (action.type) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> productReleases.PRODUCT_RELEASES_FETCHING: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { ...state, <span class="hljs-attr"><span class="hljs-attr">fetchingState</span></span>: <span class="hljs-string"><span class="hljs-string">'requesting'</span></span>, <span class="hljs-attr"><span class="hljs-attr">error</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, }; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> productReleases.PRODUCT_RELEASES_FETCHED: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { ...state, <span class="hljs-attr"><span class="hljs-attr">productReleases</span></span>: action.productReleases, <span class="hljs-attr"><span class="hljs-attr">fetchingState</span></span>: <span class="hljs-string"><span class="hljs-string">'success'</span></span>, }; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> productReleases.PRODUCT_RELEASES_FETCHING_ERROR: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { ...state, <span class="hljs-attr"><span class="hljs-attr">fetchingState</span></span>: <span class="hljs-string"><span class="hljs-string">'failed'</span></span>, <span class="hljs-attr"><span class="hljs-attr">error</span></span>: action.error }; ‚Ä¶ <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> productReleases.PRODUCT_RELEASE_UPDATING: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { ...state, <span class="hljs-attr"><span class="hljs-attr">updatingState</span></span>: <span class="hljs-string"><span class="hljs-string">'requesting'</span></span>, <span class="hljs-attr"><span class="hljs-attr">error</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, }; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> productReleases.PRODUCT_RELEASE_UPDATED: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { ...state, <span class="hljs-attr"><span class="hljs-attr">updatingState</span></span>: <span class="hljs-string"><span class="hljs-string">'success'</span></span>, <span class="hljs-attr"><span class="hljs-attr">productReleases</span></span>: state.productReleases.map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">productRelease</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (productRelease.id === action.productRelease.id) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> action.productRelease; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> productRelease; }) }; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> productReleases.PRODUCT_RELEASE_UPDATING_ERROR: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { ...state, <span class="hljs-attr"><span class="hljs-attr">updatingState</span></span>: <span class="hljs-string"><span class="hljs-string">'failed'</span></span>, <span class="hljs-attr"><span class="hljs-attr">error</span></span>: action.error }; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> state; } }</code> </pre> <br><p>  Wie wir sehen k√∂nnen, ist hier der gr√∂√üte Teil des Boilerplates enthalten: Aktionstypkonstanten, Aktionsersteller, wieder Konstanten, aber im Reduzierercode braucht es Zeit, um den gesamten Code zu schreiben.  Mit den Funktionen createAction und createReducer, die ebenfalls Teil des Redux Toolkit sind, k√∂nnen Sie dieses Boilerplate teilweise entfernen. </p><br><h4 id="funkciya-createactionanchorcreateactionanchor">  CreateAction-Funktion <a name="createAction"></a></h4><br><p>  Im angegebenen Codeabschnitt wird die Standardmethode zum Definieren einer Aktion in Redux verwendet: Zuerst wird eine Konstante separat definiert, die den Aktionstyp und dann - die Funktion des Erstellers der Aktion dieses Typs bestimmt.  Die Funktion <a href="https://redux-toolkit.js.org/api/createaction/">createAction</a> kombiniert diese beiden Deklarationen zu einer.  Bei der Eingabe wird ein Aktionstyp verwendet und der Ersteller der Aktion f√ºr diesen Typ zur√ºckgegeben.  Der Aktionsersteller kann entweder ohne Argumente oder mit einem Argument (Nutzlast) aufgerufen werden, dessen Wert in das Nutzlastfeld der erstellten Aktion gestellt wird.  Dar√ºber hinaus √ºberschreibt der Aktionsersteller die Funktion toString (), sodass der Aktionstyp zu seiner Zeichenfolgendarstellung wird. </p><br><p>  In einigen F√§llen m√ºssen Sie m√∂glicherweise zus√§tzliche Logik schreiben, um den Wert der Nutzlast anzupassen, z. B. mehrere Parameter f√ºr den Aktionsersteller akzeptieren, einen zuf√§lligen Bezeichner erstellen oder den aktuellen Zeitstempel abrufen.  Zu diesem Zweck verwendet createAction ein optionales zweites Argument - eine Funktion, die zum Aktualisieren des Nutzlastwerts verwendet wird.  Weitere Informationen zu diesem <a href="https://redux-toolkit.js.org/api/createaction/">Parameter</a> finden Sie in der offiziellen Dokumentation. <br>  Mit der Funktion createAction erhalten wir den folgenden Code: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> productReleasesFetching = createAction(<span class="hljs-string"><span class="hljs-string">'PRODUCT_RELEASES_FETCHING'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> productReleasesFetched = createAction(<span class="hljs-string"><span class="hljs-string">'PRODUCT_RELEASES_FETCHED'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> productReleasesFetchingError = createAction(<span class="hljs-string"><span class="hljs-string">'PRODUCT_RELEASES_FETCHING_ERROR'</span></span>); ‚Ä¶ <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fetchProductReleases</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">dispatch</span></span></span><span class="hljs-function"> =&gt;</span></span> { dispatch(productReleasesFetching()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> productReleasesService.getProductReleases().then( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">productReleases</span></span></span><span class="hljs-function"> =&gt;</span></span> dispatch(productReleasesFetched({ productReleases })) ).catch(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function"> =&gt;</span></span> { error.clientMessage = <span class="hljs-string"><span class="hljs-string">"Can't get product releases"</span></span>; dispatch(productReleasesFetchingError({ error })) }); } } ...</code> </pre> <br><h4 id="funkciya-createreduceranchorcreatereduceranchor">  CreateReducer-Funktion <a name="createReducer"></a></h4><br><p>  Betrachten Sie nun das Reduzierst√ºck.  Wie in unserem Beispiel werden Reduzierungen h√§ufig mithilfe der switch-Anweisung implementiert, wobei f√ºr jeden verarbeiteten Aktionstyp ein Register vorhanden ist.  Dieser Ansatz funktioniert gut, ist jedoch nicht ohne Boilerplate und fehleranf√§llig.  Beispielsweise kann leicht vergessen werden, den Standardfall zu beschreiben oder den Anfangszustand nicht festzulegen.  Die Funktion <a href="https://redux-toolkit.js.org/api/createreducer/">createReducer</a> vereinfacht die Erstellung von Reduzierungsfunktionen, indem sie als Funktionssuchtabellen f√ºr die Verarbeitung der einzelnen Aktionstypen definiert werden.  Au√üerdem k√∂nnen Sie die Logik unver√§nderlicher Aktualisierungen erheblich vereinfachen, indem Sie Code in einem "ver√§nderlichen" Stil in Reduzierungen schreiben. </p><br><p>  In der <a href="https://immerjs.github.io/immer/docs/introduction">Immer-</a> Bibliothek steht ein robuster Stil f√ºr die Ereignisbehandlung zur Verf√ºgung.  Die Handler-Funktion kann entweder den zum √Ñndern der Eigenschaften √ºbergebenen Zustand ‚Äûmutieren‚Äú oder einen neuen Zustand zur√ºckgeben, wie dies bei der Arbeit im unver√§nderlichen Stil der Fall ist. Dank Immer wird jedoch die eigentliche Mutation des Objekts nicht ausgef√ºhrt.  Die erste Option erleichtert die Arbeit und die Wahrnehmung erheblich, insbesondere wenn ein Objekt mit tiefer Schachtelung ge√§ndert wird. </p><br><p>  Seien Sie vorsichtig: Das Zur√ºckgeben eines neuen Objekts von einer Funktion √ºberschreibt ‚Äûver√§nderbare‚Äú √Ñnderungen.  Die gleichzeitige Verwendung beider Methoden zur Statusaktualisierung funktioniert nicht. </p><br><p>  Die Funktion createReducer akzeptiert die folgenden Argumente als Eingabeparameter: </p><br><ul><li>  Ausgangszustand der Lagerung </li><li>  Ein Objekt, das eine Entsprechung zwischen Aktionstypen und Reduzierern herstellt, von denen jeder einen bestimmten Typ verarbeitet. </li></ul><br><p>  Mit der createReducer-Methode erhalten wir den folgenden Code: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> initialState = { <span class="hljs-attr"><span class="hljs-attr">productReleases</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">loadedProductRelease</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">fetchingState</span></span>: <span class="hljs-string"><span class="hljs-string">'none'</span></span>, <span class="hljs-attr"><span class="hljs-attr">creatingState</span></span>: <span class="hljs-string"><span class="hljs-string">'none'</span></span>, <span class="hljs-attr"><span class="hljs-attr">loadingState</span></span>: <span class="hljs-string"><span class="hljs-string">'none'</span></span>, <span class="hljs-attr"><span class="hljs-attr">error</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> counterReducer = createReducer(initialState, { [productReleasesFetching]: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.fetchingState = <span class="hljs-string"><span class="hljs-string">'requesting'</span></span> }, [productReleasesFetched.type]: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.productReleases = action.payload.productReleases; state.fetchingState = <span class="hljs-string"><span class="hljs-string">'success'</span></span>; }, [productReleasesFetchingError]: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.fetchingState = <span class="hljs-string"><span class="hljs-string">'failed'</span></span>; state.error = action.payload.error; }, ‚Ä¶ [productReleaseUpdating]: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.updatingState = <span class="hljs-string"><span class="hljs-string">'requesting'</span></span> }, [productReleaseUpdated]: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.updatingState = <span class="hljs-string"><span class="hljs-string">'success'</span></span>; state.productReleases = state.productReleases.map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">productRelease</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (productRelease.id === action.payload.productRelease.id) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> action.payload.productRelease; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> productRelease; }); }, [productReleaseUpdatingError]: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.updating = <span class="hljs-string"><span class="hljs-string">'failed'</span></span>; state.error = action.payload.error; }, });</code> </pre> <br><p>  Wie wir sehen k√∂nnen, l√∂st die Verwendung der Funktionen createAction und createReducer im Wesentlichen das Problem, zus√§tzlichen Code zu schreiben, aber das Problem, Konstanten vorher zu erstellen, bleibt weiterhin bestehen.  Aus diesem Grund betrachten wir eine leistungsf√§higere Option, die die Generierung von Aktionserstellern und Reduzierern kombiniert - die Funktion createSlice. </p><br><h4 id="funkciya-createsliceanchorcreatesliceanchor">  CreateSlice-Funktion <a name="createSlice"></a></h4><br><p>  Die Funktion createSlice akzeptiert ein Objekt mit den folgenden Feldern als Eingabeparameter: </p><br><ul><li>  name - Namespace der erstellten Aktionen ( <code>${name}/${action.type}</code> ); </li><li>  initialState - Anfangszustand des Reduzierers; </li><li>  Reduzierungen - ein Objekt mit Handlern.  Jeder Handler √ºbernimmt eine Funktion mit den Argumenten state und action. Action enth√§lt Daten in der Eigenschaft payload und den Namen des Ereignisses in der Eigenschaft name.  Dar√ºber hinaus ist es m√∂glich, die vom Ereignis empfangenen Daten vorab zu √§ndern, bevor sie in den Reduzierer gelangen (z. B. den Elementen der Sammlung eine ID hinzuzuf√ºgen).  Zu diesem Zweck m√ºssen Sie anstelle einer Funktion ein Objekt mit dem Reduzierer √ºbergeben und Felder vorbereiten, wobei Reduzierer die Action-Handler-Funktion und Prepare die Payload-Handler-Funktion ist, die die aktualisierte Payload zur√ºckgibt. </li><li>  extraReducers - Ein Objekt, das Reduktionen eines anderen Slice enth√§lt.  Dieser Parameter kann erforderlich sein, wenn ein Objekt, das zu einem anderen Slice geh√∂rt, aktualisiert werden muss.  Weitere Informationen zu dieser Funktionalit√§t finden Sie im entsprechenden <a href="https://redux-toolkit.js.org/api/createSlice">Abschnitt der</a> offiziellen Dokumentation. </li></ul><br><p>  Das Ergebnis der Funktion ist ein Objekt namens "Slice" mit folgenden Feldern: </p><br><ul><li>  name - scheibenname, </li><li>  Reduzierer - Reduzierer, </li><li>  Aktionen - eine Reihe von Aktionen. </li></ul><br><p>  Mit dieser Funktion erhalten wir den folgenden Quellcode: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> initialState = { <span class="hljs-attr"><span class="hljs-attr">productReleases</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">loadedProductRelease</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">fetchingState</span></span>: <span class="hljs-string"><span class="hljs-string">'none'</span></span>, <span class="hljs-attr"><span class="hljs-attr">creatingState</span></span>: <span class="hljs-string"><span class="hljs-string">'none'</span></span>, <span class="hljs-attr"><span class="hljs-attr">loadingState</span></span>: <span class="hljs-string"><span class="hljs-string">'none'</span></span>, <span class="hljs-attr"><span class="hljs-attr">error</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> productReleases = createSlice({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'productReleases'</span></span>, initialState, <span class="hljs-attr"><span class="hljs-attr">reducers</span></span>: { <span class="hljs-attr"><span class="hljs-attr">productReleasesFetching</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.fetchingState = <span class="hljs-string"><span class="hljs-string">'requesting'</span></span>; }, <span class="hljs-attr"><span class="hljs-attr">productReleasesFetched</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.productReleases = action.payload.productReleases; state.fetchingState = <span class="hljs-string"><span class="hljs-string">'success'</span></span>; }, <span class="hljs-attr"><span class="hljs-attr">productReleasesFetchingError</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.fetchingState = <span class="hljs-string"><span class="hljs-string">'failed'</span></span>; state.error = action.payload.error; }, ‚Ä¶ productReleaseUpdating: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.updatingState = <span class="hljs-string"><span class="hljs-string">'requesting'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">productReleaseUpdated</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.updatingState = <span class="hljs-string"><span class="hljs-string">'success'</span></span>; state.productReleases = state.productReleases.map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">productRelease</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (productRelease.id === action.payload.productRelease.id) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> action.payload.productRelease; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> productRelease; }); }, <span class="hljs-attr"><span class="hljs-attr">productReleaseUpdatingError</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) =&gt;</span></span> { state.updating = <span class="hljs-string"><span class="hljs-string">'failed'</span></span>; state.error = action.payload.error; }, }, });</code> </pre> <br><p>  Jetzt extrahieren wir die Aktionsersteller und Reduzierer aus dem erstellten Slice. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { actions, reducer } = productReleases; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { productReleasesFetched, productReleasesFetching, productReleasesFetchingError, ‚Ä¶ productReleaseUpdated, productReleaseUpdating, productReleaseUpdatingError } = actions; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> reducer;</code> </pre> <br><p>  Der Quellcode der Aktionsersteller, die die API-Aufrufe enthalten, wurde bis auf die Methode zum √úbergeben von Parametern beim Senden von Aktionen nicht ge√§ndert: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fetchProductReleases = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> (dispatch) =&gt; { dispatch(productReleasesFetching()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> productReleasesService .getProductReleases() .then(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">productReleases</span></span></span><span class="hljs-function">) =&gt;</span></span> dispatch(productReleasesFetched({ productReleases }))) .catch(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function">) =&gt;</span></span> { error.clientMessage = <span class="hljs-string"><span class="hljs-string">"Can't get product releases"</span></span>; dispatch(productReleasesFetchingError({ error })); }); }; ‚Ä¶ <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> updateProductRelease = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">id, productName, productVersion, releaseDate</span></span></span><span class="hljs-function">) =&gt;</span></span> (dispatch) =&gt; { dispatch(productReleaseUpdating()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> productReleasesService .updateProductRelease(id, productName, productVersion, releaseDate) .then(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">productRelease</span></span></span><span class="hljs-function">) =&gt;</span></span> dispatch(productReleaseUpdated({ productRelease }))) .catch(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function">) =&gt;</span></span> { error.clientMessage = <span class="hljs-string"><span class="hljs-string">"Can't update product releases"</span></span>; dispatch(productReleaseUpdatingError({ error })); });</code> </pre> <br><p>  Der obige Code zeigt, dass Sie mit der Funktion createSlice bei der Arbeit mit Redux einen erheblichen Teil der Boilerplate entfernen k√∂nnen, wodurch Sie den Code nicht nur kompakter, pr√§gnanter und verst√§ndlicher gestalten, sondern auch weniger Zeit f√ºr das Schreiben aufwenden k√∂nnen. </p><br><h2 id="itog">  Zusammenfassung </h2><br><p>  Am Ende dieses Artikels m√∂chte ich darauf hinweisen, dass die Redux Toolkit-Bibliothek zwar nichts Neues zur Speicherverwaltung hinzuf√ºgt, jedoch eine Reihe von wesentlich bequemeren M√∂glichkeiten zum Schreiben von Code bietet als zuvor.  Mit diesen Tools kann der Entwicklungsprozess nicht nur bequemer, verst√§ndlicher und schneller, sondern auch effektiver gestaltet werden, da eine Reihe bew√§hrter Tools in der Bibliothek vorhanden sind.  Wir, Inobitek, planen, diese Bibliothek weiterhin f√ºr die Entwicklung unserer Softwareprodukte zu verwenden und neue vielversprechende Entwicklungen im Bereich der Web-Technologien zu √ºberwachen. </p><br><p>  Vielen Dank f√ºr Ihre Aufmerksamkeit.  Wir hoffen, dass unser Artikel n√ºtzlich sein wird.  Weitere Informationen zur Redux Toolkit-Bibliothek finden Sie in der offiziellen <a href="https://redux-toolkit.js.org/">Dokumentation</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de481288/">https://habr.com/ru/post/de481288/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de481272/index.html">Einfrieren oder Modernisieren - was machen wir im Urlaub?</a></li>
<li><a href="../de481276/index.html">Wie ich mein YP und meinen Compiler f√ºr 12 Jahre erstellt habe</a></li>
<li><a href="../de481280/index.html">Wie wir die Qualifizierungsphase von CTFZone-2020 vorbereitet haben</a></li>
<li><a href="../de481282/index.html">Was die Idee wert ist und wie man daraus ein Konzept macht: Spiele-Designer-Tools</a></li>
<li><a href="../de481286/index.html">Steig auf den Tisch! B√ºrokleinigkeiten, die √ºberhaupt keine Kleinigkeiten sind</a></li>
<li><a href="../de481290/index.html">HOW-to / Network- und VLAN-Einstellungen auf einem dedizierten Hetzner- und Mikrotik-Server</a></li>
<li><a href="../de481294/index.html">Die 10 besten Tools zur Softwaretestautomatisierung</a></li>
<li><a href="../de481296/index.html">Wie schreibe ich Code, der wiederverwendet wird?</a></li>
<li><a href="../de481302/index.html">"About, yes not a cluster" oder wie wir DBMS importiert haben</a></li>
<li><a href="../de481304/index.html">Amerikanische Flagge sortieren</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>