<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧘🏾 🥔 👹 Une autre maison intelligente, en plusieurs parties. Station météorologique à partir de matériaux improvisés 🧙🏻 👩🏼‍🎤 🤲🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En parcourant différents projets de stations météorologiques, j'ai remarqué une tendance. Il s'agit soit d'un capteur de température et d'humidité, le...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Une autre maison intelligente, en plusieurs parties. Station météorologique à partir de matériaux improvisés</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/396641/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En parcourant différents projets de stations météorologiques, j'ai remarqué une tendance. </font><font style="vertical-align: inherit;">Il s'agit soit d'un capteur de température et d'humidité, le plus souvent le bien-aimé chinois DHT-11 ou DHT-22, auquel un capteur de lumière ambiante ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">station météo sur Arduino avec visualisation des données</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) ou un </font><font style="vertical-align: inherit;">capteur de </font><font style="vertical-align: inherit;">pression ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">station météo Ethernet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), ou acheté de fantaisie pour plusieurs centaines de dollars ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Station météorologique automatique dans le pays</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Étant donné que pour moi personnellement, une station météorologique sans mesurer la direction et la vitesse du vent n'est pas une station météorologique, et je ne suis pas prêt à dépenser environ 700 USD pour un jouet, il a été décidé de le faire ressembler à un "truc cher" mais pas cher.</font></font><br>
<br>
<img src="https://habrastorage.org/files/e6a/6e3/000/e6a6e30000624803a44893855329a687.jpg" alt="image"><br>
<a name="habracut"></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Électronique</font></font></h3><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le capteur de température est LM35. </font><font style="vertical-align: inherit;">Inclus avec la possibilité de mesurer des températures négatives</font></font><img src="https://habrastorage.org/files/522/27d/5bb/52227d5bbe4c4c81b9b686ac0686fb9f.png" alt="image"></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Où sans elle - un capteur d'humidité et de température DHT11</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Capteur de pression - HP03SA</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Capteur de lumière - Photorésistance LXD5516</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Capteur de vitesse du vent - Capteur à effet Hall normal</font></font></li>
</ol><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant sur la mesure de la direction du vent. </font><font style="vertical-align: inherit;">Il y avait de nombreuses options, des encodeurs optiques - d'usine (chers) ou faits maison sous la forme de plusieurs paires de LED et de photodiodes, et un disque avec un code Gray (complexe et de nombreux composants), à un aimant et 4-8 interrupteurs à lames (trop simples et inexacts). </font><font style="vertical-align: inherit;">En conséquence, le choix s'est porté sur l'AS5040 - un encodeur magnétique. </font><font style="vertical-align: inherit;">Comme une précision particulière n'est pas nécessaire, la sortie analogique de l'encodeur est connectée à l'ADC du microcontrôleur. </font></font><br>
<br>
<img src="https://habrastorage.org/files/3f0/025/52b/3f002552bf4a4ca99cf514a6d10317ac.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Microcontrôleur - PIC16F88. </font><font style="vertical-align: inherit;">La sortie est RS485 vers le réseau interne d'une maison intelligente, dont cette série d'articles. </font><font style="vertical-align: inherit;">Toutes les pièces électroniques sont assemblées sur trois cartes. </font></font><br>
<br>
<img src="https://habrastorage.org/files/f87/c40/1dd/f87c401dd4df4460bbdf9ce4dff2d141.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est tout avec l'électronique, pas de nuances, rien d'intéressant, le tout sur des fiches techniques. </font><font style="vertical-align: inherit;">Nous nous tournons vers la mécanique.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La mécanique</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Malheureusement, il n'est pas possible d'imprimer le boîtier sur une imprimante 3D, et les boîtiers d'usine étanches ont des problèmes pour presque tout le monde. De plus, les roulements et tout le reste sont des corps de rotation, ce qui signifie qu'un boîtier rond sera le choix le plus logique. J'ai dû regarder d'autres domaines - l'approvisionnement en eau. Le raccord «32» pour l'assainissement et les deux tuyaux pour le placement des ensembles de roulements en eux ont été pris comme logement. Deux bouchons ont été usinés en laiton, dans lesquels deux roulements 626 ont été enfoncés. </font></font><br>
<br>
<img src="https://habrastorage.org/files/3e7/81f/917/3e781f91770f407998e31cedd7fba40b.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aimants ... L'aimant pour un capteur de vitesse convient à presque tout le monde, mais avec un capteur de direction, c'était plus difficile. Il a besoin d'un aimant rond avec aimantation d'un bord à l'autre, </font></font><br>
<br>
<img src="https://habrastorage.org/files/9ea/a71/215/9eaa712155c145158b29fea1b0c236e8.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
tandis que la majeure partie de ceux vendus ont des pôles différents sur différents côtés.</font></font><br>
<br>
<img src="https://habrastorage.org/files/9d7/d7e/c58/9d7d7ec582ad4feaa0b5ff174071a9f2.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais il s'est avéré que les aimants nécessaires sont situés sur les broches des moteurs de lecteur de CD / DVD. </font></font><br>
<br>
<img src="https://habrastorage.org/files/2c5/756/6e8/2c57566e8320479e8a422e040d9ee5bb.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les assemblages de roulements assemblés ressemblent à ceci </font></font><br>
<br>
<img src="https://habrastorage.org/files/8f7/01c/f7a/8f701cf7a0804eedb3ed2676c484da15.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après la fabrication et l'assemblage des cartes de circuits imprimés, les capteurs de vitesse et de direction du vent prennent leur forme finale, </font></font><br>
<br>
<img src="https://habrastorage.org/files/898/b37/e77/898b37e770c742eaacbdbdd3f5f1483a.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
car la station météo est toujours fabriquée à partir de matériaux improvisés, nous coupons des balles de tennis pour la roue, nous fabriquons également une girouette à partir de ce que nous mettons sous nos mains. </font><font style="vertical-align: inherit;">Nous peignons dans une couleur radicalement noire, et cela se révèle ainsi. </font></font><br>
<br>
<img src="https://habrastorage.org/files/32f/978/102/32f978102be74c92b613d6a3f18a07ce.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En tant que capteur de pluie, nous utilisons également la moitié d'une balle de tennis dans laquelle deux contacts sont situés entre deux couches de géotextile. </font></font><br>
<br>
<img src="https://habrastorage.org/files/845/c81/d11/845c81d117d04894af0df1aee0cc53ed.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous assemblons, connectons et vissons plus haut</font></font><br>
<br>
<img src="https://habrastorage.org/files/93f/bf6/21d/93fbf621d8fb4ac09b2b849d023ddde6.jpg" alt="image"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interface</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme je l'ai dit ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une autre maison intelligente, en trois parties. Troisième partie, interface utilisateur</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), il existe deux types d'interface. La première vue, dans laquelle presque toutes les données de l'appareil sont affichées à l'écran, ressemble à la </font></font><br>
<br>
<img src="https://habrastorage.org/files/a17/b91/1d3/a17b911d34144f489056b40b0eb6b897.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
température actuelle, minimum, maximum, direction du changement. La pression est similaire. Humidité. Vent - direction du vent et rose. Les chiffres sont nécessaires plutôt pour le débogage, ils montrent combien de temps la girouette était dans quel secteur. Vitesse du vent, temps, lectures du capteur de lumière (sans étalonnage, ce que l'ADC a mesuré) et capteur de pluie. Toutes les données et le traitement sont effectués dans le microcontrôleur de la station météo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le deuxième type d'interface est basé sur des widgets. Il y a moins de données, de température, d'humidité, de pression, de vitesse et de direction du vent. </font></font><br>
<br>
<img src="https://habrastorage.org/files/729/b91/ed3/729b91ed3b444d4294c8e80aae13435f.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et où sans Android Wear - sur la montre</font></font><br>
<br>
<img src="https://habrastorage.org/files/799/eef/127/799eef12781d419db476ffdbbb0f0e4e.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Étant donné qu'une fois par minute, tous les contrôleurs ont un relevé dans la base de données, toutes les données météorologiques sont disponibles pour analyse ou affichage sous forme de graphiques.</font></font><br>
<br>
<img src="https://habrastorage.org/files/f33/1f7/82f/f331f782f8ce443db9c0474ba132ffbf.png" alt="image"></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr396641/">https://habr.com/ru/post/fr396641/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr396627/index.html">Nouvelles batteries et chargeurs IKEA</a></li>
<li><a href="../fr396629/index.html">Statistiques Backblaze: déterminez le meilleur disque dur au 2ème trimestre 2016</a></li>
<li><a href="../fr396631/index.html">En Chine, a lancé un portail de bus - et il s'est avéré être un faux</a></li>
<li><a href="../fr396633/index.html">Seagate présente un nouveau SSD de 60 To</a></li>
<li><a href="../fr396635/index.html">Nous contrôlons les appareils NooLite à partir du routeur Zyxel Keenetic</a></li>
<li><a href="../fr396643/index.html">La vitesse à laquelle la technologie évolue</a></li>
<li><a href="../fr396645/index.html">50 nuances de moignon * Ports d'E / S de microcontrôleur Microchip</a></li>
<li><a href="../fr396649/index.html">Bitfinex a piraté et retiré environ 65 millions de dollars en équivalent</a></li>
<li><a href="../fr396651/index.html">Regarder l'avenir pour comprendre le passé</a></li>
<li><a href="../fr396653/index.html">Projet IRotary</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>