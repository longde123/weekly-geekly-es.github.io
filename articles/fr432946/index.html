<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏡 ✊🏾 🕺🏽 Unity - Pièges du développement de jeux 2D 😪 🤾 👩🏼‍🔬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il y a beaucoup d'articles sur Unity pour le nouveau venu, mais je ne veux pas me répéter, mais je veux partager mon expérience dans le développement ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Unity - Pièges du développement de jeux 2D</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/432946/">  Il y a beaucoup d'articles sur <b>Unity</b> pour le nouveau venu, mais je ne veux pas me répéter, mais je veux partager mon expérience dans le développement du premier jeu et, plus spécifiquement, parler de ce que j'ai trébuché.  Cela vous donnera à tous, chers développeurs, une chance de vous protéger à l'avenir contre les travaux imprévus et la perte de temps.  J'espère que ce matériel sera lu par les développeurs <b>Unity</b> afin d'améliorer leur produit. <br><br><div style="text-align:center;"><img width="400" src="https://habrastorage.org/getpro/habr/post_images/b18/499/8b5/b184998b5c12a8b55995ba96e1b11a23.jpg" alt="image"></div><br>  <b>Attention</b> , sous les captures d'écran de chat <b>16+</b> ! <br><a name="habracut"></a><br>  Étant donné que la plupart d'entre nous sont des techniciens, je vais tout mettre sur les étagères, à la mode, et essayer de présenter le matériel aussi brièvement que possible, de manière concise et sans eau. <br><br><h2>  Défi </h2><br>  Je voulais écrire quelque chose du Nouvel An, simple à comprendre et à gérer.  À la suite de la discussion avec le public cible (mon enfant), il a été décidé que le jeu serait comme ceci: <br><br><ul><li>  <b>2D</b> (car il est plus pratique de jouer à des jeux 2D sur le téléphone) </li><li>  <b>Contrôle à un doigt</b> (parfois au maximum deux) </li><li>  <b>Time killer</b> (juste un coup pour ne pas forcer le cerveau) </li><li>  <b>Système de réalisation</b> (pour le rendre au moins un peu intéressant pour continuer) </li><li>  <b>Dessin animé</b> </li><li>  <b>Belle musique</b> </li><li>  <b>Sans internet</b> </li><li>  <b>Android</b> (facilité d'installation des fichiers apk de test) </li></ul><br><br>  Tout cela a abouti à l'idée <b>" <s>Satan</s> Santa tire des cerfs qui interfèrent avec son sac</b> . <b>"</b> <br><br><img width="400" src="https://habrastorage.org/getpro/habr/post_images/75c/764/4cb/75c7644cb93ae06b3eaed8c5d8e88227.png" alt="mortel klaus"><br><br>  Et puis tout a commencé ... <br><br><h2>  1. Bibliothèques Android tierces </h2><br>  <b>Problème:</b> j'ai passé deux jours à trouver le bon SDK, JDK, NDK et à faire fonctionner Unity avec eux.  Sur ma machine avant Unity, le SDK du studio Android était déjà présent, mais ça n'a pas commencé avec eux, j'ai dû chercher autre chose, installer, essayer, chercher à nouveau ... deux jours ... <br><br>  <b>Suggestion d'amélioration:</b> ce serait bien si le sdk nécessaire des dernières versions était installé automatiquement lors de l'installation de Unity, et si quelqu'un a besoin de rétrograder ou de mettre à niveau - alors laissez celui-ci se configurer lui-même, avec des stylos. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/603/454/2ac/6034542acc29b69eec61acf46bab6d4b.png" alt="image"><br><br><h2>  2. Graphiques vectoriels </h2><br>  <b>Problème: L'</b> unité prête à l'emploi ne comprend pas le <b>SVG</b> .  Même toutes sortes de petits frameworks JS comme Paper.js fonctionnent simplement intelligemment avec un vecteur, mais pas un éléphant comme Unity. <br><br>  <b>Solution: j'ai</b> installé un package bêta qui semble lire SVG, mais à la fin il le convertit en raster.  Acceptable, mais gênant, Unité! <br><br><h2>  3. Plateforme 2D </h2><br><img width="400" src="https://habrastorage.org/getpro/habr/post_images/ab0/a73/e07/ab0a73e0764bda1bd5f6e6ddcd006fbd.png" alt="image"><br><br>  <b>Problème:</b> comme vous pouvez le voir sur la capture d'écran, il y a du terrain et il y a une boule de neige dessus.  Et c'est aussi <b>Mesh</b> et <b>Polygon Collider</b> .  C'est-à-dire que c'est une surface qui interagit avec les objets et qui peut être modifiée dans l'éditeur.  Ainsi, dans la version actuelle d'Unity, aucun outil standard ne peut être utilisé pour simuler cela. <br><br>  <b>Solution:</b> <br><ol><li>  Vous pouvez dessiner un raster avec alpha (moins - éditer ce puits est assez gênant) </li><li>  Vous pouvez acheter un plugin qui fait cela (moins - dépenser de l'argent) </li><li>  Vous pouvez écrire le plugin vous-même (moins - prendre beaucoup de temps à comprendre, prendre beaucoup de temps à écrire) </li></ol><br>  J'ai choisi un moyen long mais gratuit;) Si quelqu'un a besoin d'un tel plugin - écrire, partager, dire comment l'utiliser, ça ne me dérange pas :) <br><br>  Au fait, j'ai regardé la démo de la nouvelle version bêta d'Unity, il semble qu'une telle chose va apparaître hors de la boîte!  Merci pour ça, mes amis! <br><br>  Oui, j'ajouterais un panneau pour créer rapidement des primitives 2D, des cercles là, des carrés ... sinon ils n'existent tout simplement pas, eh bien, ou vous devez aller dans le canal d'actifs et le rechercher. <br><br><h2>  4. Rotation et Quaternion </h2><br>  <b>Problème: un</b> système très complexe de positionnement et de rotation 3D, inutile dans les jeux 2D. <br><br>  <b>Solution:</b> il suffit de le comprendre et de l'accepter, car un jeu 2D est un jeu 3D avec la coordonnée Z = 0. Mais ce serait bien de simplifier ce système en mode 2D, camarades;) <br><br>  J'ai tué beaucoup de temps et j'ai presque cassé mon cerveau, essayant de faire pivoter l'objet dans la bonne direction à l'angle droit, par rapport à un autre objet, quand je viens d'écrire <b>player.a = 45</b> dans un autre moteur <b>;</b>  Oui, et de nombreuses méthodes évidentes dans la version actuelle sont dépréciées. <br><br><h2>  5. Débogage </h2><br>  <b>Problème:</b> pour nous, débutants, la possibilité de débogage n'est disponible que sous forme de sortie de la valeur variable sur la console en utilisant la méthode <b>print ()</b> .  Les pauses à part entière sont le lot de ceux qui paient.  Corrigez-moi ici, si je me trompe, mais je ne pouvais pas configurer Visual Studio pour le débogage de quelque manière que ce soit, bien que j'aie trouvé une vidéo montrant que vous n'aviez pas besoin de configurer quoi que ce soit, cela devrait fonctionner tout seul.  Il a conclu que le débogage est disponible dans les versions payantes. <br><br>  <b>Solution:</b> J'utilise simplement <b>print ()</b> ... et je comprends que le débogage d'un projet complexe sera un facteur décisif pour l'acquisition d'une version payante d'Unity.  Les commerçants de l'entreprise triste respect :( <br><br>  <b>Résolu!</b>  grâce à l'invite <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">Leopotam,</a> j'ai installé un package supplémentaire pour le studio, le bouton <b>«Attach to Unity debugger»</b> est apparu. <br><br><h2>  6. Appuyez et cliquez, glissez et déplacez </h2><br>  <b>Problème:</b> malgré la commodité du système d'entrée utilisateur intégré, la simplicité du traitement des bandes simples ordinaires, des clics et des balayages n'est pas suffisante.  Je voudrais utiliser une méthode qui retournera les coordonnées d'un simple clic / toucher pour différents types d'appareils: un toucher et un bureau avec une souris, par exemple. <br><br>  <b>Solution:</b> j'ai dû écrire ma couche de classe et encapsuler les événements nécessaires. <br><br>  Je vais peut-être laisser un autre commentaire concernant le système de gestion.  Un grand merci aux développeurs Unity pour l'entrée universelle, mais pour les appareils tactiles, je voudrais également des commandes universelles.  Par exemple, faites glisser vers le haut - liez à Jump, visualisez la croix et les boutons, comme sur un joystick, etc.  Vous pouvez l'acheter dans des forfaits payants ou, encore une fois, vous écrire, passer du temps sur des vélos. <br><br><h2>  7. Confusion avec les coordonnées </h2><br>  <b>Problème:</b> vous ne pouvez pas attribuer les coordonnées de clic à l'objet et le voir au bon endroit, et cela n'est pas évident. <br><br>  <b>Solution:</b> vous devez d'abord lire la documentation, comprendre et utiliser diverses méthodes de mappage des coordonnées: <br><br>  <i>WorldToScreenPoint ()</i> <i><br></i>  <i>ScreenToViewportPoint ()</i> <i><br></i>  <i>transform.TransformPoint ()</i> <br>  et d'autres ... <br><br>  Je vais l'expliquer parce que la distance dans la scène est mesurée en unités arbitraires autres qu'un pixel, et en outre, les objets ont un système d'imbrication, respectivement, le positionnement est relatif au parent. <br><br><h2>  8. Un maigre ensemble de contrôles d'interface utilisateur </h2><br>  <b>Problème:</b> seuls les éléments les plus élémentaires sont livrés de la boîte, et même alors, vous devez bricoler avec certains. <br><br>  <b>Solution:</b> vous pouvez vous contenter de peu.  Par exemple, j'ai passé beaucoup de temps à faire défiler la liste dynamique.  Vous pouvez acheter des contrôles sympas (moins - dépenser de l'argent). <br><br><h2>  9. Grande taille du fichier APK </h2><br>  <b>Problème:</b> lors de la construction d'un projet vide, sa taille est de <b>21,9 Mo</b> (23 061 612 octets) <br><br>  <b>Solution:</b> vous devez économiser sur tout.  J'ai pincé des fichiers mp3, compressé des textures, essayé de ne rien inclure de superflu dans le projet.  Mais lorsque des paquets supplémentaires ont été connectés, la taille a augmenté sans pitié, en s'efforçant pour une centaine. <br><br>  Google Play demande aux développeurs de publier des applications <b>&lt;100 Mo.</b>  (22 déjà engloutis).  Bien sûr, il existe des mécanismes de partage dynamique et dynamique des ressources, mais nous sommes de nouveaux arrivants, et notre objectif est d'apprendre les bases, de réaliser nos rêves chers et de ne pas lutter avec les limites du marché. <br><br><h2>  10. cyrillique </h2><br>  <b>Problème:</b> Ayant monté un projet pour la plate-forme JS / HTML5 (pour les tests), il s'est avéré qu'il n'y avait tout simplement aucun texte écrit en russe. <br><br>  <b>Solution:</b> vous devez télécharger le fichier de police, l'importer dans les ressources, puis spécifier cette police importée dans les paramètres de chaque texte. <br><br>  C'est en quelque sorte très étrange. <br><br><h2>  11. Performance physique </h2><br>  <b>Problème:</b> Le jeu commence à ralentir terriblement lorsqu'il y a des collisionneurs complexes, lors de l'utilisation du mode <b>Continu</b> pour la <b>détection de collision</b> , lorsque plusieurs <b>systèmes de particules</b> sont utilisés dans une scène, bref, lorsque tout est utilisé pour donner effet et beauté aux jeux. <br><br>  <b>Solution:</b> utilisez uniquement les collisionneurs primitifs <b>Circle</b> et <b>Rectangle</b> , la <b>détection de collision</b> ne doit être que <b>discrète</b> , le nombre de particules dans le <b>système de particules</b> doit être réglé au minimum acceptable.  Enfin et toujours, ne pas admettre mon erreur et ne pas utiliser les collisions à l'intérieur du système de particules.  L'effet, bien sûr, est magnifique, car le sang coule dans les objets, mais il est très gourmand en ressources. <br><br><img width="400" src="https://habrastorage.org/getpro/habr/post_images/191/946/004/191946004af19bb76ec39a8b5ca81249.png" alt="image"><br><br>  Naturellement, cela est vrai pour les jeux mobiles 2D.  Mais j'aimerais que Unity développe, utilise de nouveaux shaders cool pour les particules, et pour les collisions, et pour tout le reste complexe et beau. <br><br><h2>  Conclusion </h2><br>  Il y avait, bien sûr, d'autres pièges, mais ce sont des bagatelles.  Il y avait des avantages inattendus, tels que: <br><br><ul><li>  Préfabriqués </li><li>  Bonne documentation et communauté </li><li>  Créer automatiquement un collisionneur de polygones à l'aide du canal alpha d'un sprite </li><li>  Facilité d'utilisation des effets sonores. </li><li>  Animation très pratique sur les images clés (avec l'ajout d'Anima2D et de la cinématique inverse) </li></ul><br>  Mais c'est une histoire complètement différente ... <br><br>  Quant au timing de la tâche, j'ai été très inhibé par le point n ° 3 (développement d'un plug-in de modélisation de la plateforme).  En tant que développeur expérimenté, j'ai évalué le problème par moi-même et l'ai évalué comme suit: 20, 30, 40 (soirées / jours de congé parce que pendant la journée, je suis occupé avec le travail principal), où 20 est optimiste et 40 pessimiste.  Si ce n'était pas pour le point numéro 3, j'aurais atteint 20-30, mais au final j'ai passé environ deux mois.  (non, je ne travaillais pas tous les soirs, c'est-à-dire que j'en avais environ 40). <br><br>  Si quelqu'un est intéressé, je dirai que j'ai dû dessiner les graphiques moi-même, grâce au programme <b>Inkscape</b> .  J'ai choisi la musique exclusivement avec une licence d'utilisation gratuite. <br><br>  J'ai dû passer quelques jours à publier sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Google Play</a> . <br><br>  Deux autres jours ont été consacrés à l'intégration de la publicité (vous ne le verrez probablement pas, je voulais vraiment l'essayer, même si le jouet n'était pas considéré comme commercial) <br><br>  Oui, beaucoup aurait pu être amélioré, mais je voulais amuser mes amis avant les vacances du Nouvel An. <br><br>  Ne vous méprenez pas, ce n'est pas un poste de relations publiques.  Surtout, je veux que ceux qui font le moteur Unity prêtent attention à ces lacunes et, bien sûr, les éliminent (enfin, c'est l'idéal).  Et je veux aussi aider mes frères spirituels à ne pas se retrouver sur le même chemin que moi. <br><br>  Et si je me trompe sur quelque chose, alors ne jugez pas strictement, partagez vos astuces dans les commentaires! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr432946/">https://habr.com/ru/post/fr432946/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr432934/index.html">Lévitation facilement accessible en échographie</a></li>
<li><a href="../fr432936/index.html">Webinar Group-IB «SOC axé sur le renseignement et est-il possible de s'en passer?»</a></li>
<li><a href="../fr432940/index.html">50 nuances de jeton</a></li>
<li><a href="../fr432942/index.html">Modèles de corutine et antipatterns dans Kotlin</a></li>
<li><a href="../fr432944/index.html">Optimisation forcée des requêtes PostgreSQL</a></li>
<li><a href="../fr432948/index.html">Clouds intelligents, entreprises intelligentes: comment l'IA transforme l'industrie du cloud computing</a></li>
<li><a href="../fr432954/index.html">Et encore dans l'espace: comment le licorne Stellarium a visité</a></li>
<li><a href="../fr432956/index.html">Monstres d'Id: comment Doom a été créé</a></li>
<li><a href="../fr432958/index.html">Le nouveau paradoxe quantique clarifie dans quel cas nos idées sur la réalité s'avèrent fausses</a></li>
<li><a href="../fr432960/index.html">Pourquoi les consommateurs n'ont pas peur du vol d'identité</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>