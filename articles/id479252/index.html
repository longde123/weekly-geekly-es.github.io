<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👟 ♉️ 🙅🏾 Daftar Pemahaman vs Peta 🙊 😽 🍃</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hai, Habr. Seringkali ketika bekerja dengan urutan, muncul pertanyaan tentang kreasi mereka. Tampaknya digunakan untuk menggunakan Daftar inklusi (Pem...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Daftar Pemahaman vs Peta</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/479252/">  Hai, Habr.  Seringkali ketika bekerja dengan urutan, muncul pertanyaan tentang kreasi mereka.  Tampaknya digunakan untuk menggunakan <b>Daftar inklusi (Pemahaman Daftar)</b> , dan dalam buku-buku berteriak tentang penggunaan wajib fungsi <b>peta</b> built-in. <br><br>  Dalam artikel ini, kami akan mempertimbangkan pendekatan ini untuk bekerja dengan urutan, membandingkan kinerja, dan juga menentukan di mana situasi pendekatan mana yang lebih baik. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fm/mq/0t/fmmq0tuqp1pioiebhgdvwtwi4w4.jpeg" alt="gambar"></div><a name="habracut"></a><br><h2>  Daftar pemahaman </h2><br>  Daftar inklusi adalah mekanisme penghasil daftar yang dibangun ke dalam Python.  Dia hanya memiliki satu tugas - untuk membangun daftar.  Daftar inklusi membangun daftar dari jenis yang dapat diubah, mengubah (memfilter) nilai yang masuk. <br><br>  Contoh penyertaan daftar sederhana untuk menghasilkan daftar kuadrat angka dari 0 hingga 9: <br><br><pre><code class="python hljs">squares = [x*x <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">10</span></span>)]</code> </pre> <br>  Hasil: <br><br><pre> <code class="python hljs">[<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>, <span class="hljs-number"><span class="hljs-number">36</span></span>, <span class="hljs-number"><span class="hljs-number">49</span></span>, <span class="hljs-number"><span class="hljs-number">64</span></span>, <span class="hljs-number"><span class="hljs-number">81</span></span>]</code> </pre><br><h2>  peta </h2><br>  peta adalah fungsi yang dibangun ke dalam bahasa.  Ini menerima fungsi sebagai parameter pertama, dan objek iterable sebagai parameter kedua.  Mengembalikan generator (Python 3.x) atau daftar (Python 2.x).  Saya akan memilih Python 3. <br><br>  Contoh memanggil fungsi peta untuk menghasilkan daftar kotak angka dari 0 hingga 9: <br><br><pre> <code class="python hljs">squares = list(map(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x*x, range(<span class="hljs-number"><span class="hljs-number">10</span></span>)))</code> </pre><br>  Hasil: <br><br><pre> <code class="python hljs">[<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>, <span class="hljs-number"><span class="hljs-number">36</span></span>, <span class="hljs-number"><span class="hljs-number">49</span></span>, <span class="hljs-number"><span class="hljs-number">64</span></span>, <span class="hljs-number"><span class="hljs-number">81</span></span>]</code> </pre><br><h2>  Perbandingan kinerja </h2><br><h3>  Bangun tanpa fungsi </h3><br>  Sebagai percobaan, kami akan mempertimbangkan kuadrat angka dari interval dari 0 hingga 9.999.999: <br><br><pre> <code class="python hljs">python -m timeit -r <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-string"><span class="hljs-string">"[x*x for x in range(10000000)]"</span></span> python -m timeit -r <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-string"><span class="hljs-string">"list(map(lambda x: x*x, range(10000000)))"</span></span></code> </pre><br>  Hasil: <br><br><pre> <code class="python hljs"><span class="hljs-number"><span class="hljs-number">1</span></span> loop, best of <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">833</span></span> msec per loop <span class="hljs-number"><span class="hljs-number">1</span></span> loop, best of <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1.22</span></span> sec per loop</code> </pre><br>  Seperti yang Anda lihat, metode <b>Pemahaman Daftar</b> bekerja sekitar 32% lebih cepat.  Setelah dibongkar, tidak mungkin mendapatkan jawaban yang lengkap, karena fungsi peta "tampaknya menyembunyikan detail pekerjaannya".  Tetapi kemungkinan besar ini disebabkan oleh panggilan fungsi lambda yang konstan, di mana perhitungan kuadratnya sudah dilakukan.  Dalam hal Pemahaman Daftar, kita hanya perlu menghitung kuadrat. <br><br><h3>  Bangun dengan fitur </h3><br>  Sebagai perbandingan, kami juga akan mempertimbangkan kuadrat angka, tetapi perhitungan sekarang akan berada di dalam fungsi: <br><br><pre> <code class="python hljs">python -m timeit -r <span class="hljs-number"><span class="hljs-number">10</span></span> -s <span class="hljs-string"><span class="hljs-string">"def pow2(x): return x*x"</span></span> <span class="hljs-string"><span class="hljs-string">"[pow2(x) for x in range(10000000)]"</span></span> python -m timeit -r <span class="hljs-number"><span class="hljs-number">10</span></span> -s <span class="hljs-string"><span class="hljs-string">"def pow2(x): return x*x"</span></span> <span class="hljs-string"><span class="hljs-string">"list(map(pow2, range(10000000)))"</span></span></code> </pre><br>  Hasil: <br><br><pre> <code class="python hljs"><span class="hljs-number"><span class="hljs-number">1</span></span> loop, best of <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1.41</span></span> sec per loop <span class="hljs-number"><span class="hljs-number">1</span></span> loop, best of <span class="hljs-number"><span class="hljs-number">10</span></span>: <span class="hljs-number"><span class="hljs-number">1.21</span></span> sec per loop</code> </pre><br>  Kali ini situasinya terbalik.  Metode <b>peta</b> 14% lebih cepat.  Dalam contoh ini, kedua metode berada dalam situasi yang sama.  Keduanya harus memanggil fungsi untuk menghitung kuadrat.  Namun, optimalisasi internal fungsi peta memungkinkannya menampilkan hasil yang lebih baik. <br><br><h2>  Apa yang harus dipilih? </h2><br>  Di bawah ini adalah aturan untuk memilih metode yang tepat: <br><br><img src="https://habrastorage.org/webt/th/pz/8s/thpz8sci_vw5z29wlhlkxiyfdu0.jpeg" alt="gambar"><br><br>  Mungkin ada pengecualian untuk aturan ini, tetapi dalam kebanyakan kasus ini akan membantu Anda membuat pilihan yang tepat! <br><br><h2>  apakah peta "lebih aman"? </h2><br>  Kenapa banyak yang mendesak penggunaan <b>peta</b> .  Faktanya adalah bahwa dalam beberapa kasus peta sebenarnya lebih aman daripada List Comprehension. <br><br>  Sebagai contoh: <br><br><pre> <code class="python hljs">symbols = [<span class="hljs-string"><span class="hljs-string">'a'</span></span>, <span class="hljs-string"><span class="hljs-string">'b'</span></span>, <span class="hljs-string"><span class="hljs-string">'c'</span></span>] values = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> symbols: print(x) squared = [x*x <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> values] <span class="hljs-comment"><span class="hljs-comment">#  . "x"   "for"  print(x)</span></span></code> </pre><br>  Output dari program ini adalah sebagai berikut: <br><br><pre> <code class="python hljs">a <span class="hljs-number"><span class="hljs-number">3</span></span> b <span class="hljs-number"><span class="hljs-number">3</span></span> c <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre><br>  Sekarang tulis ulang kode yang sama menggunakan <b>peta</b> : <br><br><pre> <code class="python hljs">symbols = [<span class="hljs-string"><span class="hljs-string">'a'</span></span>, <span class="hljs-string"><span class="hljs-string">'b'</span></span>, <span class="hljs-string"><span class="hljs-string">'c'</span></span>] values = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> symbols: print(x) squared = map(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x*x, values) <span class="hljs-comment"><span class="hljs-comment">#  ,     print(x)</span></span></code> </pre><br>  Kesimpulan: <br><br><pre> <code class="python hljs">a a b b c c</code> </pre><br>  Yang paling jeli sudah bisa melihat dari sintaks menggunakan <b>peta</b> bahwa ini adalah Python 2. Memang, di python kedua ada masalah serupa dengan variabel overwriting.  Namun, dalam Python 3, masalah ini telah diperbaiki dan tidak lagi relevan. <br><br>  Contoh yang dijelaskan di atas akan menunjukkan hasil yang sama.  Mungkin juga terlihat bahwa ini adalah kesalahan bodoh dan Anda tidak akan pernah membuat kesalahan seperti itu, namun, ini bisa terjadi ketika Anda hanya mentransfer satu blok kode dengan loop dalam dari blok lain.  Kesalahan seperti itu bisa menghabiskan banyak waktu dan saraf untuk memperbaikinya. <br><br><h2>  Kesimpulan </h2><br>  Perbandingan menunjukkan bahwa masing-masing metode baik dalam situasinya. <br><br><ul><li>  Jika Anda tidak memerlukan semua nilai yang dihitung sekaligus (atau mungkin tidak diperlukan sama sekali), maka Anda harus memilih <b>peta</b> .  Jadi, sesuai kebutuhan, Anda akan meminta sebagian data dari generator, sambil menyimpan sejumlah besar memori (Python 3. Dalam Python 2, ini tidak masuk akal, karena peta mengembalikan daftar). </li><li>  Jika Anda perlu menghitung semua nilai sekaligus dan perhitungan dapat dilakukan tanpa menggunakan fungsi, maka Anda harus membuat pilihan ke arah <b>Pemahaman Daftar</b> .  Seperti yang ditunjukkan oleh hasil percobaan - ini memiliki keunggulan signifikan dalam kinerja. </li></ul><br>  PS: Jika saya melewatkan sesuatu, saya senang mendiskusikannya dengan Anda di komentar. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id479252/">https://habr.com/ru/post/id479252/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id479242/index.html">Kami sedang menyelesaikan Stasiun Yandex. Untuk menonton YouTube</a></li>
<li><a href="../id479244/index.html">Pohon awalan dengan indeks bitmap</a></li>
<li><a href="../id479246/index.html">11 arahan untuk pertumbuhan dan pengembangan profesional seorang programmer</a></li>
<li><a href="../id479248/index.html">Mitap “Kubernetes in action!” - pengalaman nyata dalam membangun sistem yang dapat diskalakan</a></li>
<li><a href="../id479250/index.html">Bagaimana saya belajar bekerja dengan mikrokontroler - pengalaman pemula</a></li>
<li><a href="../id479256/index.html">Di bangun dari Astrotracker di Two Evenings - My Experience</a></li>
<li><a href="../id479258/index.html">IGF 2019. Apakah Internet berantakan?</a></li>
<li><a href="../id479262/index.html">Intisari bahan-bahan segar dari dunia front-end untuk minggu terakhir No. 392 (2 - 8 Desember 2019)</a></li>
<li><a href="../id479264/index.html">Warna Bulan dan Matahari dari ruang angkasa dalam hal RGB dan suhu warna</a></li>
<li><a href="../id479266/index.html">Analisis beban CPU yang dihasilkan oleh masing-masing komponen JavaScript</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>