<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö¥ ‚òÄÔ∏è üèÇüèº Comment Kiwi.com teste 1000 projets Python üòÅ üòú üçÆ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La version originale anglaise de cet article est ici . 

 C'est le titre d'une conf√©rence d'Alex Viscreanu √† Moscou Python Conf ++. Deux semaines de p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment Kiwi.com teste 1000 projets Python</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/444214/">  <i>La version originale anglaise de cet article est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .</i> <br><br>  C'est le titre d'une conf√©rence d'Alex Viscreanu √† Moscou Python Conf ++.  Deux semaines de plus avant la repr√©sentation, mais j'ai bien s√ªr d√©j√† interrog√© Alex sur tout et sous le chat, je partagerai les spoilers et les coulisses de la pr√©paration du rapport: quel type de zoo open source fait ce qu'il fait avec notre code Python et en quoi il diff√®re des camarades mypy. <br><br>  <b>- Parlez-moi un peu de Kiwi, que faites-vous dans l'entreprise?</b> <br><br>  Kiwi.com est une agence de voyage en ligne √† la sauce secr√®te.  L'entreprise a √©t√© fond√©e en R√©publique tch√®que en 2012 sous le nom de Skypicker, et en 2016, le service a chang√© de nom et a d√©m√©nag√© sur Kiwi.com.  Kiwi.com fait maintenant partie des cinq plus grands agr√©gateurs de billets d'avion en Europe. <br><br>  Une fonctionnalit√© int√©ressante de Kiwi.com pour les utilisateurs est que nous trouvons des options de correspondance pour les vols des compagnies a√©riennes qui ne fonctionnent g√©n√©ralement pas ensemble, et nous nous occupons de toutes sortes de probl√®mes de connexion. <br><br><blockquote>  Pour √©valuer notre √©chelle, voici les chiffres concernant Kiwi.com: 90 000 000+ recherches quotidiennes, 25 000 si√®ges de vente quotidiens et plus de 15 000 000 000 de combinaisons de vols disponibles. </blockquote><a name="habracut"></a><br>  Quant √† moi, je suis un d√©veloppeur full-stack, d√©plac√© d'Espagne en R√©publique Tch√®que pour travailler chez Kiwi.com.  J'ai travaill√© avec Python sur le backend, JavaScript et le zoo de diff√©rents types sur le frontend: Backbone.js, Angular, Vue.js. <br><br>  Chez Kiwi.com, j'ai rejoint l'√©quipe infrastructure, j'ai donc principalement <b>d√©velopp√© et entretenu des outils internes</b> pour les d√©veloppeurs.  Ce travail n√©cessite une connaissance approfondie de la gestion des infrastructures et des outils de d√©ploiement, je pense que nous pouvons dire que je fais actuellement du <b>DevOps, avec un l√©ger biais dans la partie Dev</b> . <br><br>  <strong>- Combien de d√©veloppeurs Python y a-t-il √† Kiwi?</strong>  <strong>Pour quels projets utilisez-vous Python?</strong> <br><br>  Nous avons plus de <strong>350 d√©veloppeurs</strong> , 200 d'entre eux utilisent Python chaque jour.  Kiwi.com poss√®de une <strong>architecture de microservices</strong> et chaque √©quipe est responsable de plusieurs services.  Je ne pense pas qu'on puisse dire que l'un d'eux est le plus important, ou que tous les d√©veloppeurs travaillent sur une chose.  De plus, le backend a ferm√© le code, et je ne peux pas trop en parler. <br><br>  Mais nous avons quelques projets open source int√©ressants disponibles sur GitHub: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><strong>Phoenix</strong></a> - un outil pour les notifications dans Slack sur les incidents; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><strong>Crane</strong></a> - un script pour le d√©ploiement vers Rancher directement depuis GitLab; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><strong>Le Zoo</strong></a> est un ensemble de petits services qui peuvent n√©anmoins √™tre tr√®s utiles. </li></ul><br>  <b>- Qu'en est-il du CI / CD et de l'infrastructure de d√©ploiement?</b> <br><br>  Nous utilisons <b>GitLab</b> comme r√©f√©rentiel de code source et, bien s√ªr, <b>GitLab CI</b> s'int√®gre mieux avec lui.  C'est une assez bonne solution, elle est flexible et vous permet de construire des pipelines productifs.  Et en utilisant un tas de GitLab CI et notre outil Crane, nous pouvons d√©ployer des projets dans diff√©rents environnements en un seul clic (ou de mani√®re enti√®rement automatique si vous avez le courage). <br><br>  Nous fournissons √† tous les CI une flotte d'instances de mise √† l'√©chelle automatique EC2.  Pour cette raison, vous pouvez facilement ajouter de l'√©nergie au besoin et √©conomiser sans tenir les serveurs inutilis√©s pendant les heures creuses. <br><br>  Nous orchestrons l'infrastructure avec l'aide de <b>Rancher</b> , qui a parfaitement fait ses preuves dans notre charge de travail et dans nos conditions. <br><br>  <b>- Il semble que vous pr√©f√©riez Python.</b>  <b>Utilisez-vous d'autres langues et pour quoi faire?</b> <br><br>  Le deuxi√®me langage le plus utilis√© est <b>JavaScript</b> , principalement pour le frontend et l'API GraphQL.  De plus, il existe des applications Kotlin et Java pour Android;  Swift et Objective-C pour iOS;  GoLang est utilis√© √† certains endroits pour un ensemble de services, et C / C ++ pour le moteur de recherche de vols. <br><br>  <b>- Vous avez mentionn√© le projet open source The Zoo.</b>  <b>Pourquoi les projets open source Kiwi?</b>  <b>Quel est votre avantage?</b> <br><br>  Comme beaucoup d'autres soci√©t√©s, nous utilisons l'open source dans presque tout ce que nous d√©veloppons.  Cela peut ressembler √† un clich√©, mais quand vous obtenez autant, ce serait bien de donner quelque chose en retour.  <b>C'est une contribution √† la connaissance collective</b> qui nous aide tous √† aller de l'avant. <br><br>  Outre le fait que nous b√©n√©ficierons de ce que nous publions en open source, cela nous est √©galement utile.  D'autres personnes peuvent regarder le produit sous un angle compl√®tement diff√©rent et proposer quelque chose que nous n'avons pas pens√© ou soup√ßonn√©. <br><br>  <b>- Parlez-nous un peu plus du Zoo.</b>  <b>Combien de r√©f√©rentiels v√©rifiez-vous avec elle?</b> <br><br>  Nous avons environ 1 300 r√©f√©rentiels dans GitLab interne et environ 100 dans GitHub public.  Pr√®s de <b>1500</b> au total. <br><br>  Nous analysons chacun de nos r√©f√©rentiels, m√™me si le service n'est pas enregistr√© aupr√®s du Zoo.  L'id√©e est que, d'une part, plus les analyses sont nombreuses, plus les conclusions sont pr√©cises et, d'autre part, lorsque le service se connectera √† l'avenir au Zoo, nous disposerons d√©j√† de donn√©es sur le comportement pass√©. <br><br>  <b>- Un nombre impressionnant!</b>  <b>Et combien d'erreurs trouvez-vous habituellement?</b>  <b>Vous souvenez-vous d'une prise sp√©ciale?</b> <br><br>  Maintenant, dans notre base de donn√©es, il y a environ <b>26 000 probl√®mes trouv√©s</b> , soit environ 20 probl√®mes par projet.  Certes, la plupart d'entre eux ne sont pas des "probl√®mes-probl√®mes", mais simplement des recommandations. <br><br><blockquote>  C'est formidable lorsque vous pouvez d√©tecter automatiquement des erreurs importantes. </blockquote><br>  Habituellement, une nouvelle v√©rification appara√Æt dans The Zoo apr√®s qu'un probl√®me a √©t√© d√©couvert dans l'un des r√©f√©rentiels.  S'il nous semble que cela peut √©galement appara√Ætre dans d'autres endroits, nous commen√ßons une nouvelle v√©rification dans The Zoo.  Juste pour faciliter la d√©termination des projets concern√©s et nous assurer que nous pouvons corriger l'erreur partout dans les plus brefs d√©lais. <br><br>  Vous ne devez pas vous attendre √† ce que le Zoo trouve des failles de s√©curit√© critiques ou des probl√®mes de code complexes.  Nous avons d'autres outils pour eux, et m√™me si nous les impl√©mentons dans la plate-forme, cela vaut la peine de d√©tecter les bogues critiques avant m√™me le zoo.  Elle est plut√¥t n√©cessaire pour qu'une seule directive soit respect√©e dans tous les r√©f√©rentiels. <br><br>  <b>- Autrement dit, le zoo en tant que tel n'a pas de contr√¥les par d√©faut?</b>  <b>En avez-vous besoin pour que le d√©veloppeur puisse √©crire les ch√®ques qu'il souhaite?</b>  <b>Vous avez cr√©√© The Zoo et testez beaucoup de tout avec.</b>  <b>Pouvez-vous donner quelques exemples?</b> <br><br>  Certes, <b>le zoo est une plate-forme</b> dans laquelle chacun peut √©crire son propre test.  Nos contr√¥les sont adapt√©s √† notre configuration plut√¥t sp√©cifique, mais nous voulons √©galement les ouvrir. <br><br>  Comme je l'ai dit, les contr√¥les sont bas√©s sur les probl√®mes rencontr√©s dans nos services.  Ils vont des recommandations README aux v√©rifications de configuration plus complexes, telles que nginx. <br><br>  <b>- Cela ressemble √† un "must have" pour toute grande entreprise!</b>  <b>Allez-vous en parler plus en d√©tail dans votre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rapport</a> sur Moscow Python Conf ++?</b> <br><br>  Je pense qu'il sera plus int√©ressant de savoir comment faciliter et acc√©l√©rer l'ex√©cution de tests dans tous les r√©f√©rentiels.  Mais, bien s√ªr, je vais vous parler de ce que nous v√©rifions sur Kiwi.com.  J'esp√®re que cela sera utile aux invit√©s de la conf√©rence. <br><br>  J'invite tout le monde √† essayer The Zoo, √† jouer avec, √† √©crire leurs propres ch√®ques et √† √©largir ainsi la base de connaissances g√©n√©rales.  Je suis s√ªr que vous y trouverez quelque chose qui vous convient. <br><br>  <b>- Merci!</b>  <b>Enfin, si vous pouviez remonter 5 ans en arri√®re, quels conseils vous donneriez-vous sur Python?</b> <br><br>  Ce n'est pas facile ... J'ai commenc√© √† √©crire en Python 3 il y a seulement un an et demi, mais pour moi dans le pass√©, je recommanderais fortement de commencer le plus t√¥t possible.  <b>Python 3 est une √©volution naturelle du langage</b> , il d√©finit les bases.  Maintenant, je ne reviendrai jamais sur Python 2. Le fait n'est pas seulement que la fin de son support est proche, mais pour la plupart, je suis d√©j√† habitu√© aux fonctionnalit√©s de la nouvelle version. <br><br>  De retour dans le temps, j'attrapais le bagage de bonnes biblioth√®ques que j'ai rencontr√©es √† cette √©poque, et de bonnes pratiques que j'apprends encore. <br><br><blockquote>  Venez √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Moscou Python Conf ++</a> le 5 avril pour d√©couvrir les d√©tails de travailler avec ce projet open source int√©ressant et, peut-√™tre, pour emprunter l'exp√©rience Kiwi dans quelque chose. <br></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr444214/">https://habr.com/ru/post/fr444214/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr444200/index.html">Session de r√©solution de probl√®mes</a></li>
<li><a href="../fr444204/index.html">Pr√©sentation des tests en Python. 3e partie</a></li>
<li><a href="../fr444206/index.html">27 mars, Moscou - JavaScript MeetUP</a></li>
<li><a href="../fr444208/index.html">Pourquoi les entreprises ont-elles besoin d'un bon code?</a></li>
<li><a href="../fr444212/index.html">Conversations sur la programmation fonctionnelle en C ++ Sib√©rie 2019</a></li>
<li><a href="../fr444216/index.html">Moscow Python Conf ++ en trois jours: de quoi parlera Bobuk et qui se produira dans des salles parall√®les en ce moment?</a></li>
<li><a href="../fr444220/index.html">Comment Kiwi teste 1'000 projets Python</a></li>
<li><a href="../fr444222/index.html">Autour des ennemis. Comment planifier parano√Øaque votre travail</a></li>
<li><a href="../fr444226/index.html">@Pythonetc compilation f√©vrier 2019</a></li>
<li><a href="../fr444228/index.html">Trucs et astuces de ma cha√Æne Telegram @pythonetc, f√©vrier 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>