<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>โ๏ธ ๐ง ๐๏ธ ุฅุฒููู - (ููุณ ุชูุงููุง) ููุฌูุง ุฌุฏูุฏูุง ูุชุทููุฑ ุงูููุทู ุงูุฑููู ๐ ๐ ๐ง๐ป</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุน ุชุทูุฑ ุงูุฅููุชุฑูููุงุช ุงูุฏูููุฉ ุ ุฃุตุจุญุช ุชุตูููุงุช RTL ุฃูุซุฑ ูุฃูุซุฑ. ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ููุฏ ููุฑูููุฌ ูู ุงููุซูุฑ ูู ุงูุฅุฒุนุงุฌ ุ ุญุชู ูุน ุชูููุฏ ุ ูุญุฏุงุช ุงููุงูุฑู ูุฑูุงุฆู ููุฑู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุฅุฒููู - (ููุณ ุชูุงููุง) ููุฌูุง ุฌุฏูุฏูุง ูุชุทููุฑ ุงูููุทู ุงูุฑููู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/419413/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ka/wc/b5/kawcb52amqtfs9chlivqku8sj-a.jpeg"></p><br><p style=";text-align:right;direction:rtl">  ูุน ุชุทูุฑ ุงูุฅููุชุฑูููุงุช ุงูุฏูููุฉ ุ ุฃุตุจุญุช ุชุตูููุงุช RTL ุฃูุซุฑ ูุฃูุซุฑ.  ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ููุฏ ููุฑูููุฌ ูู ุงููุซูุฑ ูู ุงูุฅุฒุนุงุฌ ุ ุญุชู ูุน ุชูููุฏ ุ ูุญุฏุงุช ุงููุงูุฑู ูุฑูุงุฆู ููุฑูููุฌ ุงููุธุงู.  ููุน ุฐูู ุ ูุฅู ุฅุฒููู ูุฌุนู ูู ุงููููู ุชุทุจูู ุงูููุฉ ุงููุงููุฉ ูููุงุฆูุงุช ูุงูุจุฑูุฌุฉ ุงููุธูููุฉ ุนูู ุชุทููุฑ rtl ุ ููู ุฎุทูุฉ ุทุงู ุงูุชุธุงุฑูุง ูููู ุฃู ุชููุฃ ุฑุฆุชู ูุทูุฑู ASIC ู FPGA ุจุงูููุงุก ุงูููู. </p><br><p style=";text-align:right;direction:rtl">  ุณุชูุฏู ูุฐู ุงูููุงูุฉ ูุธุฑุฉ ุนุงูุฉ ููุฌุฒุฉ ุนูู ุงููุธุงุฆู ุงูุฑุฆูุณูุฉ ูุณุชูุธุฑ ูู ุจุนุถ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู ูููุณุชุฎุฏู ุ ูุณูุชุญุฏุซ ุฃูุถูุง ุนู ุฃูุฌู ุงููุตูุฑ ูู ูุฐู ุงููุบุฉ.  ูู ุงููุณุชูุจู ุ ุฅุฐุง ูุงู ุงูููุถูุน ูุซูุฑูุง ููุงูุชูุงู ุ ูุฅููุง ููุงุตู ุงูููุงูุฉ ูู ุฏุฑูุณ ุฃูุซุฑ ุชูุตููุงู. </p><a name="habracut"></a><br><h3 id="sistemnye-trebovaniya" style=";text-align:right;direction:rtl">  ูุชุทูุจุงุช ุงููุธุงู </h3><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุณุชูู ูุงุนุฏุฉ ุณูุงูุง </li><li style=";text-align:right;direction:rtl">  ููุฑูููุฌ ูุงููุจุงุฏุฆ ุงูุฃุณุงุณูุฉ ูุจูุงุก ุงูุชุตุงููู ุงูุฑูููุฉ. </li><li style=";text-align:right;direction:rtl">  ุญุงูุธ ุนูู ูุซุงุฆู ุฅุฒููู ูู ูุชูุงูู ุงููุฏ </li></ul><br><p style=";text-align:right;direction:rtl">  ุณุฃุญุงูู ููู ุฃุณุงุณูุงุช ุงูุฅุฒููู ุจุงุณุชุฎุฏุงู ุฃูุซูุฉ ุจุณูุทุฉ ุ ูููู ุฅุฐุง ูุงู ููุงู ุดูุก ุบูุฑ ูุงุถุญ ุ ููููู ุฅููุงุก ูุธุฑุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> . </p><br><p style=";text-align:right;direction:rtl">  ุฃูุง ุจุงููุณุจุฉ ุฅูู ุงูุณูุงูุง ุ ููุฏ ุชุณุงุนุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฑูุฉ ุงูุบุด</a> ูุฐู ูู ุงูุบูุต ุงูุณุฑูุน. </p><br><p style=";text-align:right;direction:rtl">  ููุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงุญุฏ</a> ููุงุซู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุฅุฒููู</a> . </p><br><p style=";text-align:right;direction:rtl">  ูููู ุงูุนุซูุฑ ุนูู ููุฏ ุงูููุงูุฉ ุงููุงูู (ูู ุดูู ูุดุฑูุน scala sbt) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> . </p><br><h3 id="prostoy-schetchik" style=";text-align:right;direction:rtl">  ุนุฏุงุฏ ุจุณูุท </h3><br><p style=";text-align:right;direction:rtl">  ููุง ููุญู ุงูุงุณู ุ ูุฅู ุฅุฒููู "ุจูุงุก ุงูุฃุฌูุฒุฉ ูู ูุบุฉ ุณูุงูุง ุงููุถููุฉ" ูู ุนุจุงุฑุฉ ุนู ูุบุฉ ูุตู ููุฃุฌูุฒุฉ ูุจููุฉ ุนูู ุฃุนูู ุณูุงูุง. </p><br><p style=";text-align:right;direction:rtl">  ุจุงุฎุชุตุงุฑ ุญูู ููููุฉ ุนูู ูู ุดูุก ุ ุซู: ูุชู ุฅูุดุงุก ุฑุณู ุจูุงูู ููุฃุฌูุฒุฉ ูู ูุตู rtl ุนูู ุงูุฅุฒููู ุ ูุงูุฐู ูุชุญูู ุจุฏูุฑู ุฅูู ูุตู ูุณูุท ูู ูุบุฉ firrtl ุ ูุจุนุฏ ุฐูู ูุชู ุฅูุดุงุก ูุชุฑุฌู ุงูุฎูููุฉ ุงููุฏูุฌ ูู firrtl verilog. </p><br><p style=";text-align:right;direction:rtl">  ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ุชุทุจูููู ููุนุฏุงุฏ ุงูุจุณูุท. </p><br><p style=";text-align:right;direction:rtl">  ููุฑูููุฌ: </p><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">module SimpleCounter #( parameter WIDTH = 8 )( input clk, input reset, input wire enable, output wire [WIDTH-1:0] out ); reg [WIDTH-1:0] counter; assign out = counter; always @(posedge clk) if (reset) begin counter &lt;= {(WIDTH){1'b0}}; end else if (enable) begin counter &lt;= counter + 1; end endmodule</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅุฒููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleCounter</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">width: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-class"><span class="hljs-params"> = 32</span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Module</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> io = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">Bundle</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> enable = <span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> out = <span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">UInt</span></span>(width.<span class="hljs-type"><span class="hljs-type">W</span></span>)) }) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> counter = <span class="hljs-type"><span class="hljs-type">RegInit</span></span>(<span class="hljs-number"><span class="hljs-number">0.</span></span><span class="hljs-type"><span class="hljs-type">U</span></span>(width.<span class="hljs-type"><span class="hljs-type">W</span></span>)) io.out &lt;&gt; counter when(io.enable) { counter := counter + <span class="hljs-number"><span class="hljs-number">1.</span></span><span class="hljs-type"><span class="hljs-type">U</span></span> } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููููุง ุนู ุงูุฅุฒููู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>Module</code> - ุญุงููุฉ ููุตู ูุญุฏุฉ RTL </li><li style=";text-align:right;direction:rtl">  <code>Bundle</code> ูู ุจููุฉ ุจูุงูุงุช ูู ุงูุฅุฒููู ุ ุชุณุชุฎุฏู ุจุดูู ุฃุณุงุณู ูุชุญุฏูุฏ ุงููุงุฌูุงุช. </li><li style=";text-align:right;direction:rtl">  <code>io</code> - ูุชุบูุฑ ูุชุญุฏูุฏ ุงูููุงูุฐ </li><li style=";text-align:right;direction:rtl">  <code>Bool</code> - ููุน ุงูุจูุงูุงุช ุ ุฅุดุงุฑุฉ ุจุณูุทุฉ ุฃุญุงุฏูุฉ ุงูุจุช </li><li style=";text-align:right;direction:rtl">  <code>UInt(width: Width)</code> - ุนุฏุฏ ุตุญูุญ ุจุฏูู ุฅุดุงุฑุฉ ุ ููุจู ุงูููุดุฆ ุนูู ุงูุจุช ููุฅุดุงุฑุฉ ููุฏุฎู. </li><li style=";text-align:right;direction:rtl">  <code>RegInit[T &lt;: Data](init: T)</code> ูู ูููุดุฆ ุชุณุฌูู ุ ูุฃุฎุฐ ูููุฉ ุฅุนุงุฏุฉ ุชุนููู ุนูุฏ ุงูุฅุฏุฎุงู ููู ููุณ ููุน ุงูุจูุงูุงุช. </li><li style=";text-align:right;direction:rtl">  <code>&lt;&gt;</code> - ุนุงูู ุชูุตูู ุฅุดุงุฑุฉ ุนุงููู </li><li style=";text-align:right;direction:rtl">  <code>when(cond: =&gt; Bool) { /*...*/ }</code> - ุงูุชูุงุธุฑูุฉ <code>if</code> ูู ููุฑูููุฌ </li></ul><br><p style=";text-align:right;direction:rtl">  ุณูุชุญุฏุซ ุนู ุฃู ููุฑูููุฌ ูููุฏ ุฅุฒููููุง ุจุนุฏ ุฐูู ุจูููู.  ุงูุขู ููุท ูุงุฑู ุจูู ูุฐูู ุงูุชุตููููู.  ููุง ุชุฑู ุ ูุง ููุฌุฏ ุฃู ุฅุดุงุฑุฉ ุฅูู ุฅุดุงุฑุงุช <code>clk</code> ูุฅุนุงุฏุฉ <code>reset</code> ูู ุงูุฅุฒููู.  ูุงูุญูููุฉ ูู ุฃู ุงูุฅุฒููู ูุถูู ูุฐู ุงูุฅุดุงุฑุงุช ุฅูู ุงููุญุฏุฉ ุจุดูู ุงูุชุฑุงุถู.  ูุชู <code>RegInit</code> ูููุฉ ุฅุนุงุฏุฉ ุชุนููู ุชุณุฌูู <code>counter</code> <code>RegInit</code> ูููุดุฆ ุงูุชุณุฌูู ูุน ุฅุนุงุฏุฉ ุชุนููู <code>RegInit</code> .  ูุญุชูู ุงูุฅุฒููู ุนูู ุฏุนู ุงููุญุฏุงุช ูุน ุงูุนุฏูุฏ ูู ุฅุดุงุฑุงุช ุงูุณุงุนุฉ ุ ูููู ุจุนุฏ ุฐูู ุจูููู. </p><br><h3 id="schetchik-chut-poslozhnee" style=";text-align:right;direction:rtl">  ุงูุนุฏุงุฏ ุฃูุซุฑ ุชุนููุฏูุง ููููุงู </h3><br><p style=";text-align:right;direction:rtl">  ุฏุนูุง ูุฐูุจ ุฅูู ุฃุจุนุฏ ูู ุฐูู ูุชุนูุฏ ุงููููุฉ ููููุงู ุ ุนูู ุณุจูู ุงููุซุงู - ุณูููู ุจุนูู ุนุฏุงุฏ ูุชุนุฏุฏ ุงููููุงุช ูุน ูุนููุฉ ุฅุฏุฎุงู ูู ุดูู ุณูุณูุฉ ูู ุงูุจุชุงุช ููู ููุงุฉ. </p><br><p style=";text-align:right;direction:rtl">  ููุจุฏุฃ ุงูุขู ุจุฅุตุฏุงุฑ ุงูุฅุฒููู </p><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MultiChannelCounter</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">width: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Seq</span></span></span></span><span class="hljs-class"><span class="hljs-params">[</span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-class"><span class="hljs-params">] = </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Seq</span></span></span></span><span class="hljs-class"><span class="hljs-params">(32, 16, 8, 4</span></span></span><span class="hljs-class">)) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Module</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> io = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">Bundle</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> enable = <span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Vec</span></span>(width.length, <span class="hljs-type"><span class="hljs-type">Bool</span></span>())) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> out = <span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">UInt</span></span>(width.sum.<span class="hljs-type"><span class="hljs-type">W</span></span>)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getOut</span></span></span></span>(i: <span class="hljs-type"><span class="hljs-type">Int</span></span>): <span class="hljs-type"><span class="hljs-type">UInt</span></span> = { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> right = width.dropRight(width.length - i).sum <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.out(right + width(i) - <span class="hljs-number"><span class="hljs-number">1</span></span>, right) } }) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> counters: <span class="hljs-type"><span class="hljs-type">Seq</span></span>[<span class="hljs-type"><span class="hljs-type">SimpleCounter</span></span>] = width.map(x =&gt; <span class="hljs-type"><span class="hljs-type">Module</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">SimpleCounter</span></span>(x)) ) io.out &lt;&gt; util.<span class="hljs-type"><span class="hljs-type">Cat</span></span>(counters.map(_.io.out)) width.indices.foreach { i =&gt; counters(i).io.enable &lt;&gt; io.enable(i) } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููููุง ุนู ุณูุงูุง: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>width: Seq[Int]</code> - ูุนููุฉ ุงูุฅุฏุฎุงู <code>MultiChannelCounter</code> ูุฆุฉ <code>MultiChannelCounter</code> ุ ููุง ุงูููุน <code>Seq[Int]</code> - ุชุณูุณู ุจุนูุงุตุฑ ุตุญูุญุฉ. </li><li style=";text-align:right;direction:rtl">  <code>Seq</code> ูู ุฃุญุฏ ุฃููุงุน ุงููุฌููุนุงุช ูู ุณูุงูุง ูุน ุชุณูุณู ูุญุฏุฏ ููุนูุงุตุฑ. </li><li style=";text-align:right;direction:rtl">  <code>.map</code> ูู ูุธููุฉ ูุฃูููุฉ ูููุฌููุนุงุช ููุฌููุน ุ ูุงุฏุฑุฉ ุนูู ุชุญููู ูุฌููุนุฉ ุฅูู ุฃุฎุฑู ุจุณุจุจ ููุณ ุงูุนูููุฉ ุนูู ูู ุนูุตุฑ ุ ูู ุญุงูุชูุง ุชุชุญูู ุณูุณูุฉ ูู ุงูููู ุงูุตุญูุญุฉ ุฅูู ุณูุณูุฉ ูู <code>SimpleCounter</code> ูุน ุนูู ุงูุจุช ุงูููุงุจู. </li></ul><br><p style=";text-align:right;direction:rtl">  ููููุง ุนู ุงูุฅุฒููู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>Vec[T &lt;: Data](gen: T, n: Int): Vec[T]</code> - ููุน ุจูุงูุงุช ุงูุฅุฒููู ุ ูู ุชูุงุธุฑู ููุตููู. </li><li style=";text-align:right;direction:rtl">  <code>Module[T &lt;: BaseModule](bc: =&gt; T): T</code> ูู ุทุฑููุฉ ุงูุบูุงู ุงููุทููุจุฉ <code>Module[T &lt;: BaseModule](bc: =&gt; T): T</code> . </li><li style=";text-align:right;direction:rtl">  <code>util.Cat[T &lt;: Bits](r: Seq[T]): UInt</code> - ุฏุงูุฉ ุชุณูุณู ุ ุชูุงุธุฑูุฉ <code>{1'b1, 2'b01, 4'h0}</code> ูู <code>{1'b1, 2'b01, 4'h0}</code> </li></ul><br><p style=";text-align:right;direction:rtl">  ุงูุชุจู ููููุงูุฆ: <br>  <code>enable</code> - ุชู ูุดุฑู ุจุงููุนู ูู <code>Vec[Bool]</code> * ุ ุชูุฑูุจูุง ุ ูู ูุตูููุฉ ูู ุฅุดุงุฑุงุช ุจุช ูุงุญุฏ ุ ูุงุญุฏุฉ ููู ููุงุฉ ุ ูุงู ูู ุงููููู ุฌุนู <code>UInt(width.length.W)</code> . <br>  <code>out</code> - ุชู ุชูุณูุนู ููุตุจุญ ูุฌููุน ุนุฑุถ ูู ูููุงุชูุง. </p><br><p style=";text-align:right;direction:rtl">  <code>counters</code> ุงููุชุบูุฑุฉ ูู ูุฌููุนุฉ ูู ุนุฏุงุฏุงุชูุง.  ูููู ุจุชูุตูู ุฅุดุงุฑุฉ <code>enable</code> ููู ุนุฏุงุฏ ุจูููุฐ ุงูุฅุฏุฎุงู ุงูููุงุจู ุ <code>util.Cat</code> ุฌููุน ุงูุฅุดุงุฑุงุช ุงูุฎุงุฑุฌูุฉ ูู ูุงุญุฏุฉ ุจุงุณุชุฎุฏุงู ูุธููุฉ <code>util.Cat</code> ุงููุถููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ููุงุญุธ ุฃูุถูุง <code>getOut(i: Int)</code> - ุชููู ูุฐู ุงููุธููุฉ ุจุญุณุงุจ ูุฅุฑุฌุงุน ูุทุงู ุงูุจุชุงุช ูู ุฅุดุงุฑุฉ <code>out</code> ููููุงุฉ <code>i</code> .  ุณูููู ูููุฏูุง ุฌุฏูุง ูู ุงููุฒูุฏ ูู ุงูุนูู ูุน ูุซู ูุฐุง ุงูุนุฏุงุฏ.  ุชูููุฐ ุดูุก ูู ูุฐุง ุงููุจูู ูู ููุฑูููุฌ ูู ููุฌุญ </p><br><p style=";text-align:right;direction:rtl">  * ูุง ููุจุบู ุงูุฎูุท ุจูู <code>Vec</code> <code>Vector</code> ุ ุงูุฃูู ูู ูุฌููุนุฉ ูู ุงูุจูุงูุงุช ูู ุงูุฅุฒููู ุ ูุงูุซุงูู ูู ูุฌููุนุฉ ูู ุณูุงูุง. </p><br><p style=";text-align:right;direction:rtl">  ุฏุนููุง ูุญุงูู ุงูุขู ูุชุงุจุฉ ูุฐู ุงููุญุฏุฉ ุนูู verilog ุ ููุฑุงุญุฉ ุ ุญุชู ุนูู systemVerilog. </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุงูุฌููุณ ูู ุงูุชูููุฑ ุ ุฌุฆุช ุฅูู ูุฐุง ุงูุฎูุงุฑ (ุนูู ุงูุฃุฑุฌุญ ุฃูู ููุณ ุงูุฎูุงุฑ ุงููุญูุฏ ุงูุญูููู ูุงูุฃูุถู ุ ูููู ููููู ุฏุงุฆููุง ุงูุชุฑุงุญ ุงูุชูููุฐ ูู ุงูุชุนูููุงุช). </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุฑูููุฌ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">module MultiChannelCounter #( parameter TOTAL = 4, parameter integer WIDTH_SEQ [TOTAL] = {32, 16, 8, 4} )(clk, reset, enable, out); localparam OUT_WIDTH = get_sum(TOTAL, WIDTH_SEQ); input clk; input reset; input wire [TOTAL - 1 : 0] enable; output wire [OUT_WIDTH - 1 :0] out; genvar j; generate for(j = 0; j &lt; TOTAL; j = j + 1) begin : counter_generation localparam OUT_INDEX = get_sum(j, WIDTH_SEQ); SimpleCounter #( WIDTH_SEQ[j] ) SimpleCounter_unit ( .clk(clk), .reset(reset), .enable(enable[j]), .out(out[OUT_INDEX + WIDTH_SEQ[j] - 1: OUT_INDEX]) ); end endgenerate function automatic integer get_sum; input integer array_width; input integer array [TOTAL]; integer counter = 0; integer i; begin for(i = 0; i &lt; array_width; i = i + 1) counter = counter + array[i]; get_sum = counter; end endfunction endmodule</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ูุจุฏู ุจุงููุนู ุฃูุซุฑ ุฅุซุงุฑุฉ ููุฅุนุฌุงุจ.  ูููู ูุงุฐุง ูู ุฐูุจูุง ุฅูู ุฃุจุนุฏ ูู ุฐูู ูููุฑูุจ ูุงุฌูุฉ ุนุธู ุงูุชุฑููุฉ ุงูุดููุฑุฉ ูุน ุฅููุงููุฉ ุงููุตูู ุฅูู ุงูุชุณุฌูู. </p><br><h3 id="bundle-interfeysy" style=";text-align:right;direction:rtl">  ูุงุฌูุงุช ุญุฒูุฉ </h3><br><p style=";text-align:right;direction:rtl">  Wishbone ุนุจุงุฑุฉ ุนู ุญุงููุฉ ุตุบูุฑุฉ ูุดุงุจูุฉ ูู AMBA APB ุ ุชุณุชุฎุฏู ุจุดูู ุฃุณุงุณู ูุฃูููุฉ IP ููุชูุญุฉ ุงููุตุฏุฑ. </p><br><p style=";text-align:right;direction:rtl">  ูุฒูุฏ ูู ุงูุชูุงุตูู ุญูู ุงููููู: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://ru.wikipedia.org/wiki/Wishbone</a> </p><br><p style=";text-align:right;direction:rtl">  ูุฃู  ูุฒูุฏูุง ุงูุฅุฒููู ุจุญุงููุงุช ุจูุงูุงุช ูู ููุน <code>Bundle</code> ุ ููู ุงูููุทูู ุฃู ููู ุงูุญุงููุฉ ูู ุญุงููุฉ ูููู ุงุณุชุฎุฏุงููุง ูุงุญููุง ูู ุฃู ูุดุงุฑูุน ุฅุฒููู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wishboneMasterSignals</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params"> addrWidth: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-class"><span class="hljs-params"> = 32, dataWidth: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-class"><span class="hljs-params"> = 32, gotTag: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Boolean</span></span></span></span><span class="hljs-class"><span class="hljs-params"> = false</span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bundle</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> adr = <span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">UInt</span></span>(addrWidth.<span class="hljs-type"><span class="hljs-type">W</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> dat_master = <span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">UInt</span></span>(dataWidth.<span class="hljs-type"><span class="hljs-type">W</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> dat_slave = <span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">UInt</span></span>(dataWidth.<span class="hljs-type"><span class="hljs-type">W</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> stb = <span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> we = <span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> cyc = <span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> sel = <span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">UInt</span></span>((dataWidth / <span class="hljs-number"><span class="hljs-number">8</span></span>).<span class="hljs-type"><span class="hljs-type">W</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> ack_master = <span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> ack_slave = <span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> tag_master: <span class="hljs-type"><span class="hljs-type">Option</span></span>[<span class="hljs-type"><span class="hljs-type">UInt</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(gotTag) <span class="hljs-type"><span class="hljs-type">Some</span></span>(<span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>())) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-type"><span class="hljs-type">None</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> tag_slave: <span class="hljs-type"><span class="hljs-type">Option</span></span>[<span class="hljs-type"><span class="hljs-type">UInt</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(gotTag) <span class="hljs-type"><span class="hljs-type">Some</span></span>(<span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>())) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-type"><span class="hljs-type">None</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">wbTransaction</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">Bool</span></span> = cyc &amp;&amp; stb <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">wbWrite</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">Bool</span></span> = wbTransaction &amp;&amp; we <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">wbRead</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">Bool</span></span> = wbTransaction &amp;&amp; !we <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cloneType</span></span></span></span>: wishboneMasterSignals.<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">type</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> wishboneMasterSignals(addrWidth, dataWidth, gotTag).asInstanceOf[<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>] }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููููุง ุนู ุณูุงูุง: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>Option</code> - ูุฌูุน ุจูุงูุงุช ุงุฎุชูุงุฑู ูู ุณูุงูุง ูููู ุฃู ูููู ุฅูุง ุนูุตุฑูุง ุฃู <code>None</code> ุ <code>Option[UInt]</code> ุฅูุง <code>Some(UInt(/*...*/))</code> ุฃู ุจูุง ุ ูููุฏ ุนูุฏ ุชุญุฏูุฏ ูุนููุงุช ุงูุฅุดุงุฑุงุช. </li></ul><br><p style=";text-align:right;direction:rtl">  ูุจุฏู ุฃูู ูุง ููุฌุฏ ุดูุก ุบูุฑ ุนุงุฏู.  ูุฌุฑุฏ ูุตู ูููุงุฌูุฉ ุจูุงุณุทุฉ ุงููุนุงูุฌ ุ ุจุงุณุชุซูุงุก ุจุนุถ ุงูุฅุดุงุฑุงุช ูุงูุฃุณุงููุจ: </p><br><p style=";text-align:right;direction:rtl">  <code>tag_master</code> ู <code>tag_slave</code> ูู <code>tag_slave</code> ุงุฎุชูุงุฑูุฉ ููุฃุบุฑุงุถ ุงูุนุงูุฉ ูู ุจุฑูุชูููู ุนุธู ุงูุชุฑููุฉ ุ ูุณูู ูุฑุงูุง ุฅุฐุง ูุงูุช ูุนููุฉ <code>gotTag</code> <code>true</code> . </p><br><p style=";text-align:right;direction:rtl">  <code>wbTransaction</code> ุ <code>wbWrite</code> ุ <code>wbRead</code> - ูุธุงุฆู ูุชุจุณูุท ุงูุนูู ูุน ุงููุงูู. </p><br><p style=";text-align:right;direction:rtl">  <code>cloneType</code> - ุทุฑููุฉ ุงูุงุณุชูุณุงุฎ ูู ุงูููุน ุงููุทููุจ ูุฌููุน ูุฆุงุช ุงููุนููุงุช <code>[T &lt;: Bundle]</code> </p><br><p style=";text-align:right;direction:rtl">  ููููุง ูุญุชุงุฌ ุฃูุถูุง ุฅูู ูุงุฌูุฉ ุชุงุจุนุฉ ุ ุฏุนูุง ูุฑู ููู ูููู ุชูููุฐูุง. </p><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wishboneSlave</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params"> addrWidth: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-class"><span class="hljs-params"> = 32, dataWidth: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-class"><span class="hljs-params"> = 32, tagWidht: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-class"><span class="hljs-params"> = 0</span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bundle</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> wb = <span class="hljs-type"><span class="hljs-type">Flipped</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> wishboneMasterSignals(addrWidth , dataWidth, tagWidht)) <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cloneType</span></span></span></span>: wishboneSlave.<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">type</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> wishboneSlave(addrWidth, dataWidth, tagWidht).asInstanceOf[<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>] }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅู ุงูุทุฑููุฉ <code>Flipped</code> ุ ููุง ูุฏ ุชุฎูู ูู ุงูุงุณู ุ ุชููุจ ุงููุงุฌูุฉ ุ ูุงูุขู ุชุญููุช ูุงุฌูุฉ ุงููุนุงูุฌ ุฅูู ุนุจุฏ ุ ูุถูู ููุณ ุงููุฆุฉ ูููุนุงูุฌ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wishboneMaster</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params"> addrWidth: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-class"><span class="hljs-params"> = 32, dataWidth: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-class"><span class="hljs-params"> = 32, tagWidht: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-class"><span class="hljs-params"> = 0</span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bundle</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> wb = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> wishboneMasterSignals(addrWidth , dataWidth, tagWidht) <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cloneType</span></span></span></span>: wishboneMaster.<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">type</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> wishboneMaster(addrWidth, dataWidth, tagWidht).asInstanceOf[<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>] }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุญุณููุง ุ ูุฐุง ูู ุดูุก ุ ุงููุงุฌูุฉ ุฌุงูุฒุฉ.  ูููู ูุจู ูุชุงุจุฉ ูุนุงูุฌ ุ ุฏุนูุง ูุฑู ููู ูููููุง ุงุณุชุฎุฏุงู ูุฐู ุงููุงุฌูุงุช ูู ุญุงู ุงุญุชุฌูุง ุฅูู ุงูุชุจุฏูู ุฃู ุดูุก ูุน ูุฌููุนุฉ ูุจูุฑุฉ ูู ูุงุฌูุงุช ุนุธู ุงูุชุฑููุฉ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WishboneCrossbarIo</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">n: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-class"><span class="hljs-params">, addrWidth: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-class"><span class="hljs-params">, dataWidth: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bundle</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> slaves = <span class="hljs-type"><span class="hljs-type">Vec</span></span>(n, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> wishboneSlave(addrWidth, dataWidth, <span class="hljs-number"><span class="hljs-number">0</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> master = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> wishboneMaster(addrWidth, dataWidth, <span class="hljs-number"><span class="hljs-number">0</span></span>) } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WBCrossBar</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Module</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> io = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">WishboneCrossbarIo</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>)) io.master &lt;&gt; io.slaves(<span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฐุง ูุงุฑุบ ุตุบูุฑ ููููุชุงุญ.  ูู ุงูููุงุฆู ุงูุฅุนูุงู ุนู ูุงุฌูุฉ ูู ุงูููุน <code>Vec[wishboneSlave]</code> ุ ูููููู ุชูุตูู ุงููุงุฌูุงุช ุจููุณ ุนุงูู ุงูุชุดุบูู <code>&lt;&gt;</code> .  ุฑูุงุฆู ุฅุฒููู ูููุฏุฉ ุนูุฏูุง ูุชุนูู ุงูุฃูุฑ ุจุฅุฏุงุฑุฉ ูุฌููุนุฉ ูุจูุฑุฉ ูู ุงูุฅุดุงุฑุงุช. </p><br><h3 id="universalnyy-kontroller-shiny" style=";text-align:right;direction:rtl">  ุชุญูู ุนุงููู ููุญุงููุงุช </h3><br><p style=";text-align:right;direction:rtl">  ููุง ุฐูุฑูุง ุณุงุจููุง ุญูู ููุฉ ุงูุจุฑูุฌุฉ ุงููุธูููุฉ ูุจุฑูุฌุฉ ุงููุงุฆู ุ ุณูุญุงูู ุชุทุจููู.  ุนูุงูุฉ ุนูู ุฐูู ุ ุณูุชุญุฏุซ ุนู ุชูููุฐ ูุญุฏุฉ ุงูุชุญูู ูู ูุงูู ุงูุชุฑููุฉ ุงูุนุงููู ูู ุดูู <code>trait</code> ุ ุณูููู ููุนูุง ูู ุงูุฎูุท ูุฃู ูุญุฏุฉ ููุทูุฉ ูุน ูุงูู <code>wishboneSlave</code> ุ ุจุงููุณุจุฉ ูููุญุฏุฉ ุงูุชู ุชุญุชุงุฌูุง ููุท ูุชุญุฏูุฏ ุจุทุงูุฉ ุฐุงูุฑุฉ ููุฒุฌ ูุญุฏุฉ ุชุญูู <code>trait</code> ุฅูููุง ุฃุซูุงุก ุงูุชูููุฏ. </p><br><h4 id="realizaciya" style=";text-align:right;direction:rtl">  ุงูุชูููุฐ </h4><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุจุงููุณุจุฉ ูุฃููุฆู ุงูุฐูู ูุง ูุฒุงููู ูุชุญูุณูู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุฏุนูุง ููุชูู ุฅูู ุชูููุฐ ุงููุนุงูุฌ.  ุณูููู ุงูุฃูุฑ ุจุณูุทูุง ููุณุชุฌูุจ ุนูู ุงูููุฑ ูููุนุงููุงุช ุงููุฑุฏูุฉ ุ ูู ุญุงูุฉ ุงูุฎุฑูุฌ ูู ูุฌููุนุฉ ุงูุนูุงููู ุ ูุชู ุฅุฑุฌุงุน ุตูุฑ. </p><br><p style=";text-align:right;direction:rtl">  ุฏุนููุง ูุญูู ูู ุฃุฌุฒุงุก: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูุฌุจ ุงูุฑุฏ ุนูู ูู ูุนุงููุฉ ูุน ุงูุฅูุฑุงุฑ </p><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> io : wishboneSlave = <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> wb_ack = <span class="hljs-type"><span class="hljs-type">RegInit</span></span>(<span class="hljs-literal"><span class="hljs-literal">false</span></span>.<span class="hljs-type"><span class="hljs-type">B</span></span>) when(io.wb.wbTransaction) { wb_ack := <span class="hljs-literal"><span class="hljs-literal">true</span></span>.<span class="hljs-type"><span class="hljs-type">B</span></span> }.otherwise { wb_ack := <span class="hljs-literal"><span class="hljs-literal">false</span></span>.<span class="hljs-type"><span class="hljs-type">B</span></span> } wb_ack &lt;&gt; io.wb.ack_slave</code> </pre> <br></li><li style=";text-align:right;direction:rtl">  ูุฑุฏ ุนูู ุงููุฑุงุกุฉ ุจุงูุจูุงูุงุช <br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> wb_dat = <span class="hljs-type"><span class="hljs-type">RegInit</span></span>(<span class="hljs-number"><span class="hljs-number">0.</span></span><span class="hljs-type"><span class="hljs-type">U</span></span>(io.wb.dat_slave.getWidth.<span class="hljs-type"><span class="hljs-type">W</span></span>)) <span class="hljs-comment"><span class="hljs-comment">// getWidth   when(io.wb.wbRead) { wb_dat := MuxCase(default = 0.U, Seq( (io.wb.addr === ADDR_1) -&gt; data_1, (io.wb.addr === ADDR_3) -&gt; data_2, (io.wb.addr === ADDR_3) -&gt; data_2 )) } wb_dat &lt;&gt; io.wb.dat_slave</span></span></code> </pre> <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>MuxCase[T &lt;: Data] (default: T, mapping: Seq[(Bool, T)]): T</code> ูู ูุฎุทุท ุงูุชูุณูู ุงููุฏูุฌ ูููุน <code>case</code> ูู verilog *. </li></ul></li></ul><br><p style=";text-align:right;direction:rtl">  ููู ุณูุจุฏู ูู ููุฑูููุฌ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> always @(posedge clock) if(reset) wb_dat_o &lt;= 0; else if(wb_read) case (wb_adr_i) `ADDR_1 : wb_dat_o &lt;= data_1; `ADDR_2 : wb_dat_o &lt;= data_2; `ADDR_3 : wb_dat_o &lt;= data_3; default : wb_dat_o &lt;= 0; endcase }</code> </pre> <br><p style=";text-align:right;direction:rtl">  * ุจุดูู ุนุงู ุ ูู ูุฐู ุงูุญุงูุฉ ุ ูุนุฏ ูุฐุง ุงุฎุชุฑุงููุง ุตุบูุฑูุง ูู ุฃุฌู ูุถุน ุงููุนุงููุฑ ุ ูู ุฅุฒููู ููุฌุฏ ุชุตููู ููุงุณู ุฃูุถู ููุงุณุชุฎุฏุงู ุฅุฐุง ูุชุจุช ุดูุฆูุง ุฃุจุณุท. </p><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs">switch(x) { is(value1) { <span class="hljs-comment"><span class="hljs-comment">// ... } is(value2) { // ... } }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุญุณูุง ุ ุงูุณุฌู </p><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"> when(io.wb.wbWrite) { data_4 := <span class="hljs-type"><span class="hljs-type">Mux</span></span>(io.wb.addr === <span class="hljs-type"><span class="hljs-type">ADDR_4</span></span>, io.wb.dat_master, data_4) }</code> </pre> <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>Mux[T &lt;: Data](cond: Bool, con: T, alt: T): T</code> - ูุนุฏุฏ ุฅุฑุณุงู ุนุงุฏู </li></ul><br><p style=";text-align:right;direction:rtl">  ูููุง ุจุชุถููู ุดูุก ูุดุงุจู ูุนุฏุงุฏูุง ูุชุนุฏุฏ ุงููููุงุช ุ ููููุง ุจุชุนููู ุงูุชุณุฌููุงุช ูุฅุฏุงุฑุฉ ุงููููุงุช ููุจุนุฉ.  ูููู ููุง ูุฑูุจ ูู ูุญุฏุฉ ุชุญูู ูุงูู WB ุงูุนุงููู ุงูุชู ุณูููู ุฅูููุง ุจุทุงูุฉ ุฐุงูุฑุฉ ูู ูุฐุง ุงูููุน: </p><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> readMemMap = <span class="hljs-type"><span class="hljs-type">Map</span></span>( <span class="hljs-type"><span class="hljs-type">ADDR_1</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">DATA_1</span></span>, <span class="hljs-type"><span class="hljs-type">ADDR_2</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">DATA_2</span></span> <span class="hljs-comment"><span class="hljs-comment">/*...*/</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> writeMemMap = <span class="hljs-type"><span class="hljs-type">Map</span></span>( <span class="hljs-type"><span class="hljs-type">ADDR_1</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">DATA_1</span></span>, <span class="hljs-type"><span class="hljs-type">ADDR_2</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">DATA_2</span></span> <span class="hljs-comment"><span class="hljs-comment">/*...*/</span></span> )</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุซู ูุฐู ุงููููุฉ ุ ุณุชุณุงุนุฏูุง <code>trait</code> - ุดูุก ูุซู mixins ูู Sala.  ุณุชููู ุงููููุฉ ุงูุฑุฆูุณูุฉ ูู ุฌุนู <code>readMemMap: [Int, Data]</code> ุชุจุฏู ูุซู <code>Seq( -&gt; )</code> ุ ูุณูููู ูู ุงูุฑุงุฆุน ุฃูุถูุง ุฃู ุชุชููู ูู ููู ุงูุนููุงู ุงูุฃุณุงุณู ููุฌููุนุฉ ุงูุจูุงูุงุช ุฏุงุฎู ุจุทุงูุฉ ุงูุฐุงูุฑุฉ </p><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> readMemMap = <span class="hljs-type"><span class="hljs-type">Map</span></span>( <span class="hljs-type"><span class="hljs-type">ADDR_1_BASE</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">DATA_SEQ</span></span>, <span class="hljs-type"><span class="hljs-type">ADDR_2</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">DATA_2</span></span> <span class="hljs-comment"><span class="hljs-comment">/*...*/</span></span> )</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุง ุณูุชู ุชูุณูุนู ุฅูู ุดูุก ูุดุงุจู ุ ุญูุซ WB_DAT_WIDTH ูู ุนุฑุถ ุงูุจูุงูุงุช ุจุงูุจุงูุช </p><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> readMemMap = <span class="hljs-type"><span class="hljs-type">Map</span></span>( <span class="hljs-type"><span class="hljs-type">ADDR_1_BASE</span></span> + <span class="hljs-number"><span class="hljs-number">0</span></span> * (<span class="hljs-type"><span class="hljs-type">WB_DAT_WIDHT</span></span>)-&gt; <span class="hljs-type"><span class="hljs-type">DATA_SEQ_0</span></span>, <span class="hljs-type"><span class="hljs-type">ADDR_1_BASE</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span> * (<span class="hljs-type"><span class="hljs-type">WB_DAT_WIDHT</span></span>)-&gt; <span class="hljs-type"><span class="hljs-type">DATA_SEQ_1</span></span>, <span class="hljs-type"><span class="hljs-type">ADDR_1_BASE</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span> * (<span class="hljs-type"><span class="hljs-type">WB_DAT_WIDHT</span></span>)-&gt; <span class="hljs-type"><span class="hljs-type">DATA_SEQ_2</span></span>, <span class="hljs-type"><span class="hljs-type">ADDR_1_BASE</span></span> + <span class="hljs-number"><span class="hljs-number">3</span></span> * (<span class="hljs-type"><span class="hljs-type">WB_DAT_WIDHT</span></span>)-&gt; <span class="hljs-type"><span class="hljs-type">DATA_SEQ_3</span></span> <span class="hljs-comment"><span class="hljs-comment">/*...*/</span></span> <span class="hljs-type"><span class="hljs-type">ADDR_2</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">DATA_2</span></span> <span class="hljs-comment"><span class="hljs-comment">/*...*/</span></span> )</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุชูููุฐ ุฐูู ุ ููุชุจ ุฏุงูุฉ ูุญูู ูู <code>Map[Int, Any]</code> ุฅูู <code>Seq[(Bool, UInt)]</code> .  ุนููู ุงุณุชุฎุฏุงู mathcing ููุท ุณูุงูุง. </p><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parseMemMap</span></span></span></span>(memMap: <span class="hljs-type"><span class="hljs-type">Map</span></span>[<span class="hljs-type"><span class="hljs-type">Int</span></span>, <span class="hljs-type"><span class="hljs-type">Any</span></span>]): <span class="hljs-type"><span class="hljs-type">Seq</span></span>[(<span class="hljs-type"><span class="hljs-type">Bool</span></span>, <span class="hljs-type"><span class="hljs-type">UInt</span></span>)] = memMap.flatMap { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span>(addr, data) =&gt; data <span class="hljs-keyword"><span class="hljs-keyword">match</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> a: <span class="hljs-type"><span class="hljs-type">UInt</span></span> =&gt; <span class="hljs-type"><span class="hljs-type">Seq</span></span>((io.wb.adr === addr.<span class="hljs-type"><span class="hljs-type">U</span></span>) -&gt; a) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> a: <span class="hljs-type"><span class="hljs-type">Seq</span></span>[<span class="hljs-type"><span class="hljs-type">UInt</span></span>] =&gt; a.map(x =&gt; (io.wb.adr === (addr + io.wb.dat_slave.getWidth / <span class="hljs-number"><span class="hljs-number">8</span></span>).<span class="hljs-type"><span class="hljs-type">U</span></span>) -&gt; x) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> _ =&gt; <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">Exception</span></span>(<span class="hljs-string"><span class="hljs-string">"WRONG MEM MAP!!!"</span></span>) } }.toSeq</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฃุฎูุฑูุง ุ ุณุชุจุฏู ุณูุงุชูุง ููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">trait</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wishboneSlaveDriver</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> io : wishboneSlave <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> readMemMap: <span class="hljs-type"><span class="hljs-type">Map</span></span>[<span class="hljs-type"><span class="hljs-type">Int</span></span>, <span class="hljs-type"><span class="hljs-type">Any</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> writeMemMap: <span class="hljs-type"><span class="hljs-type">Map</span></span>[<span class="hljs-type"><span class="hljs-type">Int</span></span>, <span class="hljs-type"><span class="hljs-type">Any</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> parsedReadMap: <span class="hljs-type"><span class="hljs-type">Seq</span></span>[(<span class="hljs-type"><span class="hljs-type">Bool</span></span>, <span class="hljs-type"><span class="hljs-type">UInt</span></span>)] = parseMemMap(readMemMap) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> parsedWriteMap: <span class="hljs-type"><span class="hljs-type">Seq</span></span>[(<span class="hljs-type"><span class="hljs-type">Bool</span></span>, <span class="hljs-type"><span class="hljs-type">UInt</span></span>)] = parseMemMap(writeMemMap) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> wb_ack = <span class="hljs-type"><span class="hljs-type">RegInit</span></span>(<span class="hljs-literal"><span class="hljs-literal">false</span></span>.<span class="hljs-type"><span class="hljs-type">B</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> wb_dat = <span class="hljs-type"><span class="hljs-type">RegInit</span></span>(<span class="hljs-number"><span class="hljs-number">0.</span></span><span class="hljs-type"><span class="hljs-type">U</span></span>(io.wb.dat_slave.getWidth.<span class="hljs-type"><span class="hljs-type">W</span></span>)) when(io.wb.wbTransaction) { wb_ack := <span class="hljs-literal"><span class="hljs-literal">true</span></span>.<span class="hljs-type"><span class="hljs-type">B</span></span> }.otherwise { wb_ack := <span class="hljs-literal"><span class="hljs-literal">false</span></span>.<span class="hljs-type"><span class="hljs-type">B</span></span> } when(io.wb.wbRead) { wb_dat := <span class="hljs-type"><span class="hljs-type">MuxCase</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">default</span></span> = <span class="hljs-number"><span class="hljs-number">0.</span></span><span class="hljs-type"><span class="hljs-type">U</span></span>, parsedReadMap) } when(io.wb.wbWrite) { parsedWriteMap.foreach { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span>(addrMatched, data) =&gt; data := <span class="hljs-type"><span class="hljs-type">Mux</span></span>(addrMatched, io.wb.dat_master, data) } } wb_dat &lt;&gt; io.wb.dat_slave wb_ack &lt;&gt; io.wb.ack_slave <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parseMemMap</span></span></span></span>(memMap: <span class="hljs-type"><span class="hljs-type">Map</span></span>[<span class="hljs-type"><span class="hljs-type">Int</span></span>, <span class="hljs-type"><span class="hljs-type">Any</span></span>]): <span class="hljs-type"><span class="hljs-type">Seq</span></span>[(<span class="hljs-type"><span class="hljs-type">Bool</span></span>, <span class="hljs-type"><span class="hljs-type">UInt</span></span>)] = { <span class="hljs-comment"><span class="hljs-comment">/*...*/</span></span>} }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููููุง ุนู ุณูุงูุง: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>io , readMemMap, writeMemMap</code> ูู ุงูุญููู ุงููุฌุฑุฏุฉ <code>io , readMemMap, writeMemMap</code> 'a ุ ูุงูุชู ูุฌุจ ุชุญุฏูุฏูุง ูู ุงูุตู ุงูุฐู ุณูููู ุจุฎูุทู ููู. </li></ul></div></div><br><h4 id="kak-im-polzovatsya" style=";text-align:right;direction:rtl">  ููููุฉ ุงุณุชุฎุฏุงูู </h4><br><p style=";text-align:right;direction:rtl">  ูู ุฃุฌู ุฎูุท <code>trait</code> ูุน ุงููุญุฏุฉ ุ ูุฌุจ ุงุณุชููุงุก ุงูุนุฏูุฏ ูู ุงูุดุฑูุท: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>io</code> ูุฌุจ ุฃู ูุฑุซ ูู ูุฆุฉ <code>wishboneSlave</code> </li><li style=";text-align:right;direction:rtl">  ุจุญุงุฌุฉ ุฅูู ุฅุนูุงู ุงุซููู ูู ุจุทุงูุงุช ุงูุฐุงูุฑุฉ <code>readMemMap</code> ู <code>writeMemMap</code> </li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WishboneMultiChannelCounter</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Module</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> <span class="hljs-type"><span class="hljs-type">BASE</span></span> = <span class="hljs-number"><span class="hljs-number">0x11A00000</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> <span class="hljs-type"><span class="hljs-type">OUT</span></span> = <span class="hljs-number"><span class="hljs-number">0x00000100</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> <span class="hljs-type"><span class="hljs-type">S_EN</span></span> = <span class="hljs-number"><span class="hljs-number">0x00000200</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> <span class="hljs-type"><span class="hljs-type">H_EN</span></span> = <span class="hljs-number"><span class="hljs-number">0x00000300</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> wbAddrWidth = <span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> wbDataWidth = <span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> wbTagWidth = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> width = <span class="hljs-type"><span class="hljs-type">Seq</span></span>(<span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> io = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> wishboneSlave(wbAddrWidth, wbDataWidth, wbTagWidth) { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> hardwareEnable: <span class="hljs-type"><span class="hljs-type">Vec</span></span>[<span class="hljs-type"><span class="hljs-type">Bool</span></span>] = <span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Vec</span></span>(width.length, <span class="hljs-type"><span class="hljs-type">Bool</span></span>())) }) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> counter = <span class="hljs-type"><span class="hljs-type">Module</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">MultiChannelCounter</span></span>(width)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> softwareEnable = <span class="hljs-type"><span class="hljs-type">RegInit</span></span>(<span class="hljs-number"><span class="hljs-number">0.</span></span><span class="hljs-type"><span class="hljs-type">U</span></span>(width.length.<span class="hljs-type"><span class="hljs-type">W</span></span>)) width.indices.foreach(i =&gt; counter.io.enable(i) := io.hardwareEnable(i) &amp;&amp; softwareEnable(i)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> readMemMap = <span class="hljs-type"><span class="hljs-type">Map</span></span>( <span class="hljs-type"><span class="hljs-type">BASE</span></span> + <span class="hljs-type"><span class="hljs-type">OUT</span></span> -&gt; width.indices.map(counter.io.getOut), <span class="hljs-type"><span class="hljs-type">BASE</span></span> + <span class="hljs-type"><span class="hljs-type">S_EN</span></span> -&gt; softwareEnable, <span class="hljs-type"><span class="hljs-type">BASE</span></span> + <span class="hljs-type"><span class="hljs-type">H_EN</span></span> -&gt; io.hardwareEnable.asUInt ) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> writeMemMap = <span class="hljs-type"><span class="hljs-type">Map</span></span>( <span class="hljs-type"><span class="hljs-type">BASE</span></span> + <span class="hljs-type"><span class="hljs-type">S_EN</span></span> -&gt; softwareEnable ) }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููู ุจุฅูุดุงุก ุณุฌู <code>softwareEnable</code> ุ ุชุชู ุฅุถุงูุชู ุฅูู "ู" ุจูุงุณุทุฉ ุฅุดุงุฑุฉ ุฅุฏุฎุงู <code>hardwareEnable</code> ููุฐูุจ ูุชูููู <code>counter[MultiChannelCounter]</code> . </p><br><p style=";text-align:right;direction:rtl">  ูุนูู ุนู ุจุทุงูุชู ุฐุงูุฑุฉ ูููุฑุงุกุฉ ูุงููุชุงุจุฉ: <code>readMemMap</code> <code>writeMemMap</code> ุ ููุฒูุฏ ูู ุงูุชูุงุตูู ุญูู ุงููููู ุ ุงูุธุฑ ุงููุตู ุฃุนูุงู. <br>  ูู ุจุทุงูุฉ ุฐุงูุฑุฉ ุงููุฑุงุกุฉ ุ ูููู ุจููู ูููุฉ ุงูุนุฏุงุฏ ููู ููุงุฉ * ุ <code>softwareEnable</code> ุงููุงุจูุฉ ููุชูููู <code>hardwareEnable</code> ุงููุงุจูุฉ <code>hardwareEnable</code> .  ูููุณุฌู ูุนุทู ููุท ุชุณุฌูู <code>softwareEnable</code> ุงููุงุจูุฉ ููุชูููู. </p><br><p style=";text-align:right;direction:rtl">  * <code>width.indices.map(counter.io.getOut)</code> - ุชุตููู ุบุฑูุจ ุ ุณูููู ุจุชุญูููู ูู ุฃุฌุฒุงุก. </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>width.indices</code> - ุณูุนุฑุถ ูุตูููุฉ ุจูุคุดุฑุงุช ุงูุนูุงุตุฑ ุ ุฃู  ุฅุฐุง ูุงู <code>width.length == 4</code> ุซู <code>width.indices = {0, 1, 2, 3}</code> </li><li style=";text-align:right;direction:rtl">  <code>{0, 1, 2, 3}.map(counter.io.getOut)</code> - ุชุนุทู ุดูุฆูุง ูุซู ูุฐุง: <br> <code>{ counter.io.getOut(0), counter.io.getOut(1), /*...*/ }</code> </li> </ul><br><p style=";text-align:right;direction:rtl">  ุงูุขู ุจุงููุณุจุฉ ูุฃู ูุญุฏุฉ ุนูู ุฅุฒููู ุ ูููููุง ุงูุฅุนูุงู ุนู ุจุทุงูุงุช ุงูุฐุงูุฑุฉ ูููุฑุงุกุฉ ูุงููุชุงุจุฉ ูุชูุตูู ุฌูุงุฒ ุงูุชุญูู ูู ูุงูู ุงูุชุฑููุฉ ุงูุนุงููู ุนูุฏ ุงูุชูููุฏ ุ ุดูุก ูู ูุฐุง ุงููุจูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wishbone_multicahnnel_counter</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WishboneMultiChannelCounter</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">with</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wishboneSlaveDriver</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">countersDriver</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-type"><span class="hljs-type">Driver</span></span>.execute(<span class="hljs-type"><span class="hljs-type">Array</span></span>(<span class="hljs-string"><span class="hljs-string">"-td"</span></span>, <span class="hljs-string"><span class="hljs-string">"./src/generated"</span></span>), () =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> wishbone_multicahnnel_counter ) }</code> </pre> <br><p style=";text-align:right;direction:rtl">  <code>wishboneSlaveDriver</code> - ูุฐุง ูู ุจุงูุถุจุท ูุฒูุฌ ุงูุณูุงุช ุงูุฐู ูุตููุงู ุชุญุช ุงูููุณุฏ. </p><br><p style=";text-align:right;direction:rtl">  ุจุงูุทุจุน ุ ูุฐู ุงููุณุฎุฉ ูู ูุญุฏุฉ ุงูุชุญูู ุงูุนุงูููุฉ ุจุนูุฏุฉ ุนู ุฃู ุชููู ููุงุฆูุฉ ุ ููููุง ุจุงูุฃุญุฑู ุฎุงู ุนูู ุงูุนูุณ.  ูุฏูู ุงูุฑุฆูุณู ูู ุฅุธูุงุฑ ุฃุญุฏ ุงูุฃุณุงููุจ ุงูููููุฉ ูุชุทููุฑ rtl ุนูู ุงูุฅุฒููู.  ูุน ูู ูุฏุฑุงุช scala ุ ูููู ุฃู ุชููู ูุฐู ุงูุฃุณุงููุจ ุฃูุจุฑ ุจูุซูุฑ ุ ูุฐูู ูู ูุทูุฑ ูุฏูู ูุฌุงูู ุงูุฎุงุต ููุฅุจุฏุงุน.  ุตุญูุญ ุฃูู ูุง ููุฌุฏ ููุงู ูููู ุฃู ูุณุชููู ููู ุจุดูู ุฎุงุต ุ ุจุงุณุชุซูุงุก: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููุชุจุฉ ุฃุฏูุงุช ุงูุฅุฒููู ุงูุฃุตููุฉ ุ ูุงูุชู ูููู ุฃู ุชุจุญุซ ุนููุง ูู ูุฑุงุซุฉ ุงููุญุฏุงุช ูุงููุงุฌูุงุช </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://github.com/freechipsproject/rocket-chip</a> - risc-v ูุชู ุชูููุฐ ุงูููุงุฉ ุจุงููุงูู ุนูู ุงูุฅุฒููู ุ ุจุดุฑุท ุฃู ุชุนุฑู ุงูุณูุงูุง ุฌูุฏูุง ุ ูููุจุชุฏุฆูู ุงูุฐูู ูุง ูููููู ูุตู ูุชุฑ ุ ููุง ูููููู ุ ุณุชุณุชุบุฑู ููุชูุง ุทูููุงู ุฌุฏูุง ูููููุง.  ูุง ุชูุฌุฏ ูุซุงุฆู ุฑุณููุฉ ุนู ุงููููู ุงูุฏุงุฎูู ูููุดุฑูุน. </li></ul><br><h3 id="multiclockdomain" style=";text-align:right;direction:rtl">  MultiClockDomain </h3><br><p style=";text-align:right;direction:rtl">  ูุงุฐุง ูู ุฃุฑุฏูุง ุงูุชุญูู ูุฏูููุง ูู ุงูุณุงุนุฉ ูุฅุนุงุฏุฉ ุถุจุท ุงูุฅุดุงุฑุงุช ูู ุงูุฅุฒููู.  ุญุชู ููุช ูุฑูุจ ุ ูู ููู ุจุงูุฅููุงู ุงูููุงู ุจุฐูู ุ ูููู ูุน ุฃุญุฏ ุงูุฅุตุฏุงุฑุงุช ุงูุฃุญุฏุซ ุ <code>withClock {}</code> ุงูุฏุนู ูุน <code>withClock {}</code> ุ ูุน <code>withReset {}</code> ููุน <code>withClockAndReset {}</code> .  ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ูุซุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DoubleClockModule</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Module</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> io = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">Bundle</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> clockB = <span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Clock</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> in = <span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> out = <span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> outB = <span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) }) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> regClock = <span class="hljs-type"><span class="hljs-type">RegNext</span></span>(io.in, <span class="hljs-literal"><span class="hljs-literal">false</span></span>.<span class="hljs-type"><span class="hljs-type">B</span></span>) regClock &lt;&gt; io.out <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> regClockB = withClock(io.clockB) { <span class="hljs-type"><span class="hljs-type">RegNext</span></span>(io.in, <span class="hljs-literal"><span class="hljs-literal">false</span></span>.<span class="hljs-type"><span class="hljs-type">B</span></span>) } regClockB &lt;&gt; io.outB }</code> </pre> <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>regClock</code> - ุณุฌู ุณูุชู ุชุณุฌููู ุจูุงุณุทุฉ ุฅุดุงุฑุฉ <code>clock</code> ุงูููุงุณูุฉ ูุฅุนุงุฏุฉ ุชุนูููู ุจูุงุณุทุฉ ุฅุนุงุฏุฉ <code>regClock</code> ุงูููุงุณูุฉ </li><li style=";text-align:right;direction:rtl">  <code>regClockB</code> - ุชู ุชุณุฌูู ููุณ ุงูุชุณุฌูู ูู ุงูุณุงุนุฉ ุ ุญุณุจ ุชุฎูููู ุ ุจูุงุณุทุฉ ุฅุดุงุฑุฉ <code>io.clockB</code> ุ ูููู ุณูุชู ุงุณุชุฎุฏุงู ุฅุนุงุฏุฉ <code>io.clockB</code> ุงูููุงุณูุฉ. </li></ul><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุฃุฑุฏูุง ุฅุฒุงูุฉ <code>clock</code> ุงูููุงุณูุฉ ูุฅุนุงุฏุฉ <code>reset</code> ุงูุฅุดุงุฑุงุช ุชูุงููุง ุ ููููููุง ุงุณุชุฎุฏุงู ุงูููุฒุฉ ุงูุชุฌุฑูุจูุฉ - <code>RawModule</code> (ูุญุฏุฉ ุจุฏูู ุณุงุนุฉ ููุงุณูุฉ ูุฅุดุงุฑุงุช ุฅุนุงุฏุฉ ุชุนููู ุ ุณูุชุนูู ุงูุชุญูู ูู ุงูุฌููุน ูุฏูููุง).  ูุซุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MultiClockModule</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RawModule</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> io = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">Bundle</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> clockA = <span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Clock</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> clockB = <span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Clock</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> resetA = <span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> resetB = <span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> in = <span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> outA = <span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> outB = <span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) }) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> regClockA = withClockAndReset(io.clockA, io.resetA) { <span class="hljs-type"><span class="hljs-type">RegNext</span></span>(io.in, <span class="hljs-literal"><span class="hljs-literal">false</span></span>.<span class="hljs-type"><span class="hljs-type">B</span></span>) } regClockA &lt;&gt; io.outA <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> regClockB = withClockAndReset (io.clockB, io.resetB) { <span class="hljs-type"><span class="hljs-type">RegNext</span></span>(io.in, <span class="hljs-literal"><span class="hljs-literal">false</span></span>.<span class="hljs-type"><span class="hljs-type">B</span></span>) } regClockB &lt;&gt; io.outB }</code> </pre> <br><h3 id="utils-biblioteka" style=";text-align:right;direction:rtl">  ููุชุจุฉ Utils </h3><br><p style=";text-align:right;direction:rtl">  ูุง ุชูุชูู ุงูููุงูุขุช ุงูููุชุนุฉ ููุฅุฒููู ุนูุฏ ูุฐุง ุงูุญุฏ.  ุนูู ููุดุฆููุง ุจุฌุฏ ููุชุจูุง ููุชุจุฉ ุตุบูุฑุฉ ูููููุง ูููุฏุฉ ุฌุฏูุง ูู ุงููุงุฌูุงุช ูุงููุญุฏุงุช ูุงููุธุงุฆู ุงูุตุบูุฑุฉ.  ูู ุงูุบุฑูุจ ุฃูู ูุง ููุฌุฏ ูุตู ููููุชุจุฉ ุนูู ุงููููู ุ ูููู ููููู ุฑุคูุฉ ุฑุงุจุท ูุฑูุฉ ุงูุบุด ุงูุฐู ูู ุงูุจุฏุงูุฉ (ููุงู ูุณูุงู ุฃุฎูุฑุงู) </p><br><p style=";text-align:right;direction:rtl">  ุงููุงุฌูุงุช: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>DecoupledIO</code> ูู ูุงุฌูุฉ ุฌุงูุฒุฉ / ุตุงูุญุฉ ุชุณุชุฎุฏู ุจุดูู ุดุงุฆุน. <br>  <code>DecoupledIO(UInt(32.W))</code> - ุณูุญุชูู ุนูู ุฅุดุงุฑุงุช: <br> <code>val ready = Input(Bool())</code> <br> <code>val valid = Output(Bool())</code> <br> <code>val data = Output(UInt(32.W))</code> </li> <li style=";text-align:right;direction:rtl">  <code>ValidIO</code> - ูุซู <code>ValidIO</code> ููุท ุจุฏูู <code>ready</code> </li></ul><br><p style=";text-align:right;direction:rtl">  ุงููุญุฏุงุช: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>Queue</code> - ุชุนุฏ ูุญุฏุฉ FIFO ุงููุชุฒุงููุฉ ุฃูุฑูุง ูููุฏูุง ููุบุงูุฉ ุ ุญูุซ ุชุจุฏู ุงููุงุฌูุฉ <br>  <code>val enq: DecoupledIO[T]</code> - <code>DecoupledIO</code> ููููุจ <br>  <code>val deq: DecoupledIO[T]</code> - <code>DecoupledIO</code> ุงูุนุงุฏูุฉ <br>  <code>val count: UInt</code> - ููุฏุงุฑ ุงูุจูุงูุงุช ูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ </li><li style=";text-align:right;direction:rtl">  ูุญุฏุฉ ุชุฃุฎุฑ <code>Pipe</code> - ุชุฏุฑุฌ ุงูุนุฏุฏ ุงูุชุงุณุน ูู ุดุฑุงุฆุญ ุงูุชุณุฌูู </li><li style=";text-align:right;direction:rtl">  <code>Arbiter</code> - ุญูู ุนูู ูุงุฌูุงุช <code>DecoupledIO</code> ุ ูุฏููุง ุงูุนุฏูุฏ ูู ุงูุฃููุงุน ุงููุฑุนูุฉ ุชุฎุชูู ูู ููุน ุงูุชุญููู <br>  <code>val in: Vec[DecoupledIO[T]]</code> - ูุฌููุนุฉ ูู ูุงุฌูุงุช ุงูุฅุฏุฎุงู <br> <code>val out: DecoupledIO[T]</code> <br>  <code>val chosen: UInt</code> - ูุนุฑุถ ุงูููุงุฉ ุงููุฎุชุงุฑุฉ </li></ul><br><p style=";text-align:right;direction:rtl">  ุจูุฏุฑ ูุง ููููู ุฃู ุชููู ูู ุงูููุงูุดุฉ ุนูู github - ูู ุงูุฎุทุท ุงูุนุงูููุฉ ููุงู ุงูุชุฏุงุฏ ูุจูุฑ ููุฐู ุงูููุชุจุฉ ูู ุงููุญุฏุงุช: ูุซู FIFO ุบูุฑ ุงููุชุฒุงูู ุ LSFSR ุ ููุณูุงุช ุงูุชุฑุฏุฏ ุ ููุงูุจ PLL ูู FPGA ุ  ูุงุฌูุงุช ูุฎุชููุฉ ุ  ุชุญูู ููู ูุฃูุซุฑ ูู ุฐูู ุจูุซูุฑ. </p><br><h3 id="chisel-io-teseters" style=";text-align:right;direction:rtl">  ุฅุฒููู io-teseters </h3><br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุฐูุฑ ุฅููุงููุฉ ุงูุงุฎุชุจุงุฑ ูู ุงูุฅุฒููู ุ ูู ุงูููุช ุงูุญุงูู ููุงู ุทุฑููุชุงู ูุงุฎุชุจุงุฑ ูุฐุง: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>peekPokeTesters</code> - ุงุฎุชุจุงุฑุงุช ูุญุงูุงุฉ ุจุญุชุฉ ุชุฎุชุจุฑ ููุทู ุชุตูููู </li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  <code>hardwareIOTeseters</code> ุจุงููุนู ุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู ููุฐ ุฐูู ุงูุญูู  ูุน ูุฐุง ุงูููุฌ ุ ุณุชุญุตู ุนูู ููุนุฏ ุซุงุจุช ุชู ุฅูุดุงุคู ูุน ุงูุงุฎุชุจุงุฑุงุช ุงูุชู ูุชุจุชูุง ุนูู ุงูุฅุฒููู ุ ูุญุชู ุฅุฐุง ูุงู ูุฏูู ุขูุฉ ูู ุ ูุณูู ุชุญุตู ุญุชู ุนูู ุฌุฏูู ุฒููู. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุญุชู ุงูุขู ุ ูู ูุชู ุงูุงูุชูุงุก ูู ููุฌ ุงูุงุฎุชุจุงุฑ ุ ููุง ุชุฒุงู ุงูููุงูุดุฉ ูุณุชูุฑุฉ.  ูู ุงููุณุชูุจู ุ ุนูู ุงูุฃุฑุฌุญ ุณุชุธูุฑ ุฃุฏุงุฉ ุนุงูููุฉ ุ ููุงุฎุชุจุงุฑ ูุงูุงุฎุชุจุงุฑุงุช ุณูููู ูู ุงููููู ุฃูุถูุง ุงููุชุงุจุฉ ุนูู ุงูุฅุฒููู.  ูููู ูู ุงูููุช ุงูุญุงูู ุ ููููู ุฅููุงุก ูุธุฑุฉ ุนูู ูุง ูู ููุฌูุฏ ุจุงููุนู ูููููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงุณุชุฎุฏุงูู ููุง</a> . </p><br></li></ul><br><h3 id="nedostatki-chisel" style=";text-align:right;direction:rtl">  ูุณุงูุฆ ุงูุฅุฒููู </h3><br><p style=";text-align:right;direction:rtl">  ูุฐุง ูุง ูุนูู ุฃู ุงูุฅุฒููู ุฃุฏุงุฉ ุนุงูููุฉ ุ ูุฃูู ูุฌุจ ุนูู ุงูุฌููุน ุงูุชุจุฏูู ุฅููู.  ุฑุจูุง ุ ูุซู ุ ุฌููุน ุงููุดุงุฑูุน ูู ูุฑุญูุฉ ุงูุชุทููุฑ ุ ููุง ุนููุจูุง ุ ูุงูุชู ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูููุง ูู ุฃุฌู ุงูุงูุชูุงู. </p><br><p style=";text-align:right;direction:rtl">  ุงูุนูุจ ุงูุฃูู ูุฑุจูุง ุงูุฃูู ูู ุนุฏู ูุฌูุฏ ุชุฏูู ุบูุฑ ูุชุฒุงูู.  ุซููู ุจูุง ููู ุงูููุงูุฉ ุ ูููู ูููู ุญููุง ุจุนุฏุฉ ุทุฑู ุ ูุฃุญุฏูุง ูู ุงููุตูุต ุงูุจุฑูุฌูุฉ ูู ุงูุฌุฒุก ุงูุนููู ูู verilog ุ ูุงูุชู ุชุญูู ุฅุนุงุฏุฉ ุงูุถุจุท ุงููุชุฒุงูู ุฅูู ุบูุฑ ูุชุฒุงูู.  ูุฐุง ูู ุงูุณูู ุงูููุงู ุจู ูุฃูู  ุฌููุน ุงูุฅูุดุงุกุงุช ูู verilog ุงููุชููุฏุฉ <code>always</code> ููุญุฏุฉ ุชูุงููุง. </p><br><p style=";text-align:right;direction:rtl">  ุงูุนูุจ ุงูุซุงูู ุ ูููุง ูููุซูุฑูู ุ ูู ุนุฏู ูุฑุงุกุฉ ููุฑูููุฌ ุงููููุฏ ุ ููุชูุฌุฉ ูุฐูู ุ ูุถุงุนูุงุช ุงูุชุตุญูุญ.  ูููู ุฏุนูุง ูููู ูุธุฑุฉ ุนูู ุงูุฑูุฒ ุงูุฐู ุชู ุฅูุดุงุคู ูู ุงููุซุงู ุจุงุณุชุฎุฏุงู ุนุฏุงุฏ ุจุณูุท </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุฏุช ููุฑูููุฌ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">`ifdef RANDOMIZE_GARBAGE_ASSIGN `define RANDOMIZE `endif `ifdef RANDOMIZE_INVALID_ASSIGN `define RANDOMIZE `endif `ifdef RANDOMIZE_REG_INIT `define RANDOMIZE `endif `ifdef RANDOMIZE_MEM_INIT `define RANDOMIZE `endif module SimpleCounter( input clock, input reset, input io_enable, output [7:0] io_out ); reg [7:0] counter; reg [31:0] _RAND_0; wire [8:0] _T_7; wire [7:0] _T_8; wire [7:0] _GEN_0; assign _T_7 = counter + 8'h1; assign _T_8 = _T_7[7:0]; assign _GEN_0 = io_enable ? _T_8 : counter; assign io_out = counter; `ifdef RANDOMIZE integer initvar; initial begin `ifndef verilator #0.002 begin end `endif `ifdef RANDOMIZE_REG_INIT _RAND_0 = {1{$random}}; counter = _RAND_0[7:0]; `endif // RANDOMIZE_REG_INIT end `endif // RANDOMIZE always @(posedge clock) begin if (reset) begin counter &lt;= 8'h0; end else begin if (io_enable) begin counter &lt;= _T_8; end end end endmodule</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ูููููุฉ ุงูุฃููู ุ ูููู ูู verilog ุงููุงุชุฌ ุฃู ูุจุชุนุฏ ุ ุญุชู ูู ุชุตููู ูุชูุณุท โโุงูุญุฌู ุ ูููู ุฏุนููุง ูููู ูุธุฑุฉ. </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุนุฑู RANDOMIZE - (ูุฏ ุชููู ูููุฏุฉ ุนูุฏ ุงูุงุฎุชุจุงุฑ ุจุงุณุชุฎุฏุงู ุฃุฌูุฒุฉ ุงุฎุชุจุงุฑ ุงูุฅุฒููู) - ุจุดูู ุนุงู ุนุฏููุฉ ุงููุงุฆุฏุฉ ุ ููููุง ูุง ุชุชุฏุฎู ุจุดูู ุฎุงุต </li><li style=";text-align:right;direction:rtl">  ููุง ูุฑู ุงุณู ููุงูุฆูุง ุ ูุงูุณุฌู ูุญููุธ </li><li style=";text-align:right;direction:rtl">  _GEN_0 ูู ูุชุบูุฑ ุนุฏูู ุงููุงุฆุฏุฉ ุจุงููุณุจุฉ ููุง ุ ููููู ุถุฑูุฑู ููู ูููู firrtl ูููุชุฑุฌู ุจุฅูุดุงุก verilog.  ูุญู ุฃูุถุง ูุง ููุชุจู ุฅูููุง. </li><li style=";text-align:right;direction:rtl">  ูุง ูุฒุงู ููุงู _T_7 ู _T_8 ุ ุณูุชู ุชูุฏูู ูู ุงูููุทู ุงูุชูุงููู ูู ููุฑูููุฌ ุงูุฐู ุชู ุฅูุดุงุคู ุฎุทูุฉ ุจุฎุทูุฉ ูู ุดูู ุงููุชุบูุฑุงุช _T. </li></ul><br><p style=";text-align:right;direction:rtl">  ุงูุฃูู ูู ุฐูู ุฃู ุฌููุน ุงูููุงูุฐ ูุงูุณุฌูุงุช ูุงูุฃุณูุงู ุงููุงุฒูุฉ ูุชุตุญูุญ ุงูุฃุฎุทุงุก ุชุญุงูุธ ุนูู ุฃุณูุงุฆูุง ูู ุงูุฅุฒููู.  ูุฅุฐุง ูู ุชูุธุฑ ููุท ุฅูู verilog ูููู ุฃูุถูุง ุฅูู ุงูุฅุฒููู ุ ูุณุฑุนุงู ูุง ุณุชุณูุฑ ุนูููุฉ ุชุตุญูุญ ุงูุฃุฎุทุงุก ููุง ูู ุงูุญุงู ูุน verilog ุงูููู. </p><br><h3 id="zaklyuchenie" style=";text-align:right;direction:rtl">  ุงูุฎูุงุตุฉ </h3><br><p style=";text-align:right;direction:rtl">  ูู ุงูุญูุงุฆู ุงูุญุฏูุซุฉ ุ ุชุทูุฑ ุชุทููุฑ RTL ุ ุณูุงุก ูุงู ุฃุณููููุง ุฃู fpga ุฎุงุฑุฌ ุงูุจูุฆุฉ ุงูุฃูุงุฏูููุฉ ุ ููุชุฑุฉ ุทูููุฉ ูู ุงุณุชุฎุฏุงู ุฑูุฒ ููุฑูููุฌ ุฎุงูุต ููุชูุจ ุจุฎุท ุงููุฏ ููุท ุฅูู ููุน ุฃู ููุน ุขุฎุฑ ูู ูุต ุงูุฌูู ุ ุณูุงุก ูุงู ูุตูุง ุตุบูุฑูุง ูู tcl ุฃู IDE ูุงูููุง ูุน ูุฌููุนุฉ ูู ุงูููุฒุงุช. </p><br><p style=";text-align:right;direction:rtl">  ุงูุฅุฒููู ุ ุจุฏูุฑู ุ ูู ุงูุชุทูุฑ ุงูููุทูู ููุบุงุช ูุชุทููุฑ ูุงุฎุชุจุงุฑ ุงูููุทู ุงูุฑููู.  ุงูุชุฑุถ ุฃูู ูู ูุฐู ุงููุฑุญูุฉ ูู ุจุนูุฏ ุนู ุงูููุงู ุ ููููู ูุงุฏุฑ ุจุงููุนู ุนูู ุชูููุฑ ุงููุฑุต ุงูุชู ููููู ูู ุฎูุงููุง ุชุญูู ุนููุจู.      ,                   . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar419413/">https://habr.com/ru/post/ar419413/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar419401/index.html">ูุงุฌูุงุช ุณุทุฑ ุฃูุงูุฑ Java: picocli</a></li>
<li><a href="../ar419405/index.html">ููู ุชุณูุฑ ุงูุฃููุฑ ูุน IPv6 ุ ุฃู ูุง ูุนูู ุงูุงูุชูุงู ุฅูู ูุณุฎุฉ ุฌุฏูุฏุฉ ูู ุงูุจุฑูุชูููู - ูุงูุด ุงููููู</a></li>
<li><a href="../ar419407/index.html">ุชุญููู ููุตู ููุจุงุฑุงุฉ Dota 2 ุจูู OpenAI ูุงูุฃุดุฎุงุต ุจุชูุณูู 5x5. ุฎุณุฑ ุงููุงุณ</a></li>
<li><a href="../ar419409/index.html">NUCs ุงูุฌุฏูุฏุฉ ูู Intel ุชุนุชูุฏ ุนูู ูุนุงูุฌุงุช Lake Lake</a></li>
<li><a href="../ar419411/index.html">ุนู ุงูุญุฑูู ูู ูุงุทุญุฉ ุณุญุงุจ. ุงูุณูููุง ูุงููุงูุน</a></li>
<li><a href="../ar419415/index.html">ูุงุชุฑููุณุช ูุจูุฑุดูู - ููุฉ ูุงุฆูุฉ ุ ุฃู ุฃุชูุชุฉ ุตุบูุฑุฉ ูู ุงูููุฒู</a></li>
<li><a href="../ar419417/index.html">ุงููุงุฆุญุฉ ุงูุนุงูุฉ ูุญูุงูุฉ ุงูุจูุงูุงุช: ุฑุณู ุฎุฑุงุฆุท ุงูุจูุงูุงุช ุฃู ููููุฉ ุนุซูุฑ ุงูุนููุงุก ุนูู ุฃุฌูุฒุฉ ุงูููุจููุชุฑ ุงููุญูููุฉ ุงูููุณูุฉ ููุฐ ูุชุฑุฉ ุทูููุฉ</a></li>
<li><a href="../ar419419/index.html">ุงูุงุฎุชุจุงุฑุงุช ุงูุชููุงุฆูุฉ ููุงุฌูุฉ ุงููุณุชุฎุฏู: ููู ูุง ุชูุนู ุฐูู</a></li>
<li><a href="../ar419423/index.html">ููุฏ ูุนุฏูุง ุจุงูููุฏูู ูู ุงูููุช ุงูุญูููู ุจุฏูู ุฃูุงุฑูุฒ ูุชุดูุฌุงุช</a></li>
<li><a href="../ar419425/index.html">ุฃุณุจูุน ุงูุฃูู 29. ูุฑุตูุฉ Reddit ุ ููู ูุญูุธุฉ ููุนููุงุช ุงููุดูุฑุฉ ูุฃุฌูุฒุฉ ุงูุชูุฌูู MikroTik</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>