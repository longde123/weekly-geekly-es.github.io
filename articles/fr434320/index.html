<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍦 🛀 👩🏿‍🔧 Comment nous testons Sberbank Online sur iOS 🚣🏼 🗄️ 📔</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans l' article précédent, nous nous sommes familiarisés avec la pyramide des tests et les avantages des tests automatisés. Mais la théorie est généra...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment nous testons Sberbank Online sur iOS</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sberbank/blog/434320/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/rf/a1/ju/rfa1ju6fy69h4mfvjjr6rd2tw2u.jpeg"></div><br><br>  Dans l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article précédent,</a> nous nous sommes familiarisés avec la pyramide des tests et les avantages des tests automatisés.  Mais la théorie est généralement différente de la pratique.  Aujourd'hui, nous voulons parler de notre expérience dans le test de code d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">application</a> utilisé par des millions d'utilisateurs iOS.  Et aussi sur le chemin difficile que notre équipe a dû parcourir pour obtenir un code stable. <br><br>  La situation est la suivante: supposons que les développeurs aient réussi à se convaincre et à convaincre l'entreprise de la nécessité de couvrir la base de code avec des tests.  Au fil du temps, le projet est devenu plus d'une douzaine de milliers de tests unitaires et plus d'un millier de tests d'interface utilisateur.  Une base de test aussi importante a donné lieu à plusieurs problèmes, dont nous voulons savoir la solution. <br><br>  Dans la première partie de l'article, nous nous familiariserons avec les difficultés qui se posent lors du travail avec des tests unitaires propres (sans intégration), dans la deuxième partie, nous considérerons les tests d'interface utilisateur.  Pour découvrir comment nous améliorons la stabilité des essais, bienvenue sur Cat. <br><a name="habracut"></a><br>  Dans un monde idéal, avec un code source inchangé, les tests unitaires devraient toujours montrer le même résultat, quel que soit le nombre et la séquence de démarrages.  Et les tests en baisse constante ne doivent pas passer par la barrière du serveur d'intégration continue (CI). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ad/ov/l7/adovl78pnaoa27omkrcqpugikdc.jpeg"></div><br>  En réalité, on peut rencontrer le fait que le même test unitaire montrera un résultat positif ou négatif - ce qui signifie «cligner des yeux».  La raison de ce comportement réside dans la mauvaise implémentation du code de test.  De plus, un tel test peut passer CI avec une exécution réussie, et plus tard il commencera à tomber sur la demande de tir (PR) d'autres personnes.  Dans une situation similaire, il existe un souhait de désactiver ce test ou de jouer à la roulette et d'exécuter à nouveau le CI.  Cependant, cette approche est anti-productive, car elle mine la crédibilité des tests et charge CI avec un travail insignifiant. <br><br>  Ce problème a été souligné cette année lors de la conférence internationale d'Apple sur la WWDC: <br><br><ul><li>  Cette <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">session</a> aborde les tests parallèles, l'analyse de la couverture d'un code cible individuel avec des tests, ainsi que l'ordre de lancement des tests. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ici,</a> Apple a parlé de tester les requêtes réseau, le piratage, les notifications de test et la vitesse des tests. </li></ul><br><h4>  Tests unitaires </h4><br>  Pour lutter contre les tests clignotants, nous utilisons la séquence d'actions suivante: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/636/25f/226/63625f226b610e87e94e088f4444aedb.png" alt="image"><br><br>  0. Nous évaluons le code de test de qualité selon des critères de base: isolement, justesse du moka, etc.  Nous suivons la règle: avec un test clignotant, nous changeons le code de test, et non le code de test. <br><br>  Si cet élément n'aide pas, procédez comme suit: <br><br>  1. Nous fixons et reproduisons les conditions dans lesquelles le test tombe; <br>  2. Trouvez la raison de la chute; <br>  3. Modifiez le code de test ou le code de test; <br>  4. Passez à la première étape et vérifiez si la cause de la chute a été éliminée. <br><br>
<h4>  Jouer à l'automne </h4><br>  L'option la plus simple et la plus évidente consiste à exécuter un test de problème sur la même version d'iOS et sur le même appareil.  En règle générale, dans ce cas, le test est réussi et la pensée apparaît: «Tout fonctionne pour moi localement, je vais redémarrer l'assemblage sur CI».  C'est juste que le problème n'a pas été résolu, et le test continue de tomber avec quelqu'un d'autre. <br><br>  Par conséquent, à l'étape de vérification suivante, vous devez exécuter localement tous les tests unitaires de l'application pour identifier l'impact potentiel d'un test sur un autre.  Mais même après une telle vérification, le résultat de votre test peut être positif, mais le problème n'est pas détecté. <br><br>  Si la séquence de test entière a réussi et que la baisse attendue n'a pas été enregistrée, vous pouvez répéter l'analyse un nombre important de fois. <br>  Pour ce faire, sur la ligne de commande, vous devez exécuter une boucle avec xcodebuild: <br><br><pre><code class="objectivec hljs"><span class="hljs-meta"><span class="hljs-meta">#! /bin/sh x=0 while [ $x -le 100 ]; do xcodebuild -configuration Debug -scheme </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"TargetScheme"</span></span></span><span class="hljs-meta"> -workspace App.wcworkspace -sdk iphonesimulator -destination </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"platfrom=iOS Simulator, OS=11.3, name=iPhone 7"</span></span></span><span class="hljs-meta"> test &gt;&gt; </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"report.txt"</span></span></span><span class="hljs-meta">; x=$(( $x +1 )); done</span></span></code> </pre> <br>  En règle générale, cela suffit pour reproduire la chute et passer à l'étape suivante - identifier la cause de la chute enregistrée. <br><br><h4>  Raisons de la chute et solutions possibles </h4><br>  Considérez les principales causes des tests unitaires clignotants que vous pouvez rencontrer dans votre travail, les outils pour les identifier et les solutions possibles. <br><br>  Il y a trois principaux groupes de raisons pour la chute des tests: <br><br>  <b>Mauvaise isolation</b> <br><br>  Par isolement, nous entendons un cas particulier d'encapsulation, à savoir: un mécanisme de langage qui permet de restreindre l'accès de certains composants du programme à d'autres. <br><br>  L'isolement de l'environnement joue un rôle important, car pour la pureté du test, rien ne doit affecter les entités testées.  Une attention particulière doit être portée aux tests visant à vérifier le code.  Ils utilisent des entités d'état globales, telles que: variables globales, trousseau, réseau, CoreData, Singleton, NSUserDefaults et ainsi de suite.  C'est dans ces zones que le plus grand nombre de lieux potentiels de manifestation d'un mauvais isolement se présentent.  Supposons que lors de la création d'un environnement de test, un état global soit défini, qui est implicitement utilisé dans un autre code de test.  Dans ce cas, le test qui vérifie le code sous test peut commencer à «clignoter» - car selon la séquence de tests, deux situations peuvent survenir - lorsque l'état global est défini et lorsqu'il ne l'est pas.  Souvent, les dépendances décrites sont implicites, vous pouvez donc accidentellement oublier de définir / réinitialiser ces états globaux. <br><br>  Pour rendre les dépendances clairement visibles, vous pouvez utiliser le principe de l'injection de dépendance (DI), à savoir: passer la dépendance via les paramètres du constructeur ou la propriété de l'objet.  Cela facilitera la substitution de fausses dépendances au lieu d'un objet réel. <br><br>  <b>Appel asynchrone</b> <br><br>  Tous les tests unitaires sont effectués de manière synchrone.  La difficulté de tester l'asynchronie se pose parce que l'appel de la méthode de test dans le test «se fige» en prévision de l'achèvement de la portée du test unitaire.  Le résultat sera une baisse stable du test. <br><br><pre> <code class="objectivec hljs"><span class="hljs-comment"><span class="hljs-comment">//act [self.testService loadImageFromUrl:@"www.google.ru" handler:^(UIImage * _Nullable image, NSError * _Nullable error) { //assert OCMVerify([cacheMock imageAtPath:OCMOCK_ANY]); OCMVerify([cacheMock dateOfFileAtPath:OCMOCK_ANY]); OCMVerify([imageMock new]); [imageMock stopMocking]; }]; [self waitInterval:0.2];</span></span></code> </pre> <br>  Pour tester un tel test, il existe plusieurs approches: <br><br><ol><li>  Exécutez NSRunLoop </li><li>  waitForExpectationsWithTimeout </li></ol><br>  Les deux options vous obligent à spécifier un argument avec un délai d'expiration.  Cependant, il ne peut être garanti que l'intervalle sélectionné sera suffisant.  Localement, votre test passera, mais sur un CI lourdement chargé, il se peut qu'il n'y ait pas assez de puissance et il tombera - à partir de là, un «clignotement» apparaîtra. <br><br>  Ayons une sorte de service de traitement des données.  Nous voulons vérifier qu'après avoir reçu une réponse du serveur, il transfère ces données pour un traitement ultérieur. <br><br>  Pour envoyer des demandes sur le réseau, le service utilise le client pour travailler avec lui. <br><br>  Un tel test peut être écrit de manière asynchrone à l'aide d'un faux serveur pour garantir des réponses réseau stables. <br><br><pre> <code class="objectivec hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">@interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Service</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NSObject</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">property</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nonatomic</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">strong</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">id</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">APIClient</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">apiClient</span></span></span><span class="hljs-class">; @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">APIClient</span></span></span><span class="hljs-class"> &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NSObject</span></span></span><span class="hljs-class">&gt; - (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">void</span></span></span><span class="hljs-class">)</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">getDataWithCompletion</span></span></span><span class="hljs-class">:(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">void</span></span></span><span class="hljs-class"> (^)(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">id</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">responseJSONData</span></span></span><span class="hljs-class">))</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">completion</span></span></span><span class="hljs-class">; @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> - (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">void</span></span></span><span class="hljs-class">)</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">testRequestAsync</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// arrange __auto_type service = [Service new]; service.apiClient = [APIClient new]; XCTestExpectation *expectation = [self expectationWithDescription:@"Request"]; // act id receivedData = nil; [self.service receiveDataWithCompletion:^(id responseJSONData) { receivedData = responseJSONData; [expectation fulfill]; }]; [self waitForExpectationsWithTimeout:10 handler:^(NSError * _Nullable error) { expect(receivedData).notTo.beNil(); expect(error).to.beNil(); }]; }</span></span></code> </pre><br>  Mais la version synchrone du test sera plus stable et vous permettra de vous débarrasser du travail avec les timeouts. <br><br>  Pour lui, nous avons besoin d'une maquette APIClient synchrone <br><br><pre> <code class="objectivec hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">@interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">APIClientMock</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NSObject</span></span></span><span class="hljs-class"> &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">APIClient</span></span></span><span class="hljs-class">&gt; @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implementation</span></span></span><span class="hljs-class"> - (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">void</span></span></span><span class="hljs-class">)</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">getDataWithCompletion</span></span></span><span class="hljs-class">:(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">void</span></span></span><span class="hljs-class"> (^)(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">id</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">responseJSONData</span></span></span><span class="hljs-class">))</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">completion</span></span></span><span class="hljs-class"> </span></span>{ __auto_type fakeData = @{ <span class="hljs-string"><span class="hljs-string">@"key"</span></span> : <span class="hljs-string"><span class="hljs-string">@"value"</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (completion != <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) { completion(fakeData); } } <span class="hljs-keyword"><span class="hljs-keyword">@end</span></span></code> </pre><br>  Ensuite, le test sera plus simple et fonctionnera plus stable <br><br><pre> <code class="objectivec hljs">- (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)testRequestSync { <span class="hljs-comment"><span class="hljs-comment">// arrange __auto_type service = [Service new]; service.apiClient = [APIClientMock new]; // act id receivedData = nil; [self.service receiveDataWithCompletion:^(id responseJSONData) { receivedData = responseJSONData; }]; expect(receivedData).notTo.beNil(); expect(error).to.beNil(); }</span></span></code> </pre><br>  Le fonctionnement asynchrone peut être isolé en encapsulant une entité distincte, qui peut être testée indépendamment.  Le reste de la logique doit être testé de manière synchrone.  Cette approche évitera la plupart des pièges apportés par l'asynchronie. <br><br>  En option, dans le cas de la mise à jour de la couche d'interface utilisateur à partir du thread d'arrière-plan, vous pouvez vérifier si nous sommes dans le thread principal et ce qui se passera si nous appelons à partir du test: <br><br><pre> <code class="objectivec hljs">func performUIUpdate(using closure: @escaping () -&gt; Void) { <span class="hljs-comment"><span class="hljs-comment">// If we are already on the main thread, execute the closure directly if Thread.isMainThread { closure() } else { DispatchQueue.main.async(execute: closure) } }</span></span></code> </pre><br>  Pour une explication détaillée, voir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">l'article de D. Sandell</a> . <br><br>  <b>Test de code hors de votre contrôle</b> <br>  Souvent, nous oublions les choses suivantes: <br><br><ul><li>  la mise en œuvre des méthodes peut dépendre de la localisation de l'application, </li><li>  il existe des méthodes privées dans le SDK qui peuvent être appelées par des classes de framework, </li><li>  la mise en œuvre des méthodes peut dépendre de la version du SDK </li></ul><br><img src="https://habrastorage.org/webt/ym/-c/le/ym-clect83a4rmvz0gnjp1dyz7c.jpeg" align="left"><div style="text-align:center;"><img src="https://habrastorage.org/webt/v7/70/8t/v7708tdiyctsy-yxxmnqnjukeni.jpeg"></div><br>  Les cas ci-dessus introduisent une incertitude lors de l'écriture et de l'exécution des tests.  Pour éviter des conséquences négatives, vous devez exécuter des tests sur tous les paramètres régionaux, ainsi que sur les versions d'iOS prises en charge par votre application.  Séparément, il convient de noter qu'il n'est pas nécessaire de tester le code dont l'implémentation vous est cachée. <br><br>  Avec cela, nous voulons compléter la première partie de l'article sur les tests automatisés de l'application iOS Sberbank Online, dédiée aux tests unitaires. <br><br>  Dans la deuxième partie de l'article, nous parlerons des problèmes survenus lors de l'écriture de 1500 tests d'interface utilisateur, ainsi que des recettes pour les surmonter. <br><br>  L'article a été écrit avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">regno</a> - Anton Vlasov, responsable du développement et développeur iOS. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr434320/">https://habr.com/ru/post/fr434320/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr434306/index.html">Comment nous avons mis à jour l'intranet avec une audience quotidienne de plus de 2 000 utilisateurs. Pas de budget</a></li>
<li><a href="../fr434308/index.html">Fonctionnement du système de vidéosurveillance Ivideon: présentation du logiciel PC</a></li>
<li><a href="../fr434312/index.html">Heure de la conférence! Résumé 2018</a></li>
<li><a href="../fr434314/index.html">Alternatives à LastPass. Évaluation comparative de six gestionnaires de mots de passe</a></li>
<li><a href="../fr434316/index.html">Père Noël secret, quêtes, quiz et patinoire - comment nous avons rencontré le Nouvel An d'ABBYY</a></li>
<li><a href="../fr434322/index.html">Précision de la profondeur clairement</a></li>
<li><a href="../fr434326/index.html">Ballet dans l'air: lévitation contrôlée des particules due aux ondes sonores</a></li>
<li><a href="../fr434328/index.html">Signature électronique pour la participation aux achats</a></li>
<li><a href="../fr434330/index.html">Nouveautés de YouTrack 2018.4</a></li>
<li><a href="../fr434332/index.html">Et encore une fois à propos de KIB SearchInform: nous traitons des dernières</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>