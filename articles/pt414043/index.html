<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíì üë®üèæ‚ÄçüöÄ üçí An√°lise de tabelas de roteamento ou por que outro engenheiro de rede Python üö≤ ‚¨úÔ∏è üèåÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√° Habr! Este √© o meu primeiro artigo sobre Habr√©, e ela nasceu de uma pergunta em um dos f√≥runs profissionais. A quest√£o parecia, parafraseando um p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>An√°lise de tabelas de roteamento ou por que outro engenheiro de rede Python</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/414043/"><p>  Ol√° Habr!  Este √© o meu primeiro artigo sobre Habr√©, e ela nasceu de uma pergunta em um dos f√≥runs profissionais.  A quest√£o parecia, parafraseando um pouco, da seguinte maneira: </p><br><ul><li>  H√° um conjunto de arquivos de texto que cont√©m a sa√≠da de tabelas de roteamento de v√°rios dispositivos de rede; </li><li>  Cada arquivo cont√©m informa√ß√µes de um dispositivo; </li><li>  Os dispositivos podem ter um formato de sa√≠da diferente para a tabela de roteamento; </li><li>  Com base nos dados dispon√≠veis, mediante solicita√ß√£o, √© necess√°rio exibir o caminho para uma sub-rede ou endere√ßo IP arbitr√°rio de cada um dos dispositivos; </li><li>  A sa√≠da deve incluir em cada se√ß√£o das informa√ß√µes do caminho sobre a entrada da tabela de roteamento, ao longo da qual o pacote ser√° roteado. </li></ul><br><p>  Achei a tarefa interessante e ecoei um dos meus pr√≥prios utilit√°rios de rede, planejado no futuro.Portanto, em uma noite livre, pensando em sua solu√ß√£o, escrevi uma implementa√ß√£o de Prova de conceito em Python 2.7 para o formato Cisco IOS, IOS-XE e ASA, que atende requisitos b√°sicos. </p><br><p>  No artigo, tentarei reproduzir a linha de pensamento e comentar os pontos principais. <br>  O material √© destinado a pessoas que j√° est√£o familiarizadas fundamentalmente com o b√°sico de redes e Python. <br>  Todos os interessados ‚Äã‚Äãs√£o bem-vindos ao gato! </p><a name="habracut"></a><br><h3>  Isen√ß√£o de responsabilidade </h3><br><p>  O autor do artigo, sendo um engenheiro de rede, n√£o √© um desenvolvedor profissional <del>  e talvez ainda n√£o saiba a diferen√ßa entre uma interface e uma classe abstrata </del>  mas sempre aberto a cr√≠ticas e feedback construtivos.  Coment√°rios sobre o c√≥digo, abordagens selecionadas e algoritmos de colegas mais experientes s√£o bem-vindos. </p><br><p>  Todo o c√≥digo deste artigo √© distribu√≠do sob a licen√ßa MIT, incluindo  √â fornecido "como est√°" e n√£o oferece nenhum tipo de garantia. </p><br><h3>  Esclarecimento das condi√ß√µes e escolha do algoritmo da solu√ß√£o </h3><br><p>  Considerando a introdu√ß√£o, a tarefa pode ser dividida em duas partes principais: an√°lise de arquivos de origem com tabelas de roteamento e pesquisa direta do caminho usando dados inicializados. <br>  Essa separa√ß√£o tamb√©m permitir√°, se necess√°rio, importar rotas de dispositivos para procurar um caminho arbitrariamente (por exemplo, via SNMP ou REST API). </p><br><p>  Para melhorar o desempenho, faz sentido inicializar arquivos uma vez quando o script √© executado. <br>  Um analisador de arquivos deve reconhecer o formato das tabelas de roteamento de v√°rios sistemas operacionais.  Em seguida, ser√° considerada uma op√ß√£o para Cisco IOS, IOS-XE e ASA para IPv4.  Suporte para outros formatos e IPv6 pode ser adicionado posteriormente. </p><br><p>  Como voc√™ sabe, a escolha de uma rota de acordo com a tabela de roteamento √© feita de acordo com o princ√≠pio da coincid√™ncia com o prefixo de maior comprimento (correspond√™ncia de prefixo mais longa). <br>  Como uma das solu√ß√µes para uma pesquisa r√°pida para essa correspond√™ncia, voc√™ pode criar uma √°rvore de prefixos a partir dos dados de origem.  Como n√£o temos restri√ß√µes √†s depend√™ncias externas, vamos nos concentrar no m√≥dulo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SubnetTree</a> finalizado. </p><br><p>  Pode haver potencialmente loops de roteamento na se√ß√£o de rede analisada, eles devem ser detectados e n√£o devem afetar o script.  Al√©m disso, em qualquer um dos n√≥s, pode n√£o haver uma rota para a sub-rede desejada.  Isso tamb√©m deve ser considerado. </p><br><p>  Se houver <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">VRF</a> no dispositivo, as tabelas de roteamento de cada inst√¢ncia devem ser armazenadas em arquivos separados, pois, do ponto de vista da topologia, s√£o roteadores separados. </p><br><p>  As limita√ß√µes no desempenho do iron para executar o script, o n√∫mero e o tamanho das tabelas de roteamento analisadas n√£o s√£o declaradas na condi√ß√£o, mas voc√™ deve mant√™-las em mente. <br>  A especificidade do aplicativo sugere um limite m√©dio de 1.000.000 entradas na tabela de roteamento para um dispositivo moderno.  Em um roteador com BGP Full View a partir de junho de 2018, pode haver mais de 724.000 rotas. <br>  De acordo com uma estimativa aproximada e os resultados dos testes para armazenamento e processamento na mem√≥ria de cada 1.000.000 prefixos, ser√£o necess√°rios cerca de 500 MB de RAM.  Assim, uma esta√ß√£o de trabalho de produtividade m√©dia com 8 GB de RAM (ainda em mente em 2018) nos permitir√° analisar a topologia com uma capacidade total de at√© 14 a 16.000.000 de rotas.  Ou seja, um segmento de cerca de 18 a 20 roteadores com exibi√ß√£o completa em cada um. <br>  Na maioria dos casos, isso √© suficiente, mas para redes grandes (como estresse), √© necess√°rio dividir a an√°lise em segmentos ou transferir a l√≥gica para um banco de dados sem mem√≥ria. <br><del>  640KB √© suficiente para todos. </del>  Vamos nos debru√ßar sobre a vers√£o in-memory. </p><br><h3>  Analisando Arquivos de Origem e Selecionando Estruturas de Dados </h3><br><p>  Vamos colocar os arquivos com as tabelas de roteamento em um subdiret√≥rio separado e torn√°-lo uma vari√°vel: </p><br><pre><code class="python hljs">RT_DIRECTORY = <span class="hljs-string"><span class="hljs-string">"./routing_tables"</span></span></code> </pre> <br><p>  Para o Cisco IOS e o IOS-XE, a tabela de roteamento pode ser algo como isto: </p><br><div class="spoiler">  <b class="spoiler_title">mostre a rota do ip</b> <div class="spoiler_text"><pre> <code class="hljs powershell">S* <span class="hljs-number"><span class="hljs-number">0.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">10.220</span></span>.<span class="hljs-number"><span class="hljs-number">88.1</span></span> <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> is variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">10.220</span></span>.<span class="hljs-number"><span class="hljs-number">88.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> is directly connected, FastEthernet4 L <span class="hljs-number"><span class="hljs-number">10.220</span></span>.<span class="hljs-number"><span class="hljs-number">88.20</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> is directly connected, FastEthernet4 <span class="hljs-number"><span class="hljs-number">1.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> is subnetted, <span class="hljs-number"><span class="hljs-number">1</span></span> subnets S <span class="hljs-number"><span class="hljs-number">1.1</span></span>.<span class="hljs-number"><span class="hljs-number">1.1</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">212.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.1</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">0.1</span></span> D EX <span class="hljs-number"><span class="hljs-number">10.1</span></span>.<span class="hljs-number"><span class="hljs-number">198.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">170</span></span>/<span class="hljs-number"><span class="hljs-number">1683712</span></span>] via <span class="hljs-number"><span class="hljs-number">172.16</span></span>.<span class="hljs-number"><span class="hljs-number">209.47</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>w2d, Vlan910 [<span class="hljs-number"><span class="hljs-number">170</span></span>/<span class="hljs-number"><span class="hljs-number">1683712</span></span>] via <span class="hljs-number"><span class="hljs-number">172.16</span></span>.<span class="hljs-number"><span class="hljs-number">60.33</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>w2d, Vlan60 [<span class="hljs-number"><span class="hljs-number">170</span></span>/<span class="hljs-number"><span class="hljs-number">1683712</span></span>] via <span class="hljs-number"><span class="hljs-number">10.25</span></span>.<span class="hljs-number"><span class="hljs-number">20.132</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>w2d, Vlan220 [<span class="hljs-number"><span class="hljs-number">170</span></span>/<span class="hljs-number"><span class="hljs-number">1683712</span></span>] via <span class="hljs-number"><span class="hljs-number">10.25</span></span>.<span class="hljs-number"><span class="hljs-number">20.9</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>w2d, Vlan20 <span class="hljs-number"><span class="hljs-number">4.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">16</span></span> is subnetted, <span class="hljs-number"><span class="hljs-number">1</span></span> subnets O E2 <span class="hljs-number"><span class="hljs-number">4.4</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span> [<span class="hljs-number"><span class="hljs-number">110</span></span>/<span class="hljs-number"><span class="hljs-number">20</span></span>] via <span class="hljs-number"><span class="hljs-number">194.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.2</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">02</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>, FastEthernet0/<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> is subnetted, <span class="hljs-number"><span class="hljs-number">1</span></span> subnets D EX <span class="hljs-number"><span class="hljs-number">5.5</span></span>.<span class="hljs-number"><span class="hljs-number">5.0</span></span> [<span class="hljs-number"><span class="hljs-number">170</span></span>/<span class="hljs-number"><span class="hljs-number">2297856</span></span>] via <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">1.2</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span>, Serial0/<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">6.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">16</span></span> is subnetted, <span class="hljs-number"><span class="hljs-number">1</span></span> subnets B <span class="hljs-number"><span class="hljs-number">6.6</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span> [<span class="hljs-number"><span class="hljs-number">200</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">195.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.1</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">04</span></span> <span class="hljs-number"><span class="hljs-number">172.16</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">26</span></span> is subnetted, <span class="hljs-number"><span class="hljs-number">1</span></span> subnets i L2 <span class="hljs-number"><span class="hljs-number">172.16</span></span>.<span class="hljs-number"><span class="hljs-number">1.0</span></span> [<span class="hljs-number"><span class="hljs-number">115</span></span>/<span class="hljs-number"><span class="hljs-number">10</span></span>] via <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">1.2</span></span>, Serial0/<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">172.20</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> is subnetted, <span class="hljs-number"><span class="hljs-number">3</span></span> subnets O <span class="hljs-number"><span class="hljs-number">172.20</span></span>.<span class="hljs-number"><span class="hljs-number">1.1</span></span> [<span class="hljs-number"><span class="hljs-number">110</span></span>/<span class="hljs-number"><span class="hljs-number">11</span></span>] via <span class="hljs-number"><span class="hljs-number">194.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.2</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">45</span></span>, FastEthernet0/<span class="hljs-number"><span class="hljs-number">0</span></span> O <span class="hljs-number"><span class="hljs-number">172.20</span></span>.<span class="hljs-number"><span class="hljs-number">3.1</span></span> [<span class="hljs-number"><span class="hljs-number">110</span></span>/<span class="hljs-number"><span class="hljs-number">11</span></span>] via <span class="hljs-number"><span class="hljs-number">194.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.2</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">45</span></span>, FastEthernet0/<span class="hljs-number"><span class="hljs-number">0</span></span> O <span class="hljs-number"><span class="hljs-number">172.20</span></span>.<span class="hljs-number"><span class="hljs-number">2.1</span></span> [<span class="hljs-number"><span class="hljs-number">110</span></span>/<span class="hljs-number"><span class="hljs-number">11</span></span>] via <span class="hljs-number"><span class="hljs-number">194.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.2</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">45</span></span>, FastEthernet0/<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> is variably subnetted, <span class="hljs-number"><span class="hljs-number">5</span></span> subnets, <span class="hljs-number"><span class="hljs-number">3</span></span> masks C <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">1.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> is directly connected, Serial0/<span class="hljs-number"><span class="hljs-number">0</span></span> D <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">5.0</span></span>/<span class="hljs-number"><span class="hljs-number">26</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">2297856</span></span>] via <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">1.2</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>, Serial0/<span class="hljs-number"><span class="hljs-number">0</span></span> D <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">5.64</span></span>/<span class="hljs-number"><span class="hljs-number">26</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">2297856</span></span>] via <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">1.2</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>, Serial0/<span class="hljs-number"><span class="hljs-number">0</span></span> D <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">5.128</span></span>/<span class="hljs-number"><span class="hljs-number">26</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">2297856</span></span>] via <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">1.2</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>, Serial0/<span class="hljs-number"><span class="hljs-number">0</span></span> D <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">5.192</span></span>/<span class="hljs-number"><span class="hljs-number">27</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">2297856</span></span>] via <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">1.2</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>, Serial0/<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> is subnetted, <span class="hljs-number"><span class="hljs-number">1</span></span> subnets D <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">0.1</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">2297856</span></span>] via <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">1.2</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>, Serial0/<span class="hljs-number"><span class="hljs-number">0</span></span> O IA <span class="hljs-number"><span class="hljs-number">195.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">110</span></span>/<span class="hljs-number"><span class="hljs-number">11</span></span>] via <span class="hljs-number"><span class="hljs-number">194.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.2</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">45</span></span>, FastEthernet0/<span class="hljs-number"><span class="hljs-number">0</span></span> O E2 <span class="hljs-number"><span class="hljs-number">212.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> [<span class="hljs-number"><span class="hljs-number">110</span></span>/<span class="hljs-number"><span class="hljs-number">20</span></span>] via <span class="hljs-number"><span class="hljs-number">194.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.2</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">35</span></span>, FastEthernet0/<span class="hljs-number"><span class="hljs-number">0</span></span> C <span class="hljs-number"><span class="hljs-number">194.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">16</span></span> is directly connected, FastEthernet0/<span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> </div></div><br><p>  No Cisco ASA, o formato √© semelhante, mas em vez dos comprimentos do prefixo, a m√°scara de sub-rede √© exibida na nota√ß√£o decimal: </p><br><div class="spoiler">  <b class="spoiler_title">mostrar rota</b> <div class="spoiler_text"><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">S</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 255<span class="hljs-selector-class"><span class="hljs-selector-class">.255</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.255</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[3/0]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">via</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.86</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.194</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">outside</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">C</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.86</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.194</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 255<span class="hljs-selector-class"><span class="hljs-selector-class">.255</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.254</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">directly</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">connected</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">outside</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">S</span></span>* 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1/0]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">via</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.86</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.194</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">outside</span></span></code> </pre> </div></div><br><p>  Como voc√™ pode ver no exemplo, as rotas, apesar da grande diversidade, t√™m a mesma estrutura e previsibilidade, o que significa que podem ser processadas por express√µes regulares. <br>  Dois grupos globais s√£o divulgados: <em>local +</em> rotas <em>conectadas</em> e tudo mais. <br>  Para complicar um pouco, √© a possibilidade de ter rotas com v√°rias linhas com um n√∫mero vari√°vel de pr√≥ximas esperan√ßas.  Por esse motivo, √© problem√°tico ler o arquivo para processar linha por linha.  Uma sa√≠da √© processar v√°rias correspond√™ncias com um iterador de uma express√£o regular em um arquivo carregado inteiramente em uma vari√°vel de texto. </p><br><p>  Escreveremos express√µes regulares levando em considera√ß√£o os requisitos e restri√ß√µes listados: </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Local and Connected route strings matching. REGEXP_ROUTE_LOCAL_CONNECTED = re.compile( '^(?P&lt;routeType&gt;[L|C])\s+' + '((?P&lt;ipaddress&gt;\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?)' + '\s?' + '(?P&lt;maskOrPrefixLength&gt;(\/\d\d?)?' + '|(\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?)?))' + '\ is\ directly\ connected\,\ ' + '(?P&lt;interface&gt;\S+)', re.MULTILINE ) # Static and dynamic route strings matching. REGEXP_ROUTE = re.compile( '^(\S\S?\*?\s?\S?\S?)' + '\s+' + '((?P&lt;subnet&gt;\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?)' + '\s?' + '(?P&lt;maskOrPrefixLength&gt;(\/\d\d?)?' +'|(\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?)?))' + '\s*' + '(?P&lt;viaPortion&gt;(?:\n?\s+(\[\d\d?\d?\/\d+\])\s+' + 'via\s+(\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?)(.*)\n?)+)', re.MULTILINE )</span></span></code> </pre> <br><p>  Ambas as express√µes cont√™m <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">grupos nomeados</a> para a conveni√™ncia de recuperar dados ao procurar correspond√™ncias e manter o c√≥digo. <br>  Em particular, em cada rota, voc√™ precisa obter um prefixo ( <em>sub-rede</em> / <em>interface</em> e <em>grupos maskOrPrefixLength</em> ) e informa√ß√µes sobre onde ele leva (via <em>Portion</em> / grupos de <em>interface</em> ). </p><br><p>  Como as express√µes levam em conta v√°rias op√ß√µes para representar o prefixo, o grupo <em>maskOrPrefixLength</em> pode conter uma m√°scara de sub-rede ou um comprimento de prefixo.  Reduziremos isso para um √∫nico formato durante o processamento; nos deteremos no comprimento do prefixo: </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">convert_netmask_to_prefix_length</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(mask_or_pref)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> mask_or_pref: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> re.match(<span class="hljs-string"><span class="hljs-string">"^\/\d\d?$"</span></span>, mask_or_pref): <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mask_or_pref <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> re.match(<span class="hljs-string"><span class="hljs-string">"^\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?$"</span></span>, mask_or_pref): <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="hljs-string"><span class="hljs-string">"/"</span></span> + str(sum([bin(int(x)).count(<span class="hljs-string"><span class="hljs-string">"1"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> mask_or_pref.split(<span class="hljs-string"><span class="hljs-string">"."</span></span>)])) ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span></code> </pre> <br><p>  Adicione express√µes regulares para an√°lise de linha a linha do <em>pr√≥ximo salto do</em> grupo <em>viaPortion</em> , verificando o formato dos endere√ßos IPv4 e a entrada do usu√°rio: </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Route string VIA portion matching. REGEXP_VIA_PORTION = re.compile( '.*via\s+(\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?).*' ) # RegEx template string for IPv4 address matching. REGEXP_IPv4_STR = ( '((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.' + '(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.' + '(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.' + '(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))' ) # IPv4 CIDR notation matching in user input. REGEXP_INPUT_IPv4 = re.compile("^" + REGEXP_IPv4_STR + "(\/\d\d?)?$")</span></span></code> </pre> <br><p>  Agora transferimos a representa√ß√£o de nossa rede para estruturas de dados Python. <br>  Os prefixos resultantes da an√°lise de tabelas de roteamento ser√£o usados ‚Äã‚Äãcomo chaves na √°rvore de prefixos.  O objeto da √°rvore de prefixo √© herdado do m√≥dulo <em>SubnetTree</em> . <br>  O resultado da pesquisa por prefixo na √°rvore retornar√° uma lista da lista de pr√≥ximas esperan√ßas e uma representa√ß√£o textual completa da rota correspondente do arquivo original. <br>  Al√©m disso, crie uma lista de interfaces locais. <br>  Cada roteador √© representado por um dicion√°rio, no qual colocamos os dados acima. </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Example data structures route_tree = SubnetTree.SubnetTree() route_tree['subnet'] = ((next_hop_1, next_hop_n), raw_route_string) interface_list = ((interface_1, ip_address_1), (interface_n, ip_address_n)) connected_networks = ((interface_1, subnet_1), (interface_n, subnet_n)) router = { 'routing_table': route_tree, 'interface_list': interface_list, 'connected_networks': connected_networks, }</span></span></code> </pre> <br><p>  N√≥s fazemos uma solicita√ß√£o para a tabela de roteamento em uma fun√ß√£o separada: </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">route_lookup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(destination, router)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> destination <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> router[<span class="hljs-string"><span class="hljs-string">'routing_table'</span></span>]: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> router[<span class="hljs-string"><span class="hljs-string">'routing_table'</span></span>][destination] <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>)</code> </pre> <br><p>  Cada roteador receber√° um identificador exclusivo.  Voc√™ pode atribu√≠-lo de v√°rias maneiras; no exemplo atual, ser√° permitido e claro fazer isso com base no nome do arquivo original. <br>  Como resultado, adicionaremos os objetos do roteador resultantes ao dicion√°rio com a chave na forma desse identificador exclusivo. </p><br><pre> <code class="python hljs">ROUTERS = { <span class="hljs-string"><span class="hljs-string">'router_id_1'</span></span>: router_1, <span class="hljs-string"><span class="hljs-string">'router_id_n'</span></span>: router_n, }</code> </pre> <br><p>  Tamb√©m precisamos de um mecanismo para procurar o pr√≥ximo roteador pelo endere√ßo IP do pr√≥ximo salto, obtido da tabela de roteamento durante a pesquisa de caminho.  Para fazer isso, criamos outra √°rvore de prefixos global com chaves na forma de endere√ßos IP de todos os roteadores conhecidos na topologia e nas folhas retornadas com o identificador do roteador e o tipo de interface. </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Example GLOBAL_INTERFACE_TREE = SubnetTree.SubnetTree() GLOBAL_INTERFACE_TREE['ip_address'] = (router_id, interface_type) # Returns RouterID by Interface IP address which it belongs to. def get_rid_by_interface_ip(interface_ip): if interface_ip in GLOBAL_INTERFACE_TREE: return GLOBAL_INTERFACE_TREE[interface_ip][0]</span></span></code> </pre> <br><p>  Vamos montar o analisador para o formato IOS / IOS-XE / ASA.  Na entrada, passamos a tabela de roteamento em forma de texto; na sa√≠da, obtemos o dicion√°rio do roteador no formato especificado acima. </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse_show_ip_route_ios_like</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(raw_routing_table)</span></span></span><span class="hljs-function">:</span></span> router = {} route_tree = SubnetTree.SubnetTree() interface_list = [] <span class="hljs-comment"><span class="hljs-comment"># Parse Local and Connected route strings in text. for raw_route_string in REGEXP_ROUTE_LOCAL_CONNECTED.finditer(raw_routing_table): subnet = ( raw_route_string.group('ipaddress') + convert_netmask_to_prefix_length( raw_route_string.group('maskOrPrefixLength') ) ) interface = raw_route_string.group('interface') route_tree[subnet] = ((interface,), raw_route_string.group(0)) if raw_route_string.group('routeType') == 'L': interface_list.append((interface, subnet,)) if not interface_list: print('Failed to find routing table entries in given output') return None # parse static and dynamic route strings in text for raw_route_string in REGEXP_ROUTE.finditer(raw_routing_table): subnet = ( raw_route_string.group('subnet') + convert_netmask_to_prefix_length( raw_route_string.group('maskOrPrefixLength') ) ) via_portion = raw_route_string.group('viaPortion') next_hops= [] if via_portion.count('via') &gt; 1: for line in via_portion.splitlines(): if line: next_hops.append(REGEXP_VIA_PORTION.match(line).group(1)) else: next_hops.append(REGEXP_VIA_PORTION.match(via_portion).group(1)) route_tree[subnet] = (next_hops, raw_route_string.group(0)) router = { 'routing_table': route_tree, 'interface_list': interface_list, } return router</span></span></code> </pre> <br><p>  Envolvemos o analisador em outra fun√ß√£o para permitir a adi√ß√£o subseq√ºente de analisadores de outros formatos (por exemplo, NX-OS): </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse_text_routing_table</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(raw_routing_table)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">""" Parser functions wrapper. Add additional parsers for alternative routing table syntaxes here. """</span></span> router = parse_show_ip_route_ios_like(raw_routing_table) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> router: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> router</code> </pre> <br><p>  Portanto, resta examinar os arquivos de texto no diret√≥rio: </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">do_parse_directory</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(rt_directory)</span></span></span><span class="hljs-function">:</span></span> new_routers = {} <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> os.path.isdir(rt_directory): print(<span class="hljs-string"><span class="hljs-string">"{} directory does not exist."</span></span>.format(rt_directory) + <span class="hljs-string"><span class="hljs-string">"Check rt_directory variable value."</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> start_time = time() print(<span class="hljs-string"><span class="hljs-string">"Initializing files..."</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> FILENAME <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> os.listdir(rt_directory): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> FILENAME.endswith(<span class="hljs-string"><span class="hljs-string">'.txt'</span></span>): file_init_start_time = time() <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> open(os.path.join(rt_directory, FILENAME), <span class="hljs-string"><span class="hljs-string">'r'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> f: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">'Opening {}'</span></span>.format(FILENAME)) raw_table = f.read() new_router = parse_text_routing_table(raw_table) router_id = FILENAME.replace(<span class="hljs-string"><span class="hljs-string">'.txt'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> new_router: new_routers[router_id] = new_router <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> new_router[<span class="hljs-string"><span class="hljs-string">'interface_list'</span></span>]: <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> iface, addr <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> new_router[<span class="hljs-string"><span class="hljs-string">'interface_list'</span></span>]: GLOBAL_INTERFACE_TREE[addr]= (router_id, iface,) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">'Failed to parse '</span></span> + FILENAME) <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (FILENAME + <span class="hljs-string"><span class="hljs-string">" parsing has been completed in %s sec"</span></span>.format( <span class="hljs-string"><span class="hljs-string">"{:.3f}"</span></span>.format(time() - file_init_start_time)) ) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> new_routers: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"Could not find any valid .txt files with routing tables"</span></span> + <span class="hljs-string"><span class="hljs-string">" in {} directory"</span></span>.format(rt_directory) ) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"\nAll files have been initialized"</span></span> + <span class="hljs-string"><span class="hljs-string">" in {} sec"</span></span>.format(<span class="hljs-string"><span class="hljs-string">"{:.3f}"</span></span>.format(time() - start_time)) ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> new_routers</code> </pre> <br><p>  E, ap√≥s decompor todos os arquivos em estruturas de dados ordenadas, √© poss√≠vel executar a segunda parte da tarefa. </p><br><h3>  Localizando um Caminho Atrav√©s de Tabelas de Roteamento Processadas </h3><br><p>  Em geral, nesta fase, a tarefa √© reduzida √† an√°lise do gr√°fico de rede.  Roteadores s√£o v√©rtices do gr√°fico, links L3 entre eles s√£o arestas. <br>  O dicion√°rio <em>ROUTERS</em> armazena os identificadores dos roteadores nas chaves e nos valores correspondentes - os links para os endere√ßos IP dos saltos seguintes.  Ou seja, em conjunto com <em>GLOBAL_INTERFACE_TREE</em> , que retorna identificadores de roteador por endere√ßo IP, para cada sub-rede desejada, ele define uma tabela de adjac√™ncia de gr√°fico. </p><br><p>  Se tra√ßarmos paralelos com roteadores reais, para encontrar o caminho necess√°rio para reproduzir a l√≥gica de alto n√≠vel de seu trabalho (abstraindo do RIB / FIB / ASIC e outras otimiza√ß√µes) ao processar um pacote de uma consulta √† tabela de roteamento para a solicita√ß√£o ARP (ou <em>router_id</em> no nosso caso) e roteamento ou solte o pacote, dependendo do resultado. </p><br><p>  Implementamos uma pesquisa de caminho recursivo nos roteadores.  Cada se√ß√£o do caminho ser√° representada por uma folha de <em>router_id</em> e <em>raw_route_string</em> - a sequ√™ncia original da rota.  O caminho atual ser√° gravado na tupla do <em>caminho</em> .  Quando o destino √© alcan√ßado, n√£o h√° rota na tabela de roteamento ou salto seguinte na topologia estudada, o <em>caminho</em> atual ser√° adicionado √†s tuplas de <em>caminhos</em> resultantes, que a fun√ß√£o retornar√°. </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">trace_route</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(source_router_id, target_ip, path=[])</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> source_router_id: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [path + [(<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>)]] current_router = ROUTERS[source_router_id] next_hop, raw_route_string = route_lookup(target_ip, current_router) path = path + [(source_router_id, raw_route_string)] paths = [] <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> next_hop: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> nexthop_is_local(next_hop[<span class="hljs-number"><span class="hljs-number">0</span></span>]): <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [path] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> nh <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> next_hop: next_hop_rid = get_rid_by_interface_ip(nh) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> next_hop_rid <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [r[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> path]: inner_path = trace_route(next_hop_rid, target_ip, path) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> inner_path: paths.append(p) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: path = path + [(next_hop_rid+<span class="hljs-string"><span class="hljs-string">"&lt;&lt;LOOP DETECTED"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [path] <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [path] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> paths <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">nexthop_is_local</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(next_hop)</span></span></span><span class="hljs-function">:</span></span> interface_types = (<span class="hljs-string"><span class="hljs-string">'Eth'</span></span>, <span class="hljs-string"><span class="hljs-string">'Fast'</span></span>, <span class="hljs-string"><span class="hljs-string">'Gig'</span></span>, <span class="hljs-string"><span class="hljs-string">'Ten'</span></span>, <span class="hljs-string"><span class="hljs-string">'Port'</span></span>, <span class="hljs-string"><span class="hljs-string">'Serial'</span></span>, <span class="hljs-string"><span class="hljs-string">'Vlan'</span></span>, <span class="hljs-string"><span class="hljs-string">'Tunn'</span></span>, <span class="hljs-string"><span class="hljs-string">'Loop'</span></span>, <span class="hljs-string"><span class="hljs-string">'Null'</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> type <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> interface_types: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> next_hop.startswith(type): <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span></code> </pre> <br><p>  Adicione uma fun√ß√£o para iniciar a pesquisa no modo interativo ap√≥s a inicializa√ß√£o dos arquivos de texto: </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">do_user_interactive_search</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">'\n'</span></span>) target_subnet = raw_input(<span class="hljs-string"><span class="hljs-string">'Enter Target Subnet or Host: '</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> target_subnet: <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> REGEXP_INPUT_IPv4.match(target_subnet.replace(<span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>)): <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"incorrect input"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span> lookup_start_time = time() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> rtr <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ROUTERS.keys(): subsearch_start_time = time() result = trace_route(rtr, target_subnet) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> result: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"\n"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"PATHS TO {} FROM {}"</span></span>.format(target_subnet, rtr)) n = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">'Detailed info:'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> result: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"Path {}:"</span></span>.format(n)) <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> ([h[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> h <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> r]) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> hop <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> r: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"ROUTER: {}"</span></span>.format(hop[<span class="hljs-number"><span class="hljs-number">0</span></span>])) <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"Matched route string: \n{}"</span></span>.format(hop[<span class="hljs-number"><span class="hljs-number">1</span></span>])) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">'\n'</span></span>) n+=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"Path search on {} has been completed in {} sec"</span></span>.format( rtr, <span class="hljs-string"><span class="hljs-string">"{:.3f}"</span></span>.format(time() - subsearch_start_time)) ) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"\nFull search has been completed in {} sec"</span></span>.format( <span class="hljs-string"><span class="hljs-string">"{:.3f}"</span></span>.format(time() - lookup_start_time),) )</code> </pre> <br><p>  O toque final para combinar as duas partes: </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> ROUTERS ROUTERS = do_parse_directory(RT_DIRECTORY) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ROUTERS: do_user_interactive_search() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">"__main__"</span></span>: main()</code> </pre> <br><p>  E n√≥s temos um c√≥digo pronto para funcionar. </p><br><div class="spoiler">  <b class="spoiler_title">C√≥digo</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> re <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> SubnetTree <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> time <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time <span class="hljs-comment"><span class="hljs-comment"># Path to directory with routing table files. # Each routing table MUST be in separate .txt file. RT_DIRECTORY = "./routing_tables" # RegEx template string for IPv4 address matching. REGEXP_IPv4_STR = ( '((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.' + '(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.' + '(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.' + '(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))' ) # IPv4 CIDR notation matching in user input. REGEXP_INPUT_IPv4 = re.compile("^" + REGEXP_IPv4_STR + "(\/\d\d?)?$") # Local and Connected route strings matching. REGEXP_ROUTE_LOCAL_CONNECTED = re.compile( '^(?P&lt;routeType&gt;[L|C])\s+' + '((?P&lt;ipaddress&gt;\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?)' + '\s?' + '(?P&lt;maskOrPrefixLength&gt;(\/\d\d?)?' + '|(\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?)?))' + '\ is\ directly\ connected\,\ ' + '(?P&lt;interface&gt;\S+)', re.MULTILINE ) # Static and dynamic route strings matching. REGEXP_ROUTE = re.compile( '^(\S\S?\*?\s?\S?\S?)' + '\s+' + '((?P&lt;subnet&gt;\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?)' + '\s?' + '(?P&lt;maskOrPrefixLength&gt;(\/\d\d?)?' +'|(\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?)?))' + '\s*' + '(?P&lt;viaPortion&gt;(?:\n?\s+(\[\d\d?\d?\/\d+\])\s+' + 'via\s+(\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?)(.*)\n?)+)', re.MULTILINE ) # Route string VIA portion matching. REGEXP_VIA_PORTION = re.compile( '.*via\s+(\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?).*' ) # Store for 'router' objects generated from input routing table files. # Each file is represented by single 'router' object. # Router is referenced by Router ID (RID). # RID is filename by default. # Format: # # ROUTERS = { # 'RID1': {'routing_table': {}, 'interface_list': ()}, # 'RID_N': {'routing_table': {}, 'interface_list': ()}, # } # ROUTERS = {} # Global search tree for Interface IP address to Router ID (RID) resolving. # Stores Interface IP addresses as keys. # Returns (RID, interfaceID) list. # Interface IP addresses SHOULD be globally unique across inspected topology. GLOBAL_INTERFACE_TREE = SubnetTree.SubnetTree() def parse_show_ip_route_ios_like(raw_routing_table): """ Parser for routing table text output. Compatible with both Cisco IOS(IOS-XE) 'show ip route' and Cisco ASA 'show route' output format. Processes input text file and writes into Python data structures. Builds internal SubnetTree search tree in 'route_tree'. Generates local interface list for router in 'interface_list' Returns 'router' dictionary object with parsed data. """ router = {} route_tree = SubnetTree.SubnetTree() interface_list = [] # Parse Local and Connected route strings in text. for raw_route_string in REGEXP_ROUTE_LOCAL_CONNECTED.finditer(raw_routing_table): subnet = ( raw_route_string.group('ipaddress') + convert_netmask_to_prefix_length( raw_route_string.group('maskOrPrefixLength') ) ) interface = raw_route_string.group('interface') route_tree[subnet] = ((interface,), raw_route_string.group(0)) if raw_route_string.group('routeType') == 'L': interface_list.append((interface, subnet,)) if not interface_list: print('Failed to find routing table entries in given output') return None # parse static and dynamic route strings in text for raw_route_string in REGEXP_ROUTE.finditer(raw_routing_table): subnet = ( raw_route_string.group('subnet') + convert_netmask_to_prefix_length( raw_route_string.group('maskOrPrefixLength') ) ) via_portion = raw_route_string.group('viaPortion') next_hops= [] if via_portion.count('via') &gt; 1: for line in via_portion.splitlines(): if line: next_hops.append(REGEXP_VIA_PORTION.match(line).group(1)) else: next_hops.append(REGEXP_VIA_PORTION.match(via_portion).group(1)) route_tree[subnet] = (next_hops, raw_route_string.group(0)) router = { 'routing_table': route_tree, 'interface_list': interface_list, } return router def parse_text_routing_table(raw_routing_table): """ Parser functions wrapper. Add additional parsers for alternative routing table syntaxes here. """ router = parse_show_ip_route_ios_like(raw_routing_table) if router: return router def convert_netmask_to_prefix_length(mask_or_pref): """ Gets subnet_mask (XXX.XXX.XXX.XXX) of /prefix_length (/XX). For subnet_mask, converts it to /prefix_length and returns result. For /prefix_length, returns as is. For empty input, returns "" string. """ if not mask_or_pref: return "" if re.match("^\/\d\d?$", mask_or_pref): return mask_or_pref if re.match("^\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?$", mask_or_pref): return ( "/" + str(sum([bin(int(x)).count("1") for x in mask_or_pref.split(".")])) ) return "" def route_lookup(destination, router): """ Performs route_tree lookup in passed router object for passed destination subnet. Returns list of next_hops with original route strings or (None,None) depending on lookup result. """ if destination in router['routing_table']: return router['routing_table'][destination] else: return (None, None) def get_rid_by_interface_ip(interface_ip): """Returns RouterID by Interface IP address which it belongs to.""" if interface_ip in GLOBAL_INTERFACE_TREE: return GLOBAL_INTERFACE_TREE[interface_ip][0] def nexthop_is_local(next_hop): """ Check if nexthop points to local interface. Will be True for Connected and Local route strings on Cisco devices. """ interface_types = ('Eth', 'Fast', 'Gig', 'Ten', 'Port', 'Serial', 'Vlan', 'Tunn', 'Loop', 'Null' ) for type in interface_types: if next_hop.startswith(type): return True def trace_route(source_router_id, target_ip, path=[]): """ Performs recursive path search from source Router ID (RID) to target subnet. Returns tuple of path tuples. Each path tuple contains a sequence of Router IDs with matched route strings. Multiple paths are supported. """ if not source_router_id: return [path + [(None, None)]] current_router = ROUTERS[source_router_id] next_hop, raw_route_string = route_lookup(target_ip, current_router) path = path + [(source_router_id, raw_route_string)] paths = [] if next_hop: if nexthop_is_local(next_hop[0]): return [path] for nh in next_hop: next_hop_rid = get_rid_by_interface_ip(nh) if not next_hop_rid in [r[0] for r in path]: inner_path = trace_route(next_hop_rid, target_ip, path) for p in inner_path: paths.append(p) else: path = path + [(next_hop_rid+"&lt;&lt;LOOP DETECTED", None)] return [path] else: return [path] return paths def do_parse_directory(rt_directory): """ Go through specified directory and parse all .txt files. Generate router objects based on parse result if any. Populate new_routers with those router objects. Default key for each router object is FILENAME. Return new_routers. """ new_routers = {} if not os.path.isdir(rt_directory): print("{} directory does not exist.".format(rt_directory) + "Check rt_directory variable value." ) return None start_time = time() print("Initializing files...") for FILENAME in os.listdir(rt_directory): if FILENAME.endswith('.txt'): file_init_start_time = time() with open(os.path.join(rt_directory, FILENAME), 'r') as f: print ('Opening {}'.format(FILENAME)) raw_table = f.read() new_router = parse_text_routing_table(raw_table) router_id = FILENAME.replace('.txt', '') if new_router: new_routers[router_id] = new_router if new_router['interface_list']: for iface, addr in new_router['interface_list']: GLOBAL_INTERFACE_TREE[addr]= (router_id, iface,) else: print ('Failed to parse ' + FILENAME) print (FILENAME + " parsing has been completed in {} sec".format( "{:.3f}".format(time() - file_init_start_time)) ) else: if not new_routers: print ("Could not find any valid .txt files with routing tables" + " in {} directory".format(rt_directory) ) else: print ("\nAll files have been initialized" + " in {} sec".format("{:.3f}".format(time() - start_time)) ) return new_routers def do_user_interactive_search(): """ Provides interactive search dialog for user. Asks user for target subnet or host in CIDR notation. Validates input. Prints error and goes back to start for invalid input. Executes path search to given target from each router in global ROUTERS. Prints formatted path search result. Goes back to start. """ while True: print ('\n') target_subnet = raw_input('Enter Target Subnet or Host: ') if not target_subnet: continue if not REGEXP_INPUT_IPv4.match(target_subnet.replace(' ', '')): print ("incorrect input") continue lookup_start_time = time() for rtr in ROUTERS.keys(): subsearch_start_time = time() result = trace_route(rtr, target_subnet) if result: print ("\n") print ("PATHS TO {} FROM {}".format(target_subnet, rtr)) n = 1 print ('Detailed info:') for r in result: print ("Path {}:".format(n)) print ([h[0] for h in r]) for hop in r: print ("ROUTER: {}".format(hop[0])) print ("Matched route string: \n{}".format(hop[1])) else: print ('\n') n+=1 else: print ("Path search on {} has been completed in {} sec".format( rtr, "{:.3f}".format(time() - subsearch_start_time)) ) else: print ("\nFull search has been completed in {} sec".format( "{:.3f}".format(time() - lookup_start_time),) ) def main(): global ROUTERS ROUTERS = do_parse_directory(RT_DIRECTORY) if ROUTERS: do_user_interactive_search() if __name__ == "__main__": main()</span></span></code> </pre> </div></div><br><h3>  Verificando o script </h3><br><p>  Armado com uma pequena topologia abstrata dos quatro Cisco <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CSR-1000v</a> : </p><br><img src="https://habrastorage.org/webt/qi/ga/qn/qigaqn1qe-wztcio2uqg9jtbmpe.jpeg"><br><p>  Eles s√£o conectados em pares pelas interfaces GigabitEthernet 2 e 3. Entre elas, existe um bairro EIGRP, atrav√©s do qual todas as redes conectadas s√£o anunciadas, incluindo redes nas interfaces Loopback atr√°s de cada roteador. <br>  Entre o csr1000v-01 e o csr1000v-04, dois t√∫neis GRE s√£o aumentados adicionalmente, por meio dos endere√ßos IP remotos dos quais as rotas est√°ticas para a rede 10.0.0.0/8 s√£o registradas para testar o loop de roteamento. </p><br><div class="spoiler">  <b class="spoiler_title">csr1000v-01 # show ip route</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">Codes: L - <span class="hljs-keyword"><span class="hljs-keyword">local</span></span>, C - connected, S - static, R - RIP, M - mobile, B - BGP D - EIGRP, EX - EIGRP <span class="hljs-keyword"><span class="hljs-keyword">external</span></span>, O - OSPF, IA - OSPF inter area N1 - OSPF NSSA <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, N2 - OSPF NSSA <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> E1 - OSPF <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, E2 - OSPF <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> i - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>, su - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>, L1 - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">level</span></span><span class="hljs-number"><span class="hljs-number">-1</span></span>, L2 - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">level</span></span><span class="hljs-number"><span class="hljs-number">-2</span></span> ia - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> inter area, * - candidate <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>, U - per-<span class="hljs-keyword"><span class="hljs-keyword">user</span></span> static route o - ODR, P - periodic downloaded static route, H - NHRP, l - LISP a - application route + - replicated route, % - next hop override, p - overrides <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> PfR Gateway <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> last resort <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> S <span class="hljs-number"><span class="hljs-number">10.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.142</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.141</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> <span class="hljs-number"><span class="hljs-number">172.16</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">172.16</span></span><span class="hljs-number"><span class="hljs-number">.114</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet2 L <span class="hljs-number"><span class="hljs-number">172.16</span></span><span class="hljs-number"><span class="hljs-number">.114</span></span><span class="hljs-number"><span class="hljs-number">.5</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet2 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet1 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet1 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet2 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet2 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet3 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet3 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">3072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>, GigabitEthernet2 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">3072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>, GigabitEthernet3 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.141</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.141</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Tunnel141 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.141</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Tunnel141 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.142</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.142</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Tunnel142 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.142</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Tunnel142 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Loopback201 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Loopback201 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">130816</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">44</span></span>, GigabitEthernet2 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">130816</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">22</span></span>, GigabitEthernet3 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">131072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>, GigabitEthernet3 [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">131072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>, GigabitEthernet2</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">csr1000v-02 # show ip route</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">Codes: L - <span class="hljs-keyword"><span class="hljs-keyword">local</span></span>, C - connected, S - static, R - RIP, M - mobile, B - BGP D - EIGRP, EX - EIGRP <span class="hljs-keyword"><span class="hljs-keyword">external</span></span>, O - OSPF, IA - OSPF inter area N1 - OSPF NSSA <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, N2 - OSPF NSSA <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> E1 - OSPF <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, E2 - OSPF <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> i - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>, su - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>, L1 - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">level</span></span><span class="hljs-number"><span class="hljs-number">-1</span></span>, L2 - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">level</span></span><span class="hljs-number"><span class="hljs-number">-2</span></span> ia - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> inter area, * - candidate <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>, U - per-<span class="hljs-keyword"><span class="hljs-keyword">user</span></span> static route o - ODR, P - periodic downloaded static route, H - NHRP, l - LISP a - application route + - replicated route, % - next hop override, p - overrides <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> PfR Gateway <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> last resort <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet1 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet1 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet2 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet2 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">3072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">46</span></span>:<span class="hljs-number"><span class="hljs-number">17</span></span>, GigabitEthernet2 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet3 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet3 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">3072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">46</span></span>:<span class="hljs-number"><span class="hljs-number">15</span></span>, GigabitEthernet3 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">130816</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">36</span></span>:<span class="hljs-number"><span class="hljs-number">59</span></span>, GigabitEthernet2 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Loopback202 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Loopback202 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">131072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">31</span></span>, GigabitEthernet3 [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">131072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">31</span></span>, GigabitEthernet2 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">130816</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">37</span></span>:<span class="hljs-number"><span class="hljs-number">26</span></span>, GigabitEthernet3</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">csr1000v-03 # show ip route</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">Codes: L - <span class="hljs-keyword"><span class="hljs-keyword">local</span></span>, C - connected, S - static, R - RIP, M - mobile, B - BGP D - EIGRP, EX - EIGRP <span class="hljs-keyword"><span class="hljs-keyword">external</span></span>, O - OSPF, IA - OSPF inter area N1 - OSPF NSSA <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, N2 - OSPF NSSA <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> E1 - OSPF <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, E2 - OSPF <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> i - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>, su - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>, L1 - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">level</span></span><span class="hljs-number"><span class="hljs-number">-1</span></span>, L2 - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">level</span></span><span class="hljs-number"><span class="hljs-number">-2</span></span> ia - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> inter area, * - candidate <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>, U - per-<span class="hljs-keyword"><span class="hljs-keyword">user</span></span> static route o - ODR, P - periodic downloaded static route, H - NHRP, l - LISP a - application route + - replicated route, % - next hop override, p - overrides <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> PfR Gateway <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> last resort <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet1 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet1 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">3072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">46</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>, GigabitEthernet3 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet3 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet3 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">3072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">46</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>, GigabitEthernet2 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet2 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet2 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">130816</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">36</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>, GigabitEthernet3 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">131072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">51</span></span>, GigabitEthernet2 [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">131072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">51</span></span>, GigabitEthernet3 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Loopback203 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Loopback203 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">130816</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">37</span></span>:<span class="hljs-number"><span class="hljs-number">22</span></span>, GigabitEthernet2</code> </pre> </div></div><br><div class="spoiler"> <b class="spoiler_title">csr1000v-04#show ip route</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">Codes: L - <span class="hljs-keyword"><span class="hljs-keyword">local</span></span>, C - connected, S - static, R - RIP, M - mobile, B - BGP D - EIGRP, EX - EIGRP <span class="hljs-keyword"><span class="hljs-keyword">external</span></span>, O - OSPF, IA - OSPF inter area N1 - OSPF NSSA <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, N2 - OSPF NSSA <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> E1 - OSPF <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, E2 - OSPF <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> i - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>, su - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>, L1 - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">level</span></span><span class="hljs-number"><span class="hljs-number">-1</span></span>, L2 - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">level</span></span><span class="hljs-number"><span class="hljs-number">-2</span></span> ia - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> inter area, * - candidate <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>, U - per-<span class="hljs-keyword"><span class="hljs-keyword">user</span></span> static route o - ODR, P - periodic downloaded static route, H - NHRP, l - LISP a - application route + - replicated route, % - next hop override, p - overrides <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> PfR Gateway <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> last resort <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> S <span class="hljs-number"><span class="hljs-number">10.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.142</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.141</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet1 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet1 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">3072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">46</span></span>:<span class="hljs-number"><span class="hljs-number">17</span></span>, GigabitEthernet3 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">3072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">46</span></span>:<span class="hljs-number"><span class="hljs-number">19</span></span>, GigabitEthernet2 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet3 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet3 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet2 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet2 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.141</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.141</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Tunnel141 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.141</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Tunnel141 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.142</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.142</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Tunnel142 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.142</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Tunnel142 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">131072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">37</span></span>:<span class="hljs-number"><span class="hljs-number">02</span></span>, GigabitEthernet2 [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">131072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">37</span></span>:<span class="hljs-number"><span class="hljs-number">02</span></span>, GigabitEthernet3 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">130816</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">57</span></span>, GigabitEthernet3 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">130816</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span>, GigabitEthernet2 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Loopback204 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Loopback204</code> </pre> </div></div><br><p>    <em>show ip route</em>     - <em>./routing_tables/</em>   : </p><br><div class="spoiler"> <b class="spoiler_title">$ python2.7 traceRouteByShowIPRoute.py</b> <div class="spoiler_text"><pre> <code class="hljs powershell"><span class="hljs-variable"><span class="hljs-variable">$</span></span> python2.<span class="hljs-number"><span class="hljs-number">7</span></span> traceRouteByShowIPRoute.py Initializing files... Opening csr1000v<span class="hljs-literal"><span class="hljs-literal">-01</span></span>.txt csr1000v<span class="hljs-literal"><span class="hljs-literal">-01</span></span>.txt parsing has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.001</span></span> sec Opening csr1000v<span class="hljs-literal"><span class="hljs-literal">-02</span></span>.txt csr1000v<span class="hljs-literal"><span class="hljs-literal">-02</span></span>.txt parsing has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.001</span></span> sec Opening csr1000v<span class="hljs-literal"><span class="hljs-literal">-03</span></span>.txt csr1000v<span class="hljs-literal"><span class="hljs-literal">-03</span></span>.txt parsing has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.001</span></span> sec Opening csr1000v<span class="hljs-literal"><span class="hljs-literal">-04</span></span>.txt csr1000v<span class="hljs-literal"><span class="hljs-literal">-04</span></span>.txt parsing has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.001</span></span> sec All files have been initialized <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.003</span></span> sec Enter Target Subnet or Host:</code> </pre> </div></div><br><p>   , ,   ,  IP-           . <br>             . </p><br><div class="spoiler"> <b class="spoiler_title">   Loopback204 192.168.204.204  csr1000v-04</b> <div class="spoiler_text"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Os caminhos para esse endere√ßo IP devem ser de todos os roteadores dispon√≠veis. </font></font></p><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Digite a sub-rede ou host de destino: 192.168.204.204</font></font></b> <div class="spoiler_text"><pre> <code class="hljs pgsql">Enter Target Subnet <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> Host: <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span> PATHS <span class="hljs-keyword"><span class="hljs-keyword">TO</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> csr1000v<span class="hljs-number"><span class="hljs-number">-04</span></span> Detailed <span class="hljs-keyword"><span class="hljs-keyword">info</span></span>: <span class="hljs-type"><span class="hljs-type">Path</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: [<span class="hljs-string"><span class="hljs-string">'csr1000v-04'</span></span>] ROUTER: csr1000v<span class="hljs-number"><span class="hljs-number">-04</span></span> Matched route string: L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Loopback204 <span class="hljs-type"><span class="hljs-type">Path</span></span> <span class="hljs-keyword"><span class="hljs-keyword">search</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> csr1000v<span class="hljs-number"><span class="hljs-number">-04</span></span> has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.000</span></span> sec PATHS <span class="hljs-keyword"><span class="hljs-keyword">TO</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> csr1000v<span class="hljs-number"><span class="hljs-number">-03</span></span> Detailed <span class="hljs-keyword"><span class="hljs-keyword">info</span></span>: <span class="hljs-type"><span class="hljs-type">Path</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: [<span class="hljs-string"><span class="hljs-string">'csr1000v-03'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-04'</span></span>] ROUTER: csr1000v<span class="hljs-number"><span class="hljs-number">-03</span></span> Matched route string: D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">130816</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">37</span></span>:<span class="hljs-number"><span class="hljs-number">22</span></span>, GigabitEthernet2 ROUTER: csr1000v<span class="hljs-number"><span class="hljs-number">-04</span></span> Matched route string: L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Loopback204 <span class="hljs-type"><span class="hljs-type">Path</span></span> <span class="hljs-keyword"><span class="hljs-keyword">search</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> csr1000v<span class="hljs-number"><span class="hljs-number">-03</span></span> has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.000</span></span> sec PATHS <span class="hljs-keyword"><span class="hljs-keyword">TO</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> csr1000v<span class="hljs-number"><span class="hljs-number">-02</span></span> Detailed <span class="hljs-keyword"><span class="hljs-keyword">info</span></span>: <span class="hljs-type"><span class="hljs-type">Path</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: [<span class="hljs-string"><span class="hljs-string">'csr1000v-02'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-04'</span></span>] ROUTER: csr1000v<span class="hljs-number"><span class="hljs-number">-02</span></span> Matched route string: D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">130816</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">37</span></span>:<span class="hljs-number"><span class="hljs-number">26</span></span>, GigabitEthernet3 ROUTER: csr1000v<span class="hljs-number"><span class="hljs-number">-04</span></span> Matched route string: L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Loopback204 <span class="hljs-type"><span class="hljs-type">Path</span></span> <span class="hljs-keyword"><span class="hljs-keyword">search</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> csr1000v<span class="hljs-number"><span class="hljs-number">-02</span></span> has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.000</span></span> sec PATHS <span class="hljs-keyword"><span class="hljs-keyword">TO</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> csr1000v<span class="hljs-number"><span class="hljs-number">-01</span></span> Detailed <span class="hljs-keyword"><span class="hljs-keyword">info</span></span>: <span class="hljs-type"><span class="hljs-type">Path</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: [<span class="hljs-string"><span class="hljs-string">'csr1000v-01'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-03'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-04'</span></span>] ROUTER: csr1000v<span class="hljs-number"><span class="hljs-number">-01</span></span> Matched route string: D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">131072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>, GigabitEthernet3 [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">131072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>, GigabitEthernet2 ROUTER: csr1000v<span class="hljs-number"><span class="hljs-number">-03</span></span> Matched route string: D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">130816</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">37</span></span>:<span class="hljs-number"><span class="hljs-number">22</span></span>, GigabitEthernet2 ROUTER: csr1000v<span class="hljs-number"><span class="hljs-number">-04</span></span> Matched route string: L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Loopback204 <span class="hljs-type"><span class="hljs-type">Path</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>: [<span class="hljs-string"><span class="hljs-string">'csr1000v-01'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-02'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-04'</span></span>] ROUTER: csr1000v<span class="hljs-number"><span class="hljs-number">-01</span></span> Matched route string: D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">131072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>, GigabitEthernet3 [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">131072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>, GigabitEthernet2 ROUTER: csr1000v<span class="hljs-number"><span class="hljs-number">-02</span></span> Matched route string: D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">130816</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">37</span></span>:<span class="hljs-number"><span class="hljs-number">26</span></span>, GigabitEthernet3 ROUTER: csr1000v<span class="hljs-number"><span class="hljs-number">-04</span></span> Matched route string: L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Loopback204 <span class="hljs-type"><span class="hljs-type">Path</span></span> <span class="hljs-keyword"><span class="hljs-keyword">search</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> csr1000v<span class="hljs-number"><span class="hljs-number">-01</span></span> has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.000</span></span> sec <span class="hljs-keyword"><span class="hljs-keyword">Full</span></span> <span class="hljs-keyword"><span class="hljs-keyword">search</span></span> has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.001</span></span> sec</code> </pre> </div></div><br><p>   ,  .   : </p><br><div class="spoiler"> <b class="spoiler_title">csr1000v-01#show ip route 192.168.204.204</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">csr1000v<span class="hljs-number"><span class="hljs-number">-01</span></span>#<span class="hljs-keyword"><span class="hljs-keyword">show</span></span> ip route <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span> Routing entry <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> Known via "eigrp 200", distance <span class="hljs-number"><span class="hljs-number">90</span></span>, metric <span class="hljs-number"><span class="hljs-number">131072</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-type"><span class="hljs-type">internal</span></span> Redistributing via eigrp <span class="hljs-number"><span class="hljs-number">200</span></span> Last <span class="hljs-keyword"><span class="hljs-keyword">update</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> GigabitEthernet3, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">02</span></span>:<span class="hljs-number"><span class="hljs-number">15</span></span> ago Routing Descriptor Blocks: <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">02</span></span>:<span class="hljs-number"><span class="hljs-number">15</span></span> ago, via GigabitEthernet3 Route metric <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">131072</span></span>, traffic <span class="hljs-keyword"><span class="hljs-keyword">share</span></span> count <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> Total delay <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">5020</span></span> microseconds, minimum bandwidth <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">1000000</span></span> Kbit Reliability <span class="hljs-number"><span class="hljs-number">255</span></span>/<span class="hljs-number"><span class="hljs-number">255</span></span>, minimum MTU <span class="hljs-number"><span class="hljs-number">1500</span></span> bytes Loading <span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">255</span></span>, Hops <span class="hljs-number"><span class="hljs-number">2</span></span> * <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">02</span></span>:<span class="hljs-number"><span class="hljs-number">15</span></span> ago, via GigabitEthernet2 Route metric <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">131072</span></span>, traffic <span class="hljs-keyword"><span class="hljs-keyword">share</span></span> count <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> Total delay <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">5020</span></span> microseconds, minimum bandwidth <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">1000000</span></span> Kbit Reliability <span class="hljs-number"><span class="hljs-number">255</span></span>/<span class="hljs-number"><span class="hljs-number">255</span></span>, minimum MTU <span class="hljs-number"><span class="hljs-number">1500</span></span> bytes Loading <span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">255</span></span>, Hops <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre> </div></div><br><p>  csr1000v-01   equal-cost   EIGRP  csr1000v-02  csr1000v-03. <br>   ,    : ['csr1000v-01', 'csr1000v-03', 'csr1000v-04']  ['csr1000v-01', 'csr1000v-02', 'csr1000v-04']. </p><br><div class="spoiler"> <b class="spoiler_title">csr1000v-02#show ip route 192.168.204.204</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">csr1000v<span class="hljs-number"><span class="hljs-number">-02</span></span>#<span class="hljs-keyword"><span class="hljs-keyword">show</span></span> ip route <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span> Routing entry <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> Known via "eigrp 200", distance <span class="hljs-number"><span class="hljs-number">90</span></span>, metric <span class="hljs-number"><span class="hljs-number">130816</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-type"><span class="hljs-type">internal</span></span> Redistributing via eigrp <span class="hljs-number"><span class="hljs-number">200</span></span> Last <span class="hljs-keyword"><span class="hljs-keyword">update</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> GigabitEthernet3, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">48</span></span> ago Routing Descriptor Blocks: * <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">48</span></span> ago, via GigabitEthernet3 Route metric <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">130816</span></span>, traffic <span class="hljs-keyword"><span class="hljs-keyword">share</span></span> count <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> Total delay <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">5010</span></span> microseconds, minimum bandwidth <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">1000000</span></span> Kbit Reliability <span class="hljs-number"><span class="hljs-number">255</span></span>/<span class="hljs-number"><span class="hljs-number">255</span></span>, minimum MTU <span class="hljs-number"><span class="hljs-number">1500</span></span> bytes Loading <span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">255</span></span>, Hops <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> </div></div><br><div class="spoiler"> <b class="spoiler_title">csr1000v-03#show ip route 192.168.204.204</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">csr1000v<span class="hljs-number"><span class="hljs-number">-3</span></span>#<span class="hljs-keyword"><span class="hljs-keyword">show</span></span> ip route <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span> Routing entry <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> Known via "eigrp 200", distance <span class="hljs-number"><span class="hljs-number">90</span></span>, metric <span class="hljs-number"><span class="hljs-number">130816</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-type"><span class="hljs-type">internal</span></span> Redistributing via eigrp <span class="hljs-number"><span class="hljs-number">200</span></span> Last <span class="hljs-keyword"><span class="hljs-keyword">update</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> GigabitEthernet2, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">45</span></span> ago Routing Descriptor Blocks: * <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">45</span></span> ago, via GigabitEthernet2 Route metric <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">130816</span></span>, traffic <span class="hljs-keyword"><span class="hljs-keyword">share</span></span> count <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> Total delay <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">5010</span></span> microseconds, minimum bandwidth <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">1000000</span></span> Kbit Reliability <span class="hljs-number"><span class="hljs-number">255</span></span>/<span class="hljs-number"><span class="hljs-number">255</span></span>, minimum MTU <span class="hljs-number"><span class="hljs-number">1500</span></span> bytes Loading <span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">255</span></span>, Hops <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> </div></div><br><p>  csr1000v-2  csr1000v-3      EIGRP  csr1000v-4. <br>     ,    : ['csr1000v-02', 'csr1000v-04']  ['csr1000v-03', 'csr1000v-04'] . </p><br><div class="spoiler"> <b class="spoiler_title">csr1000v-04#show ip route 192.168.204.204</b> <div class="spoiler_text"><pre> <code class="hljs swift">csr1000v-<span class="hljs-number"><span class="hljs-number">04</span></span>#show ip route <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">204.204</span></span> <span class="hljs-type"><span class="hljs-type">Routing</span></span> entry <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">204.204</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-type"><span class="hljs-type">Known</span></span> via <span class="hljs-string"><span class="hljs-string">"connected"</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">distance</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>, metric <span class="hljs-number"><span class="hljs-number">0</span></span> (connected) <span class="hljs-type"><span class="hljs-type">Routing</span></span> <span class="hljs-type"><span class="hljs-type">Descriptor</span></span> <span class="hljs-type"><span class="hljs-type">Blocks</span></span>: * directly connected, via <span class="hljs-type"><span class="hljs-type">Loopback204</span></span> <span class="hljs-type"><span class="hljs-type">Route</span></span> metric <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>, traffic share <span class="hljs-built_in"><span class="hljs-built_in">count</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> </div></div><br><p>  csr1000v-4  Connnected    Loopback204. <br>   Local      : ['csr1000v-04']. </p></div></div><br><div class="spoiler"> <b class="spoiler_title">    10.10.10.0/24 (  )</b> <div class="spoiler_text"><div class="spoiler"> <b class="spoiler_title">Enter Target Subnet or Host: 10.10.10.0/24</b> <div class="spoiler_text"><pre> <code class="hljs powershell">Enter Target Subnet or Host: <span class="hljs-number"><span class="hljs-number">10.10</span></span>.<span class="hljs-number"><span class="hljs-number">10.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> PATHS TO <span class="hljs-number"><span class="hljs-number">10.10</span></span>.<span class="hljs-number"><span class="hljs-number">10.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> FROM csr1000v<span class="hljs-literal"><span class="hljs-literal">-04</span></span> Detailed info: Path <span class="hljs-number"><span class="hljs-number">1</span></span>: [<span class="hljs-string"><span class="hljs-string">'csr1000v-04'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-01'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-04&lt;&lt;LOOP DETECTED'</span></span>] ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-04</span></span> Matched route string: S <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">142.1</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">141.1</span></span> ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-01</span></span> Matched route string: S <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">142.2</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">141.2</span></span> ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-04</span></span>&lt;&lt;LOOP DETECTED Matched route string: None Path <span class="hljs-number"><span class="hljs-number">2</span></span>: [<span class="hljs-string"><span class="hljs-string">'csr1000v-04'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-01'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-04&lt;&lt;LOOP DETECTED'</span></span>] ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-04</span></span> Matched route string: S <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">142.1</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">141.1</span></span> ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-01</span></span> Matched route string: S <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">142.2</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">141.2</span></span> ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-04</span></span>&lt;&lt;LOOP DETECTED Matched route string: None Path search on csr1000v<span class="hljs-literal"><span class="hljs-literal">-04</span></span> has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.000</span></span> sec PATHS TO <span class="hljs-number"><span class="hljs-number">10.10</span></span>.<span class="hljs-number"><span class="hljs-number">10.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> FROM csr1000v<span class="hljs-literal"><span class="hljs-literal">-03</span></span> Detailed info: Path <span class="hljs-number"><span class="hljs-number">1</span></span>: [<span class="hljs-string"><span class="hljs-string">'csr1000v-03'</span></span>] ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-03</span></span> Matched route string: None Path search on csr1000v<span class="hljs-literal"><span class="hljs-literal">-03</span></span> has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.000</span></span> sec PATHS TO <span class="hljs-number"><span class="hljs-number">10.10</span></span>.<span class="hljs-number"><span class="hljs-number">10.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> FROM csr1000v<span class="hljs-literal"><span class="hljs-literal">-02</span></span> Detailed info: Path <span class="hljs-number"><span class="hljs-number">1</span></span>: [<span class="hljs-string"><span class="hljs-string">'csr1000v-02'</span></span>] ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-02</span></span> Matched route string: None Path search on csr1000v<span class="hljs-literal"><span class="hljs-literal">-02</span></span> has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.000</span></span> sec PATHS TO <span class="hljs-number"><span class="hljs-number">10.10</span></span>.<span class="hljs-number"><span class="hljs-number">10.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> FROM csr1000v<span class="hljs-literal"><span class="hljs-literal">-01</span></span> Detailed info: Path <span class="hljs-number"><span class="hljs-number">1</span></span>: [<span class="hljs-string"><span class="hljs-string">'csr1000v-01'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-04'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-01&lt;&lt;LOOP DETECTED'</span></span>] ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-01</span></span> Matched route string: S <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">142.2</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">141.2</span></span> ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-04</span></span> Matched route string: S <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">142.1</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">141.1</span></span> ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-01</span></span>&lt;&lt;LOOP DETECTED Matched route string: None Path <span class="hljs-number"><span class="hljs-number">2</span></span>: [<span class="hljs-string"><span class="hljs-string">'csr1000v-01'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-04'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-01&lt;&lt;LOOP DETECTED'</span></span>] ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-01</span></span> Matched route string: S <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">142.2</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">141.2</span></span> ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-04</span></span> Matched route string: S <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">142.1</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">141.1</span></span> ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-01</span></span>&lt;&lt;LOOP DETECTED Matched route string: None Path search on csr1000v<span class="hljs-literal"><span class="hljs-literal">-01</span></span> has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.003</span></span> sec Full search has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.004</span></span> sec</code> </pre> </div></div><br><p>  . <br>   : </p><br><div class="spoiler"> <b class="spoiler_title">csr1000v-01#show ip route 10.10.10.0 255.255.255.0</b> <div class="spoiler_text"><pre> <code class="hljs swift">csr1000v-<span class="hljs-number"><span class="hljs-number">01</span></span>#show ip route <span class="hljs-number"><span class="hljs-number">10.10</span></span>.<span class="hljs-number"><span class="hljs-number">10.0</span></span> <span class="hljs-number"><span class="hljs-number">255.255</span></span>.<span class="hljs-number"><span class="hljs-number">255.0</span></span> <span class="hljs-type"><span class="hljs-type">Routing</span></span> entry <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-type"><span class="hljs-type">Known</span></span> via <span class="hljs-string"><span class="hljs-string">"static"</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">distance</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, metric <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-type"><span class="hljs-type">Routing</span></span> <span class="hljs-type"><span class="hljs-type">Descriptor</span></span> <span class="hljs-type"><span class="hljs-type">Blocks</span></span>: * <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">142.2</span></span> <span class="hljs-type"><span class="hljs-type">Route</span></span> metric <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>, traffic share <span class="hljs-built_in"><span class="hljs-built_in">count</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">141.2</span></span> <span class="hljs-type"><span class="hljs-type">Route</span></span> metric <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>, traffic share <span class="hljs-built_in"><span class="hljs-built_in">count</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> </div></div><br><div class="spoiler"> <b class="spoiler_title">csr1000v-04#show ip route 10.10.10.0 255.255.255.0</b> <div class="spoiler_text"><pre> <code class="hljs swift">csr1000v-<span class="hljs-number"><span class="hljs-number">04</span></span>#show ip route <span class="hljs-number"><span class="hljs-number">10.10</span></span>.<span class="hljs-number"><span class="hljs-number">10.0</span></span> <span class="hljs-number"><span class="hljs-number">255.255</span></span>.<span class="hljs-number"><span class="hljs-number">255.0</span></span> <span class="hljs-type"><span class="hljs-type">Routing</span></span> entry <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-type"><span class="hljs-type">Known</span></span> via <span class="hljs-string"><span class="hljs-string">"static"</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">distance</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, metric <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-type"><span class="hljs-type">Routing</span></span> <span class="hljs-type"><span class="hljs-type">Descriptor</span></span> <span class="hljs-type"><span class="hljs-type">Blocks</span></span>: <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">142.1</span></span> <span class="hljs-type"><span class="hljs-type">Route</span></span> metric <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>, traffic share <span class="hljs-built_in"><span class="hljs-built_in">count</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> * <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">141.1</span></span> <span class="hljs-type"><span class="hljs-type">Route</span></span> metric <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>, traffic share <span class="hljs-built_in"><span class="hljs-built_in">count</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> </div></div><br><p>  csr1000v-01  csr1000v-04       GRE-        10.0.0.0/8.       . <br>       : </p><br><pre> <code class="hljs 1c">PATHS TO <span class="hljs-number"><span class="hljs-number">10.10</span></span>.<span class="hljs-number"><span class="hljs-number">10.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> FROM csr1000v-<span class="hljs-number"><span class="hljs-number">01</span></span> Path <span class="hljs-number"><span class="hljs-number">1</span></span>: ['csr<span class="hljs-number"><span class="hljs-number">1000</span></span>v-01', 'csr<span class="hljs-number"><span class="hljs-number">1000</span></span>v-04', 'csr<span class="hljs-number"><span class="hljs-number">1000</span></span>v-01&lt;&lt;LOOP DETECTED'] Path <span class="hljs-number"><span class="hljs-number">2</span></span>: ['csr<span class="hljs-number"><span class="hljs-number">1000</span></span>v-01', 'csr<span class="hljs-number"><span class="hljs-number">1000</span></span>v-04', 'csr<span class="hljs-number"><span class="hljs-number">1000</span></span>v-01&lt;&lt;LOOP DETECTED'] PATHS TO <span class="hljs-number"><span class="hljs-number">10.10</span></span>.<span class="hljs-number"><span class="hljs-number">10.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> FROM csr1000v-<span class="hljs-number"><span class="hljs-number">04</span></span> Path <span class="hljs-number"><span class="hljs-number">1</span></span>: ['csr<span class="hljs-number"><span class="hljs-number">1000</span></span>v-04', 'csr<span class="hljs-number"><span class="hljs-number">1000</span></span>v-01', 'csr<span class="hljs-number"><span class="hljs-number">1000</span></span>v-04&lt;&lt;LOOP DETECTED'] Path <span class="hljs-number"><span class="hljs-number">2</span></span>: ['csr<span class="hljs-number"><span class="hljs-number">1000</span></span>v-04', 'csr<span class="hljs-number"><span class="hljs-number">1000</span></span>v-01', 'csr<span class="hljs-number"><span class="hljs-number">1000</span></span>v-04&lt;&lt;LOOP DETECTED']</code> </pre> <br><div class="spoiler"> <b class="spoiler_title">csr1000v-02#show ip route 10.10.10.0 255.255.255.0</b> <div class="spoiler_text"><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">csr1000v-02</span></span><span class="hljs-selector-id"><span class="hljs-selector-id">#show</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ip</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">route</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.10</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.10</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 255<span class="hljs-selector-class"><span class="hljs-selector-class">.255</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.255</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> % <span class="hljs-selector-tag"><span class="hljs-selector-tag">Network</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">not</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">in</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">table</span></span></code> </pre> </div></div><br><div class="spoiler"> <b class="spoiler_title">csr1000v-3#show ip route 10.10.10.0 255.255.255.0</b> <div class="spoiler_text"><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">csr1000v-3</span></span><span class="hljs-selector-id"><span class="hljs-selector-id">#show</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ip</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">route</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.10</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.10</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 255<span class="hljs-selector-class"><span class="hljs-selector-class">.255</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.255</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> % <span class="hljs-selector-tag"><span class="hljs-selector-tag">Network</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">not</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">in</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">table</span></span></code> </pre> </div></div><br><p>  csr1000v-02  csr1000v-03     .     . </p></div></div><br><p>   ,            ,      ,    . </p><br><h3>  Conclus√£o </h3><br><p>       ,             .   MacBook Pro  Intel Core i5  8GB RAM          700.000+     6.85 (  100 ).        320-350. <br>               (       ). </p><br><p>       . IPv6   <em>SubnetTree</em> . <br>     Python3, ,   <em>raw_input</em>  <em>input</em> . </p><br><p>      ,              ,          ‚Äî   , "  "  , " ",     .. </p><br><p>       Policy Based Routing ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PBR</a> )       . ,     . </p><br><p> , -     . <br>  ,    . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt414043/">https://habr.com/ru/post/pt414043/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt414025/index.html">Os empregadores rastreiam computadores, viagens ao banheiro e agora tamb√©m emo√ß√µes; Seu chefe segue voc√™?</a></li>
<li><a href="../pt414027/index.html">Meus amigos podem ser considerados verdadeiros amigos?</a></li>
<li><a href="../pt414029/index.html">Luz misteriosa ao redor de uma estrela rec√©m-formada, e o que os astr√¥nomos pensam sobre ela</a></li>
<li><a href="../pt414031/index.html">Ap√≥s a reuni√£o "Novos recursos do PostgreSQL 11"</a></li>
<li><a href="../pt414037/index.html">Uma vez em uma empresa HFT ...</a></li>
<li><a href="../pt414045/index.html">Regulamento: nos Estados Unidos, as empresas dever√£o notificar vazamentos de PD dentro de 30 dias</a></li>
<li><a href="../pt414047/index.html">Como fazer uma poderosa escada Jacob a partir de um transformador de microondas com suas pr√≥prias m√£os</a></li>
<li><a href="../pt414049/index.html">Os principais jogos da E3 2018: Fallout 76, Metro Exodus, Doom Eternal e outros</a></li>
<li><a href="../pt414053/index.html">5 equ√≠vocos sobre o GDPR</a></li>
<li><a href="../pt414055/index.html">Trans-PRK: um dos padr√µes de corre√ß√£o da vis√£o</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>