<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏿‍🔧 🕺 🧘🏼 适用于初学者的PHP。 错误处理 🏂🏾 👌🏼 💃🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="只有不做任何事的人不会犯错，我们就是一个例子-我们坐着不倦地工作，请阅读《哈伯书》 :) 

 在本文中，我将介绍有关PHP错误以及如何抑制错误的故事。 

 失误 
 错误系列中的各种 
 在驯服错误之前，我建议研究每个物种，并分别注意最聪明的代表。 

 为了防止单个错误被忽略，您需要使用err...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>适用于初学者的PHP。 错误处理</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/440744/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/18b/c9c/5d5/18bc9c5d5f043226c41b3db5fcb1b839.png" alt="图片"></div><br> 只有不做任何事的人不会犯错，我们就是一个例子-我们坐着不倦地工作，请阅读《哈伯书》 :) <br><br> 在本文中，我将介绍有关PHP错误以及如何抑制错误的故事。 <br><a name="habracut"></a><br><h2> 失误 </h2><br><h3> 错误系列中的各种 </h3><br> 在驯服错误之前，我建议研究<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">每个物种，</a>并分别注意最聪明的代表。 <br><br> 为了防止单个错误被忽略，您需要使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">error_reporting（）</a>函数并使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">display_errors</a>伪指令启用对所有错误的显示，以跟踪所有错误： <br><br><pre><code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> error_reporting(E_ALL); ini_set(<span class="hljs-string"><span class="hljs-string">'display_errors'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre> <br><h4> 致命错误 </h4><br> 最可怕的错误类型是致命的，它们可能在编译期间以及在解析器或PHP脚本的工作期间发生，而脚本被中断。 <br><br>  <strong>E_PARSE</strong> <br><br> 当您犯了严重的语法错误，并且PHP解释器无法理解您想要的内容时，例如，如果您没有关闭花括号或括号，则会出现此错误： <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">/** * Parse error: syntax error, unexpected end of file */</span></span> {</code> </pre><br> 或者他们用一种难以理解的语言写着： <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">/** * Parse error: syntax error, unexpected '...' (T_STRING) */</span></span>    </code> </pre><br> 也会出现多余的括号，但不是很重要的圆形或卷曲： <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">/** * Parse error: syntax error, unexpected '}' */</span></span> }</code> </pre><br> 我注意到一个要点-将不会执行解析错误所在的文件的代码，因此，如果您尝试在发生解析器错误的同一文件中打开错误显示，则将无法正常工作： <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">//     error_reporting(E_ALL); ini_set('display_errors', 1); // ..    </span></span></code> </pre><br>  <strong>E_ERROR</strong> <br><br> 当PHP理解了您想要的内容后，就会出现此错误，但是由于多种原因，该错误无法解决。 此错误还会中断脚本的执行，并且代码将在错误出现之前起作用： <br><br> 找不到插件： <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Fatal error: require_once(): Failed opening required 'not-exists.php' * (include_path='.:/usr/share/php:/usr/share/pear') */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">require_once</span></span> <span class="hljs-string"><span class="hljs-string">'not-exists.php'</span></span>;</code> </pre><br> 引发了异常（什么样的野兽，我稍后再告诉您），但未处理： <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Fatal error: Uncaught exception 'Exception' */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>();</code> </pre><br> 尝试调用不存在的类方法时： <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Fatal error: Call to undefined method stdClass::notExists() */</span></span> $stdClass = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> stdClass(); $stdClass-&gt;notExists();</code> </pre><br> 缺少可用内存（超过<a href="">memory_limit</a>指令中规定的数量）或其他类似内容： <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Fatal Error: Allowed Memory Size */</span></span> $arr = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) { $arr[] = str_pad(<span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-number"><span class="hljs-number">1024</span></span>); }</code> </pre><br><blockquote> 读取或下载大文件时非常常见，因此请注意内存消耗问题 </blockquote> 递归函数调用。 在此示例中，它在第256次迭代时结束，因为它是<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在xdebug设置中</a>这样编写<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">的</a> （是的，仅当启用xdebug扩展名时，此错误才能以这种形式出现）： <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Fatal error: Maximum function nesting level of '256' reached, aborting! */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">deep</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ deep(); } deep();</code> </pre><br><h4> 不致命 </h4><br> 该视图不会中断脚本的执行，但通常是测试人员找到它们。 此类错误对新手开发人员造成了最大的麻烦。 <br><br>  <strong>E_WARNING</strong> <br><br> 当您使用<code>include</code>连接文件时，通常会发生这种情况，但它不会出现在服务器上，或者您在输入文件路径时出错： <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Warning: include_once(): Failed opening 'not-exists.php' for inclusion */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">include_once</span></span> <span class="hljs-string"><span class="hljs-string">'not-exists.php'</span></span>;</code> </pre><br> 如果在调用函数时使用了错误的参数类型，则会发生这种情况： <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Warning: join(): Invalid arguments passed */</span></span> join(<span class="hljs-string"><span class="hljs-string">'string'</span></span>, <span class="hljs-string"><span class="hljs-string">'string'</span></span>);</code> </pre><br> 它们很多，列出所有内容都没有意义... <br><br>  <strong>E_NOTICE</strong> <br><br> 这些是最常见的错误，此外，还有风扇会关闭错误输出并将其整天铆牢。 有许多琐碎的错误。 <br><br> 访问未定义的变量时： <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Notice: Undefined variable: a */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $a;</code> </pre><br> 访问不存在的数组元素时： <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Notice: Undefined index: a */</span></span> $b = []; $b[<span class="hljs-string"><span class="hljs-string">'a'</span></span>];</code> </pre><br> 当访问不存在的常量时： <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Notice: Use of undefined constant UNKNOWN_CONSTANT - assumed 'UNKNOWN_CONSTANT' */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> UNKNOWN_CONSTANT;</code> </pre><br> 不转换数据类型时： <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Notice: Array to string conversion */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>();</code> </pre><br> 为避免此类错误，请小心，如果IDE告诉您一些信息，请不要忽略它： <br><br><img src="https://habrastorage.org/getpro/habr/post_images/269/72e/f7f/26972ef7f88d757afd966ddb080a2e83.png" alt="PHPStorm中的PHP E_NOTICE" width="367" height="68"><br><br>  <strong>E_STRICT</strong> <br><br> 这些错误将教您正确编写代码，以免感到羞耻，特别是因为IDE立即向您显示这些错误。 例如，如果您将非静态方法称为静态方法，则代码可以正常工作，但是在某种程度上是错误的，并且如果将来更改类方法，则可能会发生严重错误，并且对<code>$this</code>的吸引力出现了： <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Strict standards: Non-static method Strict::test() should not be called statically */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Strict</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Test"</span></span>; } } Strict::test();</code> </pre><br><br><blockquote> 此类错误与PHP 5.6版本有关，几乎所有错误都已删除。 <br>  7场比赛。 在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">相关的RFC中</a>阅读更多内容。 如果有人知道这些错误仍然存​​在，请在注释中写 </blockquote><br><br>  <strong>E_DEPRECATED</strong> <br><br> 因此，如果您使用过时的功能（即标记为已弃用的功能，并且它们不会在下一个主要版本中使用），PHP将会发誓： <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Deprecated: Function split() is deprecated */</span></span> <span class="hljs-comment"><span class="hljs-comment">//  ,   PHP 7.0 //    PHP 5.3 split(',', 'a,b');</span></span></code> </pre><br> 在我的编辑器中，类似的功能将被删除： <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9d1/6f8/670/9d16f8670d27cee56cbed1433a913ee4.png" alt="PHPStorm中的PHP E_DEPRECATED" width="367" height="72"><br><br><h4> 自订 </h4><br> 代码开发人员自己“繁殖”的这种类型，很长时间以来我都没有看到过，并且不建议您滥用它们： <br><br><ul><li>  <code>E_USER_ERROR</code>严重错误 </li><li>  <code>E_USER_WARNING</code>不是严重错误 </li><li>  <code>E_USER_NOTICE</code>不是错误的消息 </li></ul><br> 另外，值得一提的是<code>E_USER_DEPRECATED</code>仍然经常使用此类型来提醒程序员方法或函数已过时，现在是不使用而重写代码的时候了。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">trigger_error（）</a>函数用于创建此错误和类似错误： <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@deprecated</span></span></span><span class="hljs-comment"> Deprecated since version 1.2, to be removed in 2.0 */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">generateToken</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ trigger_error(<span class="hljs-string"><span class="hljs-string">'Function `generateToken` is deprecated, use class `Token` instead'</span></span>, E_USER_DEPRECATED); <span class="hljs-comment"><span class="hljs-comment">// ... // code ... // ... }</span></span></code> </pre><br><blockquote> 既然您已经熟悉了大多数类型的错误，现在该对<code>display_errors</code>指令的操作进行简短的解释了： <br><br><ul><li> 如果<code>display_errors = on</code> ，则在出现错误的情况下，浏览器将接收带有错误文本和代码200的html </li><li> 如果<code>display_errors = off</code> ，则对于致命错误，响应代码将为500，并且不会将结果返回给用户；对于其他错误，该代码将无法正常工作，但不会告诉任何人 </li></ul><br></blockquote><br><h3> 驯服 </h3><br> 有3个函数可用于处理PHP中的错误： <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">set_error_handler（）</a> -为不会中断脚本的错误设置处理程序（即针对非致命错误） </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">error_get_last（）</a> -获取有关上一个错误的信息 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">register_shutdown_function（）</a> -注册一个在脚本结束时将启动的处理程序。 此函数不适用于错误处理程序，但通常用于此目的。 </li></ul><br> 现在，有关使用<code>set_error_handler()</code>错误处理的一些详细信息，作为该函数的参数，该函数接受将被分配用于处理错误的任务的函数的名称以及将要监视<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">的错误</a>的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">类型</a> 。 错误处理程序也可以是类方法或匿名函数，主要是它采用以下参数列表： <br><br><ul><li>  <code>$errno</code>第一个参数包含错误类型的整数 </li><li>  <code>$errstr</code>第二个参数包含错误消息 </li><li>  <code>$errfile</code>可选的第三个参数，包含发生错误的文件的名称 </li><li>  <code>$errline</code>可选的第四个参数包含发生错误的行号 </li><li>  <code>$errcontext</code>可选的第五个参数包含发生错误的作用域中存在的所有变量的数组 </li></ul><br> 如果处理程序返回<code>true</code> ，那么该错误将被视为已处理并且脚本将继续执行，否则，将调用记录该错误的标准处理程序，并根据其类型继续执行脚本或完成该脚本。 这是一个示例处理程序： <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">//    ,  E_NOTICE error_reporting(E_ALL &amp; ~E_NOTICE); ini_set('display_errors', 1); //    function myHandler($level, $message, $file, $line, $context) { //         switch ($level) { case E_WARNING: $type = 'Warning'; break; case E_NOTICE: $type = 'Notice'; break; default; //   E_WARNING   E_NOTICE //      //      PHP return false; } //    echo "&lt;h2&gt;$type: $message&lt;/h2&gt;"; echo "&lt;p&gt;&lt;strong&gt;File&lt;/strong&gt;: $file:$line&lt;/p&gt;"; echo "&lt;p&gt;&lt;strong&gt;Context&lt;/strong&gt;: $". join(', $', array_keys($context))."&lt;/p&gt;"; // ,    ,      return true; } //   ,         set_error_handler('myHandler', E_ALL);</span></span></code> </pre><br><blockquote> 尽管我非常想为每种类型的错误注册我自己的处理程序，但是您将不能分配多个函数来处理错误，但是不能-编写一个处理程序，并直接在其中描述每种类型的整个显示逻辑 </blockquote> 上面编写的处理程序存在一个重要问题-它不会捕获致命错误，并且由于此类错误，用户只能看到空白页，甚至更糟的是错误消息，而不是站点。 为了防止出现这种情况，您应该使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">register_shutdown_function</a> （）函数，并使用它来注册一个始终在脚本末尾执行的函数： <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">shutdown</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'    '</span></span>; } register_shutdown_function(<span class="hljs-string"><span class="hljs-string">'shutdown'</span></span>);</code> </pre><br> 此功能将始终有效！ <br><br> 但是回到错误，要跟踪错误代码中错误的出现，我们使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">error_get_last（）</a>函数，借助它的帮助，您可以获得有关最后检测到的错误的信息，并且由于致命错误会中断代码的执行，因此它们始终会扮演“最后”的角色： <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">shutdown</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $error = error_get_last(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( <span class="hljs-comment"><span class="hljs-comment">//       is_array($error) &amp;&amp; //       in_array($error['type'], [E_ERROR, E_PARSE, E_CORE_ERROR, E_COMPILE_ERROR]) ) { //    (       ) while (ob_get_level()) { ob_end_clean(); } //    echo "    ,  "; } } register_shutdown_function('shutdown');</span></span></code> </pre> <br><blockquote> 我想提请注意一个事实，即该代码甚至发生在错误处理中，您甚至可能遇到过，但是自PHP的第7版以来，它就失去了相关性。 我将在稍后讲述替换的内容。 </blockquote><div class="spoiler">  <b class="spoiler_title">工作任务</b> <div class="spoiler_text"> 在发生错误的文件的源代码输出中补充致命错误处理程序，并在输出代码中添加语法高亮显示。 <br></div></div><br><h3> 关于暴食 </h3><br> 让我们做一个简单的测试，找出最琐碎的错误消耗了多少宝贵的资源： <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** *      */</span></span> <span class="hljs-comment"><span class="hljs-comment">//     $time= microtime(true); define('AAA', 'AAA'); $arr = []; for ($i = 0; $i &lt; 10000; $i++) { $arr[AAA] = $i; } printf('%f seconds &lt;br/&gt;', microtime(true) - $time);</span></span></code> </pre><br> 运行此脚本的结果是，我得到了以下结果： <br><br><pre> <code class="bash hljs">0.002867 seconds</code> </pre><br> 现在在循环中添加错误： <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** *     */</span></span> <span class="hljs-comment"><span class="hljs-comment">//     $time= microtime(true); $arr = []; for ($i = 0; $i &lt; 10000; $i++) { $arr[BBB] = $i; //   ,      } printf('%f seconds &lt;br/&gt;', microtime(true) - $time);</span></span></code> </pre><br> 预期结果会更糟，并达到一个数量级（甚至两个数量级！）： <br><br><pre> <code class="bash hljs">0.263645 seconds</code> </pre><br>  <strong>结论很明显-代码中的错误导致脚本过于繁琐-因此请在应用程序开发和测试过程中打开所有错误的显示！</strong> <br><blockquote> 测试是在各种版本的PHP上进行的，各地的差异都是数十倍，因此，这是修复代码中所有错误的另一个原因。 </blockquote><br><h3> 那只狗埋在哪里 </h3><br>  PHP有一个特殊的符号“ @”-一个错误抑制运算符，用于不编写错误处理，而是在这种情况下依赖于PHP的正确行为： <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> @UNKNOWN_CONSTANT;</code> </pre><br> 在这种情况下，仍将调用<code>set_error_handler()</code>指定的错误处理程序，并且可以通过在处理程序中调用<code>error_reporting()</code>函数来跟踪对错误进行抑制的事实，在这种情况下它将返回<code>0</code> 。 <br><blockquote> 如果您以这种方式抑制错误，则与仅隐藏它们相比（参见上面的比较测试），这将减少处理器的负载，但是无论如何， <strong>抑制错误是有害的</strong> </blockquote><div class="spoiler">  <b class="spoiler_title">工作任务</b> <div class="spoiler_text"> 检查使用<code>@</code>错误抑制如何影响前面的循环示例。 <br></div></div><br><h2> 例外情况 </h2><br><blockquote> 在PHP4时代，没有例外，一切都变得更加复杂，开发人员竭尽所能地与错误搏斗，这不是一场为了生而死的战斗...您可以在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Exceptional Code</a>一文中深入探讨这个令人着迷的对峙故事<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">。</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第一部分</a> 我现在应该阅读吗？ 我无法给出确切的答案，我只想指出，这将帮助您理解语言的发展，并揭示异常的所有魅力。 </blockquote> 异常是PHP中的异常事件，与错误不同，它们不仅指出问题，而且要求程序员采取其他措施来处理每种特定情况。 <br><br> 例如，如果出现错误（没有写访问权，没有磁盘空间），生成了相应类型的异常并在异常处理程序中做出了决定，则脚本应将一些数据保存到缓存文件中-保存到其他位置或通知用户有关问题。 <br><br> 异常是<code>Exception</code>类或它的许多后代之一的对象，它包含错误文本，状态，并且还可能包含指向另一个已成为其根本原因的异常的链接。  PHP中的异常模型与其他编程语言中使用的异常模型相似。 可以使用<code>throw</code>运算符引发异常（如他们所说的“ throw”），并且您可以捕捉（“ catch”） <code>catch</code>语句。 引发异常的代码必须由<code>try</code>块包围，以便捕获异常。 每个<code>try</code>块必须至少具有一个匹配的<code>catch</code>或<code>finally</code>块： <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">//      if (random_int(0, 1)) { throw new Exception("One"); } echo "Zero" } catch (Exception $e) { //      echo $e-&gt;getMessage(); }</span></span></code> </pre><br> 在这种情况下，值得使用异常： <br><br><ul><li> 如果在一个方法/函数的框架内有多个操作可能会失败 </li><li> 如果您的框架或库声明其使用 </li></ul><br> 为了说明第一种情况，让我们以一个已经有人表达过的将数据写入文件的功能示例为例-许多因素可能会阻止我们，并且为了在上面的代码中明确说明问题出在哪里，您需要创建并抛出异常： <br><br><pre> <code class="php hljs">$directory = <span class="hljs-keyword"><span class="hljs-keyword">__DIR__</span></span> . DIRECTORY_SEPARATOR . <span class="hljs-string"><span class="hljs-string">'logs'</span></span>; <span class="hljs-comment"><span class="hljs-comment">//     if (!is_dir($directory)) { throw new Exception('Directory `logs` is not exists'); } //         if (!is_writable($directory)) { throw new Exception('Directory `logs` is not writable'); } //  -   ,      if (!$file = @fopen($directory . DIRECTORY_SEPARATOR . date('Ym-d') . '.log', 'a+')) { throw new Exception('System can\'t create log file'); } fputs($file, date("[H:i:s]") . " done\n"); fclose($file);</span></span></code> </pre><br> 因此，我们将捕获以下异常： <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">//      // ... } catch (Exception $e) { //    echo " : ". $e-&gt;getMessage(); }</span></span></code> </pre><br> 这个例子展示了一个非常简单的异常处理场景，当我们以一种方式处理任何异常时。 但是通常，各种异常需要不同的处理方式，然后应使用异常代码并在应用程序中设置异常的层次结构： <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//    class FileSystemException extends Exception {} //     class DirectoryException extends FileSystemException { //   const DIRECTORY_NOT_EXISTS = 1; const DIRECTORY_NOT_WRITABLE = 2; } //     class FileException extends FileSystemException {}</span></span></code> </pre><br> 现在，如果使用这些异常，则可以获取以下代码： <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">//      if (!is_dir($directory)) { throw new DirectoryException('Directory `logs` is not exists', DirectoryException::DIRECTORY_NOT_EXISTS); } if (!is_writable($directory)) { throw new DirectoryException('Directory `logs` is not writable', DirectoryException::DIRECTORY_NOT_WRITABLE); } if (!$file = @fopen($directory . DIRECTORY_SEPARATOR . date('Ym-d') . '.log', 'a+')) { throw new FileException('System can\'t open log file'); } fputs($file, date("[H:i:s]") . " done\n"); fclose($file); } catch (DirectoryException $e) { echo "   : ". $e-&gt;getMessage(); } catch (FileException $e) { echo "   : ". $e-&gt;getMessage(); } catch (FileSystemException $e) { echo "  : ". $e-&gt;getMessage(); } catch (Exception $e) { echo " : ". $e-&gt;getMessage(); }</span></span></code> </pre><br> 重要的是要记住，异常主要是一个例外事件，换句话说就是规则的异常。 您不需要使用它们来处理明显的错误，例如，验证用户输入（尽管这不是那么简单）。 在这种情况下，应将异常处理程序写在能够处理异常处理程序的位置。 例如，用于处理由于文件不可访问而导致的异常的处理程序应该位于负责选择文件的方法或调用该文件的方法中，以便它可以选择另一个文件或另一个目录。 <br><br> 那么，如果您没有捕获到异常，将会发生什么？ 您将收到“致命错误：未捕获的异常...”。 不愉快 <br><br> 为了避免这种情况，您应该使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">set_exception_handler（）</a>函数，并为抛出在try-catch块之外并且尚未处理的异常设置处理程序。 调用此类处理程序后，脚本执行将停止： <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//     //     set_exception_handler(function($exception) { /** @var Exception $exception */ echo $exception-&gt;getMessage(), "&lt;br/&gt;\n"; echo $exception-&gt;getFile(), ':', $exception-&gt;getLine(), "&lt;br/&gt;\n"; echo $exception-&gt;getTraceAsString(), "&lt;br/&gt;\n"; });</span></span></code> </pre><br> 我还将向您介绍使用<code>finally</code>块进行的构造-无论是否引发异常，都将执行此块： <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">//      } catch (Exception $e) { //      //     } finally { // ,       }</span></span></code> </pre><br> 为了理解这给了我们什么，我将给出以下使用<code>finally</code>块的示例： <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">// -    //     $handler = mysqli_connect('localhost', 'root', '', 'test'); try { //        // ... throw new Exception('DB error'); } catch (Exception $e) { //  ,     //     ,    throw new Exception('Catch exception', 0, $e); } finally { // ,      //      finally mysqli_close($handler); } //     ,       echo "Ok"; } catch (Exception $e) { //  ,    echo $e-&gt;getMessage(); echo "&lt;br/&gt;"; //      echo $e-&gt;getPrevious()-&gt;getMessage(); }</span></span></code> </pre><br> 即 请记住-即使您在<code>catch</code>块上方抛出异常，也会执行<code>finally</code>块（实际上，这就是他的意图）。 <br><br> 对于恰到好处的入门信息文章，谁渴望获得更多详细信息，您可以在文章<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Exceptional code</a> ;）中找到它们。 <br><br><div class="spoiler">  <b class="spoiler_title">工作任务</b> <div class="spoiler_text"> 编写您的异常处理程序，并在其中显示发生错误的文件的文本输出，并使用语法突出显示所有这些内容，同时不要忘记以可读的形式显示跟踪。 作为参考，请看它在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">whoops</a>上有多酷。 <br></div></div><br><h3>  PHP7-一切都不尽如人意 </h3><br> 因此，现在您已经了解了上面的所有信息，现在我将向您介绍PHP7中的创新，即<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我将讨论在现代PHP项目中工作时遇到的问题。</font><font style="vertical-align: inherit;">之前，我告诉过您，并举例说明了您需要构建哪个拐杖才能捕获关键错误，因此-在PHP7中，他们决定修复它，但是？</font><font style="vertical-align: inherit;">和往常一样？</font><font style="vertical-align: inherit;">绑定到代码的向后兼容性，并获得了虽然是通用的解决方案，但远非理想。</font><font style="vertical-align: inherit;">现在关于更改的要点：</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当类型的</font></font><code>E_ERROR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">致命错误或致命错误发生并可能处理</font></font><code>E_RECOVERABLE_ERROR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PHP时引发异常</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些异常</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不会</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">继承</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exception</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类</font><font style="vertical-align: inherit;">（请记住，我谈到过向后兼容性，这全都是出于她的缘故）</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些异常继承</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">Error</font></a><font style="vertical-align: inherit;">类</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exception和Error类均实现</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">Throwable</font></a><font style="vertical-align: inherit;">接口</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 您不能在代码中实现throwable接口 </font></font></li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该界面</font></font><code>Throwable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">几乎完全重复了我们</font></font><code>Exception</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Throwable</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getMessage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCode</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">int</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getFile</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getLine</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">int</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getTrace</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">array</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getTraceAsString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getPrevious</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Throwable</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__toString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span>; }</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有困难吗？</font><font style="vertical-align: inherit;">现在以示例为例，以较高和稍作现代化的示例为例：</font></font><br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">// ,     include 'e_parse_include.php'; } catch (Error $e) { var_dump($e); }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 结果，我们发现了错误并打印： </font></font><br><br><pre> <code class="bash hljs">object(ParseError)<span class="hljs-comment"><span class="hljs-comment">#1 (7) { ["message":protected] =&gt; string(48) "syntax error, unexpected '' (T_STRING)" ["string":"Error":private] =&gt; string(0) "" ["code":protected] =&gt; int(0) ["file":protected] =&gt; string(49) "/www/education/error/e_parse_include.php" ["line":protected] =&gt; int(4) ["trace":"Error":private] =&gt; array(0) { } ["previous":"Error":private] =&gt; NULL }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如您所见，他们捕获了</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ParseError</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常</font><font style="vertical-align: inherit;">，该异常</font></font><code>Error</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font><code>Throwable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Jack所建房屋中</font><font style="vertical-align: inherit;">实现接口</font><font style="vertical-align: inherit;">的异常的后继者</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">还有许多其他例外，但我不会折磨-为了清楚起见，我将给出例外的层次结构：</font></font><br><br><pre> <code class="bash hljs">interface Throwable |- Exception implements Throwable | |- ErrorException extends Exception | |- ... extends Exception | `- ... extends Exception `- Error implements Throwable |- TypeError extends Error |- ParseError extends Error |- ArithmeticError extends Error | `- DivisionByZeroError extends ArithmeticError `- AssertionError extends Error</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还有更多细节：</font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TypeError-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当函数参数的类型与传入的类型不匹配时发生错误：</font></font><br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(int $one, int $two)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; })(<span class="hljs-string"><span class="hljs-string">'one'</span></span>, <span class="hljs-string"><span class="hljs-string">'two'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (TypeError $e) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $e-&gt;getMessage(); }</code> </pre><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ArithmeticError-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能在数学运算期间发生，例如，当计算结果超过为整数分配的限制时：</font></font><br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;&lt; <span class="hljs-number"><span class="hljs-number">-1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (ArithmeticError $e) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $e-&gt;getMessage(); }</code> </pre><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DivisionByZeroError-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除以零错误：</font></font><br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-number"><span class="hljs-number">1</span></span> / <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (ArithmeticError $e) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $e-&gt;getMessage(); }</code> </pre><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AssertionError-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">assert（）中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定的条件</font><font style="vertical-align: inherit;">不满足</font><font style="vertical-align: inherit;">时出现的罕见野兽</font><font style="vertical-align: inherit;">：</font></font><br><br><pre> <code class="php hljs">ini_set(<span class="hljs-string"><span class="hljs-string">'zend.assertions'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); ini_set(<span class="hljs-string"><span class="hljs-string">'assert.exception'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { assert(<span class="hljs-number"><span class="hljs-number">1</span></span> === <span class="hljs-number"><span class="hljs-number">0</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (AssertionError $e) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $e-&gt;getMessage(); }</code> </pre><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在设置生产服务器指令</font></font><code>zend.assertions</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>assert.exception</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">切断，这是正确的</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以在</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">官方手册</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中找到与</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SPL例外</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相同层次的</font><font style="vertical-align: inherit;">预定义例外的完整列表</font><font style="vertical-align: inherit;">。</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工作任务</font></font></b> <div class="spoiler_text"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 为PHP7编写一个通用错误处理程序，它将捕获所有可能的异常。 </font></font><br></div></div><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在编写本节时，</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用了PHP 7中的Throwable Exceptions and Errors中的材料</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></blockquote><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 均匀度 </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-有错误，异常，但是所有这些都可以以某种方式提升到堆上吗？</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是的，这很容易，我们只有</font></font><code>set_error_handler()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个人，没有人会禁止我们在此处理程序中抛出异常：</font></font><br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//     function errorHandler($severity, $message, $file = null, $line = null) { //  ,       @ if (error_reporting() === 0) { return false; } throw new \ErrorException($message, 0, $severity, $file, $line); } //   -  set_error_handler('errorHandler', E_ALL);</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是PHP7的这种方法是多余的，现在它可以处理所有事情</font></font><code>Throwable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">/** ... **/</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (\Throwable $e) { <span class="hljs-comment"><span class="hljs-comment">//      echo $e-&gt;getMessage(); }</span></span></code> </pre><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 侦错 </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有时，要调试代码，您需要在特定阶段跟踪变量或对象发生了什么，为此，有一个函数</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">debug_backtrace（）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">debug_print_backtrace（）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将以相反的顺序返回对函数/方法的调用历史记录：</font></font><br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">example</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'&lt;pre&gt;'</span></span>; debug_print_backtrace(); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'&lt;/pre&gt;'</span></span>; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ExampleClass</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">method</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ example(); } } ExampleClass::method();</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为函数执行的结果，</font></font><code>debug_print_backtrace()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将显示导致我们到达这一点的调用列表：</font></font><br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#0 example() called at [/www/education/error/backtrace.php:10] #1 ExampleClass::method() called at [/www/education/error/backtrace.php:14]</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以使用</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">php_check_syntax（）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数</font><font style="vertical-align: inherit;">或命令</font><font style="vertical-align: inherit;">来检查代码中的语法错误</font></font><code>php -l [  ]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但是我还没有看到它们的用法。</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 断言 </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我还想谈谈</font><font style="vertical-align: inherit;">PHP中的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">assert（）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这样的奇特野兽</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">实际上，这可以看作是合同编程方法的模仿，然后我将告诉您我从未使用过它的方法:)</font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该函数</font></font><code>assert()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在从5.6版过渡到7.0版的过程中改变了其行为，而在7.2版中，所有功能都变得更加强大，因此请仔细阅读changelogs和PHP;）</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 第一种情况是您需要直接在代码中编写TODO，以免忘记实现给定的功能： </font></font><br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//  asserts  php.ini // zend.assertions=1 assert(false, "Remove it!");</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过执行此代码，我们得到</font></font><code>E_WARNING</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br><br><pre> <code class="bash hljs">Warning: assert(): Remove it! failed</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PHP7可以切换到异常模式，并且不会出现错误，而是会始终显示异常</font></font><code>AssertionError</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//    «» ini_set('assert.exception', 1); assert(false, "Remove it!");</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果，我们期望出现异常</font></font><code>AssertionError</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如有必要，可以抛出一个任意异常：</font></font><br><br><pre> <code class="php hljs">assert(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>(<span class="hljs-string"><span class="hljs-string">"Remove it!"</span></span>));</code> </pre><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我建议使用标签</font></font><code>@TODO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，现代IDE可以很好地与它们一起使用，并且尽管与它们“打分”的诱惑很大，但您无需花费额外的精力和资源来使用它们。</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二个用例是创建某种TDD，但是请记住，这只是一个相似之处。</font><font style="vertical-align: inherit;">虽然，如果您努力尝试，可能会得到有趣的结果，这将有助于测试代码：</font></font><br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// callback-      function backlog($script, $line, $code, $message) { echo $message; } //  callback- assert_options(ASSERT_CALLBACK, 'backlog'); //    assert_options(ASSERT_WARNING, false); //      assert(sqr(4) === 16, 'When I send integer, function should return square of it'); // ,   function sqr($a) { return; //    }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 第三种选择是一种合同编程，当您描述了使用库的规则时，但是您想确保自己被正确理解，并且在这种情况下，请立即告诉开发人员一个错误（我什至不确定我是否正确理解了它，而是一个示例。该代码是相当有效的）： </font></font><br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** *        * * [ * 'host' =&gt; 'localhost', * 'port' =&gt; 3306, * 'name' =&gt; 'dbname', * 'user' =&gt; 'root', * 'pass' =&gt; '' * ] * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> $settings */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setupDb</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($settings)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   assert(isset($settings['host']), 'Db `host` is required'); assert(isset($settings['port']) &amp;&amp; is_int($settings['port']), 'Db `port` is required, should be integer'); assert(isset($settings['name']), 'Db `name` is required, should be integer'); //    // ... } setupDb(['host' =&gt; 'localhost']);</span></span></code> </pre><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您对合同感兴趣，那么专门为您提供</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PhpDeal</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">框架的</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">链接</font></a><font style="vertical-align: inherit;">。</font></font></blockquote><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">切勿使用它</font></font><code>assert()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来检查输入参数，因为实际上它会</font></font><code>assert()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解释第一个参数（表现为</font></font><code>eval()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），并且这会引起PHP注入。</font><font style="vertical-align: inherit;">是的，这是正确的行为，因为如果您禁用断言，那么所有传递的参数都将被忽略，并且如果您按照上述示例中的操作进行操作，则将执行代码，并且执行的布尔结果将在禁用的断言中传递。</font><font style="vertical-align: inherit;">哦，它在PHP 7.2中发生了变化:)</font></font></blockquote><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您有使用的现场经验</font></font><code>assert()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-与我分享，我将不胜感激。</font><font style="vertical-align: inherit;">是的，这是关于该主题的另一篇有趣的读物</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-PHP断言</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，末尾有相同的问题：）</font></font><br><br><h2> 总结 </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 我将为您写这篇文章的结论： </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 消除错误-它们不应出现在您的代码中 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 使用例外-与他们一起工作需要妥善组织，并且会有快乐 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 断言-很好地了解了它们 </font></font></li></ul><br><h3> 聚苯乙烯 </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转贴</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了一系列的文章«PHP初学者“的：</font></font><br><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会议</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">档案连线</font></font></a> </li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误处理</font></font></b> </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您对文章的材料或形式有意见，请在评论中描述要点，我们将使材料变得更好。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">感谢</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maxim Slesarenko</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">撰写本文的帮助。</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN440744/">https://habr.com/ru/post/zh-CN440744/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN440732/index.html">使用贝加尔湖T1处理器升级调试板：添加SD卡</a></li>
<li><a href="../zh-CN440734/index.html">春季启动中的公开会议：幻影威胁</a></li>
<li><a href="../zh-CN440736/index.html">我用代码审查破坏了开发人员的生活，对不起</a></li>
<li><a href="../zh-CN440740/index.html">公开网络研讨会“客户旅程：什么流量和领导何处”</a></li>
<li><a href="../zh-CN440742/index.html">AMP和Turbo页面：优点，缺点和实施结果</a></li>
<li><a href="../zh-CN440746/index.html">Gartner的知识管理技术循环使用KnowledgeConf的案例研究</a></li>
<li><a href="../zh-CN440748/index.html">世界上最快的超级计算机打破了AI记录</a></li>
<li><a href="../zh-CN440752/index.html">用户请求优先级选择</a></li>
<li><a href="../zh-CN440754/index.html">跨平台的英语实用程序，用于查看俄罗斯合格证书x509</a></li>
<li><a href="../zh-CN440756/index.html">AWS上的无服务器CI / CD</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>