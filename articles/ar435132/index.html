<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ใ๏ธ โ๏ธ ๐ ุงูุจุฏูู: ุงููุดุงูู ูุงูุญููู โน๏ธ ๐ โ๏ธ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุฃูู ุฎุฏูุฉ ูู ุงูุจุฏูู ุงูุฃููู ุฃุทููุช ูู ุณุจุชูุจุฑ 2016. ูู ุงูููุช ุงูุญุงูู ุ ุงุณุชุฎุฏูู ููุจุฑูุฌ ูุฏุนู ููุณุคูู ุนู ูุฌููุนุชู Nomad - ุฃุญุฏููุง "ููุฒูู" ููุดุงุฑูุนู ุงูุดุฎุตูุฉ (6 ุฃุฌู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงูุจุฏูู: ุงููุดุงูู ูุงูุญููู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435132/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุฃูู ุฎุฏูุฉ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุจุฏูู</a> ุงูุฃููู ุฃุทููุช ูู ุณุจุชูุจุฑ 2016.  ูู ุงูููุช ุงูุญุงูู ุ ุงุณุชุฎุฏูู ููุจุฑูุฌ ูุฏุนู ููุณุคูู ุนู ูุฌููุนุชู Nomad - ุฃุญุฏููุง "ููุฒูู" ููุดุงุฑูุนู ุงูุดุฎุตูุฉ (6 ุฃุฌูุฒุฉ ุงูุชุฑุงุถูุฉ ุตุบูุฑุฉ ูู Hetzner Cloud ู ArubaCloud ูู 5 ูุฑุงูุฒ ุจูุงูุงุช ูุฎุชููุฉ ูู ุฃูุฑูุจุง) ูุงูุซุงูู ูุนูู ูุงุญุฏูุง (ุญูุงูู 40 ุฎุงุฏููุง ูุนูููุง ููุงุฏููุง ุฎุงุตูุง) ูู ุงุซููู ูู ูุฑุงูุฒ ุงูุจูุงูุงุช). </p><br><p style=";text-align:right;direction:rtl">  ุนูู ูุฑ ุงูุฒูู ุงููุงุถู ุ ุชุฑุงููุช ุงููุซูุฑ ูู ุงูุฎุจุฑุฉ ูุน ุจูุฆุฉ ูููุงุฏ ุ ูู ุงูููุงู ุณูู ุฃุตู ุงููุดุงูู ุงูุชู ูุงุฌูุชูุง ูููุงุฏ ูููููุฉ ุงูุชุนุงูู ูุนูุง. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/k5/9m/pp/k59mpp5iyvtxtj2q9nrvthzpelo.jpeg"><br>  <em>ูุฌุนู Yamal nomad ุฎุฏูุฉ ุงูุชุณููู ุงููุณุชูุฑ ููุซุงู ูุจุฑูุงูุฌ National Geographic Russia</em> </p><a name="habracut"></a><br><h2 id="1-kolichestvo-servernyh-nod-na-odin-datacentr" style=";text-align:right;direction:rtl">  1. ุนุฏุฏ ุนูุฏ ุงูุฎุงุฏู ููู ูุฑูุฒ ุจูุงูุงุช </h2><br><p style=";text-align:right;direction:rtl">  <strong>ุงูุญู: ุนูุฏุฉ ุฎุงุฏู ูุงุญุฏุฉ ุชููู ููุฑูุฒ ุจูุงูุงุช ูุงุญุฏ.</strong> </p><br><p style=";text-align:right;direction:rtl">  ูุง ุชุดูุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุซุงุฆู</a> ุจูุถูุญ ุฅูู ุนุฏุฏ ุนูุฏ ุงูุฎุงุฏู ุงููุทููุจุฉ ูู ูุฑูุฒ ุจูุงูุงุช ูุงุญุฏ.  ูุดุงุฑ ููุท ุฅูู ุฃู ููุงู ุญุงุฌุฉ ุฅูู 3-5 ุงูุนูุฏ ููู ููุทูุฉ ุ ููู ุฃูุฑ ููุทูู ูุชูุงูู ุจุฑูุชูููู ุงูุทูุงูุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/go/yt/gu/goytgumjr0zxxqodicboxfgipze.png"></p><br><p style=";text-align:right;direction:rtl">  ูู ุงูุจุฏุงูุฉ ุ ุฎุทุทุช ูุนูุฏ 2-3 ุฎูุงุฏู ูู ูู ูุฑูุฒ ุจูุงูุงุช ูุชูููุฑ ุงูุชูุฑุงุฑ. </p><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุงุณุชุฎุฏุงูู ุงุชุถุญ: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฐุง ุจุจุณุงุทุฉ ุบูุฑ ูุทููุจ ุ ูุฃูู ูู ุญุงูุฉ ูุดู ุงูุนูุฏุฉ ูู ูุฑูุฒ ุงูุจูุงูุงุช ุ ุณูุชู ูุนุจ ุฏูุฑ ุนูุฏุฉ ุงูุฎุงุฏู ููููุงุก ูุฑูุฒ ุงูุจูุงูุงุช ูุฐุง ุจูุงุณุทุฉ ุนูุฏุงุช ุฎุงุฏู ุฃุฎุฑู ูู ุงูููุทูุฉ. </li><li style=";text-align:right;direction:rtl">  ุงุชุถุญ ุฃูู ุฅุฐุง ูู ูุชู ุญู ุงููุดููุฉ 8.  ุนูุฏ ุฅุนุงุฏุฉ ุงูุชุฎุงุจ ุงููุนุงูุฌ ุ ูููู ุฃู ุชุญุฏุซ ุญุงูุงุช ุนุฏู ุชูุงุณู ูุณูุนุงุฏ Nomad ุฅุนุงุฏุฉ ุชุดุบูู ุฌุฒุก ูู ุงูุฎุฏูุงุช. </li></ol><br><h2 id="2-resursy-servera-dlya-servernoy-nody" style=";text-align:right;direction:rtl">  2. ููุงุฑุฏ ุงูุฎุงุฏู ูุนูุฏุฉ ุงูุฎุงุฏู </h2><br><p style=";text-align:right;direction:rtl">  <strong>ุงูุญู: ุฌูุงุฒ ุธุงูุฑู ุตุบูุฑ ูููู ูุนูุฏุฉ ุงูุฎุงุฏู.</strong>  <strong>ุนูู ููุณ ุงูุฎุงุฏู ุ ููุณูุญ ุจุชุดุบูู ุฎุฏูุงุช ุฃุฎุฑู ุบูุฑ ูุซููุฉ ุงูุงุณุชุฎุฏุงู ููููุงุฑุฏ.</strong> </p><br><p style=";text-align:right;direction:rtl">  ูุนุชูุฏ ุงุณุชููุงู ุฐุงูุฑุฉ ุงูุจุฑูุงูุฌ ุงูุฎูู ุนูู ุนุฏุฏ ุงูููุงู ููุฏ ุงูุชุดุบูู.  ุงุณุชููุงู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ - ุงุณุชูุงุฏูุง ุฅูู ุนุฏุฏ ุงูููุงู ูุนุฏุฏ ุงูุฎูุงุฏู / ุงููููุงุก ูู ุงูููุทูุฉ (ูููุณ ุฎุทููุง). </p><br><p style=";text-align:right;direction:rtl">  ูู ุญุงูุชูุง: ุจุงููุณุจุฉ ูู 300 ูููุฉ ููุฏ ุงูุชุดุบูู ุ ูุจูุบ ุงุณุชููุงู ุงูุฐุงูุฑุฉ ุญูุงูู 500 ููุฌุงุจุงูุช ููุนูุฏุฉ ุงูุฑุฆูุณูุฉ ุงูุญุงููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูู ูุฌููุนุฉ ุงูุนูู ุ ุฌูุงุฒ ุงูุชุฑุงุถู ูุนูุฏุฉ ุงูุฎุงุฏู: 4 ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุ 6 ุฌูุฌุงุจุงูุช ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู. <br>  ุฃุทููุช ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู: ุงูููุตู ุ Etcd ุ ุงููุฏูู. </p><br><h2 id="3-konsensus-pri-nehvatke-datacentrov" style=";text-align:right;direction:rtl">  3. ุฅุฌูุงุน ุนูู ููุต ูุฑุงูุฒ ุงูุจูุงูุงุช </h2><br><p style=";text-align:right;direction:rtl">  <strong>ุงูุญู: ูุตูุน ุซูุงุซุฉ ูุฑุงูุฒ ุจูุงูุงุช ุงูุชุฑุงุถูุฉ ูุซูุงุซุฉ ุนูุฏ ุฎุงุฏู ููุฑูุฒูู ููุจูุงูุงุช ุงููุนููุฉ.</strong> </p><br><p style=";text-align:right;direction:rtl">  ูุนุชูุฏ ุนูู ูููุงุฏ ูู ุงูููุทูุฉ ุนูู ุจุฑูุชูููู ุงูุทูุงูุฉ.  ููุชุดุบูู ุงูุตุญูุญ ุ ุชุญุชุงุฌ ุฅูู 3 ุนูุฏ ุฎุงุฏู ุนูู ุงูุฃูู ูู ูุฑุงูุฒ ุจูุงูุงุช ูุฎุชููุฉ.  ุณูููู ูุฐุง ุงูุนูููุฉ ุงูุตุญูุญุฉ ูุน ููุฏ ูุงูู ููุงุชุตุงู ุจุงูุดุจูุฉ ูุน ุฃุญุฏ ูุฑุงูุฒ ุงูุจูุงูุงุช. </p><br><p style=";text-align:right;direction:rtl">  ูููู ูุฏููุง ุงุซููู ููุท ูู ูุฑุงูุฒ ุงูุจูุงูุงุช.  ูุชูุตู ุฅูู ุญู ูุณุท: ูุฎุชุงุฑ ูุฑูุฒ ุจูุงูุงุช ุ ูุซู ุจู ุฃูุซุฑ ุ ููุตูุน ุนูุฏุฉ ุฎุงุฏู ุฅุถุงููุฉ ููู.  ูููู ุจุฐูู ุนู ุทุฑูู ุฅุฏุฎุงู ูุฑูุฒ ุจูุงูุงุช ุงูุชุฑุงุถู ุฅุถุงูู ุ ูุงูุฐู ุณูููู ููุฌูุฏูุง ูุนูููุง ูู ููุณ ูุฑูุฒ ุงูุจูุงูุงุช (ุงูุธุฑ ุงูููุฑุฉ ุงููุฑุนูุฉ 2 ูู ุงููุดููุฉ 1). </p><br><p style=";text-align:right;direction:rtl">  <strong>ุงูุญู ุงูุจุฏูู: ููุณู ูุฑุงูุฒ ุงูุจูุงูุงุช ุฅูู ููุงุทู ูููุตูุฉ.</strong> </p><br><p style=";text-align:right;direction:rtl">  ููุชูุฌุฉ ูุฐูู ุ ุชุนูู ูุฑุงูุฒ ุงูุจูุงูุงุช ุจุดูู ูุณุชูู ููุง ููุฒู ุงูุฅุฌูุงุน ุฅูุง ุฏุงุฎู ูุฑูุฒ ุจูุงูุงุช ูุงุญุฏ.  ุฏุงุฎู ูุฑูุฒ ุงูุจูุงูุงุช ุ ูู ูุฐู ุงูุญุงูุฉ ุ ูู ุงูุฃูุถู ุฅูุดุงุก 3 ูุญุฏุงุช ุฎุงุฏู ุนู ุทุฑูู ุชุทุจูู ุซูุงุซุฉ ูุฑุงูุฒ ุจูุงูุงุช ุงูุชุฑุงุถูุฉ ูู ูุงุญุฏุฉ ูุนููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ุงูุฎูุงุฑ ุฃูู ููุงุกูุฉ ูุชูุฒูุน ุงูููุงู ุ ููููู ูููุฑ ุถูุงููุง ุจูุณุจุฉ 100ูช ูุงุณุชููุงููุฉ ุงูุฎุฏูุงุช ูู ุญุงูุฉ ุญุฏูุซ ูุดุงูู ูู ุงูุดุจูุฉ ุจูู ูุฑุงูุฒ ุงูุจูุงูุงุช. </p><br><h2 id="4-server-i-agent-na-odnom-servere" style=";text-align:right;direction:rtl">  4. "ุงูุฎุงุฏู" ู "ุงููููู" ุนูู ููุณ ุงูุฎุงุฏู </h2><br><p style=";text-align:right;direction:rtl">  <strong>ุงูุญู: ุตุงูุญ ุฅุฐุง ูุงู ูุฏูู ุนุฏุฏ ูุญุฏูุฏ ูู ุงูุฎูุงุฏู.</strong> </p><br><p style=";text-align:right;direction:rtl">  ุงููุซุงุฆู ุงูุจุฏููุฉ ุชููู ุฃู ุงูููุงู ุจุฐูู ุฃูุฑ ุบูุฑ ูุฑุบูุจ ููู.  ูููู ุฅุฐุง ูู ุชูู ูุฏูู ุงููุฑุตุฉ ูุชุฎุตูุต ุฃุฌูุฒุฉ ุงูุชุฑุงุถูุฉ ูููุตูุฉ ูุนููุฏ ุงูุฎุงุฏู ุ ูููููู ูุถุน ุงูุฎูุงุฏู ูุนูุฏ ุงููููุงุก ุนูู ููุณ ุงูุฎุงุฏู. </p><br><p style=";text-align:right;direction:rtl">  ุงูุชุดุบูู ูู ููุณ ุงูููุช ูุนูู ุจุฏุก ุชุดุบูู ุงูุจุฑูุงูุฌ ุงูุฎูู ููุจุฏุงุฆู ูู ูุถุน ุงูุนููู ููุถุน ุงูุฎุงุฏู. </p><br><p style=";text-align:right;direction:rtl">  ูุงุฐุง ููุฏุฏ ูุฐุงุ  ูุน ุงูุญูู ุงูุซููู ุนูู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ููุฐุง ุงูุฎุงุฏู ุ ุณุชุนูู ุนูุฏุฉ ุฎุงุฏู Nomad ุจุดูู ุบูุฑ ูุณุชูุฑ ุ ูููุฏุงู ุงูุฅุฌูุงุน ููุจุถุงุช ุงูููุจ ุ ูุนูููุงุช ุฅุนุงุฏุฉ ุชุญููู ุงูุฎุฏูุฉ ููููุฉ. <br>  ูุชุฌูุจ ุฐูู ุ ูููู ุจุฒูุงุฏุฉ ุงูุญุฏูุฏ ูู ูุตู ุงููุดููุฉ ุฑูู 8. </p><br><h2 id="5-realizaciya-prostranstv-imyon-namespaces" style=";text-align:right;direction:rtl">  5. ุชูููุฐ ูุณุงุญุงุช ุงูุฃุณูุงุก </h2><br><p style=";text-align:right;direction:rtl">  <strong>ุงูุญู: ุฑุจูุง ูู ุฎูุงู ุชูุธูู ูุฑูุฒ ุจูุงูุงุช ุงูุชุฑุงุถู.</strong> </p><br><p style=";text-align:right;direction:rtl">  ูู ุจุนุถ ุงูุฃุญูุงู ุชุญุชุงุฌ ุฅูู ุชุดุบูู ุฌุฒุก ูู ุงูุฎุฏูุงุช ุนูู ุฎูุงุฏู ูููุตูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุงูุญู ูู ุงูุฃูู ุ ุงูุจุณูุท ุ ููููู ุฃูุซุฑ ุทูุจูุง ุนูู ุงูููุงุฑุฏ.  ููุณู ุฌููุน ุงูุฎุฏูุงุช ุฅูู ูุฌููุนุงุช ููููุง ููุบุฑุถ ูููุง: ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ุ ุงููุงุฌูุฉ ุงูุฎูููุฉ ุ ... ุฅุถุงูุฉ ุณูุงุช ูุตููุฉ ุฅูู ุงูุฎูุงุฏู ุ ููุตู ุงูุฎุตุงุฆุต ุงููุฑุงุฏ ุชุดุบูููุง ูุฌููุน ุงูุฎุฏูุงุช. </p><br><p style=";text-align:right;direction:rtl">  ุงูุญู ุงูุซุงูู ุจุณูุท.  ูุถูู ุฎูุงุฏู ุฌุฏูุฏุฉ ุ ููุตู ุณูุงุช ุงูุชุนุฑูู ุงูุฎุงุตุฉ ุจูุง ุ ููุตู ุณูุงุช ุงูุฅุทูุงู ูุฐู ุนูู ุงูุฎุฏูุงุช ุงูุถุฑูุฑูุฉ ุ ุจูููุง ุชูุฑุถ ุฌููุน ุงูุฎุฏูุงุช ุงูุฃุฎุฑู ุญุธุฑุงู ุนูู ุงูุชุดุบูู ุนูู ุงูุฎูุงุฏู ุจูุฐู ุงูุณูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุงูุญู ุงูุซุงูุซ ูุนูุฏ.  ูููู ุจุฅูุดุงุก ูุฑูุฒ ุจูุงูุงุช ุงูุชุฑุงุถู: ูู ุจุฅุทูุงู ุงูููุตู ููุฑูุฒ ุจูุงูุงุช ุฌุฏูุฏ ุ ูุฅุทูุงู ุนูุฏุฉ ุฎุงุฏู Nomad ููุฑูุฒ ุงูุจูุงูุงุช ูุฐุง ุ ุฏูู ุฃู ููุณู ุนุฏุฏ ุนูุฏ ุงูุฎุงุฏู ููุฐู ุงูููุทูุฉ.  ููููู ุงูุขู ุชุดุบูู ุงูุฎุฏูุงุช ุงููุฑุฏูุฉ ูู ูุฑูุฒ ุงูุจูุงูุงุช ุงูุงูุชุฑุงุถู ุงููุฎุตุต ูุฐุง. </p><br><h2 id="6-integraciya-s-vault" style=";text-align:right;direction:rtl">  6. ุงูุชูุงูู ูุน ุงููุฏูู </h2><br><p style=";text-align:right;direction:rtl">  <strong>ุงูุญู: ุชุฌูุจ ุงูุจุฏูู &lt;-&gt; ูุจู ุฏุงุฆุฑูุฉ ุงูุชุจุนูุงุช.</strong> </p><br><p style=";text-align:right;direction:rtl">  ูุง ููุจุบู ุฃู ุชุญุชูู Vault Launched ุนูู ุฃู ุชุจุนูุงุช ุนูู Nomad.  ููุถู ุฃู ูุดูุฑ ุนููุงู Vault ุงููุณุฌูู ูู Nomad ูุจุงุดุฑุฉู ุฅูู Vault ุ ุฏูู ุทุจูุงุช ูู ุงูููุงุฒูุงุช (ูููู ุตุงูุญุฉ).  ูููู ุฅุฌุฑุงุก ุญุฌุฒ ุงููุฏูู ูู ูุฐู ุงูุญุงูุฉ ุนุจุฑ DNS - ููุตู DNS ุฃู ุฎุงุฑุฌู. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุชูุช ูุชุงุจุฉ ุจูุงูุงุช Vault ูู ูููุงุช ุงูุชูููู Nomad ุ ูุฅู Nomad ูุญุงูู ุงููุตูู ุฅูู Vault ุนูุฏ ุจุฏุก ุงูุชุดุบูู.  ุฅุฐุง ูุงู ุงููุตูู ุบูุฑ ูุงุฌุญ ุ ูุฅู Nomad ูุฑูุถ ุงูุจุฏุก. </p><br><p style=";text-align:right;direction:rtl">  ููุฏ ุงุฑุชูุจุช ุฎุทุฃู ุจุณุจุจ ุงูุชุจุนูุฉ ุงูุฏูุฑูุฉ ููุฐ ูุชุฑุฉ ุทูููุฉ ุ ููุฐุง ูุง ุฃุฏู ุฅูู ุชุฏููุฑ ูุฌููุนุฉ ุงูุจุฏูู ููุชุฑุฉ ูุฌูุฒุฉ ุชูุฑูุจูุง.  ุชู ุฅุทูุงู Vault ุจุดูู ุตุญูุญ ุ ุจุบุถ ุงููุธุฑ ุนู Nomad ุ ููู Nomad ูุธุฑ ุฅูู ุนููุงู Vault ูู ุฎูุงู ุงูููุงุฒูุงุช ุงูุชู ูุงูุช ุชุนูู ูู Nomad ููุณูุง.  ุชุณุจุจุช ุฅุนุงุฏุฉ ุชูููู ูุฅุนุงุฏุฉ ุชุดุบูู ุนูุฏ ุฎุงุฏู Nomad ูู ุฅุนุงุฏุฉ ุชุดุบูู ุฎุฏูุงุช ุงูููุงุฒู ุ ููุง ุฃุฏู ุฅูู ูุดู ูู ุจุฏุก ุนูุฏ ุงูุฎุงุฏู ุจููุณู. </p><br><h2 id="7-zapusk-vazhnyh-statefull-servisov" style=";text-align:right;direction:rtl">  7. ุฅุทูุงู ุฎุฏูุงุช ุญููููุฉ ูููุฉ </h2><br><p style=";text-align:right;direction:rtl">  <strong>ุงูุญู: ุตุญูุญ ุ ููููู ูุง.</strong> </p><br><p style=";text-align:right;direction:rtl">  ูู ูู ุงููููู ุชุดุบูู PostgreSQL ุ ClickHouse ุ Redis Cluster ุ RabbitMQ ุ MongoDB ุนุจุฑ Nomadุ </p><br><p style=";text-align:right;direction:rtl">  ุชุฎูู ุฃู ูุฏูู ูุฌููุนุฉ ูู ุงูุฎุฏูุงุช ุงููููุฉ ุ ุงูุชู ูุฑุชุจุท ุนูููุง ุจูุนุธู ุงูุฎุฏูุงุช ุงูุฃุฎุฑู.  ุนูู ุณุจูู ุงููุซุงู ุ ูุงุนุฏุฉ ุจูุงูุงุช ูู PostgreSQL / ClickHouse.  ุฃู ุงูุชุฎุฒูู ุงูุนุงู ุนูู ุงููุฏู ุงููุตูุฑ ูู Redis Cluster / MongoDB.  ุฃู ูุงูู ุจูุงูุงุช ูู Redis Cluster / RabbitMQ. </p><br><p style=";text-align:right;direction:rtl">  ุฌููุน ูุฐู ุงูุฎุฏูุงุช ูู ุดูู ูุง ุชููุฐ ูุฎุทุทูุง ููุชุณุงูุญ ูุน ุงูุฃุฎุทุงุก: Stolon / Patroni for PostgreSQL ุ ูุชูููุฐ ูุฌููุนุฉ ุฎุงุตุฉ ุจูุง ูู Redis Cluster ุ ูุชูููุฐ ูุธุงู ุงููุฌููุนุฉ ุงูุฎุงุต ุจูุง ูู RabbitMQ ู MongoDB ู ClickHouse. </p><br><p style=";text-align:right;direction:rtl">  ูุนู ุ ูููู ุฅุทูุงู ูู ูุฐู ุงูุฎุฏูุงุช ูู ุฎูุงู Nomad ุจุงูุฅุดุงุฑุฉ ุฅูู ุฎูุงุฏู ูุญุฏุฏุฉ ุ ูููู ููุงุฐุงุ </p><br><p style=";text-align:right;direction:rtl">  ุจุงูุฅุถุงูุฉ ุฅูู - ุณูููุฉ ุงูุชุดุบูู ุ ุชูุณูู ูุตู ูุงุญุฏ ุ ูุซู ุงูุฎุฏูุงุช ุงูุฃุฎุฑู.  ูุง ุฏุงุนู ููููู ูุน ุงูุจุฑุงูุฌ ุงููุตูุฉ ansible / ุฃู ุดูุก ุขุฎุฑ. </p><br><p style=";text-align:right;direction:rtl">  ูุงูุต ูู ููุทุฉ ุฅุถุงููุฉ ูู ุงููุดู ุ ูุงูุชู ูุง ุชุนุทู ุฃู ูุฒุงูุง.  ุฃูุง ุดุฎุตูุงู ุฃุณูุทุช ูุฌููุนุฉ ูููุงุฏ ุจุงููุงูู ูุฑุชูู ูุฃุณุจุงุจ ูุฎุชููุฉ: ูุฑุฉ ูุงุญุฏุฉ "ุงูููุฒู" ุ ุจูุฌุฑุฏ ุงูุนูู.  ูุงู ูุฐุง ูู ุงููุฑุงุญู ุงูุฃููู ูู ุชูุฏูู ูููุงุฏ ูุจุณุจุจ ุงูุฑููุฏ. <br>  ุฃูุถูุง ุ ูุจุฏุฃ Nomad ูู ุงูุชุตุฑู ุจุดูู ุณูุฆ ูุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุฏูุงุช ุจุณุจุจ ุงููุดููุฉ ุฑูู 8.  ููู ุญุชู ูู ุชู ุญู ูุฐู ุงููุดููุฉ ุ ูุจูู ุงูุฎุทุฑ ูุงุฆูุงู. </p><br><h2 id="8-stabilizaciya-raboty-i-restartov-servisov-v-nestabilnoy-seti" style=";text-align:right;direction:rtl">  8. ุฅุนุงุฏุฉ ุชุซุจูุช ุงูุนูู ูุงูุฎุฏูุฉ ูู ุดุจูุฉ ุบูุฑ ูุณุชูุฑุฉ </h2><br><p style=";text-align:right;direction:rtl">  <strong>ุงูุญู: ุงุณุชุฎุฏู ุฎูุงุฑุงุช ุถุจุท ูุจุถุงุช ุงูููุจ.</strong> </p><br><p style=";text-align:right;direction:rtl">  ุจุดูู ุงูุชุฑุงุถู ุ ูุชู ุชูููู Nomad ุจุญูุซ ุชุชุณุจุจ ุฃู ูุดููุฉ ูู ุงูุดุจูุฉ ุนูู ุงููุฏู ุงููุตูุฑ ุฃู ุชุญููู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ูู ููุฏุงู ุงูุชูุงูู ูุฅุนุงุฏุฉ ุงูุชุฎุงุจ ุงููุนุงูุฌ ุฃู ูุถุน ุนูุงูุฉ ุนูู ุนููู ุงููุณููุฉ ุบูุฑ ูุงุจูุฉ ูููุตูู.  ููุฐุง ูุคุฏู ุฅูู ุฅุนุงุฏุฉ ุชุดุบูู ุนูููุฉ ููุฎุฏูุงุช ูููููุง ุฅูู ุงูุนูุฏ ุงูุฃุฎุฑู. </p><br><p style=";text-align:right;direction:rtl">  ุฅุญุตุงุฆูุงุช ูุธุงู ุงููุฌููุนุฉ "home" ูุจู ุฅุตูุงุญ ุงููุดููุฉ: ูุจูุบ ุงูุญุฏ ุงูุฃูุตู ูุนูุฑ ุงูุญุงููุฉ ูุจู ุฅุนุงุฏุฉ ุงูุชุดุบูู ุญูุงูู 10 ุฃูุงู.  ููุง ุ ูุง ูุฒุงู ุงูุฃูุฑ ูุซูููุง ุจุชุดุบูู ุงููููู ูุงูุฎุงุฏู ุนูู ุฎุงุฏู ูุงุญุฏ ููุถุนู ูู 5 ูุฑุงูุฒ ุจูุงูุงุช ูุฎุชููุฉ ูู ุฃูุฑูุจุง ุ ููุง ูุนูู ูุฌูุฏ ุญูู ูุจูุฑ ุนูู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ูุดุจูุฉ ุฃูู ุงุณุชูุฑุงุฑูุง. </p><br><p style=";text-align:right;direction:rtl">  ุฅุญุตุงุฆูุงุช ูุชูุฉ ุงูุนูู ูุจู ุฅุตูุงุญ ุงููุดููุฉ: ุงูุญุฏ ุงูุฃูุตู ูุนูุฑ ุงูุญุงููุฉ ูุจู ุฅุนุงุฏุฉ ุงูุชุดุบูู ุฃูุซุฑ ูู ุดูุฑูู.  ูู ุดูุก ุฌูุฏ ูุณุจูุงู ููุง ุจุณุจุจ ุงูุฎูุงุฏู ุงููููุตูุฉ ูุนููุฏ ุฎุงุฏู Nomad ูุงูุดุจูุฉ ุงูููุชุงุฒุฉ ุจูู ูุฑุงูุฒ ุงูุจูุงูุงุช. </p><br><p style=";text-align:right;direction:rtl">  ุงูููู ุงูุงูุชุฑุงุถูุฉ </p><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">heartbeat_grace = "10s" min_heartbeat_ttl = "10s" max_heartbeats_per_second = 50.0</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงุฐุง ุญูููุง ูู ุฎูุงู ุงูููุฏ: ูู ูุฐุง ุงูุชูููู ุ ูุชู ุฅุฌุฑุงุก ูุจุถุฉ ุงูููุจ ูู 10 ุซูุงูู.  ูุน ููุฏุงู ุงุซููู ูู ูุจุถุงุช ุงูููุจ ุ ุชุจุฏุฃ ุฅุนุงุฏุฉ ุงูุชุฎุงุจ ุงูุณูุฏ ุฃู ููู ุงูุฎุฏูุงุช ูู ุนูุฏุฉ ุงููููู.  ุงูุฅุนุฏุงุฏุงุช ุงููุซูุฑุฉ ููุฌุฏู ุ ูู ุฑุฃูู.  ูููู ุจุชุญุฑูุฑูุง ุญุณุจ ุงูุชุทุจูู. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงูุช ูุฏูู ุฌููุน ุงูุฎุฏูุงุช ุงูุชู ุชุนูู ูู ุญุงูุงุช ูุชุนุฏุฏุฉ ูููุช ุจุชูุฒูุนูุง ุจูุงุณุทุฉ ูุฑุงูุฒ ุงูุจูุงูุงุช ุ ูุนูู ุงูุฃุฑุฌุญ ุ ูุง ูููู ูุชุฑุฉ ุทูููุฉ ูุชุญุฏูุฏ ุนุฏู ุฅููุงููุฉ ุงููุตูู ุฅูู ุงูุฎุงุฏู (ุญูุงูู 5 ุฏูุงุฆู ุ ูู ุงููุซุงู ุฃุฏูุงู) - ูุญู ูุฌุนู ุงููุชุฑุฉ ุงูุฒูููุฉ ููุจุถุงุช ุงูููุจ ุฃูู ุชูุฑุงุฑูุง ููุชุฑุฉ ุฃุทูู ูู ุชุญุฏูุฏ ุฅููุงููุฉ ุงููุตูู.  ูุฐุง ูุซุงู ุนูู ุฅุนุฏุงุฏ ูุธุงู ุงููุฌููุนุฉ ุงูููุฒููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> heartbeat_grace = "300s" min_heartbeat_ttl = "30s" max_heartbeats_per_second = 10.0</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ูุฏูู ุงุชุตุงู ุฌูุฏ ุจุงูุดุจูุฉ ุ ูุฅู ุงูุฎูุงุฏู ุงููููุตูุฉ ูุนูุฏ ุงูุฎุงุฏู ุ ููุชุฑุฉ ุชุญุฏูุฏ ุนุฏู ุฅููุงููุฉ ุงููุตูู ุฅูู ุงูุฎุงุฏู ูููุฉ (ููุงู ุจุนุถ ุงูุฎุฏูุงุช ููุฏ ุงูุชุดุบูู ูู ุญุงูุฉ ูุงุญุฏุฉ ููู ุงูููู ููููุง ุจุณุฑุนุฉ) ุ ุซู ุฒูุงุฏุฉ ูุชุฑุฉ ุชุญุฏูุฏ ุนุฏู ุฅููุงููุฉ ุงููุตูู (heartbeat_grace).  ุงุฎุชูุงุฑูุง ุ ููููู ุงูููุงู ุจูุฒูุฏ ูู ูุจุถุงุช ุงูููุจ (ุนู ุทุฑูู ุชูููู min_heartbeat_ttl) - ุณูุคุฏู ุฐูู ุฅูู ุฒูุงุฏุฉ ุงูุญูู ุนูู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุจุดูู ุทููู.  ูุซุงู ุชูููู ูุชูุฉ ุงูุนูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> heartbeat_grace = "60s" min_heartbeat_ttl = "10s" max_heartbeats_per_second = 50.0</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฐู ุงูุฅุนุฏุงุฏุงุช ุญู ุงููุดููุฉ ุชูุงูุง. </p><br><h2 id="9-zapusk-periodicheskih-zadach" style=";text-align:right;direction:rtl">  9. ุจุฏุก ุงูููุงู ุงูุฏูุฑูุฉ </h2><br><p style=";text-align:right;direction:rtl">  <strong>ุงูุญู: ูููู ุงุณุชุฎุฏุงู ุฎุฏูุงุช Nomad ุงูุฏูุฑูุฉ ุ ูููู cron ูู ุฃูุซุฑ ููุงุกูุฉ ููุฏุนู.</strong> </p><br><p style=";text-align:right;direction:rtl">  ุงูุจุฏูู ูุฏูู ุงููุฏุฑุฉ ุนูู ุฅุทูุงู ุงูุฎุฏูุฉ ุจุดูู ุฏูุฑู. </p><br><p style=";text-align:right;direction:rtl">  ุฒุงุฆุฏ ููุท ูู ุจุณุงุทุฉ ูุฐุง ุงูุชูููู. </p><br><p style=";text-align:right;direction:rtl">  ุฃูู ูุงูุต ูู ุฃูู ุฅุฐุง ุจุฏุฃุช ุงูุฎุฏูุฉ ุจุดูู ูุชูุฑุฑ ุ ูุณูู ุชุชูุงุซุฑ ูุงุฆูุฉ ุงูููุงู.  ุนูู ุณุจูู ุงููุซุงู ุ ุนูุฏ ุจุฏุก ุงูุชุดุบูู ูู 5 ุฏูุงุฆู ุ ุณุชุชู ุฅุถุงูุฉ 12 ูููุฉ ุฅุถุงููุฉ ุฅูู ุงููุงุฆูุฉ ูู ุณุงุนุฉ ุ ุญุชู ูุชู ุชุดุบูู GC Nomad ุ ููุง ูุคุฏู ุฅูู ุญุฐู ุงูููุงู ุงููุฏููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุงูุซุงูู ูุงูุต - ููุณ ูู ุงููุงุถุญ ููููุฉ ุชูููู ูุฑุงูุจุฉ ูุซู ูุฐู ุงูุฎุฏูุฉ ุจุดูู ุตุญูุญ.  ููู ูููู ุฃู ุงูุฎุฏูุฉ ุชุจุฏุฃ ูุชูู ูุชุคุฏู ูููุชูุง ุญุชู ุงูููุงูุฉุ </p><br><p style=";text-align:right;direction:rtl">  ููุชูุฌุฉ ูุฐูู ุ ุชูุตูุช ุฅูู ุชูููุฐ "ุงูููุงู" ุงูุฏูุฑูุฉ ููููุงู ุงูุฏูุฑูุฉ: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูููู ุฃู ูููู ูุฑูู ููุชุธู ูู ุญุงููุฉ ุชุนูู ุจุงุณุชูุฑุงุฑ.  ูุนูู Cron ุจุดูู ุฏูุฑู ุนูู ุจุฑูุงูุฌ ูุตู ูุนูู.  ูุถุงู ุจุณูููุฉ ุงูุชุญูู ูู ุตุญุฉ ุงูุจุฑูุงูุฌ ุงููุตู ุฅูู ูุซู ูุฐู ุงูุญุงููุฉ ุ ูุงูุชู ุชุชุญูู ูู ุฃู ุนูุงูุฉ ุชููู ุจุฅูุดุงุก ุจุฑูุงูุฌ ูุตู ููุฏ ุงูุชุดุบูู. </li><li style=";text-align:right;direction:rtl">  ูููู ุฃู ูููู ุญุงููุฉ ุชุนูู ุจุงุณุชูุฑุงุฑ ุ ูุน ุฎุฏูุฉ ุชุดุบูู ูุณุชูุฑ.  ุชู ุชูููุฐ ุนูููุฉ ุฅุทูุงู ุฏูุฑูุฉ ุจุงููุนู ุฏุงุฎู ุงูุฎุฏูุฉ.  ูููู ุจุณูููุฉ ุฅูุง ุฅุถุงูุฉ ูุญุต ุตุญุฉ ูุตู ุฃู http-healthcheck ุจุณูููุฉ ุฅูู ูุฐู ุงูุฎุฏูุฉ ุ ุงูุชู ุชุชุญูู ูู ุงูุญุงูุฉ ููุฑูุง ุจูุงุณุทุฉ "ุงูุฏูุงุฎู". </li></ol><br><p style=";text-align:right;direction:rtl">  ูู ุงูููุช ุงูุญุงูู ุฃูุชุจ ูู ูุนุธู ุงูุฃููุงุช ูู Go ุ ุนูู ุงูุชูุงูู ุ ุฃูุถู ุงูุฎูุงุฑ ุงูุซุงูู ูุน http healthcheck - on Go ูุงูุฅุทูุงู ุงูุฏูุฑู ุ ููุชู ุฅุถุงูุฉ http healthcheck'i ูุน ุจุถุนุฉ ุฃุณุทุฑ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ. </p><br><h2 id="10-obespechenie-rezervirovaniya-servisov" style=";text-align:right;direction:rtl">  10. ุชูุฏูู ุฎุฏูุงุช ุฒุงุฆุฏุฉ ุนู ุงูุญุงุฌุฉ </h2><br><p style=";text-align:right;direction:rtl">  <strong>ุงูุญู: ูุง ููุฌุฏ ุญู ุจุณูุท.</strong>  <strong>ููุงู ุฎูุงุฑุงู ุฃูุซุฑ ุตุนูุจุฉ.</strong> </p><br><p style=";text-align:right;direction:rtl">  ูุชูุซู ูุฎุทุท ุงูุชูููุฑ ุงูุฐู ูููุฑู ูุทูุฑู Nomad ูู ุฏุนู ุนุฏุฏ ุงูุฎุฏูุงุช ููุฏ ุงูุชุดุบูู.  ุฃูุช ุชููู ุฃู ุงูุจุฏู "ุฃุทูููุง ูู 5 ุญุงูุงุช ูู ุงูุฎุฏูุฉ" ูุจุฏุฃูู ูู ููุงู ูุง ููุงู.  ูุง ุชูุฌุฏ ุณูุทุฑุฉ ุนูู ุงูุชูุฒูุน.  ูููู ุชุดุบูู ุงููุซููุงุช ุนูู ููุณ ุงูุฎุงุฏู. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุชุนุทู ุงูุฎุงุฏู ุ ูุชู ููู ุงููุซููุงุช ุฅูู ุฎูุงุฏู ุฃุฎุฑู.  ุฃุซูุงุก ููู ุงููุซููุงุช ุ ูุง ุชุนูู ุงูุฎุฏูุฉ.  ูุฐุง ุฎูุงุฑ ุงุญุชูุงุทู ุณูุก. </p><br><p style=";text-align:right;direction:rtl">  ูุญู ููุนู ุฐูู ุจุดูู ุตุญูุญ: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูููู ุจุชูุฒูุน ุงููุซููุงุช ุนูู ุงูุฎูุงุฏู ูู ุฎูุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุชููุฒ_ุฃูุงุฆู</a> . </li><li style=";text-align:right;direction:rtl">  ูููู ุจุชูุฒูุน ุงููุซููุงุช ุนุจุฑ ูุฑุงูุฒ ุงูุจูุงูุงุช.  ูุณูุก ุงูุญุธ ุ ููุท ุนู ุทุฑูู ุฅูุดุงุก ูุณุฎุฉ ูู ุงูุจุฑูุงูุฌ ุงููุตู ูููููุฐุฌ service1 ุ ู service2 ูุน ููุณ ุงููุญุชููุงุช ุ ูุฃุณูุงุก ูุฎุชููุฉ ุ ููุคุดุฑ ุนูู ุงูุฅุทูุงู ูู ูุฑุงูุฒ ุจูุงูุงุช ูุฎุชููุฉ. </li></ol><br><p style=";text-align:right;direction:rtl">  ูู Nomad 0.9 ุ ุณุชุธูุฑ ูุธููุฉ ุชุนูู ุนูู ุญู ูุฐู ุงููุดููุฉ: ุณูููู ูู ุงููููู ุชูุฒูุน ุงูุฎุฏูุงุช ุจูุณุจุฉ ูุฆููุฉ ุจูู ุงูุฎูุงุฏู ููุฑุงูุฒ ุงูุจูุงูุงุช. </p><br><h2 id="11-web-ui-nomad" style=";text-align:right;direction:rtl">  11. ุงูููุจ UI ุงูุจุฏูู </h2><br><p style=";text-align:right;direction:rtl">  <strong>ุงูุญู: ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงููุฏูุฌุฉ ุฃูุฑ ูุธูุน ุ hashi-ui ุฌููู.</strong> </p><br><p style=";text-align:right;direction:rtl">  ูุคุฏู ุนููู ูุญุฏุฉ ุงูุชุญูู ูุนุธู ุงููุธุงุฆู ุงููุทููุจุฉ ุ ูููู ูู ุจุนุถ ุงูุฃุญูุงู ุชุฑูุฏ ุฃู ุชุฑู ุงูุฑุณููุงุช ุ ุงุถุบุท ุนูู ุงูุฃุฒุฑุงุฑ ... </p><br><p style=";text-align:right;direction:rtl">  ุงูุจุฏูู ูุฏูู ูุงุฌูุฉ ูุณุชุฎุฏู ูุฏูุฌุฉ.  ุฃููุง ููุณุช ูุฑูุญุฉ ููุบุงูุฉ (ุญุชู ุฃุณูุฃ ูู ูุญุฏุฉ ุงูุชุญูู). </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/0s/fv/6y/0sfv6yrspbj5easwnweyx8yzsme.png"></p><br><p style=";text-align:right;direction:rtl">  ุงูุจุฏูู ุงููุญูุฏ ุงูุฐู ุฃุนุฑูู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">hashi-ui</a> . </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/vd/4x/rv/vd4xrvrrnewmotnnio-yxbvriis.png"></p><br><p style=";text-align:right;direction:rtl">  ูู ุงููุงูุน ุ ุงูุขู ุฃูุง ุดุฎุตูุงู ุฃุญุชุงุฌ ุฅูู ุนููู ูุญุฏุฉ ุงูุชุญูู ููุท ูู ุฃุฌู "ุชุดุบูู ุงูุจุฏู".  ูุญุชู ูุฐู ุงูุฎุทุท ูููููุง ุฅูู CI. </p><br><h2 id="12-podderzhka-oversubscription-po-pamyati" style=";text-align:right;direction:rtl">  12. ุฏุนู ูุฒูุงุฏุฉ ุงูุงุดุชุฑุงู ูู ุงูุฐุงูุฑุฉ </h2><br><p style=";text-align:right;direction:rtl">  <strong>ุงูุญู: ูุง.</strong> </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูุฅุตุฏุงุฑ ุงูุญุงูู ูู Nomad ุ ูุฌุจ ุนููู ุชุญุฏูุฏ ุญุฏ ุฐุงูุฑุฉ ุตุงุฑู ููุฎุฏูุฉ.  ูู ุญุงูุฉ ุชุฌุงูุฒ ุงูุญุฏ ุ ุณูุชู ูุชู ุงูุฎุฏูุฉ ุนูู ูุฏ OOM Killer. </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุฒูุงุฏุฉ ุงูุงุดุชุฑุงู ุนูุฏูุง ูููู ุชุญุฏูุฏ ุญุฏูุฏ ุงูุฎุฏูุฉ "ูู ูุฅูู."  ุชุชุทูุจ ุจุนุถ ุงูุฎุฏูุงุช ุฐุงูุฑุฉ ุฃูุจุฑ ุนูุฏ ุจุฏุก ุงูุชุดุบูู ุฃูุซุฑ ูู ุงูุชุดุบูู ุงูุนุงุฏู.  ูุฏ ุชุณุชููู ุจุนุถ ุงูุฎุฏูุงุช ุฐุงูุฑุฉ ุฃูุซุฑ ูู ุงููุนุชุงุฏ ููุชุฑุฉ ูุตูุฑุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุนุฏ ุงุฎุชูุงุฑ ุงูุชูููุฏ ุงูุตุงุฑู ุฃู ุงูููู ููุถูุนูุง ููููุงูุดุฉ ุ ูููู ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุณูุญ Kubernetes ูููุจุฑูุฌ ุจุงูุงุฎุชูุงุฑ.  ูุณูุก ุงูุญุธ ุ ูู ุงูุฅุตุฏุงุฑุงุช ุงูุญุงููุฉ ูู ุงูุจุฏูู ูุง ููุฌุฏ ูุซู ูุฐุง ุงูุงุญุชูุงู.  ุฃุนุชุฑู ุฃูู ุณูุธูุฑ ูู ุงูุฅุตุฏุงุฑุงุช ุงููุณุชูุจููุฉ. </p><br><h2 id="13-ochistka-servera-ot-servisov-nomad" style=";text-align:right;direction:rtl">  13. ุชูุธูู ุงูุฎุงุฏู ูู ุฎุฏูุงุช ุงูุจุฏูู </h2><br><p style=";text-align:right;direction:rtl">  <strong>ุงูุญู:</strong> </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sudo systemctl stop nomad mount | fgrep alloc | awk '{print $3}' | xargs -I QQ sudo umount QQ sudo rm -rf /var/lib/nomad sudo docker ps | grep -v '(-1|-2|...)' | fgrep -v IMAGE | awk '{print $1}' | xargs -I QQ sudo docker stop QQ sudo systemctl start nomad</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุจุนุถ ุงูุฃุญูุงู "ููุงู ุฎุทุฃ ูุง."  ุนูู ุงูุฎุงุฏู ุ ููุชู ุนูุฏุฉ ุงููููู ููุฑูุถ ุงูุจุฏุก.  ุฃู ุนูุฏุฉ ุงููููู ุชููู ุนู ุงูุงุณุชุฌุงุจุฉ.  ุฃู ุงูุนูุฏุฉ ูููู "ูููุฏ" ุงูุฎุฏูุงุช ุนูู ูุฐุง ุงูุฎุงุฏู. <br>  ูุญุฏุซ ูุฐุง ูู ุจุนุถ ุงูุฃุญูุงู ูุน ุงูุฅุตุฏุงุฑุงุช ุงููุฏููุฉ ูู Nomad ุ ูุงูุขู ูุฐุง ุฅูุง ูุง ูุญุฏุซ ุ ุฃู ูุงุฏุฑูุง ุฌุฏูุง. </p><br><p style=";text-align:right;direction:rtl">  ูุง ูู ุงูุฃุณูู ูู ูุฐู ุงูุญุงูุฉ ุ ุจุงููุธุฑ ุฅูู ุฃู ุฎุงุฏู ุงูุชุตุฑูู ูู ููุชุฌ ุงููุชูุฌุฉ ุงููุฑุฌูุฉุ  ูููู ุจุชูุธูู ุงูุฎุงุฏู ูุฏูููุง: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููู ูููู ุงูุฑุญู. </li><li style=";text-align:right;direction:rtl">  ุฌุนู umount ุนูู ุฌุจู ูุฎูู. </li><li style=";text-align:right;direction:rtl">  ุงุญุฐู ุฌููุน ุจูุงูุงุช ุงููููู. </li><li style=";text-align:right;direction:rtl">  ูููู ุจุฅุฒุงูุฉ ุฌููุน ุงูุญุงููุงุช ุนู ุทุฑูู ุชุตููุฉ ุญุงููุงุช ุงูุฎุฏูุฉ (ุฅู ูุฌุฏุช). </li><li style=";text-align:right;direction:rtl">  ูุจุฏุฃ ุงููููู. </li></ol><br><h2 id="14-kak-luchshe-razvorachivat-nomad" style=";text-align:right;direction:rtl">  14. ูุง ูู ุฃูุถู ุทุฑููุฉ ููุดุฑ ุงูุจุฏููุ </h2><br><p style=";text-align:right;direction:rtl">  <strong>ุงูุญู: ุจุงูุทุจุน ุ ูู ุฎูุงู ุงูููุตู.</strong> </p><br><p style=";text-align:right;direction:rtl">  ุงูููุตู ูู ูุฐู ุงูุญุงูุฉ ููุณ ุจุฃู ุญุงู ูู ุงูุฃุญูุงู ุทุจูุฉ ุฅุถุงููุฉ ุ ููููู ุฎุฏูุฉ ุชูุงุณุจ ุนุถููุง ุงูุจููุฉ ุงูุชุญุชูุฉ ุ ูุงูุชู ุชููุฑ ูุฒุงูุง ุฃูุซุฑ ูู ุณูุจูุงุช: DNS ุ ุชุฎุฒูู KV ุ ุงูุจุญุซ ุนู ุงูุฎุฏูุงุช ุ ููุฑุงูุจุฉ ุชููุฑ ุงูุฎุฏูุฉ ุ ูุงููุฏุฑุฉ ุนูู ุชุจุงุฏู ุงููุนูููุงุช ุจุฃูุงู. </p><br><p style=";text-align:right;direction:rtl">  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุชุชูุดู ุจููุณ ุณูููุฉ ูููุงุฏ ููุณู. </p><br><h2 id="15-chto-luchshe---nomad-ili-kubernetes" style=";text-align:right;direction:rtl">  15. ุฃูููุง ุฃูุถู - ุงูุจุฏูู ุฃู Kubernetesุ </h2><br><p style=";text-align:right;direction:rtl">  <strong>ุงูุญู: ูุนุชูุฏ ุนูู ...</strong> </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูุณุงุจู ุ ููุช ุฃููุฑ ุฃุญูุงููุง ูู ุจุฏุก ุนูููุฉ ุงูุชุฑุญูู ุฅูู Kubernetes - ููุช ููุฒุนุฌุฉ ุฌุฏูุง ูู ุฅุนุงุฏุฉ ุงูุชุดุบูู ุงูุชููุงุฆู ููุฎุฏูุงุช (ุงูุธุฑ ุงููุดููุฉ ุฑูู 8).  ูููู ุจุนุฏ ุงูุญู ุงููุงูู ูููุดููุฉ ุ ุฃุณุชุทูุน ุฃู ุฃููู: ุงูุจุฏูู ููุงุณุจูู ูู ุงูููุช ุงูุญุงูู. </p><br><p style=";text-align:right;direction:rtl">  ูู ูุงุญูุฉ ุฃุฎุฑู: ูุฏู Kubernetes ุฃูุถูุง ุฅุนุงุฏุฉ ุชุญููู ุดุจู ุชููุงุฆูุฉ ููุฎุฏูุงุช - ุนูุฏูุง ูุนูุฏ ุฌุฏููุฉ Kubernetes ุฅุนุงุฏุฉ ุชูุฒูุน ุงูุญุงูุงุช ุญุณุจ ุงูุญูู.  ูุฐุง ููุณ ุฑุงุฆุนูุง ุฌุฏูุง ุ ูููู ููุงู ุนูู ุงูุฃุฑุฌุญ ุชููููู. </p><br><p style=";text-align:right;direction:rtl">  ูุฒุงูุง Nomad: ุงูุจููุฉ ุงูุชุญุชูุฉ ุณููุฉ ุงููุดุฑ ููุบุงูุฉ ุ ูุตูุต ุจุณูุทุฉ ุ ูุซุงุฆู ุฌูุฏุฉ ุ ุฏุนู ูุฏูุฌ ููููุตู / Vault ุ ูุงูุฐู ุจุฏูุฑู ูููุฑ: ุญู ุจุณูุท ููุดููุฉ ุชุฎุฒูู ูููุฉ ุงููุฑูุฑ ุ DNS ูุฏูุฌ ุ ุนูููุงุช ูุญุต ุณููุฉ ุงูุชุฑููุจ. </p><br><p style=";text-align:right;direction:rtl">  ุฅูุฌุงุจูุงุช Kubernetes: ุงูุขู ูู "ุงููุนูุงุฑ ุงููุนูู".  ุชูุซูู ุฌูุฏ ุ ุงูุนุฏูุฏ ูู ุงูุญููู ุงูุฌุงูุฒุฉ ุ ูุน ูุตู ุฌูุฏ ูุชูุญูุฏ ุงูุฅุทูุงู. </p><br><p style=";text-align:right;direction:rtl">  ูุณูุก ุงูุญุธ ุ ููุณ ูุฏู ููุณ ุงูุฎุจุฑุฉ ุงููุจูุฑุฉ ูู Kubernetes ููุฅุฌุงุจุฉ ุจุดูู ูุง ูุจุณ ููู ุนูู ุงูุณุคุงู - ูุง ุงูุฐู ูุฌุจ ุงุณุชุฎุฏุงูู ูููุฌููุนุฉ ุงูุฌุฏูุฏุฉ.  ูุนุชูุฏ ุนูู ุงูุงุญุชูุงุฌุงุช ุงููุฎุทุท ููุง. <br>  ุฅุฐุง ูุงู ูุฏูู ุงููุซูุฑ ูู ูุณุงุญุงุช ุงูุฃุณูุงุก ุงููุฎุทุทุฉ (ุงููุดููุฉ ุฑูู 5) ุฃู ุชุณุชููู ุฎุฏูุงุชู ุงููุญุฏุฏุฉ ุงููุซูุฑ ูู ุงูุฐุงูุฑุฉ ูู ุงูุจุฏุงูุฉ ุ ุซู ุญุฑุฑูุง (ุงููุดููุฉ ุฑูู 12) - ุจุงูุชุฃููุฏ Kubernetes ุ ูุฃู  ูู ูุชู ุญู ูุงุชูู ุงููุดููุชูู ูู Nomad ุจุดูู ูุงูู ุฃู ุบูุฑ ูุฑูุญ. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar435132/">https://habr.com/ru/post/ar435132/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar435120/index.html">ูุธุงุฆู Lambda ูู SQL ... ุฏุนูุง ูููุฑ</a></li>
<li><a href="../ar435122/index.html">ููู ุชู ุชูููุฐ ุงูุดุนูุฉ ูู ุงูููุช ุนูู ุจูุงู ุณุชูุดู</a></li>
<li><a href="../ar435124/index.html">ุฑูุงุฆุน ุจูุงุก ุงูุฃุนูุฏุฉ ุงูุนุงูููุฉ: ูุญูู ุฑุตุฏ ุงุณุชูุฏูู ูุน ุนุฏุฏ ูุชุบูุฑ ูู ุงูุนุตุงุจุงุช</a></li>
<li><a href="../ar435126/index.html">ุฎุจุฑุฉ ูู ุชูุธูู ูุฅุฌุฑุงุก ูุคุชูุฑุงุช ุงูุดุฑูุงุช ูููุญูููู</a></li>
<li><a href="../ar435128/index.html">ุจู ุณูููุณ: ููุงูุฉ ุฎุงุฑุฌุฉ ุนู ุงูุณูุทุฑุฉ</a></li>
<li><a href="../ar435134/index.html">ุชุจุณูุท ุงูุนูู ูุน ููุงุนุฏ ุงูุจูุงูุงุช ูู ููู ุชู ูุน QSqlRelationalTableModel</a></li>
<li><a href="../ar435136/index.html">ุณูุฑุฌู ูุงููููุฌ ุงูุนููู</a></li>
<li><a href="../ar435138/index.html">ููููุฉ ุงูุณูุทุฑุฉ ุนูู ุงูุจููุฉ ุงูุชุญุชูุฉ ููุดุจูุฉ ุงูุฎุงุตุฉ ุจู. ุงููุตู ุงูุซุงูุซ ุฃูู ุงูุดุจูุฉ. ุงูุฌุฒุก ุงูุฃูู</a></li>
<li><a href="../ar435142/index.html">ุชุชุจุน ุงูุชุนูู ุจุงุณุชุฎุฏุงู eBPF: ุฏููู ูุฃูุซูุฉ</a></li>
<li><a href="../ar435144/index.html">ููุฏูุฉ ุฅูู Spring Boot: ุฅูุดุงุก ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช REST ุจุณูุทุฉ ูู Java</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>