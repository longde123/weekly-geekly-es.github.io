<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙍🏻 🎈 🧚🏿 Lampu latar keyboard DasKeyboard berdasarkan glukosa darah menggunakan REST API ⛹🏿 🤕 🥧</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dari blog Scott Hanselman, guru, programmer dan dosen. 

 Saya telah lama menulis artikel tentang topik di persimpangan diabetes dan teknologi di blog...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lampu latar keyboard DasKeyboard berdasarkan glukosa darah menggunakan REST API</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443154/"> <i>Dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">blog</a> Scott Hanselman, guru, programmer dan dosen.</i> <br><br>  Saya telah lama menulis artikel tentang topik di persimpangan diabetes dan teknologi di blog saya.  Pada 2012, keadaan teknologi terkait diabetes sangat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">menyedihkan</a> , tetapi sekarang mereka mengalami <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">peningkatan yang menjanjikan</a> . <br><br>  Jika Anda menderita diabetes tipe I dan menggunakan pengukur glukosa kontinu (CGM), Anda harus mengonfigurasi layanan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Nightscout</a> dan Anda akan memiliki API REST untuk mengakses data glukosa darah Anda.  CGM memeriksa kadar glukosa dalam darah saya setiap 5 menit, melalui saluran Bluetooth berdaya rendah, data masuk ke telepon saya, dan dari sana ke awan.  Tetapi Anda perlu menyimpan data glukosa di cloud di bawah kendali Anda.  Pabrikan CGM menawarkan cloud <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mereka sendiri</a> , tetapi kami dapat dengan mudah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mengekspor</a> dari sana ke database MongoDB. <br><a name="habracut"></a><br>  Nightscout saya berjalan pada Azure dan tubuh saya memiliki API REST sendiri.  Saya dapat membuat permintaan GET HTTP berikut: <br><br>  /api/v1/entries.json?count=3 <br><br>  dan dapatkan jawaban seperti ini: <br><br><pre><code class="json hljs">[ { _id: <span class="hljs-string"><span class="hljs-string">"5c6066d477b2a69a0a7810e5"</span></span>, sgv: <span class="hljs-number"><span class="hljs-number">143</span></span>, date: <span class="hljs-number"><span class="hljs-number">1549821626000</span></span>, dateString: <span class="hljs-string"><span class="hljs-string">"2019-02-10T18:00:26.000Z"</span></span>, trend: <span class="hljs-number"><span class="hljs-number">4</span></span>, direction: <span class="hljs-string"><span class="hljs-string">"Flat"</span></span>, device: <span class="hljs-string"><span class="hljs-string">"share2"</span></span>, type: <span class="hljs-string"><span class="hljs-string">"sgv"</span></span> }, { _id: <span class="hljs-string"><span class="hljs-string">"5c6065a877b2a69a0a7801ce"</span></span>, sgv: <span class="hljs-number"><span class="hljs-number">134</span></span>, date: <span class="hljs-number"><span class="hljs-number">1549821326000</span></span>, dateString: <span class="hljs-string"><span class="hljs-string">"2019-02-10T17:55:26.000Z"</span></span>, trend: <span class="hljs-number"><span class="hljs-number">4</span></span>, direction: <span class="hljs-string"><span class="hljs-string">"Flat"</span></span>, device: <span class="hljs-string"><span class="hljs-string">"share2"</span></span>, type: <span class="hljs-string"><span class="hljs-string">"sgv"</span></span> }, { _id: <span class="hljs-string"><span class="hljs-string">"5c60647b77b2a69a0a77f381"</span></span>, sgv: <span class="hljs-number"><span class="hljs-number">130</span></span>, date: <span class="hljs-number"><span class="hljs-number">1549821026000</span></span>, dateString: <span class="hljs-string"><span class="hljs-string">"2019-02-10T17:50:26.000Z"</span></span>, trend: <span class="hljs-number"><span class="hljs-number">4</span></span>, direction: <span class="hljs-string"><span class="hljs-string">"Flat"</span></span>, device: <span class="hljs-string"><span class="hljs-string">"share2"</span></span>, type: <span class="hljs-string"><span class="hljs-string">"sgv"</span></span> } ]</code> </pre> <br>  Jika saya mengubah .json URL ke .txt, saya mendapatkan yang berikut: <br><br><pre> <code class="plaintext hljs">2019-02-10T18:00:26.000Z 1549821626000 143 Flat 2019-02-10T17:55:26.000Z 1549821326000 134 Flat 2019-02-10T17:50:26.000Z 1549821026000 130 Flat</code> </pre> <br>  Nilai tetap pada akhirnya adalah nilai tipe enum yang memberi saya gambaran umum tentang perilaku glukosa.  Penderita diabetes harus memantau glukosa setiap jam, dan kadang-kadang setiap menit.  Karena itu, sangat penting bagi kita untuk memiliki tampilan yang dapat kita lihat dengan cepat.  Artinya, apa pun yang dapat memberikan gambaran tentang keadaan saya saat ini. <br><br>  Sebagai contoh: <br><br><ul><li>  Alexa, berapa kadar glukosa saya? </li><li>  Bagaimana cara menambahkan data glukosa dan tren ke permintaan Git / PATH di baris input. </li><li>  Arduino dengan LCD. </li><li>  Kalender dakBoard Family Calendar yang dipasang di dinding menunjukkan kadar glukosa. </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/6ba/019/e01/6ba019e011a80519ff93e38dcc97b292.png"><br><br>  Saya baru-baru ini membeli Das Keyboard 5Q - dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">untuk pertama kalinya</a> saya menulis tentang Das Keyboard pada tahun 2006!  Dia memiliki <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">API ISTIMEWA</a> sendiri.  Dan saya sedang bekerja menggunakan Applet API dari keyboard untuk menyoroti tombol atas sesuai dengan perubahan kadar glukosa dalam darah saya.  Saya akan menggunakan perpustakaan mereka untuk Node dan JavaScript, dan semuanya akan berfungsi dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">konteks perangkat lunak mereka</a> . <br><br>  Namun, karena keyboard memiliki REST API yang berjalan di localhost, dan kadar glukosa saya juga memilikinya, saya membuat skrip berikut di lutut saya.  Saya menambahkannya ke cron, dan sekarang keyboard saya mengubah cahaya latar dari oranye (rendah) menjadi hijau, kuning atau merah (tinggi) secara paralel dengan perubahan kadar glukosa dalam darah saya.  Ternyata indikator latar belakang yang bagus.  Seseorang tweet itu, kata mereka, tidak ada yang melihat keyboard.  Menurut saya, ini bodoh.  Saya mungkin akan memperhatikan jika keyboard saya berubah merah.  Ini masih peringatan latar belakang, tetapi jika perlu, saya dapat dengan mudah menambahkan panggilan ke beberapa pesan yang lebih eksplisit ke skrip. <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/sh #      #  JSON-   API. #        Nightscout set -e # quit on first error. PORT=27301 #   5Q PID="DK5QPID" # product ID #  .  5Q  ,  166 #     . MAX_ZONE_ID=166 #      Nightscout   TEXT red=#f00 green=#0f0 yellow=#ff0 #   –    COLOR=#f50 bgvalue=$(curl -s https://MYSITE/api/v1/entries.txt?count=1 | grep -Eo '000\s([0-9]{1,3})+\s' | cut -f 2) if [ $bgvalue -gt 80 ] then COLOR=$green if [ $bgvalue -gt 140 ] then COLOR=$yellow if [ $bgvalue -gt 200 ] then COLOR=$red fi fi fi echo "  $bgvalue,   $COLOR!" for i in `seq $MAX_ZONE_ID` do #echo "   zoneId: $i" # :    "name"  "message" ,   #     curl -s -S --output /dev/null -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{ "name": "Nightscout", "id": "'$i'", "message": "Blood sugar is '$bgvalue'", "pid": "'$PID'", "zoneId": "'"$i"'", "color": "'$COLOR'", "effect": "SET_COLOR" }' "http://localhost:$PORT/api/1.0/signals" done echo "\n.\n\"</span></span></code> </pre> <br>  API keyboard lokal harus mengirim sinyal hanya untuk satu zona, atau kunci, jadi saya menerapkan hack kecil, mengirimkan lebih dari seratus permintaan REST untuk mewarnai seluruh keyboard.  Namun, semua panggilan ini terjadi secara lokal dan tidak memuat banyak sistem.  Setelah transisi ke API baru, semuanya akan menjadi lebih akurat. <br><br><div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1093994908140982272"></twitter-widget><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div><br>  Juga, dengan menekan tombol volume, bersama dengan tombol apa saja yang disorot, jendela sembulan akan muncul dengan nilai tepat tingkat glukosa (ini adalah pesan dalam panggilan kedua untuk menggulung).  Sekali lagi ini adalah retasan, tetapi saya akan membuat aplikasi formal darinya, yang dapat diinstal dari toko aplikasi.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kode dapat diambil di sini</a> . <br><br>  Ide bagus apa lagi yang Anda miliki tentang pemberitahuan gula latar?  Strip LED di sekitar monitor?  Bola lampu pintar Phillips Hue? <br><br>  Ngomong-ngomong, ide dengan tampilan yang bisa Anda lihat dapat digunakan untuk melacak indikator lain - detak jantung, kecemasan, tekanan darah - segala sesuatu yang dapat diukur dalam tubuh Anda dalam waktu nyata (atau hampir nyata). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id443154/">https://habr.com/ru/post/id443154/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id443140/index.html">Sistem simulasi skrip 3D ZenCad</a></li>
<li><a href="../id443144/index.html">42 sekolah di AS adalah impian Amerika yang dapat diakses semua orang</a></li>
<li><a href="../id443146/index.html">Parkir pintar - navigasi adaptif, penerangan dan stasiun pengisian untuk kendaraan listrik</a></li>
<li><a href="../id443150/index.html">Angular vs React: Perpustakaan Lengkap dengan Kerangka Kerja</a></li>
<li><a href="../id443152/index.html">Cara memblokir Microsoft Edge di latar belakang di bawah Windows 10</a></li>
<li><a href="../id443158/index.html">Nostalgia for Half Life - menciptakan kotak dekoder untuk stasiun radio untuk menerima suara dan mengakhiri suara dalam gaya menggabungkan</a></li>
<li><a href="../id443160/index.html">Intisari materi menarik untuk pengembang seluler # 289 (4 Maret - 10 Maret)</a></li>
<li><a href="../id443162/index.html">Penerapan diagram matriks dan kompetensi</a></li>
<li><a href="../id443164/index.html">Trik jaringan saraf untuk pemula</a></li>
<li><a href="../id443166/index.html">Buat dan perbarui milis di Zimbra Collaboration OSE berdasarkan pada kelompok dan pengguna Direktori Aktif</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>