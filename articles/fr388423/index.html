<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë∂üèæ üòÑ ‚òùüèø Comparaison des codecs HEVC de MSU. Comment am√©liorer les r√©sultats üßìüèø ü§ûüèæ üí™</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En octobre 2015, un autre rapport de comparaison de codecs a √©t√© publi√© au VMiK de l'Universit√© d'√âtat de Moscou, cette fois il comprenait plusieurs c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comparaison des codecs HEVC de MSU. Comment am√©liorer les r√©sultats</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/388423/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En octobre 2015, un autre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rapport de comparaison de codecs a</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √©t√© publi√© </font><font style="vertical-align: inherit;">au VMiK de l'Universit√© d'√âtat de Moscou, cette fois il comprenait plusieurs codecs HEVC. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le point de d√©part de l'√©tude √©tait que nous avons remarqu√© une diff√©rence de pr√©r√©glages dans les tests pour AVC et HEVC - pour AVC, un profil rapide non modifi√© avec un GOP a √©t√© utilis√©, et pour HEVC, un profil modifi√© avec plusieurs GOP a √©t√© utilis√©. Dans le m√™me temps, pour le seul fichier ¬´Apple Tree¬ª d√©crit dans le rapport ouvert, l'encodeur x264 s'est av√©r√© meilleur que x265 lorsqu'il a √©t√© rapidement transcod√© sur les graphiques de la d√©pendance de SSIM sur le d√©bit sans √©gard √† la vitesse d'encodage. La question s'est imm√©diatement pos√©e: peut-√™tre que ces options ou d'autres √©videntes peuvent changer cette image.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le rapport compare les pr√©r√©glages, mais ne fournit pas de recommandations pour les corriger. </font><font style="vertical-align: inherit;">Dans cet article, nous avons fait une comparaison similaire et fait des recommandations pour modifier les pr√©r√©glages de l'encodeur x265. </font><font style="vertical-align: inherit;">Pour une s√©quence vid√©o similaire √† celle √©tudi√©e dans la version gratuite du rapport, les modifications propos√©es aux param√®tres d'encodage peuvent am√©liorer l'efficacit√© de la compression, tout en r√©habilitant l'encodeur x265 lors du tra√ßage du rapport. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les pr√©r√©glages modifi√©s ne pr√©tendent pas √† l'universalit√©, les tests sur un grand nombre de s√©quences vid√©o d√©passent le cadre de cette √©tude. </font><font style="vertical-align: inherit;">Cependant, ils peuvent √™tre recommand√©s comme point de d√©part lors de la recherche d'opportunit√©s pour augmenter l'efficacit√© de codage de x265.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä propos du projet</font></font></h3><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La t√¢che de l'encodage vid√©o dans le traitement multim√©dia, que ce soit la transmission, l'√©dition ou l'√©dition, le stockage, se pose constamment √† la fois lors du d√©veloppement d'applications et de services, et lorsqu'ils sont configur√©s au moment de l'utilisation. En raison du grand nombre de codecs vid√©o populaires, m√™me souvent du m√™me type, il n'est pas facile de choisir le meilleur parmi eux, puis de d√©finir les param√®tres appropri√©s. Probablement, guid√©s par de telles consid√©rations, dans le laboratoire d'infographie et de multim√©dia de la facult√© de math√©matiques computationnelles et cybern√©tique (VMiK) de l'Universit√© d'√âtat de Moscou depuis les ann√©es 2000, un projet de comparaison de codecs vid√©o est en cours.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En octobre 2015, un rapport de comparaison de codecs a √©t√© publi√© qui comprenait certains codecs au format HEVC, ainsi que plusieurs autres en cours de d√©veloppement actif. </font><font style="vertical-align: inherit;">Comme compresseur de r√©f√©rence adopt√© "x264". </font><font style="vertical-align: inherit;">L'un des √©l√©ments int√©ressants du rapport est le compresseur x265, et nous l'√©tudierons. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme outil d'analyse, nous utiliserons SolveigMM Zond 265, l'analyseur de fichiers HEVC / H.265 et AVC / H.264.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/0d9/39c/b29/0d939cb290d31812d91d9a2747360002.png" alt="image"><br>
<br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√©thodes de comparaison des codecs et de s√©lection des param√®tres</font></font></h3><br>
<br>
<a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous d√©crivons la technique. </font><font style="vertical-align: inherit;">La comparaison dans le rapport est effectu√©e selon les crit√®res de qualit√© de d√©bit binaire (SSIM, PSNR). La proc√©dure d√©crite dans le rapport pour comparer le rapport d√©bit binaire / qualit√© m√©trique (paragraphe C.4) est la suivante. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous s√©lectionnons plusieurs valeurs de bitrate (par exemple, 7 valeurs: 1, 2, 4, 6, 8, 10 et 12 Mbps), pour elles nous consid√©rons les m√©triques de qualit√© n√©cessaires pour chaque codec. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous marquons les valeurs obtenues sur le graphique: m√©trique de qualit√© (axe des abscisses) - d√©bit binaire (axe des ordonn√©es).</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interpoler lin√©airement.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous s√©lectionnons la plage la plus large sur laquelle tous les graphiques sont d√©finis et trouvons la zone sous tous les graphiques.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mesurer la qualit√© d'un</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> codec particulier (ou pr√©r√©gl√©), nous prenons le rapport de sa zone √† la zone du codec de r√©f√©rence. </font><font style="vertical-align: inherit;">Plus le nombre est bas, plus le codec est efficace.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour r√©f√©rence, s√©lectionnez x265 avec le pr√©r√©glage s√©lectionn√© dans le rapport (tableau 1). </font><font style="vertical-align: inherit;">Le rapport n'utilise pas la derni√®re version du compresseur, il peut √™tre trouv√© ici: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x265 1.5 + 460-ac85c775620f</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Cependant, lors de l'utilisation de la derni√®re version, rien ne change fondamentalement. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les pr√©r√©glages de compresseur utilis√©s sont indiqu√©s dans le tableau 1 (pour la plate-forme de bureau).</font></font><br>
<br>
<table border="1">
<tbody>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Extraction</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> x265 -p veryslow --bitrate% BITRATE_KBPS %% SOURCE_FILE% -o% TARGET_FILE% --input-res% WIDTH% x% HEIGHT% --fps% FPS%</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Codage universel</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> x265 -p moyen --bitrate% BITRATE_KBPS %% SOURCE_FILE% -o% TARGET_FILE% --input-res% WIDTH% x% HEIGHT% --fps% FPS%</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Recodage rapide</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> x265 -p ultra-rapide - ref 3 --bitrate% BITRATE_KBPS %% SOURCE_FILE% -o% TARGET_FILE% --input-res% WIDTH% x% HEIGHT% --fps% FPS%</font></font><br>
 </td>
</tr>
</tbody>
</table><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tableau 1. Param√®tres du compresseur x265 du rapport ¬´Comparaison des codecs vid√©o MSU HEVC¬ª. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour obtenir des recommandations de modification des pr√©r√©glages, nous testons tous les param√®tres qui les composent - la contribution de chaque composant √† la qualit√© et √† la vitesse. </font><font style="vertical-align: inherit;">Le plan ici est le suivant.</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous encodons le fichier, en changeant chaque param√®tre du preset: du transcodage rapide √† l'universel, de l'universel au ¬´ripping¬ª. </font><font style="vertical-align: inherit;">En m√™me temps, nous √©conomisons le temps d'encodage.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous calculons la mesure de qualit√© (comme la zone indiqu√©e ci-dessus) et le </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">temps d'encodage relatif</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (la valeur d'encodage FPS minimum pour le fichier "param√®tre modifi√© par d√©faut" par rapport √† toutes les valeurs de d√©bit s√©lectionn√©es).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans le tableau compos√© d'un param√®tre variable, d'une mesure de qualit√©, d'un FPS minimum, nous s√©lectionnons les param√®tres qui peuvent √™tre utilis√©s pour am√©liorer les pr√©r√©glages.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous nous limitons aux param√®tres des pr√©r√©glages pour le codage universel et pour le ¬´ripping¬ª (tableau 2), r√©v√©lant les param√®tres ¬´-p medium¬ª et ¬´-p ultrastast¬ª. </font><font style="vertical-align: inherit;">Ajoutez-leur deux autres manquants dans le rapport: ¬´--keyint -1 --tune ssim¬ª. </font><font style="vertical-align: inherit;">Nous compl√©terons les param√®tres r√©pertori√©s avec des pr√©r√©glages pour un transcodage rapide et universel, respectivement.</font></font><br>
<table border="1">
<tbody>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Codage universel</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> --rc-lookahead 20 --scenecut 40 --ctu 64 --min-cu-size 8 --bframes 4 --b-adapt 2 --subme 1 --me hex --early-skip --sao - signhide --weightp --rd 3 --aq-Strength 1.0 --aq-mode 1 --cutree --no-fast-intra</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Extraction</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> --weightb --amp --rect --rc-lookahead 40 --bframes 8 --tu-inter-depth 3 --tu-intra-depth 3 --rd 6 --rdoq 2 --psy-rdoq 1.0 - -subme 4 --max-merge 4 --me star --ref 5 --b-intra --lookahead-slices 0</font></font><br>
 </td>
</tr>
</tbody>
</table><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tableau 2. Param√®tres candidats pour la modification des pr√©r√©glages du rapport de comparaison du codec vid√©o MSU HEVC </font></font><br>
<br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Test</font></font></h3><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le lien de t√©l√©chargement de la s√©quence de test Apple Tree (Fig. 1), utilis√© dans la version gratuite du rapport, n'est pas sp√©cifi√©. </font><font style="vertical-align: inherit;">Nous en choisirons un similaire, en utilisant sa caract√©ristique cl√© - un gros plan, un grand nombre de petits d√©tails. </font><font style="vertical-align: inherit;">Par exemple, " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=http://download.blender.org/peach/bigbuckbunny_movies/big_buck_bunny_1080p_h264.mov"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">big_buck_bunny_1080p_h264.mov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ", un intervalle de 338 images sur 24 secondes: </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ffmpeg -i big_buck_bunny_1080p_h264.mov -ss 00:00:24 -frames: v 338 -c: v rawvideo -pix_fmt yuv420p √©chantillon </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/fce/39d/479/fce39d4793eb54f88cff9eac8dfdf7cd.png" alt="image"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
de la s√©quence de caract√®res </font><font style="vertical-align: inherit;">1.yuv </font><font style="vertical-align: inherit;">Apple Tree ¬ª </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Afin de ne pas passer beaucoup de temps √† √©crire les num√©ros n√©cessaires √† partir de l'interface Zond 265 lors de la mise en ≈ìuvre des trois √©tapes du plan indiqu√© ci-dessus, il est pratique d'utiliser sa capacit√© √† travailler sur la ligne de commande (tableau 3):</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
zond265_x64% COMPRESSED_FILE% -iref% REFERENCE_420P_FILE% -nowait -report t = quality, statstream qm = SSIM o =% TARGET_CSV_FILE% </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une liste de tous les param√®tres, ainsi que leur description d√©taill√©e, se trouve sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la page de documentation du Zond 265</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<table border="1">
<tbody>
<tr>
<td> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Param√®tre</font></font></b><br>
 </td>
<td> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La description</font></font></b><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -iref</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> D√©finition du fichier YUV de r√©f√©rence</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -Rapport</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sp√©cification du mode de fonctionnement du Zond 265 sur la ligne de commande</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> t = qualit√©, statstream</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ici, la g√©n√©ration de deux rapports est s√©lectionn√©e: qualit√© et statistiques sur le flux vid√©o</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qm = SSIM</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mesure de qualit√© pour le calcul</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> o</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Chemin d'acc√®s au fichier de rapport CSV</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -maintenant</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sans pause, le Zond 265 lui-m√™me doit passer de fichier en fichier sans d√©lai</font></font><br>
 </td>
</tr>
</tbody>
</table><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tableau 3. Param√®tres de ligne de commande Zond 265 n√©cessaires √† la compilation d'un script </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici deux scripts pour Python 2.7: un pour </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coder</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 266 fichiers (20 param√®tres pour le premier, 18 param√®tres pour le second pr√©r√©glage, pour 7 d√©bits binaires: 1, 2, 4, 6, 8, 10, 12 Mbps), le second pour la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">compilation d'un rapport au format CSV</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (fichier - le rapport du codage FPS sur la configuration de r√©f√©rence - le rapport de la m√©trique SSIM sur la configuration de r√©f√©rence). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme le montrent les tableaux de rapport pour le fragment du fichier " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">big_buck_bunny_1080p_h264.mov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " (tableaux 5 et 6), vous pouvez modifier la configuration, par exemple, comme indiqu√© dans le tableau 4. Rappeler pour am√©liorer l'efficacit√©</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la valeur de la mesure de qualit√© doit √™tre inf√©rieure √† un et la valeur de temps de codage relatif doit √™tre sup√©rieure √† un. </font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le test a √©t√© effectu√© sur un ordinateur avec la configuration suivante: Intel Core i7-2600@3,4 GHz, 16 Go de RAM. </font><font style="vertical-align: inherit;">La plus grande am√©lioration de la qualit√© est apport√©e par le param√®tre ¬´--min-cu-size 8¬ª pour la configuration d'un encodage rapide, pour l'encodage universel le param√®tre ¬´--rdoq-level 2¬ª (mais il ralentit √©galement l'encodage surtout).</font></font><br>
<br>
<table border="1">
<tbody>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Recodage rapide</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x265 -p ultra-rapide - ref 3 - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t√™te de lecture rc 20 - taille min-cu 8 - cadres 4 - saut pr√©coce - cutree -</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> syntonisation </font><b><font style="vertical-align: inherit;">ssim -</font></b><font style="vertical-align: inherit;"> d√©bit% BITRATE_KBPS %% SOURCE_FILE% -o% TARGET_FILE% --input-res% WIDTH% x% HEIGHT% --fps% FPS%</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Codage universel</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x265 -p moyen </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--weightb --bframes 8 --tu-intra-profondeur 3 --psy-rdoq 1.0 --b-intra --lookahead-slices 0 --tune ssim</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> --bitrate% BITRATE_KBPS %% SOURCE_FILE% - o% TARGET_FILE% --input-res% WIDTH% x% HEIGHT% --fps% FPS%</font></font><br>
 </td>
</tr>
</tbody>
</table><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tableau 4. Modification des pr√©r√©glages du rapport de comparaison des codecs vid√©o MSU HEVC pour augmenter l'efficacit√© du codage au m√™me taux de codage</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tableau 5. Rapport sur la modification du pr√©r√©glage de recodage rapide</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/getpro/geektimes/post_images/cd2/c6c/693/cd2c6c6931161d0287d11906ed36079f.png" alt="image"><br>
 5.      <br>
</div></div><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tableau 6. Rapport sur la modification du pr√©r√©glage de codage universel</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/getpro/geektimes/post_images/537/4cd/30b/5374cd30b05c3e7b1ecb2b7440595213.png" alt="image"><br>
 6.      <br>
</div></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le bon choix d'options est facile √† v√©rifier en ex√©cutant </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le script d'encodage avec les pr√©r√©glages modifi√©s</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (tableau 7).</font></font><br>
<br>
<table border="1">
<tbody>
<tr>
<td> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La configuration</font></font></b><br>
 </td>
<td> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mesure de qualit√©</font></font></b><br>
 </td>
<td> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Temps de codage relatif</font></font></b><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Transcodage rapide (r√©f√©rence)</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Transcodage rapide, modifi√©</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0,69</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0,97</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Transcodage universel (r√©f√©rence)</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Transcodage universel, modifi√©</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0,85</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0,94</font></font><br>
 </td>
</tr>
</tbody>
</table><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tableau 7. Efficacit√© du codage √† l'aide de pr√©r√©glages modifi√©s par rapport aux pr√©r√©glages du rapport ¬´Comparaison des codecs vid√©o MSU HEVC¬ª </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essayons de voir ce que le changement d'options a influenc√© - nous ouvrirons dans Zond 265 un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fichier cod√© par le pr√©r√©glage modifi√© lors du transcodage rapide</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour un d√©bit de 8 Mbps et le comparerons avec le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fichier, pr√©r√©glage inchang√© cod√©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. La taille de l'unit√© de codage maximale reste la m√™me et est de 32x32 (zone "--ctu 32"). Mais la taille du bloc minimum est pass√©e de 16 √† 8 (la zone ¬´--min-cu-size 8¬ª), c'est ce param√®tre qui a donn√© la plus grande augmentation de qualit√©. Le nombre de trames B est pass√© de 3 √† 4 (zone ¬´--bframes 4¬ª), mais le nombre maximal de trames ¬´de r√©f√©rence¬ª a augment√© (zone ¬´--ref 4¬ª). La zone SSIM affiche les graphiques SSIM / PSNR maximum pour trois composants: luminosit√© (Luma) et deux composants de couleur (Cb, Cr). Ils sont pass√©s de 0,9623-0,9966 √† 0,9771-0,9991. Les autres param√®tres suppl√©mentaires (--rc-lookahead 20 --early-skip --cutree) affectent l'algorithme d'encodage, et non le type de la vid√©o r√©sultante, cela se refl√®te principalement dans la vitesse d'encodage (voir Tableau 5). Il faut notervisuellement, l'image de la trame d√©cod√©e a chang√© - les artefacts d'encodage ne sont plus visibles.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/f83/d2d/cde/f83d2dcde165b09e33f3245131682ce2.png" alt="image"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figure 2. Capture d'√©cran du fichier Zond 265 encod√© en utilisant la configuration corrig√©e de l'encodage rapide </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De m√™me, vous pouvez v√©rifier les param√®tres du fichier encod√© avec le </font><font style="vertical-align: inherit;">pr√©r√©glage d'encodage universel </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modifi√©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inchang√©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Figure 3). La taille des partitions TU minimales n'a pas chang√© et est rest√©e √©gale √† 4x4 (zone ¬´--tu-intra-profondeur 3¬ª), le nombre de trames B est rest√© inchang√© et √©gal √† 3 (zone ¬´--bframes 3¬ª). SSIM est pass√© de 0,9789-0,9994 √† 0,9811-0,9992. Par rapport √† la configuration de transcodage rapide, la taille maximale des blocs a augment√©, est devenue √©gale √† 64x64 (zone ¬´--ctu 64¬ª), un filtre SAO (zone ¬´--sao¬ª) a √©t√© ajout√©.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/52b/042/875/52b0428750f30b018f10aa48187e42f3.png" alt="image"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figure 3. Capture d'√©cran du fichier Zond 265 cod√© √† l'aide de la configuration de codage universel corrig√©e. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, sur la base des tests, une liste d'options est propos√©e pour am√©liorer l'efficacit√© du codage (am√©lioration de la m√©trique SSIM avec le m√™me d√©bit et la m√™me vitesse de codage) pour des configurations de codage rapides et universelles. </font><font style="vertical-align: inherit;">En utilisant les modifications propos√©es pour un fichier contenant un grand nombre de petits d√©tails, la valeur de la ¬´mesure de qualit√©¬ª int√©grale du rapport ¬´Comparaison des codecs vid√©o MSU HEVC¬ª s'est am√©lior√©e de 31% pour un transfert rapide et de 15% lorsqu'il est universel, le taux de codage n'a pas chang√© de mani√®re significative. </font><font style="vertical-align: inherit;">Parce que </font><font style="vertical-align: inherit;">√âtant donn√© que les tests ont √©t√© effectu√©s s√©par√©ment pour chaque option, dans la pratique, vous pouvez s√©lectionner et utiliser uniquement certaines options pratiques, et non la liste compl√®te propos√©e.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les r√©f√©rences</font></font></h3><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">HEVC Video Codecs Comparison</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Blender Foundation | www.blender.org</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Zond 265 home page</a></li>
</ol></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr388423/">https://habr.com/ru/post/fr388423/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr388413/index.html">Ampoules LED X-Flash</a></li>
<li><a href="../fr388415/index.html">MP8036multi: exemple de thermostat</a></li>
<li><a href="../fr388417/index.html">Sport vs fitness: Fitbit Charge HR et Polar M400</a></li>
<li><a href="../fr388419/index.html">Fusar: comment transformer votre casque en casque intelligent</a></li>
<li><a href="../fr388421/index.html">OpenCL dans les t√¢ches quotidiennes</a></li>
<li><a href="../fr388425/index.html">NX 1 est l'imprimante 3D la plus rapide. Aper√ßu du r√©volutionnaire dans le monde de l'impression 3D</a></li>
<li><a href="../fr388429/index.html">Peter Malkin: ¬´Je voulais que cela n'ait pas honte des derni√®res ann√©es¬ª</a></li>
<li><a href="../fr388431/index.html">BitNotarize sugg√®re d'utiliser la blockchain au lieu du notaire public</a></li>
<li><a href="../fr388433/index.html">Les physiciens ont propos√© un moyen d'extraire des informations d'un trou noir</a></li>
<li><a href="../fr388435/index.html">Comment nous avons fait un analogue d'Oculus Rift</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>