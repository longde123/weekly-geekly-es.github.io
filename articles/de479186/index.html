<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙎🏼 🌟 🕍 Über die Struktur des Parallel-Computing oder die Argumente gegen den "Go" -Operator 👱 👋🏿 🤟🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Jede Sprache, die paralleles (wettbewerbsfähiges, asynchrones) Computing unterstützt, benötigt eine Möglichkeit, Code parallel auszuführen. Hier sind ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Über die Struktur des Parallel-Computing oder die Argumente gegen den "Go" -Operator</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/479186/"><p><img src="https://habrastorage.org/getpro/habr/post_images/85d/e9d/a9e/85de9da9eebff2dc7806d48e9b71706e.png"></p><br><p>  Jede Sprache, die paralleles (wettbewerbsfähiges, asynchrones) Computing unterstützt, benötigt eine Möglichkeit, Code parallel auszuführen.  Hier sind Beispiele aus verschiedenen APIs: </p><br><pre><code class="plaintext hljs">go myfunc(); // Golang pthread_create(&amp;thread_id, NULL, &amp;myfunc); /* C with POSIX threads */ spawn(modulename, myfuncname, []) % Erlang threading.Thread(target=myfunc).start() # Python with threads asyncio.create_task(myfunc()) # Python with asyncio</code> </pre> <br><p>  Es gibt viele Optionen für Notation und Terminologie, aber eine Semantik besteht darin, <code>myfunc</code> parallel zum Hauptprogramm <code>myfunc</code> und den übergeordneten <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D0%25BE%25D1%2582%25D0%25BE%25D0%25BA_%25D0%25B2%25D1%258B%25D0%25BF%25D0%25BE%25D0%25BB%25D0%25BD%25D0%25B5%25D0%25BD%25D0%25B8%25D1%258F" rel="nofollow">Ausführungsthread</a> (Kontrollfluss) fortzusetzen. </p><a name="habracut"></a><br><p>  Eine andere Option ist <a href="https://ru.wikipedia.org/wiki/Callback_(%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5)" rel="nofollow">Rückrufe</a> : </p><br><pre> <code class="plaintext hljs">QObject::connect(&amp;emitter, SIGNAL(event()), // C++ with Qt &amp;receiver, SLOT(myfunc())) g_signal_connect(emitter, "event", myfunc, NULL) /* C with GObject */ document.getElementById("myid").onclick = myfunc; // Javascript promise.then(myfunc, errorhandler) // Javascript with Promises deferred.addCallback(myfunc) # Python with Twisted future.add_done_callback(myfunc) # Python with asyncio</code> </pre> <br><p>  Und wieder ändert sich die Notation, aber alle Beispiele machen es so, dass <code>myfunc</code> vom aktuellen Moment an startet, wenn und wenn ein bestimmtes Ereignis <code>myfunc</code> .  Sobald der Rückruf eingestellt ist, kehrt die Steuerung zurück und die aufrufende Funktion wird fortgesetzt.  (Manchmal werden Rückrufe in <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Promise/all" rel="nofollow">praktische</a> <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Promise/race" rel="nofollow">Kombinationsfunktionen</a> oder <a href="https://twistedmatrix.com/documents/current/core/howto/servers.html" rel="nofollow">Protokolle im Twisted-Stil eingebunden</a> , aber die Grundidee bleibt unverändert.) </p><br><p>  Und das ist alles.  Nehmen Sie eine gängige Mehrzwecksprache, und Sie werden wahrscheinlich feststellen, dass sie in eines dieser Paradigmen fällt (manchmal beides, asyncio). </p><br><p>  Aber nicht meine neue seltsame <a href="https://trio.readthedocs.io/" rel="nofollow">Trio-</a> Bibliothek.  Sie verwendet diese Ansätze nicht.  Wenn wir stattdessen <code>myfunc</code> und <code>anotherfunc</code> parallel <code>myfunc</code> <code>anotherfunc</code> , schreiben wir <code>anotherfunc</code> : </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> trio.open_nursery() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> nursery: nursery.start_soon(myfunc) nursery.start_soon(anotherfunc)</code> </pre> <br><blockquote>  Kindergarten - Kindergarten, Kindergarten </blockquote><p>  Zum ersten Mal sind die Menschen vor dem Hintergrund der Gestaltung des "Kindergartens" verloren.  Warum gibt es <a href="https://pythonworld.ru/osnovy/with-as-menedzhery-konteksta.html" rel="nofollow">einen Kontextmanager</a> (mit Block)?  Was ist das für ein Kindergarten und warum ist es notwendig, eine Aufgabe auszuführen?  Dann verstehen die Leute, dass der Kindergarten die üblichen Ansätze in anderen Rahmen stört und wütend wird.  Alles wirkt bizarr, spezifisch und zu hoch, um ein grundlegendes Primitiv zu sein.  All dies sind verständliche Reaktionen!  Aber ertrage es ein wenig. </p><br><p>  <strong>In diesem Artikel möchte ich Sie davon überzeugen, dass Kindergärten keine Modeerscheinung sind, sondern ein neues Grundelement für die Steuerung des Ausführungsflusses, so grundlegend wie Schleifen und Funktionsaufrufe.</strong>  <strong>Darüber hinaus müssen die oben diskutierten Ansätze (Erstellen von Threads und Registrieren von Rückrufen) verworfen und durch Kindergärten ersetzt werden.</strong> </p><br><p>  Klingt zu fett?  Dies ist jedoch bereits geschehen: <code>goto</code> häufig verwendet, um das Verhalten eines Programms zu steuern.  Dies ist eine Gelegenheit zum Lachen: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/c37/12a/b90/c3712ab9028c26f7ff089f3ff14e9071.png"></p><br><p>  Einige Sprachen haben noch das sogenannte <code>goto</code> , aber seine Fähigkeiten sind viel eingeschränkter als das ursprüngliche <code>goto</code> .  Und in den meisten Sprachen ist es überhaupt nicht.  Was ist mit ihm passiert?  Diese Geschichte ist überraschend aktuell, obwohl sie den meisten wegen ihrer Antike unbekannt ist.  Erinnern wir uns daran, was <code>goto</code> und wie dies bei der asynchronen Programmierung helfen kann. </p><br><h1 id="oglavlenie">  Inhaltsverzeichnis </h1><br><ul><li>  Was ist goto? </li><li>  Was ist los? </li><li>  Was ist mit goto passiert? <br><ul><li>  goto zerstört die Abstraktion </li><li>  Schöne neue Welt ohne zu gehen </li><li>  Nicht mehr gehen </li></ul></li><li>  Über die Gefahren von Ausdrücken vom Typ „Go“ <br><ul><li>  go-Ausdrücke brechen Abstraktionen. </li><li>  go-expressions unterbrechen die automatische Bereinigung offener Ressourcen. </li><li>  go-Ausdrücke unterbrechen die Fehlerbehandlung. </li><li>  Nicht mehr gehen </li></ul></li><li>  Kindergarten als baulicher Ersatz für unterwegs <br><ul><li>  Der Kindergarten behält die Abstraktion der Funktionen. </li><li>  Der Kindergarten unterstützt das dynamische Hinzufügen von Aufgaben. </li><li>  Sie können den Kindergarten trotzdem verlassen. </li><li>  Sie können neue Typen identifizieren, die als Kindergarten quaken. </li><li>  Nein, Kindergärten warten immer darauf, dass alle Aufgaben erledigt sind. </li><li>  Funktioniert die automatische Reinigung von Ressourcen. </li><li>  Fehlererhebung funktioniert. </li><li>  Schöne neue Welt ohne gehen </li></ul></li><li>  Kindergärten in der Praxis </li><li>  Schlussfolgerungen </li><li>  Kommentare </li><li>  Danksagung </li><li>  Fußnoten </li><li>  Über den Autor </li><li>  Fortsetzung </li></ul><br><h1 id="chto-takoe-goto">  Was ist <code>goto</code> ? </h1><br><p>  Die ersten Computer wurden mit <a href="https://ru.wikipedia.org/wiki/%25D0%25AF%25D0%25B7%25D1%258B%25D0%25BA_%25D0%25B0%25D1%2581%25D1%2581%25D0%25B5%25D0%25BC%25D0%25B1%25D0%25BB%25D0%25B5%25D1%2580%25D0%25B0" rel="nofollow">Assembler</a> oder noch primitiver programmiert.  Das ist nicht sehr praktisch.  In den 1950er Jahren begannen Leute wie <a href="https://ru.wikipedia.org/wiki/%25D0%2591%25D1%258D%25D0%25BA%25D1%2583%25D1%2581,_%25D0%2594%25D0%25B6%25D0%25BE%25D0%25BD" rel="nofollow">John Backus</a> von IBM und <a href="https://ru.wikipedia.org/wiki/%25D0%25A5%25D0%25BE%25D0%25BF%25D0%25BF%25D0%25B5%25D1%2580,_%25D0%2593%25D1%2580%25D0%25B5%25D0%25B9%25D1%2581" rel="nofollow">Grace Hopper</a> von <a href="https://ru.wikipedia.org/wiki/Remington_Rand" rel="nofollow">Remington Rand</a> Sprachen wie <a href="https://ru.wikipedia.org/wiki/%25D0%25A4%25D0%25BE%25D1%2580%25D1%2582%25D1%2580%25D0%25B0%25D0%25BD" rel="nofollow">FORTRAN</a> und <a href="https://en.wikipedia.org/wiki/FLOW-MATIC" rel="nofollow">FLOW-MATIC</a> (besser bekannt für seinen direkten Nachkommen <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BE%25D0%25B1%25D0%25BE%25D0%25BB" rel="nofollow">COBOL</a> ) zu entwickeln. </p><br><p>  FLOW-MATIC war zu dieser Zeit sehr ehrgeizig.  Sie können es sich als den Ur-Ur-Ur-Ur-Großvater von Python vorstellen - es war die erste Sprache, die hauptsächlich für Menschen entwickelt wurde, und die zweite für Computer.  Er sah so aus: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/620/bfd/d70/620bfdd7076dd6c0536f75a0dd187cd4.png"></p><br><p>  Beachten Sie, dass es im Gegensatz zu modernen Sprachen keine Bedingungen für Blöcke, Schleifen oder Funktionsaufrufe gibt - tatsächlich gibt es überhaupt keine Blöcke oder Einrückungen.  Dies ist nur eine sequentielle Liste von Ausdrücken.  Nicht, weil dieses Programm zu kurz ist, um Steueranweisungen (außer <code>JUMP TO</code> ) zu erfordern - eine solche Syntax wurde noch nicht erfunden! </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/eaa/d88/f7b/eaad88f7b6d97d7140f33cf48bb52a55.png"></p><br><p>  Stattdessen hatte FLOW-MATIC zwei Möglichkeiten, den Ausführungsfluss zu steuern.  Normalerweise war der Fluss konsistent - beginnen Sie von oben und bewegen Sie sich nach unten, jeweils einen Ausdruck nach dem anderen.  Wenn Sie jedoch den speziellen Ausdruck <code>JUMP TO</code> ausführen, kann er an anderer Stelle die Steuerung übernehmen.  Zum Beispiel springt Ausdruck (13) zu Ausdruck (2): </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/753/de0/ae9/753de0ae91dc198fa867707d441fc511.png"></p><br><p>  Genau wie bei den Grundelementen der Parallelität vom Anfang des Artikels gab es keine Einigung darüber, wie diese "Einwegsprung" -Operation zu bezeichnen ist.  In der Auflistung ist dies <code>JUMP TO</code> , aber <code>goto</code> historisch Wurzeln geschlagen (wie "go there"), die ich hier verwende. </p><br><p>  Hier ist der komplette Satz von Sprüngen in diesem kleinen Programm: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/32a/127/4f4/32a1274f45c48110468e47083437bf29.png"></p><br><p>  Das kommt dir nicht nur verwirrend vor!  FLOW-MATIC hat diesen springbasierten Programmierstil direkt vom Assembler geerbt.  Es ist leistungsfähig und entspricht in etwa der tatsächlichen Funktionsweise der Computerhardware, es ist jedoch sehr schwierig, direkt damit zu arbeiten.  Diese Kugel aus Pfeilen ist der Grund für die Erfindung des Begriffs "Spaghetti-Code". </p><br><p>  Aber warum hat das so ein Problem verursacht?  Warum sind einige Steueranweisungen gut und andere nicht?  Wie wählt man die Guten aus?  Zu dieser Zeit war es völlig unverständlich, und wenn Sie das Problem nicht verstehen, ist es schwer zu lösen. </p><br><h1 id="chto-takoe-go">  Was ist <code>go</code> ? </h1><br><p>  Lassen Sie uns von unserer Geschichte abschweifen.  Jeder weiß, dass <code>goto</code> schlecht war, aber was hat das mit Asynchronität zu tun?  Schauen Sie sich den berühmten <code>go</code> Ausdruck aus Golang an, mit dem der neue "Goroutine" (Lightweight Stream) erzeugt wird: </p><br><pre> <code class="plaintext hljs">// Golang go myfunc();</code> </pre> <br><p>  Ist es möglich, ein Diagramm seines Ausführungsflusses zu zeichnen?  Es unterscheidet sich geringfügig von dem obigen Diagramm, da hier der Stream aufgeteilt ist.  Lassen Sie es uns so zeichnen: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/7b4/5ed/524/7b45ed524dc3bcd7625f5aaf60497607.png"></p><br><p>  Die Farben hier sollen zeigen, dass <em>beide</em> Pfade gewählt sind.  Aus Sicht der übergeordneten Goroutine (grüne Linie) wird der <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D0%25BE%25D1%2582%25D0%25BE%25D0%25BA_%25D0%25B2%25D1%258B%25D0%25BF%25D0%25BE%25D0%25BB%25D0%25BD%25D0%25B5%25D0%25BD%25D0%25B8%25D1%258F" rel="nofollow">Kontrollfluss</a> sequentiell ausgeführt: Er beginnt von oben und geht dann sofort nach unten.  Aus Sicht der Nachkommenfunktion (Fliederlinie) kommt der Strom <code>myfunc</code> von oben und springt dann in den Körper von <code>myfunc</code> .  Im Gegensatz zu einem regulären Funktionsaufruf gibt es einen Sprung in eine Richtung - beim Starten von <code>myfunc</code> wechseln wir zu einem völlig neuen <em>Stack</em> und die <a href="https://ru.wikipedia.org/wiki/%25D0%25A1%25D1%2580%25D0%25B5%25D0%25B4%25D0%25B0_%25D0%25B2%25D1%258B%25D0%25BF%25D0%25BE%25D0%25BB%25D0%25BD%25D0%25B5%25D0%25BD%25D0%25B8%25D1%258F" rel="nofollow">Laufzeit</a> vergisst sofort, woher wir gekommen sind. </p><br><blockquote>  anscheinend meine ich <a href="https://ru.wikipedia.org/wiki/%25D0%25A1%25D1%2582%25D0%25B5%25D0%25BA_%25D0%25B2%25D1%258B%25D0%25B7%25D0%25BE%25D0%25B2%25D0%25BE%25D0%25B2" rel="nofollow">den callstack</a> </blockquote><p>  Dies gilt aber nicht nur für Golang.  Dieses Diagramm gilt für <em>alle</em> am Anfang des Artikels aufgeführten Grundelemente (Steuerelemente): </p><br><ul><li>  Threading-Bibliotheken geben normalerweise eine Art Steuerobjekt zurück, mit dem sie später dem Thread beitreten können. Dies ist jedoch eine unabhängige Operation, von der die Sprache selbst nichts weiß.  Das Grundelement zum Erstellen eines neuen Threads hat das oben gezeigte Diagramm. </li><li>  Die Registrierung von Rückrufen entspricht semantisch der Erstellung eines Hintergrundthreads (obwohl es offensichtlich ist, dass die Implementierung unterschiedlich ist), der: <br>  a) gesperrt wird, bis ein Ereignis eintritt, und dann <br>  b) startet eine Rückruffunktion <br>  Rückrufregistrierung ist also in Bezug auf übergeordnete Steueroperatoren ein Ausdruck, der mit <code>go</code> identisch ist. </li><li>  Bei <code>Futures</code> und <code>Promises</code> dasselbe: Wenn Sie die Funktion ausführen und <code>Promise</code> , bedeutet dies, dass die Arbeit im Hintergrund geplant ist und ein Kontrollobjekt zurückgegeben wird, um das Ergebnis später zu erhalten (falls Sie dies wünschen).  Aus Sicht der Management-Semantik entspricht dies dem Erstellen eines Flows.  Danach übergeben Sie den Rückruf an Promis und dann wie im vorherigen Absatz. </li></ul><br><p>  Dasselbe Muster zeigt sich in vielen Formen - die wesentliche Ähnlichkeit besteht darin, dass in all diesen Fällen der Kontrollfluss aufgeteilt wird - es wird ein Sprung zum neuen Thread ausgeführt, aber der übergeordnete Thread kehrt zu dem zurück, der ihn aufgerufen hat.  Wenn Sie wissen, was Sie sehen müssen, werden Sie es überall sehen!  Dies ist ein interessantes Spiel (zumindest für einige Arten von Menschen)! </p><br><p>  Trotzdem ärgert es mich, dass es für diese Kategorie von Steueranweisungen keinen Standardnamen gibt.  Ich benutze den Ausdruck <strong>"go"</strong> , um sie aufzurufen, so wie <strong>"goto"</strong> ein Oberbegriff für alle <code>goto</code> Ausdrücke geworden ist.  Warum <code>go</code> ?  Ein Grund dafür ist, dass Golang uns ein sehr sauberes Beispiel für eine solche Syntax gibt.  Und der andere ist: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/1ad/41c/8e1/1ad41c8e1896e247183cd25d08b353f5.png"></p><br><p>  Beachten Sie die Ähnlichkeit?  Das ist richtig - <strong><code>go</code> ist eine der <code>goto</code> Formen.</strong> </p><br><p>  Asynchrone Programme sind für ihre Schwierigkeit beim Schreiben und Analysieren berüchtigt.  Sowie Programme basierend auf <code>goto</code> .  Die durch <code>goto</code> verursachten Probleme <code>goto</code> meist in modernen Sprachen gelöst.  Wenn wir lernen, wie man <code>goto</code> behebt, hilft dies, bequemere asynchrone APIs zu erstellen?  Lass es uns herausfinden! </p><br><h1 id="chto-sluchilos-s-goto">  Was ist mit <code>goto</code> passiert? </h1><br><p>  Was ist also los mit <code>goto</code> , das so viele Probleme verursacht?  In den späten 60er Jahren hat <a href="https://ru.wikipedia.org/wiki/%25D0%2594%25D0%25B5%25D0%25B9%25D0%25BA%25D1%2581%25D1%2582%25D1%2580%25D0%25B0,_%25D0%25AD%25D0%25B4%25D1%2581%25D0%25B3%25D0%25B5%25D1%2580_%25D0%2592%25D0%25B8%25D0%25B1%25D0%25B5" rel="nofollow">Edsger Wieb Dijkstra</a> einige bekannte Werke geschrieben, die dazu beigetragen haben, dies besser zu verstehen: Die <a href="http://khpi-iip.mipk.kharkiv.edu/library/extent/dijkstra/pp/ewd215.html" rel="nofollow">Argumente gegen den goto-Operator</a> und <a href="http://khpi-iip.mipk.kharkiv.edu/library/extent/dijkstra/ewd249/index.html" rel="nofollow">Hinweise zur strukturellen Programmierung</a> . </p><br><h2 id="goto-razrushaet-abstrakcii">  <code>goto</code> zerstört die Abstraktion </h2><br><p>  In diesen Arbeiten hat sich Dijkstra Gedanken darüber gemacht, wie wir nicht-triviale Programme schreiben und deren Richtigkeit sicherstellen.  Es gibt viele interessante Punkte.  Zum Beispiel haben Sie wahrscheinlich diesen Satz gehört: </p><br><blockquote>  Testprogramme können das Vorhandensein von Fehlern anzeigen, jedoch niemals deren Abwesenheit. </blockquote><p>  Ja, dies stammt aus <em>Structural Programming Notes</em> .  Sein Hauptanliegen war jedoch die <em>Abstraktion</em> .  Er wollte Programme schreiben, die zu groß waren, um sie im Kopf zu behalten.  Dazu müssen Sie die Programmteile als Black Boxes behandeln. Sie sehen beispielsweise dieses Programm in Python: </p><br><pre> <code class="python hljs">print(<span class="hljs-string"><span class="hljs-string">"Hello World!"</span></span>)</code> </pre> <br><p>  Außerdem müssen Sie nicht alle Details zur Funktionsweise des <code>print</code> (Zeilenformatierung, Pufferung, plattformübergreifende Unterschiede usw.).  Alles, was Sie wissen müssen, ist, dass <code>print</code> den übergebenen Text irgendwie druckt und Sie sich auf das konzentrieren können, was Sie in diesem Codeteil tun möchten.  Dijkstra wollte, dass Sprachen diese Art der Abstraktion unterstützen. </p><br><p>  Zu diesem Zeitpunkt wurde die Block-Syntax erfunden und Sprachen wie ALGOL sammelten ~ 5 verschiedene Arten von Steueranweisungen: Sie hatten immer noch einen sequentiellen Thread der Ausführung und gingen zu: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/eaa/d88/f7b/eaad88f7b6d97d7140f33cf48bb52a55.png"></p><br><p>  Und auch erfasste Bedingungen, Zyklen und Funktionsaufrufe: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/0d8/de3/a21/0d8de3a217a61b13b2c1f6869f706d6b.png"></p><br><p>  Sie können diese <code>goto</code> Konstrukte mit <code>goto</code> implementieren, und so dachten die Leute früher über sie: als praktische Abkürzung.  Aber Dijkstra wies auf den großen Unterschied zwischen <code>goto</code> und den anderen Bedienern hin.  Für alles andere als <code>goto</code> , der Thread der Ausführung </p><br><ul><li>  kommt von oben =&gt; [etwas passiert] =&gt; die Strömung kommt von unten </li></ul><br><p>  Wir können dies als „Black-Box-Regel“ bezeichnen. Wenn die Kontrollstruktur (Kontrolloperator) diese Form hat, können Sie in einer Situation, in der Sie sich nicht für die Details im Inneren interessieren, den Teil „etwas passiert“ ignorieren und den Block wie eine reguläre Abfolge behandeln team.  Noch besser ist, dass dies für jeden Code gilt, der aus diesen Blöcken besteht.  Wenn ich mir anschaue: </p><br><pre> <code class="python hljs">print(<span class="hljs-string"><span class="hljs-string">"Hello World!"</span></span>)</code> </pre> <br><p>  Ich muss die <code>print</code> und all ihre Abhängigkeiten nicht lesen, um zu verstehen, wohin der Ausführungsthread führen wird.  Vielleicht gibt es innerhalb von <code>print</code> eine Schleife und darin gibt es einen Zustand, in dem eine andere Funktion aufgerufen wird ... es ist alles nicht wichtig - ich weiß, dass der Thread <code>print</code> , die Funktion ihren Job erledigt und der Thread schließlich zu dem Code zurückkehrt, den ich habe Lese ich </p><br><p>  Aber wenn Sie eine Sprache mit <code>goto</code> - eine Sprache, in der Funktionen und alles andere auf <code>goto</code> basieren und <code>goto</code> jederzeit und überall springen kann - dann sind diese Strukturen überhaupt keine Black Boxes!  Wenn Sie eine Funktion mit einer Schleife haben, in der es eine Bedingung gibt und in der es <code>goto</code> ... dann kann dieses <code>goto</code> die Ausführung überall passieren.  Vielleicht kehrt die Steuerung plötzlich vollständig von einer anderen Funktion zurück, die Sie noch nicht einmal aufgerufen haben!  Sie wissen nicht! </p><br><p>  Und das bricht die Abstraktion - <em>jede Funktion kann ein potenzielles Ziel haben, und der einzige Weg, um herauszufinden, ob dies der Fall ist, besteht darin, den gesamten Quellcode Ihres Systems im Auge zu behalten.</em>  Sobald die Sprache erreicht ist, können Sie den Ausführungsfluss nicht mehr vorhersagen.  Deshalb führt <code>goto</code> zu Spaghetti-Code. </p><br><p>  Und sobald Dijkstra das Problem begriff, konnte er es lösen.  Hier ist seine revolutionäre Annahme - wir sollten uns Bedingungen / Schleifen / Funktionsaufrufe nicht als Abkürzungen für <code>goto</code> , sondern als grundlegende Primitive mit unseren Rechten - und wir sollten <code>goto</code> vollständig aus unseren Sprachen entfernen. </p><br><p>  Ab 2018 scheint dies ziemlich offensichtlich.  Aber wie reagieren Programmierer, wenn Sie versuchen, ihre unsicheren Spielsachen aufzuheben?  Im Jahr 1969 schien der Vorschlag von Dijkstra unglaublich zweifelhaft.  <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BD%25D1%2583%25D1%2582,_%25D0%2594%25D0%25BE%25D0%25BD%25D0%25B0%25D0%25BB%25D1%258C%25D0%25B4_%25D0%25AD%25D1%2580%25D0%25B2%25D0%25B8%25D0%25BD" rel="nofollow">Donald Knuth</a> <a href="https://scholar.google.com/scholar%3Fcluster%3D17147143327681396418%26hl%3Den%26as_sdt%3D0,5" rel="nofollow">verteidigte</a> <code>goto</code> .  Leute, die Experten für das Codieren mit <code>goto</code> wurden, waren zu Recht empört, wieder lernen zu müssen, wie man seine Ideen in neuen, restriktiveren Begriffen ausdrückt.  Und natürlich brauchte es, um völlig neue Sprachen zu schaffen. </p><br><p>  Infolgedessen sind moderne Sprachen etwas weniger streng als der ursprüngliche Wortlaut von Dijkstra. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/385/9c2/6dc/3859c26dcf65e23a85415a039974645f.jpg"></p><br><blockquote>  Links: traditionell <code>goto</code> .  Rechts: Gezähmt gehe zu, wie in C, C #, Golang usw.  Wenn Sie die Grenzen einer Funktion nicht überschreiten, kann er immer noch auf Ihre Schuhe pinkeln, aber es ist unwahrscheinlich, dass Sie auseinander gerissen werden. </blockquote><p>  Mit ihnen können Sie die Verschachtelungsebenen von Struktursteuerungsanweisungen mithilfe von <code>break</code> , <code>continue</code> oder <code>return</code> .  Im Grunde sind sie alle auf Dijkstras Idee aufgebaut und können den sequentiellen Ablauf der Ausführung auf streng begrenzte Weise stören.  Insbesondere Funktionen - ein grundlegendes Werkzeug, um einen Ausführungsstrang in eine Blackbox zu packen - sind unzerstörbar.  Sie können den Befehl <code>break</code> von einer Funktion zur nächsten ausführen und <code>return</code> kann Sie nicht weiter als bis zur aktuellen Funktion zurückgeben.  Keine Manipulation des Ausführungsthreads innerhalb der Funktion wirkt sich auf andere Funktionen aus. </p><br><p>  Und die Sprachen, die den <code>goto</code> Operator (C, C #, Golang, ...) erhalten haben, haben ihn stark eingeschränkt.  Zumindest erlauben sie Ihnen nicht, von einem Körper einer Funktion zu einer anderen zu springen.  Wenn Sie Assembler [2] nicht verwenden, gehört das klassische, unbegrenzte <code>goto</code> der Vergangenheit an.  Dijkstra gewann. </p><br><h2 id="divnyy-novyy-mir-bez-goto">  Schöne neue Welt ohne zu gehen </h2><br><p>  Mit dem Verschwinden von <code>goto</code> etwas Interessantes passiert - die Sprachentwickler konnten neue Funktionen hinzufügen, die auf einem strukturierten Ablauf der Ausführung basierten. </p><br><p>  Zum Beispiel hat Python eine coole Syntax zum automatischen Löschen von Ressourcen - <a href="https://pythonworld.ru/osnovy/with-as-menedzhery-konteksta.html" rel="nofollow">einen Kontextmanager</a> .  Sie können schreiben: </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Python with open("my-file") as file_handle: some code</span></span></code> </pre> <br><p>  und dies stellt sicher, dass die Datei zur Laufzeit <code>some code</code> öffnet, danach aber sofort geschlossen wird.  Die meisten modernen Sprachen haben Entsprechungen ( <a href="https://rurust.github.io/rust-by-example-ru/scope/raii.html" rel="nofollow">RAII</a> , <code>using</code> , try-with-resource, <code>defer</code> , ...).  Und alle gehen davon aus, dass der Kontrollfluss in Ordnung ist.  Und was passiert, wenn wir mit <code>goto</code> in den <code>with</code> Block springen?  Ist die Datei geöffnet oder nicht?  Und wenn wir da rausspringen, anstatt wie gewohnt zu gehen? </p><br><blockquote>  Nachdem der Code innerhalb des Blocks vollständig ist, wird <code>with</code> die Methode <code>__exit__()</code> , <code>with</code> der offene Ressourcen wie Dateien und Verbindungen geschlossen werden. </blockquote><p>  Wird die Datei geschlossen?  In <code>goto</code> Kontextmanager einfach nicht klar. </p><br><p>  Das gleiche Problem bei der Fehlerbehandlung - Was soll der Code tun, wenn etwas schief geht?  Häufig - Senden Sie eine Fehlerbeschreibung über den Stapel (der Aufrufe) an den aufrufenden Code und lassen Sie ihn entscheiden, was zu tun ist.  Moderne Sprachen verfügen speziell dafür über Konstruktionen wie Exceptions oder andere Formen der <a href="https://doc.rust-lang.ru/stable/rust-by-example/error/result/enter_question_mark.html" rel="nofollow">automatischen Fehlererhebung</a> .  Diese Hilfe ist jedoch nur verfügbar, wenn die Sprache über einen Aufrufstapel und ein robustes Aufrufkonzept verfügt.  Erinnern Sie sich an die Spaghetti im Flow-Beispiel im FLOW-MATIC-Beispiel und stellen Sie sich die in der Mitte ausgelöste Ausnahme vor.  Wo kann es überhaupt kommen? </p><br><h2 id="bolshe-nikakih-goto">  Nicht mehr gehen </h2><br><p>  Das traditionelle <code>goto</code> das Funktionsgrenzen ignoriert, ist also nicht nur deshalb schlecht, weil es schwierig ist, es richtig zu verwenden.  Wenn das nur so wäre, hätte <code>goto</code> bleiben können - viele schlechte Sprachkonstrukte sind geblieben. </p><br><p>  Aber selbst die sehr <code>goto</code> Funktion in der Sprache macht <em>alles</em> noch komplizierter.  Bibliotheken von Drittanbietern können nicht als Black Box betrachtet werden. Ohne die Quelle zu kennen, können Sie nicht herausfinden, welche Funktionen normal sind und welche den Ausführungsfluss unvorhersehbar steuern.  Dies ist ein großes Hindernis für die Vorhersage des lokalen Codeverhaltens.  Leistungsstarke Funktionen wie Kontext-Manager und automatische Fehler-Popups gehen ebenfalls verloren.  Es ist besser, <code>goto</code> insgesamt zu entfernen, und zwar zugunsten von Steueroperatoren, die die Black-Box-Regel unterstützen. </p><br><h1 id="o-vrede-vyrazheniy-tipa-go">  Über die Gefahren von Ausdrücken wie "Go" </h1><br><p>  Also haben wir uns die Geschichte angesehen.  Aber ist es auf den <code>go</code> Operator anwendbar?  Alles in allem!  Die Analogie ist schockierend genau. </p><br><h2 id="go-vyrazheniya-lomayut-abstrakcii">  go-Ausdrücke brechen Abstraktionen. </h2><br><p>  Weißt du noch, wie wir gesagt haben, wenn die Sprache <code>goto</code> erlaubt, kann jede Funktion <code>goto</code> in sich verbergen?  In den meisten asynchronen Frameworks führen <code>go</code> Ausdrücke zum gleichen Problem - jede Funktion kann die Aufgabe im Hintergrund ausführen (oder auch nicht).  Es sieht so aus, als hätte die Funktion die Kontrolle zurückgegeben, aber funktioniert sie immer noch im Hintergrund?  Und es gibt keine Möglichkeit, dies herauszufinden, ohne die Quelle der Funktion und alles, was sie aufruft, zu lesen.  Und wann wird es enden?  Schwer zu sagen.  Wenn Sie <code>go</code> und seine Analoga haben, sind Funktionen keine Black Box mehr, die den Ausführungsfluss berücksichtigen.  In meinem ersten Artikel über <a href="https://vorpus.org/blog/some-thoughts-on-asynchronous-api-design-in-a-post-asyncawait-world/" rel="nofollow">asynchrone APIs habe</a> ich dies als "Kausalitätsverletzung" bezeichnet und festgestellt, dass dies die Hauptursache für viele häufige, echte Probleme in Programmen ist, die <code>asyncio</code> und Twisted verwenden, z. </p><br><blockquote>  Dies bezieht sich auf die Steuerung des Datenflusses, der in das Programm eintritt und dieses verlässt.  Zum Beispiel empfängt das Programm Daten mit einer Geschwindigkeit von 3 MB / s und verlässt es mit einer Geschwindigkeit von 1 MB / s, und dementsprechend verbraucht das Programm immer mehr Speicher, siehe einen <a href="https://vorpus.org/blog/some-thoughts-on-asynchronous-api-design-in-a-post-asyncawait-world/" rel="nofollow">anderen Artikel des Autors</a> </blockquote><br><h2 id="go-vyrazheniya-lomayut-avtoochistku-otkrytyh-resursov">  go-expressions unterbrechen die automatische Bereinigung offener Ressourcen. </h2><br><p>  Schauen wir uns noch einmal ein Beispiel <code>with</code> Anweisung an: </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Python with open("my-file") as file_handle: some code</span></span></code> </pre> <br><p>  Früher haben wir gesagt, dass wir "garantiert" sind, dass die Datei geöffnet ist, während ein <code>some code</code> funktioniert, und danach geschlossen werden.  Aber was ist, wenn <code>some code</code> eine Hintergrundaufgabe startet?    : ,  <em></em> ,     <code>with</code> ,      <em></em>   <code>with</code> ,   ,    ,      .  ,       ;   ,       ,   <code>some code</code> . </p><br><p>   ,     ,   -      ,   ,        . </p><br><blockquote>       ,   Python  <code>threading</code> —       ,        ,          —   ,    <code>with</code> </blockquote><p>  ,    ,     ,     (       ).     ,        .     ,     . </p><br><h2 id="go-vyrazheniya-lomayut-obrabotku-oshibok"> go-   . </h2><br><p>    ,     ,    (exceptions),          .        " ".         ,   .  ,      ,  .      ,       ,   …      ,      .   ,   -  . (   ,   ,   " -   "     —     ;      .)  Rust — , ,        -     —    .     (thread) , Rust <a href="https://doc.rust-lang.org/std/thread/" rel="nofollow">     </a> . </p><br><p> ,  <em></em>      ,  join         ,   <a href="https://twistedmatrix.com/documents/current/core/howto/defer.html" rel="nofollow">errbacks  Twisted</a>  <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Promise/catch" rel="nofollow">Promise.catch  Javascript</a> .     ,   ,     .     ,  Traceback  .       <code>Promise.catch</code>       . </p><br><p>      ,       . </p><br><h2 id="bolshe-nikakih-go">   <code>go</code> </h2><br><p> ,  <code>goto</code>        , go-         —    ,    ,   ,      .  ,   <code>goto</code> ,     ,     <code>go</code>        . </p><br><p>    ,     ,     !  : </p><br><ul><li>    <code>go</code> -,    ,   "  ", </li><li>        ,    <code>go</code> -. </li></ul><br><p>   ,   <a href="https://trio.readthedocs.io/en/stable/" rel="nofollow">Trio</a> . </p><br><h1 id="pitomnik-kak-strukturnaya-zamena-go">     <code>go</code> </h1><br><p>   :  ,        ,   ,    . ,       ,       : </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/b13/280/671/b13280671e22430f5417a99dde464344.png"></p><br><p> ,      ,     ,     "  " . </p><br><p>         ?     " " ,  </p><br><p> )      ,   ,    (      ),  <br> )       ,             . </p><br><p>       .   ,        - .      ,       ..  [3] </p><br><p>     : ,  ,        ,     <strong>""</strong> ,    .  Trio   ,    <code>async with</code> : </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/22b/0fe/266/22b0fe2660255eede7befcff37f099b9.png"></p><br><p>       ,   <code>as nursery</code>     <code>nursery</code> .      <code>nursery.start_soon()</code> ,    () :      <code>myfunc</code>  <code>anotherfunc</code> .     <em></em> .     ,   ,    () ,   ,   . </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/cbb/a00/adc/cbba00adc39a2f528626284bbf4a7e55.png"></p><br><p>  ,    ,        —        ,    ,       .   ,   . </p><br><blockquote> ,     . </blockquote><p>              : </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/017/9df/9f1/0179df9f11831897e5e231edc5d43a20.png"></p><br><p>     ,     .  Hier sind einige von ihnen: </p><br><h2 id="pitomnik-sohranyaet-abstrakciyu-funkciy">    . </h2><br><p>   go- —    , ,      ,      .         —          ,      ,     .      ,  ,    . </p><br><h2 id="pitomnik-podderzhivayut-dinamicheskoe-dobavlenie-zadach">     . </h2><br><p>    ,        .         : </p><br><pre> <code class="go hljs">run_concurrently([myfunc, anotherfunc])</code> </pre> <br><blockquote> async.gather  Python, Promise.all  Javascript,  .. </blockquote><p>    ,        ,    ,    . ,       <code>accept</code> ,             . <br>   <code>accept</code>   Trio: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> trio.open_nursery() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> nursery: <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: incoming_connection = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> server_socket.accept() nursery.start_soon(connection_handler, incoming_connection)</code> </pre> <br><p>    ,   ,  <code>run_concurrently</code>    .   ,    <code>run_concurrently</code>    —    ,     ,   <code>run_concurrently</code> ,     . </p><br><h2 id="iz-pitomnika-vsyo-eschyo-mozhno-vyyti">      . </h2><br><p>     .      ,    ,      ? :      .  ,    <code>async with open_nursery()</code>   <code>nursery.start_soon()</code> , —    [4], ,     ,      .       ,    ,  . </p><br><p>    ,     ,  " ",    : </p><br><ul><li>     ,     ,      ,     ,    ,    . </li><li>         ,   . </li><li>        ,    . </li></ul><br><p>          ,              . </p><br><p>    ,    ,  go-,       . </p><br><h2 id="vy-mozhete-opredelit-novye-tipy-kotorye-kryakayut-kak-pitomnik">     ,    . </h2><br><p>      ,     - .                ,    ,   .            : </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> my_supervisor_library.open_supervisor() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> nursery_alike: nursery_alike.start_soon(...)</code> </pre> <br><p>       ,       ,     .  . </p><br><p>  Trio     ,  <code>asyncio</code>    : <code>start_soon()</code>   ,     <code>Future</code> (     ,       <code>Future</code> ).  ,        ( ,   Trio   <code>Future</code> !),       . </p><br><h2 id="net-pravda-pitomniki-vsegda-zhdut-okonchaniya-vseh-zadach-vnutri"> , ,  <em></em>     . </h2><br><p>           ,     ,   —     —   . </p><br><p>  Trio,          .     ,   ,    " " ( <a href="https://trio.readthedocs.io/en/latest/reference-core.html" rel="nofollow"></a> ),   <code>Cancelled</code> .  ,        ,    <em></em> —   - ,      " ",        ,    ..   ,   ,    .  <em></em>   ,       ,   <em></em>        ,      . </p><br><h2 id="rabotaet-avtomaticheskaya-ochistka-resursov">    . </h2><br><p>     "  ",  <code>with</code>  . ,      <code>with</code>     ,      . </p><br><h2 id="rabotaet-podnyatie-oshibok">   . </h2><br><p>   ,    ,       .      . </p><br><p>  Trio,     ,         …    -    .      ,      .   ,   —     " " —     ,     <code>myfunc</code>  <code>anotherfunc</code> ,       .         ,  ,       . </p><br><p> ,    :    (re-raise)    ,    .    ,       </p><br><blockquote>  " " ,  ,      ,     ,   ,   . </blockquote><p>    ,       ,      .    ? </p><br><p>  —    ( )   ,                .   ,      ,            ,      ,   . </p><br><p>   ,         ,    -          ( <a href="https://docs.microsoft.com/en-us/dotnet/standard/parallel-programming/task-cancellation" rel="nofollow">task cancellation</a> ).        C#  Golang,                —       . </p><br><h2 id="divnyy-novyy-mir-bez-go">     <code>go</code> </h2><br><p>  <code>goto</code>           ,        <code>with</code>  ;  <code>go</code> -   .  Zum Beispiel: </p><br><ul><li>        ,   ,   ,       . ( : <a href="https://vorpus.org/blog/timeouts-and-cancellation-for-humans/" rel="nofollow">    -</a> ) </li><li>  —  Python    ,  <code>ctrl-C</code>    ( <a href="https://vorpus.org/blog/control-c-handling-in-python-and-trio/" rel="nofollow"></a> ).    ,         . </li></ul><br><h1 id="pitomniki-na-praktike">    </h1><br><p> ,   .      ? </p><br><p> …   :     ! ,     ,     .       ,          , ,         <code>break</code>  <code>continue</code> . </p><br><p>        ,      .   <a href="https://stackoverflow.com/questions/48282841/in-trio-how-can-i-have-a-background-task-that-lives-as-long-as-my-object-does" rel="nofollow">     </a> —  ,   1970   ,     <code>goto</code> . </p><br><p>      .    (Knuth, 1974, .275): </p><br><blockquote>   ,         <code>goto</code> ,  ,  " "            <code>goto</code> .  <code>goto</code>   !    ,       ,        <code>goto</code> ,          . ,     ,      . ,      — ,     —    "goto" . </blockquote><p>        :    .    ,   ,         .     ,     ,      .  ,    ,     . </p><br><p> ,    Happy Eyeballs ( <a href="https://tools.ietf.org/html/rfc8305" rel="nofollow">RFC 8305</a> ),       TCP . ,   —     ,   ,     .     <a href="https://github.com/twisted/twisted/compare/trunk...glyph:statemachine-hostnameendpoint" rel="nofollow"> Twisted </a> —   600    Python       <a href="https://twistedmatrix.com/trac/ticket/9345" rel="nofollow">  </a> .      15 .  ,        ,  ,       .           ,   ,       .    ,  <a href="https://www.youtube.com/watch%3Fv%3Di-R704I8ySE" rel="nofollow"> </a> .    ?  Die Zeit wird zeigen.   . </p><br><h1 id="vyvody">  Schlussfolgerungen </h1><br><p>     —  <code>go</code> ,   , , <code>Futures</code> , <code>Promises</code> ,…   —   <code>goto</code> ,    .      <code>goto</code> ,    -- <code>goto</code> ,    .   ,      ,                 ;      ,        . ,   <code>goto</code> ,       . </p><br><p>      ,      ,    (         <code>CTRL+C</code> )        ,    . </p><br><p>  ,     ,     ,  ,        —  ,   <code>goto</code>    .       FLOW-MATIC   ,    ,     - .   ,       ,  <a href="https://trio.readthedocs.io/en/stable/" rel="nofollow">Trio</a> ,      ,   . </p><br><h1 id="kommentarii">  Kommentare </h1><br><p>   <a href="https://trio.discourse.group/t/discussion-thread-notes-on-structured-concurrency-or-go-statement-considered-harmful/25" rel="nofollow">     Trio</a> . </p><br><blockquote>       : <br><ul><li>    "What colour is your function?", <a href="https://habr.com/ru/post/466337/"></a> </li><li>     : <a href="https://lukasa.co.uk/2016/07/The_Function_Colour_Myth/" rel="nofollow">The Function Colour Myth</a> </li></ul><br><br>   Trio  : <a href="https://trio.discourse.group/" rel="nofollow">https://trio.discourse.group/</a> </blockquote><br><h1 id="blagodarnosti">  Danksagung </h1><br><p>   Graydon Hoare, Quentin Pradet, and Hynek Schlawack      .   ,  ,    . </p><br><blockquote>    <a href="https://habr.com/users/berez/">berez</a>     . </blockquote><p>  :  FLOW-MATIC   <a href="http://archive.computerhistory.org/resources/text/Remington_Rand/Univac.Flowmatic.1957.102646140.pdf" rel="nofollow"> </a> (PDF),  <a href="http://www.computerhistory.org/collections/catalog/102646140" rel="nofollow">  </a> . </p><br><p> Wolves in Action,  Martin Pannier,   <a href="https://creativecommons.org/licenses/by-nc-sa/2.0/" rel="nofollow">CC-BY-SA 2.0</a> , . <br> <a href="https://pixabay.com/en/french-bulldog-pet-dog-funny-2427629/" rel="nofollow"> </a> ,  Daniel Borker,   <a href="https://creativecommons.org/publicdomain/zero/1.0/" rel="nofollow">CC0 public domain dedication</a> . </p><br><h1 id="snoski">  </h1><br><p> [2]  WebAssembly  ,          <code>goto</code> : <a href="https://www.w3.org/TR/wasm-core-1/" rel="nofollow"></a> , <a href="" rel="nofollow"></a> </p><br><p> [3]  ,        ,   ,       ,       : <br> The "parallel composition" operator in Cooperating/Communicating Sequential Processes and Occam, the fork/join model, Erlang supervisors,  Martin Sústrik's  <a href="http://250bpm.com/blog:71" rel="nofollow"> </a>    <a href="https://github.com/sustrik/libdill" rel="nofollow">libdill</a> ,  <a href="https://docs.rs/crossbeam/0.3.2/crossbeam/struct.Scope.html" rel="nofollow">crossbeam::scope</a> / <a href="https://docs.rs/rayon/1.0.1/rayon/fn.scope.html" rel="nofollow">rayon::scope</a>  Rust.         <a href="https://godoc.org/golang.org/x/sync/errgroup" rel="nofollow">golang.org/x/sync/errgroup</a>  <a href="https://godoc.org/github.com/oklog/run" rel="nofollow">github.com/oklog/run</a>  Golang. <br>   ,    - . </p><br><p> [4]   <code>start_soon()</code>  ,   ,  <code>start_soon</code>  ,    ,    ,     .       ,         . </p><br><h1 id="ob-avtore">  Über den Autor </h1><br><p> <a href="https://vorpus.org/" rel="nofollow">Nathaniel J. Smith</a> , Ph.D.,   UC Berkeley   <code>numpy</code> ,        Python    .  Nathaniel                . </p><br><h1 id="prodolzhenie">  Fortsetzung </h1><br><p>             : </p><br><ul><li> <a href="https://habr.com/ru/post/466337/">   </a> ,  Bob Nystrom      </li><li> <a href="https://habr.com/ru/post/466337/"></a>        ,  <a href="https://habr.com/ru/post/466337/"></a>  golang </li><li>  <a href="https://habr.com/ru/post/469441/"> </a> ,   <a href="https://habr.com/ru/users/PsyHaSTe/">PsyHaSTe</a>       Haskell, Golang  C# </li><li>          : <a href="https://habr.com/ru/post/469441/">Go</a> , <a href="https://habr.com/ru/post/469441/">Go</a> , <a href="https://habr.com/ru/post/469441/">python</a> , <a href="https://habr.com/ru/post/469441/">C#</a> (,     JS) </li></ul><br><p>  ,  ,   ,  Haskell      ,      ,           . </p><br><p>       ( <a href="https://habr.com/ru/users/yourock/"> </a> , <a href="https://habr.com/ru/users/0xd34df00d/"> 0xd34df00d</a> , <a href="https://habr.com/ru/users/PsyHaSTe/"></a> )    ,       ( <a href="https://tools.ietf.org/html/rfc8305" rel="nofollow">Happy Eyeballs</a> ),         . </p><br><p>  ,  Trio  ?   Haskell  Golang    ? </p><br><p> <strong> :</strong> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de479186/">https://habr.com/ru/post/de479186/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de479176/index.html">Die Modder haben 15 Jahre damit verbracht, die Ritter der Alten Republik 2 zu reparieren</a></li>
<li><a href="../de479178/index.html">Deanonymisierung elliptischer Datensatztransaktionen</a></li>
<li><a href="../de479180/index.html">Erstellung eines Discord-bot auf .NET Core mit Bereitstellung auf einem VPS-Server</a></li>
<li><a href="../de479182/index.html">Das Üben der Vorbereitung von Fremdwörtern mit Sprachausgabe zum Auswendiglernen im Anki-Programm</a></li>
<li><a href="../de479184/index.html">Problemlösung mit pwnable.kr 26 - ascii_easy. Wir beschäftigen uns ein für alle Mal mit ROP-Geräten von Grund auf</a></li>
<li><a href="../de479188/index.html">Die Summe aller natürlichen Zahlen: 1 + 2 + 3 + 4 + .... Teil 2</a></li>
<li><a href="../de479192/index.html">Steroid Hypervisor: FreeBSD + ZFS + cbsd</a></li>
<li><a href="../de479196/index.html">Die meisten Supercomputer laufen unter Linux - diskutieren Sie die Situation</a></li>
<li><a href="../de479200/index.html">Fraktale Bildkomprimierung</a></li>
<li><a href="../de479202/index.html">C ++ und numerische Methoden: Ungefähre Newton-Cotes-Integration</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>