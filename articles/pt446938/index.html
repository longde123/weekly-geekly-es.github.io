<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí™üèª üë®üèø‚Äçü§ù‚Äçüë®üèª üôÄ Sistema de part√≠culas em Core Animation. Hist√≥ria de natal üßõüèø üèòÔ∏è üòß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√° pessoal! 

 O Natal j√° se foi h√° muito tempo, mas, depois disso, temos uma hist√≥ria interessante sobre como usar o recurso de Anima√ß√£o central usa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sistema de part√≠culas em Core Animation. Hist√≥ria de natal</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/badoo/blog/446938/"><img src="https://habrastorage.org/webt/9s/eo/zq/9seozqwk1lhhha-t9kjesviqs14.jpeg"><br><br>  Ol√° pessoal! <br><br>  O Natal j√° se foi h√° muito tempo, mas, depois disso, temos uma hist√≥ria interessante sobre como usar o recurso de Anima√ß√£o central usado com pouca frequ√™ncia para criar um clima festivo para os usu√°rios.  Compartilho a tradu√ß√£o de um artigo do meu colega de Londres Alexis. <br><br>  O Natal sempre foi um dos meus dias favoritos do ano para mim.  Traz muito amor, riso, felicidade e magia para nossas vidas. <br><br>  Nasci e cresci na Espanha, em Tenerife - uma ilha ensolarada no meio do Oceano Atl√¢ntico, na costa da √Åfrica.  E, acredite, o Natal em Tenerife √© muito diferente do Natal em Londres, onde eu o conheci nos √∫ltimos dois anos (desde que comecei a trabalhar no Badoo). <br><br>  Um dos benef√≠cios de morar em Londres para mim foi contemplar flocos de neve.  Aqui eu os vi pela primeira vez na minha vida, era simplesmente inacredit√°vel! <br><br>  Lembrando disso, decidi compartilhar com voc√™ uma hist√≥ria interessante que aconteceu comigo no escrit√≥rio pouco antes do Natal, antes de ir a Tenerife para celebrar o feriado com minha fam√≠lia. <br><br>  Aconteceu que me foi atribu√≠da uma tarefa incomum com a seguinte descri√ß√£o: <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/lt/df/wd/ltdfwdnu7xreylndpr6of3vkbt8.png"><br><br>  Hmm, muito engra√ßado.  Quer√≠amos adicionar anima√ß√£o de Natal com flocos de neve ao nosso aplicativo iOS, e me tornei o sortudo em cri√°-lo.  Mas eu n√£o sabia por onde come√ßar. <br><br>  Como sempre, um arquivo de esbo√ßo foi anexado √† tarefa com o design necess√°rio, que se parecia com isso: <br><br><img src="https://habrastorage.org/webt/_d/q9/tl/_dq9tlxzvrca0jhk0lxjx3rnmhu.png"><br><br>  Pelo menos vi o que precis√°vamos, mas n√£o tinha muita certeza de como esses flocos de neve deveriam se comportar.  Para esclarecer todos os detalhes, fui conversar com os designers. <br><br>  Como eu suspeitava, eles j√° tinham uma √≥tima anima√ß√£o desenhada no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">After Effects</a> . <br><br>  Os designers me explicaram que queriam adicionar flocos de neve caindo de cima na anima√ß√£o j√° existente de lan√ßamento do aplicativo (assim como o chap√©u de Papai Noel em nosso logotipo, mas era uma simples substitui√ß√£o da imagem, indigna de men√ß√£o neste artigo). <br><br>  Eu sabia que a anima√ß√£o do lan√ßamento do aplicativo no iOS foi feita usando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Lottie</a> , uma vez que foi adicionada depois que entrei na empresa (detalhes podem ser encontrados no artigo de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Radek Cieciwa</a> ).  No entanto, eu disse aos designers que tentaria encontrar solu√ß√µes mais simples para exibir flocos de neve (sem a necessidade de usar Lottie) - e comecei a explorar v√°rias abordagens. <br><br>  Aqui est√° uma anima√ß√£o que meu colega Radek fez para o Badoo.  Impec√°vel! <br><br><img src="https://habrastorage.org/webt/8e/cg/jj/8ecgjj7a9ywk34vr-_idw4ckb-a.gif"><br><br>  E ent√£o eu adicionei flocos de neve caindo.  Quer saber como eu fiz isso?  Voc√™ encontrar√° a resposta abaixo. <br><br><img src="https://habrastorage.org/webt/rq/yd/gh/rqydgh5ar15k2f42kwxusdr3iq4.gif"><br><br><h1>  Sistemas de part√≠culas </h1><br>  Ao ler v√°rias documenta√ß√µes sobre anima√ß√µes, lembrei que em jogos e filmes, sistemas de part√≠culas s√£o frequentemente usados ‚Äã‚Äãpara resolver esses problemas. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A Wikipedia</a> descreve esse conceito com bastante precis√£o: <br><br><blockquote>  ‚ÄúO sistema de part√≠culas √© um m√©todo usado na computa√ß√£o gr√°fica para representar objetos que n√£o possuem limites geom√©tricos claros (v√°rias nuvens, nebulosas, explos√µes, jatos de vapor, trens de m√≠sseis, fuma√ßa, neve, chuva, etc.).  Os sistemas de part√≠culas podem ser implementados em gr√°ficos bidimensionais e tridimensionais ". </blockquote><br><div class="spoiler">  <b class="spoiler_title">Essa t√©cnica foi usada pela primeira vez em 1982 em Star Trek 2: The Wrath of Khan, para criar um "efeito de g√™nese".</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/zXFNypyMJCc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br></div></div><br>  Um sistema de part√≠culas consiste em uma ou mais primitivas gr√°ficas, como pontos, linhas ou imagens, chamadas part√≠culas.  Essas part√≠culas s√£o criadas e emitidas por um emissor que faz parte de um sistema de part√≠culas. <br><br>  Cada part√≠cula possui um conjunto de par√¢metros que afetam direta ou indiretamente seu comportamento e determinam como ser√° desenhado.  As part√≠culas podem se mover simultaneamente em grandes n√∫meros e em diferentes dire√ß√µes, por exemplo, para criar o efeito de um l√≠quido. <br><br>  A anima√ß√£o entra em vigor quando part√≠culas s√£o emitidas pelo sistema.  O sistema emite part√≠culas em locais aleat√≥rios dentro da √°rea especificada do sistema de part√≠culas.  Pode assumir v√°rias formas: c√≠rculo, ret√¢ngulo, esfera, caixa, linha, ponto etc. <br><br>  O sistema tamb√©m determina as propriedades das part√≠culas que afetam sua geometria, velocidade e outros par√¢metros.  APIs de emissor diferentes t√™m nomes diferentes para propriedades semelhantes. <br><br>  Quando part√≠culas s√£o emitidas pelo sistema ao mesmo tempo, elas criam anima√ß√µes impressionantes que podem parecer chuva, fogo ou neve. <br><br><img src="https://habrastorage.org/webt/m1/rj/jo/m1rjjoaqdn9cnn5gqkzjnu1o2iw.gif"><img src="https://habrastorage.org/webt/ti/zj/yi/tizjyikmqt6nvvztyycatujepgs.gif"><img src="https://habrastorage.org/webt/3e/vq/4d/3evq4dymfm0o-qaoy8qqs0jhkti.gif"><br><br><h1>  Da teoria √† pr√°tica </h1><br>  Eu pensei que a Apple provavelmente tivesse suporte embutido ao sistema de part√≠culas em uma de suas estruturas.  E os resultados de minhas pesquisas mostraram que estou certo. <br><br>  O sistema de part√≠culas faz parte da estrutura Core Animation e est√° bem descrito nas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">classes CAEmitterLayer</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CAEmitterCell</a> . <br><br>  Depois de estudar todas as informa√ß√µes necess√°rias sobre o sistema de part√≠culas e as APIs suportadas no iOS, passei para a minha parte favorita - implementando nossa ideia. <br><br>  Infelizmente, o Natal n√£o √© para sempre, ent√£o precis√°vamos desativar os flocos de neve remotamente ap√≥s 25 de dezembro. <br><br>  Como mencionei acima, a anima√ß√£o de inicializa√ß√£o do aplicativo foi implementada usando Lottie.  Ou seja, eu precisava encontrar uma maneira de adicionar flocos de neve de modo a n√£o afetar a anima√ß√£o existente e seu c√≥digo, porque minha solu√ß√£o teve que ser exclu√≠da imediatamente ap√≥s o lan√ßamento. <br><br>  Encontrei uma maneira muito simples de fazer isso - adicionei uma nova UIView transparente para mostrar flocos de neve na frente da anima√ß√£o e do fundo existentes e depois controlei sua apar√™ncia remotamente usando uma bandeira. <br><br><img src="https://habrastorage.org/webt/rm/_l/zk/rm_lzk5j94unwv3h5lqj9mqv65a.png"><br><br>  A imagem acima mostra o UIView que foi usado na solu√ß√£o final: <br><br><ol><li>  <b>UIView</b> com um sistema de part√≠culas que emitiu flocos de neve. <br></li><li>  <b>UIViews</b> usadas nas anima√ß√µes de inicializa√ß√£o de aplicativos controladas por Lottie. <br></li></ol><br><br>  Depois que esse problema foi resolvido, tive que criar um componente contendo a l√≥gica da emiss√£o de part√≠culas para gerar flocos de neve animados. <br><br>  Para come√ßar, eu precisava de imagens de flocos de neve que eu pudesse usar como conte√∫do para o emissor.  Eles devem ser bem simples, certo? <br><br>  Cada floco de neve era um c√≠rculo branco comum ou borrado.  Eu mesmo os criei no Sketch. <br><br><img src="https://habrastorage.org/webt/9p/va/zd/9pvazdqkilhjtvjtidqvl1nwsh4.png" width="500"><br><br><h1>  Alguns detalhes de implementa√ß√£o </h1><br>  O CAEmitterLayer √© um CALayer especial que cria, anima e renderiza um sistema de part√≠culas.  Permite controlar sua geometria, posi√ß√£o, modo de desenho e muito mais. <br><br>  Comecei a desenvolver anima√ß√£o criando uma camada: <br><br><pre><code class="swift hljs">snowEmitterLayer.emitterShape = <span class="hljs-type"><span class="hljs-type">CAEmitterLayerEmitterShape</span></span>.line snowEmitterLayer.beginTime = <span class="hljs-type"><span class="hljs-type">CACurrentMediaTime</span></span>() snowEmitterLayer.timeOffset = <span class="hljs-number"><span class="hljs-number">10.0</span></span></code> </pre> <br>  Eu precisava alterar apenas tr√™s propriedades: <br><br><ul><li>  <b>emitterShape</b> : define a forma da camada.  Usei uma linha que permitia que flocos de neve aparecessem ao longo de toda a tela; <br></li><li>  <b>beginTime</b> : faz parte do protocolo CAMediaTiming e representa o hor√°rio de in√≠cio da anima√ß√£o da camada em rela√ß√£o √†s anima√ß√µes da camada pai; <br></li><li>  <b>timeOffset</b> : tamb√©m faz parte do protocolo CAMediaTiming e, em ess√™ncia, √© uma anima√ß√£o de avan√ßo r√°pido por um determinado tempo em rela√ß√£o ao seu in√≠cio.  Especifiquei um valor de 10 segundos, o que levou ao fato de que, no momento em que a anima√ß√£o come√ßou, os flocos de neve j√° cobriam a tela inteira e era exatamente isso que quer√≠amos (se eu definir o valor para 0 segundos, os flocos de neve come√ßar√£o a aparecer no topo e cobrir a tela somente ap√≥s algum tempo). <br></li></ul><br>  Tendo uma camada final, criei dois emissores diferentes: mais pesado para flocos de neve e mais f√°cil para flocos de neve. <br><br>  Para flocos de neve pesados, configurei o emissor da seguinte maneira: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> flakeEmitterCell = <span class="hljs-type"><span class="hljs-type">CAEmitterCell</span></span>() flakeEmitterCell.contents = <span class="hljs-type"><span class="hljs-type">UIImage</span></span>(named: <span class="hljs-string"><span class="hljs-string">"snowflake_dot"</span></span>)!.cgImage flakeEmitterCell.emissionRange = .pi flakeEmitterCell.lifetime = <span class="hljs-number"><span class="hljs-number">20.0</span></span> flakeEmitterCell.birthRate = <span class="hljs-number"><span class="hljs-number">30</span></span> flakeEmitterCell.scale = <span class="hljs-number"><span class="hljs-number">0.15</span></span> flakeEmitterCell.scaleRange = <span class="hljs-number"><span class="hljs-number">0.6</span></span> flakeEmitterCell.velocity = <span class="hljs-number"><span class="hljs-number">30.0</span></span> flakeEmitterCell.velocityRange = <span class="hljs-number"><span class="hljs-number">20</span></span> flakeEmitterCell.spin = -<span class="hljs-number"><span class="hljs-number">0.5</span></span> flakeEmitterCell.spinRange = <span class="hljs-number"><span class="hljs-number">1.0</span></span> flakeEmitterCell.yAcceleration = <span class="hljs-number"><span class="hljs-number">30.0</span></span> flakeEmitterCell.xAcceleration = <span class="hljs-number"><span class="hljs-number">5.0</span></span></code> </pre> <br>  Como voc√™ pode ver, tive que alterar um n√∫mero significativo de propriedades, cada uma das quais √© muito importante para alcan√ßar o efeito desejado: <br><br><ul><li>  <b>conte√∫do</b> : CGImage costumava exibir um floco de neve (como voc√™ se lembra, essa √© uma daquelas imagens que eu mesmo criei); <br></li><li>  <b>emissionRange</b> : √¢ngulo em radianos que define o cone dentro do qual as part√≠culas aparecer√£o (escolhi o √¢ngulo PI para que as part√≠culas fiquem vis√≠veis em toda a tela); <br></li><li>  <b>tempo de vida</b> : determina o tempo de vida de uma part√≠cula; <br></li><li>  <b>birthRate</b> : determina o n√∫mero de part√≠culas emitidas a cada segundo; <br></li><li>  <b>scale</b> e <b>scaleRange</b> : afeta o tamanho da part√≠cula, onde um valor de 1,0 √© o tamanho m√°ximo;  o intervalo determina os desvios de tamanho entre as part√≠culas criadas, o que permite que part√≠culas de tamanhos aleat√≥rios sejam emitidas; <br></li><li>  <b>velocity</b> and <b>velocityRange</b> : afeta a velocidade de apar√™ncia das part√≠culas;  desvia aleatoriamente dentro do valor especificado em velocityRange; <br></li><li>  <b>spin</b> e <b>spinRange</b> : afetam a velocidade de rota√ß√£o, medida em radianos por segundo, e o desvio aleat√≥rio dentro do valor especificado em spinRange; <br></li><li>  <b>yAcceleration</b> e <b>xAcceleration</b> : esses s√£o dois componentes do vetor de acelera√ß√£o aplicado ao emissor. <br></li></ul><br>  Eu tamb√©m precisava de um segundo emissor para criar flocos de neve leves.  Todas as propriedades permaneceram inalteradas, com exce√ß√£o de duas: <br><br><ul><li>  <b>conte√∫do</b> : aqui usei imagens com um c√≠rculo emba√ßado; <br></li><li>  <b>velocidade</b> : e aqui eu tive que reduzir a velocidade da queda para acender os flocos de neve. <br></li></ul><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> blurryFlakeEmitterCell = <span class="hljs-type"><span class="hljs-type">CAEmitterCell</span></span>() blurryFlakeEmitterCell.contents = <span class="hljs-type"><span class="hljs-type">UIImage</span></span>(named: <span class="hljs-string"><span class="hljs-string">"snowflake_blurry_dot"</span></span>)?.cgImage blurryFlakeEmitterCell.velocity = <span class="hljs-number"><span class="hljs-number">40</span></span> <span class="hljs-comment"><span class="hljs-comment">//     </span></span></code> </pre> <br>  Eu s√≥ consegui conectar a camada e os emissores, o que acabou sendo muito f√°cil: <br><br><pre> <code class="swift hljs">snowEmitterLayer.emitterCells = [flakeEmitterCell, blurryFlakeEmitterCell] <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.layer.addSublayer(snowEmitterLayer)</code> </pre><br><h1>  Conclus√£o </h1><br>  Eu rapidamente criei uma vers√£o de trabalho com flocos de neve caindo, que parecia muito bom.  Era bastante simples de implementar e n√£o alterou o c√≥digo existente.  Mostrei aos designers, e eles realmente gostaram. <br><br>  As anima√ß√µes do sistema de part√≠culas podem ser bastante impressionantes e relativamente f√°ceis de implementar, se voc√™ tiver as ferramentas certas. <br><br>  Mais informa√ß√µes sobre sistemas de part√≠culas podem ser encontradas nas seguintes fontes: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Wikipedia</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Ray wenderlich</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Unidade</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Allen Martin em sistemas de part√≠culas</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt446938/">https://habr.com/ru/post/pt446938/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt446920/index.html">Engenharia reversa do Google Fool de abril</a></li>
<li><a href="../pt446922/index.html">O gato debaixo do cap√¥. Parte 2</a></li>
<li><a href="../pt446924/index.html">Representa√ß√£o de polin√¥mios arbitr√°rios na forma de diferen√ßas finitas com uma etapa arbitr√°ria</a></li>
<li><a href="../pt446926/index.html">"Ent√£o percebi que agora sou engenheiro de encontros e de uma maneira diferente voc√™ pode se posicionar no mercado"</a></li>
<li><a href="../pt446932/index.html">TDMS Fairway e BIM</a></li>
<li><a href="../pt446940/index.html">QA no prod. Por que isso √© legal?</a></li>
<li><a href="../pt446942/index.html">Servidor, voc√™ pode me ouvir? Ataque do BROP ao exemplo da tarefa NeoQUEST-2019</a></li>
<li><a href="../pt446944/index.html">Por que investir em empresas n√£o lucrativas?</a></li>
<li><a href="../pt446948/index.html">Como o Trojan Gustuff Android remove o creme (decreto e criptografia) de suas contas</a></li>
<li><a href="../pt446950/index.html">76% dos fabricantes n√£o t√™m experi√™ncia em implementar aditivos - por que √© bom</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>