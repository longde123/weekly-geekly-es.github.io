<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåè üì´ üçÄ Webix JavaScript-Bibliothek mit den Augen eines Anf√§ngers. Teil 2. Mit Formularen arbeiten ü•Ö üöä üíÄ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ich bin ein Anf√§nger Front-End-Entwickler. Jetzt studiere und trainiere ich in einem Minsker IT-Unternehmen. Das Erlernen der Grundlagen von Web-UI er...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Webix JavaScript-Bibliothek mit den Augen eines Anf√§ngers. Teil 2. Mit Formularen arbeiten</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/484310/"><img src="https://habrastorage.org/webt/fu/sm/m3/fusmm34sg2nauzjdqk_lznmcjso.png"><br><br>  Ich bin ein Anf√§nger Front-End-Entwickler.  Jetzt studiere und trainiere ich in einem Minsker IT-Unternehmen.  Das Erlernen der Grundlagen von Web-UI erfolgt am Beispiel der <a href="https://webix.com/" rel="nofollow">Webix</a> JS-Bibliothek. Ich m√∂chte meine bescheidenen Erfahrungen teilen und als kleines Tutorial f√ºr diese interessante UI-Bibliothek speichern. <br><a name="habracut"></a><br><h3>  Zweite Aufgabe </h3><br>  In der letzten <a href="https://habr.com/ru/post/483558/">Aufgabe habe</a> ich mithilfe der Webix-Bibliothek eine Seite erstellt.  Und jetzt muss ich die folgende Logik f√ºr die Benutzerinteraktion mit dem Formular festlegen: <br><br><ul><li>  <a href="https://docs.webix.com/api__values_getvalues.html" rel="nofollow">Lese-</a> und Formularvalidierung; </li><li>  <a href="https://docs.webix.com/api__values_clear.html" rel="nofollow">Formenreinigung</a> ; </li><li>  <a href="https://docs.webix.com/api__link__ui.proto_click_config.html" rel="nofollow">Button-Klick-Verarbeitung</a> ; </li><li>  <a href="https://docs.webix.com/desktop__message_boxes.html" rel="nofollow">interaktive Nachrichten</a> und <a href="https://docs.webix.com/api___confirm.html" rel="nofollow">Best√§tigungsfenster</a> ; </li><li>  <a href="https://docs.webix.com/api__link__ui.proto_add.html" rel="nofollow">F√ºgen Sie</a> der Tabelle Formulardaten hinzu. </li></ul><br>  Das Hauptwidget, mit dem der Artikel arbeitet, ist das <b>Formular</b> .  Dar√ºber hinaus kann es in der <a href="https://docs.webix.com/desktop__form.html" rel="nofollow">Dokumentation</a> gelesen werden. <br><br>  Sie k√∂nnen den Quelllink herunterladen. <br><br>  Die resultierende Demo-Anwendung finden Sie <a href="https://snippet.webix.com/17w1dodb" rel="nofollow">hier</a> . <br><br><h3>  Schritt 1. Hinzuf√ºgen neuer Daten zur Tabelle. </h3><br>  Zum bequemen Lesen des Codes und zum Aufteilen des Projekts in logische Bl√∂cke erstelle ich die Datei functions.js und gebe den Pfad dazu in der Datei index.html an.  Darin werde ich die Funktionen festlegen, die f√ºr das Verhalten der Anwendung verantwortlich sind. <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"data.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"functions.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"script.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  In der neuen Datei erstelle ich die Funktion <b>addItem</b> , mit der der Tabelle neue Daten <b>hinzugef√ºgt</b> werden: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> addItem = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> item_data = $$(<span class="hljs-string"><span class="hljs-string">"film_form"</span></span>).getValues(); $$(<span class="hljs-string"><span class="hljs-string">"film_list"</span></span>).add(item_data); }</code> </pre><br>  Verwenden Sie <b>die $$ -Methode</b> , an die die Element-ID √ºbergeben wird, um auf ein Element in der Webix-Bibliothek zuzugreifen.  Im obigen Code wird mit dem Konstrukt <code><b>$$("film_form")</b></code> das Formular zugegriffen. <br><blockquote>  Die Funktion <i>addItem</i> funktioniert folgenderma√üen: Ich erhalte die aktuellen Daten aus dem Formular √ºber die <a href="https://docs.webix.com/api__values_getvalues.html" rel="nofollow">Methode getValues</a> und schreibe sie in die Variable <b>item_data</b> .  Mit diesen Daten erstelle ich <a href="https://docs.webix.com/api__link__ui.proto_add.html" rel="nofollow">mit der add-Methode</a> einen neuen Datensatz im Blatt. <br></blockquote><br>  Um diese Funktion durch Anklicken des Widgets <code><b>"button"</b></code> mit dem Wert <code>"Add new"</code> aufzurufen, habe ich die <a href="https://docs.webix.com/api__link__ui.proto_click_config.html" rel="nofollow">click-</a> Eigenschaft gesetzt. <br><br><pre> <code class="javascript hljs">margin:<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-attr"><span class="hljs-attr">cols</span></span>:[ { <span class="hljs-attr"><span class="hljs-attr">view</span></span>:<span class="hljs-string"><span class="hljs-string">"button"</span></span>, <span class="hljs-attr"><span class="hljs-attr">id</span></span>:<span class="hljs-string"><span class="hljs-string">"btn_add"</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span>:<span class="hljs-string"><span class="hljs-string">"Add new"</span></span>, <span class="hljs-attr"><span class="hljs-attr">css</span></span>:<span class="hljs-string"><span class="hljs-string">"webix_primary"</span></span>, <span class="hljs-attr"><span class="hljs-attr">click</span></span>:addItem}, { <span class="hljs-attr"><span class="hljs-attr">view</span></span>:<span class="hljs-string"><span class="hljs-string">"button"</span></span>, <span class="hljs-attr"><span class="hljs-attr">id</span></span>:<span class="hljs-string"><span class="hljs-string">"btn_clear"</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span>:<span class="hljs-string"><span class="hljs-string">"Clear"</span></span>} ]</code> </pre><br>  Daher sollten Daten aus dem Formular zur Tabelle hinzugef√ºgt werden: <br><img src="https://habrastorage.org/webt/dw/3j/sc/dw3jsclc_mapg-xxeifw5velyju.png"><br><br><h3>  Schritt 2. Validierung des Formulars.  Popup-Nachricht </h3><br>  Vor dem Hinzuf√ºgen neuer Daten m√ºssen die Informationen aus den Eingabefeldern √ºberpr√ºft (validiert) werden.  Die Validierung wird <a href="https://docs.webix.com/desktop__data_validation.html" rel="nofollow">durch die validate () -Methode</a> ausgel√∂st, die ich in der Funktion <b>addItem</b> unmittelbar vor der Arbeit mit den Daten <b>aufrufe</b> .  Ich werde hier auch den Code f√ºr eine Popup-Nachricht √ºber eine erfolgreiche Validierung einf√ºgen. <br><br>  Eine einfache Nachricht in Webix wird von der Funktion <a href="https://docs.webix.com/desktop__message_boxes.html" rel="nofollow">webix.message () erstellt</a> , die den Text der Nachricht als Parameter verwendet.  In der oberen rechten Ecke wird eine Meldung angezeigt. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> addItem = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>($$(<span class="hljs-string"><span class="hljs-string">"film_form"</span></span>).validate()){ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> item_data = $$(<span class="hljs-string"><span class="hljs-string">"film_form"</span></span>).getValues(); $$(<span class="hljs-string"><span class="hljs-string">"film_list"</span></span>).add(item_data); webix.message(<span class="hljs-string"><span class="hljs-string">"Validation is successful!"</span></span>); } }</code> </pre><br><blockquote>  Die Funktion funktioniert so.  Innerhalb der <b>If-</b> Bedingung greifen wir auf das Formular zu und rufen die <b>validate ()</b> -Methode auf.  Wenn der Test erfolgreich ist, gibt die Methode true zur√ºck und der Code wird weiter ausgef√ºhrt.  Nach dem Hinzuf√ºgen von Daten zur Tabelle wird eine Funktion mit der Meldung <code>"Validation is successful!"</code>  . <br></blockquote><br>  Popup-Nachricht: <br><img src="https://habrastorage.org/webt/cv/0r/nj/cv0rnj0qoulwycax8bg-zqfnqd8.png"><br><br>  Jetzt muss ich ein <a href="https://docs.webix.com/desktop__data_validation.html" rel="nofollow">Regelobjekt</a> im <i>Formular-</i> Widget erstellen.  Es ist erforderlich, dass die <b>validate () -</b> Funktion Informationen aus allen Formularfeldern auf √úbereinstimmung mit den angegebenen Kriterien √ºberpr√ºft. <br><br>  Die Bedingungen f√ºr eine erfolgreiche Validierung lauten wie folgt: <br><ul><li>  Das Titelfeld sollte nicht leer sein. </li><li>  Das Feldjahr sollte nicht weniger als 1970 und nicht mehr als das aktuelle Jahr sein. </li><li>  das Rating-Feld darf nicht Null sein; </li><li>  Das Abstimmungsfeld muss gr√∂√üer als 1 und kleiner als 1.000.000 sein. </li></ul><br>  Der Quellcode des <i>Formular-</i> Widgets mit Validierungsregeln sieht dann folgenderma√üen aus: <br><br><pre> <code class="javascript hljs">view:<span class="hljs-string"><span class="hljs-string">"form"</span></span>, <span class="hljs-attr"><span class="hljs-attr">id</span></span>:<span class="hljs-string"><span class="hljs-string">"film_form"</span></span>, <span class="hljs-attr"><span class="hljs-attr">width</span></span>: <span class="hljs-number"><span class="hljs-number">350</span></span>, <span class="hljs-attr"><span class="hljs-attr">elements</span></span>:[ { <span class="hljs-attr"><span class="hljs-attr">type</span></span>:<span class="hljs-string"><span class="hljs-string">"section"</span></span>, <span class="hljs-attr"><span class="hljs-attr">template</span></span>:<span class="hljs-string"><span class="hljs-string">"EDIT FILMS"</span></span>}, { <span class="hljs-attr"><span class="hljs-attr">view</span></span>:<span class="hljs-string"><span class="hljs-string">"text"</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>:<span class="hljs-string"><span class="hljs-string">"title"</span></span>, <span class="hljs-attr"><span class="hljs-attr">label</span></span>:<span class="hljs-string"><span class="hljs-string">"Title"</span></span>, <span class="hljs-attr"><span class="hljs-attr">invalidMessage</span></span>:<span class="hljs-string"><span class="hljs-string">"Must be filled in"</span></span>}, { <span class="hljs-attr"><span class="hljs-attr">view</span></span>:<span class="hljs-string"><span class="hljs-string">"text"</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>:<span class="hljs-string"><span class="hljs-string">"year"</span></span>, <span class="hljs-attr"><span class="hljs-attr">label</span></span>:<span class="hljs-string"><span class="hljs-string">"Year"</span></span>, <span class="hljs-attr"><span class="hljs-attr">invalidMessage</span></span>:<span class="hljs-string"><span class="hljs-string">"Should be between 1970 and current"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">view</span></span>:<span class="hljs-string"><span class="hljs-string">"text"</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>:<span class="hljs-string"><span class="hljs-string">"rating"</span></span>, <span class="hljs-attr"><span class="hljs-attr">label</span></span>:<span class="hljs-string"><span class="hljs-string">"Rating"</span></span>, <span class="hljs-attr"><span class="hljs-attr">invalidMessage</span></span>:<span class="hljs-string"><span class="hljs-string">"Cannot be empty or 0"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">view</span></span>:<span class="hljs-string"><span class="hljs-string">"text"</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>:<span class="hljs-string"><span class="hljs-string">"votes"</span></span>, <span class="hljs-attr"><span class="hljs-attr">label</span></span>:<span class="hljs-string"><span class="hljs-string">"Votes"</span></span>, <span class="hljs-attr"><span class="hljs-attr">invalidMessage</span></span>:<span class="hljs-string"><span class="hljs-string">"Must be less than 100000"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">margin</span></span>:<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-attr"><span class="hljs-attr">cols</span></span>:[ { <span class="hljs-attr"><span class="hljs-attr">view</span></span>:<span class="hljs-string"><span class="hljs-string">"button"</span></span>, <span class="hljs-attr"><span class="hljs-attr">id</span></span>:<span class="hljs-string"><span class="hljs-string">"btn_add"</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span>:<span class="hljs-string"><span class="hljs-string">"Add new"</span></span>, <span class="hljs-attr"><span class="hljs-attr">css</span></span>:<span class="hljs-string"><span class="hljs-string">"webix_primary"</span></span>, <span class="hljs-attr"><span class="hljs-attr">click</span></span>:addItem}, { <span class="hljs-attr"><span class="hljs-attr">view</span></span>:<span class="hljs-string"><span class="hljs-string">"button"</span></span>, <span class="hljs-attr"><span class="hljs-attr">id</span></span>:<span class="hljs-string"><span class="hljs-string">"btn_clear"</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span>:<span class="hljs-string"><span class="hljs-string">"Clear"</span></span>, <span class="hljs-attr"><span class="hljs-attr">click</span></span>:clearForm} ] }, {} ], <span class="hljs-attr"><span class="hljs-attr">rules</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">title</span></span>: webix.rules.isNotEmpty, rating(value){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(webix.rules.isNumber(value)){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } }, votes(value){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> value &lt; <span class="hljs-number"><span class="hljs-number">1000000</span></span> &amp;&amp; value &gt;= <span class="hljs-number"><span class="hljs-number">1</span></span>; }, year(value){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> value&gt;=<span class="hljs-number"><span class="hljs-number">1970</span></span> &amp;&amp; value &lt;= <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>().getFullYear(); } }</code> </pre><br>  Die Eigenschaften des Regelobjekts m√ºssen mit den Werten des <code><b>name: "‚Ä¶"</b></code> √ºbereinstimmen <code><b>name: "‚Ä¶"</b></code> Eigenschaft der Formularelemente.  Die <a href="https://docs.webix.com/desktop__data_validation.html" rel="nofollow">vordefinierten Regeln</a> webix.rules.isNotEmpty und webix.rules.isNumber werden in den Eigenschaften title, rating und votes festgelegt. Im Jahr gibt es eine Funktion, die <a href="https://docs.webix.com/desktop__data_validation.html" rel="nofollow">Benutzerregeln definiert</a> . <br><br>  Regeln sollten bei Erfolg true und bei Fehlern false zur√ºckgeben.  Das Formular besteht die Validierung, wenn alle Eigenschaften des Regelobjekts true zur√ºckgeben.  Andernfalls werden Felder, die die Validierung nicht bestehen, rot hervorgehoben. <br><br>  Testergebnis: <br><img src="https://habrastorage.org/webt/zs/cy/cx/zscycxjvs2jnjc6suvf7lls2-im.png"><br><br><h3>  Schritt 3. Fehlermeldung </h3><br>  Die Regeln sind festgelegt, jetzt brauche ich einen Mechanismus zum Anzeigen einer Fehlermeldung, um den Benutzer zu benachrichtigen, dass die eingegebenen Daten die angegebenen Kriterien nicht erf√ºllen.  Dazu k√∂nnen Sie das Feld rot markieren und eine Fehlermeldung hinzuf√ºgen. <br><br>  In den Feldern kann die Eigenschaft <a href="https://docs.webix.com/api__link__ui.texthighlight_invalidmessage_config.html" rel="nofollow">invalidMessage festgelegt sein</a> , deren Wert der Text mit der Fehlermeldung ist.  Diese Meldung wird unter dem Feld angezeigt, wenn die Validierung fehlschl√§gt. <br><br>  Code: <br><pre> <code class="javascript hljs">elements:[ { <span class="hljs-attr"><span class="hljs-attr">type</span></span>:<span class="hljs-string"><span class="hljs-string">"section"</span></span>, <span class="hljs-attr"><span class="hljs-attr">template</span></span>:<span class="hljs-string"><span class="hljs-string">"EDIT FILMS"</span></span>}, { <span class="hljs-attr"><span class="hljs-attr">view</span></span>:<span class="hljs-string"><span class="hljs-string">"text"</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>:<span class="hljs-string"><span class="hljs-string">"title"</span></span>, <span class="hljs-attr"><span class="hljs-attr">label</span></span>:<span class="hljs-string"><span class="hljs-string">"Title"</span></span>, <span class="hljs-attr"><span class="hljs-attr">invalidMessage</span></span>:<span class="hljs-string"><span class="hljs-string">"Must be filled in"</span></span>}, { <span class="hljs-attr"><span class="hljs-attr">view</span></span>:<span class="hljs-string"><span class="hljs-string">"text"</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>:<span class="hljs-string"><span class="hljs-string">"year"</span></span>, <span class="hljs-attr"><span class="hljs-attr">label</span></span>:<span class="hljs-string"><span class="hljs-string">"Year"</span></span>, <span class="hljs-attr"><span class="hljs-attr">invalidMessage</span></span>:<span class="hljs-string"><span class="hljs-string">"Should be between 1970 and current"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">view</span></span>:<span class="hljs-string"><span class="hljs-string">"text"</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>:<span class="hljs-string"><span class="hljs-string">"rating"</span></span>, <span class="hljs-attr"><span class="hljs-attr">label</span></span>:<span class="hljs-string"><span class="hljs-string">"Rating"</span></span>, <span class="hljs-attr"><span class="hljs-attr">invalidMessage</span></span>:<span class="hljs-string"><span class="hljs-string">"Cannot be empty or 0"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">view</span></span>:<span class="hljs-string"><span class="hljs-string">"text"</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>:<span class="hljs-string"><span class="hljs-string">"votes"</span></span>, <span class="hljs-attr"><span class="hljs-attr">label</span></span>:<span class="hljs-string"><span class="hljs-string">"Votes"</span></span>, <span class="hljs-attr"><span class="hljs-attr">invalidMessage</span></span>:<span class="hljs-string"><span class="hljs-string">"Must be less than 100000"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">margin</span></span>:<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-attr"><span class="hljs-attr">cols</span></span>:[ { <span class="hljs-attr"><span class="hljs-attr">view</span></span>:<span class="hljs-string"><span class="hljs-string">"button"</span></span>, <span class="hljs-attr"><span class="hljs-attr">id</span></span>:<span class="hljs-string"><span class="hljs-string">"btn_add"</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span>:<span class="hljs-string"><span class="hljs-string">"Add new"</span></span>, <span class="hljs-attr"><span class="hljs-attr">css</span></span>:<span class="hljs-string"><span class="hljs-string">"webix_primary"</span></span>, <span class="hljs-attr"><span class="hljs-attr">click</span></span>:addItem}, { <span class="hljs-attr"><span class="hljs-attr">view</span></span>:<span class="hljs-string"><span class="hljs-string">"button"</span></span>, <span class="hljs-attr"><span class="hljs-attr">id</span></span>:<span class="hljs-string"><span class="hljs-string">"btn_clear"</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span>:<span class="hljs-string"><span class="hljs-string">"Clear"</span></span>, <span class="hljs-attr"><span class="hljs-attr">click</span></span>:clearForm} ] }, {} ]</code> </pre><br>  Ergebnis: <br><img src="https://habrastorage.org/webt/t9/l0/kd/t9l0kdtmzyg4jezz03ta-vjkctq.png"><br><br><h3>  Schritt 4. Reinigen Sie das Formular </h3><br>  Um das Formular zu l√∂schen, m√ºssen Sie eine Funktion erstellen, die √ºber die Schaltfl√§che <code>"Clear"</code> aufgerufen wird.  Sie ist auch f√ºr die Ausgabe einer Warnmeldung verantwortlich. Bei einer positiven Antwort l√∂scht sie die eingegebenen Daten und setzt die Fehleranzeige zur√ºck. <br><br>  Warnmeldung: <br><img src="https://habrastorage.org/webt/ck/yq/nd/ckyqnddkxn5e2ru_dekxv3r6z-e.png"><br><br>  Ich werde die Funktion <b>clearForm aufrufen</b> und den folgenden Code darin schreiben: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clearForm</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ webix.confirm({ <span class="hljs-attr"><span class="hljs-attr">title</span></span>:<span class="hljs-string"><span class="hljs-string">"All data will be lost!"</span></span>, <span class="hljs-attr"><span class="hljs-attr">text</span></span>:<span class="hljs-string"><span class="hljs-string">"Are you sure?"</span></span> }).then( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { $$(<span class="hljs-string"><span class="hljs-string">"film_form"</span></span>).clear(); $$(<span class="hljs-string"><span class="hljs-string">"film_form"</span></span>).clearValidation(); } )};</code> </pre><br>  Die <a href="https://docs.webix.com/api___confirm.html" rel="nofollow">R√ºckrufmethode webback.confirm ({...})</a> wird f√ºr das Best√§tigungsfenster verwendet, das ein Objekt mit den folgenden Eigenschaften akzeptiert: <b>text</b> und <b>title</b> .  Da die Methode <b>vielversprechend ist</b> , kann ich den <b>.then-</b> Handler verwenden.  Wenn die Antwort Ja lautet, rufe ich im .then-Handler zwei Methoden auf: clear (), um Formularfelder zu l√∂schen, und clearValidation (), um √úberpr√ºfungsfehlerkennungen zu entfernen. <br><br>  Die letzte Aktion besteht darin, den Funktionsaufruf an die Schaltfl√§che <code>"Clear"</code> zu binden. <br><br><pre> <code class="javascript hljs">margin:<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-attr"><span class="hljs-attr">cols</span></span>:[ { <span class="hljs-attr"><span class="hljs-attr">view</span></span>:<span class="hljs-string"><span class="hljs-string">"button"</span></span>, <span class="hljs-attr"><span class="hljs-attr">id</span></span>:<span class="hljs-string"><span class="hljs-string">"btn_add"</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span>:<span class="hljs-string"><span class="hljs-string">"Add new"</span></span>, <span class="hljs-attr"><span class="hljs-attr">css</span></span>:<span class="hljs-string"><span class="hljs-string">"webix_primary"</span></span>, <span class="hljs-attr"><span class="hljs-attr">click</span></span>:addItem}, { <span class="hljs-attr"><span class="hljs-attr">view</span></span>:<span class="hljs-string"><span class="hljs-string">"button"</span></span>, <span class="hljs-attr"><span class="hljs-attr">id</span></span>:<span class="hljs-string"><span class="hljs-string">"btn_clear"</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span>:<span class="hljs-string"><span class="hljs-string">"Clear"</span></span>, <span class="hljs-attr"><span class="hljs-attr">click</span></span>:clearForm} ]</code> </pre><br>  Der Code und die Demo k√∂nnen hier eingesehen werden - <a href="https://snippet.webix.com/17w1dodb" rel="nofollow">snippet.webix.com/17w1dodb</a> . <br><br><h3>  Verallgemeinerung </h3><br>  Aus der Quelle ging hervor, dass der Code des vorherigen Artikels recht einfach ist, aber mit der Entwicklung des Projekts wird es allm√§hlich komplizierter und seine Anzahl nimmt zu.  Um sich nicht in der Unendlichkeit von Codezeilen zu verlieren, ist es wichtig, die Lesbarkeit und die Struktur einfach zu halten.  Ein Beispiel f√ºr die Interaktion mit einem Formular beschreibt nur grundlegende Methoden, aber es wird auch deutlich, dass webix einen kleinen, lesbaren und intuitiven Code bietet, um der Seite Dynamik zu verleihen.  Im Vergleich zu reinem JavaScript w√ºrde sich sein Volumen bestenfalls verdoppeln. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de484310/">https://habr.com/ru/post/de484310/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de484296/index.html">Lytko vereint</a></li>
<li><a href="../de484300/index.html">Funktionale PowerShell mit Klassen - kein Oxymoron, das garantiere ich</a></li>
<li><a href="../de484302/index.html">Slurm DevOps - eine bessere Arbeitsmeise in 3 Tagen als ein sch√∂ner Kran in ferner Zukunft</a></li>
<li><a href="../de484304/index.html">China verabschiedete sein "Fr√ºhlingspaket"</a></li>
<li><a href="../de484306/index.html">Lernf√§higkeit kann unentscheidbar sein</a></li>
<li><a href="../de484312/index.html">Effiziente Speicherung von Hunderten Millionen kleiner Dateien. Selbst gehostete L√∂sung</a></li>
<li><a href="../de484320/index.html">Erstellen eines Microservices f√ºr Quarkus, Kotlin und Gradle</a></li>
<li><a href="../de484326/index.html">Springe nach London oder mein Praktikum bei Jump Trading</a></li>
<li><a href="../de484328/index.html">Paul Graham k√ºndigt neue Bel-Programmiersprache an</a></li>
<li><a href="../de484330/index.html">[Nginx] So schlagen Sie response_status = 0</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>