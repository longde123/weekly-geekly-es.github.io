<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèº‚Äçüè≠ üéä üë©üèª‚Äç‚öñÔ∏è Interaktion zwischen einer Site in einem Browser und einem lokal ausgef√ºhrten Programm üçò üòß üëêüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Manchmal ist es erforderlich, Daten zwischen einer Anwendung, die in einem Browser ausgef√ºhrt wird, und einem Programm zu √ºbertragen, das auf demselbe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Interaktion zwischen einer Site in einem Browser und einem lokal ausgef√ºhrten Programm</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/438166/"><p>  Manchmal ist es erforderlich, Daten zwischen einer Anwendung, die in einem Browser ausgef√ºhrt wird, und einem Programm zu √ºbertragen, das auf demselben System ausgef√ºhrt wird, auf dem der Browser ausgef√ºhrt wird.  Dies kann beispielsweise erforderlich sein, wenn wir mit lokal angeschlossenen Ger√§ten arbeiten m√ºssen.  Smartcard-Leser, Hardware-Verschl√ºsselungsschl√ºssel und so weiter. </p><br><p><img src="https://habrastorage.org/webt/7i/-0/z3/7i-0z38huftai6kwoeaejgvh5ms.jpeg"></p><br><p>  <sup>Bild <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Autarker Streifen">von hier</a></sup> </p><br><p>  Die ersten, die mir in den Sinn kommen, sind drei M√∂glichkeiten, um dieses Problem zu l√∂sen: </p><br><ol><li>  Verwenden Sie Browser-Tools oder schreiben Sie Plugins f√ºr diese </li><li>  Organisieren Sie den Datenaustausch √ºber das Backend und fungieren Sie als Vermittler </li><li>  F√ºgen Sie dem Programm einen HTTP-Dienst hinzu und greifen Sie direkt √ºber den Browser darauf zu </li></ol><br><p>  Das dritte Element sieht gut aus, erm√∂glicht es Ihnen, die Autorisierung im Programm zu entfernen, erfordert √ºberhaupt keine Benutzeroberfl√§che.  Versuchen wir, es zu implementieren, indem Sie ein Programm in C # unter .NET Framework 4 schreiben. Da es sich um .NET handelt, ist die L√∂sung nur f√ºr Windows (XP und neuer) verf√ºgbar.  Wir werden die Webanwendung auf eckig machen. </p><a name="habracut"></a><br><h1 id="pochemu-ne-1-i-2">  Warum nicht 1 und 2? </h1><br><p>  Das erste Element wird definitiv viel Schmerz bringen, Sie m√ºssen Browser separat unterst√ºtzen, Sie k√∂nnen weit von allem in Browser-Plug-Ins tun.  Theoretisch ist es jedoch m√∂glich, √ºber Plugins mit Smartcards zu arbeiten.  Aber Sie brauchen einen einfacheren Weg. </p><br><p>  Der zweite Punkt ist einfach zu implementieren, aber f√ºr dieses Schema m√ºssen Sie die Autorisierung nicht nur auf der Site, sondern auch in der lokalen Anwendung durchf√ºhren.  Dies bedeutet, dass eine Art Schnittstelle erforderlich ist, aber beim √Ñndern des Kennworts ist auch eine erneute Autorisierung im Programm erforderlich.  Au√üerdem treten in Unternehmensnetzwerken zus√§tzliche Probleme mit dem Netzwerk auf. Sie verf√ºgen h√§ufig √ºber einen Internetzugang √ºber Proxys mit schwerwiegenden Filtern und Berechtigungen. Au√üerdem m√ºssen Sie eine Schnittstelle zum Konfigurieren von Proxys einrichten und automatische Einstellungen k√∂nnen nicht immer entfernt werden.  Es wird f√ºr einen Benutzer, der weit von der IT entfernt ist, schwieriger sein, damit zu arbeiten, und wir werden mehr technischen Support schaffen.  Nat√ºrlich k√∂nnen Sie f√ºr jeden Benutzer ein individuelles Installationspaket erstellen, um die Notwendigkeit einer prim√§ren Autorisierung zu beseitigen. Dies tr√§gt jedoch nur zu den Problemen bei. </p><br><h1 id="pri-chem-tut-https">  Was hat HTTPS damit zu tun? </h1><br><p>  Wenn eine Site √ºber HTTPS ausgef√ºhrt wird, blockieren Browser den Download von aktivem Inhalt √ºber HTTP.  Gem√§√ü der Logik der Dinge sollten Browser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">die</a> Anforderung an den lokalen Computer √ºber HTTP <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">jedoch als sicher betrachten</a> und sie nicht blockieren.  Dies stellte sich als nicht ganz so heraus. <br>  Die Tabelle zeigt die Ergebnisse einer kleinen Studie zum Verhalten von Browsern auf der Windows-Plattform: </p><br><table><thead><tr><th></th><th>  Firefox 65 </th><th>  Chrome 72 </th><th>  IE 11 </th></tr></thead><tbody><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">http: // localhost /</a> </td><td>  ‚ùå Blockiertes Laden gemischter aktiver Inhalte </td><td>  ‚úì </td><td>  ‚ùå Fehler: Zugriff verweigert 0x8007005 </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">http://127.0.0.1/</a> </td><td>  ‚úì </td><td>  ‚úì </td><td>  ‚ùå Fehler: Zugriff verweigert 0x8007005 </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https: // localhost /</a> </td><td>  ‚ùå SEC_ERROR_UNKNOWN_ISSUER </td><td>  ‚úì </td><td>  ‚úì </td></tr></tbody></table><br><p>  Die Tabelle zeigt das Verhalten von Browsern beim Versuch, eine Anfrage an die entsprechende Adresse zu stellen.  Browser auf der Chromium-Engine verhalten sich √§hnlich wie Chrome, und das Verhalten von Edge 44 √§hnelt dem Verhalten von IE 11. F√ºr HTTPS wird ein g√ºltiges Zertifikat ausgestellt, das mit einem selbstsignierten Stammzertifikat signiert ist.  Das Verhalten f√ºr <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://127.0.0.1</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https: // localhost ist das</a> gleiche. Nur f√ºr 127.0.0.1 m√ºssen Sie ebenfalls ein Zertifikat ausstellen, und Zertifikate f√ºr IP-Adressen werden selten gefunden. Daher wird dieser Punkt weggelassen. </p><br><p>  Alles funktioniert in Chrome.  Chrome und IE verwenden den Systemzertifikatsspeicher, sodass HTTPS auch in ihnen funktioniert.  Firefox verwendet einen eigenen Zertifikatspeicher, daher vertraut es unserem selbstsignierten Zertifikat nicht.  Firefox und IE vertrauen dem Namen des lokalen Hosts nicht, und das ist richtig, da niemand garantiert, dass er in 127.0.0.1 aufgel√∂st wird (obwohl sie ihn einfach wie Chrome √ºberpr√ºfen k√∂nnten). </p><br><p>  Das Hauptproblem: IE erlaubt keinen Zugriff auf das Programm √ºber HTTP.  So viel Aufhebens um Zertifikate k√∂nnen wir nicht vermeiden. </p><br><p>  Um mit Browsern arbeiten zu k√∂nnen, m√ºssen Sie im Programm auch die richtigen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">CORS</a> -Header (Access-Control-Allow-Origin, Access-Control-Allow-Methoden und Access-Control-Allow-Header) angeben. </p><br><h1 id="ssl-sertifikat">  SSL-Zertifikat </h1><br><p>  Sie k√∂nnen einen DNS-Eintrag f√ºr Ihre Domain erstellen, z. B. local.example.com, der in 127.0.0.1 aufgel√∂st wird.  Stellen Sie ein SSL-Zertifikat f√ºr diese Dom√§ne aus und verteilen Sie es mit dem Programm.  Sie m√ºssen den privaten Schl√ºssel dieses Zertifikats mit dem Programm verteilen.  Dies ist v√∂llig ungeeignet.  Au√üerdem muss das Zertifikat im Programm aktualisiert werden. </p><br><p>  IE vertraut einem selbstsignierten SSL-Zertifikat nicht, es muss mit einem vertrauensw√ºrdigen Stammzertifikat signiert sein (und es kann selbstsigniert sein). </p><br><p>  Sie k√∂nnen ein Stammzertifikat und ein SSL-Zertifikat generieren und diese mit dem Programm verteilen und zum lokalen Zertifikatspeicher hinzuf√ºgen.  Es sieht unsicher aus.  M√∂glicherweise muss das Zertifikat auch widerrufen oder erneuert werden.  Daher generieren wir beim ersten Programmstart Zertifikate mit Schl√ºsseln direkt auf dem Computer des Benutzers. </p><br><h1 id="sozdanie-sertifikatov-v-c35">  Erstellen von Zertifikaten in C # </h1><br><p>  F√ºr .NET gibt es eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><b>BouncyCastle-</b></a> Bibliothek, die alles kann, was wir brauchen.  Das einzige Problem besteht darin, dass Sie zum Hinzuf√ºgen eines Zertifikats zum Gesch√§ft eine Erh√∂hung der Berechtigungen beantragen m√ºssen.  Sie ben√∂tigen au√üerdem erh√∂hte Rechte, um mit netsh das Zertifikat an einem bestimmten Port im System zu sichern. </p><br><pre><code class="plaintext hljs">netsh http add sslcert ipport=0.0.0.0:{PORT} certhash={certThumbprint}</code> </pre> <br><p>  Im Beispiel f√ºhrt die RegisterSslOnPort-Methode in der SslHelper-Klasse diesen Job aus. </p><br><h1 id="http-servis-v-programme-na-c35">  HTTP-Dienst im C # -Programm </h1><br><p>  Um einen leichtgewichtigen HTTP (S) -Server zu erstellen, verwenden wir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">die Nancy-Bibliothek</a> .  Nancy ist ein leichtes Webframework f√ºr .NET, einfach und benutzerfreundlich.  Es wurde viel √ºber ihn geschrieben, auch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">√ºber Habr√©</a> .  Dank des Nancy.SelfHosting-Moduls k√∂nnen wir unsere Anwendung ohne Verwendung von IIS hosten. </p><br><p>  Erstellen wir beispielsweise einen Endpunkt, der sich mit der Addition von zwei Zahlen befasst.  Hier ist es wichtig, die richtigen CORS-Header festzulegen, da der Browser sonst keine Anforderung an unsere API ausf√ºhrt. </p><br><div class="spoiler">  <b class="spoiler_title">Nancymodule</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">CalcNancyModule</span></span> : <span class="hljs-title"><span class="hljs-title">NancyModule</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CalcNancyModule</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-comment"><span class="hljs-comment">// ,      After.AddItemToEndOfPipeline((ctx) =&gt; ctx.Response .WithHeader("Access-Control-Allow-Origin", GetOrigin(ctx)) .WithHeader("Access-Control-Allow-Methods", "POST,GET") .WithHeader("Access-Control-Allow-Headers", "Accept, Origin, Content-type")); Get["/Calc"] = _ =&gt; { //      .NET  }; Get["/Calc/Add"] = _ =&gt; { //       (num1 + num2) }; } private string GetOrigin(NancyContext ctx) { // Origin,     //    //      - // https://app.example.com return ctx.Request?.Headers["Origin"]?.FirstOrDefault() ?? ""; } }</span></span></code> </pre> </div></div><br><p>  F√ºgen Sie unserer Anwendung die Nancy-Initialisierung hinzu, und wir sind bereit f√ºr den Kampf. </p><br><div class="spoiler">  <b class="spoiler_title">Nancy Initialisierung</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> hostConfigs = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HostConfiguration(); hostConfigs.UrlReservations.CreateAutomatically = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; hostConfigs.RewriteLocalhost = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> uris = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Uri[] { <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Uri(<span class="hljs-string"><span class="hljs-string">$"http://localhost:</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{HTTPPORT}</span></span></span><span class="hljs-string">"</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Uri(<span class="hljs-string"><span class="hljs-string">$"http://127.0.0.1:</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{HTTPPORT}</span></span></span><span class="hljs-string">"</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Uri(<span class="hljs-string"><span class="hljs-string">$"https://localhost:</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{HTTPSPORT}</span></span></span><span class="hljs-string">"</span></span>) }; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> host = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NancyHost(hostConfigs, uris)) { host.Start(); }</code> </pre> </div></div><br><p>  Beim ersten Start m√ºssen Sie Zertifikate generieren und im Gesch√§ft ablegen, um die entsprechenden Rechte anzufordern.  Die <a href="">SslHelper-Klasse wird</a> f√ºr diese Manipulationen verwendet, bei denen die einzige √∂ffentliche CheckOrCreateCertificates-Methode den Job ausf√ºhrt.  Als Parameter werden SubjectName-Zertifikate an sie √ºbergeben.  Die Methode pr√ºft, ob die erforderlichen Zertifikate verf√ºgbar sind, und das System erstellt sie, falls nicht. </p><br><p>  F√ºgen Sie unseren API-Aufrufen Thread.Sleep (1000) hinzu, um harte Arbeit und lange Verz√∂gerungen im Beispiel zu simulieren. </p><br><p>  Wenn diese Anwendung zur Ausf√ºhrung bereit ist, gehen Sie ins Web. </p><br><h1 id="veb-prilozhenie">  Webanwendung </h1><br><p>  Wie Sie der Verhaltenstabelle des Browsers entnehmen k√∂nnen, kann auf einen Endpunkt nicht verzichtet werden. Es m√ºssen mindestens zwei verwendet werden: </p><br><blockquote><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">http://127.0.0.1</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https: // localhost</a> </li></ul><br></blockquote><p>  In einer Webanwendung m√ºssen wir feststellen, ob wir uns im IE (oder Edge) befinden - verwenden Sie HTTPS, wenn nicht - HTTP.  Sie k√∂nnen es zuverl√§ssiger machen und nicht herausfinden, in welchem ‚Äã‚ÄãBrowser wir uns befinden. Versuchen Sie einfach, eine Anforderung an die GET / Calc-Methode unserer API auszuf√ºhren. Wenn die Anforderung erfolgreich ist, arbeiten wir, wenn nicht, versuchen wir es mit einem anderen Protokoll. </p><br><p>  All dies ist nur erforderlich, wenn die Webanwendung selbst HTTPS verwendet, da Browser bei Verwendung des HTTP-Protokolls keine Einschr√§nkungen f√ºr Anforderungen auferlegen, sondern nur die richtigen CORS-Header ben√∂tigt werden. </p><br><p>  Erstellen Sie in der Winkelanwendung einen InteractionService-Dienst, der die Verf√ºgbarkeit des lokalen Endpunkts zuerst √ºber HTTP und dann √ºber HTTPS √ºberpr√ºft.  Die Pr√ºfung wird von der checkAvailability-Methode durchgef√ºhrt, und das Ergebnis der Pr√ºfung ist verf√ºgbar, wenn die verf√ºgbare $ -Variable vom Typ BehaviorSubject mit dem Anfangswert false abonniert wird. <br></p><p>  Wir f√ºgen der AppComponent-Komponente die Arbeit des Hinzuf√ºgens von Zahlen hinzu.  Wenn Sie auf die Schaltfl√§che "Berechnen" klicken, fordert die Webanwendung GET / Calc / Add? Num1 = {num1} &amp; num2 = {num2} an.  Die Antwort oder der Fehler wird im Feld Ergebnis angezeigt. </p><br><p>  Beim Debuggen werden Sie m√∂glicherweise auch √ºber HTTPS keine Probleme bemerken, da die Dom√§ne f√ºr Anforderungen dieselbe ist - localhost.  Daher m√ºssen Sie die Anwendung mit einem anderen Dom√§nennamen testen. <br>  Um die Bereitstellung einer Webanwendung so weit wie m√∂glich zu vereinfachen, verwenden wir den Dienst <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://stackblitz.com</a> . Dies ist eine Web-IDE f√ºr Angular und nicht nur mit einem Hauch von VSCode.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die fertige Bewerbung finden Sie unter dem Link</a> . </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Und Sie k√∂nnen den Code hier graben</a> . </p><br><p>  Die Anwendung funktioniert nicht interaktiv auf stackblitz. Sie m√ºssen sie in einem separaten privaten Tab oder in einem anderen Browser unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://angular-pfwfrm.stackblitz.io</a> √∂ffnen. </p><br><h1 id="kak-poprobovat">  Wie versuche ich es? </h1><br><p>  Die Webanwendung wird bequem mit stackblitz gestartet, indem Sie einfach auf den Link <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://angular-pfwfrm.stackblitz.io</a> klicken. </p><br><p>  Sie k√∂nnen die Webanwendung lokal ausf√ºhren. </p><br><div class="spoiler">  <b class="spoiler_title">Daf√ºr brauchst du</b> <div class="spoiler_text"><p>  Dazu m√ºssen Sie das Repository klonen: </p><br><pre> <code class="plaintext hljs">git clone https://github.com/jdtcn/InteractionExample.git cd InteractionExample</code> </pre> <br><p>  Im AngularWebApp-Ordner m√ºssen Sie die folgenden Befehle ausf√ºhren: </p><br><pre> <code class="plaintext hljs">npm install ng serve --ssl true</code> </pre> <br><p>  Die Webanwendung ist unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https: // localhost: 4200 /</a> verf√ºgbar. </p></div></div><br><p>  Die lokale Anwendung kann entweder mit Visual Studio aus dem Beispiel kompiliert werden (CsClientApp.sln aus dem CsClientApp-Ordner √∂ffnen) und ausgef√ºhrt werden, oder das Skript f√ºr das <b><a href="">LINQPad-</a></b> Programm verwenden. </p><br><p>  Wenn Sie ein .NET-Entwickler sind und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">LINQPad</a> nicht verwenden, lesen Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">unbedingt dar√ºber</a> , was in der Entwicklung unverzichtbar ist.  Um das Beispiel auszuf√ºhren, m√ºssen Sie das Skript in LINQPad'e √∂ffnen (das erste Mal, wenn Sie LINQPad mit Administratorrechten ausf√ºhren m√ºssen, um die Zertifikate zu installieren) und die Nuget-Pakete BouncyCastle, Nancy, Nancy.Hosting.Self installieren und dann das Skript ausf√ºhren.  Danach k√∂nnen Sie in der Webanwendung auf die Schaltfl√§che ‚ÄûBerechnen‚Äú klicken und das Ergebnis des Vorgangs abrufen. </p><br><h1 id="bezopasnost">  Sicherheit </h1><br><p>  Es ist wichtig, CORS-Header in einer realen Anwendung korrekt zu bilden, damit B√∂sewichte von anderen Websites nicht auf unser Programm zugreifen k√∂nnen.  Wenn der B√∂sewicht die M√∂glichkeit hat, mit den Berechtigungen des Benutzers auf seinem Computer zu arbeiten und die CORS-Pr√ºfung zu umgehen, kann er alles tun, was unser Programm kann. </p><br><p>  In jedem Fall sollte das Programm mit minimalen Rechten arbeiten. Wenn es mit Dokumenten etwas Sensibles tut, m√ºssen Sie ihm Anforderungen zur Best√§tigung von Vorg√§ngen hinzuf√ºgen. </p><br><h1 id="vyvod">  Fazit </h1><br><p>  Die scheinbar einfache Aufgabe erwies sich als ziemlich umfangreich und erforderte sogar zus√§tzliche Kr√ºcken f√ºr die Arbeit mit Zertifikaten. </p><br><p>  Dieser Ansatz hat sich in einer realen Anwendung bew√§hrt.  Um den Code aus dem Beispiel zu verwenden, m√ºssen Sie nat√ºrlich eine normale Fehlerbehandlung hinzuf√ºgen. </p><br><p>  Es ist praktisch, bei der Installation des Programms die Erh√∂hung von Berechtigungen anzufordern. Mit InnoSetup ist dies einfach und √ºbergeben Sie das erforderliche Attribut beim ersten Ausf√ºhren des Programms.  Vor der Installation sollten Sie au√üerdem pr√ºfen, ob .NET 4 vorhanden ist, und es installieren, wenn es nicht installiert ist. </p><br><p>  Niemand bei Virustotal reagiert auf dieses Programm, aber ich w√ºrde gerne!  Wenn Sie jedoch das Installationspaket in InnoSetup zusammenstellen, arbeiten einige Antivirenprogramme der dritten Klasse daran.  Dies hilft dabei, die Signatur des Installationsprogramms mit dem Codesignaturzertifikat zu beseitigen. </p><br><p>  Das automatische Update des Programms hier ist hinter den Kulissen, aber es wird in einer realen Anwendung sicherlich nicht √ºberfl√ºssig sein.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Eichh√∂rnchen</a> eignet sich gut zum Verwalten von automatischen Updates.  Es ist auch praktisch, Eichh√∂rnchen zu verwenden, um unsere Zertifikate aus dem System zu entfernen, wenn Sie das Programm l√∂schen. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Beispielcode auf GitHub</a> . </p><br><p>  Vielen Dank f√ºr Ihre Aufmerksamkeit! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de438166/">https://habr.com/ru/post/de438166/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de438150/index.html">Wie man eine Menge einzigartiger Turnschuhe in China herstellt</a></li>
<li><a href="../de438152/index.html">"Ich kann Ihnen √ºber die Schmerzen erz√§hlen, die jeder iOS-Entwickler im Arsch hat" - 10 Fragen an einen Entwickler, Folge 2</a></li>
<li><a href="../de438158/index.html">US-Datenbroker verkaufen Standortdaten ohne Zustimmung des Benutzers - ihre Arbeit wird reguliert</a></li>
<li><a href="../de438162/index.html">Das Tupel eines gesunden Menschen</a></li>
<li><a href="../de438164/index.html">Genetik und H√ºhner: menschliches CSF1-Fc-Protein in Eiprotein</a></li>
<li><a href="../de438168/index.html">Wie man eine teure Kamera knackt, damit deine Frau dich nicht umbringt</a></li>
<li><a href="../de438170/index.html">Preis benannt nach Ilya Segalovich. Geschichte √ºber Informatik und Ver√∂ffentlichungen</a></li>
<li><a href="../de438172/index.html">Apple kann die Produktion seiner Ger√§te nicht in die USA verlagern</a></li>
<li><a href="../de438174/index.html">Gelb - Vakuum - Wolke</a></li>
<li><a href="../de438176/index.html">IPSec √úbersicht bei Mikrotik</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>