<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📬 😏 🛀🏼 NetBIOS ada di tangan seorang hacker 👰 🦖 🕢</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Artikel ini akan memuat cerita pendek tentang apa yang bisa kita sampaikan hal yang sudah biasa kita kenal seperti NetBIOS . Informasi apa yang dapat ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>NetBIOS ada di tangan seorang hacker</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/445212/"> Artikel ini akan memuat cerita pendek tentang apa yang bisa kita sampaikan hal yang sudah biasa kita kenal seperti <i>NetBIOS</i> .  Informasi apa yang dapat dia berikan untuk penyerang / pentester potensial. <a name="habracut"></a><br><br>  Area penerapan teknik pengintaian yang ditunjukkan berkaitan dengan internal, yaitu terisolasi dan tidak dapat diakses dari jaringan luar.  Sebagai aturan, jaringan semacam itu ada untuk perusahaan sekecil apa pun. <br><br>  <i>NetBIOS</i> sendiri digunakan, sebagai suatu peraturan, untuk mendapatkan nama jaringan.  Dan itu sudah cukup untuk melakukan setidaknya 4 hal. <br><br><h4>  Penemuan tuan rumah </h4><br>  Karena fakta bahwa NetBIOS dapat menggunakan UDP sebagai transportasi, kecepatannya memungkinkan untuk mendeteksi host di jaringan yang sangat besar.  Jadi, misalnya, alat <i>nbtscan</i> yang termasuk dalam paket dengan nama yang sama hanya dapat menyelesaikan alamat jaringan dari tipe 192.168.0.0/16 dalam 2 detik (dapat menempatkan jaringan), sementara pemindaian TCP tradisional akan memakan waktu puluhan menit.  Fitur ini dapat digunakan sebagai teknik sapuan host di jaringan yang sangat besar yang tidak diketahui sebelum memulai nmap.  Meskipun hasilnya tidak menjamin deteksi 100%, karena host windows sebagian besar akan merespons dan tidak semua, itu masih akan memungkinkan Anda untuk menentukan kira-kira di mana rentang host hidup. <br><br><h4>  Identifikasi tuan rumah </h4><br>  Menggunakan hasil mendapatkan nama dari ip-address: <br><br><img src="https://habrastorage.org/webt/t7/pa/hv/t7pahvwb67vd6ee85boatugvgwg.png" alt="gambar"><br><br>  Anda dapat melihat: di samping fakta bahwa nama tersebut mengungkapkan pemilik workstation (walaupun ini jauh dari selalu terjadi), salah satu alamat jelas menonjol dari yang lain.  Kita bisa melihat bahwa nama <i>KALI</i> diterima.  Perilaku ini khas, sebagai aturan, untuk implementasi <i>unix</i> <i>SMB / NetBIOS</i> sebagai bagian dari paket perangkat lunak <i>samba</i> atau <i>Windows 2000 yang</i> sangat lama. <br><br>  Mendapatkan nama <i>KALI</i> , sementara pada host lain ini &lt; <i>tidak diketahui</i> &gt; menunjukkan keberadaan yang disebut <i>null-session</i> .  Dengan pengaturan default, server <i>SMB</i> di <i>linux</i> cenderung untuk itu.  <i>Sesi kosong</i> hanya memungkinkan Anda mendapatkan cukup banyak informasi tambahan, seperti kebijakan kata sandi lokal, daftar pengguna lokal, grup, dan daftar sumber daya bersama (bola), benar-benar anonim (dan kami tidak memasukkan kata sandi, seperti yang dapat Anda lihat di layar): <br><br><img src="https://habrastorage.org/webt/yr/v9/qs/yrv9qsux-chofihfntozw8i3xki.png" alt="gambar"><br><br>  Seringkali pada server <i>SMB linux</i> ada bola yang dapat diakses publik, tidak hanya untuk membaca, tetapi bahkan untuk menulis.  Kehadiran keduanya membawa berbagai ancaman, yang penggunaannya di luar ruang lingkup artikel ini. <br><br>  <i>NetBIOS</i> juga memungkinkan Anda untuk mendapatkan nama semua jenis yang disimpan oleh workstation: <br><br><img src="https://habrastorage.org/webt/oo/mw/te/oomwtezmse069cd8umqv1s_x3k8.png" alt="gambar"><br><br>  dalam hal ini, Anda dapat mengetahui bahwa host juga merupakan <i>pengontrol</i> domain <i>ARRIVA</i> . <br><br>  Penting juga untuk memberi perhatian tambahan bahwa <i>NetBIOS</i> memungkinkan Anda untuk mendapatkan alamat <i>mac</i> .  Selain itu, tidak seperti permintaan arp, permintaan NetBIOS dapat melampaui subnet.  Ini dapat berguna jika, misalnya, Anda perlu menemukan laptop atau perangkat keras tertentu di jaringan, mengetahui produsennya.  Karena tiga oktet pertama dari alamat <i>mac</i> mengidentifikasi produsen, Anda dapat mengirim permintaan <i>NetBIOS yang</i> sama ke semua subnet yang dikenal untuk mencoba menemukan perangkat yang Anda butuhkan (http://standards-oui.ieee.org/oui.txt). <br><br><h4>  Penentuan Keanggotaan Domain </h4><br>  Seringkali, ketika bergerak melalui jaringan internal perusahaan, perlu untuk menyerang workstation yang termasuk dalam domain (misalnya, untuk meningkatkan hak istimewa ke level administrator domain) atau sebaliknya.  Dalam hal ini, <i>NetBIOS dapat</i> membantu lagi: <br><br><img src="https://habrastorage.org/webt/ad/y0/rf/ady0rfad1qrtpy1l36xvreapkbo.png" alt="gambar"><br><br>  Dalam hal ini, menggunakan <i>NetBIOS</i> , semua nama dari semua tipe diperoleh.  Di antara mereka, Anda dapat melihat, selain nama PC (apa yang telah diterima sebelumnya), nama kelompok kerja.  Secara default untuk <i>windows,</i> biasanya sesuatu seperti <i>WORKGROUP</i> atau <i>IVAN-PC</i> , tetapi jika workstation berada dalam domain, maka workgroup-nya adalah nama domain. <br><br>  Dengan demikian, menggunakan <i>NetBIOS,</i> Anda dapat mengetahui apakah workstation berada dalam domain dan, jika demikian, di mana. <br><br>  Jika Anda ingin mendapatkan daftar host domain dalam subnet, maka satu permintaan broadcast dengan nama domain yang Anda butuhkan sudah cukup: <br><br><img src="https://habrastorage.org/webt/_6/ya/e8/_6yae8vq5zo4jy6h2lnuyhybakq.png" alt="gambar"><br><br>  akibatnya, semua host di domain ini akan merespons. <br><br><h4>  Penemuan host multihomed </h4><br>  Dan akhirnya, teknik lain yang mungkin sangat sedikit diketahui, yang sangat diperlukan untuk <i>menemukan cara</i> untuk mengamankan, bahkan mungkin jaringan yang terisolasi secara fisik.  Ini bisa menjadi bengkel jaringan perusahaan yang diisi dengan pengontrol.  Bagi penyerang, akses ke jaringan ini berarti peluang untuk memengaruhi proses teknologi, dan bagi perusahaan ada risiko kerugian besar. <br><br>  Jadi, intinya adalah bahwa bahkan jika jaringan terisolasi dari jaringan perusahaan, seringkali beberapa administrator, baik karena kemalasan mereka, atau entah bagaimana, suka menaikkan kartu jaringan lain pada PC mereka untuk mengakses jaringan yang sama ini.  Selain itu, semua ini terjadi tentu saja, melewati segala macam aturan firewall perusahaan.  Nyaman, ya, tapi tidak terlalu aman, jika Anda diretas, maka Anda akan menjadi jembatan ke jaringan ini dan memikul tanggung jawab. <br>  Namun, bagi penyerang ada satu masalah - untuk menemukan administrator yang bergabung dengan jaringan aman dengan cara ilegal serupa.  Selain itu, ini bukan masalah yang mudah bagi personel keamanan jaringan itu sendiri.  Di perusahaan besar, ini benar-benar tugas yang sulit, seolah menemukan jarum di tumpukan jerami. <br><br>  Dalam situasi ini, akan ada dua opsi yang jelas untuk penyerang: <br><br><ol><li>  coba gunakan setiap PC dalam subnet perusahaan sebagai gateway ke jaringan yang diinginkan.  Akan sangat mudah, tetapi ini jarang terlihat, karena pada <i>windows</i> host <i>ip forwarding</i> hampir selalu dinonaktifkan.  Selain itu, pemeriksaan semacam itu hanya mungkin dilakukan dalam subnetnya sendiri, dan itu juga mengharuskan penyerang untuk mengetahui alamat target dari jaringan yang terisolasi dengan tepat </li><li>  coba untuk login dari jarak jauh ke setiap host dan jalankan <i>perintah ipconfig / ifconfig biasa</i> .  Dan di sini semuanya tidak begitu mulus.  Bahkan jika seorang penyerang mengamankan hak-hak administrator domain, tidak ada yang membatalkan firewall dan firewall lokal.  Jadi tugas ini tidak 100% terotomatisasi.  Akibatnya, tetap menyakitkan untuk pergi ke setiap host, mengatasi firewall (sering memblokir port persis 445 / tcp), berharap akhirnya bisa melihat antarmuka jaringan yang diidamkan. </li></ol><br>  Namun, semuanya jauh lebih sederhana.  Ada satu trik yang sangat sederhana yang memungkinkan Anda untuk mendapatkan daftar antarmuka jaringan dari host yang diberikan.  Katakanlah kita memiliki host tertentu: <br><br><img src="https://habrastorage.org/webt/p2/1l/hh/p21lhhx8qdnfvpte4hrwblhsfvg.png" alt="gambar"><br><br>  ini adalah alamat ip penyelesai balik → nama jaringan.  Jika sekarang kita mencoba membuat nama jaringan resolv langsung → ip-address: <br><br><img src="https://habrastorage.org/webt/zr/2z/k9/zr2zk9waoscntarqir8zya9_dg0.png" alt="gambar"><br><br>  maka kita akan mengetahui bahwa host ini juga merupakan gateway (rupanya) di beberapa jaringan lain.  Perlu dicatat bahwa dalam hal ini permintaan disiarkan.  Dengan kata lain, host hanya akan mendengarnya dari subnet penyerang. <br><br>  Jika host target berada di luar subnet, maka Anda dapat mengirim permintaan yang ditargetkan: <br><br><img src="https://habrastorage.org/webt/-x/sx/7j/-xsx7j64cjly0xlhdqqglonc2fi.png" alt="gambar"><br><br>  Dalam hal ini, dapat dilihat bahwa target berada di luar subnet penyerang.  Menggunakan saklar -B, itu menunjukkan bahwa permintaan harus dikirim ke alamat tertentu, dan bukan ke alamat siaran. <br><br>  Sekarang tinggal mengumpulkan informasi dengan cepat dari seluruh subnet yang diinginkan, dan bukan dari satu alamat.  Untuk melakukan ini, Anda bisa menggunakan skrip <i>python</i> kecil: <br><br><img src="https://habrastorage.org/webt/lo/z3/th/loz3thmdajppwq2oqtqibp95qze.png" alt="gambar"><br><br>  Dan setelah beberapa detik: <br><br><img src="https://habrastorage.org/webt/lz/e8/i4/lze8i4lom7sgz4zwnwz9_foc0na.png" alt="gambar"><br><br>  Itu adalah tuan rumah yang berdedikasi, dalam kasus improvisasi ini, yang akan menjadi target pertama penyerang jika dia mengejar jaringan 172.16.1 / 24. <br><br><img src="https://habrastorage.org/webt/1q/ug/ma/1qugmatd6jlto6wh8rznegqhako.png" alt="gambar"><br><br>  Nama duplikat pada ip yang berbeda menunjukkan bahwa host juga memiliki dua kartu jaringan, tetapi pada subnet yang sama.  Perlu dicatat bahwa <i>NetBIOS</i> tidak mengungkapkan <i>alias</i> (yang dapat dengan mudah dihitung melalui permintaan arp sebagai ip dengan <i>mac yang</i> sama).  Dalam hal ini, alamat ip memiliki <i>mac yang</i> berbeda. <br><br>  Contoh lain dari penggunaan teknik ini adalah Wi-Fi publik.  Kadang-kadang mungkin untuk menghadapi situasi ketika di antara perangkat tamu, personel yang bekerja di segmen perusahaan tertutup terhubung ke jaringan publik.  Kemudian, dengan bantuan teknik pengintaian ini, seorang penyerang akan dengan cepat dapat menentukan sendiri jalan masuk ke jaringan tertutup: <br><br><img src="https://habrastorage.org/webt/zx/x6/0l/zxx60lshqqv9ojgin72nusco_x4.jpeg" alt="gambar"><br><br>  Dalam hal ini, di antara 65 klien Wi-Fi publik, ada dua workstation dengan antarmuka tambahan, mungkin terkait dengan jaringan perusahaan. <br><br>  Jika terkadang penyaringan lalu lintas ke port 445 / tcp diamati antara segmen jaringan atau langsung di workstation, yang mencegah login jarak jauh ke sistem (eksekusi kode jauh), maka dalam hal ini port 137 / udp digunakan untuk menyelesaikan nama pada <i>NetBIOS</i> , yang hampir tidak pernah diblokir secara sadar. terjadi, karena kegunaan jaringan akan sangat menderita dari ini, misalnya, lingkungan jaringan mungkin hilang, dll. <br><br>  Seperti yang mereka katakan, <i>enumerasi adalah kuncinya</i> <br>  Apakah ada perlindungan terhadap ini?  Bukan, karena itu bukan kerentanan dalam segalanya.  Ini hanya fungsi standar kecil yang dimiliki <i>windows</i> secara default (di <i>linux,</i> perilakunya sedikit berbeda).  Dan jika Anda, tiba-tiba tidak konsisten, melewati aturan routing jaringan bergabung dengan segmen tertutup, maka penyerang pasti akan menemukan Anda dan melakukannya dengan sangat cepat. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id445212/">https://habr.com/ru/post/id445212/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id445202/index.html">Happy Potter dan Urutan CSS</a></li>
<li><a href="../id445204/index.html">Konversi aliran dari basis data Firebird 2.5 ke format ODS12 (Firebird 3.0)</a></li>
<li><a href="../id445206/index.html">Kurangi waktu henti saat meningkatkan Zimbra</a></li>
<li><a href="../id445208/index.html">Tingkat Kematangan TI Perusahaan</a></li>
<li><a href="../id445210/index.html">Koloni Cryptocurrency</a></li>
<li><a href="../id445214/index.html">Kami memompa React hooks menggunakan FRP</a></li>
<li><a href="../id445220/index.html">AMD Radeon VII: Chip High-End (Bagian 3)</a></li>
<li><a href="../id445222/index.html">Dapatkan tawaran dalam 1 hari untuk tim backend pada Hari Kosmonautika</a></li>
<li><a href="../id445226/index.html">Pengembangan roket yang mampu mencapai bulan akan menelan biaya Rusia 740 miliar rubel</a></li>
<li><a href="../id445228/index.html">Kriptografi di Jawa. Kelas Mac</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>