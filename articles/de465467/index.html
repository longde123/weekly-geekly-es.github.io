<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòà üîã ü•Ñ Die ganze Wahrheit √ºber RTOS. Artikel 32. Nucleus SE-Migration: Nicht realisierte Funktionen und Kompatibilit√§t üßëüèæ‚Äçü§ù‚ÄçüßëüèΩ üèÇüèº üîá</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die Hauptanforderung f√ºr die Entwicklung von Nucleus SE war ein hohes Ma√ü an Kompatibilit√§t mit dem Hauptprodukt von Mentor RTOS - Nucleus RTOS. Nucle...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Die ganze Wahrheit √ºber RTOS. Artikel 32. Nucleus SE-Migration: Nicht realisierte Funktionen und Kompatibilit√§t</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/465467/"> Die Hauptanforderung f√ºr die Entwicklung von Nucleus SE war ein hohes Ma√ü an Kompatibilit√§t mit dem Hauptprodukt von Mentor RTOS - Nucleus RTOS.  Nucleus SE unterst√ºtzt einen bestimmten Teil der Funktionalit√§t von Nucleus RTOS, der in fr√ºheren Artikeln bereits mehrfach diskutiert wurde. In diesem Artikel werde ich jedoch versuchen, alle wichtigen Unterschiede an einem Ort zu sammeln.  Dieser Artikel war als Kurzreferenz f√ºr alle gedacht, die von einem Kern zum anderen wechseln oder gerade einen Kernel f√ºr ein bestimmtes Projekt ausw√§hlen. <br><br><img src="https://habrastorage.org/webt/ze/ou/1f/zeou1fuphtq9klkkoewzs-t9i0q.jpeg"><br><br>  Neben eingeschr√§nkten oder vereinfachten Funktionen im Vergleich zu Nucleus RTOS wurde Nucleus SE auch mit dem Schwerpunkt auf der Maximierung der Speichernutzung mit umfangreichen Anpassungsoptionen entwickelt.  Ein wichtiger Teil dieses Ansatzes ist die Skalierbarkeit.  Viele Funktionen der Kernelfunktionalit√§t k√∂nnen bei Bedarf aktiviert oder deaktiviert werden.  Das Deaktivieren der Funktionalit√§t in einer bestimmten Implementierung erh√∂ht offensichtlich die Inkompatibilit√§t mit Nucleus RTOS. <br><br>  In Nucleus RTOS kann ein System mit einer unbestimmten Anzahl von Kernelobjekten erstellt werden, wobei die einzige Einschr√§nkung hier die Menge der verf√ºgbaren Ressourcen (d. H. Speicher) ist.  Nucleus SE hat eine Begrenzung von 16 Objekten jedes Typs;  Das System kann eine bis sechzehn Aufgaben und null bis sechzehn Objekte jedes Typs (Postf√§cher, Warteschlangen usw.) haben.  Trotz der Tatsache, dass diese Grenze erh√∂ht werden kann, ist ein erheblicher Aufwand erforderlich, da Nucleus SE die M√∂glichkeit, den Index eines Objekts in einem Halbbyte (vier Bits) zu speichern, in gro√üem Umfang nutzt.  Dar√ºber hinaus wird der Priorit√§tsplaner bei mehr als 16 Aufgaben wahrscheinlich sehr ineffizient.  Eine Anwendung, deren Funktionalit√§t ernsthaft unter diesen Einschr√§nkungen leidet, ist f√ºr Nucleus SE nicht geeignet. In diesem Fall ist Nucleus RTOS eine viel geeignetere Wahl. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Fr√ºhere Artikel in der Reihe:</b> <div class="spoiler_text">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel Nr. 31.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Diagnose und Fehlerpr√ºfung RTOS</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel 30.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Initialisierungs- und Startverfahren f√ºr Nucleus SE</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel 29.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Unterbrechungen in Nucleus SE</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel 28.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Software-Timer</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel 27.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Systemzeit</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel Nr. 26.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kan√§le: Nebendienstleistungen und Datenstrukturen</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel Nr. 25.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Datenkan√§le: Einf√ºhrung und Basisdienste</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel 24.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Warteschlangen: Nebendienstleistungen und Datenstrukturen</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel 23.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Warteschlangen: Einf√ºhrung und Grundversorgung</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel 22.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Postf√§cher: Nebendienstleistungen und Datenstrukturen</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel 21.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Postf√§cher: Einf√ºhrung und Basisdienste</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel Nr. 20.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Semaphoren: Nebendienstleistungen und Datenstrukturen</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel Nr. 19.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Semaphoren: Einf√ºhrung und Grundversorgung</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel Nr. 18.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ereignisflag-Gruppen: Hilfsdienste und Datenstrukturen</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel Nr. 17.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ereignisflag-Gruppen: Einf√ºhrung und Basisdienste</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel 16.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Signale</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel Nr. 15.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Speicherpartitionen: Dienste und Datenstrukturen</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel # 14.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Speicherbereiche: Einf√ºhrung und Grundversorgung</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel Nr. 13.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Aufgabendatenstrukturen und nicht unterst√ºtzte API-Aufrufe</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel 12.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dienstleistungen f√ºr die Arbeit mit Aufgaben</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel 11.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Aufgaben: Konfiguration und Einf√ºhrung in die API</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel 10.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Scheduler: Erweiterte Funktionen und Kontexterhaltung</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel 9.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Scheduler: Implementierung</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel 8.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Nucleus SE: Internes Design und Bereitstellung</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel 7.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Nucleus SE: Einf√ºhrung</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel 6.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Andere RTOS-Dienste</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel 5.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Aufgabeninteraktion und Synchronisation</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel 4.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Aufgaben, Kontextwechsel und Interrupts</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel 3.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Aufgaben und Planung</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel 2.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">RTOS: Struktur und Echtzeitmodus</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel 1.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">RTOS: Einf√ºhrung.</a> <br></div></div><br><h2>  Planer </h2><br>  Wie alle modernen Echtzeitkerne verf√ºgt Nucleus RTOS √ºber einen sehr flexiblen Scheduler, der mehrere Priorit√§tsstufen (mit einer unbestimmten Anzahl von Aufgaben auf jeder Priorit√§tsstufe) sowie die M√∂glichkeit bietet, den Round Robin- und Time Slice-Scheduler auszuw√§hlen.  Nucleus SE ist viel einfacher und bietet vier Scheduler, die zum Zeitpunkt der Erstellung ausgew√§hlt werden m√ºssen: Run to Completion, Round Robin, Time Slice und Priority.  Es ist unm√∂glich, verschiedene Scheduler zu kombinieren (dh es gibt keinen zusammengesetzten Scheduler).  Beispielsweise k√∂nnen Sie keine Kombination aus Zeitscheiben- und Priorit√§tsplanern ausw√§hlen.  Dar√ºber hinaus k√∂nnen Sie mit dem Priorit√§tsplaner jeder Priorit√§tsstufe nur eine Aufgabe zuweisen, dh es gibt so viele Priorit√§tsstufen wie Aufgaben.  Die Priorit√§t der Aufgabe wird w√§hrend des Builds festgelegt und √§ndert sich nicht mehr (wie das Zeitfenster, wenn der Zeitscheibenplaner ausgew√§hlt ist). <br><br><h2>  API-Aufrufe </h2><br>  Application Programming Interface (API) - das sichtbare ‚ÄûGesicht‚Äú des Betriebssystems.  Es √ºberrascht nicht, dass hier die Unterschiede zwischen Nucleus RTOS und Nucleus SE am offensichtlichsten sind. <br><br>  Die Nucleus SE-API unterscheidet sich von der Nucleus RTOS-API.  Die Nucleus SE-API wurde jedoch sorgf√§ltig entwickelt, damit sie auf das Nucleus RTOS-API-Fragment √ºbertragen werden kann.  Inhaber von lizenziertem Nucleus RTOS k√∂nnen eine "Shell" (eine Header-Datei mit <b># Define-</b> Makros) erhalten, die die √úbertragung fast direkt ausf√ºhrt. <br><br>  Aus der Tatsache, dass die Nucleus SE-API als ‚ÄûTeilmenge‚Äú der Nucleus RTOS-API bezeichnet werden kann, folgt, dass einige API-Aufrufe fehlen.  Dies ist wahr und ein unvermeidliches Ergebnis der Entwicklungskriterien von Nucleus SE.  Einige API-Aufrufe sind einfach nicht sinnvoll, da sie mit nicht vorhandenen Funktionen verkn√ºpft sind. Andere Aufrufe wurden ausgeschlossen, um die Implementierung einiger Kernelobjekte zu vereinfachen.  All dies wird in den folgenden Abschnitten dieses Artikels ausf√ºhrlich beschrieben. <br><br><h3>  Allgemeine API-Funktionen </h3><br>  Nucleus RTOS verf√ºgt √ºber API-Funktionen, die verschiedenen Arten von Kernelobjekten oder sogar allen Arten von Objekten gemeinsam sind.  Einige von ihnen wurden auch in Nucleus SE implementiert, ein gutes Beispiel f√ºr eine solche Funktion ist das Zur√ºcksetzen.  Andere Funktionen gelten nicht f√ºr die Implementierung von Kernelobjekten in Nucleus SE. <br><br>  <b><i>Erstellen und l√∂schen</i></b> <br><br>  In Nucleus RTOS sind alle Kernelobjekte dynamisch und werden nach Bedarf erstellt und gel√∂scht.  Daher gibt es daf√ºr API-Aufrufe.  In Nucleus SE sind alle Objekte statisch (sie werden w√§hrend der Assembly erstellt), sodass diese API-Aufrufe nicht ben√∂tigt werden. <br><br>  <b><i>Zeiger auf Objekte zur√ºckgeben</i></b> <br><br>  Die Hauptkennung (Deskriptor) von Kernelobjekten in Nucleus RTOS ist ein Zeiger auf den Objektsteuerblock, der beim Erstellen des Objekts zugewiesen wird.  Daher gibt es auch eine Reihe von API-Aufrufen, die eine Liste von Zeigern auf Objekte jedes Typs zur√ºckgeben.  Da Nucleus SE einen einfachen Index verwendet, um Kernelobjekte zu identifizieren, sind solche Aufrufe nicht erforderlich.  Ein Programm kann den Kernel abfragen, um herauszufinden, wie viele Instanzen von Objekten eines bestimmten Typs konfiguriert sind (mithilfe eines Aufrufs wie <b>NUSE_Mailbox_Count ()</b> ).  Wenn dieser Wert <b>n ist</b> , haben die Indizes von Objekten dieses Typs Werte von Null bis <b>n-1</b> . <br><br>  <b><i>Daten-Streaming</i></b> <br><br>  F√ºr einige Arten von Nucleus RTOS-Kernelobjekten (z. B. Postf√§cher, Warteschlangen und Pipes) wird ein API-Overhead bereitgestellt, um die Daten zu √ºbersetzen.  Auf diese Weise k√∂nnen Sie Daten an jede Aufgabe senden, die Daten vom Objekt erwartet.  Diese M√∂glichkeit wurde zur Vereinfachung von Nucleus SE ausgeschlossen, da der Zugriff auf die Daten solcher Objekte immer im Kontext einer bestimmten Aufgabe erfolgt, wodurch das Objekt freigegeben wird.  Um eine √úbersetzung zu implementieren, w√§re daher ein zus√§tzlicher Flag-Mechanismus erforderlich. <br><br><h3>  API-Objekte mit einzigartigen Funktionen </h3><br>  Viele Kernelobjekte verf√ºgen √ºber API-Aufrufe, die f√ºr einen bestimmten Objekttyp eindeutig sind und sich in Nucleus RTOS und Nucleus SE unterscheiden. <br><br>  <b><i>Die Aufgaben</i></b> <br><br>  Da der Nucleus RTOS Scheduler wesentlich komplexer als der Nucleus SE ist, sind einige API-Funktionen nicht erforderlich: <br><br><ul><li>  √Ñndern der Position eines Task-Interrupts - wird in Nucleus SE nicht unterst√ºtzt. </li><li>  Aufgabenpriorit√§t √§ndern - In Nucleus SE wird die Aufgabenpriorit√§t w√§hrend der Konfiguration zugewiesen und kann nicht ge√§ndert werden. </li><li>  √Ñndern des Task-Zeitfensters - In Nucleus SE ist der Wert des Zeitfensters allen Aufgaben gemeinsam und wird w√§hrend der Konfiguration festgelegt. </li><li>  Aufgabenerf√ºllung - Nucleus SE unterst√ºtzt den Status "abgeschlossene Aufgabe" nicht. </li></ul><br>  <b><i>Dynamischer Speicher</i></b> <br><br>  Da in Nucleus SE alles statisch erstellt wird, wird der dynamische Speicher nicht unterst√ºtzt (und ist nicht erforderlich).  Daher sind auch die zugeh√∂rigen API-Funktionen nicht erforderlich. <br><br>  <b><i>Signale</i></b> <br><br>  Nucleus RTOS unterst√ºtzt Signalhandler, Programme, die ausgef√ºhrt werden (wie Interrupt-Handler), wenn sich Task-Signale √§ndern.  Diese Funktion wurde von Nucleus SE ausgeschlossen. Daher sind API-Aufrufe zum Verwalten der Signale und zum Erstellen eines Signalhandlers nicht erforderlich. <br><br>  <b><i>Unterbrechungen</i></b> <br><br>  Nucleus SE verwendet den Nicht-Interrupt-Ansatz von Interrupts und bietet lediglich die M√∂glichkeit, einige API-Aufrufe vom Interrupt-Handler auszuf√ºhren.  Daher werden einige Nucleus RTOS-API-Aufrufe, die angeben, wie der Kernel mit Interrupts umgehen soll, nicht unterst√ºtzt. <br><br>  <b><i>Diagnose</i></b> <br><br>  Nucleus SE verf√ºgt √ºber sehr bescheidene Diagnosedienste, die seinem "zur√ºckhaltenden" Entwicklungsstil folgen und sich auf die (optionale) Parameterpr√ºfung und Ausgabe des Produktversionscodes beschr√§nken.  Daher werden Nucleus RTOS-API-Aufrufe im Zusammenhang mit der Protokollierung des Verlaufs und der Fehlerbest√§tigung nicht unterst√ºtzt. <br><br>  <b><i>Treiber</i></b> <br><br>  Nucleus RTOS verf√ºgt √ºber eine genau definierte formale Treiberstruktur und mehrere API-Funktionen im Zusammenhang mit der Treiberverwaltung.  Nucleus SE hat diese Struktur nicht, daher sind entsprechende API-Aufrufe nicht erforderlich. <br><br><h2>  API-Aufruffunktion </h2><br>  Einige Aspekte der Funktionalit√§t von Nucleus SE, die in vereinfachter Form implementiert sind, f√ºhren zu Unterschieden zu Nucleus RTOS.  Einige davon wirken sich auf die Verwendung von API-Aufrufen und die verf√ºgbaren Dienste aus. <br><br><h3>  Zeit√ºberschreitungen </h3><br>  Bei Verwendung von Nucleus RTOS kann es h√§ufig vorkommen, dass ein API-Aufruf eine Aufgabe anhalten kann, die auf den Zugriff auf eine Ressource wartet: Die Aufgabe wird blockiert.  Eine solche Unterbrechung einer Aufgabe kann implizit sein (dh bis die Ressource verf√ºgbar wird), oder es kann ein Zeitlimitwert angegeben werden.  Nucleus SE bietet optional die Blockierung durch API-Aufrufe. Es kann jedoch nur eine implizite <b>Unterbrechung</b> verwendet werden ( <b>dh</b> ein Aufruf kann nur <b>NUSE_SUSPEND</b> oder <b>NUSE_NO_SUSPEND verwenden</b> , keinen Timeout-Wert).  Diese Funktion kann ganz einfach zu Nucleus SE hinzugef√ºgt werden. <br><br><h3>  Suspendierungsverfahren </h3><br>  Wenn in Nucleus RTOS mehrere Objekttypen erstellt werden, kann eine Suspendierungsreihenfolge zugewiesen werden.  Dies ist eine Sequenz, in der mehrere blockierte Aufgaben fortgesetzt werden, sobald Ressourcen verf√ºgbar werden.  Es stehen zwei Optionen zur Verf√ºgung: FIFO, First-In-First-Out (First-In-First-Out), bei dem Aufgaben in derselben Reihenfolge wieder aufgenommen werden, in der sie blockiert sind;  oder nach Priorit√§t, bei der die Aufgabe mit der h√∂chsten Priorit√§t immer zuerst fortgesetzt wird.  Nucleus SE bietet eine solche Auswahl nicht an.  Es wird nur die Priorit√§tsreihenfolge implementiert.  Tats√§chlich ist es korrekter, die Reihenfolge anhand des Aufgabenindex zu sagen, da die Suspendierungsreihenfolge nicht nur bei Verwendung des Priorit√§tsplaners, sondern auch bei Verwendung der Round Robin- und Time Slice-Planer angewendet werden kann. <br><br><h3>  Einzigartige Funktionsfunktionalit√§t </h3><br>  In einigen F√§llen waren funktionale √Ñnderungen in Bezug auf bestimmte Objekttypen erforderlich. <br><br>  <b><i>Signalhandler</i></b> <br>  Wie oben erw√§hnt, unterst√ºtzt die Signalimplementierung in Nucleus SE keine Signalverarbeitungsverfahren. <br><br>  <b><i>Anwendungs-Timer-Einstellungen</i></b> <br>  Der Timer hat eine Anfangsdauer / Anfangsbetriebsdauer und eine Dauer eines Neustarts und kann optional eine benutzerdefinierte Funktion nach Abschluss ausf√ºhren.  Diese Funktionalit√§t wird sowohl in Nucleus RTOS als auch in Nucleus SE unterst√ºtzt.  Im Gegensatz zu Nucleus RTOS erlaubt Nucleus SE jedoch keine √Ñnderung der oben beschriebenen Parameter, wenn die API-Funktion zum Zur√ºcksetzen aufgerufen wird.  Dar√ºber hinaus ist in Nucleus SE jede Unterst√ºtzung f√ºr Timer-Abschlussverfahren optional. <br><br>  <b><i>Ereignisflags</i></b> <br>  Nucleus RTOS bietet die Option, Ereignisflags zu ‚Äûabsorbieren‚Äú.  Dies bedeutet, dass Flags zur√ºckgesetzt werden, die den von der Aufgabe festgelegten Kriterien entsprechen.  Diese Funktionalit√§t wird in Nucleus SE nicht unterst√ºtzt, da die M√∂glichkeit, nach den Kriterien mehrerer Aufgaben zu suchen, die Komplexit√§t des Systems erheblich erh√∂ht. <br><br><h2>  Datengr√∂√üen </h2><br>  Zwei Entwicklungskriterien f√ºr Nucleus SE: Die Aufrechterhaltung der Einfachheit und die Minimierung der Speichernutzung haben zu bestimmten Unterschieden bei der Gr√∂√üe der Datenelemente im Vergleich zu Nucleus RTOS gef√ºhrt.  Es ist erw√§hnenswert, dass Nucleus RTOS normalerweise <b>vorzeichenlose</b> Daten verwendet, bei denen es sich h√∂chstwahrscheinlich um 32-Bit handelt.  w√§hrend Nucleus SE optimierte Datentypen wie <b>U32</b> , <b>U16</b> , <b>U8</b> usw. verwendet.  ( <i>Anmerkung des √úbersetzers: Meiner Meinung nach ist der Autor f√ºr 8-Bit-Systeme richtig. In modernen Systemen sind die Register immer noch 32-Bit, so dass das Schneiden des √§lteren Teils Speicher f√ºr Code- und Taktzyklen f√ºr seine Ausf√ºhrung verbraucht und die Daten bei der Speicherung alle gleich 32 Bit sind Speicher, sonst sinkt die Systemleistung, so dass dieser Ansatz f√ºr moderne Systeme keinen Gewinn bringt, und ein Verlust aufgrund der vom Compiler hinzugef√ºgten Anweisungen, die den √§lteren Teil abschneiden, kann sehr gut sein.</i> ). <br><br><h3>  Postf√§cher </h3><br>  In Nucleus RTOS speichert ein Postfach eine Nachricht, die aus vier vorzeichenlosen Datenelementen besteht.  In Nucleus SE speichert ein Postfach ein <b>ADDR-</b> Datenelement.  Meiner Meinung nach werden Postf√§cher h√§ufig verwendet, um eine Adresse (die bestimmte Daten angibt) von Aufgabe zu Aufgabe zu √ºbertragen. <br><br><h3>  Warteschlangen </h3><br>  In Nucleus RTOS verarbeitet eine Warteschlange Nachrichten von einem oder mehreren <b>vorzeichenlosen</b> Datenelementen.  Die Warteschlange kann auch f√ºr die Verarbeitung von Nachrichten mit variabler L√§nge konfiguriert werden.  In Nucleus SE verarbeitet eine Warteschlange Nachrichten, die aus einem einzelnen <b>ADDR-</b> Datenelement bestehen.  Meiner Meinung nach werden Warteschlangen bei Postf√§chern auf √§hnliche Weise verwendet.  Zus√§tzlich wird in Nucleus RTOS die Gesamtgr√∂√üe der Warteschlange (d. H. Die Gesamtzahl der vorzeichenlosen Elemente, die in die Warteschlange gestellt werden k√∂nnen) als vorzeichenloser Wert angegeben.  In Nucleus SE ist dieser Wert vom Typ <b>U8</b> .  Daher kann eine Warteschlange weniger Daten enthalten. <br><br><h3>  Datenkan√§le </h3><br>  In Nucleus RTOS verarbeitet ein Kanal Nachrichten von einem oder mehreren Bytes.  Der Kanal kann auch f√ºr die Verarbeitung von Nachrichten mit variabler L√§nge konfiguriert werden.  In Nucleus SE verarbeitet ein Kanal Nachrichten, die aus einem oder mehreren Datenelementen vom Typ <b>U8 bestehen</b> .  Die Nachrichtengr√∂√üe wird w√§hrend des Setups f√ºr jeden Kanal festgelegt.  Au√üerdem wird in Nucleus RTOS die Gesamtkanalgr√∂√üe ( <b>dh</b> die Gesamtzahl der Bytes, die in einem Kanal platziert werden k√∂nnen) als nicht <b>gesungener Wert angegeben</b> .  In Nucleus SE ist dieser Wert vom Typ <b>U8</b> und stellt die Anzahl der Nachrichten dar (im API-Aufruf <b>NUSE_Pipe_Information ()</b> ).  Folglich kann ein Kanal weniger Daten enthalten. <br><br><h3>  Ereignisflag-Gruppen </h3><br>  In Nucleus RTOS enth√§lt eine Ereignisflag-Gruppe 32 Flags.  in Nucleus SE wird ihre Anzahl auf acht reduziert.  Diese Gr√∂√üe wurde gew√§hlt, da die wahrscheinlichen Ziel-Nucleus SE-Prozessoren 8-Bit-Daten effizient verarbeiten k√∂nnen.  Gleichzeitig wird es nicht schwierig sein, die Anzahl der Flags in den von Nucleus SE verarbeiteten Flag-Gruppen von Ereignissen zu √§ndern. <br><br><h3>  Signale </h3><br>  In Nucleus RTOS verf√ºgt jede Task √ºber einen Satz von 32 Signalflags.  In Nucleus SE sind Signale optional, und jede Aufgabe verf√ºgt √ºber einen Satz von 8 Flags.  Diese Gr√∂√üe wurde gew√§hlt, weil die wahrscheinlichen Ziel-Nucleus SE-Prozessoren 8-Bit-Daten effizient verarbeiten k√∂nnen.  Gleichzeitig wird es nicht schwierig sein, die Anzahl der Flags in den von Nucleus SE verarbeiteten Flaggens√§tzen von Signalen zu √§ndern. <br><br><h3>  Abschnitte des Ged√§chtnisses </h3><br>  In Nucleus RTOS sind Anzahl und Gr√∂√üe der Partitionen <b>ohne Vorzeichen</b> .  In Nucleus SE ist die Anzahl der Partitionen ein Parameter vom Typ <b>U8</b> und die Partitionsgr√∂√üe ist <b>U16</b> .  Dies f√ºhrt zu einigen Einschr√§nkungen der Partitions- und Poolgr√∂√üe. <br><br><h3>  Timer </h3><br>  In Nucleus RTOS arbeiten Timer (sowohl Anwendungs-Timer als auch Task-Sleep-Timer) mit <b>vorzeichenlosen</b> Werten.  In Nucleus SE sind sie vom Typ <b>U16</b> .  Dieser Typ wurde gew√§hlt, weil die wahrscheinlichen Ziel-Nucleus SE-Prozessoren 16-Bit-Daten effizient verarbeiten k√∂nnen (und acht Bit eindeutig nicht ausreichen, um einen Timer zu verwenden).  Gleichzeitig wird es nicht schwierig sein, die Gr√∂√üe der Timer in Nucleus SE zu √§ndern. <br><br>  Im folgenden Artikel wird untersucht, wie Nucleus SE in einem eingebetteten Softwareprojekt verwendet werden kann. <br><br>  <b>√úber den Autor:</b> Colin Walls ist seit √ºber drei√üig Jahren in der Elektronikindustrie t√§tig und widmet sich die meiste Zeit der Firmware.  Heute ist er Firmware-Ingenieur bei Mentor Embedded (einer Abteilung von Mentor Graphics).  Colin Walls spricht h√§ufig auf Konferenzen und Seminaren, Autor zahlreicher technischer Artikel und zweier B√ºcher √ºber Firmware.  Lebt in Gro√übritannien.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Colins</a> professioneller <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Blog</a> , E-Mail: colin_walls@mentor.com. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de465467/">https://habr.com/ru/post/de465467/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de465455/index.html">Arbeiten Sie mit Vorf√§llen, verbessern Sie die Reaktion auf Vorf√§lle und den Wert der technischen Schulden. Backend United 4 Mitap-Materialien: Okroshka</a></li>
<li><a href="../de465457/index.html">√úber Z√ºchterrechte an den Fingern</a></li>
<li><a href="../de465459/index.html">Eine kurze Geschichte der Videokonferenzen: Von Anfang an bis zur vollst√§ndigen kommerziellen Nutzung</a></li>
<li><a href="../de465461/index.html">Statische Eingabe in einer React-Anwendung</a></li>
<li><a href="../de465463/index.html">Gut ist niemals billig. Aber es ist kostenlos</a></li>
<li><a href="../de465471/index.html">Haben Sie versucht, Ihre Site als Netzwerkpublikation in Roskomnadzor zu registrieren?</a></li>
<li><a href="../de465475/index.html">Mini-Interview mit Oleg Anastasiev: Fehlertoleranz bei Apache Cassandra</a></li>
<li><a href="../de465477/index.html">Wie ich einer Schlange beigebracht habe, sich mit Q-Network selbst zu spielen</a></li>
<li><a href="../de465479/index.html">Pixel Lo-Fi in Unity</a></li>
<li><a href="../de465483/index.html">Antiquit√§ten: Windows 3.1 und Leben ohne Startknopf</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>