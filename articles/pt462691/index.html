<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßõüèΩ üôÜüèæ üëêüèΩ Como migrar do AD para o LDAP ao usar o Zimbra üì† üë∏üèø üôãüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este ano marca exatamente 20 anos desde que o mundo viu o Active Directory da Microsoft. Sendo uma implementa√ß√£o do LDAP e do Kerberos, foi o AD que s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como migrar do AD para o LDAP ao usar o Zimbra</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/zimbra/blog/462691/"> Este ano marca exatamente 20 anos desde que o mundo viu o Active Directory da Microsoft.  Sendo uma implementa√ß√£o do LDAP e do Kerberos, foi o AD que se tornou o link que vinculava todos os produtos da Microsoft em um √∫nico ecossistema.  No entanto, ap√≥s 20 anos, os gerentes de TI est√£o cada vez mais conscientes das desvantagens associadas ao fato de que quase todos os processos de neg√≥cios da empresa est√£o de alguma forma ligados aos produtos de software de uma corpora√ß√£o. <br><br>  In√∫meros incidentes, variando de esc√¢ndalos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">envolvendo vigil√¢ncia de usu√°rios</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">recusas a localizar</a> dados pessoais acumulados, a tens√µes entre os EUA e a R√∫ssia, serviram como um tipo de chamada que fez os gerentes de TI do pa√≠s se perguntarem se a TI √© controlada por ele. - a infraestrutura das empresas, ao que parece, e o que acontecer√° com sua infraestrutura se um dia os produtos da Microsoft ficarem repentinamente indispon√≠veis em nosso pa√≠s devido a san√ß√µes? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e98/93d/7d9/e9893d7d9f995c2a24dce02df7fa5d51.png" alt="imagem"><br><a name="habracut"></a><br>  A resposta para essas perguntas n√£o √© animadora, porque, ao implantar sua infraestrutura em solu√ß√µes de software de um fornecedor, os gerentes de TI colocam todos os seus ovos em uma cesta.  E se, h√° v√°rios anos, essa cesta parecia bastante forte, agora n√£o causa essa impress√£o.  √â por isso que surgiu uma tend√™ncia constante no pa√≠s para, se n√£o a migra√ß√£o completa de toda a infraestrutura, para a substitui√ß√£o de seus n√≥s individuais por solu√ß√µes gratuitas, cuja utiliza√ß√£o elimina os riscos acima. <br><br>  Entre os primeiros candidatos √† substitui√ß√£o, √© claro, estava o sistema de colabora√ß√£o, porque armazena as informa√ß√µes mais cr√≠ticas para qualquer empresa moderna, e o pr√≥prio sistema √© extremamente importante para o funcionamento normal da empresa.  O Zimbra Collboration Suite de c√≥digo aberto com as adi√ß√µes do Zextras Suite pode se tornar um excelente candidato para substituir o servidor de correio.  Essa solu√ß√£o n√£o apenas possui ampla funcionalidade, mas tamb√©m √© mais lucrativa em termos de custo de propriedade e est√° livre dos riscos associados ao licenciamento.  Al√©m disso, como j√° escrevemos, o Zimbra Collaboration Suite pode se integrar ao Microsoft AD, o que significa que ele se encaixa perfeitamente na infraestrutura existente da empresa. <br><br>  No entanto, ap√≥s um ap√≥s o outro, a maioria dos n√≥s da empresa ser√° substitu√≠da por an√°logos gratuitos, a quest√£o da substitui√ß√£o do Active Directory certamente aparecer√° na agenda.  Existem muitos an√°logos dessa solu√ß√£o, mas ap√≥s o abandono do AD, a necessidade de reconfigurar outros sistemas de informa√ß√µes configurados para trabalhar especificamente com o AD seguir√° necessariamente.  Vamos ver quais altera√ß√µes precisam ser feitas no Zimbra configurado para funcionar com o Active Directory, a fim de remover a integra√ß√£o entre esses sistemas de informa√ß√£o. <br><br>  Se voc√™ configurar a integra√ß√£o do Zimbra com o AD e a configura√ß√£o autom√°tica de contas de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">acordo com nossas instru√ß√µes</a> , o procedimento para desativ√°-lo repetir√° amplamente o processo j√° conclu√≠do.  Somente desta vez voc√™ deve decidir o que ser√° usado em vez do AD.  Pode ser qualquer outro servidor LDAP externo ou embutido no LDAP do Zimbra. <br><br>  A segunda maneira √© muito mais f√°cil de implementar, mas envolve um suporte mais trabalhoso.  Como todos os usu√°rios j√° existem no Zimbra LDAP, voc√™ n√£o precisa instalar e reconectar o LDAP externo novamente, al√©m de ativar a configura√ß√£o autom√°tica de contas no Zimbra Collaboration Suite.  Para fazer isso, basta selecionar o item <b>Configurar</b> <b>no console administrativo do Zimbra</b> no painel lateral esquerdo e, em seguida, o subitem <b>Dom√≠nios</b> .  Agora, na lista de dom√≠nios, voc√™ precisa selecionar o que usaremos e, clicando com o bot√£o direito do mouse no dom√≠nio selecionado, selecionar <b>"Configurar autentica√ß√£o"</b> , onde √© necess√°rio mudar o m√©todo de autoriza√ß√£o para <b>"Interno"</b> .  Se voc√™ selecionar esse m√©todo de autentica√ß√£o, nenhuma outra configura√ß√£o ser√° necess√°ria. <br><br>  Embora o Zimbra LDAP seja essencialmente um servidor LDAP, por raz√µes de seguran√ßa, v√°rias restri√ß√µes foram impostas, por causa das quais ele n√£o suporta alguns m√©todos de autentica√ß√£o, e, portanto, voc√™ pode us√°-lo para autentica√ß√£o em alguns aplicativos e falhar. em outros aplicativos e servi√ßos da empresa.  Al√©m disso, uma p√©ssima id√©ia seria acessar o Zimbra LDAP a partir da Internet externa.  √â por isso que, se voc√™ n√£o tornar o Zimbra LDAP o principal da empresa e continuar usando o Zimbra em combina√ß√£o com o LDAP incorporado, ser√° necess√°rio adicionar e remover usu√°rios manualmente e tamb√©m gerenciar manualmente suas senhas.  Para obter informa√ß√µes sobre como fazer isso, consulte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">o artigo da</a> pol√≠tica de seguran√ßa de senha do Zimbra. <br><br>  A primeira maneira √© implantar um servidor LDAP completo com recursos completos na empresa e configurar a autentica√ß√£o no Zimbra com base nos dados dele.  Existem muitas op√ß√µes para esses servidores LDAP, e √© por isso que consideraremos o processo dessa configura√ß√£o baseado no Zentyal LDAP como uma solu√ß√£o gratuita e gratuita. <br><br>  Deixe o servidor com Zentyal estar localizado na rede local da empresa no endere√ßo 192.168.1.100, enquanto o servidor Zimbra possui o <b>FQDN mail.company.ru</b> .  Como no caso anterior, para configurar a autoriza√ß√£o via LDAP externo, iremos para <b>o console de administra√ß√£o do Zimbra</b> .  Aqui, no painel esquerdo, selecione <b>Configurar</b> e, em seguida, o subitem <b>Dom√≠nios</b> .  Agora, na lista de dom√≠nios, √© necess√°rio selecionar o que usaremos e, clicando com o bot√£o direito do mouse no dom√≠nio selecionado, selecionar o item <b>"Configurar autentica√ß√£o"</b> , onde √© necess√°rio alternar o m√©todo de autoriza√ß√£o para <b>"LDAP externo"</b> .  Aqui precisamos especificar os seguintes dados: <br><br><ul><li>  LDAP: //192.168.1.100: 390 </li><li>  Filtro LDAP: (&amp; (| (objectclass = inetOrgPerson)) | | (memberof = cn = mail, ou = groups, dc = empresa, dc = ru)) (uid =% u)) " </li><li>  Pesquisa baseada em LDAP: ou = Usu√°rios, dc = empresa, dc = ru </li><li>  DN da liga√ß√£o: admin cn =, dc = company, dc = ru </li><li>  Senha de liga√ß√£o: ******** </li></ul><br>  Depois disso, voc√™ precisa testar a autoriza√ß√£o atrav√©s do Zentyal LDAP.  Para fazer isso, crie um usu√°rio no Zimbra que esteja dispon√≠vel no Zentyal LDAP e tente entrar na interface da web.  Se a senha estiver correta, o login ser√° bem-sucedido, se a senha inserida n√£o corresponder ao que est√° armazenado no LDAP, ocorrer√° o erro de login. <br><br>  Para criar automaticamente usu√°rios no Zimbra, voc√™ precisa executar v√°rios comandos: <br><br><pre><code class="plaintext hljs">zmprov md company.ru zimbraAutoProvMode LAZY zmprov md company.ru zimbraAutoProvLdapURL ldap://192.168.1.100:390 zmprov md company.ru zimbraAutoProvLdapAdminBindDn " admin cn=,dc=company,dc=ru" zmprov md company.ru zimbraAutoProvLdapAdminBindPassword "********" zmprov md company.ru zimbraAutoProvLdapSearchFilter " (&amp;(|(objectclass=inetOrgPerson)((memberof=cn=mail,ou=Groups,dc=company,dc=ru))(uid=%u)) " zmprov md company.ru zimbraAutoProvLdapSearchBase "ou=Users,dc=company,dc=ru" zmprov md company.ru +zimbraAutoProvAttrMap description=description +zimbraAutoProvAttrMap cn=displayName +zimbraAutoProvAttrMap givenName=givenName +zimbraAutoProvAttrMap sn=sn zmcontrol restart</code> </pre> <br>  Depois disso, na primeira tentativa bem-sucedida de entrar na caixa de correio do Zimbra usando o nome de usu√°rio e a senha inseridos no LDAP, a conta ser√° criada automaticamente, o que evita que o administrador precise criar usu√°rios no Zimbra manualmente. <br><br>  Portanto, o Zimbra Open-Source Edition pode funcionar perfeitamente n√£o apenas com o AD, mas tamb√©m com qualquer outro servidor LDAP, que por um lado oferece a capacidade de us√°-lo em qualquer infraestrutura de TI e, por outro lado, permite migrar rapidamente de software propriet√°rio para livre e de volta, sem qualquer dano √† funcionalidade.  Al√©m disso, o web client Zimbra completo permite que os usu√°rios acessem a partir de qualquer plataforma. <br><br>  Para todas as perguntas relacionadas ao Zextras Suite, voc√™ pode entrar em contato com o representante da Zextras Katerina Triandafilidi pelo e-mail katerina@zextras.com </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt462691/">https://habr.com/ru/post/pt462691/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt462679/index.html">Por que decidimos desenvolver a pr√°tica de teste de ML</a></li>
<li><a href="../pt462681/index.html">Como Chris Zhukovsky estudou o suporte ao cliente para seus jogos no aeroporto</a></li>
<li><a href="../pt462685/index.html">No caminho para aplicativos dur√°veis ‚Äã‚Äãusando o exemplo de gerador de site est√°tico PSKOV</a></li>
<li><a href="../pt462687/index.html">Novo painel de controle de hospedagem do ISPsystem: como ver</a></li>
<li><a href="../pt462689/index.html">DISKOBALL: competi√ß√µes de lan√ßamento de HDD, 23 de agosto de Moscou</a></li>
<li><a href="../pt462693/index.html">No caminho para aplica√ß√µes dur√°veis ‚Äã‚Äãcom o gerador de site est√°tico PSKOV como exemplo</a></li>
<li><a href="../pt462695/index.html">Material como WebComponents</a></li>
<li><a href="../pt462697/index.html">uWSGI para ajudar nas m√©tricas. Relat√≥rio Yandex</a></li>
<li><a href="../pt462699/index.html">Malha de servi√ßo, "Plano de dados" e "Plano de controle" (plano de dados da malha de servi√ßo x plano de controle)</a></li>
<li><a href="../pt462701/index.html">Biblioteca de gerador de c√≥digo Assembler para microcontroladores AVR. Parte 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>