<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöò üë®üèª‚Äçüéì üë®üèø‚Äçüîß C√≥mo resolver un viejo problema usando ML en Python y .Net ü§† üëãüèø üï•</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sucede que algunas tareas te persiguen durante muchos a√±os. Para m√≠, pegar juntas oraciones de textos en los que la transici√≥n a una nueva l√≠nea, y a ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo resolver un viejo problema usando ML en Python y .Net</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457072/"><p><img src="https://habrastorage.org/webt/bm/pi/vr/bmpivrmqylxi0ypvqte57qsnadw.png"></p><br><p>  Sucede que algunas tareas te persiguen durante muchos a√±os.  Para m√≠, pegar juntas oraciones de textos en los que la transici√≥n a una nueva l√≠nea, y a menudo tambi√©n la envoltura de la palabra, est√° r√≠gidamente obstruida, se convirti√≥ en una tarea.  En la pr√°ctica, este es texto extra√≠do de PDF o usando OCR.  A menudo se pueden encontrar dichos textos en los sitios web de las bibliotecas en l√≠nea, en archivos de documentos antiguos que fueron editados por editores de DOS.  Y ese formato interfiere con el desglose apropiado en oraciones (y, con guiones, en tokens) para el procesamiento posterior de PNL.  Y es banal mostrar ese documento en los resultados de b√∫squeda, ser√° feo. </p><br><p> Resolv√≠ este problema varias veces, en Delphi, C #.  Luego fue un algoritmo dif√≠cil, donde con mis manos escrib√≠, por ejemplo, cu√°l podr√≠a ser el ancho del texto, de modo que este texto se considerara formateado "a la antigua usanza".  Esto no siempre funcion√≥ perfectamente, pero en general, fue suficiente. </p><a name="habracut"></a><br><p>  Por el momento, estoy arrastr√°ndome en algunos proyectos de ML en Python.  En un momento dado, result√≥ que el siguiente corpus de documentos consiste en textos extra√≠dos de versiones en PDF de art√≠culos cient√≠ficos.  Por supuesto, el texto fue extra√≠do con un salto de l√≠nea por los caracteres del final del p√°rrafo, con guiones.  Es decir, era imposible trabajar m√°s normalmente con dichos textos.  ¬°Python es atractivo porque lo tiene casi todo!  Pero un par de horas de b√∫squedas no dieron nada cuerdo (quiz√°s, por supuesto, esto es lo que estaba buscando).  Y luego decid√≠ una vez m√°s escribir un postprocesador para dichos documentos.  La elecci√≥n fue de dos opciones: transferir su c√≥digo pasado con C # o escribir algo que se pueda ense√±ar.  Finalmente, el segundo enfoque fue impulsado por el hecho de que los textos cient√≠ficos se exportaron parcialmente de textos de dos columnas y parcialmente de textos de una sola columna.  Tambi√©n diferentes tama√±os de fuente.  Esto condujo al hecho de que la versi√≥n anterior, con l√≠mites permisibles cableados, a menudo funcionaba incorrectamente.  Para sentarse manualmente de nuevo, elija las opciones: bueno, no, pronto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">llegar√°</a> la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">singularidad</a> , ¬°no tengo tiempo para esto!  Entonces, est√° decidido: estamos escribiendo una biblioteca utilizando el aprendizaje autom√°tico. </p><br><p>  Todo el c√≥digo se puede encontrar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en el repositorio</a> : </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Cuaderno con pasos</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Utilidades (al mismo tiempo y una plantilla para la generaci√≥n de c√≥digo)</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥digo generado</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Caso de documentos marcados (y no solo)</a> </li></ul><br><h1 id="razmetka">  Marcado </h1><br><p>  ¬øCu√°l es el zumbido y la complejidad del aprendizaje autom√°tico? Si el algoritmo falla en alguna parte, a menudo no es necesario cambiar el programa en s√≠.  Es suficiente para recopilar datos nuevos (a menudo deben anotarse al mismo tiempo) y reiniciar la construcci√≥n del modelo.  La computadora har√° el resto por usted.  Por supuesto, existe la posibilidad de que para nuevos datos tenga que crear nuevas caracter√≠sticas, cambiar la arquitectura, pero en la mayor√≠a de los casos resulta que solo necesita verificar que todo comenz√≥ a funcionar bien.  Esto tambi√©n es una dificultad: recopilar y marcar datos puede ser dif√≠cil.  O muy dificil.  Y tambi√©n, terriblemente aburrido :-) </p><br><p>  Entonces, lo m√°s aburrido es el marcado.  La <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">carpeta del corpus</a> contiene documentos que acabo de tomar del cuerpo del documento Krapivin2009 con el que estaba trabajando en ese momento.  Hay 10 documentos que me parecieron t√≠picos.  Marqu√© solo 3, ya que al comienzo del entrenamiento en esta base, se obtuvo suficiente calidad del "adhesivo".  Si en el futuro resulta que no todo es tan simple, los nuevos documentos con marcado se colocar√°n en esta carpeta y se repetir√° el proceso de aprendizaje. </p><br><p>  En este caso, me pareci√≥ conveniente que los archivos siguieran siendo texto, por lo que el formato de marcado consist√≠a en agregar un signo al comienzo de la l√≠nea de que esta l√≠nea deber√≠a estar pegada a la anterior (el car√°cter '+') o no (el car√°cter '*').  Aqu√≠ hay un fragmento (archivo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">1005058.txt</a> ): </p><br><pre><code class="plaintext hljs">*Introduction *Customers on the web are often overwhelmed with options and flooded with promotional messages for +products or services they neither need nor want. When users cannot find what they are searching for, the +e-commerce site struggles to maintain good customer relations. *Employing a recommender system as part of a site's Customer Relationship Management (CRM) activities +can overcome the problems associated with providing users with too little information, or too much of +the wrong information. Recommender systems are able to assist customers during catalog browsing and are +an effective way to cross-sell and improve customer loyalty. *In this paper, we will compare several recommender systems being used as an essential component of +CRM tools under development at Verizon. Our solutions are purposely for the current customers and current +products - recommendations for new customers and new products are out of the scope of this paper.</code> </pre> <br><p>  Un par de horas de trabajo tedioso y 3 archivos con 2300 ejemplos (una l√≠nea - una muestra) est√°n listos.  Esto ya es suficiente en muchos casos para clasificadores simples como la regresi√≥n log√≠stica, que luego se aplic√≥. </p><br><h1 id="fichi">  Caracteristicas </h1><br><p>  Los clasificadores no funcionan directamente con datos de texto.  Las entradas se sirven con caracter√≠sticas, ya sea n√∫meros o signos booleanos (que, nuevamente, se traducen en n√∫meros 0/1) de que alguna caracter√≠stica est√° presente o no.  Construir las caracter√≠sticas correctas a partir de buenos datos es la clave para el √©xito del aprendizaje autom√°tico.  Una caracter√≠stica de nuestro caso es que nuestro corpus son textos en ingl√©s.  Y quiero obtener al menos una independencia m√≠nima de idioma.  Al menos dentro de las lenguas europeas.  Por lo tanto, para las caracter√≠sticas de texto usamos un peque√±o truco. </p><br><p>  La funci√≥n auxiliar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">_featurize_text_with_annotation convierte</a> la conversi√≥n de texto en una lista de caracter√≠sticas y etiquetas, ya sea para pegar con la l√≠nea anterior: </p><br><pre> <code class="python hljs">x, y = pdf_lines_gluer._featurize_text_with_annotation(raw_text)</code> </pre> <br><p>  Nota: aqu√≠ y m√°s, principalmente fragmentos de c√≥digo en python go, que puedes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ver completamente en una computadora port√°til</a> . </p><br><p>  Caracter√≠sticas utilizadas: </p><br><ul><li>  'this_len': la longitud de la l√≠nea actual en caracteres. </li><li>  'mean_len': la longitud promedio de las l√≠neas en el rango -5 ... + 5 l√≠neas. </li><li>  'prev_len': la longitud de la l√≠nea anterior en caracteres. </li><li>  'first_chars': aqu√≠ est√° nuestra caracter√≠stica dif√≠cil.  Los primeros 2 caracteres de la cadena se colocan aqu√≠.  Pero al mismo tiempo, todas las letras min√∫sculas (de cualquier alfabeto) se reemplazan por el car√°cter ingl√©s 'a', las letras may√∫sculas se reemplazan por 'A', los n√∫meros se reemplazan por '0'.  Esto reduce significativamente el n√∫mero de posibles signos, mientras que los resume.  Ejemplos de lo que sucede: 'Aa', 'aa', 'AA', '0.', 'a-' ... </li><li>  'isalpha': si la letra es el √∫ltimo car√°cter de la l√≠nea anterior. </li><li>  'isdigit': si el d√≠gito es el √∫ltimo car√°cter de la l√≠nea anterior. </li><li>  'islower': si la letra min√∫scula es el √∫ltimo car√°cter de la l√≠nea anterior. </li><li>  'punct': un signo de puntuaci√≥n que termina con la l√≠nea anterior o un espacio para otros caracteres. </li></ul><br><p>  Un ejemplo de un conjunto de caracter√≠sticas para una l√≠nea: </p><br><pre> <code class="plaintext hljs">{'this_len': 12, 'mean_len': 75.0, 'prev_len': 0, 'first_chars': 'Aa', 'isalpha': False, 'isdigit': False, 'islower': False, 'punct': ' '}</code> </pre> <br><p>  Para que el clasificador del paquete sklearn funcione con ellos, utilizamos la clase DictVectorizer, con la cual las caracter√≠sticas de cadena (tenemos 'first_chars') se convierten en varias columnas tituladas (los nombres se pueden obtener a trav√©s de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">get_feature_names ()</a> ) como 'first_chars = Aa ',' first_chars = 0. '.  Las caracter√≠sticas booleanas se convierten en ceros y unos, mientras que los valores num√©ricos siguen siendo n√∫meros; los nombres de campo no cambian.  Exteriormente, el m√©todo devuelve numpy.array de aproximadamente este tipo (solo se muestra una l√≠nea): </p><br><pre> <code class="plaintext hljs">[[ 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 1. 0. 0. 0. 39.1 30. 0. 1. 36. ]]</code> </pre> <br><h1 id="trenirovka-klassifikatora">  Clasificador de entrenamiento </h1><br><p>  Habiendo recibido un conjunto de caracter√≠sticas en forma de una matriz de n√∫meros de coma flotante, ahora podemos comenzar el proceso de aprendizaje.  Para hacer esto, utilizamos la regresi√≥n log√≠stica como clasificador.  Las clases no est√°n balanceadas, por lo tanto, configuramos la opci√≥n class_weight = 'balanceado', verificamos el resultado en la parte de prueba del caso: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.linear_model <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> LogisticRegression <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.metrics <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> classification_report clf = LogisticRegression(random_state=<span class="hljs-number"><span class="hljs-number">1974</span></span>, solver=<span class="hljs-string"><span class="hljs-string">'liblinear'</span></span>, max_iter=<span class="hljs-number"><span class="hljs-number">2000</span></span>, class_weight=<span class="hljs-string"><span class="hljs-string">'balanced'</span></span>) clf.fit(x_train, y_train) y_pred = clf.predict(x_test) print(classification_report(y_true=y_test, y_pred=y_pred))</code> </pre> <br><p>  Obtenemos tales indicadores de calidad: </p><br><pre> <code class="plaintext hljs"> precision recall f1-score support False 0.82 0.92 0.86 207 True 0.96 0.91 0.94 483 accuracy 0.91 690 macro avg 0.89 0.91 0.90 690 weighted avg 0.92 0.91 0.91 690</code> </pre> <br><p>  Como puede ver, en aproximadamente 1/10 de los casos, tenemos errores de varios tipos.  Pero en la pr√°ctica, no todo es tan aterrador.  El hecho es que, incluso con el marcado del ojo, no siempre est√° claro d√≥nde est√° el final del p√°rrafo y d√≥nde est√° el final de la oraci√≥n.  Por lo tanto, incluso el marcado en s√≠ mismo puede contener tales errores.  Pero los errores m√°s cr√≠ticos no est√°n donde ocurren en el borde de la propuesta, sino donde la propuesta permanece desgarrada.  Y hay muy pocos errores de este tipo en la realidad. </p><br><h1 id="vosstanavlivaem-tekst">  Recuperar texto </h1><br><p>  Ha llegado el momento de restaurar el texto da√±ado por la extracci√≥n de PDF.  Ya podemos determinar si pegar la l√≠nea con la anterior, pero hay un punto m√°s: la separaci√≥n sil√°bica.  Aqu√≠ todo es bastante sencillo, as√≠ que codifiqu√© esta parte con fuerza (me permito un pseudoc√≥digo): </p><br><pre> <code class="plaintext hljs">     :         :       :      :        \n</code> </pre> <br><p>  Armados con tal estrategia, restauramos el texto en ingl√©s (hay errores como "ff" y "fi" en el original; simplemente se copi√≥ del caso Krapivin2009): </p><br><div class="spoiler">  <b class="spoiler_title">Texto original en ingl√©s</b> <div class="spoiler_text"><pre> <code class="python hljs">text = <span class="hljs-string"><span class="hljs-string">"""The rapid expansion of wireless services such as cellular voice, PCS (Personal Communications Services), mobile data and wireless LANs in recent years is an indication that signicant value is placed on accessibility and portability as key features of telecommunication (Salkintzis and Mathiopoulos (Guest Ed.), 2000). devices have maximum utility when they can be used any- where at anytime". One of the greatest limitations to that goal, how- ever, is nite power supplies. Since batteries provide limited power, a general constraint of wireless communication is the short continuous operation time of mobile terminals. Therefore, power management is y Corresponding Author: Dr. Krishna Sivalingam. Part of the research was supported by Air Force Oce of Scientic Research grants F-49620-97-1- 0471 and F-49620-99-1-0125; by Telcordia Technologies and by Intel. Part of the work was done while the rst author was at Washington State Univer- sity. The authors' can be reached at cej@bbn.com, krishna@eecs.wsu.edu, pagrawal@research.telcordia.com, jcchen@research.telcordia.com c 2001 Kluwer Academic Publishers. Printed in the Netherlands. Jones, Sivalingam, Agrawal and Chen one of the most challenging problems in wireless communication, and recent research has addressed this topic (Bambos, 1998). Examples include a collection of papers available in (Zorzi (Guest Ed.), 1998) and a recent conference tutorial (Srivastava, 2000), both devoted to energy ecient design of wireless networks. Studies show that the signicant consumers of power in a typical laptop are the microprocessor (CPU), liquid crystal display (LCD), hard disk, system memory (DRAM), keyboard/mouse, CDROM drive, oppy drive, I/O subsystem, and the wireless network interface card (Udani and Smith, 1996, Stemm and Katz, 1997). A typical example from a Toshiba 410 CDT mobile computer demonstrates that nearly 36% of power consumed is by the display, 21% by the CPU/memory, 18% by the wireless interface, and 18% by the hard drive. Consequently, energy conservation has been largely considered in the hardware design of the mobile terminal (Chandrakasan and Brodersen, 1995) and in components such as CPU, disks, displays, etc. Signicant additional power savings may result by incorporating low-power strategies into the design of network protocols used for data communication. This paper addresses the incorporation of energy conservation at all layers of the protocol stack for wireless networks. The remainder of this paper is organized as follows. Section 2 introduces the network architectures and wireless protocol stack considered in this paper. Low-power design within the physical layer is brie y discussed in Section 2.3. Sources of power consumption within mobile terminals and general guidelines for reducing the power consumed are presented in Section 3. Section 4 describes work dealing with energy ecient protocols within the MAC layer of wireless networks, and power conserving protocols within the LLC layer are addressed in Section 5. Section 6 discusses power aware protocols within the network layer. Opportunities for saving battery power within the transport layer are discussed in Section 7. Section 8 presents techniques at the OS/middleware and application layers for energy ecient operation. Finally, Section 9 summarizes and concludes the paper. 2. Background This section describes the wireless network architectures considered in this paper. Also, a discussion of the wireless protocol stack is included along with a brief description of each individual protocol layer. The physical layer is further discussed. """</span></span> corrected = pdf_lines_gluer._preprocess_pdf(text, clf, v) print(corrected)</code> </pre> </div></div><br><p>  Despu√©s de la recuperaci√≥n, obtenemos: </p><br><div class="spoiler">  <b class="spoiler_title">Texto en ingl√©s recuperado</b> <div class="spoiler_text"><p>  La r√°pida expansi√≥n de los servicios inal√°mbricos como voz celular, PCS (Servicios de comunicaciones personales), datos m√≥viles y LAN inal√°mbricas en los √∫ltimos a√±os es una indicaci√≥n de que se le da un valor significativo a la accesibilidad y portabilidad como caracter√≠sticas clave de las telecomunicaciones (Salkintzis y Mathiopoulos (Guest Ed .), 2000).  los dispositivos tienen la m√°xima utilidad cuando se pueden usar en cualquier lugar y en cualquier momento ". Sin embargo, una de las mayores limitaciones para ese objetivo son las fuentes de alimentaci√≥n finas. Dado que las bater√≠as proporcionan una potencia limitada, una limitaci√≥n general de la comunicaci√≥n inal√°mbrica es el corto tiempo de operaci√≥n continua del m√≥vil terminales. Por lo tanto, la administraci√≥n de energ√≠a es su autor de correspondencia: Dr. Krishna Sivalingam. Parte de la investigaci√≥n fue apoyada por la Fuerza A√©rea Oce de Investigaciones Cient√≠ficas subvenciones F-49620-97-10471 y F-49620-99-1-0125; por Telcordia Tecnolog√≠as e Intel. Parte del trabajo se realiz√≥ mientras el primer autor estaba en la Universidad Estatal de Washington. Se puede contactar con los autores en cej@bbn.com, krishna@eecs.wsu.edu, pagrawal@research.telcordia.com, jcchen@research.telcordia.com c <br>  2001 Kluwer Academic Publishers.  Impreso en los Pa√≠ses Bajos. <br>  Jones, Sivalingam, Agrawal y Chen, uno de los problemas m√°s desafiantes en la comunicaci√≥n inal√°mbrica, y la investigaci√≥n reciente ha abordado este tema (Bambos, 1998).  Los ejemplos incluyen una colecci√≥n de documentos disponibles en (Zorzi (Guest Ed.), 1998) y un tutorial de conferencia reciente (Srivastava, 2000), ambos dedicados al dise√±o de redes inal√°mbricas energ√©ticamente eficientes. <br>  Los estudios demuestran que los consumidores importantes de energ√≠a en una computadora port√°til t√≠pica son el microprocesador (CPU), la pantalla de cristal l√≠quido (LCD), el disco duro, la memoria del sistema (DRAM), el teclado / mouse, la unidad de CDROM, la unidad de disco, el subsistema de E / S, y la tarjeta de interfaz de red inal√°mbrica (Udani y Smith, 1996, Stemm y Katz, 1997).  Un ejemplo t√≠pico de una computadora m√≥vil Toshiba 410 CDT demuestra que casi el 36% de la energ√≠a consumida es por la pantalla, el 21% por la CPU / memoria, <br>  18% por la interfaz inal√°mbrica y 18% por el disco duro.  En consecuencia, la conservaci√≥n de energ√≠a se ha considerado en gran medida en el dise√±o de hardware del terminal m√≥vil (Chandrakasan y Brodersen, 1995) y en componentes como CPU, discos, pantallas, etc.  Se pueden obtener ahorros de energ√≠a adicionales significativos al incorporar estrategias de baja potencia en el dise√±o de protocolos de red utilizados para la comunicaci√≥n de datos.  Este documento aborda la incorporaci√≥n de la conservaci√≥n de energ√≠a en todas las capas de la pila de protocolos para redes inal√°mbricas. <br>  El resto de este documento est√° organizado de la siguiente manera.  La Secci√≥n 2 presenta las arquitecturas de red y la pila de protocolos inal√°mbricos considerados en este documento.  El dise√±o de baja potencia dentro de la capa f√≠sica es breve <br>  discutido en la Secci√≥n 2.3.  Las fuentes de consumo de energ√≠a dentro de los terminales m√≥viles y las pautas generales para reducir la energ√≠a consumida se presentan en la Secci√≥n 3. La Secci√≥n 4 describe el trabajo relacionado con los protocolos de energ√≠a eficiente dentro de la capa MAC de las redes inal√°mbricas, y los protocolos de conservaci√≥n de energ√≠a dentro de la capa LLC se abordan en la Secci√≥n <br>  5. La Secci√≥n 6 discute los protocolos de alimentaci√≥n dentro de la capa de red.  Las oportunidades para ahorrar energ√≠a de la bater√≠a dentro de la capa de transporte se discuten en la Secci√≥n 7. La Secci√≥n 8 presenta t√©cnicas en el sistema operativo / middleware y las capas de aplicaci√≥n para un funcionamiento con eficiencia energ√©tica. <br>  Finalmente, la Secci√≥n 9 resume y concluye el documento. <br>  2. Antecedentes <br>  Esta secci√≥n describe las arquitecturas de red inal√°mbrica consideradas en este documento.  Adem√°s, se incluye una discusi√≥n sobre la pila de protocolos inal√°mbricos junto con una breve descripci√≥n de cada capa de protocolo individual.  La capa f√≠sica se discute m√°s a fondo. </p></div></div><br><p>  Hay un lugar controvertido, pero en general, las oraciones se han restaurado y dicho texto ya puede procesarse como oraciones completas. </p><br><p>  Pero est√°bamos planeando hacer una opci√≥n independiente del idioma.  Y esto es exactamente a lo que apunta nuestro conjunto de caracter√≠sticas.  Revisemos el texto en ruso (tambi√©n un fragmento de texto del PDF): </p><br><div class="spoiler">  <b class="spoiler_title">Texto original en ruso</b> <div class="spoiler_text"><pre> <code class="python hljs">ru_text = <span class="hljs-string"><span class="hljs-string">"""       -       (. 1.10),    ,   - .       ,      , -   .       ,       .          : 1.        ,       -  (   ,   . 1.10,    ). 2.    ( )           ,     .      ,     ."""</span></span> corrected = pdf_lines_gluer._preprocess_pdf(ru_text, clf, v) print(corrected)</code> </pre> </div></div><br><p>  Recibido: </p><br><div class="spoiler">  <b class="spoiler_title">Texto ruso restaurado</b> <div class="spoiler_text"><p>  El m√©todo de vector de soporte est√° dise√±ado para resolver problemas de clasificaci√≥n mediante la b√∫squeda de buenos l√≠mites de decisi√≥n (Fig. 1.10) que separan dos conjuntos de puntos que pertenecen a diferentes categor√≠as.  El l√≠mite decisivo puede ser una l√≠nea o superficie que divide una muestra de datos de entrenamiento en espacios que pertenecen a dos categor√≠as.  Para clasificar nuevos puntos, es suficiente solo verificar de qu√© lado del borde est√°n. <br>  El m√©todo de vector de b√∫squeda busca tales l√≠mites en dos etapas: <br>  1. Los datos se asignan a un nuevo espacio de dimensi√≥n superior, donde el l√≠mite se puede representar como un hiperplano (si los datos fueran bidimensionales, como en la figura 1.10, el hiperplano se degenera en una l√≠nea). <br>  2. Un buen l√≠mite de decisi√≥n (dividiendo el hiperplano) se calcula maximizando la distancia desde el hiperplano a los puntos m√°s cercanos de cada clase, este paso se llama maximizar la brecha.  Esto nos permite generalizar la clasificaci√≥n de nuevas muestras que no pertenecen al conjunto de datos de entrenamiento. </p></div></div><br><p>  Todo es perfecto aqu√≠. </p><br><h1 id="kak-polzovatsya-kodogeneraciya">  C√≥mo usar (generaci√≥n de c√≥digo) </h1><br><p>  Al principio, ten√≠a un plan para hacer un paquete que se pueda entregar usando PIP, pero luego se me ocurri√≥ una forma m√°s simple (para m√≠).  El conjunto de caracter√≠sticas result√≥ no ser muy grande, la regresi√≥n log√≠stica en s√≠ y DictVectorizer tienen una estructura simple: </p><br><ul><li>  Para DictVectorizer, es suficiente guardar los <em>nombres de</em> las funciones y los campos de vocabulario_ </li><li>  LogisticRegression tiene coef <em>, clases</em> , intercepci√≥n_ </li></ul><br><p>  Por lo tanto, otra opci√≥n naci√≥ con la generaci√≥n de c√≥digo (en la computadora port√°til, va en la secci√≥n "Serializar como c√≥digo"): </p><br><ol><li>  Leemos el archivo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">pdf_lines_gluer.py</a> , que contiene c√≥digo auxiliar para vectorizar y restaurar texto usando un clasificador entrenado. </li><li>  En el lugar designado en la fuente como "# inyectar c√≥digo aqu√≠ #", insertamos el c√≥digo que inicializa el DictVectorizer y LogisticRegression en el estado que obtuvimos en nuestra computadora port√°til despu√©s del entrenamiento.  Tambi√©n inyectamos aqu√≠ la √∫nica funci√≥n preprocess_pdf p√∫blica (en la medida de lo posible para Python): <br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">preprocess_pdf</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(text: str)</span></span></span><span class="hljs-function"> -&gt; str:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _preprocess_pdf(text, _clf, _v)</code> </pre> </li><li>  El c√≥digo resultante se escribe en el archivo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">pdf_preprocessor.py</a> </li></ol><br><p>  Es este archivo pdf_preprocessor.py generado que contiene todo lo que necesitamos.  Para usarlo, simplemente tome este archivo y col√≥quelo en su proyecto.  Uso: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pdf_preprocessor <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> preprocess_pdf ... print(preprocess_pdf(text))</code> </pre> <br><p>  Si tiene alg√∫n problema con algunos textos, esto es lo que deber√° hacer: </p><br><ol><li>  Ponga sus textos en la carpeta del corpus, an√≥telos. </li><li>  Inicie su computadora port√°til <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://github.com/serge-sotnyk/pdf-lines-gluer/blob/master/pdf_gluer.ipynb</a> : me toma menos de 5 segundos en los textos actuales. </li><li>  Tome y pruebe la nueva versi√≥n del archivo pdf_preprocessor.py </li></ol><br><p>  Quiz√°s algo salga mal y la calidad no lo satisfaga.  Entonces ser√° un poco m√°s complicado: necesitar√° agregar nuevas funciones hasta que encuentre su combinaci√≥n correcta. </p><br><h1 id="c-i-mlnet">  C # y ML.NET </h1><br><p>  En nuestra empresa, la mayor parte del c√≥digo de back-end se basa en .Net.  Por supuesto, interactuar con Python agrega inconvenientes aqu√≠.  Y me gustar√≠a tener una soluci√≥n similar en C #.  He estado siguiendo el desarrollo del marco <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ML.NET</a> durante <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">mucho tiempo</a> .  Hice peque√±os intentos de hacer algo el a√±o pasado, pero fueron decepcionantes con la cobertura insuficiente de diferentes casos, una peque√±a cantidad de documentaci√≥n y la inestabilidad de la API.  Desde la primavera de este a√±o, el marco ha cambiado a un estado de lanzamiento y decid√≠ intentarlo nuevamente.  Adem√°s, el trabajo m√°s tedioso con el dise√±o del cuerpo ya se ha realizado. </p><br><p>  A primera vista, el marco agreg√≥ conveniencia.  M√°s a menudo comenc√© a encontrar la documentaci√≥n necesaria (aunque todav√≠a est√° lejos de la calidad y la cantidad en sklearn).  Pero lo m√°s importante: hace un a√±o todav√≠a no sab√≠a sklearn.  Y ahora comenc√© a ver que muchas cosas en ML.NET intentaban hacer en la imagen y la semejanza (en la medida de lo posible, dada la diferencia en las plataformas).  Estas analog√≠as han facilitado el aprendizaje de los principios de ML.NET en la pr√°ctica. </p><br><p>  Se puede ver un proyecto de trabajo en esta plataforma en <a href="">https://github.com/serge-sotnyk/pdf-postprocess.cs</a> </p><br><p>  Los principios generales siguieron siendo los mismos: en la carpeta del corpus se encuentran documentos anotizados (y no tan).  Despu√©s de lanzar el proyecto ModelCreator, junto a la carpeta del corpus, veremos la carpeta de modelos, donde se colocar√° el archivo con el modelo entrenado.  Esta sigue siendo la misma regresi√≥n log√≠stica con las mismas caracter√≠sticas. </p><br><p>  Pero aqu√≠ ya no incursion√© en la generaci√≥n de c√≥digo.  Para usar el modelo entrenado, tome el proyecto PdfPostprocessor (que internamente tiene el modelo PdfPostprocessModel.zip compilado como recurso).  Despu√©s de eso, se puede usar el modelo, como se muestra en el ejemplo m√≠nimo: <a href="">https://github.com/serge-sotnyk/pdf-postprocess.cs/blob/master/MinimalUsageExample/Program.cs</a> : </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> PdfPostprocessor; ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] args</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> postprocessor = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Postprocessor(); Console.WriteLine(); Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"Restored paragraphs in the English text:"</span></span>); Console.WriteLine(postprocessor.RestoreText(EnText)); Console.WriteLine(); Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"Restored paragraphs in the Russian text:"</span></span>); Console.WriteLine(postprocessor.RestoreText(RuText)); }</code> </pre> <br><p>  Si bien la copia del modelo de la carpeta de modelos al proyecto PdfPostprocessor se realiza manualmente, fue m√°s conveniente para m√≠ controlar mejor qu√© modelo ingresa al proyecto final. </p><br><p>  Hay nuget-package - PdfPostprocessor.  Para usar el paquete y el modelo que entren√≥, use el constructor de Postprocesador sobrecargado. </p><br><h1 id="sravnenie-variantov-na-python-i-c35">  Comparaci√≥n de opciones en Python y C # </h1><br><p>  Si bien la experiencia de desarrollo en dos plataformas es reciente, puede tener sentido volver a contarlas brevemente.  No he sido un partidario militante de una plataforma en particular durante mucho tiempo y simpatizo con los sentimientos de los creyentes de diversas religiones.  Tambi√©n debe comprender que todav√≠a trabajo con idiomas con escritura est√°tica durante la mayor parte de mi vida, por lo que est√°n un poco m√°s cerca de m√≠. </p><br><h3 id="chto-ne-ponravilos-pri-perehode-na-c35">  Lo que no me gust√≥ al cambiar a C # </h3><br><ul><li>  Verbosidad  A√∫n as√≠, el c√≥digo de Python es m√°s compacto.  Esta es la ausencia de par√©ntesis de operador y par√©ntesis despu√©s de if, for.  La falta de novedades sin fin.  Uso activo de campos, ya que son f√°ciles de convertir en propiedades si es necesario.  Incluso al hecho de que la privacidad en Python, que simplemente se indica con un gui√≥n bajo al comienzo del identificador, te acostumbras y, en la pr√°ctica, result√≥ ser muy conveniente, m√°s conveniente que un mont√≥n de modificadores de privacidad en otros idiomas.  Y la brevedad de las construcciones acelera el desarrollo y facilita la lectura del c√≥digo. </li><li>  En la mayor√≠a de los casos, el c√≥digo Python se ve m√°s limpio y elegante (esto es solo subjetivo).  Esto hace que sea m√°s f√°cil de leer y mantener. </li><li>  Para Python, para casi todo, hay alg√∫n tipo de funci√≥n o decorador en alg√∫n tipo de paquete, pero en C # hay que agregar mucho.  Esto infla a√∫n m√°s el c√≥digo con varias funciones auxiliares, clases.  Y lleva a√∫n m√°s tiempo. </li><li>  El grado de documentaci√≥n de C # y sus marcos es significativamente menor que en el ecosistema de Python. </li><li>  La tipificaci√≥n m√°s estricta de ML.NET en comparaci√≥n con el omn√≠voro sklearn tambi√©n nos oblig√≥ a pasar un tiempo buscando las transformaciones correctas, y el p√°rrafo anterior no contribuy√≥ a resolver este problema. </li></ul><br><h3 id="chto-ponravilos-pri-perehode-na-c35">  ¬øQu√© te gust√≥ al cambiar a C #? </h3><br><ul><li>  Una sensaci√≥n de fiabilidad.  Ya no muy a menudo, pero con bastante frecuencia, el omn√≠voro Python me lleva a problemas evasivos.  Y ahora, al portar el c√≥digo a C #, hubo un error que hizo que algunas caracter√≠sticas fueran in√∫tiles.  Despu√©s de la correcci√≥n, la precisi√≥n aument√≥ en un par de por ciento. </li><li>  Velocidad.  En el c√≥digo de Python, tuve que abandonar las funciones que estaban vinculadas a la decisi√≥n de pegado que se tom√≥ en ofertas anteriores: si env√≠a propuestas al clasificador de una en una, la velocidad general ser√° menor que la placa base.  Para que el procesamiento de datos en Python sea r√°pido, es necesario vectorizarlo tanto como sea posible y, a veces, nos hace rechazar opciones potencialmente √∫tiles, o es muy dif√≠cil hacerlas. </li><li>  Linq.  Son mucho m√°s convenientes que la Lista de comprensi√≥n (LC) en Python.  Incluso un LC con uno para forzarme a escribir primero lo que sigue, luego volver al principio y agregar, y solo entonces escribir una expresi√≥n al comienzo del LC.  Es solo que, en ese orden, creo: la fuente de registros, elementos, a qu√© convertir.  LINQ (  "" )     .    LC (  for)   . ,       ,   . </li><li> Lambda.    ,   .   ,   C#   . </li></ul><br><p>      ‚Äî      .      ,    .Net     ,   .    -  ‚Äî   REST       C#. </p><br><p>  C#   .            ‚Äî      ,    - .   Microsoft     Kotlin ‚Äî    .Net      ,         .          Python- ‚Äî ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Julia</a> .      . </p><br><h1 id="zaklyuchenie">  Conclusi√≥n </h1><br><p>    : </p><br><ul><li>   ,     ‚Äî  ,    ,   -    . , ,   -   . </li><li>    .  ,   ML.NET     - .       . </li><li> ,    Python-     .Net.         , . </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/457072/">https://habr.com/ru/post/457072/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../457062/index.html">Centro de Entrenamiento de Cosmonautas en Star City</a></li>
<li><a href="../457064/index.html">A la pregunta de m√≥dulos</a></li>
<li><a href="../457066/index.html">C√≥mo modificar el robot FEDOR y la silla de vuelo ISS</a></li>
<li><a href="../457068/index.html">Colas: ¬øqu√© es, por qu√© y c√≥mo usarlo? Eche un vistazo a las caracter√≠sticas de AWS SQS</a></li>
<li><a href="../457070/index.html">Textolita en lugar de cart√≥n. Algunas palabras sobre la insignia interactiva OFFZONE 2019</a></li>
<li><a href="../457074/index.html">La evoluci√≥n de los desarrolladores: qu√© juegos debemos esperar en el futuro</a></li>
<li><a href="../457078/index.html">C√≥mo convertir tu avatar de Telegram en un reloj</a></li>
<li><a href="../457082/index.html">Concesi√≥n imperceptible de derechos de administrador</a></li>
<li><a href="../457086/index.html">Patr√≥n arquitect√≥nico "Constructor" en el universo de "Swift" y "iOS" / "macOS"</a></li>
<li><a href="../457090/index.html">Cunas de seguridad: JWT</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>