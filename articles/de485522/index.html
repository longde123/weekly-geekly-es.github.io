<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üï∑Ô∏è üë¶üèø üë©‚Äçüç≥ Hack The Box - Walkthrough AI. SQLi in API Text To Sreach, SSH-Weiterleitung und RCE in JDWP ‚≠êÔ∏è üññ üåù</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ich ver√∂ffentliche weiterhin L√∂sungen, die zur weiteren Verarbeitung von der HackTheBox- Site gesendet wurden. Ich hoffe, dass dies zumindest jemandem...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Hack The Box - Walkthrough AI. SQLi in API Text To Sreach, SSH-Weiterleitung und RCE in JDWP</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485522/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/9m/xk/28/9mxk28wpn31h-qreqymkyzwjipi.png" alt="Bild"></div><br>  Ich ver√∂ffentliche weiterhin L√∂sungen, die zur <a href="https://www.hackthebox.eu/">weiteren Verarbeitung</a> von der <a href="https://www.hackthebox.eu/">HackTheBox-</a> Site <a href="https://www.hackthebox.eu/">gesendet</a> wurden.  Ich hoffe, dass dies zumindest jemandem hilft, sich auf dem Gebiet der Informationssicherheit weiterzuentwickeln.  In diesem Artikel lernen wir die Konvertierung von Text in Sprache kennen und finden SQL-Injection in API, senden einen Port √ºber SSH und f√ºhren RCE mithilfe des Java Debug Wire-Protokolls f√ºr das Remote-Debugging durch. <br><br>  Die Verbindung zum Labor erfolgt √ºber VPN.  Es wird empfohlen, keine Verbindung von einem Arbeitscomputer oder einem Host herzustellen, auf dem die f√ºr Sie wichtigen Daten verf√ºgbar sind, da Sie in einem privaten Netzwerk mit Personen enden, die sich mit dem Thema Informationssicherheit auskennen :) <br><br><div class="spoiler">  <b class="spoiler_title">Organisatorische Informationen</b> <div class="spoiler_text">  Speziell f√ºr diejenigen, die etwas Neues lernen und sich in einem der Bereiche Informations- und Computersicherheit weiterentwickeln m√∂chten, werde ich folgende Kategorien beschreiben und besprechen: <br><br><ul><li>  PWN; </li><li>  Kryptographie (Crypto); </li><li>  Netzwerktechnologien (Netzwerk); </li><li>  Reverse (Reverse Engineering); </li><li>  Steganographie (Stegano); </li><li>  Suche und Ausnutzung von WEB-Schwachstellen. </li></ul><br>  Dar√ºber hinaus werde ich meine Erfahrungen in den Bereichen Computerforensik, Analyse von Malware und Firmware, Angriffe auf drahtlose Netzwerke und lokale Netzwerke, Durchf√ºhrung von Pentests und Schreiben von Exploits teilen. <br><a name="habracut"></a><br>  Damit Sie sich √ºber neue Artikel, Software und andere Informationen informieren k√∂nnen, habe ich <a href="https://t.me/RalfHackerChannel">in Telegram</a> einen <a href="https://t.me/RalfHackerChannel">Channel</a> und eine <a href="https://t.me/RalfHackerPublicChat">Gruppe erstellt, um alle Fragen</a> im Bereich ICD <a href="https://t.me/RalfHackerPublicChat">zu diskutieren</a> .  Auch ich werde Ihre pers√∂nlichen W√ºnsche, Fragen, Anregungen und Empfehlungen <a href="https://t.me/hackerralf8">pers√∂nlich</a> ber√ºcksichtigen <a href="https://t.me/hackerralf8">und auf alle antworten</a> . <br><br>  Alle Informationen werden nur zu Bildungszwecken bereitgestellt.  Der Autor dieses Dokuments √ºbernimmt keine Verantwortung f√ºr Sch√§den, die jemandem durch die Verwendung von Kenntnissen und Methoden entstehen, die er durch das Studium dieses Dokuments erlangt hat. <br></div></div><br><h2>  Intelligenz </h2><br><h3>  Port-Scan </h3><br>  Dieser Rechner hat eine IP-Adresse vom 10.10.10.163, die ich zu / etc / hosts hinzuf√ºge. <br><br><pre><code class="plaintext hljs">10.10.10.163 ai.htb</code> </pre> <br>  Zuerst scannen wir offene Ports.  Da es sehr lange dauert, alle Ports mit nmap zu scannen, mache ich dies zuerst mit Masscan.  Wir scannen alle TCP- und UDP-Ports von der tun0-Schnittstelle mit einer Geschwindigkeit von 1000 Paketen pro Sekunde. <br><br><pre> <code class="plaintext hljs">masscan -e tun0 -p1-65535,U:1-65535 10.10.10.163 --rate=1000</code> </pre> <br><img src="https://habrastorage.org/webt/42/7n/vb/427nvb-ettyt-uuuwjx1lf8kw0a.png" alt="Bild"><br><br>  Als N√§chstes m√ºssen Sie weitere Informationen zu bekannten Ports sammeln.  Verwenden Sie dazu nmap mit der Option -A. <br><br><pre> <code class="plaintext hljs">nmap -A ai.htb -p22,80</code> </pre> <br><img src="https://habrastorage.org/webt/rw/bl/z3/rwblz3m1vl_3rtyirrlbddgoc4a.png" alt="Bild"><br><br>  Wie aus dem nmap-Bericht hervorgeht, werden SSH und ein Webserver auf dem Host ausgef√ºhrt.  Wenn wir zur Website gehen und ein wenig durch die Seiten streifen, w√§hlen wir die interessanteste aus - aus dem Formular zum Senden einer WAV-Datei. <br><br><img src="https://habrastorage.org/webt/tc/ak/nn/tcaknnisq1gufb08q4yqkk1obuc.png" alt="Bild"><br><br>  Aber f√ºr alle F√§lle habe ich die Verzeichnisse mit Gobuster √ºberpr√ºft.  Geben Sie in den Parametern die Anzahl der Streams 128 (-t), URL (-u), W√∂rterbuch (-w) und Erweiterungen an, die uns interessieren (-x). <br><br>  gobuster dir -t 128 -u <a href="http://ai.htb/">ai.htb</a> -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -x html, php, conf, txt <br><br><img src="https://habrastorage.org/webt/q8/c4/og/q8c4ogjesncngzwhraaaphc91ma.png" alt="Bild"><br><br>  Die db.php Seite hat nichts gegeben, aber intelligence.php liefert uns Informationen √ºber die Seite. <br><br><img src="https://habrastorage.org/webt/ii/gy/7w/iigy7w0f0oe3cb72wmzgoeh2i5k.png" alt="Bild"><br><br>  Die Seite benutzt einen Sprachdolmetscher.  Das hei√üt, die von uns gesendete Datei wird als Text interpretiert.  Lassen Sie uns die Annahme mit dem folgenden <a href="https://www.text2speech.org/">Online-Textinterpreter in WAV</a> testen. <br><br><img src="https://habrastorage.org/webt/oz/0b/gh/oz0bghiixn3bzcjwief-vr2r-jw.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/h6/zl/be/h6zlbesqgaoackk9lfv1zcrxcha.png" alt="Bild"><br><br>  Annahmen sind richtig - die Site interpretiert den Text. <br><br><h2>  Einstiegspunkt </h2><br>  Aus irgendeinem Grund war ich mir von SSTI sicher, aber nach dem Scheitern, wenn ich mich an db.h erinnere, werden wir ein Angebot senden.  Das Senden funktioniert jedoch nicht, da die Site eine API verwendet, die die Zeichen unterschiedlich interpretiert.  Die vollst√§ndige Liste finden Sie <a href="https://www.nuance.com/products/help/dragon/dragon-for-pc/enx/professionalgroup/main/Content/Dictation/dictating_punctuation.htm">hier</a> . <br><br><img src="https://habrastorage.org/webt/8p/ks/fz/8pksfz1od8rtprbg6qkuyumyprk.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/pl/km/rx/plkmrxak0utt_2ep4yj-jdewgvi.png" alt="Bild"><br><br>  Und wir bekommen den SQL-Fehler.  Jetzt mach die Spritze. <br><br><h2>  USER </h2><br><img src="https://habrastorage.org/webt/k1/ct/ik/k1ctikleubbv_bxm0dz25uctm90.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/d0/4o/bd/d04obd8ypvhmd-9brkzjwaziiwm.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/xj/-f/8u/xj-f8u7jzbhmtdzgqvxrcs5cfos.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/-d/ih/ed/-dihednh-z2qlabzry6rh56z0ay.png" alt="Bild"><br><br>  Und auf die gleiche Weise erhalten wir das Passwort. <br><br><img src="https://habrastorage.org/webt/ob/cc/hc/obcchc6kfrmg7t1nvgnxwkvm8qk.png" alt="Bild"><br><br>  Und mit den Zugangsdaten verbinden wir uns √ºber SSH. <br><br><img src="https://habrastorage.org/webt/ol/yw/67/olyw67r5qetsxhen-79du-clboo.png" alt="Bild"><br><br><h2>  Wurzel </h2><br>  Wie √ºblich f√ºhren wir die Aufz√§hlung mit dem LinEnum-Skript durch. <br><br><img src="https://habrastorage.org/webt/kr/ku/-c/krku-cwy0giqqny0cehiw-_-blm.png" alt="Bild"><br><br>  Nach dem Anzeigen der Skriptausgabe h√∂ren wir bei einem interessanten Prozess auf, der als root ausgef√ºhrt wird - einem Java-Programm. <br><br><img src="https://habrastorage.org/webt/jm/5o/87/jm5o87fzmpmnau0usvpjskw1e4s.png" alt="Bild"><br><br>  Interessanter ist jedoch, dass das Programm eine Verbindung zu 8000 Ports unterst√ºtzt. <br><br><img src="https://habrastorage.org/webt/3o/wc/rk/3owcrkfoq9hg5r5skmedvxinesm.png" alt="Bild"><br><br>  Dies wird auch durch die Liste der Wirkstoffe best√§tigt. <br><br><img src="https://habrastorage.org/webt/kr/rs/bv/krrsbvhlzg-tddqbfhyuavtkkpm.png" alt="Bild"><br><br>  Sie k√∂nnen auch sehen, dass es das Java Debug Wire Protocol (JWDB) verwendet, ein Protokoll f√ºr die Kommunikation zwischen dem fernen Debugger und der JVM.  Nach der Suche nach Exploits finden wir ein <a href="https://github.com/IOActive/jdwp-shellifier">Skript, mit dessen Hilfe RCE erstellt werden kann</a> . <br><br><img src="https://habrastorage.org/webt/rt/ov/vl/rtovvl_zio8h2a-hxvo0qbue6kq.png" alt="Bild"><br><br>  Dieses Skript verwendet als Argument die Hostadresse, den Port und den auszuf√ºhrenden Befehl. <br><br><img src="https://habrastorage.org/webt/9n/p6/wi/9np6wi7yfdgkzt-ujjjjyk1cwgq.png" alt="Bild"><br><br>  Beginnen wir mit Port 8000. <br><br><pre> <code class="bash hljs">ssh -L 8000:localhost:8000 alexa@10.10.10.163</code> </pre> <br>  In diesem Fenster wird eine regul√§re SSH-Konsole ge√∂ffnet, aber jetzt werden alle Anrufe an den 8000-Port des lokalen Hosts automatisch an den 8000-Port des Remotecomputers weitergeleitet. <br><br>  Lassen Sie uns √ºberpr√ºfen: In einem anderen Terminal versuchen wir, mit jdb eine Verbindung zu diesem Port herzustellen. <br><br><img src="https://habrastorage.org/webt/9f/s1/ag/9fs1agxsgde-ztwsh8lehwcytcu.png" alt="Bild"><br><br>  Da die Verbindung besteht, schreiben wir eine Reverse-Shell auf den Host, die als Team ausgef√ºhrt wird. <br><br><img src="https://habrastorage.org/webt/j_/tr/jb/j_trjb8e0k0g-njx-nc1gztvxru.png" alt="Bild"><br><br>  F√ºhren Sie das heruntergeladene Skript mit allen erforderlichen Parametern aus. <br><br><img src="https://habrastorage.org/webt/70/br/n9/70brn9l-22wfhqs20cw08xgcukk.png" alt="Bild"><br><br>  Und nach der Meldung √ºber den erfolgreich ausgef√ºhrten Befehl beobachten wir die Verbindung. <br><br><img src="https://habrastorage.org/webt/9c/sj/c7/9csjc7y9wcb03cyidt8sfmcd9gw.png" alt="Bild"><br><br>  Wie Sie sehen, haben wir Administratorzugriff. <br><br>  Sie k√∂nnen sich uns <a href="https://t.me/RalfHackerChannel">per Telegramm anschlie√üen</a> .  Bauen wir eine Community auf, in der es Menschen geben wird, die sich in vielen Bereichen der IT auskennen. Dann k√∂nnen wir uns gegenseitig in allen Fragen der IT- und Informationssicherheit helfen. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de485522/">https://habr.com/ru/post/de485522/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de485508/index.html">Auf dem Weg zu einem funktionsf√§higen DBMS und NoSQL ERP: Salden- und Kalkulationsspeicher</a></li>
<li><a href="../de485510/index.html">So starten Sie ein Produkt alleine, wenn Sie Entwickler sind: Tipps von Taylor Otvel, dem Sch√∂pfer von Laravel. Teil 3: Gib nicht auf</a></li>
<li><a href="../de485514/index.html">EBlink - GDB Server f√ºr ARM Cortex-M Mikrocontroller</a></li>
<li><a href="../de485518/index.html">Der Versuch, das Nicht-Komponierbare zu komponieren: Erhebe alles</a></li>
<li><a href="../de485520/index.html">QueryFilter: das Konzept des Filterns von Modellen</a></li>
<li><a href="../de485524/index.html">Die Zusammenstellung interessanter Materialien f√ºr den mobilen Entwickler # 330 (20. - 26. Januar)</a></li>
<li><a href="../de485526/index.html">Wer und warum will das Internet "geteilt" machen</a></li>
<li><a href="../de485528/index.html">So schlie√üen Sie ein Softwareentwicklungsprojekt richtig ab</a></li>
<li><a href="../de485530/index.html">Gef√ºhrtes Lernen</a></li>
<li><a href="../de485532/index.html">Interview Guide f√ºr diejenigen Programmierer, die sie nicht verstehen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>