<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤱🏻 👲🏾 👨🏾‍🔬 Menyebarkan aplikasi Tarantool Cartridge tanpa usaha (Bagian 1) 👨🏽 🧙🏿 🦀</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kami telah menghadirkan Tarantool Cartridge yang memungkinkan Anda untuk mengembangkan dan mengemas aplikasi yang didistribusikan. Sekarang mari kita ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Menyebarkan aplikasi Tarantool Cartridge tanpa usaha (Bagian 1)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/480468/"><img src="https://habrastorage.org/webt/yc/gm/xx/ycgmxxaqlvyslsrzoo6jnv1vmx0.jpeg"><br><br>  Kami telah menghadirkan <a href="https://habr.com/ru/company/mailru/blog/465503/">Tarantool Cartridge</a> yang memungkinkan Anda untuk mengembangkan dan mengemas aplikasi yang didistribusikan.  Sekarang mari kita belajar bagaimana menggunakan dan mengendalikan aplikasi ini.  Jangan panik, semuanya terkendali!  Kami telah menggabungkan semua praktik terbaik dari bekerja dengan Tarantool Cartridge dan menulis <a href="https://galaxy.ansible.com/tarantool/cartridge">peran Ansible</a> , yang akan menyebarkan paket ke server, memulai dan menggabungkan instance ke dalam set replika, mengkonfigurasi otorisasi, vshard bootstrap, mengaktifkan failover otomatis dan konfigurasi tambalan cluster. <br><br>  Menarik, ya?  Menyelam, periksa detail di bawah luka. <br><a name="habracut"></a><br><h1>  Mulai dengan sampel </h1><br>  Biarkan kami memandu Anda hanya melalui beberapa fungsi peran.  Anda selalu dapat menemukan deskripsi lengkap dari semua fitur dan parameter input dalam <a href="https://github.com/tarantool/ansible-cartridge">dokumentasi</a> .  Namun, mencoba sekali lebih baik daripada melihatnya ratusan kali, jadi mari kita gunakan aplikasi kecil. <br><br>  Tarantool Cartridge memiliki <a href="https://github.com/tarantool/cartridge-cli/tree/master/examples/getting-started-app">tutorial</a> untuk membuat aplikasi Cartridge kecil yang menyimpan informasi tentang pelanggan bank dan akun mereka, serta menyediakan API untuk manajemen data melalui HTTP.  Untuk tujuan ini, aplikasi menjelaskan dua peran yang memungkinkan yang dapat ditetapkan untuk instance: <code>api</code> dan <code>storage</code> . <br><br>  Cartridge sendiri tidak mengatakan apa-apa tentang cara memulai proses - hanya memberikan kesempatan untuk mengkonfigurasi instance yang sedang berjalan.  Jadi, sisanya terserah kepada pengguna: mendistribusikan file konfigurasi, menjalankan layanan, dan mengkonfigurasi topologi.  Tetapi kita tidak akan melakukan semua itu - Ansible akan melakukannya untuk kita. <br><br><h3>  Mulai beraksi </h3><br>  Pertama, mari kita gunakan aplikasi kita di dua mesin virtual dan buat topologi sederhana: <br><br><ul><li>  Set replika <code>app-1</code> akan mewakili peran <code>api</code> yang berisi peran <code>vshard-router</code> .  Hanya akan ada satu contoh. </li><li>  Set replika <code>storage-1</code> akan mewakili peran <code>storage</code> (termasuk peran <code>vshard-storage</code> ) - di sini kita akan menambahkan dua instance dari mesin yang berbeda. </li></ul><br><img src="https://habrastorage.org/webt/k9/nh/oc/k9nhoc4kladn7obskseox7he8ek.jpeg"><br><br>  Untuk menjalankan sampel, kita akan membutuhkan <a href="https://www.vagrantup.com/">Vagrant</a> dan <a href="https://www.ansible.com/">Ansible</a> (versi 2.8 atau lebih tinggi). <br><br>  Peran itu sendiri disimpan di <a href="https://galaxy.ansible.com/docs/">Ansible Galaxy</a> - repositori yang memungkinkan Anda berbagi pekerjaan dan menggunakan peran yang sudah jadi. <br><br>  Sekarang klon repositori sampel: <br><br><pre> <code class="plaintext hljs">$ git clone https://github.com/dokshina/deploy-tarantool-cartridge-app.git $ cd deploy-tarantool-cartridge-app &amp;&amp; git checkout 1.0.0</code> </pre> <br>  Kemudian gunakan mesin virtual: <br><br><pre> <code class="plaintext hljs">$ vagrant up</code> </pre> <br>  Setelah itu, instal peran Tarantool Cartridge Ansible: <br><br><pre> <code class="plaintext hljs">$ ansible-galaxy install tarantool.cartridge,1.0.1</code> </pre> <br>  Dan mulai peran yang diinstal: <br><br><pre> <code class="plaintext hljs">$ ansible-playbook -i hosts.yml playbook.yml</code> </pre> <br>  Sekarang tunggu sampai proses playbook selesai, buka <a href="http://localhost:8181/admin/cluster/dashboard">http: // localhost: 8181 / admin / cluster / dashboard</a> dan nikmati hasilnya: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/70/zo/vq/70zovqqaeiph6v1bjoenzl_hn1w.png"></div><br><br>  Anda dapat mengunggah data sekarang.  Luar biasa, bukan? <br><br>  Sekarang mari kita mencari cara untuk bekerja dengannya, dan kita juga bisa menambahkan set replika lain ke topologi. <br><br><h3>  Lebih detail </h3><br>  Jadi, apa yang terjadi? <br><br>  Kami menjalankan dua mesin virtual dan menjalankan dan meluncurkan buku pedoman yang memungkinkan yang mengonfigurasi kluster kami.  Sekarang mari kita lihat ke dalam file <code>playbook.yml</code> : <br><br><pre> <code class="plaintext hljs">--- - name: Deploy my Tarantool Cartridge app hosts: all become: true become_user: root tasks: - name: Import Tarantool Cartridge role import_role: name: tarantool.cartridge</code> </pre> <br>  Tidak ada yang menarik terjadi di sini;  mari kita luncurkan peran <code>tarantool.cartridge</code> disebut <code>tarantool.cartridge</code> . <br><br>  Hal yang paling penting (yaitu, konfigurasi cluster) ada di file inventaris <code><a href="https://docs.ansible.com/ansible/latest/user_guide/intro_inventory.html">hosts.yml</a></code> : <br><br><pre> <code class="plaintext hljs">--- all: vars: # common cluster variables cartridge_app_name: getting-started-app cartridge_package_path: ./getting-started-app-1.0.0-0.rpm # path to package cartridge_cluster_cookie: app-default-cookie # cluster cookie # common ssh options ansible_ssh_private_key_file: ~/.vagrant.d/insecure_private_key ansible_ssh_common_args: '-o IdentitiesOnly=yes -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no' # INSTANCES hosts: storage-1: config: advertise_uri: '172.19.0.2:3301' http_port: 8181 app-1: config: advertise_uri: '172.19.0.3:3301' http_port: 8182 storage-1-replica: config: advertise_uri: '172.19.0.3:3302' http_port: 8183 children: # GROUP INSTANCES BY MACHINES host1: vars: # first machine connection options ansible_host: 172.19.0.2 ansible_user: vagrant hosts: # instances to be started on the first machine storage-1: host2: vars: # second machine connection options ansible_host: 172.19.0.3 ansible_user: vagrant hosts: # instances to be started on the second machine app-1: storage-1-replica: # GROUP INSTANCES BY REPLICA SETS replicaset_app_1: vars: # replica set configuration replicaset_alias: app-1 failover_priority: - app-1 # leader roles: - 'api' hosts: # replica set instances app-1: replicaset_storage_1: vars: # replica set configuration replicaset_alias: storage-1 weight: 3 failover_priority: - storage-1 # leader - storage-1-replica roles: - 'storage' hosts: # replica set instances storage-1: storage-1-replica:</code> </pre> <br>  Yang perlu kita lakukan adalah mempelajari cara mengelola instance dan set replika dengan memodifikasi file ini.  Nanti, kami akan menambahkan bagian baru untuk itu.  Untuk menghindari kebingungan saat menambahkan bagian, lihat versi final file ini, atau <code>hosts.updated.yml</code> , yang terletak di repositori sampel. <br><br><h3>  Mengelola instance </h3><br>  Dalam istilah Ansible, setiap instance adalah host (jangan dikacaukan dengan server fisik), mis. Simpul infrastruktur yang akan dikelola oleh Ansible.  Untuk setiap host, kita dapat menentukan parameter koneksi (seperti <code>ansible_host</code> dan <code>ansible_user</code> ) dan konfigurasi instance.  Deskripsi contoh ada di bagian <code>hosts</code> . <br><br>  Mari kita lihat konfigurasi instance <code>storage-1</code> : <br><br><pre> <code class="plaintext hljs">all: vars: ... # INSTANCES hosts: storage-1: config: advertise_uri: '172.19.0.2:3301' http_port: 8181 ...</code> </pre> <br>  Dalam variabel <code>config</code> , kami menentukan parameter instance: <code>advertise URI</code> dan <code>HTTP port</code> . <br><br>  Di bawah ini adalah parameter dari instance <code>app-1</code> dan <code>storage-1-replica</code> . <br><br>  Kami harus menyediakan parameter koneksi Ansible untuk setiap instance.  Tampaknya masuk akal untuk mengelompokkan instance oleh mesin virtual.  Untuk tujuan ini, instance dikelompokkan bersama di bawah <code>host1</code> dan <code>host2</code> , dan setiap grup di bagian <code>vars</code> berisi nilai parameter <code>ansible_user</code> dan <code>ansible_user</code> untuk satu mesin virtual.  Dan bagian <code>hosts</code> berisi host (atau instance) yang termasuk dalam grup ini: <br><br><pre> <code class="plaintext hljs">all: vars: ... hosts: ... children: # GROUP INSTANCES BY MACHINES host1: vars: # first machine connection options ansible_host: 172.19.0.2 ansible_user: vagrant hosts: # instances to be started on the first machine storage-1: host2: vars: # second machine connection options ansible_host: 172.19.0.3 ansible_user: vagrant hosts: # instances to be started on the second machine app-1: storage-1-replica:</code> </pre> <br>  Mari kita mulai mengedit <code>hosts.yml</code> .  Sekarang kita menambahkan dua contoh lagi: <code>storage-2-replica</code> pada mesin virtual pertama dan <code>storage-2</code> pada yang kedua: <br><br><pre> <code class="plaintext hljs">all: vars: ... # INSTANCES hosts: ... storage-2: # &lt;== config: advertise_uri: '172.19.0.3:3303' http_port: 8184 storage-2-replica: # &lt;== config: advertise_uri: '172.19.0.2:3302' http_port: 8185 children: # GROUP INSTANCES BY MACHINES host1: vars: ... hosts: # instances to be started on the first machine storage-1: storage-2-replica: # &lt;== host2: vars: ... hosts: # instances to be started on the second machine app-1: storage-1-replica: storage-2: # &lt;== ...</code> </pre> <br>  Mulai playbook Ansible: <br><br><pre> <code class="plaintext hljs">$ ansible-playbook -i hosts.yml \ --limit storage-2,storage-2-replica \ playbook.yml</code> </pre> <br>  Perhatikan opsi <code>--limit</code> .  Karena setiap instance cluster adalah host dalam hal Ansible, kami dapat secara eksplisit menentukan instance mana yang harus dikonfigurasikan saat menjalankan playbook. <br><br>  Jadi kita kembali ke UI web di <a href="http://localhost:8181/admin/cluster/dashboard">http: // localhost: 8181 / admin / cluster / dashboard</a> dan lihat contoh baru kami: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/l2/jw/9-/l2jw9-hw2varlmqtt0tdnonh8tw.png"></div><br><br>  Selanjutnya, mari kita menguasai manajemen topologi. <br><br><h3>  Mengelola topologi </h3><br>  Biarkan kami mengelompokkan instance baru kami ke dalam set replika <code>storage-2</code> , menambahkan grup baru <code>replicaset_storage_2</code> , dan menjelaskan parameter set replika dalam variabel seperti yang kami lakukan untuk <code>replicaset_storage_1</code> .  Di bagian <code>hosts</code> , kami menentukan instance mana yang harus dimasukkan dalam grup ini (yaitu set replika kami): <br><br><pre> <code class="plaintext hljs">--- all: vars: ... hosts: ... children: ... # GROUP INSTANCES BY REPLICA SETS ... replicaset_storage_2: # &lt;== vars: # replicaset configuration replicaset_alias: storage-2 weight: 2 failover_priority: - storage-2 - storage-2-replica roles: - 'storage' hosts: # replicaset instances storage-2: storage-2-replica:</code> </pre> <br>  Lalu kami menjalankan lagi buku pedoman: <br><br><pre> <code class="plaintext hljs">$ ansible-playbook -i hosts.yml \ --limit replicaset_storage_2 \ --tags cartridge-replicasets \ playbook.yml</code> </pre> <br>  Kali ini kami memberikan nama grup yang sesuai dengan set replika kami di parameter <code>--limit</code> . <br><br>  Mari kita lihat opsi <code>tags</code> . <br><br>  Peran kami berturut-turut menjalankan berbagai tugas yang ditandai dengan tag berikut: <br><br><ul><li>  <code>cartridge-instances</code> : manajemen instance (konfigurasi, keanggotaan); </li><li>  <code>cartridge-replicasets</code> : manajemen topologi (manajemen set replika dan penghapusan permanen (mengeluarkan) instance dari cluster); </li><li>  <code>cartridge-config</code> : kontrol parameter cluster lainnya (bootstrap vshard, failover otomatis, parameter otorisasi, dan konfigurasi aplikasi). </li></ul><br>  Kami dapat secara eksplisit menentukan bagian mana dari pekerjaan yang ingin kami lakukan - dan peran akan melewati sisa tugas.  Dalam hal ini, kami hanya ingin bekerja dengan topologi, jadi kami menentukan <code>cartridge-replicasets</code> . <br><br>  Mari kita evaluasi hasil dari upaya kita.  Temukan set replika baru di <a href="http://localhost:8181/admin/cluster/dashboard">http: // localhost: 8181 / admin / cluster / dashboard</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sw/0z/gm/sw0zgm53me7ft63db8lxrswcxvw.png"></div><br><br>  Yay <br><br>  Coba ubah konfigurasi instans dan set replika dan lihat bagaimana topologi klaster berubah.  Anda dapat mencoba berbagai kasus penggunaan, seperti <a href="https://docs.ansible.com/ansible/latest/user_guide/playbooks_delegation.html">pembaruan bergulir</a> atau peningkatan <code>memtx_memory</code> .  Peran akan mencoba melakukan ini tanpa memulai ulang instance untuk mengurangi kemungkinan downtime aplikasi Anda. <br><br>  Jangan lupa menjalankan <code>vagrant halt</code> untuk menghentikan mesin virtual ketika Anda selesai menggunakannya. <br><br><h1>  Apa yang ada di dalam? </h1><br>  Di sini saya akan bercerita lebih banyak tentang apa yang terjadi di bawah tenda peran Ansible selama pengujian kami. <br>  Mari pertimbangkan langkah-langkah penerapan aplikasi Cartridge. <br><br><h3>  Menginstal paket dan memulai instance </h3><br>  Hal pertama yang harus dilakukan adalah mengirimkan paket ke server dan menginstalnya.  Sekarang perannya dapat bekerja dengan paket RPM dan paket DEB. <br><br>  Selanjutnya, kami meluncurkan instance.  Ini sangat sederhana: setiap contoh adalah layanan <code>systemd</code> terpisah.  Sebagai contoh: <br><br><pre> <code class="plaintext hljs">$ systemctl start myapp@storage-1</code> </pre> <br>  Perintah ini meluncurkan instance <code>storage-1</code> dari <code>myapp</code> <br>  aplikasi.  Instance yang sedang berjalan mencari <a href="https://www.tarantool.io/ru/doc/2.2/book/cartridge/cartridge_dev/">konfigurasinya</a> di <code>/etc/tarantool/conf.d/</code> .  Anda dapat melihat log contoh menggunakan <code>journald</code> . <br><br>  File Unit <code>/etc/systemd/systemd/myapp@.sevice</code> untuk layanan systemd dikirimkan bersama paket. <br><br>  Ansible memiliki modul bawaan untuk menginstal paket dan mengelola layanan systemd, jadi kami tidak menemukan sesuatu yang baru di sini. <br><br><h3>  Mengkonfigurasi topologi klaster </h3><br>  Hal paling menyenangkan terjadi di sini.  Saya yakin Anda akan setuju bahwa aneh untuk repot dengan peran khusus yang mungkin untuk menginstal paket dan menjalankan layanan <code>systemd</code> . <br><br>  Anda dapat mengkonfigurasi kluster secara manual: <br><br><ul><li>  Opsi pertama adalah membuka UI Web dan mengklik tombol.  Ini sangat cocok untuk memulai satu kali beberapa kali. </li><li>  Opsi kedua adalah menggunakan GraphQL API.  Di sini Anda sudah dapat mengotomatisasi sesuatu, misalnya, menulis skrip dengan Python. </li><li>  Pilihan ketiga adalah untuk yang berani: pergi ke server, hubungkan ke salah satu contoh dengan bantuan <code>tarantoolctl connect</code> dan melakukan semua tindakan yang diperlukan dengan modul Lua <code>cartridge</code> . </li></ul><br>  Tugas utama penemuan kami adalah melakukan bagian tersulit dari pekerjaan ini untuk Anda. <br><br>  Ansible memungkinkan Anda untuk menulis modul Anda sendiri dan menggunakannya dalam peran Anda.  Peran kami menggunakan modul ini untuk mengelola berbagai komponen kluster. <br><br>  Bagaimana cara kerjanya?  Anda menggambarkan keadaan yang diinginkan dari cluster dalam konfigurasi deklaratif, dan peran memberikan masing-masing modul bagian konfigurasi sendiri sebagai input.  Modul menerima status cluster saat ini dan membandingkannya dengan input.  Kemudian kode untuk negara cluster yang diperlukan diluncurkan menggunakan soket dari salah satu instance. <br><br><h1>  Hasil </h1><br>  Hari ini kami telah menunjukkan kepada Anda cara menggunakan aplikasi Tarantool Cartridge Anda dan mengonfigurasi topologi sederhana.  Untuk melakukan ini, kami menggunakan Ansible, alat yang ampuh yang mudah digunakan dan memungkinkan Anda untuk mengonfigurasi beberapa node infrastruktur secara bersamaan (dalam kasus kami, instance cluster). <br><br>  Di atas kami membahas salah satu dari banyak cara untuk menggambarkan konfigurasi cluster dengan menggunakan Ansible.  Setelah Anda merasa siap untuk lebih banyak, pelajari <a href="https://docs.ansible.com/ansible/latest/user_guide/playbooks_best_practices.html">praktik terbaik</a> untuk menulis buku pedoman.  Anda mungkin lebih mudah mengelola topologi dengan <code>group_vars</code> dan <code>host_vars</code> . <br><br>  Segera, kami akan memberi tahu Anda cara menghapus (mengeluarkan) instance dari topologi secara permanen, bootstrap vshard, mengelola failover otomatis, mengkonfigurasi otorisasi, dan konfigurasi patch cluster.  Sementara itu, Anda dapat meninjau sendiri <a href="https://github.com/tarantool/ansible-cartridge">dokumentasi</a> dan mencoba mengubah pengaturan cluster. <br><br>  Jika terjadi kesalahan, pastikan untuk <a href="https://github.com/tarantool/ansible-cartridge/issues/new">memberi tahu kami</a> tentang masalahnya.  Kami akan melakukan yang terbaik untuk menyelesaikan masalah apa pun! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id480468/">https://habr.com/ru/post/id480468/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id480452/index.html">Pertemuan # 9 OWASP Moscow: Catatan Kinerja</a></li>
<li><a href="../id480454/index.html">Hack The Box - Smasher2 Walkthrough Labu, WAF, dan LPE melalui driver pwn</a></li>
<li><a href="../id480460/index.html">Solusi mendasar dari sistem persamaan linear. Tampak samping</a></li>
<li><a href="../id480462/index.html">Bagaimana saya memperdebatkan daftar tertaut ganda untuk O (1)</a></li>
<li><a href="../id480466/index.html">Spesifikasi dialyzer: jalan Jedi</a></li>
<li><a href="../id480470/index.html">Tempat bekerja sebagai pengembang junior</a></li>
<li><a href="../id480472/index.html">[Animasi] Technobrands menguasai dunia</a></li>
<li><a href="../id480480/index.html">Bagaimana komputer kuantum bekerja. Menyatukan puzzle</a></li>
<li><a href="../id480482/index.html">Cara membangun komputer untuk ML</a></li>
<li><a href="../id480484/index.html">BeerPHP: ada apa, mengapa pergi dan bagaimana menjalankan di kota Anda</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>