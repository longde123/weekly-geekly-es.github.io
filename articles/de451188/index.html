<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üõéÔ∏è üöì üò¨ Sberbank oder hin und zur√ºck üï≥Ô∏è üêà ‚ú®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="KAPITEL 1. Unerwartete G√§ste 
 Alles begann an diesem ungl√ºcklichen Morgen, als der Projektmanager ank√ºndigte, dass die Fristen f√ºr die Projektumsetzu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sberbank oder hin und zur√ºck</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/451188/"><img src="https://habrastorage.org/webt/si/bq/2u/sibq2unjy0i1yoy_7sa0qljphae.jpeg"><br><br><h2>  KAPITEL 1. Unerwartete G√§ste </h2><br>  Alles begann an diesem ungl√ºcklichen Morgen, als der Projektmanager ank√ºndigte, dass die Fristen f√ºr die Projektumsetzung schnell und entscheidend um einen Monat verk√ºrzt werden sollten.  Genauer gesagt sollte das Projekt in 4 Tagen fertig sein.  Nein, unser PO ist kein Biest und sieht √ºberhaupt nicht aus wie eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Eule</a> (vielleicht nur ein bisschen wie eine Kr√§he), es ist einfach passiert.  Nun, wenn es notwendig ist, ist es notwendig, zumal dem Team (und ich bin der f√ºhrende Entwickler des "C" -Teams) etwas Leckeres versprochen wurde.  Die Uhr und der Kalender waren Donnerstag, 11:00 Uhr, bis Montag sollte das Projekt fertig sein. <br><br>  Was machen wir √ºberhaupt?  Wir besch√§ftigen uns mit der Automatisierung von Kinos - automatische und Fernsteuerung von Ger√§ten, Automatisierung von Filmvorf√ºhrungen, √úberwachung, Videotafeln und jetzt auch Terminals f√ºr den Verkauf von Tickets und Bars.  Insbesondere ist der letzte Absatz diesem Artikel gewidmet. <br><a name="habracut"></a><br>  Das Projekt selbst, das vor Montag abgeschlossen werden musste, ist eine Art Schicht zwischen dem Hauptserver von Scala und dem Eisenzahlungsterminal VeriFone VX 820 (tats√§chlich gibt es mehr Terminals, aber nehmen Sie es nur als Beispiel).  Es ist klar, dass uns niemand einfach so Transaktionen geben wird, daher werden die Dienstprogramme und Bibliotheken von Sberbank / Arcus und UCS verwendet.  Daher sollte das Arbeitsschema wie folgt aussehen: <br><br><img src="https://habrastorage.org/webt/ak/k4/do/akk4do9scie61w_tobeuwpk6liu.png"><br><br>  √Ñu√üerlich sieht es so aus: <br><br><img src="https://habrastorage.org/webt/oh/ul/ts/ohultstzocyw8za06mbxqwmnrma.jpeg"><br><br>  Dieses Subsystem sollte auch f√ºr Standardkassen verwendet werden, die jeder in einem Kino an der Kasse gesehen hat. <br><br>  Nach der internen Tradition nennen wir jedes Projekt unseres Teams einen Namen aus der altnordischen Mythologie. F√ºr dieses Subsystem wurde der Name Gefjon gew√§hlt - der Name der G√∂ttin der Fruchtbarkeit und Fruchtbarkeit (ein guter Name f√ºr einen Zahlungsserver, nicht wahr? Nun, die Legende √ºber die Bullen, die die Insel abschneiden, passt ideal zur aktuellen Architektur. Unterbrechen der Arbeit mit Ger√§ten aus einer Hochsprache). <br><br>  Das Format f√ºr eingehende und ausgehende Nachrichten ist ein HTTP-Server mit einer JSON-Last.  Dies ist der optimale Kompromiss zwischen Scala, bei dem es schwierig ist, Bin√§rdaten von Socket-Streams zu isolieren, und C, bei dem es schwierig ist, Objekte √ºber das Netzwerk zu √ºbertragen.  Es gibt nicht viele m√∂gliche Vorg√§nge, die ausgef√ºhrt werden m√ºssen: Zahlung, Stornierung, R√ºckgabe, verschiedene Arten von Berichten, √ñffnen des Servicemen√ºs und Ping.  Es sieht nicht kompliziert aus.  Da es drei Bankensysteme gibt (und eine sp√§tere Wiederauff√ºllung der Familie erwartet wird), wurde beschlossen, das Projekt in Komponenten aufzuteilen: <br><br><img src="https://habrastorage.org/webt/rk/vm/sc/rkvmscw9ret9atfnts-nezxtaqg.png"><br><br>  Die gr√ºnen Bl√∂cke sind diejenigen, die wir machen mussten, die blauen sind diejenigen, die nicht ge√§ndert werden k√∂nnen und die die Bank bereitstellt. <br><br>  Da die Hauptprobleme nur bei Software von Sberbank auftraten, wird der gesamte Artikel Fallstricken gewidmet sein, die wir mit unserem Boot gez√§hlt haben. <br><br><h2>  KAPITEL 2. Lammbraten </h2><br><img src="https://habrastorage.org/webt/zr/-d/ez/zr-dez83p56hekuceyiiqka2rdi.jpeg"><br>  (Foto: heaclub.ru) <br><br>  ... sieht ungef√§hr so ‚Äã‚Äãaus.  Der Code dieses Prototyps, der vor einigen Monaten geschrieben wurde, um allen √ºbergeordneten Personen klar zu machen, dass wir mit Bankanwendungen arbeiten k√∂nnen, sah ungef√§hr gleich aus. <br><br><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">char</span></span> buf[BUF_KB * <span class="hljs-number"><span class="hljs-number">2</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> * null; <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> * grep; <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifdef</span></span></span><span class="hljs-meta"> _WIN32_WINNT char * ptr; null = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"nul"</span></span></span><span class="hljs-meta">; grep = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"findstr"</span></span></span><span class="hljs-meta">; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">else</span></span></span><span class="hljs-meta"> null = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"/dev/null"</span></span></span><span class="hljs-meta">; grep = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"grep"</span></span></span><span class="hljs-meta">; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> sprintf(buf, </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"%s %"</span></span></span><span class="hljs-meta">PRIi32</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"= %sops.ini &gt;%s 2&gt;%s || "</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"echo %"</span></span></span><span class="hljs-meta">PRIi32</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"=9,6,PINPAD_TEST &gt;&gt; %sops.ini"</span></span></span><span class="hljs-meta">, grep, TERM_ARCUS_TEST_PINPAD, TERM_PATH, null, null, TERM_ARCUS_TEST_PINPAD, TERM_PATH); #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifdef</span></span></span><span class="hljs-meta"> _WIN32_WINNT ptr = buf; while (*ptr) { </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (*ptr == </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'/'</span></span></span><span class="hljs-meta">) *ptr = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'\\'</span></span></span><span class="hljs-meta">; ptr++; } #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span></span></code> </pre> <br>  Es ist klar, dass dies nicht f√ºr die Produktionsversion geeignet war, daher war es im Wesentlichen notwendig, alles neu zu schreiben. <br><br>  Jede Bank, die Bibliotheken f√ºr die Arbeit mit dem Terminal bereitstellt, bietet normalerweise zwei Verbindungsoptionen: √ºber die Bibliotheksfunktionen (.so / .dll) oder √ºber ein vorgefertigtes Dienstprogramm, das nur zwei Werte √ºbergeben muss - die Art der Operation und den Betrag (falls erforderlich).  Theoretisch nichts Kompliziertes, nur etwas <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">char</span></span> buffer[<span class="hljs-number"><span class="hljs-number">100</span></span>]; <span class="hljs-built_in"><span class="hljs-built_in">sprintf</span></span>(buffer, <span class="hljs-string"><span class="hljs-string">"%d %d"</span></span>, atoi(argv[<span class="hljs-number"><span class="hljs-number">1</span></span>]), atoi(argv[<span class="hljs-number"><span class="hljs-number">2</span></span>])); system(buffer);</code> </pre> <br>  Das Ergebnis der Operation wird in die Datei "e" und die Belegpr√ºfung in die Datei "p" gestellt.  Senden Sie diese Dateien einfach mit der Konvertierung in JSON an stdout, damit der HTTP-Server sie nur als Nutzdaten sendet, ohne dar√ºber nachzudenken, was dort vorhanden ist. <br><br>  Aber dieser Artikel w√§re nicht ver√∂ffentlicht worden, wenn alles so einfach gewesen w√§re. <br><br><h2>  KAPITEL 4. √úber den Berg und unter den Berg </h2><br>  Die urspr√ºngliche Version der Implementierung war ein einfacher Anwendungsaufruf - der HTTP-Server rief den erforderlichen Wrapper mit einheitlichen Parametern auf (z. B. der X-Report ist 4), und das Dienstprogramm, zum Beispiel gfj_pilot, startete sb_pilot mit dem Parameter, der f√ºr diesen Vorgang erforderlich war (zum Beispiel ist der X-Report 9). .  Anschlie√üend las das Wrapper-Dienstprogramm das Ergebnis der Operation aus der E-Datei (z. B. 2000 - "Zahlung abgelehnt, Vorgang wiederholen") und wandelte es in einen universellen Fehler um (z. B. 3 - "Fehler beim Lesen oder Verarbeiten der Karte / des Kontos, Wiederholen des Vorgangs").  Danach wurde die "p" -Datei in base64 konvertiert, um eine Unterbrechung der Formatierung zu vermeiden, und zusammen mit dem Ergebnis als JSON an stdout gesendet. <br><br>  All dies funktionierte perfekt, bis wir in einem sch√∂nen Moment dar√ºber informiert wurden, dass ... <br><br>  ... das funktioniert unter Windows nicht. <br><br><img src="https://habrastorage.org/webt/yp/44/t_/yp44t_qwokissyt75mayl71mcdm.jpeg"><br><br>  Genauer gesagt hat Windows selbst keine Probleme (au√üer dass der Beleg in Cp-1251-Codierung generiert wird und die Konsole in CP866 funktioniert).  Die "e" -Datei wurde einfach nicht generiert.  Ein Bankdienstprogramm direkt gestartet: <br><br><pre> <code class="plaintext hljs">C:\banks\sber\sb_pilot&gt;dir    C   .   : B401-6B9D   C:\banks\sber\sb_pilot 04.02.2019 12:28 &lt;DIR&gt; . 04.02.2019 12:28 &lt;DIR&gt; .. 31.01.2019 17:12 10 832 F12X24.BIN 31.01.2019 17:12 128 000 gate.dll 31.01.2019 17:12 72 192 loadparm.exe 31.01.2019 17:12 36 204 OPT0.R 31.01.2019 17:12 20 716 OPT1.R 31.01.2019 17:12 1 806 OPT3.R 31.01.2019 17:12 388 608 pilot_nt.dll 31.01.2019 23:06 463 pinpad.ini 31.01.2019 17:12 91 136 posScheduler.exe 31.01.2019 17:12 418 printers.ini 01.02.2019 16:51 91 646 sbkernel1902.log 31.01.2019 17:12 653 312 sbrf.dll 31.01.2019 17:12 840 192 SBRFCOM.dll 31.01.2019 17:12 3 142 656 sb_kernel.dll 01.02.2019 16:51 9 SESS.D 01.02.2019 16:51 715 SPLC.D 31.01.2019 17:12 72 192 upwin.exe 20  5 659 718  2  37 567 004 672   #    (1)  10  (1000 ) C:\banks\sber\sb_pilot&gt;loadparm.exe 1 1000 C:\banks\sber\sb_pilot&gt;dir    C   .   : B401-6B9D   C:\banks\sber\sb_pilot 04.02.2019 12:28 &lt;DIR&gt; . 04.02.2019 12:28 &lt;DIR&gt; .. 04.02.2019 12:28 216 commerr.log 31.01.2019 17:12 10 832 F12X24.BIN 31.01.2019 17:12 128 000 gate.dll 31.01.2019 17:12 72 192 loadparm.exe 31.01.2019 17:12 36 204 OPT0.R 31.01.2019 17:12 20 716 OPT1.R 31.01.2019 17:12 1 806 OPT3.R 01.02.2019 18:51 1 349 p 31.01.2019 17:12 388 608 pilot_nt.dll 31.01.2019 23:06 463 pinpad.ini 31.01.2019 17:12 91 136 posScheduler.exe 31.01.2019 17:12 418 printers.ini 04.02.2019 12:28 92 218 sbkernel1902.log 31.01.2019 17:12 653 312 sbrf.dll 31.01.2019 17:12 840 192 SBRFCOM.dll 31.01.2019 17:12 3 142 656 sb_kernel.dll 01.02.2019 16:51 9 SESS.D 01.02.2019 16:51 715 SPLC.D 31.01.2019 17:12 72 192 upwin.exe 19  5 659 029  2  37 567 008 768   C:\banks\sber\sb_pilot&gt;</code> </pre> <br>  In der Tat gibt es keine "e" -Datei.  Stein in Richtung Sberbank # 1.  Wir schreiben einen Brief an die Sberbank (wir haben sp√§ter eine Antwort erhalten, dass dies so sein sollte), und da keine Zeit f√ºr Korrespondenz vorhanden ist und wir sofort beginnen m√ºssen, suchen wir nach Problemumgehungen, um das Ergebnis zu erhalten. <br><br><pre> <code class="plaintext hljs">04.02 12:28:55 SBKRNL: Failed to open device \\.\COM1, err 2 04.02 12:28:56 SBKRNL: Failed to open device \\.\COM1, err 2 04.02 12:28:56 SBKRNL: Result = 0 04.02 12:28:56 GATE: unlock:'00000054' 04.02 12:28:56 GATE: lock:'00000054' 'UPOSWINMUTEX2' 04.02 12:28:56 GATE: unlock:'00000054' 04.02 12:28:56 LOADPARM: Unloading GATE.DLL... 04.02 12:28:56 GATE: SB_KERNEL.DLL is unloaded 04.02 12:28:56 LOADPARM: GATE.DLL unloaded</code> </pre> <br>  Ja, das Ergebnis kann aus dem Protokoll sbkernel.log abgerufen werden.  Unbequem, au√üerdem gibt es keinen Karten-Hash, um anschlie√üend "Danke" von Sberbank zu schrauben.  Nicht gut. <br><br>  Sie m√ºssen eine Verbindung zur Bibliothek pilot_nt.dll herstellen und Funktionen daraus importieren.  Alles w√§re in Ordnung, aber ... Ein Stein in Richtung Sberbank Nr. 2: Unter Linux gibt es keine solche Bibliothek. Sie m√ºssen zwei verschiedene Anwendungen f√ºr verschiedene Plattformen erstellen. Rufen Sie f√ºr Linux das Dienstprogramm sb_pilot auf (√§hnlich wie loadparm.exe, √ºbrigens Stein Nr. 3 f√ºr einen anderen Dienstprogrammnamen unter verschiedenen Plattformen ), unter Windows mit der Bibliothek pilot_nt.dll verbinden. <br><br><h2>  KAPITEL 5. R√§tsel im Dunkeln </h2><br>  Um 19:00 Uhr. <br><br>  Die Sberbank ist ein gro√ües Unternehmen. Die meisten Softwarel√∂sungen werden gem√§√ü GOSTs und formalen Dokumenten hergestellt.  Wir kommen in den Katalog, den die Sberbank mit den Bibliotheken liefert: <br><br><pre> <code class="plaintext hljs">Sberbank$ ls -l Docs  30160 drwx------ 2 alex alex 4096  17 19:31 FAQ -rw-rw-r-- 1 alex alex 3398465  9 2018   UPOS    ().docx -rw-rw-r-- 1 alex alex 1182078  9 2018   UPOS  .docx -rw-rw-r-- 1 alex alex 853504  9 2018   .doc drwx------ 3 alex alex 4096  31 17:11     -rw-rw-r-- 1 alex alex 5280787  9 2018    POS-.docx -rw-rw-r-- 1 alex alex 1149640  9 2018  .docx drwx------ 2 alex alex 4096  28 2018  UPOS drwx------ 2 alex alex 4096  28 2018    -rw-rw-r-- 1 alex alex 3451601  9 2018     ().docx -rw-rw-r-- 1 alex alex 1956196  9 2018   .docx -rw-rw-r-- 1 alex alex 1043161  9 2018       ()_().docx -rw-rw-r-- 1 alex alex 4348157  9 2018  POS-.docx -rw-rw-r-- 1 alex alex 3970267  9 2018   .docx drwx------ 3 alex alex 4096  28 2018   -rw-rw-r-- 1 alex alex 2644702  9 2018    POS-.docx drwx------ 2 alex alex 4096  28 2018   -rw-rw-r-- 1 alex alex 1558211  9 2018   .png</code> </pre> <br>  Viel Gutes, aber wir interessieren uns nur f√ºr das Verzeichnis f√ºr Entwickler: <br><br><pre> <code class="plaintext hljs">Sberbank$ ls -l Docs/\ \ \ /  8704 -rw-rw-r-- 1 alex alex 47105  9 2018 1C.docx -rw-rw-r-- 1 alex alex 1824  9 2018 cardtype.h -rw-rw-r-- 1 alex alex 2590378  9 2018 cr_ttk_protocol_ru.rtf -rw-rw-r-- 1 alex alex 208  9 2018 deprtmnt.h -rw-rw-r-- 1 alex alex 16681  9 2018 errors.h drwx------ 6 alex alex 4096  28 2018 examples -rw-rw-r-- 1 alex alex 58575  9 2018 gate.h -rw-rw-r-- 1 alex alex 4218  9 2018 paramsln.h -rw-rw-r-- 1 alex alex 61693  9 2018 pilot_nt.h -rw-rw-r-- 1 alex alex 28160  9 2018 ReadTrack2.doc -rw-rw-r-- 1 alex alex 7417  9 2018 sbkernel.h -rw-rw-r-- 1 alex alex 144896  9 2018 sb_pilot.doc -rw-rw-r-- 1 alex alex 3525323  9 2018     ole- sbrf.dll.rtf -rw-rw-r-- 1 alex alex 46683  9 2018      gate.dll.chi -rw-rw-r-- 1 alex alex 255414  9 2018      gate.dll.chm -rw-rw-r-- 1 alex alex 814653  9 2018      gate.dll.pdf -rw-rw-r-- 1 alex alex 41618  9 2018      pilot_nt.chi -rw-rw-r-- 1 alex alex 241716  9 2018      pilot_nt.chm -rw-rw-r-- 1 alex alex 968753  9 2018      pilot_nt.pdf -rw-rw-r-- 1 alex alex 81  9 2018  .txt</code> </pre> <br>  Viel Altpapier, nur f√ºr den Fall, lesen Sie pilot_nt erneut, aus dem wir Folgendes lernen: <br><blockquote>  Tabelle 1. Unterst√ºtztes Betriebssystem sb_pilot. <br><div class="scrollable-table"><table><tbody><tr><th>  Betriebssystem </th><th>  Kapazit√§t </th><th>  Modulname </th></tr><tr><td>  Windows </td><td>  32 </td><td>  sb_pilot.exe </td></tr><tr><td>  Linux </td><td>  32 </td><td>  sb_pilot </td></tr><tr><td>  Dos </td><td>  16 </td><td>  sb_pilot.exe </td></tr></tbody></table></div></blockquote><br>  Es stellt sich heraus, dass das Dienstprogramm f√ºr Windows weiterhin sb_pilot hei√üen sollte.  Nun, ein Stein in Richtung Sberbank Nr. 4 f√ºr die Inkonsistenz der eigenen Dokumentation. <br><blockquote>  √úbertragung der Programmergebnisse. <br><br>  Am Ende des Programms werden zwei Textdateien gebildet - die Austauschdatei und die Pr√ºfdatei. <br><br>  Die erste hei√üt e und soll Parameter der perfekten Operation an das aufrufende Programm √ºbergeben.  Die erste Zeile in dieser Datei enth√§lt den Code des Ergebnisses der Operation und einen durch Kommas getrennten Text, der die Textnachricht erl√§utert.  Code 0 bedeutet erfolgreiche Zahlung, jeder andere Wert - Verweigerung oder Zahlungsunf√§higkeit. </blockquote><br><br><img src="https://habrastorage.org/webt/c8/7f/m2/c87fm26nwcdjtfol6m0vamuvk8e.jpeg"><br><br>  Faul werfen wir noch einen Stein und beginnen, die Dokumentation f√ºr den direkten Anschluss der Bibliothek zu studieren. <br><blockquote>  <b>Die Prozedur zum Aufrufen von Bibliotheksfunktionen</b> <br><br>  Wenn Sie Eink√§ufe mit Kreditkarte bezahlen (zur√ºckgeben), muss das Bargeldprogramm die Funktion card_authorize () aus der Sberbank-Bibliothek aufrufen, indem Sie die Felder TType und Amount ausf√ºllen und in den verbleibenden Feldern Nullwerte angeben.  Am Ende der Funktion m√ºssen Sie das RCode-Feld analysieren.  Wenn es den Wert "0" oder "00" enth√§lt, gilt die Autorisierung als erfolgreich abgeschlossen, andernfalls wird sie abgelehnt.  Au√üerdem m√ºssen Sie den Wert des Felds Pr√ºfen √ºberpr√ºfen. <br><br>  Wenn es nicht NULL ist, muss es zum Drucken gesendet werden (im nicht steuerlichen Modus) und dann <br>  L√∂schen Sie durch Aufrufen der Funktion GlobalFree ().  Beim Schlie√üen einer Schicht muss das Cash-Programm die Funktion close_day () aus der Sberbank-Bibliothek aufrufen, indem es das Feld TType = 7 ausf√ºllt und in den verbleibenden Feldern Nullwerte angibt.  √úberpr√ºfen Sie am Ende der Funktion den Wert des Felds Pr√ºfen. <br><br>  Wenn das Feld Pr√ºfen nicht NULL ist, muss es zum Drucken gesendet werden (im nicht steuerlichen Modus) und dann durch Aufrufen der Funktion GlobaFree () gel√∂scht werden. </blockquote>  Es klingt einfach, sogar eine Header-Datei wird bereitgestellt.  Nun, stecken Sie es ein, kompilieren Sie und ... <br><br><pre> <code class="cpp hljs">$ cat main.c &amp;&amp; i686-w64-mingw32-gcc main.c -o main.a <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"pilot_nt.h"</span></span></span><span class="hljs-meta"> int main(void) { return 0; } In file included from main.c:1:0: pilot_nt.h:525:3: </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">error</span></span></span><span class="hljs-meta">: unknown type name </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'auth_answer'</span></span></span><span class="hljs-meta"> auth_answer ans; </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/**&lt; [in, out]                            .   . ::auth_answer */</span></span></span><span class="hljs-meta"> ^ pilot_nt.h:544:3: </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">error</span></span></span><span class="hljs-meta">: unknown type name </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'auth_answer'</span></span></span><span class="hljs-meta"> auth_answer ans; </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/**&lt; [in, out]                            .   . ::auth_answer */</span></span></span><span class="hljs-meta"> ^ pilot_nt.h:567:3: </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">error</span></span></span><span class="hljs-meta">: unknown type name </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'auth_answer'</span></span></span><span class="hljs-meta"> auth_answer ans; </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/**&lt; [in, out]                            .   . ::auth_answer */</span></span></span><span class="hljs-meta"> ^ pilot_nt.h:590:3: </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">error</span></span></span><span class="hljs-meta">: unknown type name </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'auth_answer'</span></span></span><span class="hljs-meta"> auth_answer ans; </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/**&lt; [in, out]                            .   . ::auth_answer */</span></span></span><span class="hljs-meta"> ^ pilot_nt.h:627:3: </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">error</span></span></span><span class="hljs-meta">: unknown type name </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'auth_answer'</span></span></span><span class="hljs-meta"> auth_answer ans; </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/**&lt; [in, out]                            .   . ::auth_answer */</span></span></span><span class="hljs-meta"> ^ pilot_nt.h:668:3: </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">error</span></span></span><span class="hljs-meta">: unknown type name </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'auth_answer'</span></span></span><span class="hljs-meta"> auth_answer ans; </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/**&lt; [in, out]                            .   . ::auth_answer */</span></span></span></span></code> </pre> <br>  √Ñhm ... was?  √ñffnen Sie pilot_nt.h: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifdef</span></span></span><span class="hljs-meta"> __cplusplus extern </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"C"</span></span></span><span class="hljs-meta">{ #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;...&gt; /** *    * ,         . */ struct auth_answer{ int TType; /**&lt; [in]  .  ::OpetationTypes */ unsigned long Amount; /**&lt; [in]    */ char RCode[3]; /**&lt; [out]    */ char AMessage[16]; /**&lt; [out]    */ int CType; /**&lt; [in,out]   */ char* Check; /**&lt; [out]  ,   GlobalFree    */ }; &lt;...&gt; struct auth_answer7{ auth_answer auth_answ; /**&lt; [in, out]   . . ::auth_answer */ &lt;---- THIS char AuthCode[MAX_AUTHCODE]; /**&lt; [out]  . 7 . */ char CardID [CARD_ID_LEN]; /**&lt; [out]  . 25 . */ int SberOwnCard; /**&lt; [out]     */ };</span></span></span></span></code> </pre> <br>  Sofort, ohne auf den Stein zu schauen, um Kommentare in russischer Sprache in CP1251-Codierung zu erhalten. <br><br>  Nun, der ernsteste Stein: liebe C ++ - Entwickler.  Wenn Sie extern "C" schreiben, bedeutet dies, dass der Code innerhalb des Blocks vom C-Compiler kompiliert werden muss.  Wenn Sie aus einer Struktur KEIN typedef gemacht haben, m√ºssen Sie jedes Mal, wenn Sie es als Typreferenz erw√§hnen, das Schl√ºsselwort` struct` schreiben. <br><br>  Patchen Sie die Datei f√ºr Entwickler und ersetzen Sie das Wort "struct", wo immer dies erforderlich ist.  Verkn√ºpfung mit der Bibliothek `pilot_nt.dll`.  Sieg, nein?  Wir starten unsere Anwendung. <br><br><h2>  KAPITEL 6. Vom Feuer zu den Flammen </h2><br>  Nun, du verstehst es, richtig?  Die Anwendung st√ºrzt einfach ab.  Bis zum Main.  Meditieren Sie, f√ºgen Sie das NIH-Analogon der Errno-Funktion f√ºr Windows hinzu: GetLastError (Stein Nr. 3 in Richtung Microsoft, die ersten beiden sind f√ºr Codierungen). <br><br><pre> <code class="plaintext hljs">C:\banks\sber\WIN&gt;sb_pilot.exe 1 1000 E: !g_sblibrary (0xc0000096)</code> </pre> <br>  0xc0000096?  Sollte GetLastError nicht einen angemessenen Fehlercode zur√ºckgeben? <br><blockquote>  Eine vollst√§ndige Liste der vom Betriebssystem bereitgestellten Fehlercodes finden Sie unter Systemfehlercodes. </blockquote>  Ja, √∂ffnen Sie den Artikel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> : <br><blockquote>  Die folgenden Themen enthalten Listen mit Systemfehlercodes.  Diese Werte werden in der Header-Datei WinError.h definiert. <br><br><ul><li>  Systemfehlercodes (0-499) (0x0-0x1f3) </li><li>  Systemfehlercodes (500-999) (0x1f4-0x3e7) </li><li>  Systemfehlercodes (1000-1299) (0x3e8-0x513) </li><li>  Systemfehlercodes (1300-1699) (0x514-0x6a3) </li><li>  Systemfehlercodes (1700-3999) (0x6a4-0xf9f) </li><li>  Systemfehlercodes (4000-5999) (0xfa0-0x176f) </li><li>  Systemfehlercodes (6000-8199) (0x1770-0x2007) </li><li>  Systemfehlercodes (8200-8999) (0x2008-0x2327) </li><li>  Systemfehlercodes (9000-11999) (0x2328-0x2edf) </li><li>  Systemfehlercodes (12000-15999) (0x2ee0-0x3e7f) </li></ul></blockquote>  Ok, wir haben einen undokumentierten Fehler, wir werfen einen Stein und √∂ffnen das allwissende Google: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">forum.vingrad.ru/forum/topic-346194/kw-dll-loadlibrary-%D0%BE%D1%82%D0%BB%D0%B0%D0%B4%D0%BA%D0%B0.html</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">bbs.csdn.net/topics/80078275</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">forums.codeguru.com/showthread.php?179566-0xC0000096-Privileged-Instruction</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">www.unknowncheats.me/forum/general-programming-and-reversing/97763-privileged-instruction-error.html</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">cboard.cprogramming.com/windows-programming/146130-prallel-port-programming.html</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">computer-programming-forum.com/82-mfc/dc2481c0ecead2f2.htm</a> </li></ul><br>  Das Wesentliche des Fehlers ist, dass eine Unterroutine eine der Anweisungen verwendet <br><br><ul><li>  _inp () </li><li>  _inpw () </li><li>  _inpd () </li><li>  _outp () </li><li>  _outpw () </li><li>  _outpd () </li></ul><br>  Die Verwendung ist unter NT-Kernen verboten, da diese versuchen, direkt mit dem parallelen Port zu arbeiten.  Anscheinend wird dieser Code im Bibliotheksinitialisierer aufgerufen, d.h.  Die Bibliothek m√∂chte beim Start die Ports nach Ger√§ten abfragen, der NT-Kernel erfordert jedoch Arbeit √ºber den Treiber. <br><br>  Hoffnungslose Situation? <br><br><h2>  KAPITEL 8. Spinnen und Fliegen </h2><br>  22 Uhr  Nur f√ºr den Fall, die Idee entsteht zu √ºberpr√ºfen, dass dies nicht auf die Tatsache zur√ºckzuf√ºhren ist, dass wir Cross-Compiling mit Linux unter Verwendung von mingw verwenden.  Gleichzeitig wissen wir, dass Sberbank nur eine 32-Bit-Anwendung bereitstellt, sodass es mit einer 64-Bit-Anwendung nicht funktioniert. Okay, aber wir werden 2019 einen Stein in Richtung Sberbank f√ºr die Nur-32-Version herausbringen. <br><br>  <b>Gegeben</b> : installiert in Virtualbox Windows 7; <br>  <b>Erforderlich</b> : Installieren Sie Visual Studio und kopieren Sie MVP. <br><br>  Wir gehen auf die Microsoft-Website und laden Visual Studio 2017 herunter. Wir nehmen die Community-Lizenz, da wir sie zur √úberpr√ºfung verwenden. F√ºr Unternehmen wird die Lizenz gekauft, wenn sie abhebt. <br>  Laden Sie ein paar hundert Megabyte herunter und ... <br><br>  Wir sehen, dass unsere Version des Betriebssystems (Windows 7) nicht unterst√ºtzt wird. <br><br>  Ok, wir gehen zu allen Arten von obsz√∂nen Sites, suchen Visual Studio 2008, laden wieder ein paar hundert Megabyte herunter und ... <br><br>  Wir bekommen die ISO-Datei. <br><br>  Okay, versuchen wir, Daemon Tools 10 zu installieren (da dies die von der Site angebotene Version ist), um diese virtuelle Festplatte einzulegen. <br><br>  F√ºhren Sie das heruntergeladene Binar aus.  Fehlz√ºndung, erfordert .NET Framework 4.5, herunterladen, installieren. <br>  Wir starten das heruntergeladene Binar, die Installation hat begonnen, der Bootloader sagt, dass es 4.5.2 ben√∂tigt, herunterladen, installieren. <br>  Wir starten das heruntergeladene Binar, die Installation hat begonnen, der Bootloader sagt, dass es nirgendwo hingehen wird, bis wir das Sicherheitsupdate KB3033929 installieren, herunterladen, installieren. <br><br>  Und wir bekommen einen Schlag ins Gesicht von Microsoft als Nachricht: <br><br><img src="https://habrastorage.org/webt/r6/qe/de/r6qedenl5w3dez4ysscvod8rmjw.png"><br><br>  Wir werfen gewaltsam einen sehr scharfen Stein in Richtung Microsoft, laden die alten Daemon Tools von Torrents herunter, entpacken Visual Studio erfolgreich, installieren, kompilieren schlie√ülich (00:00) MVP, wir erhalten den gleichen Fehler.  Nun, es gab eine gute Version, aber sie ist nicht zusammengewachsen. <br><br><h2>  KAPITEL 11. Auf der Schwelle </h2><br>  Wir schreiben an den zweiten Programmierer, der in diesem Moment den Server und den Registrierungsvorgang dringend abschlie√üt.  Er erinnert sich, dass es ein Git- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Repository gibt</a> , das unter NT eine Verbindung zu dieser Bibliothek herstellt und damit arbeitet. <br><br>  Schauen Sie sich das Repository misstrauisch an, laden Sie es herunter, kompilieren Sie es und f√ºhren Sie es aus.  Es funktioniert. <br><br><img src="https://habrastorage.org/webt/mt/gl/q-/mtglq-c68eyegv74wjnzjvpmddi.png"><br><br>  Wir sehen den Code noch misstrauischer an.  Der Code ist identisch, au√üer dass er in C ++ und nicht in C geschrieben ist. <br>  Wir verstehen, dass Sprache nichts damit zu tun hat.  Wir schauen uns die Bibliotheken der Sberbank an, die der Code zieht. <br>  Wir sehen das letzte Commit. <br><br>  Und hier warten wir auf eine weitere √úberraschung. <br><br>  Es stellt sich heraus, dass die Versionen der Sberbank-Bibliothek unterschiedlich sein k√∂nnen.  Das letzte Commit erh√∂ht die Version von 23 auf 27.  Kopieren Sie die Version von der Gita auf Ihren Testcomputer - WORKS! <br><br>  Wir √ºberpr√ºfen alle von Sberbank gesendeten Archive, vergleichen die Versionen und bauen ein Tablet: <br><div class="scrollable-table"><table><tbody><tr><th>  Version </th><th>  Funktioniert </th></tr><tr><td>  26.0.15 - Grundlegend </td><td>  Nein </td></tr><tr><td>  27.4.12 - Aus dem Repository </td><td>  ja </td></tr><tr><td>  23.0.13 - Aus dem Repository </td><td>  ja </td></tr><tr><td>  29.0.9 - Sp√§testens ab Sa. </td><td>  ja </td></tr><tr><td>  23.0.13 - Mit einem Patch f√ºr das Cryptor-System </td><td>  ja </td></tr></tbody></table></div><br>  Gro√üartig, jetzt lass uns heilen.  Auf den Systemen, auf denen es 26 kostet, aktualisieren Sie auf 29 oder 27 und alles wird abheben. <br>  Wir werfen Stein Nr. 9 in Richtung Sberbank, um das Verhalten auf NT-Systemen zu brechen. <br><br><h2>  KAPITEL 12. Was sie drinnen erwartete </h2><br>  Nicht genug E-Datei?  Es spielt keine Rolle, wir nehmen gepatchte √úberschriften, verkn√ºpfen sie dynamisch mit der Bibliothek, um einen Fehler korrekt zur√ºckzugeben, schreiben einen Code, der einfach den R√ºckkehrcode von der Funktion in die "e" -Datei schreibt, rufen wir den biner sb_pilot.exe auf und ... <br><br>  Um zu arbeiten, funktioniert es. <br><br>  Das ist nur die Version f√ºr das "Cryptor" -System erstellt keine "p" -Datei. <br><br>  <i>Wir schauen traurig auf das Blut, das √ºber die Kn√∂chel tropft, und auf die Delle in der Wand.</i> <br><br>  Was ist f√ºr den Anfang das Cryptor-System? <br><br>  Cryptera ist ein d√§nisches Unternehmen, das Verschl√ºsselungsger√§te / Sicherheitsger√§te / Schl√ºssel usw. herstellt. Ich denke, Sie alle haben eine der Kopien ihrer Produkte gesehen: <br><br><img src="https://habrastorage.org/webt/pb/dz/85/pbdz85atzxiscdkdkq0z97ahhsm.png"><br><br>  Daher verwendet Sberbank ihr Kryptomodul f√ºr Pinpads und ver√∂ffentlicht eine spezielle "gepatchte" Bibliothek, in der, wie wir bereits verstanden haben, die "p" -Datei nicht erstellt wird.  Wir schreiben dar√ºber an Sberbank und werden in wenigen Tagen die Antwort erhalten, dass "unter dem urspr√ºnglichen System die Datei" p "erstellt wird, unter dem auf Cryptor gepatchten jedoch nicht."  Wir werden ihnen in ein paar Tagen Stein Nr. 10 geben, weil Sie jetzt arbeiten m√ºssen. <br><br>  Gl√ºcklicherweise oder ungl√ºcklicherweise geben die Funktionen, mit denen wir Operationen ausf√ºhren, die bereits erw√§hnte Struktur zur√ºck: <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">auth_answer</span></span></span><span class="hljs-class">{</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> TType; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [in]  .  ::OpetationTypes */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> Amount; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [in]    */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> RCode[<span class="hljs-number"><span class="hljs-number">3</span></span>]; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [out]    */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> AMessage[<span class="hljs-number"><span class="hljs-number">16</span></span>]; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [out]    */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> CType; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [in,out]   */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>* Check; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [out]  ,   GlobalFree    */</span></span> };</code> </pre> <br>  Oh, gut, der Scheck ist bereits da, wir k√∂nnen ihn selbst in einer Datei speichern oder sofort in JSON drucken ... <br><br><pre> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"%s\n"</span></span>, answer.Check);</code> </pre> <br>  Und die Anwendung st√ºrzt ab, weil auf einen ung√ºltigen Zeiger zugegriffen wird. <br><br><h2>  KAPITEL 14. Feuer und Wasser </h2><br>  4 Uhr morgens  Wir f√ºhren Seth Bandha Sarvangasana durch, um uns zu beruhigen, und lesen das Handbuch sorgf√§ltig durch: <br><blockquote>  Das [out] -Bild der Pr√ºfung sollte von GlobalFree im aufrufenden Programm freigegeben werden </blockquote>  Was gibt uns das?  Viel.  Erstens, da der Zeiger mit GlobalFree bereinigt werden muss, wurde er mit GlobalAlloc <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gespeichert</a> .  Daher wird kein Zeiger auf den Speicher ausgegeben, wie dies in der 16-Bit-Version der Fall war, sondern eine Objektnummer mit dem semantisch deklarierten Typ HGLOBAL, die in der GlobalSize-Funktion eingegeben werden kann, um die Gr√∂√üe des zugewiesenen Blocks zu ermitteln, und GlobalLock, um einen Speicherabschnitt zu blockieren, aber den urspr√ºnglichen Zeiger abzurufen.  √úbrigens Stein Nr. 6 in Richtung Microsoft f√ºr NIH malloc und kostenlos, die in der Standardbibliothek sind. <br><br><pre> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"%s\n"</span></span>, GlobalLock(answer.Check));</code> </pre> <br>  Und trotzdem einen Tropfen bekommen.  Okay, was zeigt GlobalSize?  Null?  Irgendwie seltsam. <br><br>  Wir √ºberpr√ºfen andere Funktionen, die ebenfalls einen Fehler ergeben sollten - wir sehen das gleiche Bild. <br><br>  Mir f√§llt nur ein, dass ich selbst einen Beleg gem√§√ü den Daten generiere, die die coolste Zahlungsfunktion liefern kann (ja, Sberbank hat Funktionen namens card_authorize2..14, ich werde keinen Stein daf√ºr werfen): <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">auth_answer14</span></span></span><span class="hljs-class"> {</span></span> auth_answer ans; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [in, out]   . . ::auth_answer */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> AuthCode[MAX_AUTHCODE]; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [out]  . 7 . */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> CardID[CARD_ID_LEN]; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [out]  . 25 .     ,   6   4,    '*'.*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ErrorCode; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [out]  . */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> TransDate[TRANSDATE_LEN]; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [out]     */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> TransNumber; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [out]    . , .    */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> SberOwnCard; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [out]     */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> Hash[CARD_HASH_LEN]; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [in, out]  SHA1   ,   ASCII     . 40 .*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> Track3[CARD_TRACK3_LEN]; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [out]   */</span></span> DWORD RequestID; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [in,out]   .  PCI DSS .*/</span></span> DWORD Department; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [in]     0  14-, .      0xFFFFFFFF,          .        ,      4191. */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> RRN[MAX_REFNUM]; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [in,out]   ,  .    ,     .   12-  .       (   pilot_nt.dll),     ‚Äì  (     ;     ,   ).*/</span></span> DWORD CurrencyCode; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [in]    (810, 643, 840, 978  ..) */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> CardEntryMode; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [out]    ('D'-., 'M'- , 'C'-, 'E'- EMV, 'R'- magstripe, 'F'-fallback)*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> CardName[MAX_CARD_NAME_LEN]; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [out]    */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> AID[MAX_AID_ASCII_LEN]; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [out] Application ID   (   ASCIIZ-)*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> FullErrorText[MAX_FULL_ERROR_TEXT]; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [out]     */</span></span> DWORD GoodsPrice; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [in]    ,  (34.99-&gt;3499)*/</span></span> DWORD GoodsVolume; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [in]  ,  .  (30.234-&gt;30234)*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> GoodsCode[MAX_GOODS_CODE+<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [in]     .*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> GoodsName[MAX_GOODS_NAME]; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [in]     . !   auth_answer14         gate.dll TGoodsData.     */</span></span> }; <span class="hljs-comment"><span class="hljs-comment">/** @brief     * @param[in] track2      .  NULL,     . * @param[in,out] auth_answer . ::auth_answer14 * @param[in,out] payinfo     * @return int  . */</span></span> <span class="hljs-function"><span class="hljs-function">PILOT_NT_API </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">card_authorize14</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *track2, struct auth_answer14 *auth_answer, struct payment_info_item *payinfo )</span></span></span></span>;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir versuchen, die Felder auszuw√§hlen ... Wir stellen fest, dass nur eines uns vom Gl√ºck trennte - Nachname und Name des Karteninhabers. </font><font style="vertical-align: inherit;">Ohne sie gilt ein Beleg nicht als </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">legal</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Details: Kennung eines Geldautomaten, eines elektronischen Terminals oder anderer technischer Mittel, die f√ºr Transaktionen mit Zahlungskarten bestimmt sind; </font><font style="vertical-align: inherit;">Art der Operation; </font><font style="vertical-align: inherit;">Datum der Transaktion; </font><font style="vertical-align: inherit;">Transaktionsbetrag; </font><font style="vertical-align: inherit;">Transaktionsw√§hrung; </font><font style="vertical-align: inherit;">Autorisierungscode f√ºr Provisionsbetrag; </font><font style="vertical-align: inherit;">Zahlungskartendetails.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es ist schade, aber mit den Daten, die wir haben, einen rechtlichen Beleg zu erstellen, wird nicht funktionieren. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lassen Sie uns noch einmal in die Dokumentation eintauchen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Beispiel, das die Sberbank liefert, finden wir im Verzeichnis ‚ÄûBeispiele‚Äú</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Authorization completion finished with code '"</span></span> &lt;&lt; result &lt;&lt; <span class="hljs-string"><span class="hljs-string">"'"</span></span> &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-function"><span class="hljs-function">ofstream </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">file</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(CHEQUE_FILENAME)</span></span></span></span>; file &lt;&lt; argument.auth_answ.Check; file.close(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (argument.auth_answ.Check) { <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Cheque saved to file "</span></span> &lt;&lt; CHEQUE_FILENAME &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; <span class="hljs-comment"><span class="hljs-comment">//GlobaFree(argument.auth_answ.Check); }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es zeigt einfach den Text auf dem Zeiger an. </font><font style="vertical-align: inherit;">Aber wir haben bereits gesehen, dass es so nicht funktioniert ... Nur f√ºr den Fall, wir werden ihr Beispiel kompilieren und es ausf√ºhren. </font><font style="vertical-align: inherit;">Abfahrt in der Zeile `file &lt;&lt; argument.auth_answ.Check;`, na ja, Sberbank, halten Sie Stein Nr. 11 f√ºr nicht funktionierende Beispiele. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7 Uhr morgens </font><font style="vertical-align: inherit;">Sie k√∂nnen bereits an die Entwickler eines anderen Wrappers schreiben, der vor einigen Jahren in Delphi geschrieben wurde. </font><font style="vertical-align: inherit;">Wir bekommen die Antwort, dass alles f√ºr sie funktioniert. </font><font style="vertical-align: inherit;">Wir suchen nach der Basis ihres Wrappers und finden auf </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br><pre> <code class="cpp hljs">TAuthAnswer = packed record TType: integer; Amount: UINT; <span class="hljs-comment"><span class="hljs-comment">// IN     Rcode: array [0 .. 2] of AnsiChar; AMessage: array [0 .. 15] of AnsiChar; CType: integer; Check: PAnsiChar; end; Result := Func(nil, @FAuthAnswer); FLastError := Result; FCheque := PAnsiChar(FAuthAnswer.Check);</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einfache Konvertierung von Typ zu Zeiger ohne Funktionsaufrufe. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir beginnen b√∂se Geister zu verd√§chtigen.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> KAPITEL 17. Gewitter brach aus </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Leute kehren ins B√ºro zur√ºck und nicken mitf√ºhlend. </font><font style="vertical-align: inherit;">PO freut sich nicht sehr √ºber die neuesten Nachrichten. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hier erinnere ich mich an ein Detail. </font><font style="vertical-align: inherit;">Als wir die Felder der Struktur Nr. 14 anzeigten, um ihre Werte anzuzeigen, wurde ein Byte jeder Zeile abgeschnitten. </font><font style="vertical-align: inherit;">Einerseits, andererseits</font></font><br><blockquote>  Achtung!<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In der auth_answer14-Struktur ist der Produktname ein Zeichen k√ºrzer als in gate.dll TGoodsData. </font><font style="vertical-align: inherit;">Beheben Sie diesen Fehler standardm√§√üig</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vielleicht h√§ngt es immer noch mit ... Eine </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">schreckliche Vermutung d√§mmert dem Gehirn wie ein Blitz. </font><font style="vertical-align: inherit;">Deklarieren Sie die Struktur als</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> __</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attribute__</span></span></span><span class="hljs-class">((</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">packed</span></span></span><span class="hljs-class">)) {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> TType; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [in]  .  ::OpetationTypes */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> Amount; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [in]    */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> RCode[<span class="hljs-number"><span class="hljs-number">3</span></span>]; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [out]    */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> AMessage[<span class="hljs-number"><span class="hljs-number">16</span></span>]; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [out]    */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> CType; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [in,out]   */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>* Check; <span class="hljs-comment"><span class="hljs-comment">/**&lt; [out]  ,   GlobalFree    */</span></span> };</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Und ... </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nichts √§ndert sich. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Standbildgr√∂√üe = 0, Standbildsperre = NULL. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schmerz </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verfall. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unwillk√ºrlich suchen Sie mit Ihren Augen nach einem bequemen Balken an der Decke, der dem Gewicht standh√§lt. Nach so vielen Stunden ohne Unterbrechung des Codierens und Studierens der Dokumentation schweben schlanke Byte-Reihen vor unseren Augen. Was aber, wenn wir Bytes drucken, die im Allgemeinen zur√ºckgegeben werden?</font></font><br><br><pre> <code class="cpp hljs"> u32 i; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(answ); i++) { <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"%02x "</span></span>, *((u8 *)&amp;answ + i)); } <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"\n"</span></span>); C:\banks\sber\sb_pilot&gt;sb_pilot.exe <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1000</span></span> <span class="hljs-number"><span class="hljs-number">01</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> e8 <span class="hljs-number"><span class="hljs-number">03</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> ce e4 ee e1 f0 e5 ed ee <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">02</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> f8 <span class="hljs-number"><span class="hljs-number">6</span></span>c <span class="hljs-number"><span class="hljs-number">7</span></span>a <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">`30 00 00 ce` - was bedeutet, dass die Sberbank weiterhin gepackte Strukturen verwendet. </font><font style="vertical-align: inherit;">Aber dazu gibt es in den √úberschriften kein Wort. </font><font style="vertical-align: inherit;">Daher funktionieren die Beispiele nicht, daher ist es unm√∂glich, am Ende einen Zeiger auf den Text zu erhalten, da dieser aufgrund einer Verschiebung von 1 Byte fehlerhaft ist. </font><font style="vertical-align: inherit;">Riesiger und stacheliger Stein in Richtung Sberbank! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Und dann fiel mir eine maaaalenky-Nuance auf. </font><font style="vertical-align: inherit;">4 + 4 + 3 + 16 + 4 + 4 = 35. Und hier sind 36 Bytes, Obelix. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn 36 Bytes vorhanden sind, richtet der Compiler die Struktur weiterhin aus. </font><font style="vertical-align: inherit;">Zwischen RCode und AMessage wird also noch ein zus√§tzliches Byte eingef√ºgt. </font><font style="vertical-align: inherit;">Aber warum? </font><font style="vertical-align: inherit;">Immerhin haben wir `__packed__` angegeben!</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> KAPITEL 18. Die R√ºckreise </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Gr√ºnde, warum die Ausrichtung noch aktiv ist, wurden 2012 ver√∂ffentlicht: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://gcc.gnu.org/bugzilla/show_bug.cgi?id=52991</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ein Fehler wurde nur in GCC 8 behoben (ein Stein f√ºr 6 Jahre Buggy!), Der noch nicht aktualisiert werden kann. </font><font style="vertical-align: inherit;">Zum Gl√ºck gibt es eine Problemumgehung:</font></font><br><br><pre> <code class="cpp hljs">-mno-ms-bitfields</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir werden jetzt den Funktionsmechanismus dieses Flags nicht analysieren, sondern nur an den Compiler √ºbergeben: </font></font><br><br><img src="https://habrastorage.org/webt/ve/tr/d4/vetrd4m4rsdhmkyxkgrvxbkepko.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Slip! </font><font style="vertical-align: inherit;">Liebling! </font><font style="vertical-align: inherit;">Ich habe dich vermisst, ich werde nicht einmal wegen des Krakozyabry schw√∂ren, ich habe bereits einen Stein daf√ºr geworfen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Und schlie√ülich geben wir Microsoft einen Stein, weil GlobalSize / Lock ung√ºltigen Zeigern Nullen gibt.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> KAPITEL 19. Letztes Kapitel </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um die Anzahl der ifdefs f√ºr die Ebene f√ºr sb_pilot zu minimieren, haben wir eine separate Anwendung geschrieben, die die Linux-Version von sb_pilot vollst√§ndig imitiert. </font><font style="vertical-align: inherit;">Wenn Sie also den Layer-Code Nr. 1 gleich lassen, bleibt nur eine Bedingung:</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> defined(BXI_OS_GLX) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> GFJ_PILOT_EXECUTABLE </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"./sb_pilot"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">elif</span></span></span><span class="hljs-meta"> defined(BXI_OS_WIN) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> GFJ_PILOT_EXECUTABLE </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"./sb_pilot.exe"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span></span></code> </pre> <br><img src="https://habrastorage.org/webt/wo/eu/2g/woeu2gk8m1mvtibiepfxwiijrbo.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ergebnisse der Schlacht: </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sberbank: 12 Steine </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Microsoft: 7 Steine </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> GCC: 1 Stein </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Leistungserinnerung auf unserer Kommandotafel: </font></font><br><br><img src="https://habrastorage.org/webt/ko/im/3y/koim3ykfftmlltegcqh_rkdkgxc.jpeg"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de451188/">https://habr.com/ru/post/de451188/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de451178/index.html">Crew Dragon Parachute Landing Crash Test</a></li>
<li><a href="../de451180/index.html">PCB ersetzt zwei Linearmotoren</a></li>
<li><a href="../de451182/index.html">Wie Gr√∂√üen von C-Arrays Teil der bin√§ren Schnittstelle der Bibliothek wurden</a></li>
<li><a href="../de451184/index.html">Blue Origin Blue Moon-Projekt: Menschen auf dem Mond bis 2024</a></li>
<li><a href="../de451186/index.html">LINSTOR-Repository und seine Integration in OpenNebula</a></li>
<li><a href="../de451196/index.html">Trennung von Kunden- und Freiberuflerprofilen</a></li>
<li><a href="../de451198/index.html">Die Rolle von Augmented Reality und Virtual Reality in der NBA</a></li>
<li><a href="../de451200/index.html">Automatisches Abrufen von SSL-Zertifikaten durch Let's Encrypt mithilfe von DNS-01 Challenge und AWS</a></li>
<li><a href="../de451204/index.html">Freitexteditoren f√ºr die Zusammenarbeit</a></li>
<li><a href="../de451206/index.html">Was passiert gerade mit RDF-Repositorys?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>