<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>さ   C贸mo integramos el sistema de pago en el proyecto ruso   </title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hace cinco meses, publicamos un m贸dulo NPM para trabajar con la nueva versi贸n de Yandex.Kassa, que se lanz贸 en octubre de 2017. Nuestro m贸dulo cay贸 en...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C贸mo integramos el sistema de pago en el proyecto ruso</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lodoss/blog/412643/"><img src="https://habrastorage.org/webt/ca/5_/u0/ca5_u0gido4r9fn57nwtdj_upn8.png" alt="imagen"><br><br>  Hace cinco meses, publicamos un m贸dulo NPM para trabajar con la nueva versi贸n de Yandex.Kassa, que se lanz贸 en octubre de 2017.  Nuestro m贸dulo cay贸 en la documentaci贸n oficial y ya se ha descargado m谩s de 1300 veces. <br><br><img src="https://habrastorage.org/webt/h3/4k/bk/h34kbkhro2v4dpeoz20fjsjcvdy.png" alt="imagen"><br><br>  En Habr茅, junto con colegas de Yandex, ya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">hablamos</a> sobre la experiencia de crear el m贸dulo, pero nuestra experiencia que obtuvimos cuando nos enfrentamos a la integraci贸n del sistema de pago para los clientes rusos se qued贸 atr谩s. <br><br>  Por lo tanto, hoy queremos decir c贸mo, para uno de nuestros clientes nacionales, pasamos de integrar sistemas de pago extranjeros que nos son familiares a los an谩logos rusos, qu茅 dificultades encontramos y c贸mo se resolvieron. <br><a name="habracut"></a><br><h3>  C贸mo trabajaron con los sistemas de pago </h3><br>  Anteriormente, solo trabaj谩bamos con sistemas de pago de clientes extranjeros.  Tuvimos experiencia en la integraci贸n con Authorize.net, Paypal, Braintree, Stripe, Payoneer, Wirecard y Svea. <br><br>  Con estos sistemas de pago es f谩cil interactuar e implementar diversas funciones.  Por ejemplo, cuando est谩bamos trabajando en un servicio de carga en Europa, integramos varios sistemas de pago en el proyecto y escribimos un algoritmo: implementaba una l贸gica compleja de operaciones monetarias.  Cuando un usuario solicit贸 un servicio, el sistema transfiri贸 dinero de la cuenta del cliente a la cuenta del servicio, y el algoritmo realiz贸 transacciones: recalcul贸 el pago en caso de problemas de entrega, lo convirti贸 a la moneda, realiz贸 un reembolso y reprogramaci贸n de pagos, cancel贸 el porcentaje de uso del servicio. <br><br>  Los mejores representantes de los sistemas de pago le permiten comenzar el desarrollo en el sandbox incluso sin registrarse.  Muchos tienen una excelente documentaci贸n, y casi todos ayudan a resolver problemas sin la participaci贸n activa del soporte.  Los desarrolladores pueden administrar los derechos y el acceso desde una cuenta personal.  Los sistemas de pago tienen un SDK para las plataformas m谩s populares, que ahora es el est谩ndar no escrito. <br><br>  Para integrar un sistema de pago, un desarrollador necesita: <br><br><ol><li>  Reg铆strese en el sitio y obtenga acceso al sandbox. </li><li>  Descargue el SDK y con茅ctelo.  Inserte llamadas a las funciones del sistema de pago en los lugares correctos de la aplicaci贸n. </li><li>  Pruebe todos los escenarios y aseg煤rese de que todo funcione correctamente. </li><li>  Participe en otras tareas mientras el cliente resuelve problemas financieros y legales. </li><li>  En el momento adecuado, cambie la aceptaci贸n del pago al modo "combate". </li></ol><br><h3>  Lo que ha cambiado </h3><br>  Hace un a帽o, comenzamos a trabajar en el mercado interno.  Uno de los primeros proyectos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">fue la aplicaci贸n Sellsay</a> .  Ayuda a los usuarios a desarrollar habilidades en las negociaciones y tambi茅n es una plataforma para la asistencia profesional mutua. <br><br>  La aplicaci贸n tiene muchas caracter铆sticas adem谩s de las funciones est谩ndar: autorizaci贸n y registro, creaci贸n y edici贸n de proyectos.  A trav茅s del servicio puedes contactar <br>  a un entrenador de negocios.  Si tiene los conocimientos necesarios, puede obtener un certificado y convertirse en un entrenador independiente, participar en eventos y capacitaciones <br>  de los creadores de la aplicaci贸n, ganar dinero. <br><br>  Para poder pagar en el servicio, era necesario integrar un sistema de pago, uno en el que pueda pagar en rublos y d贸lares, transferir el plazo de pago y hacer un reembolso, guardar tarjetas y no ingresar datos al realizar compras repetidas, use Apple y Android Pay.  Para implementar esto, elegimos el sistema Braintree. <br><br>  Y luego hicimos un gran feil.  Acordamos e implementamos la funcionalidad b谩sica de trabajar con el sistema de pago, pero no tomamos en cuenta un detalle importante.  Lo supimos dos semanas antes del lanzamiento, cuando estaban preparando el proyecto para su lanzamiento.  No tomamos en cuenta que Braintree no trabaja con empresas de Rusia.  Registrar una empresa en los estados no es una opci贸n.  Todav铆a tenemos una salida: reemplazar el sistema de pago lo antes posible. <br><br><h3>  Yandex.Kassa: trabajando con la primera versi贸n de la API </h3><br>  Despu茅s de analizar los sistemas, nos decidimos por Yandex.Cash: el servicio nos permiti贸 implementar casi toda la funcionalidad, era adecuado para el cliente a un precio y resolvi贸 el problema de 54 FZ al conectar una caja en l铆nea. <br><br>  Un poco m谩s tarde, nos dimos cuenta de que nuestra visi贸n de integraci贸n es fundamentalmente diferente de la visi贸n de Yandex.Kassa y su servicio de seguridad.  Toda la etapa de integraci贸n fue recordada m谩s por contratos interminables, formularios y llamadas telef贸nicas, en lugar de escribir c贸digo. <br><br>  Por lo tanto, para obtener claves de prueba, debe proporcionar un enlace a la aplicaci贸n en Apple Store o Google Play.  驴D贸nde obtuvimos el enlace si la aceptaci贸n del pago es un requisito previo para publicar la aplicaci贸n?  Logramos resolver este problema, pero hubo situaciones en las que fue necesario implementar y publicar la funcionalidad para su activaci贸n por parte del administrador. <br><br>  S铆, casi todas las solicitudes se resuelven mediante comunicaci贸n con un gerente personal.  Pero si las preguntas en su cuenta personal llegan a su gerente personal, entonces cuando llama, hay una alta probabilidad de llegar a un administrador libre y aleatorio en la l铆nea y obtener una respuesta completamente aleatoria.  Despu茅s de un tiempo, busque otro gerente y obtenga la respuesta opuesta a la misma pregunta. <br><br>  Otra desventaja: Yandex admite API de m煤ltiples generaciones.  Incluso Yandex.Kassi tiene varios subsistemas que usan documentaci贸n diferente, autenticaci贸n, etc.  Como resultado, debe implementar simult谩neamente API no relacionadas.  Por ejemplo, est谩 aceptando pagos, y para la cancelaci贸n debe comenzar de nuevo: aplicaciones, contratos, llamadas, estudio e integraci贸n de API. <br><br>  Las 煤ltimas semanas antes del lanzamiento se convirtieron en un infierno.  Para comenzar el proyecto a tiempo, tuvimos que fortalecer el equipo y trabajar horas extras, y Yandex.Cash, mientras tanto, no perdi贸 la oportunidad de dejarnos poner nerviosos. <br><br><h3>  Comparaci贸n de Yandex.Kassa con Stripe </h3><br>  En la comunidad de desarrolladores, Stripe es l铆der en facilidad de integraci贸n y trabajo con el sistema de pago.  Son los primeros en cuidar a los programadores y hacer que el sistema de pago sea lo m谩s conveniente y flexible posible.  Esto permiti贸 a los desarrolladores no solo dar un suspiro de alivio, sino acelerar y reducir el costo del proceso de integraci贸n. <br><br>  Puedes encontrar mucho en com煤n entre Yandex.Kassa y Stripe.  Por ejemplo, ambos sistemas se basan en principios similares a REST, usan c贸digos de respuesta HTTP, admiten CORS (y las respuestas vienen en JSON), ambos admiten idempotencia.  Hay una "caja de arena": una copia completa de la tienda real, y la transici贸n entre los modos es solo un reemplazo de las claves: no es necesario cambiar la API o la URL. <br><br>  Pero al mismo tiempo, son muy diferentes, y para mostrar c贸mo estos sistemas tienen diferentes enfoques, consideraremos la implementaci贸n de algunas etapas utilizando ejemplos concretos. <br><br>  Como la parte del servidor se implement贸 en Node.js en este proyecto, le dar茅 ejemplos. <br><br>  <b>Nos conectamos al proyecto</b> . <br><br>  Raya: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> stripe = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'stripe'</span></span>)(<span class="hljs-string"><span class="hljs-string">'sk_test_...'</span></span>);</code> </pre> <br>  Yandex.Cash: <br><br><pre> <code class="javascript hljs"> ,    ;  </code> </pre><br>  <b>Solicitar detalles de la tarjeta</b> <br><br>  Raya: <br><br>  Conecte la biblioteca del cliente de la misma manera y solicite un token con la pantalla del formulario para ingresar la tarjeta. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> stripe = Stripe(<span class="hljs-string"><span class="hljs-string">'pk_test_6pRNASCoBOKtIshFeQd4XMUh'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> elements = stripe.elements(); <span class="hljs-comment"><span class="hljs-comment">// Create an instance of the card Element var card = elements.create('card', { style: style }); // Add an instance of the card Element into the `card-element` &lt;div&gt; card.mount('#card-element'); // On form submit stripe.createToken(card).then(function(result) { // Send the token to your server stripeTokenHandler(result.token); } );</span></span></code> </pre><br>  En el servidor <br><br><pre> <code class="javascript hljs">stripe.charges.create({ <span class="hljs-attr"><span class="hljs-attr">amount</span></span>: <span class="hljs-number"><span class="hljs-number">2000</span></span>, <span class="hljs-attr"><span class="hljs-attr">currency</span></span>: <span class="hljs-string"><span class="hljs-string">"usd"</span></span>, <span class="hljs-attr"><span class="hljs-attr">source</span></span>: <span class="hljs-string"><span class="hljs-string">"token from previous step"</span></span>, <span class="hljs-comment"><span class="hljs-comment">// obtained with Stripe.js description: "Charge for william.brown@example.com" }, function(err, charge) { // asynchronously called });</span></span></code> </pre><br>  Yandex.Cash: <br><br><pre> <code class="javascript hljs">  :    ,   .   : <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"https://money.yandex.ru/eshop.xml?shopId=12345&amp;scid=1234566&amp;sum=3000&amp;customerNumber=73"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">https://money.yandex.ru/eshop.xml?shopId=12345&amp;scid=1234566&amp;sum=3000&amp;customerNumber=73</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre><br>  En verdad, debe haber un formulario de pago en el sitio.  Cuando el usuario hace clic en "Pagar", este formulario se env铆a a la direcci贸n anterior y pasa los par谩metros utilizando el m茅todo POST.  Pero tenemos una aplicaci贸n m贸vil, as铆 que tuve que abandonar el formulario y formar un enlace en el lado del servidor con la apertura en WebView. <br><br>  Este enlace se proporciona al cliente para ingresar los detalles de la tarjeta y confirmar el pago.  Pero aqu铆 nos encontramos con otra sorpresa: a finales de 2017, Yandex.Kassa no admite el dise帽o receptivo.  Varias manipulaciones con la configuraci贸n no produjeron resultados. <br><br><img src="https://habrastorage.org/webt/ni/kp/zg/nikpzg_dcuxheonn8kb1apzufgg.png" alt="imagen"><br>  <i>El dise帽o no se adapta a la aplicaci贸n m贸vil.</i> <br><br>  Result贸 que para cambiar la apariencia de la p谩gina de pago al modo adaptativo, debe dejar una solicitud en su cuenta personal.  Tuvimos que contactar al soporte t茅cnico nuevamente. <br><br><img src="https://habrastorage.org/webt/hv/j8/tf/hvj8tfzk4wys_-57hltqz0oxdro.png" alt="imagen"><br>  <i>隆Hurra, dise帽o adaptado para un tel茅fono m贸vil en 2017!</i> <i><br><br></i>  <i>Pero solo para pago con tarjeta de cr茅dito</i> <br><br>  <b>Comprueba el hecho del pago</b> <br><br>  Raya: <br><br>  El pago se verifica durante el proceso de pago y, en caso de error, la funci贸n API devolver谩 la excepci贸n correspondiente. <br><br>  Yandex.Cash: <br><br>  Los usuarios realizan pagos en el lado de Yandex.Cash, pero la aplicaci贸n del usuario a煤n no conoce el hecho del pago.  Por lo tanto, Yandex.Kassa debe informar al servidor que se ha realizado el pago.  Para hacer esto, los desarrolladores deben crear un WebHook y configurar Yandex.Cash, para que pueda usar direcciones de WebHook para transmitir el hecho del pago. <br><br>  La notificaci贸n de pago del servidor ocurre en 2 etapas: <br><br><ul><li>  <b>Comprobando la posibilidad de pago.</b>  Nuestro servidor verifica todo, permite o niega deducir fondos, por ejemplo, verifica los saldos de los productos o la exactitud de los precios. </li><li>  <b>Cumplimiento de pago.</b>  Yandex.Kassa informa a nuestro servidor que el dinero ha sido cargado y el pago fue exitoso.  En este punto, es necesario corregir el hecho del pago en la base de datos. </li></ul><br>  Pero aqu铆 nos esperan sorpresas: <br><br><ol><li>  Para cambiar la direcci贸n, debe enviar una solicitud al gerente y esperar nuevamente. </li><li>  Es necesario implementar un algoritmo especial para verificar la validez de los datos de Yandex.Kassa. </li><li>  El servidor debe devolver XML generado a medida.  Pudimos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">encontrar un m贸dulo listo</a> para generar la respuesta correcta. </li></ol><br>  <b>Cancelar el pago</b> <br><br>  Raya: <br><br><pre> <code class="javascript hljs">stripe.refunds.create({ <span class="hljs-attr"><span class="hljs-attr">charge</span></span>: <span class="hljs-string"><span class="hljs-string">"ch_1BTuEo2eZvKYlo2CSGqKz76n"</span></span> }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">err, refund</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// asynchronously called });</span></span></code> </pre><br>  Yandex.Cash: <br><br><pre> <code class="javascript hljs">    X<span class="hljs-number"><span class="hljs-number">.509</span></span>    MWS.     .,        ..</code> </pre><br>  Como puede suponer, la coordinaci贸n y la conexi贸n tomaron un tiempo.  Suavemente fue m谩s all谩 de los l铆mites de la fecha l铆mite. <br><br>  <b>Guardar tarjetas</b> <br><br>  Raya: <br><br><pre> <code class="javascript hljs">stripe.customers.create({ <span class="hljs-attr"><span class="hljs-attr">email</span></span>: <span class="hljs-string"><span class="hljs-string">"paying.user@example.com"</span></span>, <span class="hljs-attr"><span class="hljs-attr">source</span></span>: <span class="hljs-string"><span class="hljs-string">"src_18eYalAHEMiOZZp1l9ZTjSU0"</span></span>, }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">err, customer</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// asynchronously called });</span></span></code> </pre><br>  Yandex.Cash: <br><br>  Describimos las reglas para cancelar el almacenamiento de tarjetas e implementamos la capacidad de eliminar.  Luego enviamos la solicitud para su revisi贸n al servicio de seguridad Yandex.Kassa y esperamos una respuesta. <br><br>  Si la respuesta es s铆, es posible guardar tarjetas despu茅s de un pago exitoso y realizar pagos repetidos utilizando el protocolo MWS. <br><br>  Ejemplo de solicitud de la documentaci贸n: <br><br><pre> <code class="javascript hljs">POST https:<span class="hljs-comment"><span class="hljs-comment">//server:port/webservice/mws/api/repeatCardPayment DATA: clientOrderId=123456789&amp;invoiceId=2000000123&amp;amount=10.00&amp;cvv=643</span></span></code> </pre><br>  Como puede ver en los ejemplos, Stripe es m谩s adecuado para desarrolladores y tiene una amplia variedad de funciones y capacidades.  Pero hay una gran PERO: Stripe, como Braintree, no funciona en Rusia, aunque puede aceptar pagos de diferentes pa铆ses.  El propietario de una cuenta en Stripe debe ser residente de los pa铆ses accesibles para 茅l: Rusia no se encuentra entre ellos. <br><br><h3>  Que como resultado </h3><br>  Incluso teniendo en cuenta el hecho de que ten铆amos que hacer mucho trabajo adicional y comunicarnos con el soporte, no solo logramos completar casi todo a tiempo, sino que tambi茅n realizamos trabajo adicional.  Una semana antes del lanzamiento, se lanz贸 una nueva versi贸n de la API Yandex.Kassi y creamos un m贸dulo NPM y reescribimos el c贸digo. <br><br>  Cuando descubrimos la nueva versi贸n de la API, nos sorprendi贸 gratamente: los desarrolladores claramente observaron an谩logos extranjeros y aplicaron las mejores pr谩cticas.  Se han resuelto algunos problemas de la versi贸n anterior.  La documentaci贸n para la nueva API no ten铆a un SDK para Node.js.  Planeamos seguir trabajando en el mercado ruso y necesitaremos dicha herramienta.  Por lo tanto, decidimos crear un m贸dulo NPM, que cualquiera puede integrar independientemente en su proyecto. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es412643/">https://habr.com/ru/post/es412643/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es412629/index.html">Forma de onda adaptativa para su servicio de audio</a></li>
<li><a href="../es412633/index.html">Experiencia en la configuraci贸n y uso de WSL (subsistema de Linux en Windows 10)</a></li>
<li><a href="../es412637/index.html">驴Hacer o no redise帽ar logotipos? Esa es la pregunta</a></li>
<li><a href="../es412639/index.html">Lo que debe esperar para crear estrategias para operar en el intercambio: cu谩n eficiente es el aprendizaje autom谩tico</a></li>
<li><a href="../es412641/index.html">驴Qu茅 tienen en com煤n la miner铆a, Georgia e Irkutsk?</a></li>
<li><a href="../es412645/index.html">Objeto, propiedad, actividad: modelos y m茅todos de construcci贸n.</a></li>
<li><a href="../es412647/index.html">Nueva evidencia de la existencia del noveno planeta.</a></li>
<li><a href="../es412649/index.html">C贸mo construir un equipo y procesos enfocados en un r谩pido crecimiento</a></li>
<li><a href="../es412651/index.html">C贸mo dej茅 de preocuparme (por la ciencia) y aprend铆 a amar la historia</a></li>
<li><a href="../es412653/index.html">Los mosqueteros ya no son los mismos, o esperaron a Athos, pero lleg贸 Porthos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>