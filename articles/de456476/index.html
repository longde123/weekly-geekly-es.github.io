<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üò∂ ü§¶üèø ‚óΩÔ∏è √Ñnderungen am Bluetooth-Stack zur Verbesserung der Audioqualit√§t von Kopfh√∂rern ohne AAC-, aptX- oder LDAC-Codecs üíú üè• üë©üèΩ‚Äçüè≠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bevor Sie diesen Artikel lesen, wird empfohlen, den vorherigen Artikel zu lesen: Audio √ºber Bluetooth: Ausf√ºhrlichste Informationen zu Profilen, Codec...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>√Ñnderungen am Bluetooth-Stack zur Verbesserung der Audioqualit√§t von Kopfh√∂rern ohne AAC-, aptX- oder LDAC-Codecs</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/456476/"> <i>Bevor Sie diesen Artikel lesen, wird empfohlen, den vorherigen Artikel zu lesen: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Audio √ºber Bluetooth: Ausf√ºhrlichste Informationen zu Profilen, Codecs und Ger√§ten</a> /</i> <br><br>  Einige Benutzer von drahtlosen Kopfh√∂rern stellen bei Verwendung des Standard-Bluetooth-SBC-Codecs, der von allen Kopfh√∂rern und anderen Bluetooth-Audioger√§ten unterst√ºtzt wird, eine geringe Klangqualit√§t und fehlende hohe Frequenzen fest.  Eine h√§ufige Empfehlung f√ºr eine bessere Klangqualit√§t ist der Kauf von Ger√§ten und Kopfh√∂rern mit Unterst√ºtzung f√ºr aptX- oder LDAC-Codecs.  F√ºr diese Codecs sind Lizenzgeb√ºhren erforderlich. Deshalb sind Ger√§te mit ihnen teurer. <br><br>  Es stellt sich heraus, dass die geringe Qualit√§t von SBC durch k√ºnstliche Einschr√§nkungen aller aktuellen Bluetooth-Stacks und Kopfh√∂rerkonfigurationen verursacht wird. Diese Einschr√§nkung kann auf jedem vorhandenen Ger√§t nur mit Softwaremodifikationen umgangen werden. <a name="habracut"></a><br><br><h2>  Sbc Codec </h2>  SBC verf√ºgt √ºber viele verschiedene Parameter, die w√§hrend der Verbindungsaufbauphase ausgehandelt werden: <br><br><ul><li>  Typ und Nummer des Audiokanals: Joint Stereo, Stereo, Dual Channel, Mono; </li><li>  Anzahl der Frequenzb√§nder: 4 oder 8; </li><li>  Anzahl der Audiobl√∂cke in einem Paket: 4, 8, 12, 16; </li><li>  Algorithmus zur Zuweisung von Quantisierungsbits: Loudness, SNR; </li><li>  Maximaler und minimaler Bitpool, der im Quantisierungsprozess verwendet wird: normalerweise 2-53. </li></ul><br><br>  Der Decoder muss eine beliebige Kombination dieser Parameter unterst√ºtzen.  Der Encoder kann nur einen Teil davon implementieren. <br>  Bestehende Bluetooth-Stacks verhandeln normalerweise die folgenden Optionen, die ich als "Profil" bezeichne: Joint Stereo, 8 B√§nder, 16 Bl√∂cke, Loudness, Bitpool 2..53.  Dieses Profil codiert 44,1-kHz-Stereo-Audio mit einer Bitrate von 328 kbit / s. <br>  Bitpool ist ein Parameter, der die Codierungsbitrate √§ndert: Je h√∂her sie ist, desto h√∂her ist die Bitrate und damit die Qualit√§t.  Der genaue Bitpoolwert entspricht jedoch nur innerhalb des exakten Profils der exakten Bitrate. <br>  Die Bitrate wird auch erheblich von anderen Parametern beeinflusst: Audiokanaltyp, Anzahl der Frequenzb√§nder, Anzahl der Audiobl√∂cke.  Sie k√∂nnen die Bitrate indirekt erh√∂hen, indem Sie nicht standardm√§√üige Profile aushandeln, ohne den Bitpool zu √§ndern. <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>b</mi><mi>i</mi><mi>t</mi><mi>r</mi><mi>a</mi><mi>t</mi><mi>e</mi><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>8</mn><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi><mi>s</mi><mi>f</mi><mi>r</mi><mi>a</mi><mi>m</mi><mi>e</mi><msub><mtext>&amp;#xA0;</mtext><mi>l</mi></msub><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi><mi>s</mi><mi>s</mi><mi>a</mi><mi>m</mi><mi>p</mi><mi>l</mi><mi>e</mi><msub><mtext>&amp;#xA0;</mtext><mi>r</mi></msub><mi>a</mi><mi>t</mi><mi>e</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>s</mi><mi>u</mi><mi>b</mi><mi>b</mi><mi>a</mi><mi>n</mi><mi>d</mi><mi>s</mi><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi><mi>s</mi><mi>b</mi><mi>l</mi><mi>o</mi><mi>c</mi><mi>k</mi><mi>s</mi></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="76.802ex" height="2.419ex" viewBox="0 -780.1 33067.4 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-69" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-74" x="775" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-72" x="1136" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-61" x="1588" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-74" x="2117" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-65" x="2479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMAIN-3D" x="3223" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-66" x="4529" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-72" x="5080" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-61" x="5531" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-63" x="6061" y="0"></use><g transform="translate(6494,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMAIN-38" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-74" x="750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-69" x="1112" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-6D" x="1457" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-65" x="2336" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-73" x="2802" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-66" x="3272" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-72" x="3822" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-61" x="4274" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-6D" x="4803" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-65" x="5682" y="0"></use><g transform="translate(6148,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-6C" x="353" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-65" x="6709" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-6E" x="7176" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-67" x="7776" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-74" x="8257" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-68" x="8618" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-74" x="9445" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-69" x="9806" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-6D" x="10152" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-65" x="11030" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-73" x="11497" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-73" x="11966" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-61" x="12436" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-6D" x="12965" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-70" x="13844" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-6C" x="14347" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-65" x="14646" y="0"></use><g transform="translate(15112,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-72" x="353" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-61" x="15781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-74" x="16311" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-65" x="16672" y="0"></use></g><g transform="translate(23633,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-73" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-75" x="469" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-62" x="1042" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-62" x="1471" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-61" x="1901" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-6E" x="2430" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-64" x="3031" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-73" x="3554" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-74" x="4274" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-69" x="4635" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-6D" x="4981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-65" x="5859" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-73" x="6326" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-62" x="6795" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-6C" x="7225" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-6F" x="7523" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-63" x="8009" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-6B" x="8442" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/456476/&amp;usg=ALkJrhiEs9JpyuNsENIyUxsVb-5clxLoLw#MJMATHI-73" x="8964" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>b</mi><mi>i</mi><mi>t</mi><mi>r</mi><mi>a</mi><mi>t</mi><mi>e</mi><mo>=</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>8</mn><mtext>&nbsp;</mtext><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi><mi>s</mi><mi>f</mi><mi>r</mi><mi>a</mi><mi>m</mi><mi>e</mi><msub><mtext>&nbsp;</mtext><mi>l</mi></msub><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi><mtext>&nbsp;</mtext><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi><mi>s</mi><mi>s</mi><mi>a</mi><mi>m</mi><mi>p</mi><mi>l</mi><mi>e</mi><msub><mtext>&nbsp;</mtext><mi>r</mi></msub><mi>a</mi><mi>t</mi><mi>e</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>s</mi><mi>u</mi><mi>b</mi><mi>b</mi><mi>a</mi><mi>n</mi><mi>d</mi><mi>s</mi><mtext>&nbsp;</mtext><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi><mi>s</mi><mi>b</mi><mi>l</mi><mi>o</mi><mi>c</mi><mi>k</mi><mi>s</mi></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> bitrate = \ frac {8 \ times frame \ _length \ times sample \ _rate} {subbands \ times blocks} </script></p><br>  <i><font color="#666666">Bitrate-Berechnungsformel</font></i> <br><br><br>  Im Zweikanalmodus werden beispielsweise Kan√§le separat codiert, wobei f√ºr jeden Kanal ein einzelner Bitpool verwendet wird, im Gegensatz zu Stereo oder Joint Stereo, bei denen f√ºr beide Kan√§le ein Bitpool verwendet wird.  Wenn Sie das Ger√§t dazu zwingen, Dual Channel anstelle von Joint Stereo zu verwenden, wird die Bitrate mit 617 kbps bei gleichem Bitpool-Wert von 53 fast verdoppelt. <br>  F√ºr mich sollte Bitpool eine interne Variable sein.  Ich gehe davon aus, dass es sich um einen Entwurfsfehler der A2DP-Spezifikation handelt, dass der Bitpoolwert nicht an andere Codec-Parameter gebunden und nur als unabh√§ngige ausgehandelte Variable definiert ist. <br><br>  Feste Bitpool- und Bitratenwerte stammen aus dem empfohlenen Profil f√ºr Audio in hoher Qualit√§t.  Die Empfehlung sollte jedoch nicht der Grund sein, die Grenze f√ºr diese Parameter festzulegen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cc5/5bf/c7d/cc55bfc7d4e0a7e9ca4aee331f6c9992.png" alt="Bluetooth SBC-Profiltabelle"><br><br>  Gem√§√ü der A2DP-Spezifikation v1.2, die von 2007 bis 2015 aktiv war, m√ºssen alle Decoder ordnungsgem√§√ü mit Bitraten von bis zu 512 kbit / s arbeiten: <br><br><blockquote>  Der Decoder des SNK muss alle m√∂glichen Bitpoolwerte unterst√ºtzen, die nicht zu einer √úberschreitung der maximalen Bitrate f√ºhren.  Dieses Profil begrenzt die verf√ºgbare maximale Bitrate auf 320 kb / s f√ºr Mono und 512 kb / s f√ºr Zweikanalmodi. </blockquote><br><br>  In der neuen Version der Spezifikation ist keine Bitratenbegrenzung angegeben.  Es wird davon ausgegangen, dass moderne Kopfh√∂rer mit EDR-Unterst√ºtzung, die nach 2015 ver√∂ffentlicht wurden, Bitraten von bis zu 730 kbps unterst√ºtzen k√∂nnen. <br><br>  Aus irgendeinem Grund unterliegen alle derzeit getesteten Bluetooth-Stacks (Linux (PulseAudio), Android, Blackberry und macOS) k√ºnstlichen Einschr√§nkungen des maximalen Bitpool-Parameters, die sich direkt auf die maximale Bitrate auswirken.  Dies ist jedoch nicht das gr√∂√üte Problem. Fast alle Kopfh√∂rer begrenzen den maximalen Bitpoolwert auf 53. <br>  Wie ich bereits in meinen Tests gesehen habe, funktionieren die meisten Ger√§te auf einem modifizierten Bluetooth-Stack mit einer Bitrate von 551 kbit / s einwandfrei, ohne Unterbrechungen und Knistern.  Eine solche Bitrate wird jedoch unter normalen Bedingungen mit Standard-Bluetooth-Stacks niemals ausgehandelt. <br><br><h2>  √Ñnderung des Bluetooth-Stacks </h2>  Jeder A2DP-kompatible Bluetooth-Stack sollte den Dual-Channel-Modus unterst√ºtzen, es gibt jedoch keine M√∂glichkeit, die Verwendung dieses Modus zu erzwingen. <br><br>  F√ºgen wir der Benutzeroberfl√§che einen Schalter hinzu!  Ich habe Patches f√ºr Android 8.1 und Android 9 erstellt, die dem Channel und dem Entwicklermen√º die volle Unterst√ºtzung f√ºr Dual Channel hinzuf√ºgen, und den Dual Channel-Modus als zus√§tzlichen "HD Audio" -Codec wie aptX, AAC oder LDAC behandelt, indem ich dem ein H√§kchen hinzuf√ºge Bluetooth-Ger√§teeinstellungen So sieht es aus: <br><br><img src="https://habrastorage.org/webt/xd/k_/nn/xdk_nnwukcz446jxexaes4pdscw.png" alt="Bild"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Android 9 Patch</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Android 8.1 Patch</a> <br><br>  Dieses Kontrollk√§stchen schaltet den Zweikanalmodus um, der f√ºr die Verwendung von <b>551 kbit</b> / s f√ºr EDR-Ger√§te mit 3 Mbit / s und <b>452 kbit</b> / s f√ºr EDR-Ger√§te mit 2 Mbit / s konfiguriert ist. <br><br>  Dieses Patchset wurde in die folgenden alternativen Firmwares integriert: <br><ul><li>  <b>LineageOS 15.1</b> (seit dem 31. M√§rz 2019) und <b>16.0</b> (seit dem 13. Mai 2019) </li><li>  <b>Resurrection Remix</b> (seit 14. Mai 2019) </li><li>  <b>crDroid</b> (seit dem 13. Mai 2019) </li></ul><br><br><h2>  Woher kamen 551 und 452 kbps? </h2>  Die Bluetooth-Zeitteilungstechnologie wurde entwickelt, um gro√üe Pakete mit fester Gr√∂√üe effizient zu √ºbertragen.  Die Daten√ºbertragung erfolgt in Slots, die gr√∂√üte Anzahl von Slots, die in einer √úbertragung gesendet werden, ist 5. Es gibt auch √úbertragungsmodi mit 1 oder 3 Slots, jedoch nicht mit 2 oder 4. Sie k√∂nnen bis zu 679 Bytes in 5 Slots mit einer Verbindungsgeschwindigkeit √ºbertragen von 2 Mbit / s und bis zu 1021 Bytes bei einer Geschwindigkeit von 3 Mbit / s.  In 3 Slots betr√§gt die maximale Datenmenge 367 bzw. 552 Byte. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b86/6c9/653/b866c9653eeb255db44e7fd94a409a90.png" alt="Bild"><br><br>  Wenn wir weniger Daten als 679 oder 1021 Bytes, aber mehr als 367 oder 552 Bytes √ºbertragen m√∂chten, ben√∂tigt die √úbertragung immer noch 5 Slots, und die √úbertragung dauert genauso lange, was die √úbertragungseffizienz verringert. <br><br><img src="https://habrastorage.org/webt/u_/9e/at/u_9eati7dqlaegfvhdkpmwxsnxq.png" alt="Bild"><br><br>  44100 Hz Audio, codiert mit SBC im Zweikanalmodus mit Bitpool = 38, 16 Bl√∂cke in einem Frame, 8 Frequenzb√§nder, erzeugt einen Audio-Frame von 164 Bytes mit einer Bitrate von 452 kb / s. <br>  Die Audio-Nutzdaten sollten in L2CAP- und AVDTP-√úbertragungsprotokolle eingekapselt werden, die 16 Byte Overhead von den Audio-Nutzdaten abziehen. <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><merror><mtext>\&amp;#xA0;begin&amp;#xA0;{align&amp;#xA0;*}&amp;#xA0;Framelength&amp;#xA0;&amp;amp;&amp;#xA0;=&amp;#xA0;4&amp;#xA0;+&amp;#xA0;\&amp;#xA0;frac&amp;#xA0;{Teilb&amp;#xE4;nder&amp;#xA0;\&amp;#xA0;mal&amp;#xA0;Kan&amp;#xE4;le}&amp;#xA0;{2}&amp;#xA0;+&amp;#xA0;\\&amp;#xA0;&amp;amp;&amp;#xA0;\&amp;#xA0;begin&amp;#xA0;{F&amp;#xE4;lle}&amp;#xA0;\&amp;#xA0;frac&amp;#xA0;{Bl&amp;#xF6;cke&amp;#xA0;\&amp;#xA0;mal&amp;#xA0;Kan&amp;#xE4;le&amp;#xA0;\&amp;#xA0;mal&amp;#xA0;Bitpool}&amp;#xA0;{8}&amp;#xA0;&amp;amp;&amp;#xA0;\&amp;#xA0;text&amp;#xA0;{&amp;#xA0;wenn&amp;#xA0;Mono-&amp;#xA0;oder&amp;#xA0;Zweikanalmodus}&amp;#xA0;\\&amp;#xA0;\&amp;#xA0;frac&amp;#xA0;{Teilb&amp;#xE4;nder&amp;#xA0;+&amp;#xA0;Bl&amp;#xF6;cke&amp;#xA0;\&amp;#xA0;mal&amp;#xA0;Bitpool}&amp;#xA0;{8}&amp;#xA0;&amp;amp;&amp;#xA0;\&amp;#xA0;Text&amp;#xA0;{wenn&amp;#xA0;gemeinsamer&amp;#xA0;Stereomodus}&amp;#xA0;\\&amp;#xA0;\&amp;#xA0;frac&amp;#xA0;{Bl&amp;#xF6;cke&amp;#xA0;\&amp;#xA0;mal&amp;#xA0;Bitpool}&amp;#xA0;{8}&amp;#xA0;&amp;amp;&amp;#xA0;\&amp;#xA0;Text&amp;#xA0;{wenn&amp;#xA0;Stereo&amp;#xA0;Modus}&amp;#xA0;\\&amp;#xA0;\&amp;#xA0;Ende&amp;#xA0;{F&amp;#xE4;lle}&amp;#xA0;\&amp;#xA0;Ende&amp;#xA0;{Ausrichtung&amp;#xA0;*}</mtext></merror></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><span class="noError" aria-hidden="true" style="display: inline-block;">\&nbsp;begin&nbsp;{align&nbsp;*}&nbsp;Framelength&nbsp;&amp;&nbsp;=&nbsp;4&nbsp;+&nbsp;\&nbsp;frac&nbsp;{Teilb√§nder&nbsp;\&nbsp;mal&nbsp;Kan√§le}&nbsp;{2}&nbsp;+&nbsp;\\&nbsp;&amp;&nbsp;\&nbsp;begin&nbsp;{F√§lle}&nbsp;\&nbsp;frac&nbsp;{Bl√∂cke&nbsp;\&nbsp;mal&nbsp;Kan√§le&nbsp;\&nbsp;mal&nbsp;Bitpool}&nbsp;{8}&nbsp;&amp;&nbsp;\&nbsp;text&nbsp;{&nbsp;wenn&nbsp;Mono-&nbsp;oder&nbsp;Zweikanalmodus}&nbsp;\\&nbsp;\&nbsp;frac&nbsp;{Teilb√§nder&nbsp;+&nbsp;Bl√∂cke&nbsp;\&nbsp;mal&nbsp;Bitpool}&nbsp;{8}&nbsp;&amp;&nbsp;\&nbsp;Text&nbsp;{wenn&nbsp;gemeinsamer&nbsp;Stereomodus}&nbsp;\\&nbsp;\&nbsp;frac&nbsp;{Bl√∂cke&nbsp;\&nbsp;mal&nbsp;Bitpool}&nbsp;{8}&nbsp;&amp;&nbsp;\&nbsp;Text&nbsp;{wenn&nbsp;Stereo&nbsp;Modus}&nbsp;\\&nbsp;\&nbsp;Ende&nbsp;{F√§lle}&nbsp;\&nbsp;Ende&nbsp;{Ausrichtung&nbsp;*}</span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><merror><mtext>\&nbsp;begin&nbsp;{align&nbsp;*}&nbsp;Framelength&nbsp;&amp;&nbsp;=&nbsp;4&nbsp;+&nbsp;\&nbsp;frac&nbsp;{Teilb√§nder&nbsp;\&nbsp;mal&nbsp;Kan√§le}&nbsp;{2}&nbsp;+&nbsp;\\&nbsp;&amp;&nbsp;\&nbsp;begin&nbsp;{F√§lle}&nbsp;\&nbsp;frac&nbsp;{Bl√∂cke&nbsp;\&nbsp;mal&nbsp;Kan√§le&nbsp;\&nbsp;mal&nbsp;Bitpool}&nbsp;{8}&nbsp;&amp;&nbsp;\&nbsp;text&nbsp;{&nbsp;wenn&nbsp;Mono-&nbsp;oder&nbsp;Zweikanalmodus}&nbsp;\\&nbsp;\&nbsp;frac&nbsp;{Teilb√§nder&nbsp;+&nbsp;Bl√∂cke&nbsp;\&nbsp;mal&nbsp;Bitpool}&nbsp;{8}&nbsp;&amp;&nbsp;\&nbsp;Text&nbsp;{wenn&nbsp;gemeinsamer&nbsp;Stereomodus}&nbsp;\\&nbsp;\&nbsp;frac&nbsp;{Bl√∂cke&nbsp;\&nbsp;mal&nbsp;Bitpool}&nbsp;{8}&nbsp;&amp;&nbsp;\&nbsp;Text&nbsp;{wenn&nbsp;Stereo&nbsp;Modus}&nbsp;\\&nbsp;\&nbsp;Ende&nbsp;{F√§lle}&nbsp;\&nbsp;Ende&nbsp;{Ausrichtung&nbsp;*}</mtext></merror></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-2"> \ begin {align *} Framelength & = 4 + \ frac {Teilb√§nder \ mal Kan√§le} {2} + \\ & \ begin {F√§lle} \ frac {Bl√∂cke \ mal Kan√§le \ mal Bitpool} {8} & \ text { wenn Mono- oder Zweikanalmodus} \\ \ frac {Teilb√§nder + Bl√∂cke \ mal Bitpool} {8} & \ Text {wenn gemeinsamer Stereomodus} \\ \ frac {Bl√∂cke \ mal Bitpool} {8} & \ Text {wenn Stereo Modus} \\ \ Ende {F√§lle} \ Ende {Ausrichtung *} </script></p><br><br><br><br>  Eine Audio√ºbertragung mit 5 Steckpl√§tzen kann bis zu 4 Audio-Frames enthalten: <br><pre><code class="plaintext hljs">679 (EDR 2 mbit/s DH5) - 4 (L2CAP) - 12 (AVDTP/RTP) - 1 (SBC header) - (164*4) = 6</code> </pre> <br>  Ein einzelnes Paket √ºbertr√§gt bis zu 11,7 ms Audiodaten, die in 3,75 ms √ºbertragen werden, und wir haben noch 6 nicht verwendete Bytes im Paket. <br>  Wenn Sie den Bitpool leicht erh√∂hen, k√∂nnen 4 Audio-Frames nicht mehr in eine einzige √úbertragung gepackt werden.  Sie m√ºssen 3 Frames gleichzeitig senden, was die √úbertragungseffizienz verringert, die Menge des in einem Paket √ºbertragenen Audios verringert und die Wahrscheinlichkeit eines Audio-Stotterns unter schlechten Funkbedingungen erh√∂ht. <br><br>  Die Bitrate von 551 kbit / s f√ºr EDR 3 Mbit / s wurde nach dem gleichen Prinzip ausgew√§hlt: Mit Bitpool 47, 16 Bl√∂cken pro Frame, 8 Frequenzb√§ndern betr√§gt die Frame-Gr√∂√üe 200 Byte bei einer Bitrate von 551 kbit / s.  Die Einzel√ºbertragung kann bis zu 5 Frames oder 14,6 ms Musik b√ºndeln. <br><br>  Der Algorithmus zum Berechnen aller SBC-Parameter ist ziemlich kompliziert. Sie k√∂nnen leicht einen Fehler machen, wenn Sie versuchen, alle manuell zu berechnen. Deshalb habe ich einen interaktiven Taschenrechner erstellt, um Interessierten zu helfen: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">btcodecs.valdikss.org.ru/sbc-bitrate-calculator</a> <br><br><h2>  Wof√ºr ist das alles? </h2>  Entgegen der weit verbreiteten Meinung zur aptX-Klangqualit√§t kann sie in einigen F√§llen eine schlechtere Audioqualit√§t als SBC mit einer Standard-Bitrate von 328 KB erzeugen. <br><br>  SBC ordnet Quantisierungsbits f√ºr Frequenzb√§nder dynamisch zu und wirkt "von unten nach oben".  Wenn die gesamte Bitrate f√ºr die unteren und mittleren Frequenzen verwendet wurde, werden die oberen Frequenzen "abgeschnitten" (stummgeschaltet). <br>  aptX quantisiert Frequenzb√§nder mit der gleichen Anzahl von Bits konstant, was es zu einem Codec mit konstanter Bitrate macht: 352 kbps f√ºr 44,1 kHz, 384 kbps f√ºr 48 kHz.  Es kann keine Bits auf Frequenzen √ºbertragen, die sie am dringendsten ben√∂tigen.  Im Gegensatz zu SBC "schneidet" aptX keine Frequenzen, sondern f√ºgt ihnen Quantisierungsrauschen hinzu, reduziert den Dynamikbereich von Audio und f√ºhrt manchmal zu Knistern.  SBC hingegen "frisst die Details" - verwirft die ruhigsten Bereiche. <br>  Im Vergleich zu SBC 328k macht aptX im Durchschnitt weniger Verzerrungen bei Musik mit einem breiten Frequenzbereich, aber bei Musik mit einem engen Frequenzbereich und einem gro√üen Dynamikbereich gewinnt SBC 328k manchmal. <br><br>  Betrachten wir einen Sonderfall, eine Klavieraufnahme.  Hier ist ein Spektrogramm: <br> <a href=""><img src="https://habrastorage.org/webt/i9/uh/z1/i9uhz1ewchvoprxywldrtfknlom.jpeg" alt="Bild"></a> <br><br>  Die meiste Energie befindet sich in den Frequenzen von 0 bis 4 kHz und dauert bis zu 10 kHz. <br>  Das Spektrogramm der Datei aptX sieht folgenderma√üen aus: <br> <a href=""><img src="https://habrastorage.org/webt/sx/3i/lw/sx3ilwm6riwrjelw-ofmljdd54m.jpeg" alt="Bild"></a> <br><br>  Hier ist SBC 328k: <br> <a href=""><img src="https://habrastorage.org/webt/ah/ob/br/ahobbramaxjmsr0htxagkiflomk.jpeg" alt="Bild"></a> <br><br>  Es ist ersichtlich, dass der SBC 328k den Bereich √ºber 16 kHz periodisch vollst√§ndig abschneidet und alle verf√ºgbaren Bitraten f√ºr die Frequenzbereiche unter diesem Wert verwendet.  AptX f√ºhrte jedoch mehr Verzerrungen in das vom menschlichen Ohr h√∂rbare Frequenzspektrum ein, die auf dem vom aptX-Spektrogramm subtrahierten urspr√ºnglichen Audiospektrogramm zu sehen sind (je heller, desto st√§rker verzerrt): <br> <a href=""><img src="https://habrastorage.org/webt/_e/vj/gv/_evjgvlrkbymm5ptv5ymkn2orya.jpeg" alt="Bild"></a> <br><br>  SBC 328k hat das Signal im Bereich von 0 bis 10 kHz weniger verzerrt, und die Restfrequenzen von wurden reduziert: <br> <a href=""><img src="https://habrastorage.org/webt/-a/m6/23/-am623wsmq09jfcr80kmkjubp0u.jpeg" alt="Bild"></a> <br><br>  Eine Bitrate von 485k reichte f√ºr SBC aus, um den gesamten Frequenzbereich zu speichern, ohne die B√§nder abzuschneiden. <br> <a href=""><img src="https://habrastorage.org/webt/xx/a0/pa/xxa0patcvltugsfjwxzmh_na_rm.jpeg" alt="Bild"></a> <br><br>  SBC 485k liefert bei diesem Sample viel bessere Ergebnisse im Bereich von 0 bis 15 kHz als aptX und einen kleineren, aber immer noch sp√ºrbaren Unterschied bei 15 bis 22 kHz (je dunkler, desto weniger Verzerrung): <br> <a href=""><img src="https://habrastorage.org/webt/yv/mi/7v/yvmi7vfj5-ot3ztrfv-gvx43yxy.jpeg" alt="Bild"></a> <br><br>  <a href="">Archiv mit Original-Audio- und SBC / aptX-codierten Dateien</a> . <br><br>  Wenn Sie zu einem SBC mit hoher Bitrate wechseln, erhalten Sie auf jedem Kopfh√∂rer einen Sound, der aptX die meiste Zeit √ºberlegen ist.  Bei Kopfh√∂rern mit EDR 3 Mb / s-Unterst√ºtzung erzeugt SBC mit 551 kb / s einen Klang, der aptX HD sehr nahe kommt. <br><br><h2>  K√∂nnen wir noch weiter gehen? </h2>  Das Android-Patchset bietet eine zus√§tzliche Option, um die Bitrate f√ºr EDR-Ger√§te mit 2 MBit / s noch weiter zu erh√∂hen.  Sie k√∂nnen die Bitrate von 452 kbit / s auf 595 kbit / s erh√∂hen, um die Stabilit√§t der √úbertragung bei √ºberlasteten Funkbedingungen zu verringern. <br>  Setzen Sie einfach die Variable persist.bluetooth.sbc_hd_higher_bitrate auf 1: <br><pre> <code class="plaintext hljs"># setprop persist.bluetooth.sbc_hd_higher_bitrate 1</code> </pre> <br>  Patch mit extremer Bitrate wird derzeit nur in LineageOS 15.1 zusammengef√ºhrt, nicht jedoch in 16.0. <br><br><h2>  Kompatibilit√§t mit den Ger√§ten </h2>  SBC Dual Channel wird von fast allen Kopfh√∂rern, Lautsprechern und Autokopfeinheiten unterst√ºtzt.  Dies ist kein Wunder - der Standard schreibt seine Unterst√ºtzung f√ºr alle Dekodierungsger√§te vor.  Es gibt eine kleine Anzahl von Ger√§ten, auf denen dieser Modus Probleme verursacht, aber dies sind sehr seltene F√§lle. <br>  Weitere Details zu kompatiblen Ger√§ten finden Sie unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">w3bsit3-dns.com</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">xda-Entwicklern</a> . <br><br><h2>  Klangunterschiedsvergleich </h2>  Ich habe einen Webdienst erstellt, der Audio in Echtzeit direkt im Browser in SBC (sowie in aptX und aptX HD) codiert.  Mit diesem Dienst k√∂nnen Sie den Klang verschiedener SBC-Profile und anderer Codecs vergleichen, ohne tats√§chlich Audio √ºber Bluetooth zu √ºbertragen, √ºber kabelgebundene Kopfh√∂rer, Lautsprecher und Ihre Lieblingsmusik.  Sie k√∂nnen die Codierungsparameter auch direkt w√§hrend der Audiowiedergabe √§ndern. <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">btcodecs.valdikss.org.ru/sbc-encoder</a> <br><br><h2>  Kontaktaufnahme mit Android-Entwicklern </h2>  Ich habe versucht, viele Bluetooth-Stack-Entwickler von Google zu kontaktieren und sie gebeten, meine Patches in den Haupt-Android-Zweig - AOSP - aufzunehmen, erhielt jedoch keine einzige Antwort.  Meine Patches im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Gerrit-Code-√úberpr√ºfungssystem f√ºr Android</a> haben auch keine Kommentare von Personen erhalten, die an der Entwicklung beteiligt waren. <br>  Ich w√ºrde mich freuen, wenn jemand Google-Entwicklern von dieser Implementierung von SBC HD f√ºr Android erz√§hlen k√∂nnte.  Das Gerrit-Patchset ist bereits veraltet (dies ist eine der fr√ºhesten √úberarbeitungen), aber ich werde es aktualisieren, wenn Entwickler an meinen √Ñnderungen interessiert sind (es ist nicht einfach f√ºr mich, es zu aktualisieren, ich habe keine Android Q-kompatiblen Ger√§te). . <br><br><h2>  Fazit </h2>  Benutzer von LineageOS, Resurrection Remix und crDroid-Firmwares k√∂nnen die Bluetooth-Audioqualit√§t verbessern, indem sie ein Kontrollk√§stchen in den Bluetooth-Ger√§teeinstellungen aktivieren.  Linux-Benutzer k√∂nnen auch eine h√∂here SBC-Bitrate <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">erzielen</a> , indem sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">den Patch von Pali Roh√°r installieren</a> , der unter anderem die Unterst√ºtzung der Codecs aptX, aptX HD und FastStream bietet. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de456476/">https://habr.com/ru/post/de456476/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de456462/index.html">Zusammenstellen einer Bibliothek von Winkelkomponenten als Webkomponenten</a></li>
<li><a href="../de456466/index.html">PHP-Generika heute (na ja, fast)</a></li>
<li><a href="../de456470/index.html">Fallstricke des WSUS Package Publisher</a></li>
<li><a href="../de456472/index.html">Einf√ºhrung in Go und das Mggo Framework</a></li>
<li><a href="../de456474/index.html">Tic Tac Toe Teil 0: Vergleich von Svelte und React</a></li>
<li><a href="../de456482/index.html">Fang mich, wenn du kannst. K√∂nig Version</a></li>
<li><a href="../de456486/index.html">Schnittstelle und Auswahl (2014)</a></li>
<li><a href="../de456488/index.html">Schnelle Protokollierung</a></li>
<li><a href="../de456490/index.html">Vortr√§ge √ºber das Gehirn, Teil 1. Die Entwicklung des menschlichen Gehirns. Das Gehirn funktioniert in jeder Phase seiner Entwicklung</a></li>
<li><a href="../de456492/index.html">Trollarmee</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>