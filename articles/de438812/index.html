<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨‍👩‍👧‍👧 🙉 🧜 HH-Front-End-Codequalität ✌🏽 🔨 🎽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Headhunter ist ein Produktunternehmen, die Qualität des Codes ist uns sehr wichtig. Je besser es ist, desto schneller können wir neue Geschäftsfunktio...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>HH-Front-End-Codequalität</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/hh/blog/438812/"><p>  Headhunter ist ein Produktunternehmen, die Qualität des Codes ist uns sehr wichtig.  Je besser es ist, desto schneller können wir neue Geschäftsfunktionen veröffentlichen und desto häufiger gefallen die Benutzer. </p><br><p>  Für jede Pull-Anforderung müssen Sie eine Überprüfung bestehen, auch wenn nur eine Zeile geändert wird.  Mindestens eine Person benötigt eine Bewertung, die Überprüfung ist offen, jeder kann teilnehmen, und dies ist willkommen.  Eine Überprüfung ist erforderlich, um die Qualität des Codes zu verbessern und Wissen zwischen verschiedenen Teams zu verbreiten. </p><br><p><img src="https://habrastorage.org/webt/ny/vq/jh/nyvqjhvmefsdb3n3evqppvsk8gu.png"></p><a name="habracut"></a><br><p>  Zuvor hatte die Überprüfung ständige Debatten darüber, wie und was richtig zu schreiben ist.  Es hat viel Zeit und Mühe gekostet.  Um diese Probleme zu lösen, wurde ein Style Guide geschrieben.  Er hat sehr geholfen, als eine Quelle der Wahrheit auftauchte, auf die immer Bezug genommen werden kann.  Der Style Guide hilft auch Anfängern beim Einstieg in das Projekt und erklärt sofort, was und wie zu schreiben ist und was in einer Rezension zu erwarten ist. </p><br><p>  Trotzdem gab es ein großes Problem mit dem Style Guide - die Leute vergaßen ihn oft, er musste ihn ständig neu lesen und mit der Pull-Anfrage verknüpfen, um zu beweisen, dass er Recht hatte.  Infolgedessen geriet die Überprüfung manchmal in voreingenommene Streitigkeiten, so etwas stellte sich heraus: </p><br><p><img src="https://habrastorage.org/webt/vo/bd/-y/vobd-yd73in6mfjyf5ybodjbtze.png"></p><br><p>  Sie selbst verstehen, wie sehr dies den Entwickler motiviert und wie viel Zeit für nutzlose Streitigkeiten in der Überprüfung aufgewendet wird.  Infolgedessen wollten die Leute andere Entwickler nicht überprüfen und überprüfen. </p><br><p> Um den Kopf des Autors des Codes und den Prüfer weniger mit Fragen zu beschäftigen, wie Kommas gesetzt werden sollen und in welcher Reihenfolge die Regeln für den <code>border</code> wir beschlossen, die Automatisierung zu implementieren. Damals war es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">jshint</a> , es wurde viel besser.  Nach dem Wechsel zu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">eslint</a> wegen einer Reihe von Vorteilen: </p><br><ul><li>  Er ist flexibler </li><li>  Es gibt alle Arten von Plugins dafür. </li><li>  Verschiedene Unternehmen haben gute vorgefertigte Konfigurationen </li></ul><br><p>  Lange Zeit haben wir von der <code>airbnb</code> geerbt, aber nicht alles passte zu uns, wir mussten einige Regeln neu definieren.  Es war nicht sehr praktisch, daher haben wir unsere Konfiguration basierend auf Airbnb geschrieben.  Wir haben auch Pre-Commit-Haken hinzugefügt, zu dieser Zeit haben wir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Husky verwendet</a> .  Wenn der Entwickler etwas falsch geschrieben hat, hat er es sofort herausgefunden, als er versucht hat, seine Änderungen an Github zu übergeben. </p><br><p>  Leider deckte eslint nicht alle Aspekte der Code-Formatierung ab. Zur Lösung dieses Problems wurde eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">schönere</a> Version hinzugefügt. </p><br><p>  Glücklicherweise arbeiten eslint und prettier gut zusammen. Sie müssen nur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">eslint-plugin-</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">prettier</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">eslint-config-prettier setzen</a> und dann <code>.eslintrc</code> wie <code>.eslintrc</code> reparieren: </p><br><pre> <code class="plaintext hljs">... "plugins": ["prettier"], "extends": ["@hh.ru/eslint-config", "prettier"], "rules": { "prettier/prettier": ["error"], ...</code> </pre> <br><p>  Bevor all dies für das <code>yarn eslint --fix &lt;path_to_js&gt;</code> die gesamte Codebasis durchgesehen und korrigiert werden, um den neuen Regeln zu entsprechen. Es stellte sich heraus, dass dies überhaupt nicht schwierig war: <code>yarn eslint --fix &lt;path_to_js&gt;</code> </p><br><p>  Danach verschwand der größte Teil der Debatte über das Schreiben und Formatieren des Codes, da alles durch Automatisierung abgedeckt ist.  Insgesamt haben wir jetzt: </p><br><ul><li>  Alle js und jsx werden mit eslint und prettier überprüft und automatisch repariert. </li><li>  Für weniger wird <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Stylelint</a> verwendet. </li><li>  Für Python Flake8. </li></ul><br><p>  Geänderte Dateien werden auf dem Computer des Entwicklers beim <code>.lintstagedrc</code> mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">lint-staged</a> überprüft. Hier ist unsere <code>.lintstagedrc</code> : </p><br><pre> <code class="plaintext hljs">{ "*.{js,jsx}": ["eslint --fix", "git add"], "*.less": "stylelint", "*.py": "flake8", "package.json": "bash -c 'yarn check-versions &amp;&amp; yarn install --frozen-lockfile'", }</code> </pre> <br><p>  Ein Code, der bereits Flusen und Tests bestanden hat, gelangt in den Github. Der Prüfer muss nicht mehr darüber nachdenken und auf die kleinen Dinge achten.  Sie können sich ganz darauf konzentrieren, wie gut der Code geschrieben ist, wenn Leistungsprobleme auftreten, und über die Architektur nachdenken. </p><br><p>  Nach der Überprüfung wird der Docker-Container zusammengebaut. Während der Zusammenstellung werden alle Autotests und Linters ausgeführt.  Jetzt dauert der gesamte Montageprozess ungefähr 7,5 Minuten, während wir jetzt ungefähr 1000 js und 650 weniger Dateien haben.  All dies ist notwendig, da Sie lokal auf dem Computer mit <code>--no-verify</code> überspringen können und Kommentare im Github die Aufgabe nicht blockieren.  Täuschen Sie, dass die Baugruppe nicht funktioniert. </p><br><p>  Nach dem Bestehen der Autotests beginnt der manuelle Test.  Wenn der Tester keinen einzigen Fehler findet, geht die Aufgabe zu prod. </p><br><p>  Wenn zu irgendeinem Zeitpunkt ein Fehler auftritt, wird die Aufgabe zur Überarbeitung zurückgegeben. </p><br><p>  Das Ergebnis war: </p><br><ul><li>  Es ist einfacher und schneller, Code zu schreiben. </li><li>  Einfachere Überprüfung </li><li>  Der Assistent hat immer einen Qualitätscode </li><li>  Weniger Kontroversen, mehr Glück </li></ul><br><p>  Wir überwachen die Qualität des Codes während der Ausführung von Geschäftsaufgaben, aber das Produkt entwickelt sich ständig weiter, zusätzliche Bedingungen erscheinen im Code, die Komplexität nimmt zu.  Es erscheinen auch neue Technologien, alte sterben ab, eine technische Steuer entsteht.  Im Rahmen der Steuer beschäftigen wir uns mit: </p><br><ul><li>  Benutzerdefinierte Seitenoptimierung </li><li>  Infrastrukturänderung </li><li>  Verbesserung der Codebasis </li></ul><br><p>  Alle Produktteams sollten 70% ihrer Zeit für die Entwicklung von Geschäftsaufgaben und 30% für Steuern aufwenden. Dies gibt jedem Entwickler die Möglichkeit, sich an Infrastrukturaufgaben zu beteiligen, die Codebasis in ausgezeichnetem Zustand zu halten und Wissen über die Projektinfrastruktur in allen Teams zu verbreiten.  Als Steuer ist es nicht erforderlich, die Aufgaben Ihres Teams zu erledigen. Sie können Code in jeden Teil des Projekts schreiben.  Jeder kann eine Steuer vorschlagen, wenn sie nützlich erscheint, wird sie dem Rückstand hinzugefügt.  Darüber hinaus gibt es Architektenteams, die sich ständig mit technologischen Merkmalen befassen.  All dies ermöglicht es Ihnen, die Codebasis auf dem neuesten Stand zu halten. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de438812/">https://habr.com/ru/post/de438812/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de438802/index.html">Sommerprogramme für 2019 für das Unterrichten von Teenagern, die im Ausland programmieren</a></li>
<li><a href="../de438804/index.html">Warten auf alle beim nächsten CocoaHeads Meetup</a></li>
<li><a href="../de438806/index.html">Probleme der literarischen Übersetzung</a></li>
<li><a href="../de438808/index.html">ModelMapper: Hin- und Rückfahrt</a></li>
<li><a href="../de438810/index.html">HTTP / 3: von der Wurzel bis zur Spitze</a></li>
<li><a href="../de438814/index.html">Ein nüchterner Blick auf Helm 2: "Das ist es ..."</a></li>
<li><a href="../de438818/index.html">UDB. Was ist das Teil 5. Datenpfad. Nützliche Kleinigkeiten</a></li>
<li><a href="../de438820/index.html">Wissensmanagement: Welche Dokumente werden benötigt und was muss in ihnen repariert werden?</a></li>
<li><a href="../de438824/index.html">Remote Management Kurzkurs</a></li>
<li><a href="../de438826/index.html">Verschärfen Sie die Englischkenntnisse für ein Interview - Methodik und Arbeitskosten</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>