<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚴🏿 🤾🏿 🐳 Mini AI Cup # 3: Einen Top Bot schreiben 🏿 👩🏽‍🎨 👨🏿‍🎤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Im Frühherbst wurde der Wettbewerb um das Schreiben von Bots Mini AI Cup # 3 (auch bekannt als Mad Cars) abgeschlossen, bei dem die Teilnehmer auf Aut...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mini AI Cup # 3: Einen Top Bot schreiben</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/430466/"><p><img src="https://habrastorage.org/webt/uk/nd/_2/uknd_2qxbi4b0qt85hqcoxgvt7i.png"></p><br><p>  Im Frühherbst wurde der Wettbewerb um das Schreiben von Bots <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mini AI Cup # 3</a> (auch bekannt als Mad Cars) abgeschlossen, bei dem die Teilnehmer auf Autos kämpfen mussten.  Die Teilnehmer diskutierten viel darüber, was funktionieren wird und was nicht, Ideen wurden ausgedrückt und getestet, vom einfachen Wenn bis zum Training neuronaler Netze, aber die Jungs belegten die Spitzenplätze mit der sogenannten "Simulation".  Versuchen wir zu verstehen, was es ist, vergleichen Sie die Lösungen für den 1., 3. und 4. Platz und diskutieren Sie über das Thema anderer möglicher Lösungen. </p><a name="habracut"></a><br><h1 id="diskleymer">  Haftungsausschluss </h1><br><p>  Der Artikel wurde in Zusammenarbeit mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Alexei Dichkovsky (Commandos)</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Vladimir Kiselev (Valdemar) verfasst</a> . </p><br><p>  Für diejenigen, die nur über die Entscheidungen der Gewinner lesen möchten, empfehle ich Ihnen, sofort mit dem Punkt „Simulation“ zu beginnen. </p><br><h1 id="postanovka-zadachi">  Erklärung des Problems </h1><br><p> Diesmal war die Mechanik der Welt dem Handyspiel Drive Ahead sehr ähnlich: Die Spieler erhielten ein Auto mit einem Knopf darauf;  Die Aufgabe besteht darin, den Knopf des Feindes schneller zu drücken als er.  Wenn in 600 Spiel-Ticks niemand gewinnt, sinkt die Karte in einen Müllhaufen, der auch einen Knopf drücken kann.  Mit anderen Worten, Sie müssen Ihren Knopf vor Feinden, der Welt um Sie herum und Müllhaufen schützen (lebenswichtig, ja).  Jeder Spieler erhielt 5 Leben, das Spiel dauerte 5 bis 9 Runden, während jemand sein Leben nicht beendete.  Jede Runde wurde auf einer zufälligen Karte und Autos abgehalten, die für beide Teilnehmer gleich waren.  Insgesamt gab es 6 verschiedene Karten und 3 Fahrzeugtypen - insgesamt 18 verschiedene Kombinationen. </p><br><p> Jede Runde ist in Zecken unterteilt.  Ein Tick ist ein Zug, wie im Schach.  Der einzige Unterschied ist, dass beide Spieler gleichzeitig gehen.  Es gibt Wettbewerbe, bei denen sich jeder abwechselt, oder Sie können eine Aktion nur einmal alle paar Züge ausführen und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Einheiten als Rahmen auswählen</a> . <br>  Jeder Tick für den Bot ist ein Zustand des Friedens und bietet die Möglichkeit, drei Aktionen auszuführen: <code></code> , <code></code> , <code></code> .  Diese Aktionen bringen das Auto in eine der Richtungen, und wenn es gleichzeitig die Räder der Erde nicht berührt, geben sie dem ganzen Körper eine kleine Drehung (ein bisschen Arcade-Physik).  Nachdem beide Gegner eine Aktion ausgewählt haben, wird eine Simulation der Spielwelt gestartet, ein neuer Zustand betrachtet und an die Spieler gesendet.  Wenn jemand auf eine Schaltfläche geklickt hat, endet die Runde und die nächste beginnt.  Alles ist einfach, aber es gibt Nuancen. </p><br><p>  Vollständigere Regeln finden Sie <a href="">hier</a> .  Und sehen Sie die Finalspiele <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> . </p><br><h1 id="obschee-opisanie-resheniya">  Allgemeine Lösungsbeschreibung </h1><br><p>  Die meisten Bot-Schreibwettbewerbe sind sehr ähnlich: Es gibt eine endliche Anzahl von Ticks (es gibt maximal 1.500 für eine Runde), es gibt eine endliche Anzahl von möglichen Aktionen, Sie müssen eine Abfolge von Aktionen auswählen, um besser als Ihre Gegner zu sein.  Wenig später kehren wir zu dem zurück, was es bedeutet, besser zu sein, aber jetzt werden wir herausfinden, wie wir mit dem Hauptproblem umgehen sollen - einer Vielzahl von Optionen: Zu Beginn haben wir einen Anfangszustand, dann kann sich jede Maschine auf drei verschiedene Arten bewegen gibt uns 9 verschiedene Kombinationen für zwei Autos, durch die 1.500 Bewegung werden es 9 ^ 1.500 verschiedene Kombinationen sein ... Das ist etwas mehr als wir möchten, wenn wir planen, Zeit zu haben, um sie während der Existenz des Universums zu sortieren. </p><br><p>  Hier kommen wir zu dem, was <strong>Simulation ist</strong> .  Dies ist kein Algorithmus, sondern lediglich eine Neuerstellung der Spielregeln mit ausreichender oder vollständiger Genauigkeit, damit die Lösungen sortiert werden können.  Natürlich werden wir nicht alle Lösungen durchgehen, sondern nur einen Teil davon.  Hierfür wird ein Suchalgorithmus verwendet - im Spielstatusbaum suchen wir das Beste für uns.  Es gibt viele Algorithmen (von Minimax bis MCTS), jeder hat seine eigenen Nuancen.  Machen Sie sich am besten mit den Entscheidungen vertraut, die Teilnehmer früherer KI-Wettbewerbe getroffen haben.  Dies liefert ein grundlegendes Verständnis darüber, unter welchen Bedingungen die Algorithmen funktionieren und unter welchen nicht.  Dafür gibt es in einem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">speziellen Repository</a> viele Links. </p><br><p>  Bei der Auswahl eines Algorithmus sollten Sie Folgendes berücksichtigen: </p><br><ul><li>  Zeitlimit für 1 Tick (hier habe ich mich dieses Jahr viel verrechnet, konnte aber auf dem 3. Platz bleiben); </li><li>  Anzahl der Spieler.  Wenn beispielsweise drei Spieler vorhanden sind, ist es schwierig, Minimax zu verwenden. </li><li>  Simulationsgenauigkeit, as  Dies kann die Wiederverwendung alter Berechnungen ermöglichen. </li><li>  "Verzweigung" des Zustandsbaums (ist es möglich, alle möglichen Zustände mindestens 10 Schritte voraus zu berechnen); </li><li>  gesunder Menschenverstand - schreiben Sie kein MCTS, wenn der Wettbewerb 4 Stunden dauert. </li></ul><br><p>  In diesem Wettbewerb ergab 1 Tick ungefähr 10-13 ms (2 Minuten für das gesamte Spiel).  Während dieser Zeit musste der Bot die Daten lesen, eine Entscheidung treffen und einen Befehl zum Verschieben senden.  Dies war genug, um ungefähr 500-1000 Bewegungen zu stimulieren.  Iterieren Sie über alle Zustände.  Der einfachste Suchalgorithmus sieht möglicherweise aus wie ein Vergleich von drei Bewegungsoptionen: "50 Ticks gehen nach links", "50 Ticks gehen nach rechts", "50 Ticks klicken auf Stopp".  Und egal wie einfach es klingt, es ist nicht weit von der Entscheidung des Gewinners entfernt. </p><br><p>  Weil  Wir zählen nur 50 Züge voraus, was in den meisten Fällen erst am Ende des Spiels zählt. Dann brauchen wir <strong>eine Bewertungsfunktion</strong> , die sagt, wie gut und schlecht der Zustand der Welt für uns ist.  Meistens basiert es auf Heuristiken und dem Verständnis, was für den Sieg wichtig ist.  Zum Beispiel gab es beim russischen AI Cup-Wettbewerb 2014 Rennen, aber Sie könnten gewinnen, wenn Sie zuletzt ankommen und mehr Bonuspunkte erhalten.  Daher sollte die Bewertungsfunktion das Sammeln von Punkten gleichzeitig mit der schnellen Bewegung entlang der Autobahn stimulieren.  Die Punktzahl kann nur für den letzten Zustand der Simulation (nach 50 Ticks) oder als Summe der Schätzungen der Zwischenzustände berechnet werden.  Oft „verblasst“ die Schätzung mit der Zeit, sodass früher auftretende Zustände stärker beeinflusst werden.  Weil  Wir können den Feind nicht sicher vorhersagen, dann sind zukünftige Optionen weniger wahrscheinlich, wir werden uns nicht stark auf sie verlassen.  Außerdem beschleunigt diese Technik den Bot, um seine Aufgaben zu erledigen, und verschiebt nicht alles für später.  Es ist jedoch anzumerken, dass der Bot im Interesse späterer Vorteile weniger Risiken eingeht. </p><br><p>  Da wir den Zustand der Welt als Reaktion auf unsere Handlungen vorhersagen werden, müssen wir das Verhalten von Feinden irgendwie modellieren.  Es gibt nichts Kompliziertes und es gibt einige gängige Optionen: </p><br><ul><li>  <strong>Stub oder Heuristik</strong> <br>  Es wird eine einfache Verhaltenslogik geschrieben, bei der der Feind einfach nichts tut oder Aktionen basierend auf einfachen Heuristiken auswählt (Sie können beispielsweise Ihre ersten Versionen der Strategie verwenden oder einfach den vorherigen Zug des Gegners wiederholen). </li><li>  <strong>Verwenden Sie den gleichen Algorithmus wie für sich</strong> <br>  Zuerst versuchen wir, die besten Aktionen für den Feind zu finden (gegen unsere besten Aktionen aus dem letzten Zug oder gegen einen Stummel), und dann suchen wir nach der besten Aktion für uns selbst, indem wir das Verhalten verwenden, das der Feind gefunden hat.  Hier wird der Bot versuchen, kniffligen Feinden zu widerstehen.  Diese Logik funktioniert zu Beginn des Wettbewerbs nicht gut, weil  Viele Bots sind immer noch sehr schwach und Ihre Entscheidung wird mit ihnen zu vorsichtig sein. </li><li>  <strong>Andere</strong> <br>  Der gleiche Minimax iteriert über alle Züge der Spieler gleichzeitig, und er benötigt einfach keine Heuristiken. </li></ul><br><p>  Wenn Sie alle oben genannten Schritte ausführen, erhalten Sie höchstwahrscheinlich einen sehr guten Bot, insbesondere wenn Sie eine gute Bewertungsfunktion übernehmen können.  Aber wenn man seine Kämpfe durchschaut, kann man sehen, dass er sich in bestimmten Situationen seltsam verhält.  Das Korrigieren der Bewertungsfunktion für diese Situationen kann schwierig sein oder es besteht ein großes Risiko, dass eine andere Logik verletzt wird.  Hier kommen Krücken und Wenns zur Rettung.  Ja, in den letzten Tagen des Wettbewerbs ging es oft darum, Krücken und Wenns zu schreiben, um die Fehler unter bestimmten Bedingungen zu beheben.  Persönlich mag ich diesen Teil wirklich nicht, aber ich habe mehr als einmal bemerkt, dass es Krücken im Finale sind, die die Anordnung der Plätze in den Top Ten beeinflussen können, was bedeutet, dass ein ungeschriebenes Wenn Sie einen Preis kosten kann (mein Herz tut weh, wenn ich diese Worte schreibe, ich Ich liebe auch schöne Algorithmen und Lösungen. </p><br><p>  <strong>F: Kann man überhaupt auf Simulation verzichten?</strong> <br>  <em>A: Ja, Sie können Lösungen für Heuristiken verwenden (Entscheidungsbäume, eine Reihe von Wenns usw.).</em>  <em>Es gibt einen guten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel</a> mit KI-Architekturen zur Heuristik.</em> </p><br><p>  <strong>F: Wie viel besser ist die Verwendung von Simulationen als heuristische Ansätze?</strong> <br>  <em>A: Es hängt alles von der Aufgabe ab.</em>  <em>Zum Beispiel könnten hier einige Kombinationen von Karten und Autos mit Wenns fest codiert werden und immer gewinnen (oder ziehen).</em>  <em>Oft findet die Simulation jedoch Lösungen, die für sich selbst schwer zu denken oder Heuristiken schwer zu implementieren sind.</em>  <em>Wenn Sie in diesem Wettbewerb ein anderes Auto umdrehen, setzen die Lösungen in den Simulationen das Rad auf das Rad des Feindes, wodurch die Flagge "in der Luft" ausgeschaltet wird. Dies bedeutet, dass der Feind die Drehung des Körpers nicht anwenden und die Räder nicht wieder drehen kann.</em>  <em>Aber die Entscheidung dachte nicht über die Bedeutung nach, sondern fand nur Optionen, bei denen der Feind schneller auf das Dach fallen und seinen Knopf drücken würde.</em> </p><br><p><img src="https://habrastorage.org/webt/in/i4/wk/ini4wk8qqxl7dfzdzlcegwpmyyq.gif"></p><br><p>  <strong>F: Neuronale Netze und RL?</strong> <br>  <em>A: Egal wie beliebt dies ist, in Bot-Wettbewerben funktionieren solche Lösungen selten gut.</em>  <em>Obwohl neuronale Netze keine Simulation benötigen, weil</em>  <em>Sie können einfach eine Aktion ausführen, die auf den Eingabeparametern des aktuellen Status basiert. Sie müssen noch etwas lernen, und dafür müssen sie häufig einen Simulator schreiben, um Spiele zu Tausenden lokal zu steuern.</em>  <em>Persönlich glaube ich, dass sie Potenzial haben.</em>  <em>Vielleicht können sie einen Teil des Problems lösen oder es unter Bedingungen sehr begrenzter Reaktionszeit verwenden.</em> </p><br><p>  <strong>Hinweis</strong> <br>  <em>In Bezug auf die endliche Anzahl möglicher Aktionen sollte klargestellt werden, dass es manchmal erlaubt ist, einige Parameter "reibungslos" anzupassen.</em>  <em>Zum Beispiel nicht nur vorwärts fahren, sondern mit einem gewissen Prozentsatz an Leistung.</em>  <em>In diesem Fall kann die „Endlichkeit“ der Anzahl der Schlussfolgerungen leicht erreicht werden, indem einfach mehrere Werte verwendet werden, beispielsweise 0%, 25%, 50%, 75% und 100%.</em>  <em>Meistens reichen nur zwei aus: "Voll ein" und "Voll aus".</em> </p><br><h1 id="simulyaciya">  Simulation </h1><br><p>  In diesem Wettbewerb haben wir die fertige <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Chipmunk-Physik-</a> Engine verwendet.  Die Erwartungen der Organisatoren waren, dass er alt und erprobt ist und viele Wrapper hat, damit jeder es in seine Entscheidung einbeziehen kann ... </p><br><p>  In der harten Realität erzeugte der Motor jedes Mal andere Werte, was es schwierig machte, ihn neu zu starten, um die Optionen für Bewegungen zu berechnen.  Das Problem wurde „frontal“ gelöst - ein Speicherzuweiser wurde in C geschrieben und ein Speicher mit dem Zustand der Welt wurde vollständig kopiert.  Ein solcher Allokator machte der Fähigkeit ein Ende, Lösungen in anderen Sprachen als C ++ zu schreiben (tatsächlich war es möglich, aber sehr arbeitsintensiv und ein Allokator müsste noch in C geschrieben werden).  Darüber hinaus wurde die Genauigkeit der Vorhersage durch die Reihenfolge des Hinzufügens von Elementen zur Spielwelt beeinflusst, was eine sehr genaue Kopie des Codes erforderte, den die Organisatoren zur Berechnung der Spiele verwendeten.  Aber er war schon in Python.  Das letzte Highlight im Sarg anderer Programmiersprachen war, dass die Engine alt ist und viele Optimierungen enthält, die während des Wettbewerbs nicht genau wiederhergestellt werden können, um Ihre eigene Version der Physiksimulation zu erhalten. </p><br><p>  Infolgedessen wurde der Motor, der allen Teilnehmern gleiche Bedingungen für die Simulation von Bewegungen bieten sollte, zum schwierigsten Hindernis.  Über 10 Personen konnten es überwinden. Die ersten 7 Plätze in der Rangliste wurden ausschließlich von den Jungs belegt, die die genaue Simulation durchgeführt haben, was als Beweis für ihre Bedeutung in solchen Wettbewerben dienen kann. </p><br><p>  Mit Ausnahme einiger Teilnehmer, die in der Lage waren, in das Innere des Chipmunks einzudringen und dessen Kopierzustand zu optimieren, hatte der Rest eine Simulation mit ungefähr derselben Leistung (was die Konkurrenz etwas interessanter machte, weil Sie wissen, dass der Kampf um den Entscheidungsalgorithmus geht, nicht "Wer zählt die Züge mehr"). </p><br><h1 id="algoritm-poiska-i-predskazanie-protivnika">  Algorithmus zum Suchen und Vorhersagen eines Gegners </h1><br><p>  Ab diesem Punkt beginnt eine separate Beschreibung der Lösungen.  Algorithmen werden im Namen des Autors beschrieben. </p><br><h3 id="vladimir-kiselev-valdemar-4-mesto">  Vladimir Kiselev (Valdemar) 4. Platz </h3><br><p>  Eine zufällige Suche (Monte Carlo) wurde verwendet, um den Lösungsraum zu durchsuchen.  Der Algorithmus ist wie folgt: </p><br><ol><li>  Wir initialisieren das Genom - eine Folge von Aktionen (links, rechts, Stopp) für 60 Ticks - zufällige Daten. </li><li>  Nehmen Sie das beste gefundene Genom </li><li>  Ändern Sie zufällig eine der Aktionen </li><li>  Mit der Bewertungsfunktion erhalten wir eine Zahl - ein Indikator dafür, wie gut das neue Genom ist </li><li>  Wenn Sie eine bessere Lösung erhalten, aktualisieren Sie die beste Lösung. </li><li>  Wiederholen Sie erneut ab Schritt 2 </li></ol><br><p>  Mein Simulator hat in 1 Sekunde ~ 100.000 Simulationen der Welt erstellt. Wenn man bedenkt, dass es durchschnittlich ~ 12 ms pro Tick gibt, erhalten wir 1200 Aktionen pro Tick.  Das heißt, in 1 Tick schaffen wir es ungefähr 20 Mal, den gesamten Zyklus zu durchlaufen. </p><br><p>  Um die optimale Lösung zu finden, reichte diese Anzahl von Iterationen eindeutig nicht aus.  Daher wurde die Idee mit "Stretching" -Aktionen verwirklicht: Anstelle des Genoms von 60 Zügen werden wir mit einer Kette von 12 "gestreckten" Zügen arbeiten - wir glauben, dass jede Aktion 5 Ticks hintereinander dauert. <br>  Plus: Um die Qualität der Mutationen zu verbessern, indem die Länge des Genoms verringert wird, kann die Simulation auch alle 5 Ticks ausgeführt werden und 100 statt 20 Genome überprüfen (um Zeitverzögerungen zu vermeiden, habe ich schließlich bei 70 aufgehört). <br>  Weniger: Dehnungsvorgänge können zu nicht optimalen Lösungen führen (z. B. Schwingen am Stoßfänger anstelle eines stabilen Racks). </p><br><p>  Es sind die Techniken zu beachten, die die Qualität des Algorithmus erheblich verbessert haben: </p><br><ul><li>  Wir führen eine zufällige Initialisierung nur beim ersten Tick durch, den Rest der Zeit verwenden wir die beste Lösung, die mit einer Verschiebung von 1 Zug gefunden wurde (die Aktion beim 2. Tick wird zum 1. verschoben usw. Eine zufällige Aktion wird zum Ende hinzugefügt).  Dies verbessert die Qualität der Suche erheblich, da der Algorithmus sonst "vergisst", was er beim letzten Tick tun würde, und sinnlose Rucke in verschiedene Richtungen macht. </li><li>  Zu Beginn des Kurses nehmen wir intensivere Änderungen vor (wir ändern das Genom zwei- oder dreimal anstelle von einem), in der Hoffnung, das lokale Maximum zu überschreiten (Ähnlichkeit der Temperatur bei der Methode zur Simulation des Annealing). <br>  Die Intensität wurde manuell ausgewählt: Die ersten 30 Iterationen ergeben 3 Mutationen, die nächsten 10 mal 2 und dann 1. </li><li>  Sehr wichtig ist die Vorhersage feindlicher Aktionen.  Zum Nachteil der Zeit für die Suche nach unserer eigenen Lösung starten wir eine zufällige Suche von der Seite des Gegners mit 20 Iterationen und dann 50 für uns selbst, wobei wir Informationen über die optimalen Bewegungen des Gegners verwenden. <br>  Die beste Entscheidung des Gegners wird auch im nächsten Zug mit einem Versatz wiederverwendet.  Gleichzeitig wird bei der Suche nach einer Lösung für den Feind das Genom aus dem letzten Zug als meine beabsichtigte Aktion verwendet. </li></ul><br><p>  Während des Wettbewerbs setzte er aktiv Tools für die lokale Entwicklung ein, die es ermöglichten, schnell Fehler zu finden und sich auf die Schwachstellen der Strategie zu konzentrieren: </p><br><ul><li>  lokale Arena - Start vieler Spiele gegen die vorherige Version; </li><li>  Visualizer für das Debug-Verhalten; </li><li>  Ein Skript zum Sammeln von Statistiken über Übereinstimmungen auf der Website - ermöglicht es Ihnen zu verstehen, auf welchen Karten und Maschinen die Niederlage am häufigsten auftritt. </li></ul><br><blockquote>  <strong>Mortido:</strong> <br>  Das Zählen alle 5 Ticks sieht riskant aus, besonders wenn sich der Feind von den von Ihnen vorhergesagten Optionen entfernt.  Andererseits ist in dieser Spielwelt für 5 Ticks nicht viel passiert. <br>  Außerdem habe ich bei meiner Entscheidung trotzdem bei jedem Tick zufällige Kombinationen hinzugefügt, aber ich werde definitiv nicht sagen, wie sich dies auf die Entscheidung ausgewirkt hat. <br><br>  <strong>Kommandos:</strong> <br>  Das Ändern einiger Aktionen mit einer solchen Anzahl von Simulationen sieht nicht sehr aussagekräftig aus, da nur sehr wenige Änderungen in einer Aktion auftreten.  Aber wenn Sie eine Aktion auf 5 Ticks Bedeutung ausdehnen, scheint es mehr zu werden. <br>  Die Idee selbst gefällt mir auch nicht - wir nehmen das beste Set und versuchen, es irgendwo am Anfang zu bearbeiten.  Es erscheint unlogisch, dass das Ändern der ersten Zecken die nachfolgenden zumindest relativ angemessen macht. </blockquote><br><h3 id="aleksandr-kiselev-mortido-3-mesto">  Alexander Kiselev (Mortido) 3. Platz </h3><br><p>  Mit Artikeln von Gewinnern anderer Wettbewerbe bewaffnet, entschied ich mich für den genetischen Algorithmus.  Es stellte sich jedoch heraus, dass es sich um eine zufällige Suche oder sogar eine Nachahmung des Temperns handelte, aber dazu später mehr. </p><br><p>  Wir codieren die Lösung mit einem Array von 40 Zahlen, wobei -1, 0 und 1 den Bewegungen <code></code> , <code></code> und <code></code> . </p><br><p>  Zu Beginn jeder Runde berechnete ich, wie viel Zeit ich bereits für das gesamte Spiel aufgewendet hatte, zählte ein neues Zeitlimit basierend darauf, wie viele Runden noch vorhanden sein würden, und jede Runde, die ich annahm, war 1200 Ticks.  T.O.  Anfangs habe ich versucht, nicht mehr als 11 ms pro Runde zu verbringen, aber ich könnte am Ende ein bisschen „herumlaufen“, wenn die vorherigen Runden schneller als 1200 Ticks wären. </p><br><blockquote>  <strong>Valdemar:</strong> <br>  Interessanterweise hat dieser Chip das Spiel für mich verschlechtert.  Es stellte sich heraus, dass es immer besser ist, zuerst 20 bis 30 ms als 11 und am Ende 60 ms zu verbringen </blockquote><p>  Ein Drittel dieser Zeit suchte ich nach dem besten Zug des Feindes, der Rest ging in die Berechnung meiner eigenen Entscheidung.  Bei der Suche nach einem Zug für den Feind wurde mein Verhalten als das Beste aus dem letzten Zug modelliert, verschoben um 1 Tick.  Das heißt,  als ob ich weiterhin nach dem Plan handeln würde, der im letzten Tick aufgestellt wurde, und er versucht, mir zu widerstehen. </p><br><p>  Die Suche nach der Lösung selbst war für sich und den Gegner gleich: </p><br><ol><li>  Wir treffen die Entscheidung aus dem letzten Zug und verschieben sie um 1 Zug (was wir bereits getan haben). </li><li>  Wir beweisen der Population zufälliger Lösungen, bis wir alles gefüllt haben </li><li>  Wir simulieren alle Entscheidungen und stellen die Fitness mithilfe der Bewertungsfunktion ein.  Wir erinnern uns am besten. </li><li>  Während es Zeit für Berechnungen gibt <br><ol><li>  Tipp, fügen Sie der Population immer 1 Mutation der derzeit besten Lösung hinzu. Denken Sie daran, wenn es besser ist </li><li>  Solange es einen Platz in der neuen Bevölkerung gibt und die Zeit für Berechnungen nicht überschritten wurde (Sie können auf den Boden einer bevölkerten Bevölkerung gehen) <br><ol><li>  Wir nehmen zwei verschiedene Personen und gehen mit der besten Fitness - Mutter </li><li>  Wir nehmen zwei verschiedene Personen und gehen mit der besten Fitness - Papa (sollte nicht mit Mama zusammenfallen) </li><li>  Überquere sie </li><li>  Mutieren, wenn <code>RND &lt;  </code> </li><li>  Wir simulieren eine Lösung und erinnern uns daran, wenn es die beste ist </li></ol></li></ol></li></ol><br><p>  Infolgedessen geben wir die Reihenfolge der Aktionen zurück, die als optimal angesehen wird.  Der erste Zug wird als Bot-Aktion gesendet.  Leider hatte mein Plan einen gravierenden Nachteil  Die Anzahl der Simulationen, die mit einem Tick durchgeführt werden können, war sehr gering (auch aufgrund der langen Bewertungsfunktion). Auf dem Wettkampfserver wurden 4 Punkte nur einmal ausgeführt, und für den Feind wurden sie überhaupt nicht ausgeführt.  Dies machte den Algorithmus eher zu einer zufälligen Suche oder einem simulierten Tempern (da wir es geschafft haben, die Lösung 1 Mal vom letzten Zug an zu mutieren).  Es war schon zu spät, um etwas zu ändern, und wir konnten den 3. Platz halten. </p><br><p>  Es ist wichtig, die Algorithmen zum Kreuzen, Mutieren und Erzeugen anfänglicher Zufallslösungen zu implementieren, da  Es hängt davon ab, welche Entscheidungen getestet werden, und eine vollständige zufällige Entscheidung ist nicht so gut, wie es auf den ersten Blick erscheinen mag (es wird funktionieren, aber es werden viel mehr Optionen benötigt). </p><br><p>  In der endgültigen Version wurden zufällige Entscheidungen in Segmenten generiert, die "ruckelnde" Lösungen an einer Stelle ausschlossen: </p><br><ol><li>  Zufälliges Team ausgewählt </li><li>  Für die gesamte Länge der Lösung (40 Züge) <br><ol><li>  Wir schreiben den aktuellen Befehl in die Zelle </li><li>  Mit einer Wahrscheinlichkeit von 10% ändern wir das aktuelle Team in eine zufällige </li></ol></li></ol><br><p>  Nach einer ähnlichen Technologie trat auch eine Mutation auf - ein zufälliges Segment der Lösung wurde durch einen zufälligen Befehl ersetzt.  Die Überquerung erfolgte durch Auswahl des Punktes, bis zu dem die Entscheidung von einem Elternteil und danach vom 2. getroffen wurde. </p><br><p>  Mir hat gefallen, dass wir die uns zur Verfügung stehende Zeit nutzen, um die beste Lösung zu finden.  Es ist keine große Sache, wenn die Lösung nicht die beste ist - wir können sie beim nächsten Tick verbessern, weil  Die Optimierung stellt sich als zeitlich "verschwommen" heraus.     ,        .  ,      -  ,    .           ,           </p><br><blockquote> <strong>Valdemar:</strong> <br>   1     , ,             . <br><br> <strong>Commandos:</strong> <br>    —   -        . <br>         —    ,     .         ,     …      ,        .    "    ”.         -. </blockquote><br><h3 id="aleksey-dichkovskiy-commandos-1-mesto">   (Commandos) 1  </h3><br><p>        (  ),   <strong>n</strong>  <strong>m</strong>  .    3^2=9 .       <strong>m</strong> + <strong>n</strong>      40 . </p><br><p>  : </p><br><pre> <code class="plaintext hljs">|----------- n  -----------|---------- m  --------| |   ...   |   ...   |</code> </pre> <br><p>          :     ,  ,  .      (   ). </p><br><p>       <strong>n</strong>  <strong>m</strong> ,          .       ,     . </p><br><p>        : </p><br><ol><li>     ,       (       ,   ): <br><ul><li>   ,     ,   ,     . </li><li>       ,      ,   .           .                .            ,       ,      ,     . </li><li>         .   ;        (           ). </li></ul></li><li>       <strong>n</strong>  <strong>m</strong>  .      ,    .1,      ,          .     -  (    )  ,        —        ,      ; </li><li>             .   ,     —      .    ,       (       ). </li></ol><br><blockquote> <strong>Valdemar:</strong> <br> ,       2    .    .         ,    . <br><br> <strong>mortido:</strong> <br>  Wow!   ,       .    .  ,   2    ,   40-60       .  ,        3   . <br> n + m == const ? </blockquote><p>   .  <code>n + m != const</code> ,              .      ,  .  -   . </p><br><h1 id="funkciya-ocenki">   </h1><br><h3 id="vladimir-kiselev-valdemar-4-mesto-1">   (Valdemar) 4  </h3><br><p>   ,       . ,    (  , ,   ..)    [0..1]. <br>           .     :   ,        . <br>            ,    ,      :      ,          . </p><br><p> ,   : </p><br><ul><li>    —    70  180  (  :         ). <br>       ,       . </li><li>       0..500 </li><li>   —  [2pi, pi/4]   [0, 1] </li><li>    —    ,       (    ),   (  ,      ,        ) </li><li>   — ,      ,     ,           . <br>      ,  ,       . </li><li>  —     .          . </li><li>     Y   —    . </li><li>           </li></ul><br><p>  ,       2           , . </p><br><p>           . </p><br><p>         : </p><br><ul><li>  “”      ,       </li><li>  “  ”        ,   ,        . </li></ul><br><blockquote> <strong>mortido:</strong> <br>    , ..      ,     . <br><br> <strong>Commandos:</strong> <br>      ,      .    -  </blockquote><br><h3 id="aleksandr-kiselev-mortido-3-mesto-1">   (mortido) 3  </h3><br><p>        ,      chipmunk.              .     ,      ,     ,   ,   .        . </p><br><p>                    3   <del>  </del>   . </p><br><p>   ,        ( ,     ,   ): </p><br><ul><li>   .          ,  ,        (       ,     ); </li><li>    ,    —       ,     ;      ,     1  ; </li><li>   ; </li><li>      (    ,  ); </li><li>       (   “+”,    “-”); <br> -     (   “+”,    “-”);   ,     ,      ,          ; <br>   30    ,       ,      (   ); </li><li>  ,         . </li></ul><br><p>  ,        ,         (,            ,     ) </p><br><blockquote> <strong>Valdemar:</strong> <br>         .    ,     “  ,     ,    ”     ,      (     ..)     . </blockquote><p>  ,    ,        .    . </p><br><blockquote> <strong>Commandos:</strong> <br>   ,   ,   “”…      ?              ,   “” . </blockquote><br><h3 id="aleksey-dichkovskiy-commandos-1-mesto-1">   (Commandos) 1  </h3><br><p>      <code>SquaredWheelsBuggy</code> ,      ..  ,       .     Buggy   ,          ,          (         /). <br>  Kurz: </p><br><ol><li>   ; </li><li>     ;         — ,     ,   1  0; ..        ; </li><li>     .        ;          10      (            ); </li><li>             (       ,    ); </li><li>     (,          ); </li><li>       — -    ,   ; </li><li> /     ;       ,       —   ;             . </li></ol><br><p>  1-5      ,   .   2     “  ”. </p><br><blockquote> <strong>Valdemar:</strong> <br>     ,        .       ,      . <br><br> <strong>mortido:</strong> <br>      ,     10 . </blockquote><br><h1 id="kostyli-i-ify">   IF' </h1><br><h3 id="vladimir-kiselev-valdemar-4-mesto-2">   (Valdemar) 4  </h3><br><p>      ,            if'.         3    ,         ,           . ,        ,         -. <br>  :      ,    “”   —      ,   - ,           (  ,   ) —   . </p><br><p>     : </p><br><ul><li>     .      ,        . </li><li>      —     ,                  . </li><li>   .      “  ”      . <br>      ,        ,         . <br>                ,      ,      . </li></ul><br><p>        ,    :     .   ,       ,   if'     . </p><br><blockquote> <strong>mortido:</strong> <br>     ,       .            . <br><br> <strong>Commandos:</strong> <br>   if'.   ,    ,    …          ,     ,     . </blockquote><br><h3 id="aleksandr-kiselev-mortido-3-mesto-2">   (mortido) 3  </h3><br><p>              - . </p><br><p>     3  .    .         .  “”,                  .        ,      ,    . </p><br><p>          ,     “”   .       .     ,        , ,      -  .        .     ,       , ..    . </p><br><p>    ,      ,  ,     ,           ,       .     …         .    -       —  ,     (      ,     ). </p><br><blockquote> <strong>Valdemar:</strong> <br>    ,     .          .        “” ,       if'.  ,           —             . </blockquote><p>          ,       +      . ,       . </p><br><blockquote> <strong>Commandos:</strong> <br>   …  ,  -   —   ,      ,   .        ,     ,                . </blockquote><br><h3 id="aleksey-dichkovskiy-commandos-1-mesto-2">   (Commandos) 1  </h3><br><p>         .      (,     ,    ).         (  )   /. </p><br><p>    pill carcass map        ,       ,             (         ).      island map,      ,     . </p><br><p>             island hole  buggy.    /      ,     ,      (  ).       —    .  ,          ,    .   SquaredWheelBuggy           .    ,      ,      ,    .  ,   …    ,      ,     . </p><br><p>    (Pill map, Bus)                 ,        (     /  100% ). </p><br><p>         pill hubble map.    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a> ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a> (    ),     .       . </p><br><p>               —         ,   ... </p><br><p>       ,     .                ,    .          (     ). </p><br><blockquote> <strong>Valdemar:</strong> <br>   ,          —        .   ,     . <br><br> <strong>mortido:</strong> <br>     ,     “”  . </blockquote><br><h1 id="emocii">  </h1><br><blockquote> <strong>Valdemar:</strong> <br>     .           ,      .    (   )      . <br>                  .  “”,      ,          , ,  :) <br>  ,  mailru  ,     . <br><br> <strong>mortido:</strong> <br>        :               ,          …   ,      ,       (      ).     ,     3   ,    ,   …      . <br><br> <strong>Commandos:</strong> <br> -     ,     . , ,   ,  .    …       .         —     ,      . <br>     —       ++.       .       ,       .     1  <del>       </del>     -. </blockquote><br><h1 id="itak">  Also </h1><br><p> ,           .    ,              .      ,      ,        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> </a> . </p><br><p>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a>  Mail.Ru Group   . </p><br><h1 id="bonus">  Bonus </h1><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Valdemar</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">mortido</a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">   </a> </p><br><div class="spoiler"> <b class="spoiler_title"> ,    </b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/bz/b8/cd/bzb8cdwabur3c-7qbcwzmjokx0o.gif"></p><br><p><img src="https://habrastorage.org/webt/tw/nw/cw/twnwcwndcdjglzq2hhuh0ulxohc.gif"></p><br><p><img src="https://habrastorage.org/webt/ib/jh/vq/ibjhvquma8mwq6meckt2qzteicy.gif"></p><br><p><img src="https://habrastorage.org/webt/4e/eg/c9/4eegc9jvtcg-0namubh_9cqx2ok.gif"></p><br><p><img src="https://habrastorage.org/webt/4f/uw/w8/4fuww8dcs4-fx4nuar8bcur0lpm.gif"></p><br><p><img src="https://habrastorage.org/webt/fz/q3/6u/fzq36ufo15jgjwbd9ev_cnc6mso.gif"></p><br><p><img src="https://habrastorage.org/webt/og/55/dt/og55dtgv4ohguhiucwhn0qwqiak.gif"></p></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de430466/">https://habr.com/ru/post/de430466/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de430454/index.html">Ich bin umgeben von Idioten oder wie man in einem Team arbeitet</a></li>
<li><a href="../de430456/index.html">Legal Project Management Books von PMI</a></li>
<li><a href="../de430458/index.html">Mehrschichtiger Graphen-Supraleiter: Untersuchung flacher Zonen</a></li>
<li><a href="../de430460/index.html">Trojanischer Pinguin: Einen Virus für Linux erstellen</a></li>
<li><a href="../de430462/index.html">In Russland wurde eine Gesetzesvorlage zur Bereitstellung von Daten von Nutzern sozialer Netzwerke für einen unbegrenzten Personenkreis veröffentlicht. Soziale Netzwerke gegen</a></li>
<li><a href="../de430468/index.html">Sensibilisierung der Bürger</a></li>
<li><a href="../de430470/index.html">Warum den Kontext auf dem Kundenkonto pflegen - ehrlich und profitabel</a></li>
<li><a href="../de430472/index.html">DIY nahtloses DECT-Netzwerk</a></li>
<li><a href="../de430474/index.html">CephFS vs GlusterFS</a></li>
<li><a href="../de430476/index.html">NCBI Genome Workbench: Gefährdete Forschung</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>