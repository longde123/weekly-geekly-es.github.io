<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ™† ğŸ‘¨ğŸ¿â€ğŸ”¬ ğŸšš LibreOfficeï¼šä¼šè®¡çš„å™©æ¢¦ ğŸŒ€ ğŸ–ğŸ» â›°ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="LibreOfficeæ˜¯åŠŸèƒ½å¼ºå¤§çš„åŠå…¬å¥—ä»¶ï¼Œå¯å…è´¹ç”¨äºç§äººï¼Œæ•™è‚²å’Œå•†ä¸šç”¨é€”ã€‚ å®ƒçš„å¼€å‘äººå‘˜æ­£åœ¨åˆ¶ä½œå‡ºè‰²çš„äº§å“ï¼Œè¯¥äº§å“åœ¨è®¸å¤šé¢†åŸŸéƒ½å¯ä»¥ç”¨ä½œMicrosoft Officeçš„æ›¿ä»£äº§å“ã€‚ PVS-Studioå›¢é˜Ÿå§‹ç»ˆå¯¹æŸ¥çœ‹æ­¤ç±»çŸ¥åé¡¹ç›®çš„ä»£ç å¹¶è¯•å›¾å‘ç°å…¶ä¸­çš„é”™è¯¯æ„Ÿå…´è¶£ã€‚ è¿™æ¬¡å¾ˆå®¹æ˜“åšåˆ°ã€‚ è¯¥é¡¹ç›®åŒ…å«è®¸å¤šå¯èƒ½...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>LibreOfficeï¼šä¼šè®¡çš„å™©æ¢¦</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/426977/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bf0/ff5/4b4/bf0ff54b40fb8527f7bf79edc4050d37.png"></div><br>  LibreOfficeæ˜¯åŠŸèƒ½å¼ºå¤§çš„åŠå…¬å¥—ä»¶ï¼Œå¯å…è´¹ç”¨äºç§äººï¼Œæ•™è‚²å’Œå•†ä¸šç”¨é€”ã€‚ å®ƒçš„å¼€å‘äººå‘˜æ­£åœ¨åˆ¶ä½œå‡ºè‰²çš„äº§å“ï¼Œè¯¥äº§å“åœ¨è®¸å¤šé¢†åŸŸéƒ½å¯ä»¥ç”¨ä½œMicrosoft Officeçš„æ›¿ä»£äº§å“ã€‚  PVS-Studioå›¢é˜Ÿå§‹ç»ˆå¯¹æŸ¥çœ‹æ­¤ç±»çŸ¥åé¡¹ç›®çš„ä»£ç å¹¶è¯•å›¾å‘ç°å…¶ä¸­çš„é”™è¯¯æ„Ÿå…´è¶£ã€‚ è¿™æ¬¡å¾ˆå®¹æ˜“åšåˆ°ã€‚ è¯¥é¡¹ç›®åŒ…å«è®¸å¤šå¯èƒ½å¯¼è‡´ä¸¥é‡é—®é¢˜çš„é”™è¯¯ã€‚ æœ¬æ–‡å°†è®¨è®ºä»£ç ä¸­å‘ç°çš„ä¸€äº›æœ‰è¶£çš„ç¼ºé™·ã€‚ <br><br><h2> å¼•è¨€ </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">LibreOffice</a>æ˜¯ä¸€ä¸ªéå¸¸å¤§çš„C ++é¡¹ç›®ã€‚ å¯¹äºå¼€å‘å›¢é˜Ÿæ¥è¯´ï¼Œç»´æŒå¦‚æ­¤è§„æ¨¡çš„é¡¹ç›®æ˜¯ä¸€é¡¹è‰°å·¨çš„ä»»åŠ¡ã€‚ è€Œä¸”ï¼Œä¸å¹¸çš„æ˜¯ï¼Œç»™äººçš„å°è±¡æ˜¯LibreOfficeä»£ç è´¨é‡æœªèƒ½å¼•èµ·è¶³å¤Ÿçš„é‡è§†ã€‚ <br><br> ä¸€æ–¹é¢ï¼Œè¯¥é¡¹ç›®éå¸¸åºå¤§ï¼Œå¹¶éæ¯ä¸ªé™æ€æˆ–åŠ¨æ€åˆ†æå·¥å…·éƒ½èƒ½å¤„ç†13kæºä»£ç æ–‡ä»¶çš„åˆ†æã€‚ ä¸ç¬¬ä¸‰æ–¹åº“ä¸€èµ·æ„å»ºOfficeå¥—ä»¶æ¶‰åŠè®¸å¤šæ–‡ä»¶ã€‚  LibreOfficeä¸»å­˜å‚¨åº“å­˜å‚¨çº¦8kæºä»£ç æ–‡ä»¶ã€‚ å¦‚æ­¤å¤§é‡çš„ä»£ç ä¸ä»…ä¼šç»™å¼€å‘äººå‘˜å¸¦æ¥é—®é¢˜ï¼š <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/95d/8f8/322/95d8f8322f57ac9af0206a3ef955e55e.png"></div><a name="habracut"></a><br> å¦ä¸€æ–¹é¢ï¼Œè¯¥é¡¹ç›®æœ‰è®¸å¤šç”¨æˆ·ï¼Œéœ€è¦æ‰¾åˆ°å¹¶ä¿®å¤å°½å¯èƒ½å¤šçš„é”™è¯¯ã€‚ æ¯ä¸ªé”™è¯¯éƒ½ä¼šä¼¤å®³æˆåƒä¸Šä¸‡çš„ç”¨æˆ·ã€‚ å› æ­¤ï¼Œåºå¤§çš„ä»£ç åº“ä¸åº”æˆä¸ºæ‹’ç»ä½¿ç”¨æŸäº›å¯ä»¥æ£€æµ‹é”™è¯¯çš„å·¥å…·çš„å€Ÿå£ã€‚ æˆ‘è®¤ä¸ºè¯»è€…å·²ç»çŒœåˆ°äº†æˆ‘ä»¬åœ¨è°ˆè®ºé™æ€ä»£ç åˆ†æå™¨:)ã€‚ <br><br> æ˜¯çš„ï¼Œä½¿ç”¨é™æ€åˆ†æå™¨ä¸èƒ½ä¿è¯é¡¹ç›®ä¸­æ²¡æœ‰é”™è¯¯ã€‚ ä½†æ˜¯ï¼Œè¯¸å¦‚PVS-Studioä¹‹ç±»çš„å·¥å…·èƒ½å¤Ÿåœ¨å¼€å‘é˜¶æ®µå‘ç°å¤§é‡é”™è¯¯ï¼Œä»è€Œå‡å°‘äº†ä¸è°ƒè¯•å’Œé¡¹ç›®æ”¯æŒç›¸å…³çš„å·¥ä½œé‡ã€‚ <br><br> è®©æˆ‘ä»¬çœ‹çœ‹ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PVS-Studio</a>é™æ€ä»£ç åˆ†æå™¨åœ¨LibreOfficeæºä»£ç ä¸­æœ‰ä»€ä¹ˆæœ‰è¶£çš„åœ°æ–¹ã€‚ è¿è¡Œåˆ†æä»ªçš„å¯èƒ½æ€§éå¸¸å¹¿æ³›ï¼šWindowsï¼ŒLinuxï¼ŒmacOSã€‚ ä¸ºäº†æ’°å†™æ­¤è¯„è®ºï¼Œä½¿ç”¨äº†åœ¨Windowsä¸Šåˆ†æé¡¹ç›®æœŸé—´åˆ›å»ºçš„PVS-StudioæŠ¥å‘Šã€‚ <br><br><h2> è‡ª2015å¹´ä¸Šæ¬¡æ£€æŸ¥ä»¥æ¥çš„å˜åŒ– </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b28/750/671/b28750671ffb2784af092ee21c716259.png"></div><br><br>  2015å¹´3æœˆï¼Œä½¿ç”¨PVS-Studio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¯¹LibreOffice</a>è¿›è¡Œäº†é¦–æ¬¡åˆ†æï¼ˆâ€œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">LibreOfficeé¡¹ç›®çš„éªŒè¯</a> â€ï¼‰ã€‚ ä»é‚£æ—¶èµ·ï¼ŒåŠå…¬å¥—ä»¶ä½œä¸ºä¸€ç§äº§å“æœ‰äº†å¾ˆå¤§çš„å‘å±•ï¼Œä½†å…¶ä¸­è¿˜åŒ…å«è®¸å¤šé”™è¯¯ã€‚ ä»é‚£ä»¥åï¼ŒæŸäº›é”™è¯¯æ¨¡å¼æ ¹æœ¬æ²¡æœ‰æ”¹å˜ã€‚ ä¾‹å¦‚ï¼Œè¿™æ˜¯ç¬¬ä¸€ç¯‡æ–‡ç« ä¸­çš„ä¸€ä¸ªé”™è¯¯ï¼š <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V656</a>å˜é‡â€œ aVRPâ€ï¼Œâ€œ aVPNâ€é€šè¿‡å¯¹åŒä¸€å‡½æ•°çš„è°ƒç”¨è¿›è¡Œåˆå§‹åŒ–ã€‚ å¯èƒ½æ˜¯é”™è¯¯æˆ–æœªä¼˜åŒ–çš„ä»£ç ã€‚ è€ƒè™‘æ£€æŸ¥â€œ rSceneCamera.GetVRPï¼ˆï¼‰â€è¡¨è¾¾å¼ã€‚ æ£€æŸ¥è¡Œï¼š177ï¼Œ178ã€‚viewcontactofe3dscene.cxx 178 <br><br><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> ViewContactOfE3dScene::createViewInformation3D(....) { .... <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> basegfx::<span class="hljs-function"><span class="hljs-function">B3DPoint </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">aVRP</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(rSceneCamera.GetVRP())</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> basegfx::<span class="hljs-function"><span class="hljs-function">B3DVector </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">aVPN</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(rSceneCamera.GetVRP())</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">// &lt;= const basegfx::B3DVector aVUV(rSceneCamera.GetVUV()); .... }</span></span></code> </pre> <br> è¯¥é”™è¯¯å·²å¾—åˆ°ä¿®å¤ï¼Œä½†æ˜¯åœ¨æœ€æ–°ç‰ˆæœ¬çš„ä»£ç ä¸­å‘ç°äº†ä»¥ä¸‹é”™è¯¯ï¼š <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V656</a>å˜é‡â€œ aSdvURLâ€ï¼Œâ€œ aStrURLâ€é€šè¿‡å¯¹åŒä¸€å‡½æ•°çš„è°ƒç”¨æ¥åˆå§‹åŒ–ã€‚ å¯èƒ½æ˜¯é”™è¯¯æˆ–æœªä¼˜åŒ–çš„ä»£ç ã€‚ è€ƒè™‘æ£€æŸ¥â€œ pThm-&gt; GetSdvURLï¼ˆï¼‰â€è¡¨è¾¾å¼ã€‚ æ£€æŸ¥è¡Œï¼š658ï¼Œ659ã€‚gallery1.cxx 659 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> INetURLObject&amp; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetThmURL</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> aThmURL; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> INetURLObject&amp; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetSdgURL</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> aSdgURL; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> INetURLObject&amp; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetSdvURL</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> aSdvURL; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> INetURLObject&amp; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetStrURL</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> aStrURL; } <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> Gallery::RemoveTheme( <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> OUString&amp; rThemeName ) { .... <span class="hljs-function"><span class="hljs-function">INetURLObject </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">aThmURL</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( pThm-&gt;GetThmURL() )</span></span></span></span>; <span class="hljs-function"><span class="hljs-function">INetURLObject </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">aSdgURL</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( pThm-&gt;GetSdgURL() )</span></span></span></span>; <span class="hljs-function"><span class="hljs-function">INetURLObject </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">aSdvURL</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( pThm-&gt;GetSdvURL() )</span></span></span></span>; <span class="hljs-function"><span class="hljs-function">INetURLObject </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">aStrURL</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( pThm-&gt;GetSdvURL() )</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">// &lt;= .... }</span></span></code> </pre> <br> æ‚¨å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼Œå¾®å¦™çš„å¤åˆå‡½æ•°åç§°ä»ç„¶æ˜¯é”™è¯¯çš„æ ¹æºã€‚ <br><br> æ—§ä»£ç ä¸­çš„å¦ä¸€ä¸ªæœ‰è¶£çš„ç¤ºä¾‹ï¼š <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V656</a>å˜é‡â€œ nDragWâ€ï¼Œâ€œ nDragHâ€é€šè¿‡å¯¹åŒä¸€å‡½æ•°çš„è°ƒç”¨è¿›è¡Œåˆå§‹åŒ–ã€‚ å¯èƒ½æ˜¯é”™è¯¯æˆ–æœªä¼˜åŒ–çš„ä»£ç ã€‚ è€ƒè™‘æ£€æŸ¥â€œ rMSettings.GetStartDragWidthï¼ˆï¼‰â€è¡¨è¾¾å¼ã€‚ æ£€æŸ¥è¡Œï¼š471ï¼Œ472ã€‚winproc.cxx 472 <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">VCL_DLLPUBLIC</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MouseSettings</span></span></span><span class="hljs-class"> {</span></span> .... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">long</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetStartDragWidth</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">long</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetStartDragHeight</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span></span>; .... } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ImplHandleMouseEvent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( .... )</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> nDragW = rMSettings.GetStartDragWidth(); <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> nDragH = rMSettings.GetStartDragWidth(); .... }</code> </pre> <br> è¿™æ®µä»£ç ç¡®å®åŒ…å«ä¸€ä¸ªç°å·²ä¿®å¤çš„é”™è¯¯ã€‚ ä½†æ˜¯ä»£ç ä¸­çš„é”™è¯¯å¹¶æ²¡æœ‰å˜å¾—è¶Šæ¥è¶Šå°â€¦â€¦ç°åœ¨å·²ç»å‘ç°äº†ç±»ä¼¼çš„æƒ…å†µï¼š <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V656</a>å˜é‡â€œ defaultZoomXâ€ï¼Œâ€œ defaultZoomYâ€é€šè¿‡å¯¹åŒä¸€å‡½æ•°çš„è°ƒç”¨è¿›è¡Œåˆå§‹åŒ–ã€‚ å¯èƒ½æ˜¯é”™è¯¯æˆ–æœªä¼˜åŒ–çš„ä»£ç ã€‚ è€ƒè™‘æ£€æŸ¥â€œ pViewData-&gt; GetZoomXï¼ˆï¼‰â€è¡¨è¾¾å¼ã€‚ æ£€æŸ¥è¡Œï¼š5673ï¼Œ5674ã€‚gridwin.cxx 5674 <br><br><pre> <code class="cpp hljs">OString ScGridWindow::getCellCursor(....) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { .... SCCOL nX = pViewData-&gt;GetCurX(); SCROW nY = pViewData-&gt;GetCurY(); Fraction defaultZoomX = pViewData-&gt;GetZoomX(); Fraction defaultZoomY = pViewData-&gt;GetZoomX(); <span class="hljs-comment"><span class="hljs-comment">// &lt;= .... }</span></span></code> </pre> <br> ç±»æ¯”åœ°ä»å­—é¢ä¸Šå°†é”™è¯¯å¼•å…¥ä»£ç ä¸­ã€‚ <br><br><h2> ä¸è¦ä¸Šå½“ </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e64/21a/1a9/e6421a1a9d0e05a1dff0c27f304ce403.png"></div><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V765</a>å¤åˆèµ‹å€¼è¡¨è¾¾å¼'x-= x-...'å¯ç–‘ã€‚ è€ƒè™‘æ£€æŸ¥å®ƒæ˜¯å¦å­˜åœ¨é”™è¯¯ã€‚  swdtflvr.cxx 3509 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> SwTransferable::PrivateDrop(...) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( rSrcSh.IsSelFrameMode() ) { <span class="hljs-comment"><span class="hljs-comment">//Hack: fool the special treatment aSttPt -= aSttPt - rSrcSh.GetObjRect().Pos(); } .... }</span></span></code> </pre> <br> ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V765</a>è¯Šæ–­ç¨‹åºå‘ç°äº†å¦‚æ­¤æœ‰è¶£çš„â€œ Hackâ€ã€‚ å¦‚æœç”¨æ³¨é‡Šç®€åŒ–ä¸€è¡Œä»£ç ï¼Œå¯èƒ½ä¼šå¾—åˆ°æ„å¤–çš„ç»“æœï¼š <br><br> ç¬¬ä¸€æ­¥ï¼š <br><br><pre> <code class="cpp hljs">aSttPt = aSttPt - (aSttPt - rSrcSh.GetObjRect().Pos());</code> </pre> <br> ç¬¬äºŒæ­¥ï¼š <br><br><pre> <code class="cpp hljs">aSttPt = aSttPt - aSttPt + rSrcSh.GetObjRect().Pos();</code> </pre> <br> ç¬¬ä¸‰æ­¥ <br><br><pre> <code class="cpp hljs">aSttPt = rSrcSh.GetObjRect().Pos();</code> </pre> <br> é‚£ä¹ˆä»€ä¹ˆæ˜¯hackï¼Ÿ <br><br> å…³äºæ­¤ä¸»é¢˜çš„å¦ä¸€ä¸ªç¤ºä¾‹ï¼š <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V567</a>ç›¸å¯¹äºåŒä¸€å˜é‡çš„å¦ä¸€ä¸ªæ“ä½œï¼Œ'nCount'å˜é‡çš„ä¿®æ”¹æ²¡æœ‰é¡ºåºã€‚ è¿™å¯èƒ½å¯¼è‡´ä¸ç¡®å®šçš„è¡Œä¸ºã€‚  stgio.cxx 214 <br><br><pre> <code class="cpp hljs">FatError EasyFat::Mark(....) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( nCount &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> ) { --nCount /= GetPageSize(); nCount++; } .... }</code> </pre> <br> åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä»£ç æ‰§è¡Œå¯èƒ½å–å†³äºç¼–è¯‘å™¨å’Œè¯­è¨€æ ‡å‡†ã€‚ ä¸ºä»€ä¹ˆä¸æ›´è½»æ¾ï¼Œæ›´æ˜“ç†è§£ï¼Œæ›´å¯é åœ°é‡å†™æ­¤ä»£ç æ®µï¼Ÿ <br><br><h2> å¦‚ä½•ä¸ä½¿ç”¨æ•°ç»„å’Œå‘é‡ </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d61/38d/483/d6138d483ed86734a4b6d20405af255c.png"></div><br><br> ç”±äºæŸç§åŸå› ï¼Œæœ‰äººåœ¨å¤„ç†æ•°ç»„å’Œå‘é‡æ—¶çŠ¯äº†å¾ˆå¤šç±»ä¼¼çš„é”™è¯¯ã€‚ è®©æˆ‘ä»¬çœ‹çœ‹è¿™äº›ä¾‹å­ã€‚ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V557</a>é˜µåˆ—å¯èƒ½è¶…é™ã€‚  â€œ nPageNumâ€ç´¢å¼•æŒ‡å‘æ•°ç»„ç•Œé™ä¹‹å¤–ã€‚  pptx-epptooxml.cxx 1168 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> PowerPointExport::ImplWriteNotes(sal_uInt32 nPageNum) { .... <span class="hljs-comment"><span class="hljs-comment">// add slide implicit relation to notes if (mpSlidesFSArray.size() &gt;= nPageNum) addRelation(mpSlidesFSArray[ nPageNum ]-&gt;getOutputStream(), oox::getRelationship(Relationship::NOTESSLIDE), OUStringBuffer() .append("../notesSlides/notesSlide") .append(static_cast&lt;sal_Int32&gt;(nPageNum) + 1) .append(".xml") .makeStringAndClear()); .... }</span></span></code> </pre> <br> æœ€åä¸€ä¸ªæœ‰æ•ˆç´¢å¼•åº”ä¸ºç­‰äº<i>sizeï¼ˆï¼‰-1çš„å€¼</i> ã€‚ ä½†æ˜¯åœ¨æ­¤ä»£ç æ®µä¸­ï¼Œå…è®¸<i>nPageNum</i>ç´¢å¼•çš„å€¼å¯ä»¥ä¸º<i>mpSlidesFSArray.sizeï¼ˆï¼‰çš„æƒ…å†µ</i> ï¼Œç”±äºè¯¥åŸå› ï¼Œå­˜åœ¨ä¸€ä¸ªè¶…å‡ºèŒƒå›´çš„æ•°ç»„ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨ç”±â€œåƒåœ¾â€ç»„æˆçš„å…ƒç´ ã€‚ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V557</a>é˜µåˆ—å¯èƒ½è¶…é™ã€‚  'mnSelectedMenu'ç´¢å¼•æŒ‡å‘æ•°ç»„è¾¹ç•Œä¹‹å¤–ã€‚  checklistmenu.cxx 826 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> ScMenuFloatingWindow::ensureSubMenuNotVisible() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (mnSelectedMenu &lt;= maMenuItems.size() &amp;&amp; maMenuItems[mnSelectedMenu].mpSubMenuWin &amp;&amp; maMenuItems[mnSelectedMenu].mpSubMenuWin-&gt;IsVisible()) { maMenuItems[mnSelectedMenu].mpSubMenuWin-&gt;ensureSubMenuNotVisible(); } EndPopupMode(); }</code> </pre> <br> æœ‰è¶£çš„æ˜¯ï¼Œåœ¨æ­¤ä»£ç ç‰‡æ®µä¸­ï¼Œä»–ä»¬æ›´æ¸…æ¥šåœ°ç¼–å†™äº†ç´¢å¼•æ£€æŸ¥ï¼Œä½†åŒæ—¶åˆçŠ¯äº†åŒæ ·çš„é”™è¯¯ã€‚ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V557</a>é˜µåˆ—å¯èƒ½è¶…é™ã€‚  'nXFIndex'ç´¢å¼•æŒ‡å‘æ•°ç»„è¾¹ç•Œä¹‹å¤–ã€‚  xestyle.cxx 2613 <br><br><pre> <code class="cpp hljs">sal_Int32 XclExpXFBuffer::GetXmlStyleIndex( sal_uInt32 nXFIndex ) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { OSL_ENSURE( nXFIndex &lt; maStyleIndexes.size(), <span class="hljs-string"><span class="hljs-string">"...."</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( nXFIndex &gt; maStyleIndexes.size() ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">// should be caught/debugged via above assert; return maStyleIndexes[ nXFIndex ]; }</span></span></code> </pre> <br> è¿™ä¸ªé”™è¯¯æ˜¯éå¸¸æœ‰è¶£çš„ï¼ åœ¨è°ƒè¯•å®ä¸­ï¼Œä»–ä»¬ç¼–å†™äº†æ­£ç¡®çš„ç´¢å¼•æ£€æŸ¥ï¼Œè€Œåœ¨å¦ä¸€ä¸ªåœ°æ–¹ï¼Œä»–ä»¬åˆçŠ¯äº†ä¸€ä¸ªé”™è¯¯ï¼Œä½¿ä»–ä»¬å¯ä»¥ç¦»å¼€æ•°ç»„ã€‚ <br><br> ç°åœ¨è€ƒè™‘å¦ä¸€ç§ä¸ç´¢å¼•æ— å…³çš„é”™è¯¯ã€‚ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V554</a>ä¸æ­£ç¡®ä½¿ç”¨shared_ptrã€‚ åˆ†é…ç»™â€œ new []â€çš„å†…å­˜å°†ä½¿ç”¨â€œ deleteâ€æ¸…é™¤ã€‚  dx_vcltools.cxx 158 <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RawRGBABitmap</span></span></span><span class="hljs-class"> {</span></span> sal_Int32 mnWidth; sal_Int32 mnHeight; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">shared_ptr</span></span>&lt; sal_uInt8 &gt; mpBitmapData; }; <span class="hljs-function"><span class="hljs-function">RawRGBABitmap </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bitmapFromVCLBitmapEx</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ::BitmapEx&amp; rBmpEx )</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-comment"><span class="hljs-comment">// convert transparent bitmap to 32bit RGBA // ======================================== const ::Size aBmpSize( rBmpEx.GetSizePixel() ); RawRGBABitmap aBmpData; aBmpData.mnWidth = aBmpSize.Width(); aBmpData.mnHeight = aBmpSize.Height(); aBmpData.mpBitmapData.reset( new sal_uInt8[ 4*aBmpData.mnWidth *aBmpData.mnHeight ] ); .... }</span></span></code> </pre> <br> è¿™æ®µä»£ç åŒ…å«å¯¼è‡´æœªå®šä¹‰ç¨‹åºè¡Œä¸ºçš„é”™è¯¯ã€‚ äº‹å®æ˜¯ï¼Œå†…å­˜ä»¥ä¸åŒçš„æ–¹å¼åˆ†é…å’Œé‡Šæ”¾ã€‚ ä¸ºäº†é€‚å½“åœ°é‡Šæ”¾å†…å­˜ï¼Œæ‚¨å¿…é¡»å£°æ˜ä¸€ä¸ªè¿™æ ·çš„ç±»å­—æ®µï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">shared_ptr</span></span>&lt; sal_uInt8[] &gt; mpBitmapData;</code> </pre> <br><h2> å¦‚ä½•ä¸¤æ¬¡åˆ¶ä½œå® </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ead/1d2/de0/ead1d2de04413fc43dba4e42280f98ed.png"></div><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V568</a>å¥‡æ€ªçš„æ˜¯sizeofï¼ˆï¼‰è¿ç®—ç¬¦çš„å‚æ•°æ˜¯'bTextFrameï¼Ÿ  aPropsï¼šaShapePropsçš„è¡¨è¾¾å¼ã€‚  wpscontext.cxx 134 <br><br><pre> <code class="cpp hljs">oox::core::ContextHandlerRef WpsContext::onCreateContext(....) { .... OUString aProps[] = { .... }; OUString aShapeProps[] = { .... }; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; SAL_N_ELEMENTS(bTextFrame ? aProps : aShapeProps); <span class="hljs-comment"><span class="hljs-comment">//1 ++i) if (oInsets[i]) xPropertySet-&gt;setPropertyValue((bTextFrame ? aProps : aShapeProps)[i], //2 uno::makeAny(*oInsets[i])); .... }</span></span></code> </pre> <br> ä¸å¹¸çš„æ˜¯ï¼Œå¯¹äºè®¸å¤šå¼€å‘äººå‘˜è€Œè¨€ï¼Œå®å‚æ•°çš„è¡Œä¸ºä¸åƒå‡½æ•°å‚æ•°ã€‚ å¿½ç•¥è¿™ä¸€äº‹å®é€šå¸¸ä¼šå¯¼è‡´é”™è¯¯ã€‚ åœ¨æƒ…å†µ1å’Œæƒ…å†µ2ä¸­ï¼Œä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦ä½¿ç”¨å‡ ä¹ç›¸åŒçš„ç»“æ„ã€‚ ä½†æ˜¯åœ¨ç¬¬ä¸€ç§æƒ…å†µä¸‹-ä¸€ä¸ªå®ï¼Œåœ¨ç¬¬äºŒç§æƒ…å†µä¸‹-ä¸€ä¸ªå‡½æ•°ã€‚ ä½†æ˜¯ï¼Œè¿™åªæ˜¯é—®é¢˜çš„é‡ä¸­ä¹‹é‡ã€‚ <br><br> åœ¨æƒ…å†µ1ä¸­ï¼Œåˆ†æä»ªå®é™…ä¸Šæ£€æµ‹åˆ°ä»¥ä¸‹é”™è¯¯ä»£ç ï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; (<span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span> (bTextFrame ? aProps : aShapeProps) / <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span> ((bTextFrame ? aProps : aShapeProps)[<span class="hljs-number"><span class="hljs-number">0</span></span>])); ++i)</code> </pre> <br> è¿™æ˜¯æˆ‘ä»¬ä½¿ç”¨<i>SAL_N_ELEMENTS</i>å®çš„å¾ªç¯ã€‚  <i>sizeof</i>è¿ç®—ç¬¦ä¸è¯„ä¼°ä¸‰å…ƒè¿ç®—ç¬¦ä¸­çš„è¡¨è¾¾å¼ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°†ä½¿ç”¨æŒ‡é’ˆçš„å¤§å°æ‰§è¡Œç®—æœ¯è¿ç®—ï¼Œå…¶ç»“æœæ˜¯ä¸æ‰€æŒ‡ç¤ºæ•°ç»„çš„å®é™…å¤§å°ç›¸è·ç”šè¿œçš„å€¼ã€‚ é”™è¯¯å€¼çš„è®¡ç®—è¿˜å—åˆ°åº”ç”¨ç¨‹åºä½æ·±åº¦çš„å½±å“ã€‚ <br><br> ä½†æ˜¯äº‹å®è¯æ˜ï¼Œè¿™é‡Œæœ‰2ä¸ª<i>SAL_N_ELEMENTS</i>å®ï¼ å³ é¢„å¤„ç†å™¨æ‰“å¼€äº†é”™è¯¯çš„å®ï¼Œè¿™æ€ä¹ˆå¯èƒ½ï¼Ÿ å®å®šä¹‰å’Œå¼€å‘äººå‘˜è¯„è®ºå°†å¸®åŠ©æˆ‘ä»¬ï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifndef</span></span></span><span class="hljs-meta"> SAL_N_ELEMENTS # </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> defined(__cplusplus) &amp;&amp; ( defined(__GXX_EXPERIMENTAL_CXX0X__) || __cplusplus &gt;= 201103L ) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* * Magic template to calculate at compile time the number of elements * in an array. Enforcing that the argument must be a array and not * a pointer, eg * char *pFoo="foo"; * SAL_N_ELEMENTS(pFoo); * fails while * SAL_N_ELEMENTS("foo"); * or * char aFoo[]="foo"; * SAL_N_ELEMENTS(aFoo); * pass * * Unfortunately if arr is an array of an anonymous class then we need * C++0x, ie see * http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_defects.html#757 */</span></span></span><span class="hljs-meta"> template </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;typename T, size_t S&gt; char (&amp;sal_n_array_size( T(&amp;)[S] ))[S]; # define SAL_N_ELEMENTS(arr) (sizeof(sal_n_array_size(arr))) # else # define SAL_N_ELEMENTS(arr) (sizeof (arr) / sizeof ((arr)[0])) # endif #endif</span></span></span></span></code> </pre> <br> å®çš„å¦ä¸€ä¸ªç‰ˆæœ¬åŒ…å«ä¸€ä¸ªå®‰å…¨çš„æ¨¡æ¿å‡½æ•°ï¼Œä½†æ˜¯å‡ºäº†ç‚¹é—®é¢˜ï¼š <br><br><ol><li> å®‰å…¨å®æœªåŒ…å«åœ¨ä»£ç ä¸­ï¼› </li><li> ä»ç„¶ä¸å¯èƒ½ä½¿ç”¨å¦ä¸€ä¸ªå®ï¼Œå› ä¸º ä»…å½“å°†ç›¸åŒå¤§å°çš„æ•°ç»„è½¬ç§»åˆ°ä¸‰å…ƒè¿ç®—ç¬¦æ—¶ï¼Œæ‰èƒ½æˆåŠŸå®ä¾‹åŒ–æ¨¡æ¿å‡½æ•°ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨æ­¤ç±»å®å°†å¤±å»å…¶æ„ä¹‰ã€‚ </li></ol><br><h2> é”™åˆ«å­—å’Œå¤åˆ¶ç²˜è´´ </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/19d/419/905/19d41990527e23e0654820cfcddcbe9a.png"></div><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V1013</a>ç±»ä¼¼æ¯”è¾ƒåºåˆ—ä¸­çš„å¯ç–‘å­è¡¨è¾¾å¼f1.Pitch == f2.CharSetã€‚  xmldlg_export.cxx 1251 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">inline</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">equalFont</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( Style </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> &amp; style1, Style </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> &amp; style2 )</span></span></span><span class="hljs-function"> </span></span>{ awt::FontDescriptor <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> &amp; f1 = style1._descr; awt::FontDescriptor <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> &amp; f2 = style2._descr; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( f1.Name == f2.Name &amp;&amp; f1.Height == f2.Height &amp;&amp; f1.Width == f2.Width &amp;&amp; f1.StyleName == f2.StyleName &amp;&amp; f1.Family == f2.Family &amp;&amp; f1.CharSet == f2.CharSet &amp;&amp; <span class="hljs-comment"><span class="hljs-comment">// &lt;= f1.Pitch == f2.CharSet &amp;&amp; // &lt;= f1.CharacterWidth == f2.CharacterWidth &amp;&amp; f1.Weight == f2.Weight &amp;&amp; f1.Slant == f2.Slant &amp;&amp; f1.Underline == f2.Underline &amp;&amp; f1.Strikeout == f2.Strikeout &amp;&amp; f1.Orientation == f2.Orientation &amp;&amp; bool(f1.Kerning) == bool(f2.Kerning) &amp;&amp; bool(f1.WordLineMode) == bool(f2.WordLineMode) &amp;&amp; f1.Type == f2.Type &amp;&amp; style1._fontRelief == style2._fontRelief &amp;&amp; style1._fontEmphasisMark == style2._fontEmphasisMark ); }</span></span></code> </pre> <br> å¦‚æœæˆ‘ä»¬å†³å®šæ›´æ–°æˆ–æ‰©å±•è¯¥é”™è¯¯ï¼Œé‚£ä¹ˆè¯¥é”™è¯¯æ˜¯æ›´æ–°æ–‡ç« â€œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">é‚ªæ¶ç”Ÿæ´»åœ¨æ¯”è¾ƒå‡½æ•°ä¸­</a> â€çš„å€¼å¾—è€ƒè™‘çš„é€‰æ‹©ã€‚ æˆ‘è®¤ä¸ºä»…å‘ç°æ­¤ç±»é”™è¯¯ï¼ˆé€šè¿‡<i>f2.Pitch</i> ï¼‰çš„å¯èƒ½æ€§éå¸¸å°ã€‚ ä½ è§‰å¾—å‘¢ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V501</a>åœ¨'&amp;&amp;'è¿ç®—ç¬¦çš„å·¦ä¾§å’Œå³ä¾§æœ‰ç›¸åŒçš„å­è¡¨è¾¾å¼'mpTable [ocArrayColSep]ï¼= MpTable [eOp]'ã€‚  Formulacompiler.cxx 632 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> FormulaCompiler::OpCodeMap::putOpCode(....) { .... <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> ocSep: bPutOp = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; bRemoveFromMap = (mpTable[eOp] != <span class="hljs-string"><span class="hljs-string">";"</span></span> &amp;&amp; mpTable[ocArrayColSep] != mpTable[eOp] &amp;&amp; mpTable[ocArrayColSep] != mpTable[eOp]); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; .... }</code> </pre> <br> æ¼«ä¸ç»å¿ƒåœ°å¤åˆ¶çš„ç»“æœå°±æ˜¯è¿™æ ·ä¸€æ®µä»£ç ã€‚ ä¹Ÿè®¸å†æ¬¡ç®€å•åœ°é‡å¤äº†æ¡ä»¶è¡¨è¾¾å¼ï¼Œä½†æ˜¯åœ¨ä»£ç ä¸­ä»ç„¶æ²¡æœ‰è¿™æ ·çš„æ­§ä¹‰ã€‚ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V517æ£€æµ‹åˆ°</a>ä½¿ç”¨'ifï¼ˆAï¼‰{...} else ifï¼ˆAï¼‰{...}'æ¨¡å¼ã€‚ å­˜åœ¨é€»è¾‘é”™è¯¯çš„å¯èƒ½æ€§ã€‚ æ£€æŸ¥è¡Œï¼š781ã€783ã€‚mysqlc_databasemetadata.cxx 781 <br><br><pre> <code class="cpp hljs">Reference&lt;XResultSet&gt; SAL_CALL ODatabaseMetaData::getColumns(....) { .... <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> bIsCharMax = !xRow-&gt;wasNull(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sDataType.equalsIgnoreAsciiCase(<span class="hljs-string"><span class="hljs-string">"year"</span></span>)) nColumnSize = sColumnType.copy(<span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>).toInt32(); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sDataType.equalsIgnoreAsciiCase(<span class="hljs-string"><span class="hljs-string">"date"</span></span>)) <span class="hljs-comment"><span class="hljs-comment">// &lt;= nColumnSize = 10; else if (sDataType.equalsIgnoreAsciiCase("date")) // &lt;= nColumnSize = 8; else if (sDataType.equalsIgnoreAsciiCase("datetime") || sDataType.equalsIgnoreAsciiCase("timestamp")) nColumnSize = 19; else if (!bIsCharMax) nColumnSize = xRow-&gt;getShort(7); else nColumnSize = nCharMaxLen; .... }</span></span></code> </pre> <br> å¤åˆ¶æ¡ä»¶è¡¨è¾¾å¼çš„ç»“æœæ˜¯ï¼Œä»£ç ä¸­å‡ºç°é”™è¯¯ï¼Œå› ä¸ºä»æœªè®¾ç½®å˜é‡<i>nColumnSize</i>çš„å€¼<i>8</i> ã€‚ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V523'then</a> 'è¯­å¥ç­‰æ•ˆäº'else'è¯­å¥ã€‚  svdpdf.hxx 146 <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/// Transform the rectangle (left, right, top, bottom) by this Matrix. template &lt;typename T&gt; void Transform(....) { .... if (top &gt; bottom) top = std::max(leftTopY, rightTopY); else top = std::min(leftTopY, rightTopY); if (top &gt; bottom) bottom = std::max(leftBottomY, rightBottomY); // &lt;= else bottom = std::max(leftBottomY, rightBottomY); // &lt;= }</span></span></code> </pre> <br> è¿™é‡Œçš„å‡½æ•°<i>minï¼ˆï¼‰</i>å’Œ<i>maxï¼ˆï¼‰</i>æ··æ·†äº†ã€‚ å½“ç„¶ï¼Œç”±äºç•Œé¢ä¸­çš„è¿™ç§é”™å­—ï¼ŒæŸäº›ä¸œè¥¿çš„ç¼©æ”¾æ¯”ä¾‹å¾ˆå¥‡æ€ªã€‚ <br><br><h2> æ€ªå‘¨æœŸ </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/361/175/35d/36117535d4e5edba8d6a11ce89ae5cbc.gif"></div><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V533</a>å¯èƒ½åœ¨â€œ forâ€è¿ç®—ç¬¦å†…é€’å¢äº†é”™è¯¯çš„å˜é‡ã€‚ è€ƒè™‘æŸ¥çœ‹â€œ iâ€ã€‚  javatypemaker.cxx 602 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">printConstructors</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&lt; unoidl::SingleInterfaceBasedServiceEntity::Constructor:: Parameter &gt;::const_iterator j(i-&gt;parameters.begin()); j != i-&gt;parameters.end(); ++i) { o &lt;&lt; <span class="hljs-string"><span class="hljs-string">", "</span></span>; printType(o, options, manager, j-&gt;type, <span class="hljs-literal"><span class="hljs-literal">false</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (j-&gt;rest) { o &lt;&lt; <span class="hljs-string"><span class="hljs-string">"..."</span></span>; } o &lt;&lt; <span class="hljs-string"><span class="hljs-string">' '</span></span> &lt;&lt; codemaker::java::translateUnoToJavaIdentifier( u2b(j-&gt;name), <span class="hljs-string"><span class="hljs-string">"param"</span></span>); } .... }</code> </pre> <br> å¾ªç¯ä¸­çš„è¡¨è¾¾å¼<i>++ i</i>çœ‹èµ·æ¥éå¸¸å¯ç–‘ã€‚ ä¹Ÿè®¸é‚£é‡Œåº”è¯¥æœ‰<i>++ j</i> ã€‚ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V756</a>åµŒå¥—å¾ªç¯å†…æœªä½¿ç”¨â€œ nIndex2â€è®¡æ•°å™¨ã€‚ è€ƒè™‘æ£€æŸ¥â€œ nIndexâ€è®¡æ•°å™¨çš„ç”¨æ³•ã€‚  treex.cxx 34 <br><br><pre> <code class="cpp hljs">SAL_IMPLEMENT_MAIN_WITH_ARGS(argc, argv) { OString sXHPRoot; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> nIndex = <span class="hljs-number"><span class="hljs-number">1</span></span>; nIndex != argc; ++nIndex) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">strcmp</span></span>(argv[nIndex], <span class="hljs-string"><span class="hljs-string">"-r"</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span>) { sXHPRoot = OString( argv[nIndex + <span class="hljs-number"><span class="hljs-number">1</span></span>] ); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>( <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> nIndex2 = nIndex+<span class="hljs-number"><span class="hljs-number">3</span></span>; nIndex2 &lt; argc; nIndex2 = nIndex2 + <span class="hljs-number"><span class="hljs-number">2</span></span> ) { argv[nIndex<span class="hljs-number"><span class="hljs-number">-3</span></span>] = argv[nIndex<span class="hljs-number"><span class="hljs-number">-1</span></span>]; argv[nIndex<span class="hljs-number"><span class="hljs-number">-2</span></span>] = argv[nIndex]; } argc = argc - <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } common::HandledArgs aArgs; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( !common::handleArguments(argc, argv, aArgs) ) { WriteUsage(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; } .... }</code> </pre> <br>  <b>å†…éƒ¨</b> <i>for</i>å¾ªç¯ä¸­å­˜åœ¨æŸç§é”™è¯¯ã€‚ å› ä¸º  <i>nIndex</i>å˜é‡<i>ä¸ä¼š</i>æ”¹å˜ï¼›æ•°ç»„çš„ç›¸åŒä¸¤ä¸ªå…ƒç´ åœ¨æ¯æ¬¡è¿­ä»£æ—¶éƒ½ä¼šè¢«è¦†ç›–ã€‚ å˜é‡<b><i>nIndex2</i></b>æœ€æœ‰å¯èƒ½ä»£æ›¿<i>nIndex</i> <b><i>è€Œå·²</i></b>åœ¨<b><i>æ‰€æœ‰åœ°æ–¹</i></b>ä½¿ç”¨ã€‚ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V1008</a>è€ƒè™‘æ£€æŸ¥â€œ forâ€è¿ç®—ç¬¦ã€‚ æœ€å¤šæ‰§è¡Œä¸€æ¬¡å¾ªç¯è¿­ä»£ã€‚  diagramhelper.cxx 292 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> DiagramHelper::setStackMode( <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Reference&lt; XDiagram &gt; &amp; xDiagram, StackMode eStackMode ) { .... sal_Int32 nMax = aChartTypeList.getLength(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( nMax &gt;= <span class="hljs-number"><span class="hljs-number">1</span></span> ) nMax = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>( sal_Int32 nT = <span class="hljs-number"><span class="hljs-number">0</span></span>; nT &lt; nMax; ++nT ) { uno::Reference&lt; XChartType &gt; xChartType( aChartTypeList[nT] ); .... } .... }</code> </pre> <br>  <i>for</i>å¾ªç¯æœ‰æ„é™åˆ¶ä¸º1æ¬¡è¿­ä»£ã€‚ ç›®å‰å°šä¸æ¸…æ¥šä¸ºä»€ä¹ˆè¦è¿™æ ·è¿›è¡Œã€‚ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V612</a>å¾ªç¯å†…æ— æ¡ä»¶çš„â€œè¿”å›â€ã€‚  pormulti.cxx 891 <br><br><pre> <code class="cpp hljs">SwTextAttr <span class="hljs-keyword"><span class="hljs-keyword">const</span></span>* MergedAttrIterMulti::NextAttr(....) { .... <span class="hljs-function"><span class="hljs-function">SwpHints </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function">*</span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pHints</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(m_pNode-&gt;GetpSwpHints())</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pHints) { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (m_CurrentHint &lt; pHints-&gt;Count()) { <span class="hljs-function"><span class="hljs-function">SwTextAttr </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function">*</span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pHint</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pHints-&gt;Get(m_CurrentHint))</span></span></span></span>; ++m_CurrentHint; rpNode = m_pNode; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> pHint; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span>; .... }</code> </pre> <br> ä¸€ä¸ªè¿­ä»£äº§ç”Ÿçš„ç®€å•æ€ªå¼‚å¾ªç¯çš„ç¤ºä¾‹ï¼Œæœ€å¥½å°†å…¶é‡å†™ä¸ºæ¡ä»¶è¯­å¥ã€‚ <br><br> è¿˜æœ‰ä¸€äº›è¿™æ ·çš„åœ°æ–¹ï¼š <br><br><ul><li>  V612å¾ªç¯å†…æ— æ¡ä»¶çš„â€œè¿”å›â€ã€‚  txtfrm.cxx 144 </li><li>  V612å¾ªç¯å†…æ— æ¡ä»¶çš„â€œè¿”å›â€ã€‚  txtfrm.cxx 202 </li><li>  V612å¾ªç¯å†…æ— æ¡ä»¶çš„â€œè¿”å›â€ã€‚  txtfrm.cxx 279 </li></ul><br><h2> å¥‡æ€ªçš„æ¡ä»¶ </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9f6/73a/01b/9f673a01bb41965f47539e9311546201.png"></div><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V637</a>é‡åˆ°ä¸¤ä¸ªç›¸åçš„æ¡ä»¶ã€‚ ç¬¬äºŒä¸ªæ¡ä»¶å§‹ç»ˆä¸ºå‡ã€‚ æ£€æŸ¥è¡Œï¼š281ã€285ã€‚authfld.cxx 281 <br><br><pre> <code class="cpp hljs">sal_uInt16 SwAuthorityFieldType::GetSequencePos(sal_IntPtr nHandle) { .... SwTOXSortTabBase* pOld = aSortArr[i].get(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(*pOld == *pNew) { <span class="hljs-comment"><span class="hljs-comment">//only the first occurrence in the document //has to be in the array if(*pOld &lt; *pNew) pNew.reset(); else // remove the old content aSortArr.erase(aSortArr.begin() + i); break; } .... }</span></span></code> </pre> <br> åˆ†æå™¨å‘ç°æ¯”è¾ƒç»“æœå†²çªã€‚ è¿™æ®µä»£ç æ˜¾ç„¶æœ‰é—®é¢˜ã€‚ <br><br> åœ¨æ­¤ä½ç½®å¯ä»¥çœ‹åˆ°ç›¸åŒçš„ä»£ç ï¼š <br><br><ul><li>  V637é‡åˆ°ä¸¤ä¸ªç›¸åçš„æ¡ä»¶ã€‚ ç¬¬äºŒä¸ªæ¡ä»¶å§‹ç»ˆä¸ºå‡ã€‚ æ£€æŸ¥è¡Œï¼š1827ã€1829ã€‚doctxm.cxx 1827 </li></ul><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V590</a>è€ƒè™‘æ£€æŸ¥æ­¤è¡¨è¾¾å¼ã€‚ è¡¨è¾¾å¼è¿‡å¤šæˆ–æ‰“å°é”™è¯¯ã€‚  fileurl.cxx 55 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">OUString </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">convertToFileUrl</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> * filename, ....)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((filename[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-string"><span class="hljs-string">'.'</span></span>) || (filename[<span class="hljs-number"><span class="hljs-number">0</span></span>] != SEPARATOR)) { .... } .... }</code> </pre> <br> ä¸Šé¢çš„ä»£ç ç‰‡æ®µçš„é—®é¢˜åœ¨äºï¼Œç¬¬ä¸€ä¸ªæ¡ä»¶è¡¨è¾¾å¼ä¸ä¼šå½±å“æ•´ä¸ªè¡¨è¾¾å¼çš„ç»“æœã€‚ <br><br> åŸºäºè¿™æ ·çš„é”™è¯¯ï¼Œæˆ‘ä»€è‡³å†™äº†ä¸€ç¯‡ç†è®ºæ–‡ç« ï¼šâ€œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">C / C ++ä¸­çš„é€»è¾‘è¡¨è¾¾å¼ã€‚ä¸“ä¸šäººå‘˜æ€ä¹ˆé”™</a> ã€‚â€ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V590</a>è€ƒè™‘æ£€æŸ¥æ­¤è¡¨è¾¾å¼ã€‚ è¡¨è¾¾å¼è¿‡å¤šæˆ–æ‰“å°é”™è¯¯ã€‚  unoobj.cxx 1895 <br><br><pre> <code class="cpp hljs">uno::Sequence&lt; beans::PropertyState &gt; SwUnoCursorHelper::GetPropertyStates(....) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (((SW_PROPERTY_STATE_CALLER_SWX_TEXT_PORTION == eCaller) || (SW_PROPERTY_STATE_CALLER_SWX_TEXT_PORTION_TOLERANT == eCaller)) &amp;&amp; pEntry-&gt;nWID &lt; FN_UNO_RANGE_BEGIN &amp;&amp; pEntry-&gt;nWID &gt; FN_UNO_RANGE_END &amp;&amp; pEntry-&gt;nWID &lt; RES_CHRATR_BEGIN &amp;&amp; pEntry-&gt;nWID &gt; RES_TXTATR_END ) { pStates[i] = beans::PropertyState_DEFAULT_VALUE; } .... }</code> </pre> <br> æˆ‘ä¸ç«‹å³äº†è§£è¿™ç§æƒ…å†µçš„é—®é¢˜æ‰€åœ¨ï¼Œå› æ­¤ï¼Œä»é¢„å¤„ç†æ–‡ä»¶ä¸­å†™å‡ºäº†æ‰©å±•çš„ä»£ç ç‰‡æ®µï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (((SW_PROPERTY_STATE_CALLER_SWX_TEXT_PORTION == eCaller) || (SW_PROPERTY_STATE_CALLER_SWX_TEXT_PORTION_TOLERANT == eCaller)) &amp;&amp; pEntry-&gt;nWID &lt; (<span class="hljs-number"><span class="hljs-number">20000</span></span> + <span class="hljs-number"><span class="hljs-number">1600</span></span>) &amp;&amp; pEntry-&gt;nWID &gt; ((<span class="hljs-number"><span class="hljs-number">20000</span></span> + <span class="hljs-number"><span class="hljs-number">2400</span></span>) + <span class="hljs-number"><span class="hljs-number">199</span></span>) &amp;&amp; pEntry-&gt;nWID &lt; <span class="hljs-number"><span class="hljs-number">1</span></span> &amp;&amp; pEntry-&gt;nWID &gt; <span class="hljs-number"><span class="hljs-number">63</span></span> ) { pStates[i] = beans::PropertyState_DEFAULT_VALUE; }</code> </pre> <br> ç¢°å·§åœ¨æ¡ä»¶ä¸­æŒ‡å®šçš„4ä¸ªèŒƒå›´ä¸­æ²¡æœ‰åŒæ—¶åŒ…å«ä¸€ä¸ªæ•°å­—ã€‚ å¼€å‘äººå‘˜çŠ¯äº†ä¸€ä¸ªé”™è¯¯ã€‚ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V590</a>è€ƒè™‘æ£€æŸ¥'* pData &lt;= MAXLEVEL &amp;&amp; * pData &lt;= 9'è¡¨è¾¾å¼ã€‚ è¡¨è¾¾å¼è¿‡å¤šæˆ–æ‰“å°é”™è¯¯ã€‚  ww8par2.cxx 756 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> sal_uInt8 MAXLEVEL = <span class="hljs-number"><span class="hljs-number">10</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> SwWW8ImplReader::Read_ANLevelNo(....) { .... <span class="hljs-comment"><span class="hljs-comment">// Range WW:1..9 -&gt; SW:0..8 no bullets / numbering if (*pData &lt;= MAXLEVEL &amp;&amp; *pData &lt;= 9) { .... } else if( *pData == 10 || *pData == 11 ) { // remember type, the rest happens at Sprm 12 m_xStyles-&gt;mnWwNumLevel = *pData; } .... }</span></span></code> </pre> <br> ç”±äºç¬¬ä¸€ä¸ªæ¡ä»¶ä½¿ç”¨å€¼ä¸º<i>10</i>çš„å¸¸æ•°ï¼Œå› æ­¤è¯¥æ¡ä»¶è¢«è¯æ˜æ˜¯å¤šä½™çš„ã€‚ è¿™æ®µä»£ç å¯ä»¥é‡å†™å¦‚ä¸‹ï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (*pData &lt;= <span class="hljs-number"><span class="hljs-number">9</span></span>) { .... } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( *pData == <span class="hljs-number"><span class="hljs-number">10</span></span> || *pData == <span class="hljs-number"><span class="hljs-number">11</span></span> ) { .... }</code> </pre> <br> ä½†æ˜¯ä¹Ÿè®¸æ‰€æä¾›çš„ä»£ç ä¸­è¿˜æœ‰å¦ä¸€ä¸ªé—®é¢˜ã€‚ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V757</a>ä½¿ç”¨'dynamic_cast'è¿›è¡Œç±»å‹è½¬æ¢åï¼Œå¯èƒ½<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¼šå°†</a>ä¸æ­£ç¡®çš„å˜é‡ä¸nullptrè¿›è¡Œæ¯”è¾ƒã€‚ æ£€æŸ¥è¡Œï¼š2709ã€2710ã€‚menu.cxx 2709 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> PopupMenu::ClosePopup(Menu* pMenu) { MenuFloatingWindow* p = <span class="hljs-keyword"><span class="hljs-keyword">dynamic_cast</span></span>&lt;MenuFloatingWindow*&gt;(ImplGetWindow()); PopupMenu *pPopup = <span class="hljs-keyword"><span class="hljs-keyword">dynamic_cast</span></span>&lt;PopupMenu*&gt;(pMenu); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (p &amp;&amp; pMenu) p-&gt;KillActivePopup(pPopup); }</code> </pre> <br> æ¡ä»¶å¾ˆå¯èƒ½åŒ…å«é”™è¯¯ã€‚ æœ‰å¿…è¦æ£€æŸ¥æŒ‡é’ˆ<i>p</i>å’Œ<i>pPopup</i> ã€‚ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V668</a>æ²¡æœ‰é’ˆå¯¹ç©ºæµ‹è¯•'m_pStream'æŒ‡é’ˆçš„æ„ä¹‰ï¼Œå› ä¸ºä½¿ç”¨'new'è¿ç®—ç¬¦åˆ†é…äº†å†…å­˜ã€‚ å¦‚æœå†…å­˜åˆ†é…é”™è¯¯ï¼Œå°†ç”Ÿæˆå¼‚å¸¸ã€‚  zipfile.cxx 408 <br><br><pre> <code class="cpp hljs">ZipFile::ZipFile(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::wstring &amp;FileName) : m_pStream(<span class="hljs-literal"><span class="hljs-literal">nullptr</span></span>), m_bShouldFree(<span class="hljs-literal"><span class="hljs-literal">true</span></span>) { m_pStream = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FileStream(FileName.c_str()); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (m_pStream &amp;&amp; !isZipStream(m_pStream)) { <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> m_pStream; m_pStream = <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span>; } }</code> </pre> <br> åˆ†æå™¨æ£€æµ‹åˆ°<i>æ–°</i>æ“ä½œç¬¦è¿”å›çš„æŒ‡é’ˆçš„å€¼ä¸é›¶è¿›è¡Œæ¯”è¾ƒçš„æƒ…å†µã€‚ æ ¹æ®C ++è¯­è¨€æ ‡å‡†ï¼Œå¦‚æœæ— æ³•è¿›è¡Œå†…å­˜åˆ†é…ï¼Œåˆ™<i>æ–°</i>è¿ç®—ç¬¦å°†å¼•å‘å¼‚å¸¸<i>std :: bad_alloc</i> ã€‚  LibreOfficeé¡¹ç›®ä¸­ä»…å‘ç°äº†45ä¸ªè¿™æ ·çš„åœ°æ–¹ï¼Œå¯¹äºå¦‚æ­¤å¤§é‡çš„ä»£ç è€Œè¨€ï¼Œè¿™æ˜¯å¾ˆå°çš„ã€‚ ä½†è¿™ä»ç„¶ä¼šç»™ç”¨æˆ·å¸¦æ¥éº»çƒ¦ã€‚ å¼€å‘äººå‘˜åº”åˆ é™¤ä¸å¿…è¦çš„æ£€æŸ¥æˆ–é€šè¿‡ä»¥ä¸‹æ–¹å¼åˆ›å»ºå¯¹è±¡ï¼š <br><br><pre> <code class="cpp hljs">m_pStream = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::nothrow) FileStream(FileName.c_str());</code> </pre> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V728</a>è¿‡åº¦æ£€æŸ¥å¯ä»¥ç®€åŒ–ã€‚  'ï¼ˆï¼ˆA &amp;&amp;ï¼Bï¼‰||  ï¼ˆï¼A &amp;&amp; Bï¼‰'è¡¨è¾¾å¼ç­‰åŒäº'boolï¼ˆAï¼‰ï¼= Boolï¼ˆBï¼‰'è¡¨è¾¾å¼ã€‚ å·¥å…·ç®±2.cxx 1042 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> ToolBox::SetItemImageMirrorMode( sal_uInt16 nItemId, <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> bMirror ) { ImplToolItems::size_type nPos = GetItemPos( nItemId ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( nPos != ITEM_NOTFOUND ) { ImplToolItem* pItem = &amp;mpData-&gt;m_aItems[nPos]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((pItem-&gt;mbMirrorMode &amp;&amp; !bMirror) || <span class="hljs-comment"><span class="hljs-comment">// &lt;= (!pItem-&gt;mbMirrorMode &amp;&amp; bMirror)) // &lt;= { .... } } }</span></span></code> </pre> <br> å¾ˆä¹…ä»¥å‰ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V728</a>è¯Šæ–­ç¨‹åºå·²æ‰©å±•åˆ°å¾ˆå¯èƒ½ä¸æ˜¯é”™è¯¯çš„æƒ…å†µï¼Œè€Œæ˜¯ä½¿ä»£ç å¤æ‚åŒ–çš„æƒ…å†µã€‚ è€Œä¸”åœ¨å¤æ‚çš„ä»£ç ä¸­ï¼Œè¿Ÿæ—©ä»ä¼šå‡ºé”™ã€‚ <br><br> æ­¤æ¡ä»¶ç®€åŒ–ä¸ºä»¥ä¸‹å†…å®¹ï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pItem-&gt;mbMirrorMode != bMirror) { .... }</code> </pre> <br> åœ¨è¯¥é¡¹ç›®ä¸­å‘ç°äº†å¤§çº¦60ä¸ªç±»ä¼¼çš„ç»“æ„ï¼Œå…¶ä¸­ä¸€äº›éå¸¸éå¸¸åºå¤§ã€‚ è¯¥é¡¹ç›®çš„ä½œè€…åº”ç†Ÿæ‚‰PVS-Studioåˆ†æä»ªçš„å®Œæ•´æŠ¥å‘Šã€‚ <br><br><h2> å®‰å…¨é—®é¢˜ </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/38b/9aa/9ba/38b9aa9ba87c83eb5207957913b918af.png"></div><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V523'then</a> 'è¯­å¥ç­‰æ•ˆäº'else'è¯­å¥ã€‚  docxattributeoutput.cxx 1571 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> DocxAttributeOutput::DoWritePermissionTagEnd( <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> OUString &amp; permission) { OUString permissionIdAndName; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (permission.startsWith(<span class="hljs-string"><span class="hljs-string">"permission-for-group:"</span></span>, &amp;permissionIdAndName)) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> sal_Int32 sparatorIndex = permissionIdAndName.indexOf(<span class="hljs-string"><span class="hljs-string">':'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> OUString permissionId = permissionIdAndName.copy(....); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> OString rId = OUStringToOString(....).getStr(); m_pSerializer-&gt;singleElementNS(XML_w, XML_permEnd, FSNS(XML_w, XML_id), rId.getStr(), FSEND); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> sal_Int32 sparatorIndex = permissionIdAndName.indexOf(<span class="hljs-string"><span class="hljs-string">':'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> OUString permissionId = permissionIdAndName.copy(....); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> OString rId = OUStringToOString(....).getStr(); m_pSerializer-&gt;singleElementNS(XML_w, XML_permEnd, FSNS(XML_w, XML_id), rId.getStr(), FSEND); } }</code> </pre> <br> è¿™é‡Œå¤åˆ¶äº†ä¸€å¤§æ®µä»£ç ã€‚ å¯¹äºæ›´æ”¹æŸäº›æƒé™çš„åŠŸèƒ½ï¼Œå‘ç°çš„é—®é¢˜çœ‹èµ·æ¥éå¸¸å¯ç–‘ã€‚ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V1001</a>åˆ†é…äº†â€œ DLâ€å˜é‡ï¼Œä½†åœ¨åŠŸèƒ½ç»“æŸæ—¶æœªä½¿ç”¨ã€‚  cipher.cxx 811 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BF_updateECB</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( CipherContextBF *ctx, rtlCipherDirection direction, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sal_uInt8 *pData, sal_uInt8 *pBuffer, sal_Size nLength)</span></span></span><span class="hljs-function"> </span></span>{ CipherKeyBF *key; sal_uInt32 DL, DR; key = &amp;(ctx-&gt;m_key); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (direction == rtl_Cipher_DirectionEncode) { RTL_CIPHER_NTOHL64(pData, DL, DR, nLength); BF_encode(key, &amp;DL, &amp;DR); RTL_CIPHER_HTONL(DL, pBuffer); RTL_CIPHER_HTONL(DR, pBuffer); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { RTL_CIPHER_NTOHL(pData, DL); RTL_CIPHER_NTOHL(pData, DR); BF_decode(key, &amp;DL, &amp;DR); RTL_CIPHER_HTONL64(DL, DR, pBuffer, nLength); } DL = DR = <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre> <br>  <i>DL</i>å’Œ<i>DR</i>å˜é‡é€šè¿‡åœ¨å‡½æ•°æœ«å°¾çš„ç®€å•èµ‹å€¼è€Œæ— æ•ˆï¼Œå¹¶ä¸”ä¸å†ä½¿ç”¨ã€‚ å¯¹äºç¼–è¯‘å™¨ï¼Œè¿™æ˜¯åˆ é™¤å‘½ä»¤ä»¥è¿›è¡Œä¼˜åŒ–çš„å€Ÿå£ã€‚ <br><br> è¦æ­£ç¡®æ¸…é™¤Windowsåº”ç”¨ç¨‹åºä¸­çš„å˜é‡ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼é‡å†™ä»£ç ï¼š <br><br><pre> <code class="cpp hljs">RtlSecureZeroMemory(&amp;DL, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(DL)); RtlSecureZeroMemory(&amp;DR, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(DR));</code> </pre> <br> ä½†æ˜¯å¯¹äºLibreOfficeï¼Œè¿™é‡Œéœ€è¦ä¸€ä¸ªè·¨å¹³å°çš„è§£å†³æ–¹æ¡ˆã€‚ <br><br> æ¥è‡ªå¦ä¸€ä¸ªåŠŸèƒ½çš„ç±»ä¼¼è­¦å‘Šï¼š <ul><li>  V1001åˆ†é…äº†â€œ DLâ€å˜é‡ï¼Œä½†åœ¨åŠŸèƒ½ç»“æŸæ—¶æœªä½¿ç”¨ã€‚  cipher.cxx 860 </li></ul><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V764</a>ä¼ é€’ç»™'queryStream'å‡½æ•°çš„å‚æ•°çš„å¯èƒ½é”™è¯¯é¡ºåºï¼š'rUri'å’Œ'rPassword'ã€‚  tdoc_storage.cxx 271 <br><br><pre> <code class="cpp hljs">css::uno::Reference&lt; css::io::XStream &gt; queryStream( <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> css::uno::Reference&lt; css::embed::XStorage &gt; &amp; xParentStorage, <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> OUString &amp; rPassword, <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> OUString &amp; rUri, StorageAccessMode eMode, <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> bTruncate ); uno::Reference&lt; io::XOutputStream &gt; StorageElementFactory::createOutputStream( <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> OUString &amp; rUri, <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> OUString &amp; rPassword, <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> bTruncate ) { .... uno::Reference&lt; io::XStream &gt; xStream = queryStream( xParentStorage, rUri, rPassword, READ_WRITE_CREATE, bTruncate ); .... }</code> </pre> <br> è¯·æ³¨æ„ï¼Œåœ¨<i>queryStream</i>å‡½æ•°ä¸­ï¼Œåœ¨å‚æ•°åˆ—è¡¨ä¸­ï¼Œé¦–å…ˆæ˜¯<i>rPassword</i> ï¼Œç„¶åæ˜¯<i>rUri</i> ã€‚ åœ¨ä»£ç ä¸­æœ‰ä¸€ä¸ªåœ°æ–¹ï¼Œå½“è°ƒç”¨æ­¤å‡½æ•°æ—¶ï¼Œç›¸åº”çš„å‚æ•°æ··åˆåœ¨ä¸€èµ·ã€‚ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V794</a>åº”è¯¥ä¿æŠ¤èµ‹å€¼è¿ç®—ç¬¦å…å—'this ==ï¼†rToBeCopied'çš„å½±å“ã€‚  hommatrixtemplate.hxx 121 <br><br><pre> <code class="cpp hljs">ImplHomMatrixTemplate&amp; <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span>=(....) { <span class="hljs-comment"><span class="hljs-comment">// complete initialization using copy for(sal_uInt16 a(0); a &lt; (RowSize - 1); a++) { memcpy(&amp;maLine[a], &amp;rToBeCopied.maLine[a], sizeof(....)); } if(rToBeCopied.mpLine) { mpLine.reset( new ImplMatLine&lt; RowSize &gt;(....) ); } return *this; }</span></span></code> </pre> <br> è¿™ç§æƒ…å†µæ›´å¤šæ˜¯å…³äºå®‰å…¨ä»£ç ç¼–å†™ã€‚ å¤åˆ¶è¯­å¥ä¸­æ²¡æœ‰æ£€æŸ¥è¦ä¸ºå…¶åˆ†é…å¯¹è±¡çš„æ£€æŸ¥ã€‚ è¯¥é¡¹ç›®æ€»å…±æœ‰å¤§çº¦30ç§è¿™æ ·çš„å¤åˆ¶è¿ç®—ç¬¦å®ç°ã€‚ <br><br><h2>  SysAllocStringé”™è¯¯ </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/39c/568/55a/39c56855adffe06a5e0d517f764ecea6.png"></div><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V649</a>æœ‰ä¸¤ä¸ªå¸¦æœ‰ç›¸åŒæ¡ä»¶è¡¨è¾¾å¼çš„'if'è¯­å¥ã€‚ ç¬¬ä¸€ä¸ª'if'è¯­å¥åŒ…å«å‡½æ•°returnã€‚ è¿™æ„å‘³ç€ç¬¬äºŒä¸ªâ€œ ifâ€è¯­å¥æ˜¯æ¯«æ— æ„ä¹‰çš„ã€‚ æ£€æŸ¥è¡Œï¼š125ã€137ã€‚acctable.cxx 137 <br><br><pre> <code class="cpp hljs">STDMETHODIMP CAccTable::get_columnDescription(<span class="hljs-keyword"><span class="hljs-keyword">long</span></span> column, BSTR * description) { SolarMutexGuard g; ENTER_PROTECTED_BLOCK <span class="hljs-comment"><span class="hljs-comment">// #CHECK# if(description == nullptr) return E_INVALIDARG; // #CHECK XInterface# if(!pRXTable.is()) return E_FAIL; .... SAFE_SYSFREESTRING(*description); *description = SysAllocString(o3tl::toW(ouStr.getStr())); if(description==nullptr) // &lt;= return E_FAIL; return S_OK; LEAVE_PROTECTED_BLOCK }</span></span></code> </pre> <br>  <i>SysAllocStringï¼ˆï¼‰</i>å‡½æ•°è¿”å›çš„æŒ‡é’ˆå¯ä»¥ä¸º<i>NULL</i> ã€‚ è¿™æ®µä»£ç çš„ä½œè€…å†™äº†ä¸€äº›å¥‡æ€ªçš„ä¸œè¥¿ã€‚ æœªæ£€æŸ¥æŒ‡å‘å·²åˆ†é…å†…å­˜çš„æŒ‡é’ˆï¼Œè¿™å¯èƒ½å¯¼è‡´ç¨‹åºå‡ºç°é—®é¢˜ã€‚ <br><br> å…¶ä»–åŠŸèƒ½çš„ç±»ä¼¼è­¦å‘Šï¼š <br><br><ul><li>  V649æœ‰ä¸¤ä¸ªå¸¦æœ‰ç›¸åŒæ¡ä»¶è¡¨è¾¾å¼çš„'if'è¯­å¥ã€‚ ç¬¬ä¸€ä¸ª'if'è¯­å¥åŒ…å«å‡½æ•°returnã€‚ è¿™æ„å‘³ç€ç¬¬äºŒä¸ªâ€œ ifâ€è¯­å¥æ˜¯æ¯«æ— æ„ä¹‰çš„ã€‚ æ£€æŸ¥è¡Œï¼š344ã€356ã€‚acctable.cxx 356 </li><li>  V649æœ‰ä¸¤ä¸ªå¸¦æœ‰ç›¸åŒæ¡ä»¶è¡¨è¾¾å¼çš„'if'è¯­å¥ã€‚ ç¬¬ä¸€ä¸ª'if'è¯­å¥åŒ…å«å‡½æ•°returnã€‚ è¿™æ„å‘³ç€ç¬¬äºŒä¸ªâ€œ ifâ€è¯­å¥æ˜¯æ¯«æ— æ„ä¹‰çš„ã€‚ æ£€æŸ¥è¡Œï¼š213ã€219ã€‚trvlfrm.cxx 219 </li></ul><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V530</a>éœ€è¦ä½¿ç”¨åŠŸèƒ½'SysAllocString'çš„è¿”å›å€¼ã€‚  maccessible.cxx 1077 <br><br><pre> <code class="cpp hljs">STDMETHODIMP CMAccessible::put_accValue(....) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(varChild.lVal==CHILDID_SELF) { SysAllocString(m_pszValue); m_pszValue=SysAllocString(szValue); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> S_OK; } .... }</code> </pre> <br> ä¸ä½¿ç”¨å¯¹<i>SysAllocStringï¼ˆï¼‰</i>å‡½æ•°çš„è°ƒç”¨ä¹‹ä¸€çš„ç»“æœã€‚ å¼€å‘äººå‘˜åº”æ³¨æ„è¿™æ®µä»£ç ã€‚ <br><br><h2> æ‚é¡¹ </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V716</a> returnè¯­å¥ä¸­çš„å¯ç–‘ç±»å‹è½¬æ¢ï¼šè¿”å›äº†HRESULTï¼Œä½†å‡½æ•°å®é™…ä¸Šè¿”å›äº†BOOLã€‚  maccessible.cxx 2649 <br><br><pre> <code class="cpp hljs">BOOL CMAccessible::get_IAccessibleFromXAccessible(....) { ENTER_PROTECTED_BLOCK <span class="hljs-comment"><span class="hljs-comment">// #CHECK# if(ppIA == nullptr) { return E_INVALIDARG; // &lt;= } BOOL isGet = FALSE; if(g_pAgent) isGet = g_pAgent-&gt;GetIAccessibleFromXAccessible(....); if(isGet) return TRUE; else return FALSE; LEAVE_PROTECTED_BLOCK }</span></span></code> </pre> <br> å‡½æ•°æ‰§è¡Œçš„ä¸€ä¸ªåˆ†æ”¯è¿”å›ä¸€ä¸ªå€¼ï¼Œè¯¥å€¼çš„ç±»å‹ä¸å‡½æ•°çš„è¿”å›å€¼çš„ç±»å‹ä¸åŒ¹é…ã€‚<font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HRESULT</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»å‹</font><font style="vertical-align: inherit;">å…·æœ‰æ¯”</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BOOL</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»å‹æ›´å¤æ‚çš„æ ¼å¼ï¼Œ</font><font style="vertical-align: inherit;">å¹¶ç”¨äºå­˜å‚¨æ“ä½œçŠ¶æ€ã€‚</font><font style="vertical-align: inherit;">ä¾‹å¦‚ï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E_INVALIDARGçš„</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å€¼ä¸º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0x80070057L</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">åƒè¿™æ ·å†™æ˜¯æ­£ç¡®çš„ï¼š</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> FAILED(E_INVALIDARG);</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‚¨å¯ä»¥åœ¨V716è¯Šæ–­æ–‡æ¡£ä¸­é˜…è¯»æœ‰å…³æ­¤å†…å®¹çš„æ›´å¤šä¿¡æ¯ã€‚</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¿˜æœ‰æ›´å¤šç±»ä¼¼çš„åœ°æ–¹ï¼š</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V716 returnè¯­å¥ä¸­çš„å¯ç–‘ç±»å‹è½¬æ¢ï¼šè¿”å›äº†HRESULTï¼Œä½†å‡½æ•°å®é™…ä¸Šè¿”å›äº†BOOLã€‚</font><font style="vertical-align: inherit;">ç¬¬1299ç« </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V716 returnè¯­å¥ä¸­çš„å¯ç–‘ç±»å‹è½¬æ¢ï¼šè¿”å›äº†HRESULTï¼Œä½†å‡½æ•°å®é™…ä¸Šè¿”å›äº†BOOLã€‚</font><font style="vertical-align: inherit;">maccessible.cxx 2660</font></font></li></ul><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V670</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœªåˆå§‹åŒ–çš„ç±»æˆå‘˜'m_aMutex'ç”¨äºåˆå§‹åŒ–'m_aModifyListeners'æˆå‘˜ã€‚</font><font style="vertical-align: inherit;">è¯·è®°ä½ï¼Œæˆå‘˜æ˜¯æŒ‰ç…§ç±»å†…å£°æ˜çš„é¡ºåºè¿›è¡Œåˆå§‹åŒ–çš„ã€‚</font><font style="vertical-align: inherit;">fmgridif.cxx 1033</font></font><br><br><pre> <code class="cpp hljs">FmXGridPeer::FmXGridPeer(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Reference&lt; XComponentContext &gt;&amp; _rxContext) :m_aModifyListeners(m_aMutex) ,m_aUpdateListeners(m_aMutex) ,m_aContainerListeners(m_aMutex) ,m_aSelectionListeners(m_aMutex) ,m_aGridControlListeners(m_aMutex) ,m_aMode( getDataModeIdentifier() ) ,m_nCursorListening(<span class="hljs-number"><span class="hljs-number">0</span></span>) ,m_bInterceptingDispatch(<span class="hljs-literal"><span class="hljs-literal">false</span></span>) ,m_xContext(_rxContext) { <span class="hljs-comment"><span class="hljs-comment">// Create must be called after this constructor m_pGridListener.reset( new GridListenerDelegator( this ) ); } class __declspec(dllexport) FmXGridPeer: public cppu::ImplInheritanceHelper&lt;....&gt; { .... ::comphelper::OInterfaceContainerHelper2 m_aModifyListeners, m_aUpdateListeners, m_aContainerListeners, m_aSelectionListeners, m_aGridControlListeners; .... protected: css::uno::Reference&lt; css::uno::XComponentContext &gt; m_xContext; ::osl::Mutex m_aMutex; .... };</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ ¹æ®è¯­è¨€æ ‡å‡†ï¼Œæ„é€ å‡½æ•°ä¸­ç±»æˆå‘˜çš„åˆå§‹åŒ–é¡ºåºæŒ‰ç…§å…¶åœ¨ç±»ä¸­çš„å£°æ˜é¡ºåºè¿›è¡Œã€‚</font><font style="vertical-align: inherit;">åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m_aMutex</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å­—æ®µ</font><font style="vertical-align: inherit;">å°†åœ¨å‚ä¸è¯¥ç±»çš„å…¶ä»–äº”ä¸ªå­—æ®µçš„åˆå§‹åŒ–ä¹‹åè¿›è¡Œåˆå§‹åŒ–ã€‚</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»¥ä¸‹æ˜¯å…¶ä¸­ä¸€ä¸ªç±»å­—æ®µçš„æ„é€ å‡½æ•°ï¼š</font></font><br><br><pre> <code class="cpp hljs">OInterfaceContainerHelper2( ::osl::Mutex &amp; rMutex );</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">äº’æ–¥å¯¹è±¡é€šè¿‡å¼•ç”¨ä¼ é€’ã€‚</font><font style="vertical-align: inherit;">åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¼šå‡ºç°å„ç§é—®é¢˜ï¼šä»è®¿é—®æœªåˆå§‹åŒ–çš„å†…å­˜åˆ°éšåä¸¢å¤±å¯¹è±¡æ›´æ”¹ã€‚</font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V763</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‚æ•°â€œ nNativeNumberModeâ€å§‹ç»ˆåœ¨ä½¿ç”¨å‰åœ¨å‡½æ•°ä½“ä¸­é‡å†™ã€‚</font><font style="vertical-align: inherit;">calendar_jewish.cxx 286</font></font><br><br><pre> <code class="cpp hljs">OUString SAL_CALL Calendar_jewish::getDisplayString(...., sal_Int16 nNativeNumberMode ) { <span class="hljs-comment"><span class="hljs-comment">// make Hebrew number for Jewish calendar nNativeNumberMode = NativeNumberMode::NATNUM2; if (nCalendarDisplayCode == CalendarDisplayCode::SHORT_YEAR) { sal_Int32 value = getValue(CalendarFieldIndex::YEAR) % 1000; return mxNatNum-&gt;getNativeNumberString(...., nNativeNumberMode ); } else return Calendar_gregorian::getDisplayString(...., nNativeNumberMode ); }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‡½æ•°å‚æ•°ç”±äºå„ç§åŸå› è€Œè¢«è¦†ç›–ï¼šå¯¹æŠ—ç¼–è¯‘å™¨è­¦å‘Šï¼Œå‘åå…¼å®¹æ€§ï¼Œæ‹æ–ç­‰ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯ï¼Œè¿™äº›è§£å†³æ–¹æ¡ˆä¸­çš„ä»»ä½•ä¸€ä¸ªéƒ½ä¸æ˜¯å¾ˆå¥½ï¼Œå¹¶ä¸”ä»£ç çœ‹èµ·æ¥å¾ˆæ··ä¹±ã€‚</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‚¨åº”è¯¥æŸ¥çœ‹è¯¥åœ°ç‚¹çš„ä»£ç ä»¥åŠå…¶ä»–ä¸€äº›ç±»ä¼¼çš„ä»£ç ï¼š</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V763å‚æ•°â€œ bExtendedInfoâ€åœ¨ä½¿ç”¨å‰æ€»æ˜¯åœ¨åŠŸèƒ½ä½“å†…é‡å†™ã€‚</font><font style="vertical-align: inherit;">graphicfilter2.cxx 442</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V763å‚æ•°â€œ nVerbIDâ€åœ¨ä½¿ç”¨å‰æ€»æ˜¯åœ¨å‡½æ•°ä½“ä¸­é‡å†™ã€‚</font><font style="vertical-align: inherit;">oleembed.cxx 841</font></font></li><li> V763 Parameter 'pCursor' is always rewritten in function body before being used. edlingu.cxx 843 </li><li> V763 Parameter 'pOutput' is always rewritten in function body before being used. vnew.cxx 181 </li><li> V763 Parameter 'pOutput' is always rewritten in function body before being used. vnew.cxx 256 </li></ul><br><h2> ç»“è®º </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä¸ªäººä½¿ç”¨äº§å“åï¼Œå‡ºç°äº†æ£€æŸ¥LibreOfficeä»£ç çš„æ„¿æœ›ã€‚</font><font style="vertical-align: inherit;">ç”±äºæŸç§åŸå› ï¼Œé€šè¿‡éšæœºå¯åŠ¨ï¼Œè¯¥æ–‡æœ¬å°†ä»ç»å¯¹æ‰€æœ‰èœå•é¡¹ä¸­æ¶ˆå¤±ã€‚</font><font style="vertical-align: inherit;">ä»…ä¿ç•™å›¾æ ‡å’Œå•è°ƒçš„æ¡çº¹ã€‚</font><font style="vertical-align: inherit;">è¯¥é”™è¯¯å¾ˆå¯èƒ½æ˜¯é«˜çº§é”™è¯¯ï¼Œå¹¶ä¸”å¯èƒ½æ— æ³•å€ŸåŠ©é™æ€åˆ†æå·¥å…·æ‰¾åˆ°è¯¥é”™è¯¯ã€‚</font><font style="vertical-align: inherit;">å°½ç®¡å¦‚æ­¤ï¼Œåˆ†æå™¨å‘ç°äº†è®¸å¤šä¸æ­¤æ— å…³çš„é—®é¢˜ï¼Œå¦‚æœLibreOfficeå¼€å‘äººå‘˜å…³æ³¨é™æ€ä»£ç åˆ†æå™¨å¹¶å°è¯•ä½¿ç”¨å®ƒä»¬æ¥æé«˜é¡¹ç›®çš„è´¨é‡å’Œå¯é æ€§ï¼Œæˆ‘å°†æ„Ÿåˆ°é«˜å…´ã€‚</font><font style="vertical-align: inherit;">è¿™å°†å¯¹æ¯ä¸ªäººéƒ½æœ‰ç”¨ã€‚</font></font><br><br> è°¢è°¢æ‚¨çš„å…³æ³¨ã€‚<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> è®¢é˜…æˆ‘ä»¬çš„é¢‘é“ï¼Œå¹¶éšæ—¶å…³æ³¨æ¥è‡ªç¼–ç¨‹é¢†åŸŸçš„æ–°é—»ï¼ </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vkï¼š</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@pvsstudio_rus</font></font></a> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”µæŠ¥ï¼š</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@pvsstudio_rus</font></font></a> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instagramçš„ï¼š</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@pvsstudio_rus</font></font></a> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¨ç‰¹ï¼š</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@pvsstudio_rus</font></font></a> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YouTubeï¼š</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@PVSStudioTool</font></font></a> </li></ul><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/webt/ts/z9/km/tsz9kmyjtteajhd4x1au60rsrvq.png" align="left"></a> </p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¦‚æœæ‚¨æƒ³ä¸è®²è‹±è¯­çš„è¯»è€…åˆ†äº«è¿™ç¯‡æ–‡ç« ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹é“¾æ¥ï¼šSvyatoslav Razmyslovã€‚</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LibreOfficeï¼šä¼šè®¡å¸ˆçš„å™©æ¢¦</font></font></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN426977/">https://habr.com/ru/post/zh-CN426977/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN426967/index.html">åœ¨çº¿ABAPä»£ç ç”Ÿæˆå™¨</a></li>
<li><a href="../zh-CN426969/index.html">è­¦æƒ•çš„Lidaï¼šå®‰å…¨æµ‹è¯•è‡ªåŠ¨åŒ–</a></li>
<li><a href="../zh-CN426971/index.html">é”™è¯¯å¤„ç†ä¸­çš„å®¿å‘½è®º</a></li>
<li><a href="../zh-CN426973/index.html">ä¼ä¸šä¸‰æ˜æ²»</a></li>
<li><a href="../zh-CN426975/index.html">å°ä¸‘2018ï¼šä¸å¯èƒ½çš„å¯èƒ½</a></li>
<li><a href="../zh-CN426979/index.html">å¦‚ä½•å…è´¹å­¦ä¹ è‹±è¯­ï¼š3ç§å¸¸ç”¨å·¥å…·å’Œæ¯ç§å·¥å…·çš„è¯¦ç»†è¯´æ˜</a></li>
<li><a href="../zh-CN426981/index.html">Splunkä¸­é«˜çº§ä»ªè¡¨æ¿çš„10ä¸ªæŠ€å·§ã€‚ ç¬¬ä¸€éƒ¨åˆ†</a></li>
<li><a href="../zh-CN426983/index.html">SObjectizer-5.5.23çš„æ–°åŠŸèƒ½ï¼šå®ç°æ„¿æœ›è¿˜æ˜¯Pandoraçš„ç›’å­ï¼Ÿ</a></li>
<li><a href="../zh-CN426985/index.html">Kubernetesçš„kubeboxå’Œå…¶ä»–æ§åˆ¶å°å¤–å£³</a></li>
<li><a href="../zh-CN426987/index.html">å­¦ä¹ OpenGLã€‚ ç¬¬6.3è¯¾-åŸºäºå›¾åƒçš„ç…§æ˜ã€‚ æ¼«å°„</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>