<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåó üßïüèø ü§∑üèº Herramienta de anotaci√≥n de visi√≥n por computadora: marcado de datos todo en uno üßò üë©üèΩ‚Äçüåæ üëÇüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La oficina de Intel de Nizhny Novgorod, entre otras cosas, est√° desarrollando algoritmos de visi√≥n por computadora basados ‚Äã‚Äãen redes neuronales profu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Herramienta de anotaci√≥n de visi√≥n por computadora: marcado de datos todo en uno</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/intel/blog/433772/"> La oficina de Intel de Nizhny Novgorod, entre otras cosas, est√° desarrollando algoritmos de visi√≥n por computadora basados ‚Äã‚Äãen redes neuronales profundas.  Muchos de nuestros algoritmos se publican en el repositorio de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Open Model Zoo</a> .  La capacitaci√≥n modelo requiere una gran cantidad de datos etiquetados.  Te√≥ricamente, hay muchas formas de prepararlos, pero la disponibilidad de software especializado acelera este proceso muchas veces.  Por lo tanto, para mejorar la eficiencia y la calidad del marcado, hemos desarrollado nuestra propia herramienta: la herramienta de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">anotaci√≥n de visi√≥n por computadora (CVAT)</a> . <br><br><img src="https://habrastorage.org/webt/cv/du/hz/cvduhzr0pnmfv8hmiqysajpzseo.jpeg"><br><a name="habracut"></a><br>  Por supuesto, en Internet puedes encontrar muchos datos anotados, pero hay algunos problemas.  Por ejemplo, constantemente surgen nuevas tareas para las cuales simplemente no hay tales datos.  Otro problema es que no todos los datos son adecuados para su uso en el desarrollo de productos comerciales, debido a sus acuerdos de licencia.  Por lo tanto, adem√°s del desarrollo y la capacitaci√≥n de algoritmos, nuestra actividad tambi√©n incluye el marcado de datos.  Este es un proceso bastante largo y lento, que no ser√≠a razonable imponer a los desarrolladores.  Por ejemplo, para entrenar uno de nuestros algoritmos, se marcaron alrededor de 769,000 objetos durante m√°s de 3,100 horas hombre. <br><br>  Hay dos soluciones al problema: <br><br><ul><li>  El primero es transferir los datos de marcado a empresas de terceros, con la especializaci√≥n adecuada.  Tuvimos una experiencia similar.  Vale la pena se√±alar el complicado proceso de validaci√≥n y re-partici√≥n de datos, as√≠ como la presencia de burocracia. </li><li>  El segundo, m√°s conveniente para nosotros, es la creaci√≥n y el apoyo de nuestro propio equipo de anotaciones.  La conveniencia radica en la capacidad de establecer r√°pidamente nuevas tareas, administrar el progreso de su implementaci√≥n y el equilibrio facilitado entre precio y calidad.  Adem√°s, es posible implementar algoritmos de automatizaci√≥n personalizados y mejorar la calidad del marcado. </li></ul><br>  Inicialmente, la herramienta de anotaci√≥n de visi√≥n por computadora se desarroll√≥ espec√≠ficamente para nuestro equipo de anotaci√≥n. <br><br><img src="https://habrastorage.org/webt/81/7o/ya/817oyak9ssk-qa4i-fxowpo-k14.jpeg"><br><br>  Por supuesto, nuestro objetivo no era crear el "15¬∫ est√°ndar".  Al principio, utilizamos una soluci√≥n lista para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">usar</a> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Vatic</a> , pero en el proceso, los equipos de anotaci√≥n y algoritmos presentaron nuevos requisitos para ello, cuya implementaci√≥n finalmente condujo a una reescritura completa del c√≥digo del programa. <br><br>  M√°s en el art√≠culo: <br><br><ul><li>  Informaci√≥n general (funcionalidad, aplicaciones, ventajas y desventajas de la herramienta) </li><li>  Historia y evoluci√≥n (una breve historia sobre c√≥mo CVAT vivi√≥ y se desarroll√≥) </li><li>  Dispositivo interno (descripci√≥n de arquitectura de alto nivel) </li><li>  Instrucciones de desarrollo (un poco sobre los objetivos que me gustar√≠a alcanzar y las posibles formas de alcanzarlos) </li></ul><br><h3>  <font color="#0071c5">Informaci√≥n general</font> </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Computer Vision Annotation Tool</a> (CVAT) es una herramienta de c√≥digo abierto para marcar im√°genes y videos digitales.  Su tarea principal es proporcionar al usuario medios convenientes y efectivos para marcar conjuntos de datos.  Creamos CVAT como un servicio universal que admite diferentes tipos y formatos de marcado. <br><br>  Para los usuarios finales, CVAT es una aplicaci√≥n web basada en navegador.  Es compatible con varios escenarios de trabajo y se puede utilizar tanto para el trabajo personal como en equipo.  Las tareas principales del aprendizaje autom√°tico con un profesor en el campo del procesamiento de im√°genes se pueden dividir en tres grupos: <br><br><ul><li>  Detecci√≥n de objetos </li><li>  Clasificaci√≥n de la imagen </li><li>  Segmentaci√≥n de imagen </li></ul><br>  CVAT es adecuado en todos estos escenarios. <br><br>  <b>Ventajas:</b> <br><br><ul><li>  Falta de instalaci√≥n por parte de los usuarios finales.  Para crear una tarea o marcar datos, simplemente abra un enlace espec√≠fico en el navegador. </li><li>  La capacidad de trabajar juntos.  Existe la oportunidad de hacer que la tarea est√© p√∫blicamente disponible para los usuarios y para paralelizar el trabajo en ella. </li><li>  F√°cil de implementar.  Instalar CVAT en la red local es un par de comandos a trav√©s del uso de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Docker</a> . </li><li>  Automatizaci√≥n del proceso de marcado.  La interpolaci√≥n, por ejemplo, le permite obtener marcas en muchos cuadros, con trabajo real solo en algunos clave. </li><li>  La experiencia de los profesionales.  La herramienta fue desarrollada con la participaci√≥n de anotaciones y varios equipos algor√≠tmicos. </li><li>  La capacidad de integrarse.  CVAT es adecuado para la integraci√≥n en una plataforma m√°s amplia.  Por ejemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Onepanel</a> . </li><li>  Soporte opcional para varias herramientas: <br><br><ul><li>  Deep Learning Deployment Toolkit (componente como parte de OpenVINO) </li><li>  API de detecci√≥n de objetos de Tensorflow (API TF OD) </li><li>  Sistema de an√°lisis ELK (Elasticsearch + Logstash + Kibana) </li><li>  Kit de herramientas NVIDIA CUDA </li></ul></li><li>  Soporte para varios escenarios de anotaci√≥n. </li><li>  C√≥digo abierto bajo una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">licencia MIT</a> simple y gratuita. </li></ul><br>  <b>Desventajas</b> <br><br><ul><li>  Soporte de navegador limitado.  El rendimiento de la parte del cliente est√° garantizado solo en el navegador Google Chrome.  No probamos CVAT en otros navegadores, pero en teor√≠a, la herramienta puede funcionar en Opera, Yandex Browser y otros con el motor Chromium. </li><li>  El sistema de pruebas autom√°ticas no ha sido desarrollado.  Todos los controles de estado se llevan a cabo manualmente, lo que ralentiza significativamente el desarrollo.  Sin embargo, ya estamos trabajando en una soluci√≥n a este problema junto con los estudiantes de UNN.  Lobachevsky como parte del proyecto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">IT Lab</a> . </li><li>  No hay documentaci√≥n del c√≥digo fuente disponible.  Involucrarse en el desarrollo puede ser bastante dif√≠cil. </li><li>  Limitaciones de rendimiento.  Con las crecientes demandas en el volumen de marcado, enfrentamos varios problemas, como la limitaci√≥n de Chrome Sandbox en el uso de RAM. </li></ul><br>  Por supuesto, estas listas no son exhaustivas, pero contienen disposiciones b√°sicas. <br><br>  Como se mencion√≥ anteriormente, CVAT admite una serie de componentes adicionales.  Entre ellos est√°n: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Deep Learning Deployment Toolkit</a> como parte del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">OpenVINO Toolkit</a> : se utiliza para acelerar el lanzamiento del modelo TF OD API en ausencia de una GPU.  Estamos trabajando en un par de otros usos √∫tiles para este componente. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">API de detecci√≥n de objetos de Tensorflow</a> : se usa para marcar objetos autom√°ticamente.  De manera predeterminada, utilizamos el modelo F2 RCNN Inception Resnet V2, capacitado en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">COCO</a> (80 clases), pero no deber√≠a haber dificultades para conectar otros modelos. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Logstash, Elasticsearch, Kibana</a> : le permiten visualizar y analizar los registros acumulados por los clientes.  Esto se puede utilizar, por ejemplo, para supervisar el proceso de marcado o buscar errores y las causas de su aparici√≥n. <br><br><img src="https://habrastorage.org/webt/ji/ps/dh/jipsdhgbmv5mdz5xg9zcdlehvc0.jpeg"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">NVIDIA CUDA Toolkit</a> : un conjunto de herramientas para realizar c√°lculos en el procesador de gr√°ficos (GPU).  Se puede usar para acelerar el dise√±o autom√°tico con TF OD API o en otros complementos personalizados. <br><br><h4>  <font color="#0071c5">Marcado de datos</font> </h4><br><ol><li>  El proceso comienza con la declaraci√≥n del problema para el dise√±o.  La puesta en escena incluye: <br><ul><li>  Especificar un nombre de tarea </li><li>  Enumeraci√≥n de las clases a marcar y sus atributos. </li><li>  Especificar archivos para descargar <br><ul><li>  Los datos se descargan del sistema de archivos local o de un sistema de archivos distribuido montado en un contenedor </li><li>  Una tarea puede contener un archivo con im√°genes, un video, un conjunto de im√°genes e incluso una estructura de directorio con im√°genes cuando se descarga mediante almacenamiento distribuido </li></ul><br></li><li>  Opcionalmente configurado: <br><ul><li>  Enlace a especificaciones de marcado detalladas, as√≠ como a cualquier otra informaci√≥n adicional (Bug Tracker) </li><li>  Enlace a un repositorio Git remoto para almacenar anotaciones (Repositorio de conjunto de datos) </li><li>  Rotar todas las im√°genes 180 grados (Voltear im√°genes) </li><li>  Capa de soporte para tareas de segmentaci√≥n (Z-Order) </li><li>  Tama√±o del segmento  Una tarea descargable se puede dividir en varias subtareas para trabajo paralelo </li><li>  √Årea de intersecci√≥n del segmento (superposici√≥n).  Se usa en video para fusionar anotaciones en diferentes segmentos </li><li>  Nivel de calidad al convertir im√°genes (Calidad de imagen) </li></ul><br></li></ul><br><img src="https://habrastorage.org/webt/f6/cm/aw/f6cmaw990imxl1p7hti0qoqjpga.jpeg"><br></li><li>  Despu√©s de procesar la solicitud, la tarea creada aparecer√° en la lista de tareas. <br><br><img src="https://habrastorage.org/webt/qh/k6/9a/qhk69afukjxpdtwe37ttbtpxima.jpeg"><br></li><li>  Cada uno de los enlaces en la secci√≥n Trabajos corresponde a un segmento.  En este caso, la tarea no estaba segmentada previamente.  Al hacer clic en cualquiera de los enlaces, se abre la p√°gina de marcado. <br><br><img src="https://habrastorage.org/webt/bj/l2/gz/bjl2gzyiftncpmkjdijdyal3lzg.jpeg"><br></li><li>  A continuaci√≥n, los datos se marcan directamente.  Los rect√°ngulos, los pol√≠gonos (principalmente para tareas de segmentaci√≥n), las polil√≠neas (pueden ser √∫tiles, por ejemplo, para la se√±alizaci√≥n de carreteras) y muchos puntos (por ejemplo, marcar puntos de referencia de la cara o estimar la postura) se proporcionan como primitivos. <br><br><img src="https://habrastorage.org/webt/xb/ks/yo/xbksyo5brlzgxqun7q62g2tprsy.jpeg"><br><br>  Tambi√©n est√°n disponibles varias herramientas de automatizaci√≥n (copia, multiplicaci√≥n a otros cuadros, interpolaci√≥n, marcado preliminar con API TF OD), configuraciones visuales, muchas teclas de acceso r√°pido, b√∫squeda, filtrado y otras funcionalidades √∫tiles.  En la ventana de configuraci√≥n, puede cambiar una serie de par√°metros para un trabajo m√°s c√≥modo. <br><br><img src="https://habrastorage.org/webt/gu/lj/77/gulj77fqjkufvwbc1bfysmmloh0.jpeg"><br><br>  El cuadro de di√°logo de ayuda contiene muchos m√©todos abreviados de teclado compatibles y algunos otros consejos. <br><br><img src="https://habrastorage.org/webt/qz/1t/gb/qz1tgbca457ylk4wqduofcfhpse.jpeg"><br><br>  El proceso de marcado se puede ver en los ejemplos a continuaci√≥n. <br><br>  CVAT puede interpolar linealmente rect√°ngulos y atributos entre fotogramas clave en un video.  Debido a esto, la anotaci√≥n en el conjunto de cuadros se muestra autom√°ticamente. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/U3MYDhESHo4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  El modo de anotaci√≥n de atributos se desarroll√≥ para el escenario de clasificaci√≥n, que le permite acelerar la anotaci√≥n de atributos al enfocar el marcado en una propiedad espec√≠fica.  Adem√°s, el marcado aqu√≠ ocurre mediante el uso de "teclas de acceso r√°pido". <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/UPNfWl8Egd8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Los pol√≠gonos admiten la segmentaci√≥n sem√°ntica y las secuencias de comandos de segmentaci√≥n de instancias.  Diferentes configuraciones visuales facilitan el proceso de validaci√≥n. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/6IJ0QN7PBKo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br></li><li>  Recibir anotaci√≥n <br>  Al presionar el bot√≥n "Anotar volcado" se inicia el proceso de preparaci√≥n y carga de resultados de marcado como un solo archivo.  Un archivo de anotaci√≥n es un archivo <a href="">.xml especificado</a> que contiene algunos metadatos de tareas y toda la anotaci√≥n.  El marcado se puede descargar directamente al repositorio de Git, si este √∫ltimo se conect√≥ en la etapa de creaci√≥n de la tarea. </li></ol><br><h3>  <font color="#0071c5">Historia y evoluci√≥n</font> </h3><br>  Al principio, no ten√≠amos ninguna unificaci√≥n, y cada tarea de marcado se realizaba con sus propias herramientas, principalmente escritas en C ++ usando la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">biblioteca OpenCV</a> .  Estas herramientas se instalaron localmente en m√°quinas de usuarios finales, no hab√≠a un mecanismo para compartir datos, una tuber√≠a com√∫n para configurar y marcar tareas, muchas cosas ten√≠an que hacerse manualmente. <br><br>  El punto de partida de la historia de CVAT se puede considerar a fines de 2016, cuando se introdujo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Vatic</a> como herramienta de dise√±o, cuya interfaz se presenta a continuaci√≥n.  Vatic fue de c√≥digo abierto e introdujo algunas ideas geniales y generales, como el marcado de interpolaci√≥n entre fotogramas clave en una arquitectura de aplicaci√≥n de video o cliente-servidor.  Sin embargo, en general, proporcion√≥ una funcionalidad de marcado bastante modesta, e hicimos mucho trabajo por nuestra cuenta. <br><br><img src="https://habrastorage.org/webt/ag/ze/et/agzeet_35gfb2io-dqo36vtf6jg.jpeg"><br><br>  Entonces, por ejemplo, durante los primeros seis meses, se implement√≥ la capacidad de anotar im√°genes, se agregaron atributos de objetos de los usuarios, se desarroll√≥ una p√°gina con una lista de tareas existentes y la capacidad de agregar otras nuevas a trav√©s de la interfaz web. <br><br>  Durante la segunda mitad de 2017, presentamos la API de detecci√≥n de objetos de Tensorflow como m√©todo para obtener un marcado preliminar.  Hubo muchas mejoras menores en el cliente, pero al final nos enfrentamos con el hecho de que la parte del cliente comenz√≥ a funcionar muy lentamente.  El hecho fue que el tama√±o de las tareas aument√≥, el tiempo de su apertura aument√≥ en proporci√≥n al n√∫mero de cuadros y datos etiquetados, la IU se desaceler√≥ debido a la presentaci√≥n ineficiente de los objetos etiquetados, el progreso a menudo se perdi√≥ con las horas de trabajo.  La productividad se redujo principalmente en tareas con im√°genes, ya que la base de la arquitectura de esa √©poca se dise√±√≥ originalmente para trabajar con video.  Exist√≠a la necesidad de un cambio completo en la arquitectura del cliente, con el cual nos las arreglamos exitosamente.  La mayor√≠a de los problemas de rendimiento en ese momento hab√≠an desaparecido.  La interfaz web se ha vuelto mucho m√°s r√°pida y estable.  Marcar tareas m√°s grandes se ha vuelto posible.  En el mismo per√≠odo, hubo un intento de introducir pruebas unitarias para proporcionar, hasta cierto punto, la automatizaci√≥n de las comprobaciones durante los cambios.  Esta tarea no se ha resuelto con tanto √©xito.  Configuramos QUnit, Karma, Headless Chrome en el contenedor Docker, escribimos algunas pruebas, lanzamos todo esto en CI.  Sin embargo, una gran parte del c√≥digo permaneci√≥, y a√∫n permanece, descubierto por las pruebas.  Otra innovaci√≥n fue un sistema de registro de acciones del usuario con b√∫squeda y visualizaci√≥n posteriores basadas en ELK Stack.  Le permite monitorear el proceso de los anotadores y buscar escenarios de acci√≥n que conduzcan a excepciones de software. <br><br>  En la primera mitad de 2018, ampliamos la funcionalidad de nuestro cliente.  Se agreg√≥ el modo de anotaci√≥n de atributos, que implementa un script efectivo para marcar atributos, cuya idea tomamos prestada de colegas y generalizamos;  Ahora puede filtrar objetos de acuerdo con una serie de signos, conectar un almacenamiento com√∫n para descargar datos al configurar tareas para verlas a trav√©s de un navegador y muchos otros.  Las tareas se volvieron m√°s voluminosas y los problemas de rendimiento comenzaron a surgir nuevamente, pero esta vez la parte del servidor fue el cuello de botella.  El problema con Vatic era que conten√≠a una gran cantidad de c√≥digo auto-escrito para tareas que podr√≠an resolverse de manera m√°s f√°cil y eficiente utilizando soluciones preparadas.  Entonces decidimos rehacer el lado del servidor.  Elegimos Django como el marco del servidor, en gran parte debido a su popularidad y la disponibilidad de muchas cosas, como dicen, listas para usar.  Despu√©s de la alteraci√≥n de la parte del servidor, cuando no quedaba nada de Vatic, decidimos que ya hab√≠amos hecho mucho trabajo, que se puede compartir con la comunidad.  Entonces se decidi√≥ ir a c√≥digo abierto.  Obtener permiso para esto dentro de una gran empresa es un proceso bastante espinoso.  Hay una gran lista de requisitos para esto.  Incluyendo, era necesario encontrar un nombre.  Esbozamos opciones y realizamos una serie de encuestas entre colegas.  Como resultado, nuestra herramienta interna se llam√≥ CVAT, y el 29 de junio de 2018, el c√≥digo fuente se public√≥ en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GitHub en la organizaci√≥n OpenCV</a> bajo la licencia MIT y con la versi√≥n inicial 0.1.0.  El desarrollo posterior tuvo lugar en un repositorio p√∫blico. <br><br>  A finales de septiembre de 2018, se lanz√≥ la versi√≥n principal 0.2.0.  Hubo muchos peque√±os cambios y correcciones, pero el foco principal estaba en soportar nuevos tipos de anotaciones.  Entonces aparecieron varias herramientas para marcar y validar la segmentaci√≥n, as√≠ como la capacidad de anotar con polil√≠neas o puntos. <br><br>  El pr√≥ximo lanzamiento, como un regalo de Navidad, est√° programado para el 31 de diciembre de 2018.  Los puntos m√°s significativos aqu√≠ son la integraci√≥n opcional del kit de herramientas de implementaci√≥n de Deep Learning como parte de OpenVINO, que se utiliza para acelerar el lanzamiento de la API TF OD en ausencia de una tarjeta gr√°fica NVIDIA;  sistema de an√°lisis de registro de usuario que no estaba disponible previamente en la versi√≥n p√∫blica;  Muchas mejoras en el lado del cliente. <br><br>  Hemos resumido el historial de CVAT hasta la fecha (diciembre de 2018) y revisado los eventos m√°s significativos.  Siempre puede leer m√°s sobre el historial de <a href="">cambios</a> en el <a href="">registro</a> de <a href="">cambios</a> . <br><br><h3>  <font color="#0071c5">Dispositivo interno</font> </h3><br><img src="https://habrastorage.org/webt/le/ae/7l/leae7ly26adciu2xh8ik8r52p9a.jpeg"><br><br>  Para simplificar la instalaci√≥n y la implementaci√≥n, CVAT utiliza contenedores Docker.  El sistema consta de varios contenedores.  Se ejecuta un proceso de supervisi√≥n en el contenedor CVAT, que genera varios procesos de Python en el entorno Django.  Uno de ellos es el servidor wsgi, que maneja las solicitudes de los clientes.  Otros procesos, los trabajadores rq, se utilizan para procesar tareas "largas" de las colas de Redis: predeterminada y baja.  Dichas tareas incluyen aquellas que no pueden procesarse dentro de una solicitud de un solo usuario (configurar una tarea, preparar un archivo de anotaciones, marcado con TF OD API y otros).  El n√∫mero de trabajadores se puede configurar en el archivo de configuraci√≥n del supervisor. <br><br>  El entorno Django interact√∫a con dos servidores de bases de datos.  El servidor Redis almacena el estado de las colas de tareas y la base de datos CVAT contiene toda la informaci√≥n sobre tareas, usuarios, anotaciones, etc.  PostgreSQL (y SQLite 3 en desarrollo) se utiliza como DBMS para CVAT.  Todos los datos se almacenan en una partici√≥n conectable (volumen cvat db).  Las secciones se usan donde es necesario evitar la p√©rdida de datos al actualizar el contenedor.  Por lo tanto, los siguientes est√°n montados en el contenedor CVAT: <br><br><ul><li>  Secci√≥n con video e im√°genes (volumen de datos cvat) </li><li>  Secci√≥n con teclas (volumen de teclas cvat) </li><li>  Secci√≥n con registros (volumen de registros de cvat) </li><li>  Almacenamiento de archivos compartidos (volumen compartido cvat) </li></ul><br>  El sistema de an√°lisis consta de Elasticsearch, Logstash y Kibana envueltos en contenedores Docker.  Al guardar el trabajo en el cliente, todos los datos, incluidos los registros, se transfieren al servidor.  El servidor, a su vez, los env√≠a a Logstash para su filtrado.  Adem√°s, existe la posibilidad de enviar notificaciones autom√°ticamente a correos electr√≥nicos cuando se produce alg√∫n error.  A continuaci√≥n, los registros caen en Elasticsearch.  Este √∫ltimo los guarda en una partici√≥n conectable (volumen de eventos cvat).  Luego, el usuario puede usar la interfaz de Kibana para ver estad√≠sticas y registros.  Al mismo tiempo, Kibana interactuar√° activamente con Elasticsearch. <br><br>  En el nivel fuente, CVAT consta de muchas aplicaciones de Django: <br><br><ul><li>  Autenticaci√≥n: autenticaci√≥n de usuarios en el sistema (b√°sico y LDAP) </li><li>  motor: una aplicaci√≥n clave (modelos de base de datos b√°sicos; carga y guardado de tareas; carga y descarga de anotaciones; marcado de la interfaz del cliente; interfaz del servidor para crear, cambiar y eliminar tareas) </li><li>  tablero de instrumentos: interfaz de cliente para crear, editar, buscar y eliminar tareas </li><li>  documentaci√≥n: visualizaci√≥n de la documentaci√≥n del usuario en la interfaz del cliente </li><li>  tf_annotation: anotaci√≥n autom√°tica con la API de detecci√≥n de objetos de Tensorflow </li><li>  log_viewer: env√≠o de registros desde el cliente a Logstash al guardar una tarea </li><li>  log_proxy - Conexi√≥n proxy CVAT ‚Üí Kibana </li><li>  git: integraci√≥n del repositorio de Git para almacenar anotaciones </li></ul><br>  Nos esforzamos por crear un proyecto con una estructura flexible.  Por esta raz√≥n, las aplicaciones opcionales no tienen incrustaci√≥n de c√≥digo duro.  Desafortunadamente, aunque no tenemos un prototipo ideal del sistema de complemento, pero gradualmente, con el desarrollo de nuevas aplicaciones, la situaci√≥n aqu√≠ est√° mejorando. <br><br>  La parte del cliente se implementa en plantillas JavaScript y Django.    JavaScript  ,  , -   (   )   model-view-controller. ,      (, , )     ,      .       (    -   UI),     (, ,    :      , ,   models, views  controllers). <br><br><h3> <font color="#0071c5"> </font> </h3><br>   open source,        . ,    .      .   ,           CVAT.  ,  , .    : <br><br><ul><li>  CVAT  ,  ,   , ,  .       UI         . </li><li>     . ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="> </a>      . </li><li>     ,  .         ,        . </li><li>     .   deep learning ,  .  ,  Deep Learning Deployment Toolkit      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="> </a>  OpenVINO  -  .       ,           .  ,      . </li><li>  demo- CVAT,  ,           ,     .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="> demo-</a>  Onepanel,  CVAT              . </li><li>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Amazon Mechanical Turk</a>  CVAT      .     SDK   . </li></ul><br>       ,     .  ,   ,     .            open source .        ‚Äì     ,  .   <a href=""></a>      ,    PR   .    ,     ,             <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Gitter</a> .  ,   !  ! <br><br><h3>  <font color="#0071c5">Referencias</font> </h3><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GitHub CVAT</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Gitter Chat</a> </li><li> <a href="">Changelog</a> </li><li> <a href="">Contributing</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">OpenVINO</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Pretrained models</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es433772/">https://habr.com/ru/post/es433772/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es433760/index.html">Elecciones, elecciones ...</a></li>
<li><a href="../es433762/index.html">¬øC√≥mo eliges productos en la tienda?</a></li>
<li><a href="../es433764/index.html">Creamos herramientas para el an√°lisis en profundidad de la calificaci√≥n de las aplicaciones en Google Play Store.</a></li>
<li><a href="../es433768/index.html">Por qu√© los desarrolladores de Android odian a Google</a></li>
<li><a href="../es433770/index.html">La ciencia de la b√∫squeda de empleo, parte VII: solo el 50% de los "requisitos" de una vacante deben coincidir</a></li>
<li><a href="../es433774/index.html">Qui√©n hace TeamLead Conf y por qu√©</a></li>
<li><a href="../es433776/index.html">Tutorial de controladores de MongoDB Go</a></li>
<li><a href="../es433780/index.html">Transici√≥n del kit UI al sistema de dise√±o en QIWI</a></li>
<li><a href="../es433782/index.html">Un ejemplo pr√°ctico de crear su propio componente View</a></li>
<li><a href="../es433786/index.html">Fintech Digest: la criptomoneda es propiedad, se ha emitido un n√∫mero r√©cord de tarjetas de cr√©dito en la Federaci√≥n Rusa</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>