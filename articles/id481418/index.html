<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏽‍🏫 👩🏾‍⚕️ 🧛 Cara kerja codec video. Bagian 1. Dasar-dasar 👲🏾 🏪 👋🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bagian Dua: Cara Kerja Codec Video 

 Setiap gambar raster dapat direpresentasikan sebagai matriks dua dimensi . Ketika datang ke warna, idenya dapat ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cara kerja codec video. Bagian 1. Dasar-dasar</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/edison/blog/481418/"><h3>  Bagian Dua: <a href="https://habr.com/ru/company/edison/blog/480430/">Cara Kerja Codec Video</a> </h3><br><hr><br>  Setiap <b>gambar</b> raster dapat direpresentasikan sebagai <b>matriks dua dimensi</b> .  Ketika datang ke warna, idenya dapat dikembangkan dengan melihat gambar dalam bentuk <b>matriks tiga dimensi</b> , di mana pengukuran tambahan digunakan untuk menyimpan data untuk masing-masing warna. <br><br>  Jika kita menganggap warna akhir sebagai kombinasi dari yang disebut  warna primer (merah, hijau dan biru), dalam matriks tiga dimensi kami, kami menentukan tiga bidang: yang pertama untuk merah, yang kedua untuk hijau dan yang terakhir untuk biru. <br><div style="text-align:center;"> <a href="https://habr.com/ru/company/edison/blog/481418/"><img width="746" height="235" src="https://habrastorage.org/webt/gz/rx/7q/gzrx7qp8p_kzdeb2cat-raur3sk.png" alt="Matriks RGB 3D" title="Matriks RGB 3D"></a> </div><br>  Kami akan menyebut setiap titik dalam matriks ini piksel (elemen gambar).  Setiap piksel berisi informasi intensitas (biasanya dalam bentuk nilai numerik) dari setiap warna.  Misalnya, <b>piksel merah</b> berarti memiliki 0 hijau, 0 biru dan maksimum merah.  <b>Pixel merah muda</b> dapat dibentuk menggunakan kombinasi tiga warna.  Menggunakan rentang numerik dari 0 hingga 255, piksel pink didefinisikan sebagai <nobr><b>Merah = 255</b></nobr> , <nobr><b>Hijau = 192,</b></nobr> dan <nobr><b>Biru = 203</b></nobr> . <a name="habracut"></a><blockquote> <a href="https://www.edsd.ru/" title="Perangkat Lunak EDISON - pengembangan web"><img align="left" width="153" height="75" src="https://habrastorage.org/webt/w0/zl/to/w0zltoxvysbr0yeinstkfvw1wbg.png" alt="Perangkat Lunak EDISON - pengembangan web"></a> <br clear="right">  Artikel ini diterbitkan dengan dukungan EDISON. <br><br>  Kami mengembangkan <a href="https://www.edsd.ru/ru/portfolio/tehnologiya/video">aplikasi untuk pengawasan video, streaming video</a> , serta <a href="https://www.edsd.ru/videozapis-v-bolnichnoj-operacionnoj-s-vozmozhnostyu-obsuzhdeniya-na-forume">perekaman video di ruang bedah</a> . </blockquote><h3>  Teknik pengkodean warna alternatif </h3><br>  Untuk mewakili warna yang membentuk gambar, ada banyak model lain.  Misalnya, Anda dapat menggunakan palet yang diindeks di mana hanya satu byte diperlukan untuk mewakili setiap piksel, alih-alih tiga yang diperlukan saat menggunakan model RGB.  Dalam model seperti itu, Anda dapat menggunakan matriks 2D alih-alih matriks 3D untuk mewakili setiap warna.  Ini menghemat memori, tetapi memberi lebih sedikit warna. <br><br><img width="479" height="120" src="https://habrastorage.org/webt/yx/pp/nb/yxppnbcixbaszve4ixpqzbvsrdy.png" alt="NES " title="Palet NES"><br><br><h2>  RGB </h2><br><br>  Sebagai contoh, lihat gambar ini di bawah ini.  Wajah pertama sepenuhnya dicat.  Lainnya adalah bidang merah, hijau, dan biru (intensitas warna yang sesuai ditunjukkan dalam skala abu-abu). <br><br><img src="https://habrastorage.org/webt/n1/_6/uc/n1_6uc9on4ze-fixad_o7ijvl1u.png" alt="  RGB" title="Intensitas saluran RGB"><br><br>  Kita melihat bahwa nuansa merah pada dokumen asli akan berada di tempat yang sama di mana bagian paling terang dari orang kedua diamati.  Sedangkan kontribusi biru terutama dapat dilihat hanya di mata Mario (wajah terakhir) dan elemen pakaiannya.  Perhatikan di mana ketiga bidang warna memberikan kontribusi paling sedikit (bagian paling gelap dari gambar) - ini adalah kumis Mario. <br><br>  Untuk menyimpan intensitas setiap warna, sejumlah bit diperlukan - nilai ini disebut <b>kedalaman bit</b> .  Katakanlah 8 bit dihabiskan (berdasarkan nilai dari 0 hingga 255) pada satu bidang warna.  Kemudian kita memiliki kedalaman warna 24 bit (8 bit * 3 R / G / B pesawat). <br><br>  Properti lain dari gambar adalah <b>resolusi</b> , yang merupakan jumlah piksel dalam satu dimensi.  Ini sering disebut sebagai <nobr><b>lebar × tinggi</b> ,</nobr> seperti di bawah ini dalam contoh gambar 4 oleh 4. <br><img width="401" height="185" src="https://habrastorage.org/webt/5q/2i/so/5q2isolirmyfjxl-hb7m4hj_7au.png" alt=" " title="Resolusi gambar"><br><br>  Properti lain yang kami tangani ketika bekerja dengan gambar / video adalah <b>rasio aspek</b> , yang menggambarkan hubungan proporsional yang biasa antara lebar dan tinggi gambar atau piksel. <br><br>  Ketika mereka mengatakan bahwa film atau gambar berukuran 16 x 9, biasanya mengacu pada <b>rasio aspek tampilan</b> ( <b>DAR</b> - dari <i>Display Aspect Ratio</i> ).  Namun, terkadang ada beberapa bentuk piksel yang berbeda - dalam hal ini kita berbicara tentang <b>rasio piksel</b> ( <b>PAR</b> - dari <i>Pixel Aspect Ratio</i> ). <br><br><img width="536" height="254" src="https://habrastorage.org/webt/xg/mb/gp/xgmbgpydyzkiraifaxf9ltiqkxq.png" alt="  " title="Rasio aspek tampilan"><br><br><img width="725" height="318" src="https://habrastorage.org/webt/sg/ti/eq/sgtieqvisg6eu5oaddpmfxmrxnm.png" alt=" " title="rasio aspek piksel"><br><blockquote>  Catatan untuk nyonya rumah: <b>DVD</b> sesuai dengan <b>DAR 4 oleh 3</b> <br><br>  Meskipun resolusi sebenarnya dari DVD adalah 704x480, namun tetap mempertahankan rasio aspek 4: 3 karena PAR diatur ke 10:11 (704x10 / 480x11). </blockquote><br>  Dan akhirnya, kita dapat mendefinisikan <b>video</b> sebagai urutan <b>n</b> bingkai selama periode <b>waktu tertentu</b> , yang dapat dianggap sebagai dimensi tambahan.  Dan <b>n</b> kemudian adalah frame rate atau jumlah frame per detik ( <b>FPS</b> - from <i>Frames per Second</i> ). <br><br><img width="710" height="240" src="https://habrastorage.org/webt/67/kd/us/67kdus1r36qphfoi1jqqt9uinpy.png" alt="" title="videonya"><br><br>  Jumlah bit per detik yang diperlukan untuk menampilkan video adalah <b>bit rate-nya</b> . <br><blockquote>  bitrate = lebar * tinggi * kedalaman bit * frame per detik </blockquote><br>  Misalnya, untuk video dengan 30 frame per detik, 24 bit per pixel, resolusi 480x240, 82.944.000 bit per detik atau 82.944 Mbps (30x480x240x24) akan diperlukan - tetapi ini adalah jika Anda tidak menggunakan metode kompresi apa pun. <br><br>  Jika laju bit <i>hampir konstan</i> , maka itu disebut <i>laju bit konstan</i> ( <b>CBR</b> - dari <i>laju bit konstan</i> ).  Tetapi bisa juga bervariasi, dalam hal ini disebut <i>laju bit variabel</i> ( <b>VBR</b> - from <i>variable bit rate</i> ). <br><br>  Grafik ini menunjukkan VBR terbatas ketika tidak terlalu banyak bit dihabiskan dalam kasus bingkai yang sepenuhnya gelap. <br><br><img src="https://habrastorage.org/webt/5l/sb/v-/5lsbv-4t7iucyksv39yyqgqmggs.png" alt=" VBR" title="VBR terbatas"><br><br>  Awalnya, para insinyur mengembangkan metode untuk menggandakan frame rate yang dirasakan dari tampilan video tanpa menggunakan bandwidth tambahan.  Metode ini dikenal sebagai <b>video interlaced</b> ;  pada dasarnya, ia mengirim setengah layar di "frame" pertama, dan setengah lainnya di "frame" berikutnya. <br><br>  Saat ini, visualisasi pemandangan terutama dilakukan dengan menggunakan <b>teknologi pemindaian progresif</b> .  Ini adalah metode untuk menampilkan, menyimpan atau mentransmisikan gambar bergerak di mana semua garis dari setiap frame digambar secara berurutan. <br><br><img width="747" height="299" src="https://habrastorage.org/webt/bp/z5/u8/bpz5u84cyduvkd6izoangniaevs.png" alt="  " title="interlaced dan progresif"><br><br>  Baiklah kalau begitu!  Sekarang kita tahu bagaimana gambar direpresentasikan dalam bentuk digital, bagaimana warnanya diatur, berapa banyak bit per detik yang kita habiskan untuk menampilkan video jika kecepatan transmisi konstan (CBR) atau variabel (VBR).  Kami tahu tentang resolusi yang diberikan menggunakan frame rate yang diberikan, berkenalan dengan banyak istilah lain, seperti video interlaced, PAR dan beberapa lainnya. <br><br><h2>  Penghapusan Redundansi </h2><br>  Diketahui bahwa video tanpa kompresi tidak dapat digunakan secara normal.  Video setiap jam dengan resolusi 720p dan frekuensi 30 frame per detik akan menempati 278 GB.  Kami tiba pada nilai ini dengan mengalikan 1280 x 720 x 24 x 30 x 3600 (lebar, tinggi, bit per piksel, FPS dan waktu dalam detik). <br><br>  Menggunakan <b>algoritma kompresi lossless</b> seperti DEFLATE (digunakan dalam PKZIP, Gzip, dan PNG) tidak akan cukup mengurangi bandwidth yang diperlukan.  Anda harus mencari cara lain untuk mengompres video. <br><br>  Untuk ini, Anda dapat menggunakan fitur-fitur dari visi kami.  Kami membedakan kecerahan yang lebih baik daripada warna.  Video adalah sekumpulan gambar berurutan yang berulang seiring waktu.  Ada perbedaan kecil antara bingkai yang berdekatan dari adegan yang sama.  Selain itu, setiap frame berisi banyak area yang menggunakan warna yang sama (atau serupa). <br><br><h2>  Warna, kecerahan, dan mata kita </h2><br>  Mata kita lebih sensitif terhadap kecerahan daripada warna.  Anda dapat melihat sendiri dengan melihat gambar ini. <br><br><div style="text-align:center;"><img width="637" height="239" src="https://habrastorage.org/webt/gj/00/kv/gj00kvz32okevvthxqf9_jqi9ng.png" alt="  " title="kecerahan versus warna"></div><br><br>  Jika Anda tidak melihat bahwa di bagian kiri gambar warna kotak <b>A</b> dan <b>B</b> sebenarnya sama, maka ini normal.  Otak kita membuat kita lebih memperhatikan chiaroscuro daripada warna.  Di sisi kanan antara kotak yang ditandai ada jumper dengan warna yang sama - karena itu kita (yaitu otak kita) dapat dengan mudah menentukan bahwa, sebenarnya, warna yang sama ada di sana. <blockquote>  Mari kita lihat (disederhanakan) bagaimana mata kita bekerja.  Mata adalah organ kompleks yang terdiri dari banyak bagian.  Namun, kami paling tertarik pada kerucut dan tongkat.  Mata berisi sekitar 120 juta batang dan 6 juta kerucut. <br><br>  Anggap persepsi warna dan kecerahan sebagai fungsi terpisah dari bagian mata tertentu (pada kenyataannya, semuanya agak lebih rumit, tapi kami akan menyederhanakannya).  Sel batang terutama bertanggung jawab untuk kecerahan, sedangkan sel kerucut bertanggung jawab untuk warna.  Kerucut dibagi menjadi tiga jenis, tergantung pada pigmen yang terkandung: S-cone (warna biru), M-cone (warna hijau) dan L-cone (warna merah). <br><br>  Karena kita memiliki lebih banyak batang (kecerahan) daripada kerucut (warna), kita dapat menyimpulkan bahwa kita lebih mampu membedakan antara transisi antara gelap dan terang daripada warna. <br><br><img width="672" height="373" src="https://habrastorage.org/webt/8z/ul/yl/8zulylhy-pkitzl5mubbzdcbswm.jpeg" alt=" " title="riasan mata"><br><br><h2>  Fungsi sensitivitas kontras </h2><br>  Para peneliti dalam psikologi eksperimental dan banyak bidang lain telah mengembangkan banyak teori penglihatan manusia.  Dan salah satunya disebut <b>fungsi sensitivitas kontras</b> .  Mereka terkait dengan pencahayaan spasial dan temporal.  Singkatnya, ini tentang berapa banyak perubahan yang diperlukan sebelum pengamat melihatnya.  Perhatikan bentuk jamak dari kata "function."  Hal ini disebabkan oleh fakta bahwa kita dapat mengukur fungsi sensitivitas untuk kontras tidak hanya untuk gambar hitam dan putih, tetapi juga warna.  Hasil percobaan ini menunjukkan bahwa dalam kebanyakan kasus, mata kita lebih sensitif terhadap kecerahan daripada warna. </blockquote>  Karena diketahui bahwa kami lebih sensitif terhadap kecerahan gambar, Anda dapat mencoba menggunakan fakta ini. <br><br><h2>  Model warna </h2><br>  Kami menemukan sedikit cara untuk bekerja dengan gambar berwarna menggunakan skema RGB.  Ada model lain.  Ada model yang memisahkan pencahayaan dari warna dan dikenal sebagai <b>YCbCr</b> .  Ngomong-ngomong, ada model lain yang membuat pemisahan serupa, tetapi kami hanya akan mempertimbangkan yang satu ini. <br><br>  Dalam model warna ini, <b>Y</b> adalah representasi kecerahan, dan dua saluran warna digunakan: <b>Cb</b> (biru jenuh) dan <b>Cr</b> (jenuh merah).  YCbCr dapat diperoleh dari RGB, serta transformasi terbalik dimungkinkan.  Dengan menggunakan model ini, kita dapat membuat gambar penuh warna, seperti yang kita lihat di bawah: <br><br><img src="https://habrastorage.org/webt/_y/ee/3x/_yee3xnjjk7xq1mpw_bvndfsnru.png" alt=" ycbcr" title="contoh ycbcr"><br><br><h2>  Konversi antara YCbCr dan RGB </h2><br>  Seseorang akan keberatan: bagaimana mungkin untuk mendapatkan semua warna jika hijau tidak digunakan? <br><br>  Untuk menjawab pertanyaan ini, ubah RGB ke YCbCr.  Kami menggunakan koefisien yang diadopsi dalam <b>standar BT.601</b> , yang direkomendasikan oleh unit <b>ITU-R</b> .  Unit ini mendefinisikan standar video digital.  Misalnya: apa itu 4K?  Apa yang seharusnya menjadi frame rate, resolusi, model warna? <br><br>  Pertama, kami menghitung kecerahan.  Kami menggunakan konstanta yang diusulkan oleh ITU dan mengganti nilai RGB. <br><br>  <b>Y</b> = 0,299 <b>R</b> + 0,587 <b>G</b> + 0,114 <b>B</b> <br><br>  Setelah kami mendapatkan kecerahan, kami akan memisahkan warna biru dan merah: <br><br>  <b>Cb</b> = 0,564 ( <b>B</b> - <b>Y</b> ) <br><br>  <b>Cr</b> = 0,713 ( <b>R</b> - <b>Y</b> ) <br><br>  Dan kita juga dapat mengonversi kembali dan bahkan menjadi hijau dengan YCbCr: <br><br>  <b>R</b> = <b>Y</b> + 1,402 <b>Cr</b> <br><br>  <b>B</b> = <b>Y</b> + 1,772 <b>Cb</b> <br><br>  <b>G</b> = <b>Y</b> - 0,344 <b>Cb</b> - 0,714 <b>Cr</b> <br><br>  Biasanya, display (monitor, TV, layar, dll.) Hanya menggunakan model RGB.  Tetapi model ini dapat diatur dengan berbagai cara: <br><br><img width="550" height="550" src="https://habrastorage.org/webt/rq/is/by/rqisbywjfks_tvcpk7liyvyaiqw.jpeg" alt=" " title="geometri piksel"><br><br><h2>  Downsampling warna </h2><br>  Dengan gambar yang disajikan sebagai kombinasi kecerahan dan warna, kita dapat menggunakan sensitivitas yang lebih tinggi dari sistem visual manusia terhadap kecerahan daripada warna jika kita secara selektif menghapus informasi.  Downsampling warna adalah metode pengkodean gambar menggunakan resolusi warna yang lebih rendah daripada kecerahan. <br><br><div style="text-align:center;"><img width="715" height="361" src="https://habrastorage.org/webt/ce/ee/9_/ceee9_x9vh8b_vpklek7rnhvoz0.png" alt="ycbcr  " title="Izin sub-sampling Ycbcr"></div><br><br>  Bagaimana bisa diterima untuk mengurangi resolusi warna ?!  Ternyata sudah ada beberapa skema yang menjelaskan cara menangani resolusi dan penggabungan <nobr>(Warna akhir = Y + Cb + Cr).</nobr> <br><br>  Skema ini dikenal sebagai <b>sistem subsampling</b> dan dinyatakan dalam bentuk rasio 3 kali lipat - <nobr><b>a</b> : <b>x</b> : <b>y</b></nobr> , yang menentukan jumlah sampel sinyal luminansi dan perbedaan warna. <br><br>  <b>a</b> - pengambilan sampel horizontal standar (biasanya sama dengan 4) <br>  <b>x</b> - jumlah sampel warna pada baris pertama piksel (resolusi horizontal relatif terhadap <b>a</b> ) <br>  <b>y</b> adalah jumlah perubahan sampel warna antara baris piksel pertama dan kedua. <blockquote>  Pengecualiannya adalah <b>4</b> : <b>1</b> : <b>0</b> , yang menyediakan satu sampel warna di setiap blok resolusi kecerahan 4 kali 4. </blockquote>  Skema umum yang digunakan dalam codec modern: <br><br><ul><li>  <b>4</b> : <b>4</b> : <b>4</b> (tanpa downsampling) </li><li>  <b>4</b> : <b>2</b> : <b>2</b> </li><li>  <b>4</b> : <b>1</b> : <b>1</b> </li><li>  <b>4</b> : <b>2</b> : <b>0</b> </li><li>  <b>4</b> : <b>1</b> : <b>0</b> </li><li>  <b>3</b> : <b>1</b> : <b>1</b> </li></ul><blockquote><h3>  YCbCr 4: 2: 0 - Contoh Penggabungan </h3><br>  Berikut adalah fragmen gambar gabungan menggunakan YCbCr 4: 2: 0.  Harap dicatat bahwa kami hanya menghabiskan 12 bit per piksel. <br><br><div style="text-align:center;"><img width="555" height="315" src="https://habrastorage.org/webt/yq/fj/oi/yqfjoiza1glbn0rcj4nl0gfrsrm.png" alt="YCbCr 4:2:0" title="YCbCr 4: 2: 0"></div></blockquote>  Ini adalah bagaimana gambar yang sama dikodekan oleh jenis-jenis utama dari subsampling warna.  Baris pertama adalah YCbCr akhir, baris bawah menunjukkan resolusi warna.  Hasil yang sangat layak, mengingat sedikit kerugian dalam kualitas. <br><br><img src="https://habrastorage.org/webt/q5/g_/-f/q5g_-f0w41riagjrnt3msc0a-us.jpeg" alt="  " title="contoh subsampel kroma"><br><br>  Ingat, kami menghitung ruang penyimpanan 278 GB untuk file video berdurasi satu jam dengan resolusi 720p dan 30 frame per detik?  Jika kita menggunakan YCbCr 4: 2: 0, maka ukuran ini akan berkurang setengahnya - 139 GB.  Sejauh ini, masih jauh dari hasil yang dapat diterima. <br><br>  Anda bisa mendapatkan histogram YCbCr sendiri dengan FFmpeg.  Dalam gambar ini, biru menang atas merah, yang terlihat jelas pada histogram itu sendiri. <br><br><img src="https://habrastorage.org/webt/gj/wa/lr/gjwalry6l_oeqssuishxlxtjrae.png"><blockquote><h4>  Warna, kecerahan, gamut warna - ulasan video </h4><br>  Disarankan untuk menonton video yang luar biasa ini.  Ini menjelaskan apa itu kecerahan, dan memang semua titik ditempatkan di <i>atasnya</i> tentang kecerahan dan warna. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Ymt47wXUDEU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></blockquote><h2>  Jenis bingkai </h2><br>  Kami melanjutkan.  Mari kita coba menghilangkan redundansi dalam waktu.  Tapi pertama-tama, mari kita mendefinisikan beberapa terminologi dasar.  Misalkan kita memiliki film dengan 30 frame per detik, berikut adalah 4 frame pertamanya: <br><br><img width="64" height="64" src="https://habrastorage.org/webt/iv/6n/5x/iv6n5xrkspmna4ysdwmx-geaavg.png" alt="ball 1" title="bola 1"><img width="64" height="64" src="https://habrastorage.org/webt/yx/pm/jb/yxpmjbgftbludyfwblix9e51mie.png" alt="ball 2" title="bola 2"><img width="64" height="64" src="https://habrastorage.org/webt/gp/wk/no/gpwknos5yniugafyfj-hk_a1pkk.png" alt="ball 3" title="bola 3"><img width="64" height="64" src="https://habrastorage.org/webt/-k/22/81/-k228175bwr2raujpfa-72p7hnm.png" alt="ball 4" title="bola 4"><br><br>  Kita dapat melihat banyak pengulangan dalam bingkai: misalnya, latar belakang biru yang tidak berubah dari bingkai ke bingkai.  Untuk mengatasi masalah ini, kita dapat mengklasifikasikannya secara abstrak sebagai tiga jenis bingkai. <br><br><h3>  I-frame ( <b>I</b> ntro Frame) </h3><br>  I-frame (bingkai referensi, bingkai kunci, bingkai internal) bersifat otonom.  Terlepas dari apa yang perlu divisualisasikan, bingkai-I, pada kenyataannya, adalah foto statis.  Frame pertama biasanya merupakan frame-I, tetapi kami akan secara teratur mengamati frame-I di antara jauh dari frame pertama. <br><br><img width="64" height="64" src="https://habrastorage.org/webt/iv/6n/5x/iv6n5xrkspmna4ysdwmx-geaavg.png" alt="ball 1" title="bola 1"><br><br><h3>  P-frame ( <b>P</b> redicted Frame) </h3><br>  Bingkai-P (bingkai yang diprediksi) mengambil keuntungan dari kenyataan bahwa hampir selalu gambar saat ini dapat diputar menggunakan bingkai sebelumnya.  Misalnya, di frame kedua, satu-satunya perubahan adalah bola ke depan.  Kita bisa mendapatkan frame 2 hanya dengan sedikit memodifikasi frame 1, hanya menggunakan perbedaan antara frame-frame ini.  Untuk membangun bingkai 2, lihat bingkai 1 yang mendahuluinya. <br><br><img width="64" height="64" src="https://habrastorage.org/webt/iv/6n/5x/iv6n5xrkspmna4ysdwmx-geaavg.png" alt="ball 1" title="bola 1">  ← <img width="64" height="64" src="https://habrastorage.org/webt/3o/-a/-_/3o-a-_o0jmv5vrg6wu2jmma0xpo.png" alt=" 1" title="bola 1"><br><br><h3>  B-frame ( <b>B</b> i-predictive Frame) </h3><br>  Bagaimana dengan tautan tidak hanya ke masa lalu, tetapi juga ke bingkai di masa depan, untuk memberikan kompresi yang lebih baik?  Ini pada dasarnya adalah B-frame (bingkai dua arah). <br><br><img width="64" height="64" src="https://habrastorage.org/webt/iv/6n/5x/iv6n5xrkspmna4ysdwmx-geaavg.png" alt="ball 1" title="bola 1">  ← <img width="64" height="64" src="https://habrastorage.org/webt/3o/-a/-_/3o-a-_o0jmv5vrg6wu2jmma0xpo.png" alt=" 1" title="bola 1">  → <img width="64" height="64" src="https://habrastorage.org/webt/gp/wk/no/gpwknos5yniugafyfj-hk_a1pkk.png" alt="ball 3" title="bola 3"><br><br><h2>  Penarikan menengah </h2><br>  Jenis bingkai ini digunakan untuk memberikan kompresi terbaik.  Kami akan membahas bagaimana ini terjadi di bagian selanjutnya.  Sementara itu, kami mencatat bahwa I-frame adalah yang paling "mahal" dalam hal memori, P-frame jauh lebih murah, tetapi B-frame adalah pilihan paling menguntungkan untuk video. <br><br><img src="https://habrastorage.org/webt/kb/tq/iv/kbtqivaoykzul7air0x-bi4p0nk.png" alt="  " title="contoh jenis bingkai"><br><br><h2>  Redundansi temporal (prediksi antar-bingkai) </h2><br>  Mari kita lihat peluang apa yang kita miliki untuk meminimalkan pengulangan waktu.  Jenis redundansi ini dapat diselesaikan dengan menggunakan metode peramalan bersama. <br><br>  Kami akan mencoba menghabiskan sesedikit mungkin bit untuk mengkodekan urutan frame 0 dan 1. <br><br><img width="489" height="249" src="https://habrastorage.org/webt/_r/or/uu/_roruusxx8nchbiamc6hxqxv7ns.png" alt=" " title="bingkai asli"><br><br>  Kita dapat <b>mengurangi</b> , hanya mengurangi frame 1 dari frame 0. Kita mendapatkan frame 1, kita hanya menggunakan perbedaan antara itu dan frame sebelumnya, pada kenyataannya, kita hanya mengkodekan sisa yang dihasilkan. <br><br><img width="334" height="330" src="https://habrastorage.org/webt/lz/1q/vm/lz1qvmad3_cjsaulbo4dy-qfwuc.png" alt=" " title="bingkai delta"><br><br>  Tetapi bagaimana jika saya memberi tahu Anda bahwa ada metode yang lebih baik yang menggunakan bit lebih sedikit lagi ?!  Pertama, mari kita hancurkan frame 0 ke dalam kotak blok yang jelas.  Dan kemudian kami mencoba membandingkan blok dari frame 0 dengan frame 1. Dengan kata lain, kami mengevaluasi pergerakan antar frame. <blockquote>  Dari Wikipedia - <b>blokir kompensasi gerak</b> <br><br>  Kompensasi gerak blok membagi bingkai saat ini menjadi blok-blok terpisah dan vektor kompensasi gerak melaporkan asal-usul blok-blok tersebut (kesalahpahaman yang umum adalah bahwa frame <i>sebelumnya</i> dibagi menjadi blok-blok terpisah, dan vektor-vektor kompensasi gerak menentukan ke mana blok-blok ini pergi. Bahkan, sebaliknya, yang sebelumnya dianalisis bingkai, dan yang berikutnya, ternyata bukan dari mana balok bergerak, tetapi dari mana asalnya).  Biasanya, blok sumber tumpang tindih dalam bingkai sumber.  Beberapa algoritma kompresi video mengumpulkan frame saat ini dari bagian tidak hanya satu, tetapi beberapa frame yang sebelumnya ditransmisikan. </blockquote><img width="489" height="249" src="https://habrastorage.org/webt/mm/0n/r3/mm0nr3fmjnihn1xgvgeip8lnqcy.png" alt=" " title="bingkai delta"><br><br>  Dalam proses evaluasi, kita melihat bahwa bola telah bergerak dari <nobr>( <b>x</b> = 0, <b>y</b> = 25)</nobr> ke <nobr>( <b>x</b> = 6, <b>y</b> = 26)</nobr> , nilai <b>x</b> dan <b>y</b> menentukan vektor gerak.  Langkah lain yang dapat kita ambil untuk menyelamatkan bit adalah mengkodekan hanya perbedaan vektor gerakan antara posisi terakhir dari blok dan yang diprediksi, sehingga vektor gerakan akhir akan menjadi <nobr>(x = 6-0 = 6, y = 26-25 = 1).</nobr> <br><br>  Dalam situasi nyata, bola ini akan dibagi menjadi <b>n</b> blok, tetapi ini tidak mengubah esensi masalah ini. <br><br>  Objek dalam bingkai bergerak dalam tiga dimensi, jadi saat bola bergerak, ia bisa menjadi lebih kecil secara visual (atau lebih banyak jika bergerak ke arah penonton).  Adalah normal bahwa tidak akan ada kecocokan sempurna antara blok.  Berikut ini adalah pandangan gabungan dari penilaian kami dan gambaran nyata. <br><br><img width="374" height="361" src="https://habrastorage.org/webt/g2/0v/lf/g20vlfrxrjfd2z5jopsrwtjeayu.png" alt=" " title="estimasi gerak"><br><br>  Tetapi kita melihat bahwa ketika kita menerapkan estimasi gerakan, data untuk pengkodean terasa lebih sedikit daripada saat menggunakan metode yang lebih sederhana dalam menghitung delta antar frame. <br><br><img width="489" height="249" src="https://habrastorage.org/webt/al/yh/um/alyhumga0r2vz1sduqqpbbfwsf0.png" alt="   " title="delta estimasi gerak"><br><br><h2>  Akan seperti apa kompensasi gerak sebenarnya </h2><br>  Teknik ini berlaku segera untuk semua blok.  Seringkali, bola bergerak bersyarat kami akan dibagi menjadi beberapa blok sekaligus. <br><br><img src="https://habrastorage.org/webt/qd/r9/zi/qdr9zittbih-suwng4vhcktrini.png" alt="    " title="kompensasi gerak dunia nyata"><br><br>  Anda dapat merasakan konsep-konsep ini sendiri menggunakan <a href="https://jupyter.org/">Jupyter</a> . <br><br>  Untuk melihat vektor gerakan, Anda dapat membuat video dengan prediksi eksternal menggunakan <a href="https://www.ffmpeg.org/">ffmpeg</a> . <br><br><img width="730" height="434" src="https://habrastorage.org/webt/8p/fz/y4/8pfzy4_x_u8rhx0e-qdwggcfz18.png" alt="prediksi bingkai (vektor gerak) menggunakan ffmpeg" title="prediksi interframe (gerakan eksplisit) dengan ffmpeg"><br><br>  Anda juga dapat menggunakan <a href="https://software.intel.com/en-us/video-pro-analyzer">Intel Video Pro Analyzer</a> (berbayar, tetapi ada versi percobaan gratis, yang hanya dibatasi oleh sepuluh frame pertama). <br><br><img src="https://habrastorage.org/webt/gi/xv/2x/gixv2xsurl-vpyoqppvr_w9qtc4.png" alt="video penganalisa antar perkiraan tentang penganalisa" title="video penganalisa prakiraan tentang penganalisa"><br><br><h2>  Redundansi Spasial (Prakiraan Internal) </h2><br>  Jika kami menganalisis setiap frame dalam video, kami menemukan banyak area yang saling berhubungan. <br><br><img width="550" height="312" src="https://habrastorage.org/webt/cy/rt/wu/cyrtwua6vufuvoommyb-3ggyfu0.png"><br><br>  Mari kita telaah contoh ini.  Adegan ini terutama terdiri dari biru dan putih. <br><br><img width="277" height="156" src="https://habrastorage.org/webt/-i/yr/8r/-iyr8rtaba0yxiwgvrp0xzhpghg.png"><br><br>  Ini adalah I-frame.  Kami tidak dapat mengambil frame sebelumnya untuk perkiraan, tetapi akan berubah menjadi kompres.    .      ,  ,     -  . <br><br><img width="278" height="413" src="https://habrastorage.org/webt/pi/2l/bg/pi2lbg2js6klz5_qepjcqtgevqq.png"><br><br> ,       .  ,         . <br><br><img width="246" height="404" src="https://habrastorage.org/webt/wy/qe/zt/wyqezt5qtss2h37wim8itgpgobe.png"><br><br>      .         (  ),      .     ,           . <br><br><img src="https://habrastorage.org/webt/ks/at/av/ksatavivnluz7pgxmawvtgixu1y.png"><br><br>      ,            ffmpeg.           ffmpeg. <br><br><img src="https://habrastorage.org/webt/70/pd/tq/70pdtqqlhlx-atda44tfwrygtna.png" alt="prediksi internal (makroblok) menggunakan ffmpeg" title="prediksi interframe (gerakan eksplisit) dengan ffmpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Atau Anda dapat menggunakan Intel Video Pro Analyzer (seperti yang saya sebutkan di atas, dalam versi uji coba gratis ada batasan pada 10 frame pertama, tetapi ini sudah cukup untuk Anda pada awalnya). </font></font><br><br><img src="https://habrastorage.org/webt/_e/3x/f-/_e3xf-wuez64lr6x89oxhozl0a4.png" alt="Intra-prediksi Intel Video Pro Analyzer" title="Intel Pro Intelligent Analyzer"><br><br><hr><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagian Dua: </font></font><a href="https://habr.com/ru/company/edison/blog/480430/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cara Kerja Codec Video</font></font></a> </h3><br><hr><br><br> <a href="https://habr.com/ru/company/edison/blog/485460/"><img align="right" width="404" height="150" src="https://habrastorage.org/webt/2b/9i/gm/2b9igmgpbxunecpetjj6hhqsa9m.png"></a> <br clear="left"><h4>  Baca juga blognya <br>  Perusahaan EDISON: </h4><br>  <a href="https://habr.com/ru/company/edison/blog/485460/"><b>20 perpustakaan untuk</b></a> <a href="https://habr.com/ru/company/edison/blog/485460/"><b><br></b></a>  <a href="https://habr.com/ru/company/edison/blog/485460/"><b>aplikasi iOS yang spektakuler</b></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id481418/">https://habr.com/ru/post/id481418/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id481394/index.html">Menciptakan dalam permainan baru apa yang kita sukai untuk yang lama</a></li>
<li><a href="../id481398/index.html">Perintah Linux dasar untuk penguji dan banyak lagi</a></li>
<li><a href="../id481402/index.html">Implementasi malas melintasi pohon anak-anak dari kelas QObject</a></li>
<li><a href="../id481406/index.html">Pencelupan mendalam dalam investasi Masker Ilona</a></li>
<li><a href="../id481416/index.html">Pengumuman Pertemuan AWS kedua di Minsk (13/02/2020)</a></li>
<li><a href="../id481420/index.html">15 perpustakaan ikon terbaik dan terbesar</a></li>
<li><a href="../id481424/index.html">Kontrol Kustom di Sudut</a></li>
<li><a href="../id481426/index.html">Manfaat Arsitektur Layanan Mikro untuk Pengembangan Perangkat Lunak</a></li>
<li><a href="../id481428/index.html">Game untuk programmer FuncBall</a></li>
<li><a href="../id481430/index.html">Cara mengembalikan jurnal ilmiah dalam Daftar HAC</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>