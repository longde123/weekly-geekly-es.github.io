<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíª üèº üßôüèæ Grave feito √† m√£o por um engenheiro eletr√¥nico: desmonte o PocketBook 631 Plus e equipe-o com uma bateria solar ü§∞üèº üôáüèΩ üîÇ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√° pessoal! Sou Artem Litvinovich, desenvolvedor com muitos anos de experi√™ncia, radioamador desde a inf√¢ncia, e eu mesmo projetei os leitores. Na mi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Grave feito √† m√£o por um engenheiro eletr√¥nico: desmonte o PocketBook 631 Plus e equipe-o com uma bateria solar</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pocketbook/blog/412319/">  Ol√° pessoal!  Sou Artem Litvinovich, desenvolvedor com muitos anos de experi√™ncia, radioamador desde a inf√¢ncia, e eu mesmo projetei os leitores.  Na minha opini√£o, fazer voc√™ mesmo de acordo com suas necessidades - √© de todo modo mais interessante e conveniente do que comprar uma coisa pronta.  Por exemplo, o mesmo leitor.  Na minha conta, existem quatro modelos de leitores montados pessoalmente a partir de componentes encontrados no mercado de r√°dio e encomendados na China. <br><br>  Por exemplo, e a tinta √© descrita <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> , ainda era considerada por Leonid Kaganov <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> , os trabalhos anteriores est√£o todos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> .  Eu mesmo imprimo os estojos em uma impressora 3D, que tamb√©m fui projetada.  E quando voc√™ est√° com pregui√ßa de digitar, esculpo em ep√≥xi. <br><br>  A experi√™ncia, como voc√™ sabe, acumulou-se muito s√©ria e, at√© certo ponto, √∫nica.  E agora os caras do PocketBook se voltaram para mim com uma proposta de fazer algum tipo de mod em seus modelos.  Como resultado, decidimos montar um leitor com uma bateria solar baseada no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PocketBook 631 Plus</a> , um dos principais leitores da linha.  Vou falar sobre isso em um post. <br><br><img src="https://habrastorage.org/webt/ec/bv/pp/ecbvppnqtvvceryz9e5uzjcf9uo.jpeg"><br><a name="habracut"></a><br>  N√£o entrarei em detalhes do funcionamento desse modelo do ponto de vista do usu√°rio.  Muitos escreveram quantos formatos suporta, quais aplicativos possuem, como o suporte a √°udio funciona e qu√£o bem este Pocketbook fala livros em quinze idiomas.  Observarei apenas que, em geral, concordo com essas afirma√ß√µes - o leitor √© experiente e realmente sofisticado. <br><br>  Tendo recebido o leitor em minhas m√£os, eu nem o liguei - eu o desmontei imediatamente.  Portanto, come√ßaremos examinando o que est√° dentro dela.  Isso √© mais interessante para mim.  Desmontar o leitor √© apenas um, dois, tr√™s.  Vamos l√°! <br><br>  Uma vez - com a ajuda de uma cunha pl√°stica, o painel frontal se encaixa. <br><br><img src="https://habrastorage.org/webt/63/_d/ik/63_dikwuji_u5hzh19vr0rjarri.jpeg"><br><br>  Dois - a moldura da tela do painel frontal √© cuidadosamente removida.  Suspeito que ele esteja selado para complicar a entrada de umidade e poeira no interior atrav√©s do v√£o.  No <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PocketBook 631 Plus</a> , diferentemente do mesmo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PocketBook 641 Aqua 2</a> , a prote√ß√£o oficialmente contra a √°gua n√£o √© declarada.  No entanto, os "prim√≥rdios" da prote√ß√£o est√£o presentes aqui.  Com esses elementos estruturais, o spray de umidade deste modelo, presumivelmente, n√£o √© muito assustador. <br><br><img src="https://habrastorage.org/webt/i_/6s/tb/i_6stbp-s7sshaoo8u2cc7nmjke.jpeg"><br><br>  E tr√™s - os parafusos que prendem o pr√≥prio leitor no estojo est√£o desapertados. <br><br><img src="https://habrastorage.org/webt/fi/gn/uk/fignukbr8hrldhffxfmka6isl10.jpeg"><br><br><h2>  Em que consiste um leitor moderno? </h2><br>  Pode parecer inexperiente que tudo seja terrivelmente complicado aqui, mas, em geral, o dispositivo √© bastante simples. <br><br>  Para simplificar, compare com o meu leitor caseiro, que est√° √† direita. <br><br><img src="https://habrastorage.org/webt/cc/6k/xc/cc6kxchye-2re-lmmtrwguisgre.jpeg"><br><br>  Tr√™s blocos claramente se destacam no meu quadro. <br><br><ul><li>  Esquema de energia de tela vermelha.  A tela de tinta eletr√¥nica √© controlada eletrostaticamente e requer v√°rios n√≠veis de tens√£o, positivos e negativos. </li><li>  Verde - controlador para energia, carga e descarga da bateria.  As baterias de l√≠tio s√£o carregadas com corrente cont√≠nua e produzem uma tens√£o inst√°vel.  A eletr√¥nica requer uma constante de 3,3V.  A bateria solar produz uma corrente desconfort√°vel.  Portanto, voc√™ precisa de um controlador DC para carregar, um conversor de voltagem para descarga e um limitador de energia para o painel solar. </li><li>  Amarelo √© uma unidade de computador.  H√° um processador, mem√≥ria e armazenamento de dados, com todas as correias. </li></ul><br>  Surpreendentemente, em ess√™ncia, o leitor √© apenas um computador com efici√™ncia energ√©tica, com uma tela especial e preenchimento de software. <br><br><img src="https://habrastorage.org/webt/wb/eg/2q/wbeg2qtpl2ynflcfxwggimtgsa0.jpeg"><br><br><h2>  Agora d√™ uma olhada no interior do leitor do PocketBook </h2><br>  Aqui voc√™ pode ver blocos semelhantes - poder, trabalhar com a tela e um computador.  Al√©m disso, existem mais duas unidades - um m√≥dulo Wi-Fi azul e um codec de √°udio rosa.  O √∫ltimo √© bastante incomum - em quase todos os leitores modernos com telas E Ink, n√£o h√° recursos de som.  A presen√ßa deles √© um dos "truques" √∫nicos do PocketBook 631 Plus. <br><br><img src="https://habrastorage.org/webt/xi/qr/2d/xiqr2dukro-mqkhg1-tb91g1t_u.jpeg"><br><br>  Vamos dar uma olhada mais de perto no interior do leitor PocketBook. <br><br>  O m√≥dulo do processador, MCIMX6L7DVN10AB, √© exibido no m√≥dulo do processador.  Este √© um ARM Cortex-A9, n√∫cleo √∫nico, 32 bits, nominalmente 1 GHz.  A coisa √© significativamente mais poderosa do que o que eu uso.  N√£o √© de surpreender que o Pocketbook leia 18 formatos sem convers√£o preliminar (PDF, PDF-DRM, EPUB, EPUB-DRM, DJVU, FB2, FB2.ZIP, DOC, DOCX, RTF, PRF, TCR, TXT, CHM, HTM, HTML, MOBI e ACSM), al√©m de voz sobre texto, navega na Internet, joga e sabe como organizar quebras de palavras.  Para a manuten√ß√£o e implementa√ß√£o de todo esse material, √© necess√°rio ferro apropriado. <br><br>  √Ä direita do processador est√° uma mem√≥ria, NT5CC256M16DP.  Isso √© DDR3, 4 Gbps (512 MB). <br><br>  Por tr√°s da mem√≥ria, h√° um slot MicroSD comum com um cart√£o de 8 GB, que atua como armazenamento embutido.  Barato, alegre e conveniente - <s>se desejado, a mem√≥ria interna pode ser facilmente expandida</s> (a verifica√ß√£o mostrou que o cart√£o est√° vinculado por algum tipo de identificador de hardware; portanto, a palavra "f√°cil" √© inapropriada neste caso) e no caso de uma reuni√£o catastr√≥fica do leitor com o firmamento da Terra, recupera√ß√£o de dados requer apenas um leitor de cart√£o. <br><br>  No cart√£o, o Linux comum √© detectado, o que √© bom.  √Ä direita est√° o conector de depura√ß√£o UART.  Se voc√™ fizer uma an√°lise, ver√° a tela inicial do U-Boot 2009.08 e v√°rias informa√ß√µes de depura√ß√£o. <br><br><img src="https://habrastorage.org/webt/qb/mo/yd/qbmoydvbjseytik74ef4dcoszcu.jpeg"><br><br>  Ao lado do m√≥dulo do processador, h√° uma unidade Wi-Fi com um interruptor e um chicote de fios.  RTL8189FTV, m√≥dulo all-in-one 802.11b / g / n conectado via barramento SDIO. <br><br>  Colocar m√≥dulos prontos para esse tipo de fun√ß√£o, em vez de sold√°-los discretamente, √© uma das pr√°ticas padr√£o no desenvolvimento de eletr√¥nicos. <br><br><img src="https://habrastorage.org/webt/jl/4o/3o/jl4o3o_cgrm8s30lq3ovvrxidjm.jpeg"><br><br>  Do outro lado est√° o codec - um conversor de som de digital para atual em fones de ouvido.  O ALC5640 ainda √© da mesma empresa Realtek, captura som via I2S e fornece som est√©reo de 1,5 W a um alto-falante de 8 Ohm atrav√©s de um amplificador de classe D. Tamb√©m √© uma coisa t√≠pica. <br><br><img src="https://habrastorage.org/webt/yu/qm/cx/yuqmcxjaynljjoytxrmjsgetgdi.jpeg"><br><br>  Acima do som est√° a unidade de controle da tela. <br><br>  O TPS65185 √© um gerador de voltagem para telas de tinta eletr√¥nica.  N√£o foi poss√≠vel identificar o NN2003, ou algo semelhante a "2" na parte superior da marca√ß√£o, mas parece algo relacionado ao poder da luz de fundo.  E o zForce NN1001 √© como um controlador de tela de toque IR. <br><br><img src="https://habrastorage.org/webt/ei/nf/ss/einfssr3lqgoleheszta-clxqpy.jpeg"><br><br>  Finalmente, a principal fonte de alimenta√ß√£o.  No centro √© o chip principal - RC5T619.  Este √© um controlador de energia multifuncional com conversores embutidos, c√°lculo de consumo, carregamento de bateria, interfaces para comunica√ß√£o com o processador, etc. Ele tamb√©m possui um rel√≥gio em tempo real que deve funcionar mesmo quando todo o resto est√° desligado.  Uma fonte de alimenta√ß√£o altamente integrada desempenha um papel significativo no fato de que uma √∫nica carga do leitor √© suficiente para cerca de um m√™s e meio de uso ativo.  Veremos mais de perto esse chip mais tarde, quando anexaremos um painel solar ao leitor. <br><br><img src="https://habrastorage.org/webt/nd/lr/d1/ndlrd1ds3zi_gxgdou5ncy3qvbw.jpeg"><br><br>  Virando o quadro, encontramos a tela - a mais interessante neste livro. <br><br><img src="https://habrastorage.org/webt/kw/uu/xg/kwuuxgpw4lvief4nivuu4_t1kiw.jpeg"><br><br>  A tela √© colada ao quadro; do outro lado, a bateria √© colada.  A placa est√° aparafusada a ela e, em certa medida, a caixa inteira. <br><br><img src="https://habrastorage.org/webt/vo/wx/ac/vowxacfzpsdd_bkdce3stddr1m0.jpeg"><br><br>  Qual √© a diferen√ßa entre a tela ‚ÄúE Ink Carta‚Äù de 6 polegadas e a √∫ltima gera√ß√£o da tela regular E Ink que voc√™ pode comprar na loja? <br><br>  Para compara√ß√£o - aqui est√° a minha tela de 7 polegadas de uma empresa chinesa. <br><br><img src="https://habrastorage.org/webt/je/8e/jt/je8ejt4wlcciofhvwthkn6ib8wy.jpeg"><br><br>  Colocando a mesma imagem nos dois, voc√™ pode notar imediatamente as diferen√ßas.  Minha tela, embora maior, tem uma resolu√ß√£o de apenas 480 x 800 e 120 DPI, enquanto o Pocket tem uma resolu√ß√£o de 1072 x 1448 e 300 DPI.  Bem, a qualidade da matriz em si √© mais alta - como principal fabricante do primeiro escal√£o, o PocketBook utiliza displays do mais alto n√≠vel de qualidade - Grau A ("primeiro grau", antes da rejei√ß√£o).  Para marcas menores e √† venda na forma de pe√ßas de reposi√ß√£o, h√° telas de grau B com alguns (padr√µes aceit√°veis) n√∫mero de defeitos. <br><br><img src="https://habrastorage.org/webt/u7/4q/ne/u74qnevu7sujcvv0kl8qngtpb7u.jpeg"><br><br>  Se voc√™ olhar de perto, poder√° ver outra grande diferen√ßa - na tela do Pocket, as ‚Äúcores‚Äù s√£o mais suaves. <br><br><img src="https://habrastorage.org/webt/co/1c/i4/co1ci4tt_p6wemfwyjqhr-pgq_8.jpeg"><br><br>  Isso n√£o √© surpreendente, porque, diferentemente dos chineses em preto e branco, a tela do Pocket √© monocrom√°tica e suporta <s>50</s> 16 tons de cinza. <br><br><img src="https://habrastorage.org/webt/01/ea/sz/01easzhea0b9qdft1pox1y4fvrm.jpeg"><br><br>  De fato, isso se deve n√£o tanto √† tela (embora, √© claro, tamb√©m), mas a um circuito de controle mais sofisticado que o meu.  Fundamentalmente, essas duas telas n√£o s√£o muito diferentes uma da outra e a principal diferen√ßa est√° na liga√ß√£o. <br><br>  Vamos dar uma olhada na pr√≥pria tecnologia.  Uma tela com tinta eletr√¥nica √© um vidro, de um lado uma matriz de eletrodos de controle e, do outro lado, uma s√©rie de bolhas com l√≠quido selado em pl√°stico transparente, no qual bolas microsc√≥picas flutuam.  Branco √© positivo, preto √© negativo.  A matriz de controle gira eletrostaticamente as bolas, exibindo a imagem. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/v3/68/jj/v368jjwrr_-c3thtzjuiha-hfee.jpeg"></div><br>  No verso, essa tela √© espelhada e a fia√ß√£o dos sinais de controle gravados no vidro √© vis√≠vel. <br><br><img src="https://habrastorage.org/webt/ob/92/ty/ob92tybeaqu6jhqcs5whuz3peg4.jpeg"><br><br><img src="https://habrastorage.org/webt/hr/ef/fe/hreffeu4wizsqlf_brlxg2r33wa.jpeg"><br><br>  Se voc√™ observar a tela no l√∫men, poder√° ver uma fina grade de controle por tr√°s do ru√≠do das c√°psulas desigualmente aplicadas.  Devido a essa irregularidade, a luz de fundo de uma tela de tinta eletr√¥nica √© uma tarefa n√£o trivial - se voc√™ a destacar por tr√°s, ela parecer√° uma migalha de vidro. <br><br><img src="https://habrastorage.org/webt/oh/uk/dq/ohukdqaw2djprg1qqkk8jyvwqgo.jpeg"><br><br>  De certa forma, parece at√© papel comum. <br><br><img src="https://habrastorage.org/webt/ai/xn/xu/aixnxuukm1q8ctrmtrjbmn9b3tk.jpeg"><br><br>  A tela da carteira est√° firmemente colada ao quadro, e as tentativas de separ√°-las provavelmente terminar√£o tristemente.  No entanto, h√° um lugar na borda onde voc√™ tamb√©m pode ilumin√°-lo e ver uma estrutura semelhante. <br><br><img src="https://habrastorage.org/webt/_8/nw/0y/_8nw0ydgqsbyybx31amamfwj9ag.jpeg"><br><br>  Vemos que h√° uma moldura preta na parte superior da tela e, no quadro abaixo, h√° um conjunto de alguns detalhes. <br>  O que √© isso <br><br><img src="https://habrastorage.org/webt/bs/ip/jw/bsipjw-tuo5lcrihofwil-us-oq.jpeg"><br><br>  Al√©m disso, o quadro n√£o √© simples, mas transparente na luz infravermelha!  E as sali√™ncias nele parecem lentes.  Para que serve tudo isso? <br><br><img src="https://habrastorage.org/webt/tf/-m/9k/tf-m9k1m8raheldckdroq3tsgqe.jpeg"><br><br>  O enigma √© resolvido de maneira muito simples.  Recordamos um interfone comum com um teclado de ferro, que estranhamente para de funcionar quando suas bordas est√£o manchadas de neve.  Nas bordas deste teclado h√° um conjunto de luz e fotodiodos nos quais eles brilham.  Ao rastrear a sombra dessa ilumina√ß√£o, o processador pode entender em que n√∫mero o dedo apareceu. <br><br><img src="https://habrastorage.org/webt/uu/hv/bf/uuhvbfkno4hvju15zeohmhwxge8.jpeg"><br><br>  No nosso leitor de livros poket, o design √© semelhante, apenas mais preciso.  Nas bordas est√£o os LEDs infravermelhos, que enquadram o foco nos fotodiodos do lado oposto e, sombreando, o processador calcula a localiza√ß√£o do dedo. <br><br><img src="https://habrastorage.org/webt/vr/ai/mv/vraimvmc4ygocb1z9rgp9kwy-ag.jpeg"><br><br>  Uma placa flex√≠vel com LEDs √© colada na parte inferior da tela com uma tira.  Esta √© a famosa ilumina√ß√£o com uma temperatura vari√°vel da luz.  Voc√™ vai para a esquerda - a luz est√° ficando mais fria, para a direita - est√° ficando mais quente.  A id√©ia √© a seguinte: antes de ir para a cama, √© melhor ler com luz de fundo quente, gra√ßas a isso o aparelho visual relaxa mais rapidamente.  Existem duas vers√µes dessa luz de fundo, uma desenvolvida pela E Ink e a outra uma c√≥pia chinesa dela.  Uma c√≥pia √© pior porque consome cerca de um ter√ßo a mais de energia.  No PocketBook 631 Plus est√° o E Inca correto. <br><br><img src="https://habrastorage.org/webt/w5/oc/ed/w5ocedeiawtu1gtkzwgncupxcue.jpeg"><br><br><img src="https://habrastorage.org/webt/9x/v3/pb/9xv3pbwe9axrdwxoushiiactpqi.jpeg"><br>  <i>Voc√™ vai para a direita - a luz est√° ficando mais quente</i> <br><br>  Como todos os engenhosos, o segredo √© simples - a luz de fundo consiste em LEDs alternados: quente, frio, quente, frio etc. <br><br>  O brilho de cada metade √© controlado de forma independente, o que permite uma transi√ß√£o suave do frio para o calor. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/hz6IwtRFOug" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Nesta revis√£o do interior pode ser conclu√≠da, monte o leitor de volta e continue com o carregamento.  Sob condi√ß√µes normais, o livro √© carregado do USB padr√£o com uma corrente de 0,9A. <br><br>  Isso √© 4,5 W e deve fornecer uma carga completa de sua bateria de 1,5 A / h por cerca de uma hora. <br><br><img src="https://habrastorage.org/webt/q6/t4/kx/q6t4kxmyd6_whb5b_xwfogpbvvq.jpeg"><br><br>  √Ä medida que a corrente dispon√≠vel diminui, o livro continua cobrando calmamente at√© quase zero.  Parece que o controlador de carregamento √© de pouco interesse para o padr√£o USB e pode carregar de qualquer voltagem at√© a voltagem da pr√≥pria bateria. <br><br><img src="https://habrastorage.org/webt/vl/nz/g6/vlnzg6blp6pznh9iv3lrg0p61-4.jpeg"><br><br>  O que acontece ao carregar e descarregar?  Recordamos o RC5T619, que controla o subsistema de energia.  Este √© um controlador integrado para energia, carga e medi√ß√£o.  Possui dois canais de entrada para carregamento e energia externa, conversores de voltagem embutidos, sa√≠da para a bateria e sa√≠das do consumidor, entradas de sensor (por exemplo, temperatura da bateria) e muito mais.  Tudo isso √© configurado no n√≠vel do circuito e programaticamente no barramento I2C. <br><br>  No mesmo barramento, o processador recebe informa√ß√µes sobre a carga restante na bateria, sobre o estado da carga, sobre a hora atual, etc. <br><br><img src="https://habrastorage.org/webt/oc/3x/ut/oc3xutahobnx7ylr7sw_hxmhm0i.png"><br><br>  Qual √© a dificuldade de determinar o n√≠vel de carga de uma bateria de l√≠tio?  Voc√™ n√£o pode simplesmente medir a tens√£o?  Infelizmente, a tens√£o √© n√£o linear, na maior parte constante, e altamente dependente da carga. <br><br><img src="https://habrastorage.org/webt/al/1d/55/al1d55ofazoolofpiwc9bitfct4.png"><br><br>  Na pr√°tica, um contador pendente √© usado para determinar o n√≠vel de carga.  Como um medidor el√©trico em um apartamento, ele considera quanta carga fluiu da bateria para a carga e do carregamento para a bateria.  Esta √© a √∫nica maneira confi√°vel de mostrar de forma confi√°vel o n√≠vel da bateria.  E esse medidor geralmente √© embutido no controlador de energia.  O processo de carregamento de uma bateria de l√≠tio tamb√©m n√£o √© f√°cil, ao contr√°rio do chumbo, por exemplo.  O processo de carregamento consiste em dois est√°gios - corrente cont√≠nua e tens√£o constante.  No primeiro est√°gio, a corrente √© fornecida, limitada ao valor m√°ximo de seguran√ßa, geralmente a 1C (uma capacidade da bateria por hora).  Quando a voltagem da bateria atinge seu valor m√°ximo (4,20V), o segundo est√°gio come√ßa, quando essa voltagem √© mantida na entrada e a corrente cai.  No final, a corrente atinge um limite mais baixo, geralmente 0,1C, e o carregamento √© interrompido. <br><br>  Tudo isso, novamente, √© o controlador de pot√™ncia integrado. <br><br>  Obviamente, para conectar outra fonte de energia, voc√™ precisar√° passar por ela.  Idealmente, voc√™ pode usar a segunda entrada de carga, VADP, mas h√° um pequeno problema - n√£o est√° separado na placa do nosso leitor, e o controlador √© um chip BGA, um ret√¢ngulo de pl√°stico com bolas de contato na parte inferior e acessar as entradas VADP, essencialmente imposs√≠vel. <br><br><img src="https://habrastorage.org/webt/tm/w6/7h/tmw67hoakl5xbd_9xxjol1jcups.jpeg"><br><br>  Portanto, voc√™ precisa se conectar √† entrada VUSB, ou seja, ao conector de alimenta√ß√£o padr√£o do leitor.  Portanto, √© bom que continue a carregar, mesmo com tens√£o e corrente muito baixas. <br><br>  Com essa conex√£o, h√° algumas coisas a considerar. <br><br>  Em primeiro lugar, n√£o deve interferir no carregamento normal.  Ou seja, o fluxo de corrente do sol para o carregamento ou o computador n√£o √© permitido.  Em segundo lugar, n√£o deve absorver a corrente durante o carregamento externo.  I.e.  O fluxo de corrente do carregamento no circuito do painel solar n√£o √© permitido. <br><br>  A primeira √© bastante simples - aplicaremos uma voltagem muito menor que a de uma carga ou de um computador.  O leitor pode ser carregado, mas a fonte externa n√£o notar√°. <br><br>  O segundo tamb√©m n√£o √© dif√≠cil - para o painel solar, voc√™ precisar√° de um controlador de ponto de pot√™ncia m√°ximo, dentro ou na sa√≠da do qual haver√° um diodo. <br><br>  Que tipo de controlador √© esse e por que √© necess√°rio?  Vamos dar uma olhada nos pain√©is solares. <br><br>  Existem muitos tipos de c√©lulas solares.  Convencional, familiar a todos os elementos de silicone com tonalidade azulada e fia√ß√£o na superf√≠cie (na foto √† esquerda) √© mais eficaz.  A desvantagem √© que, com o tempo, s√£o destru√≠das pela luz solar e, em dez anos, perdem a maior parte de seu poder. <br><br>  Meu livro usa um elemento de camada fina sobre seleneto de cobre-√≠ndio-g√°lio (√† direita), que √© uma vez e meia menos eficaz, mas mais dur√°vel. <br><br><img src="https://habrastorage.org/webt/g4/qv/5l/g4qv5le5nhazx2z18fo7wv7zhg4.jpeg"><br>  <i>Ambos os pain√©is consistem em 11 elementos conectados em s√©rie.</i> <br><br>  Surge a pergunta - qual painel colocar no nosso PocketBook?  Normalmente sou a favor da longevidade, mas, neste caso, levado ao canto mais distante do senso de beleza, ele precisava ser ouvido e decidi pela op√ß√£o √† esquerda - √© muito bom um painel de sil√≠cio t√≠pico se encaixar na estante de livros. <br><br><img src="https://habrastorage.org/webt/ku/yd/no/kuydno5wzaxkjtl_l0dru3avzvk.jpeg"><br><br>  A bateria solar √© uma fonte de energia n√£o linear.  Uma simples bateria ou fonte de alimenta√ß√£o √© geralmente descrita pela lei de Ohm - √† medida que a resist√™ncia aplicada a eles diminui, a corrente aumenta e a tens√£o cai.  Em outras palavras, eles s√£o uma fonte de tens√£o com resist√™ncia de s√©rie equivalente. <br><br>  Com uma bateria solar, com uma diminui√ß√£o na resist√™ncia, a corrente permanece aproximadamente constante e a tens√£o cai.  Isso √© mais pr√≥ximo da fonte de corrente com tens√£o superior limitada.  Aqui, por exemplo, h√° um gr√°fico de corrente em tens√£o para um dos meus grandes pain√©is solares. <br><br><img src="https://habrastorage.org/webt/hl/7x/ph/hl7xph_ndkgy6pqmieyinlnxysy.jpeg"><br><br>  Se voc√™ conectar um controlador de carga de bateria convencional a uma fonte, o carregamento tentar√° extrair a corrente dispon√≠vel (ser√° uma resist√™ncia baixa), a tens√£o no painel diminuir√° e, com isso, a energia diminuir√° - a energia total estar√° dispon√≠vel apenas perto do ponto de opera√ß√£o, onde o produto de corrente e tens√£o √© m√°ximo. <br><br>  Para corrigir esse problema, o painel solar geralmente √© conectado atrav√©s de um controlador de ponto de energia constante.  Um conversor de pulsos que n√£o permite que a carga tente extrair mais energia do painel do que √© capaz de fornecer na sua tens√£o ideal.  De fato, converte a caracter√≠stica n√£o linear do painel em √¥hmico. <br><br>  A implementa√ß√£o mais simples desse controlador √© um conversor abaixador, com feedback tamb√©m sobre a tens√£o de entrada, e n√£o apenas sobre a sa√≠da. <br><br>  √Ä medida que a resist√™ncia de sa√≠da diminui, esse conversor diminui a tens√£o (e aumenta a corrente) para que uma tens√£o constante permane√ßa na entrada. <br><br>  D√™ uma olhada em um simples circuito conversor de buck caseiro no controlador P3M MC34063. <br><br><img src="https://habrastorage.org/webt/1b/xr/-u/1bxr-ujxf0tquj7icbl3v24xquw.png"><br><br>  Este chip possui uma chave embutida que abre e fecha a uma frequ√™ncia de dezenas de quilohertz.  Quando est√° aberta, a corrente flui atrav√©s dele e atrav√©s da indut√¢ncia, ganhando gradualmente a tens√£o de sa√≠da.  Quando fechada, a corrente flui atrav√©s do diodo e da indut√¢ncia (o indutor tende a resistir a uma mudan√ßa na corrente que flui atrav√©s dele), perdendo gradualmente a tens√£o.  A tens√£o "triangular" resultante √© suavizada pelo capacitor de sa√≠da para ficar quase constante. <br><br>  Quanto mais tempo a tecla estiver aberta (largura de pulso), maior ser√° a tens√£o de sa√≠da.  Porque  Geralmente √© necess√°ria uma tens√£o constante, na sa√≠da existe um divisor de feedback que fornece um sinal ao amplificador de erro no controlador.  Isso permite que ele reduza a largura do pulso se a tens√£o estiver muito alta e aumente quando vice-versa. <br><br>  Como fazer um controlador com reten√ß√£o m√°xima de energia deste circuito?  √â necess√°rio adicionar um pequeno prefixo a ele. <br><br><img src="https://habrastorage.org/webt/a8/25/qd/a825qdq_zyal7w2jd3pwum7i4uk.png"><br><br>  O transistor est√° aberto quando a tens√£o de entrada √© maior que a tens√£o definida, a tens√£o do lado do diodo √© zero e o controlador limita a tens√£o de sa√≠da, como de costume. <br><br>  Se a tens√£o de entrada cair abaixo do valor definido, o transistor come√ßa a fechar e uma tens√£o proporcional √† entrada chega √† linha de feedback.  E bloqueia o sinal da sa√≠da.  O controlador percebe isso como um aumento da tens√£o de sa√≠da e reduz o comprimento do pulso, impedindo que a carga absorva muita energia e diminua a tens√£o de entrada. <br><br>  Se testarmos este circuito em uma placa de ensaio, ele estar√° mais ou menos funcionando, mas com caracter√≠sticas terr√≠veis. <br><br><img src="https://habrastorage.org/webt/m9/bk/yd/m9bkydjawid79q23ihrqtwfyo30.jpeg"><br><br>  Na pr√°tica, fazer seu pr√≥prio conversor de pulso √© uma tarefa ingrata e n√£o muito eficaz.  Especialmente em detalhes antigos como o MC34063. <br><br>  Portanto, usaremos a pr√°tica padr√£o, ou seja, m√≥dulos prontos. <br><br>  A parte principal do nosso circuito √© um prefixo inverso de feedback da tens√£o de entrada.  E pode ser conectado a qualquer circuito conversor abaixador padr√£o, que possui um divisor externo para feedback da tens√£o de sa√≠da.  Consequentemente, tomamos um m√≥dulo de redu√ß√£o t√≠pico para v√°rios watts e soldamos a sa√≠da do diodo prefixo. <br><br><img src="https://habrastorage.org/webt/ul/ni/sq/ulnisq2pw8t8_vjbxxy0yyrlayw.jpeg"><br><br>  Como esperado, tudo funciona quase sem problemas. <br><br><img src="https://habrastorage.org/webt/rs/cc/ak/rsccaka9wov4zmu8ls1slgcr8mg.jpeg"><br><br>  Agora voc√™ pode remover pe√ßas desnecess√°rias e verificar o circuito no modo de tens√£o de corrente constante, simulando um painel solar. <br><br><img src="https://habrastorage.org/webt/sf/em/0a/sfem0aub-rljfepe3ozs9unhvhu.jpeg"><br>  <i>Como voc√™ pode ver, o circuito mant√©m perfeitamente a tens√£o de entrada m√≠nima</i> <br><br>  Transferimos o circuito de uma placa de ensaio conveniente para uma permanente, e o resultado √© um design compacto e bastante plano. <br><br><img src="https://habrastorage.org/webt/7z/cl/le/7zclletg6hon7og5t7_xvy_p-p0.jpeg"><br><br>  Dentro do leitor, n√£o h√° espa√ßo livre em excesso, e o design ainda n√£o √© plano o suficiente para caber entre a tampa traseira e a placa; portanto, em qualquer caso, voc√™ deve montar tudo do lado de fora e sacrificar o design. <br><br>  Se o livro foi originalmente feito com a expectativa de carregamento solar, esse problema n√£o teria surgido - como lembramos, havia muito espa√ßo livre no pr√≥prio painel. <br><br><img src="https://habrastorage.org/webt/ph/ob/me/phobmen1my1mmyk8q7eo4xdwrfk.jpeg"><br><br>  O √∫nico local mais ou menos conveniente onde voc√™ pode colocar o controlador fica na parte traseira do painel solar.  H√° at√© um quadro pontilhado sugerindo isso. <br><br><img src="https://habrastorage.org/webt/7q/kp/d7/7qkpd7kgt1e_kd6n3rwldcy1qjk.jpeg"><br><br>  Antes da assembl√©ia final, faz sentido testar tudo, mas a sombria primavera de Moscou no X-Day teimosamente se recusou a cooperar. <br><br><img src="https://habrastorage.org/webt/1x/nf/ys/1xnfysapns41fssf_nkcdr0mdjk.jpeg"><br><br>  Eu tenho que pegar meu ‚Äúsubstituto solar‚Äù - um bloco de LEDs com pot√™ncia total de 1 kW e temperatura de cor de 4000K, previamente calibrada com um medidor de luz.  D√° luz do dia de ver√£o a uma dist√¢ncia de 29 cm. <br><br>  A primitividade do sistema de refrigera√ß√£o do modelo ‚Äúgrande peda√ßo de alum√≠nio‚Äù leva ao fato de que a unidade pode superaquecer e queimar em 6 minutos, dos quais o destino a imperfei√ß√£o das baterias modernas pode salv√°-lo, que dura apenas 5 minutos. <br><br><img src="https://habrastorage.org/webt/af/ij/la/afijlaxyg-fbl5cnnzg_06fdx0e.jpeg"><br><br>  √â dif√≠cil acreditar qu√£o intensa √© a luz solar - um quilowatt de luz por metro quadrado.  Somente se voc√™ colocar essas l√¢mpadas a um metro uma da outra na metade do planeta, poder√° obter algo pr√≥ximo √† pot√™ncia do sol. <br><br><img src="https://habrastorage.org/webt/1g/jw/cg/1gjwcgw3nroamb5uxmawyso7ghe.jpeg"><br><br>  Devido ao brilho, n√£o √© poss√≠vel ver o que o dispositivo mostra - o carregamento √© fornecido com uma pot√™ncia de cerca de 0,7W.  Isso est√° pr√≥ximo do esperado - painel de 1 W e efici√™ncia do conversor de 70%.  A essa velocidade, o leitor cobrar√° do zero por cerca de 8 horas. <br><br>  Na realidade, em nossas latitudes e clima inconstante, ser√° necess√°rio duas vezes mais - o valor nominal da pot√™ncia do painel de 1 W √© fornecido para a luz solar nominal de 1000 W por m2.  O que acontece ao meio-dia nos tr√≥picos ou em um laborat√≥rio sob um substituto solar. <br><br><img src="https://habrastorage.org/webt/oy/fx/rh/oyfxrhdivvkr3rzg8mzf2lswago.jpeg"><br><br>  Agora que o teste passou, voc√™ pode finalmente anexar o painel ao pr√≥prio livro. <br><br>  Devido √† espessura do transdutor, existe um espa√ßo de meio cent√≠metro entre o painel e o alojamento.  Voc√™ precisa fech√°-lo para aquecer a impressora 3D e imprimir o quadro. <br><br><img src="https://habrastorage.org/webt/2m/nw/nv/2mnwnvkvt4evmmipp2feax3lhie.jpeg"><br><br>  A estrutura √© presa ao corpo e, dentro dela, fazemos um orif√≠cio para os fios. <br><br><img src="https://habrastorage.org/webt/jm/rw/j3/jmrwj34tepjquhtmheef05ihxus.jpeg"><br><br>  Os pinos do controlador s√£o passados ‚Äã‚Äãpelos orif√≠cios e soldados na entrada. <br><br><img src="https://habrastorage.org/webt/gz/du/dq/gzdudq9btucwr3zixot9yymsyns.jpeg"><br><br>  Obviamente, esse design n√£o ganhar√° nenhum concurso de beleza e design.  E, na pr√°tica, o aumento da espessura de um fator de 1,5 √© bastante not√°vel - o leitor n√£o √© mais t√£o conveniente no seu bolso e n√£o se encaixa nas capas. <br><br>  Para que o local n√£o desapare√ßa em v√£o, pode-se, por exemplo, ench√™-lo com uma bateria mais espa√ßosa.  Ou coloque um suporte articulado sob o painel - e √© conveniente coloc√°-lo sobre a mesa, e o design ser√° mais sim√©trico.  Mas, de fato, esse elemento de design seria mais razo√°vel para integrar inicialmente ao leitor ou faz√™-lo como um dispositivo separado.  Ao colocar o controlador na placa e fazer um recorte para o painel no gabinete, voc√™ poder√° obter um leitor com a mesma espessura do modelo original. <br><br><img src="https://habrastorage.org/webt/-d/9j/tk/-d9jtkgi9kogxr6hx5or4yep4sm.jpeg"><br><br>  Enquanto isso, atrav√©s da neblina de nuvens, o sol finalmente eclodiu e voc√™ pode ver ao vivo que a unidade est√° funcionando. <br><br><img src="https://habrastorage.org/webt/uw/ro/uy/uwrouyd4w3xwtdareczgjshod5e.jpeg"><br><br>  No total, podemos concluir que seria √≥timo para o fabricante - a empresa PocketBook - adotar pain√©is solares e, algum dia, produzir leitores com eles. <br><br>  O volume do projeto caseiro resultante n√£o significa que o produto de f√°brica ser√° o mesmo - √© como comparar um carro movido a gasolina convertido em motores el√©tricos, com um porta-malas cheio de baterias e um centro de gravidade derrubado, com uma m√°quina que foi originalmente projetada como carro el√©trico. <br><br>  Em palavras inteligentes, a energia solar est√° agora em tend√™ncia, a tecnologia est√° avan√ßando, os pre√ßos dos pain√©is est√£o caindo rapidamente.  E todo mundo acredita que o futuro est√° com eles.  Assim, um leitor com carregamento solar embutido pode muito bem iniciar a moda em dispositivos m√≥veis com essa conveni√™ncia.  Leitor - um dispositivo com consumo de energia extremamente baixo e, √© claro, uma grande √°rea de habita√ß√£o.  O que torna o caso de uso quase ideal nessa dire√ß√£o. <br><br>  Para resumir o projeto em si, a parte mais dif√≠cil foi tornar o controlador do ponto de pot√™ncia m√°ximo em uma escala t√£o pequena.  Essa √© uma daquelas √°reas em que praticamente n√£o existem m√≥dulos prontos at√© agora e, portanto, cada um √© para si. <br><br>  A parte mais interessante para mim foi descobrir como os leitores e telas modernos se comportam.  A √∫ltima vez (por volta de 2007), desmontei um leitor bastante antigo, que foi um dos primeiros no mercado, e n√£o foi muito mais dif√≠cil que o meu.  O design da tela sens√≠vel ao toque acabou sendo inesperado - eu nunca havia encontrado a tecnologia de uma grade de infravermelho com tamanho e precis√£o t√£o altos e n√£o esperava encontr√°-la l√°.  Bem, os outros momentos de engenharia no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PocketBook 631 Plus</a> pareciam bastante l√≥gicos e pensados ‚Äã‚Äã- pode-se ver que o leitor foi desenvolvido de boa f√© - longe do joelho e nem um pouco de amadores. <br><br>  Tais s√£o as coisas.  √â tudo, e espero que voc√™ tenha aprendido algo novo hoje.  Vou responder as perguntas nos coment√°rios, escreva. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt412319/">https://habr.com/ru/post/pt412319/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt412307/index.html">A frase "n√£o seja mau" foi removida do pref√°cio do c√≥digo do Google.</a></li>
<li><a href="../pt412309/index.html">For√ßa reduz os sintomas da depress√£o n√£o √© pior do que exerc√≠cios aer√≥bicos</a></li>
<li><a href="../pt412311/index.html">Uma IA treinada em navega√ß√£o desenvolveu um sistema semelhante a uma "b√∫ssola" de um c√©rebro de mam√≠fero</a></li>
<li><a href="../pt412313/index.html">TooWheels - cadeira de rodas com documenta√ß√£o aberta</a></li>
<li><a href="../pt412315/index.html">Servi√ßo Google Duplex assusta com seu discurso bonito e correto, h√° insatisfeitos</a></li>
<li><a href="../pt412323/index.html">Meu algoritmo tem problemas mentais?</a></li>
<li><a href="../pt412325/index.html">Spectrum-48 contra um ma√ßo de cigarros, mingau de um machado ou o que o v√≠deo STM32F103C8T6 + pode fazer (atualiza√ß√£o)</a></li>
<li><a href="../pt412327/index.html">A vis√£o do pedestre-matem√°tico: por que nossas estradas s√£o guano</a></li>
<li><a href="../pt412329/index.html">Impressora 3D Anet A8 com estrutura de a√ßo</a></li>
<li><a href="../pt412331/index.html">Assistentes digitais obedecem a comandos inaud√≠veis para humanos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>