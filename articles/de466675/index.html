<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👲🏽 🙌🏾 😙 Schulung Cisco 200-125 CCNA v3.0. Tag 47. OSPF-Fehlerbehebung 🤰🏽 🏔️ 👿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Heute werden wir das Thema der vorherigen Lektion zum OSPF-Protokoll fortsetzen, das Abschnitt 2.4 des ICND2-Themas gewidmet ist, und die Beseitigung ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Schulung Cisco 200-125 CCNA v3.0. Tag 47. OSPF-Fehlerbehebung</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/466675/"> Heute werden wir das Thema der vorherigen Lektion zum OSPF-Protokoll fortsetzen, das Abschnitt 2.4 des ICND2-Themas gewidmet ist, und die Beseitigung typischer Probleme bei der Implementierung dieses Protokolls betrachten.  Kehren wir zum Packet Tracer-Beispiel zurück, mit dem wir das letzte Video fertiggestellt haben.  Zuerst werde ich die Netzwerkbezeichnung zwischen den Routern R1 und R5 korrigieren. Hier sollte es einen anderen Wert geben - 10.1.1.0/24. <br><br><img src="https://habrastorage.org/webt/ch/r4/py/chr4pycliucnj36e164e4ndlpze.jpeg"><br><br>  Sie können dieses Beispiel über den Link herunterladen, der im Video-Tutorial von Tag 46 bereitgestellt wird. Wenn Sie dies noch nicht getan haben, können Sie es jetzt als OSPF-Fehlerbehebungsaufgabe herunterladen. <br>  Die Aufgabe lautet wie folgt: PC0 muss PC1 und PC2 anpingen, und Computer PC1 und PC2 müssen in der Lage sein, sich gegenseitig anzupingen. <a name="habracut"></a><br><br>  Lassen Sie uns überprüfen, ob PC0-Ping auf 192.168.3.10 übergeht. Ich denke, dies sollte nicht passieren.  Tatsächlich haben wir vom R5-Router eine Antwort von der Adresse 192.168.5.1 erhalten, dass der Zielhost nicht verfügbar ist.  Eine solche Nachricht bedeutet in den meisten Fällen, dass der Router die erforderliche Route einfach nicht kennt, dh in seiner Routing-Tabelle gibt es keine Informationen über das Netzwerk 192.168.3.0/24. <br><br>  Überprüfen Sie dies mit dem Befehl show ip route in der R5-Einstellungskonsole.  Wie Sie sehen können, gibt es keine Aufzeichnungen über das Netzwerk 192.168.3.0/24.  Da der Router das OSPF-Protokoll verwendet, „kennt“ er die Netzwerke 1.1.1.1/32, 2.2.2.2/32, das vierte und fünfte Netzwerk, mit dem er direkt verbunden ist.  Es ist auch mit einem 10.1.1.0/24 Netzwerk verbunden.  Möglicherweise weiß dieser Router nichts über Netzwerk 3, da dies nicht angekündigt wird. <br><br><img src="https://habrastorage.org/webt/pe/6s/-e/pe6s-e5jnfmoc6mkqu2kq0dqofw.jpeg"><br><br>  Gehen wir in die Einstellungen von R3 und geben den Befehl show run | ein, wobei Pipe - eine gerade Linie wird verwendet, um solche Filter einzugeben: begin zeigt Konfigurationszeilen an, beginnend mit der Zeile, in der der reguläre Ausdruck vorkommt - wird nach dem Filter eingegeben, include zeigt Zeilen, die enthalten Angegebene reguläre Ausdrücke und Ausschließen zeigen alle Zeilen mit Ausnahme derjenigen an, die einen regulären Ausdruck haben. <br><br>  Zum Beispiel werde ich den Showlauf | eingeben  Router starten, um zu dem Abschnitt zu gelangen, in dem die Erwähnung des Wortes Router beginnt - dies ist Router OSPF 1. <br><br><img src="https://habrastorage.org/webt/y4/cq/xo/y4cqxogvdvipiywlpqkwtd5l2dq.jpeg"><br><br>  Wir sehen, dass für den R3-Router das „grüne“ Netzwerk 192.168.1.0 und das eigene Netzwerk des Routers 4.4.4.4 angekündigt sind, das „braune“ Netzwerk jedoch in dieser Liste nicht dargestellt ist.  Dies ist der Grund, warum der R5-Router ihn nicht finden kann.  Um dieses Problem zu lösen, wechseln wir in den globalen Einstellungsmodus R3 und geben nacheinander die Befehle für Router ospf 1 und Netzwerk 192.168.3.0 0.0.0.255 Bereich 0 ein. Danach muss der SPF erneut gezählt werden. Wenn Sie den Befehl show ip route erneut in den R3-Einstellungen eingeben, können Sie sehen dass nun das Netzwerk 192.168.3.0/24 in der Routing-Tabelle erschien.  Überprüfen Sie den Ping, aber das Netzwerk ist immer noch nicht verfügbar.  Mal sehen, wie sich der Verkehr des R3-Routers bewegt. <br><br>  Es passiert den R1-Router, tritt in das "grüne" Netzwerk ein und bleibt dort irgendwo hängen.  Überprüfen Sie den R3-Router erneut mit dem Befehl show ip route.  Er kennt das "braune" Netzwerk 192.168.3.0/24 und das "grüne" Netzwerk 192.168.1.0/24, weiß aber nichts über das "rosa" Netzwerk 192.168.5.0/24.  Wir gehen in die Einstellungen des R5-Routers und geben den Befehl show run | ein  Router starten. <br><br><img src="https://habrastorage.org/webt/qv/fa/11/qvfa11rckxpf8mbmp9lxkxzb_ta.jpeg"><br><br>  Wir sehen, dass dieser Router das Netzwerk 192.168.5.0/24 nicht angekündigt hat.  Daher gehen wir in die globalen R5-Konfigurationseinstellungen und geben die Befehle Router OSPF 1 und Netzwerk 192.168.5.0 0.0.0.255 Bereich 0 ein. <br><br>  Ich möchte auf einen wichtigen Punkt hinweisen - hier geben wir die umgekehrte Maske an, aber wenn Sie nur eine Subnetzmaske von 255.255.255.0 eingeben, akzeptiert das System diese.  Dies liegt an der Tatsache, dass OSPF die direkte Maske weiterhin in das Gegenteil konvertiert. Dies wird angezeigt, wenn Sie den Befehl show run erneut ausführen.  Wie Sie sehen können, wurde aus 255.255.255.0 0.0.0.255. <br><br><img src="https://habrastorage.org/webt/cl/ta/4h/clta4hrzhgdtm8w22xtldyq6bv8.jpeg"><br><br>  Es ist jedoch besser, sich daran zu gewöhnen, in diesem Fall nicht die Subnetzmaske zu verwenden, sondern die Platzhaltermaske sofort einzugeben, da Cisco keine Hinweise gibt, was passiert.  Wenn Sie also in der Prüfung die globale Subnetzmaske anstelle der inversen Maske verwenden, wird dies als Fehler angesehen. <br><br>  Daher haben wir in den R5-Einstellungen ein neues Netzwerk eingeführt, das nun auch für den R3-Router verfügbar ist. In der Routing-Tabelle wurde der Eintrag angezeigt, dass das Netzwerk 192.168.5.0/24 über das Gerät mit der IP-Adresse 192.168.1.1 erreichbar ist.  Ping geht vorbei und jetzt funktioniert alles wie es sollte. <br><br>  Machen wir jetzt dasselbe mit dem „gelben“ Netzwerk 192.168.2.0/24.  Wie Sie sehen, können wir mit der IP-Adresse 192.168.2.10 nicht von PC0 nach PC2 pingen.  Dies geschah, weil sich das Netzwerk 192.168.2.0/24 nicht in der Routing-Tabelle des R5-Routers befindet. <br><br>  Wir gehen in die CLI-Konsole von Router R2 und geben den Befehl show ip route ein.  Wir können daraus schließen, dass sobald Ping PC0 bis R5 R2 empfängt, es verworfen wird, weil R2 nichts über das "gelbe" Netzwerk weiß.  Daher kehren wir zu den R2-Einstellungen zurück und verwenden den show run |  Starten Sie den Router und wir sehen, dass das Netzwerk 192.168.2.0/24 nicht angekündigt wird.  Daher gebe ich die globalen Konfigurationseinstellungen dieses Routers ein und gebe den Befehl 192.168.2.0 0.0.0.255 Bereich 0 ein. Danach überprüfe ich erneut den Ping PC0 - PC2.  Wie Sie sehen, hat jetzt alles funktioniert. <br><br>  Kommen wir nun zum nächsten Teil unserer Aufgabe zurück - der Bereitstellung von Ping PC1-PC2.  Gehen wir zur PC1-Befehlszeile und pingen 192.168.2.10 - der Ping ist erfolgreich. <br><br>  Dies ist eine sehr einfache Aufgabe, die Ihnen jedoch dabei hilft, praktische OSPF-Konfigurationsfähigkeiten zu erwerben.  Wenn Sie dieses Beispiel für Laborarbeiten für die Lektion „Tag 46“ nicht heruntergeladen haben, können Sie dies tun, indem Sie über den Link unter diesem Video zum Shop-Bereich unserer Website gehen. <br><br><img src="https://habrastorage.org/webt/h9/2g/yp/h92gypsi-sh-boc5iuhmuceqdoa.jpeg"><br><br>  Nun werden wir mit der Lösung des zweiten Problems fortfahren, dessen Topologie Sie auf dem Bildschirm sehen.  Sie können diese "Tag 47" -Konfiguration für Packet Tracer auch über den Link unter diesem Video herunterladen. <br><br><img src="https://habrastorage.org/webt/h5/wa/zb/h5wazbmf38akblmt-gsgb-t4ajc.jpeg"><br><br>  In dieser Übung müssen wir OSPF mithilfe verschiedener Techniken konfigurieren, die ich Ihnen erläutern werde.  Danach haben wir ein weiteres Labor zur Fehlerbehebung. <br><br>  In diesem Netzwerkbeispiel habe ich bereits die anfänglichen Einstellungen vorgenommen, indem ich den Geräten IP-Adressen zugewiesen habe.  Der obere linke Teil des blauen Netzwerks der Unternehmenszentrale ist mit 192.168.1.0/27 bezeichnet und wird durch die Computer PC0, PC1, Switch SW0 und Router R1 dargestellt.  Die Schnittstelle des Routers, mit dem dieses Netzwerk verbunden ist, hat eine IP-Adresse von 192.168.1.1, Computer haben die Adressen 192.168.1.2 bzw. 192.168.1.3. <br><br><img src="https://habrastorage.org/webt/th/7w/es/th7wesyku-gkps6fevzp6qhxg5a.jpeg"><br><br>  Das untere Segment mit dem PC4-Computer, dem SW3-Switch und dem R1-Router gehört zum Netzwerk 192.168.1.32/27.  Beachten Sie, dass alle Netzwerke die Bezeichnung / 27 haben.  Router 1 ist mit PC4 verbunden, sodass die IP-Adresse der entsprechenden Schnittstelle des Routers 192.168.1.33 und die IP-Adresse des vierten Computers 192.168.1.34 lautet. <br><br><img src="https://habrastorage.org/webt/x_/7v/hu/x_7vhutzhvpeunl-egqmrdn4dfu.jpeg"><br><br>  Das "rosa Netzwerk" der Niederlassung Nr. 1 des Unternehmens wird mit 192.168.1.64/27 bezeichnet. Die IP-Adresse von R2 lautet 192.168.1.65 und die von PC2 lautet 192.168.1.66.  Das "gelbe" Netzwerk "der Niederlassung Nr. 2 des Unternehmens wird mit 192.168.1.96/27 bezeichnet. Die IP-Adresse des R3-Routers lautet 192.168.1.97 und der PC3-Computer lautet 192.168.1.98. <br><br>  Die Schnittstelle des R1-Routers, an den der R2-Router angeschlossen ist, hat eine IP-Adresse von 10.1.12.1.  Jetzt werde ich die Bezeichnungen der Netzwerke zwischen den Routern hinzufügen, damit Sie verstehen. <br><br><img src="https://habrastorage.org/webt/j2/sx/8v/j2sx8vvnh99kv9jirfzrjrovpdk.jpeg"><br><br>  Die IP-Adresse der Schnittstelle des Routers, mit dem das Internet verbunden ist, wird nicht berücksichtigt, da sie vom Anbieter bereitgestellt wird und nicht konfiguriert werden muss. Für die Arbeit in Packet Tracer wird jedoch davon ausgegangen, dass dies 10.1.14.1 ist.  In unserem Fall ist das Internet ein Cluster aus zwei Geräten - dem ISP-Router-Anbieter und dem Google-Server, zwischen denen sich ein Netzwerk 4.4.4.4/8 mit einer Gateway-Adresse 4.4.4.1 befindet. <br><br><img src="https://habrastorage.org/webt/-i/bo/_-/-ibo_-ofp3jx8wkxyjhhtbh1i_s.jpeg"><br><br>  Die Schnittstelle des ISP-Routers, an den R1 angeschlossen ist, hat die Adresse 10.1.14.2.  Sie können diesen Teil des Netzwerks und das hier verwendete Protokoll ignorieren. Wir gehen davon aus, dass das Internet „weiß“, wie es den R1-Router erreicht. <br><br>  Ich habe auch PAT für den R1-Router konfiguriert, sodass jeglicher Datenverkehr des blauen Netzwerks, der an das Internet gesendet wird, mit der IP-Adresse 10.1.14.1 versorgt wird.  Wenn Sie vergessen, was PAT ist, sehen Sie sich das Video an, in dem wir uns mit „überladenem“ NAT oder der Übersetzung von Netzwerkadressen befasst haben. <br>  Das ist alles, was ich vorkonfiguriert habe. Die OSPF-Konfiguration hat nicht funktioniert.  Mal sehen, ob es möglich ist, PC2 von PC0 aus zu pingen.  Es wird wahrscheinlich nicht gelingen, aber ich werde es trotzdem versuchen.  Wie Sie sehen können, hat der Ping nicht bestanden, und das System hat eine Nachricht ausgegeben, dass der Zielhost nicht erreichbar ist.  Dies bedeutet, dass der Router die Route zur Ping-IP-Adresse nicht kennt. <br><br><img src="https://habrastorage.org/webt/zb/jw/vj/zbjwvjiapp-h_zdwn9pxyyj4nzq.jpeg"><br><br>  Dies kann überprüft werden, indem Sie zur CLI-Konsole von R1 gehen und den Befehl show ip route eingeben.  Wir sehen, dass das Netzwerk 192.168.1.64/27 nicht verfügbar ist, da es nicht in der Routing-Tabelle enthalten ist. <br><br><img src="https://habrastorage.org/webt/eq/qm/yn/eqqmynvjustvmtvdxrlbeinawn4.jpeg"><br><br>  Lassen Sie uns OSPF auf diesem Router konfigurieren.  Wir wechseln mit dem Befehl config t (erminal) in den globalen Konfigurationsmodus und geben die Befehle router ospf 1 und network 10.1.12.0 0.0.0.3 ein.  Wie haben wir so eine Umkehrmaske bekommen? <br><br>  Ich entschuldige mich für den Fehler, wir haben kein / 255-Netzwerk, ich meinte die Subnetzmaske, also werde ich jetzt die Netzwerkbezeichnung zwischen R1 und R2 korrigieren - es sollte nicht 10.1.12.0/255 sein, sondern nur die IP-Adresse des Netzwerks 10.1.12.0 und die Subnetzmaske 255.255.255.252.  Jetzt ist klar, warum die umgekehrte Maske wie 0.0.0.3 aussieht. <br><br><img src="https://habrastorage.org/webt/x2/sd/dj/x2sddjnqlslaas-wzgfcb4rmnkq.jpeg"><br><br>  Am Ende des Befehls gebe ich Bereich 0 ein, weil wir eine einzige Hauptzone haben.  Jetzt wird zwischen den Routern R1 und R2 eine OSPF-Kommunikation hergestellt. <br><br>  Eine ähnliche Konfiguration muss durchgeführt werden, um die Kommunikation mit dem R3-Router herzustellen, daher gebe ich den zweiten Befehl ein - Netzwerk 10.1.13.0 0.0.0.3 Bereich 0. Jetzt ist die OSPF-Kommunikation für beide Routen konfiguriert: R1-R2 und R1-R3. <br><br>  Als nächstes müssen Sie die Route R1-SW0 konfigurieren.  Dazu gebe ich den Befehl network 192.168.1.0 0.0.0.31 area 0 ein. Um mit dem SW3-Switch zu kommunizieren, kann ich entweder den analogen Befehl network 192.168.1.32 verwenden oder anders handeln.  Wenn Sie sich die Adressen dieser Netzwerke ansehen, werden Sie feststellen, dass dies eine Fortsetzung eines Blocks von IP-Adressen ist.  Wenn Sie vergessen, wie Subnetze gebildet werden, empfehle ich Ihnen, das Video-Tutorial „Tag 3“ noch einmal zu besuchen.  In diesem Fall kann ich das Supernet verwenden, dh anstelle des Befehls network 192.168.1.0 0.0.0.31 area 0 den Befehl network 192.168.1.0 0.0.0.63 area 0 verwenden, um den Wert des letzten Oktetts der inversen Maske zu erweitern.  Dadurch kann OSPF mit einem Befehl für ein Supernet auf beide Subnetze angewendet werden - R1-SW0 und R1-SW3. <br><br>  Fahren wir mit den Einstellungen von Router R2 fort und geben Sie nacheinander die Befehle config t, router ospf 1, network 192.168.1.64 0.0.0.31 area 0 und network 10.1.12.0 0.0.0.3 area 0 ein. <br>  Als nächstes gehen wir zu den R3-Einstellungen und machen dasselbe, indem wir die Befehlsfolge config t, router ospf 1, network 192.168.1.96 0.0.0.31 area 0 und network 10.1.13.0 0.0.0.3 area 0 verwenden. <br>  Sie können sehen, dass sich der Status der Nachbarschaft von Laden in Vollständig geändert hat, die Routing-Tabellen aktualisiert wurden und die Geräte mit dem OSPF-Protokoll betriebsbereit sind.  Lassen Sie uns dies mit dem Befehl show ip ospf neighbours überprüfen - wie Sie sehen können, wird die Nachbarschaft mit dem R1-Router hergestellt.  Gehen wir nun zu diesem Router und überprüfen, was passiert ist.  Der Router R1 hat die Nachbarschaft mit zwei Routern, R2 und R3, eingerichtet. <br><br>  Versuchen wir, PC2 von PC0 aus zu pingen - das Pingen der IP-Adresse 192.168.1.66 ist erfolgreich.  Wir pingen auch den PC3-Computer unter 192.168.1.98 ohne Probleme an. <br><br>  Ich habe vorhin gesagt, dass der Google Internet Server die Adresse 4.4.4.4 hat.  Nachdem wir versucht haben, es von PC0 aus zu pingen, erhalten wir eine Meldung, dass der Zielhost nicht verfügbar ist.  Dies bedeutet, dass der Router R1 in seiner Routing-Tabelle keine Informationen darüber hat, wie diese Adresse erreicht werden kann. <br><br><img src="https://habrastorage.org/webt/kb/xh/yy/kbxhyyak6dfcbzs1-z_p3u_u898.jpeg"><br><br>  Daher verwirft dieser Router alle an das Internet gesendeten Pakete.  Dies liegt daran, dass das Gateway des Last Resort-Gateways nicht konfiguriert ist.  Um dieses Problem zu lösen, konfiguriere ich die Standardroute und gebe den Befehl ip route 0.0.0.0 0.0.0.0 serial 0/2/0 ein.  Dies bedeutet, dass Pakete, die an Adressen adressiert sind, die nicht in der Routing-Tabelle enthalten sind, entlang dieser Route über die serielle Schnittstelle des 0/2/0-Routers gesendet werden, mit dem das externe Netzwerk verbunden ist.  Sie können nicht auf die Meldung des Systems achten, dass diese Verbindung keine Punkt-zu-Punkt-Verbindung ist. Dies ist nicht der Fall. Nur gemäß den Regeln müsste ich eine IP-Adresse anstelle einer Schnittstelle angeben.  Aber in unserem Fall spielt es keine Rolle, alles wird so funktionieren.  Wie Sie sehen können, pingt PC0 nach Abschluss dieses Setups den Server sicher unter 4.4.4.4 an. <br><br>  Der Datenverkehr geht an den Router und entscheidet wie folgt: „In meiner Routing-Tabelle ist hier keine Zieladresse angegeben, daher muss ich diesen Datenverkehr direkt ins Internet leiten.“  Wir haben den PC0-Verkehr überprüft und jetzt erfahren wir, wie der PC2-Verkehr verläuft.  Wie Sie sehen können, schlägt Ping 4.4.4.4 fehl - der Zielhost ist nicht verfügbar.  Dies bedeutet, dass in der Routing-Tabelle R2 kein entsprechender Eintrag vorhanden ist.  Wenn Sie den Befehl show ip route verwenden, können Sie überprüfen, ob 4.4.4.4 in der Tabelle nicht erwähnt wird.  Wir haben den R1-Router manuell für die Interaktion mit dem Internet konfiguriert, aber für R2 haben wir keine ähnliche Konfiguration durchgeführt. <br><br>  Es gibt zwei Möglichkeiten, um dieses Problem zu lösen.  Der erste besteht darin, in die Einstellungen des Routers zu gehen und dasselbe wie für R1 zu tun.  In diesem Fall haben wir nur zwei Router, und die manuelle Konfiguration der statischen Route verursacht keine großen Unannehmlichkeiten, aber Ihr Büro verfügt möglicherweise über Hunderte solcher Geräte.  Selbst wenn Sie statisches Routing konfigurieren, können sich die Dinge morgen ändern, und die erstellte statische Route funktioniert nicht.  Daher sollten Sie dynamische Einstellungen verwenden.  Aus diesem Grund wird ein dynamisches Routing-Protokoll wie OSPF verwendet. <br><br>  Das dynamische Routing-Setup ist wie folgt.  Im globalen Konfigurationsmodus R1 wird der Befehl route ospf 1 eingegeben, wonach im Unterbefehlsmodus Eingabeaufforderungen angezeigt werden.  Es gibt einen Befehl wie Standardinformationen.  Es wird verwendet, um die Darstellung von Standardinformationen zu steuern. <br><br><img src="https://habrastorage.org/webt/im/77/jw/im77jwp4jcdouoql0p_psp_xwic.jpeg"><br><br>  Wir geben den Befehl show ip route ein und sehen eine Systemmeldung, dass das letzte Warteschlangen-Gateway, das wir statisch konfiguriert haben, 0.0.0.0 für das Netzwerk 0.0.0.0 ist.  Am Ende der Routing-Tabelle sehen wir S *.  Ein Sternchen bedeutet, dass dies der Standardkandidat ist und S eine statische Route ist.  Daher ist 0.0.0.0/0 über Port 0/2/0 die statische Standardroute.  Wenn wir eine solche Route haben, können wir den Befehl default-information? Eingeben. Danach zeigt das System eine Nachricht des Formulars originate an. Verteilen Sie eine Standardroute. <br><br><img src="https://habrastorage.org/webt/rh/6y/jf/rh6yjfgecdcl2lzmbcrfldrsz88.jpeg"><br><br>  Anschließend können Sie den Befehl default-information originate verwenden, dh diese Standardroute für alle OSPF-Netzwerkgeräte verwenden.  Wenn Sie den Befehl show ip route erneut eingeben, können Sie sehen, dass wir jetzt das Gateway zur letzten Warteschlange 10.1.12.1 für das Netzwerk 0.0.0.0 haben. <br><br><img src="https://habrastorage.org/webt/ba/g9/o6/bag9o6bujg3dvxwidaaurg1skkm.jpeg"><br><br>  Dies bedeutet, dass alle Geräte im Netzwerk jetzt ihren Datenverkehr über den R1-Router an das Internet senden können.  Wie Sie sehen, habe ich keine manuellen Einstellungen vorgenommen, OSPF hat alles für mich getan.  Am Ende der Routing-Tabelle befindet sich die Zeile O * E2 - der Buchstabe "O" bedeutet OSPF, "Sternchen" ist der Standardparameter, E2 ist das externe OSPF des zweiten Typs.  Wenn Sie zu den Einstellungen des R3-Routers gehen, können Sie sehen, dass dort auch das Gateway der letzten Warteschlange 10.1.13.1 installiert ist und alle anderen Einstellungen automatisch vorgenommen werden. <br><br><img src="https://habrastorage.org/webt/u3/gz/pb/u3gzpbgxra9c5guoxuexxmrbyj0.jpeg"><br><br>  Wenn Sie jetzt 4.4.4.4 von PC2 aus anpingen, funktioniert alles.  Denken Sie, dass der R2-Router diese Adresse anpingen kann? <br><br>  Natürlich nicht, und das liegt an der Verwendung von PAT.  Wir haben eine Zugriffsliste Zugriffsliste, die nur 192.168.0.0 0.0.255.255 Verkehr zulässt.  Dies bedeutet, dass jeglicher Datenverkehr von Geräten im 192.168-Netzwerk über die PAT- und IP-Adresse 10.1.14.1 erfolgt. <br><br><img src="https://habrastorage.org/webt/7a/pe/ax/7apeaxe6u61rr9s4jmcjbuae148.jpeg"><br><br>  Wenn Sie den Ping des R2-Routers initiieren, welche IP-Adresse fungiert als Anforderungsquelle?  Dies ist wahrscheinlich die Adresse 10.1.12.2, da die IP-Adresse des Routers R2 nicht in der NAT-Zugriffsliste enthalten ist.  Ein Ping von dieser Adresse erreicht den ISP-Router, leitet ihn an die Adresse 4.4.4.4 weiter und der Google-Server sendet eine Antwort an dieselbe Adresse, von der er die Anfrage erhalten hat, d. H. 10.1.12.2.  Die Routing-Tabelle des ISP-Routers enthält jedoch keine Informationen zu 10.1.12.2, da es sich um eine private IP-Adresse im internen Netzwerk handelt.  Er kennt nur die Adresse 10.1.14.0, da er mit dieser Adresse direkt mit dem Gerät verbunden ist.  So funktioniert PAT - diese Adresse ist allen Geräten im Netzwerk zugeordnet. Wenn 10.1.14.0 angegeben ist, funktioniert alles. Wenn Sie jedoch eine andere IP-Adresse verwenden, wird die Kommunikation unmöglich.  Um dies zu beheben, müssen Sie in die R1-Einstellungen gehen und die Zugriffsliste zur Adresse 10.1.12.0 hinzufügen.  Ich möchte Ihnen noch etwas zeigen und dazu gebe ich in den R2-Einstellungen den Befehl show ip route ein. <br><br><img src="https://habrastorage.org/webt/9y/g_/hc/9yg_hcx6c-gvia5kp3mf7xhlftm.jpeg"><br><br>  Bitte beachten Sie, dass 2 Routen - 192.168.1.0/27 und 192.168.1.32/27 - genau die gleichen Parameter haben.  Das heißt, trotz der Tatsache, dass wir ein Supernetz verwendet haben, das zwei Subnetze addiert, wird jedes von ihnen in der Routing-Tabelle aktualisiert.  Stellen Sie sich vor, dass in Ihrem blauen Bereich nicht zwei, sondern hundert Netzwerke vorhanden sind.  Gleichzeitig führen alle Geräte den SPF-Algorithmus in derselben Zone aus, und 100 Einträge werden in der Routing-Tabelle angezeigt, was viel Platz beansprucht, obwohl sie fast dieselbe Route beschreiben.  Als Netzwerkadministrator sollten Sie jedoch daran interessiert sein, dass der Router so wenig unnötige Arbeit wie möglich erledigt. <br><br>  Die Informationen werden aktualisiert, da OSPF im Gegensatz zu RIP keine automatische Zusammenfassung von Routen verwendet und immer individuelle Routen für jedes Netzwerkgerät erstellt.  Eine Möglichkeit, dieses Problem zu lösen, ist Multizoning.  In den letzten drei Lektionen haben wir angenommen, dass sich alle Geräte in einer Null-Backbone-Zone befinden.  Wenn wir jedoch mehrere Zonen erstellen, wird der R1-Router zu einem Grenzgerät, auf dessen einer Seite Null steht und auf der anderen Seite alle anderen Netzwerkzonen.  Mit dem ABR Edge Router können Sie Routen zusammenfassen.  In diesem Fall sendet der Grenzrouter eine zusammenfassende Route an alle am OSPF-Prozess beteiligten Router.  Im nächsten Video werden wir uns mit der Erstellung mehrerer OSPF-Routingzonen befassen. Im Moment gebe ich nur den Grund an, warum dies ratsam ist. <br><br>  Der zweite Grund ist wie folgt.  Ich gebe den Befehl show ip ospf in den Einstellungen des R2-Routers ein und in der angezeigten Parameterbeschreibung sehen Sie die Erwähnung des SPF-Algorithmus. <br><br><img src="https://habrastorage.org/webt/-7/4i/wv/-74iwvc5x1ovqvrs6ygbm0glffc.jpeg"><br><br>  Jede Änderung an der LSDB-Routendatenbank bedeutet, dass sich die Netzwerktopologie geändert hat.  In diesem Fall berechnet der SPF-Algorithmus alle verfügbaren Routen neu, um sicherzustellen, dass jede der ausgewählten Routen die beste ist.  Sie können die Analogie mit der neuen Autobahn verwenden, die die Verwendung alter Straßen irrelevant macht.  Daher führt OSPF bei jeder LSDB-Änderung einen Algorithmus aus, der die Routen erneut aufzählt und die Routing-Tabelle wieder auffüllt. <br><br>     ,   SPF   5 .        ,     .   ,   SW0   SW3.    R1    . <br><br><img src="https://habrastorage.org/webt/1k/vi/jg/1kvijguvm-16rzd6trkh0xmu5qm.jpeg"><br><br>      ,         192.168.1.0/27.   R1    LSA     ,         ,     R2. ,   . <br><br>      R2    show ip route.   ,  SPF-   6 .   ,           .  ,          ,      .   SPF-.     LSDB  ,       .       100  200 ,      ,    . <br><br>     ,   SW0   R1.  , SPF-         7. <br><br>              ,       .      ,    .     2 :  «»   «»,   ABR –     0   1,      ,     .  R2     ,      0,        R1.  ,       , SPF-  R2   . <br>  2  ,         OSPF.     ,    . <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/NcgyEplA85I" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Vielen Dank für Ihren Aufenthalt bei uns.  Gefällt dir unser Artikel?  Möchten Sie weitere interessante Materialien sehen?  Unterstützen Sie uns, indem Sie eine Bestellung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">aufgeben</a> oder Ihren Freunden empfehlen, einen <b>Rabatt von 30% für Habr-Benutzer auf ein einzigartiges Analogon von Einstiegsservern, das wir für Sie erfunden haben:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die ganze Wahrheit über VPS (KVM) E5-2650 v4 (6 Kerne) 10 GB DDR4 240 GB SSD 1 Gbit / s von $ 20 oder wie teilt man den Server?</a>  (Optionen sind mit RAID1 und RAID10, bis zu 24 Kernen und bis zu 40 GB DDR4 verfügbar). <br><br>  <b>Dell R730xd 2 mal günstiger?</b>  Nur wir haben <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2 x Intel TetraDeca-Core Xeon 2x E5-2697v3 2,6 GHz 14C 64 GB DDR4 4 x 960 GB SSD 1 Gbit / s 100 TV von 199 US-Dollar</a> in den Niederlanden!</b>  <b><b>Dell R420 - 2x E5-2430 2,2 GHz 6C 128 GB DDR3 2x960 GB SSD 1 Gbit / s 100 TB - ab 99 US-Dollar!</b></b>  Lesen Sie mehr über <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">den Aufbau eines Infrastrukturgebäudes.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Klasse mit Dell R730xd E5-2650 v4 Servern für 9.000 Euro für einen Cent?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de466675/">https://habr.com/ru/post/de466675/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de466665/index.html">CSS-Überlauf und Datenverlust</a></li>
<li><a href="../de466667/index.html">Die Verdauung von frischen Materialien aus der Welt des Frontends für die letzte Woche Nr. 379 (2. - 8. September 2019)</a></li>
<li><a href="../de466669/index.html">Tesla entwickelt Batterien, die 1,6 Millionen km ohne Ersatz laufen können</a></li>
<li><a href="../de466671/index.html">PHP Digest Nr. 164 (27. August - 9. September 2019)</a></li>
<li><a href="../de466673/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 46. OSPF-Leistungsprüfung</a></li>
<li><a href="../de466677/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 48. OSPF Multizone</a></li>
<li><a href="../de466679/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 49. Einführung in EIGRP</a></li>
<li><a href="../de466681/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 50. EIGRP konfigurieren</a></li>
<li><a href="../de466683/index.html">Digitale Veranstaltungen in Moskau vom 9. bis 15. September</a></li>
<li><a href="../de466685/index.html">Geld sehen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>