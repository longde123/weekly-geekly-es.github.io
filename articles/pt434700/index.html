<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí¶ üê¥ üõåüèº Vantagens de seguir as guias de estilo ao desenvolver aplicativos Angular ‚¨ÖÔ∏è ü§òüèø üèπ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="No final de 2018, o Panda-Meetup # 9 Frontend ocorreu em Samara. Nesse evento, tentei assumir um novo papel e fiz uma apresenta√ß√£o. Meu nome √© Evgeny ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Vantagens de seguir as guias de estilo ao desenvolver aplicativos Angular</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/psb/blog/434700/">  No final de 2018, o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Panda-Meetup # 9 Frontend</a> ocorreu em Samara.  Nesse evento, tentei assumir um novo papel e fiz uma apresenta√ß√£o.  Meu nome √© Evgeny Kholmov.  Eu vim para programar h√° mais de 10 anos, como estudante.  Nos √∫ltimos 5 anos, desenvolvo sistemas de servi√ßos remotos nos principais bancos russos, dos quais dois anos como gerente.  Durante esse per√≠odo, participei da cria√ß√£o de v√°rios aplicativos corporativos russos, passando por espinhos de solu√ß√µes pesadas de arquitetura, integra√ß√£o e processos.  Com base na minha experi√™ncia no desenvolvimento de v√°rios grandes bancos da Internet, eu disse aos convidados do mitap que benef√≠cio seria se voc√™ seguisse as regras de um bom estilo de desenvolvimento.  As figuras dubladas impressionaram a plat√©ia.  Os participantes da reuni√£o literalmente me sobrecarregaram de perguntas.  √â poss√≠vel que entre os leitores de Habr√© este t√≥pico encontre uma resposta animada. <br><br><img src="https://habrastorage.org/webt/dg/oy/ou/dgoyou_yhvh6nzo65shrybtvlgw.jpeg"><br><a name="habracut"></a><br>  Voc√™ pode assistir ao v√≠deo da minha apresenta√ß√£o no Youtube. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/0WHW37Wif54" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  E para os cidad√£os de Khabrovsk, preparei uma vers√£o em texto do meu relat√≥rio. <br><br>  Estudando problemas de legibilidade do c√≥digo, deparei-me com o StackOverflow sobre um t√≥pico curioso.  Ele discutiu a import√¢ncia do c√≥digo leg√≠vel para os neg√≥cios e se o desempenho e a corre√ß√£o s√£o mais importantes.  Como resultado, de acordo com os membros da comunidade, o crit√©rio mais importante foi a legibilidade do c√≥digo. <br><br>  Naquela √©poca, eu n√£o estava interessado em problemas de legibilidade de c√≥digo - estava desenvolvendo o pr√≥ximo banco da Internet.  O frontend usou HTML5, AngularJS, LESS.  O projeto foi desenvolvido para um dos maiores bancos da R√∫ssia.  Eu mudei para esse projeto no Promsvyazbank, onde desenvolvi um banco de Internet muito semelhante: o mesmo segmento de clientes, o mesmo n√∫mero de usu√°rios, quase a mesma pilha de tecnologia (HTML5, AngularJS, SCSS).  Mas, apesar da forte semelhan√ßa dos projetos, a transi√ß√£o para mim foi muito dif√≠cil.  √â tudo sobre estilo.  O c√≥digo para esses projetos era muito diferente em design e legibilidade geral.  Se no Promsvyazbank os desenvolvedores seguiram rigorosamente as diretrizes, no novo projeto n√£o havia regras de estilo claras. <br><br>  Foi ent√£o que eu pude entender (e at√© calcular) quais benef√≠cios um grande projeto traz para guias r√≠gidos de estilo.  Ap√≥s analisar os custos de desenvolvimento do meu novo projeto, cheguei √† mesma conclus√£o que os leitores do StackOverflow: a legibilidade √© o crit√©rio mais importante. <br><br><img src="https://habrastorage.org/webt/1u/o1/t3/1uo1t3d4w8n2qhm-61tyob1cn0c.png"><br><br><h3>  Regras de bom estilo </h3><br>  Para o AngularJS e o Angular 2+, um especialista bem conhecido no mundo do desenvolvimento de front-end, John Papa, criou guias de estilo que descrevem as regras de bom estilo ao desenvolver aplicativos Angular.  Trabalhando no Promsvyazbank, aprendi sobre esses guias de estilo.  A equipe os seguiu claramente em todos os projetos.  Mas no novo projeto, o c√≥digo veio de empreiteiros que n√£o pensavam t√£o seriamente sobre o estilo de programa√ß√£o.  Com minha nova equipe, me deparei com tarefas di√°rias que eu j√° havia resolvido anteriormente.  No entanto, isso n√£o me deu nenhuma vantagem, mas apenas dor e sofrimento. <br><br>
<h3>  Uma hist√≥ria de tempo perdido ou por que precisamos de todas essas regras </h3><br>  O guia de estilo de John Papa lista muitas regras.  List√°-los repetidamente n√£o faz sentido, eles est√£o perfeitamente definidos na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">fonte original</a> .  Limitarei-me a apenas alguns exemplos que demonstram de maneira colorida os benef√≠cios das recomenda√ß√µes de especialistas. <br><br><h3>  Vamos come√ßar com um simples </h3><br>  Estudo de caso.  Os usu√°rios do banco da Internet exibiam taxas de c√¢mbio irrelevantes.  Foi-me dada a tarefa de carregar os cursos atuais no momento da opera√ß√£o.  Eu esperava ver o c√≥digo respons√°vel pelo carregamento das taxas de c√¢mbio em servi√ßos e componentes.  Mas, √© claro, ele n√£o estava l√° (caso contr√°rio, eu n√£o teria nada para escrever).  Verificou-se que as taxas de c√¢mbio foram extra√≠das e filtradas no n√≠vel inicial do aplicativo, no arquivo app.run, ap√≥s o qual foram colocadas no Session Storage.  Claramente, essa n√£o √© a melhor abordagem.  Al√©m disso, para resolver o problema, o c√≥digo precisava ser retirado de l√°.  Demorou um dia inteiro para concluir uma tarefa simples. <br><br>  Agora, observe a regra de Bootstrapping (estilo 02-05) no guia de estilos. <br><br>  Coloque o c√≥digo que serve para iniciar o aplicativo em um arquivo separado e n√£o coloque a l√≥gica do aplicativo nesse arquivo.  A l√≥gica deve ser colocada em servi√ßos e componentes. <br><br><h3>  Milh√µes de exemplos </h3><br>  Como voc√™ pode ver acima, negligenciar apenas uma regra pode causar problemas.  Mas teremos consequ√™ncias realmente s√©rias se n√£o ouvirmos v√°rias recomenda√ß√µes ao mesmo tempo. <br><br>  Estudo de caso.  Nossa equipe recebeu a tarefa: para pagamentos de moradia e servi√ßos comunit√°rios, adicione a possibilidade de incluir valores de seguro volunt√°rio no pagamento.  No frontend, isso se resumia a uma tarefa simples: colocar uma caixa de sele√ß√£o no formul√°rio, cuja inclus√£o adicionaria um custo de seguro ao valor do pagamento.  No Promsvyazbank, lidamos com uma tarefa semelhante muito rapidamente.  Mas no novo projeto, tudo deu errado. <br><br>  Devido ao fato de o c√≥digo do m√≥dulo de pagamento ter sido extremamente mal organizado, a decis√£o durou meses.  Em busca da op√ß√£o mais adequada, adiamos essa tarefa v√°rias vezes e a realizamos novamente.  E o banco, entretanto, teve dificuldades com os pagamentos em favor da habita√ß√£o e dos servi√ßos comunit√°rios.  Por fim, √© claro que lidamos com o problema.  Mas eu queria saber quanto c√≥digo ruim pode custar uma organiza√ß√£o pelo exemplo de uma tarefa t√£o simples.  Calculei quanto tempo todos os especialistas envolvidos na solu√ß√£o do problema foram gastos.  Armado com estat√≠sticas sobre sal√°rios m√©dios.  Eu calculei e arredondei as perdas associadas.  Como resultado, cheguei √† conclus√£o de que, se tiv√©ssemos um c√≥digo inicialmente bom no m√≥dulo de pagamento, economizar√≠amos pelo menos 5 milh√µes de rublos. <br><br>  Verificando o guia de estilo de John Papa, vi que nosso m√≥dulo violou v√°rias regras de bom c√≥digo de uma s√≥ vez.  Tendo estimado o grau de influ√™ncia de cada uma dessas regras, identifiquei tr√™s, cuja viola√ß√£o, acima de tudo, atrasou nosso trabalho: <br><br><ul><li>  Regra √önica - Reduzi 25% do tempo perdido por violar essa regra; </li><li>  Responsabilidade √∫nica - o desvio desse princ√≠pio contribuiu para a perda total de 35%; </li><li>  LIFT - viola√ß√£o deste grupo de abordagens, acho que 40% de n√≥s fomos os que mais desaceleraram. </li></ul><br><img src="https://habrastorage.org/webt/pg/_t/fs/pg_tfsk-jr0igllmipxnj-3ss5o.png"><br><br><h3>  Regra de um </h3><br>  Nosso banco on-line suportava muitos pagamentos, alguns dos quais em seu modelo eram completamente diferentes.  No entanto, os programadores tentaram criar um formul√°rio de pagamento "universal" que possa funcionar com todas as op√ß√µes de pagamento. <br>  No pr√≥prio formul√°rio, muitos blocos diferentes foram criados, que foram mostrados em algumas condi√ß√µes e nunca em outras.  Ao mesmo tempo, eles eram atendidos por uma l√≥gica comum, que inflava bastante o ViewModel'i. <br><br>  Como resultado, tudo isso levou ao fato de que, se algo foi adicionado em um lugar, inevitavelmente caiu em outro.  A princ√≠pio, verificou-se que a escolha da caixa de sele√ß√£o n√£o alterou o valor.  Tentamos corrigir o campo da quantidade.  Mas tornou-se n√£o edit√°vel em todos os outros tipos de pagamento.  Tentamos substituir o campo da quantidade por um novo.  Mas a l√≥gica geral da valida√ß√£o caiu: a caixa de sele√ß√£o funciona, mas o bot√£o de pagamento n√£o est√° dispon√≠vel.  Entrou em uma situa√ß√£o semelhante? <br><br>  Agora vamos ver o que a regra da regra de um diz. <br><br>  Cada elemento individual, como um componente ou servi√ßo, deve ser colocado em um arquivo separado.  Voc√™ precisa garantir que o arquivo n√£o cres√ßa.  Se o n√∫mero de linhas de c√≥digo exceder um n√∫mero m√°gico de 400, este √© um sinal claro de que vale a pena quebrar o componente. <br><br><h3>  Responsabilidade √∫nica </h3><br>  Quando terminamos com o pr√≥prio formul√°rio, as fun√ß√µes que estavam fora do formul√°rio pararam de funcionar.  Por exemplo, o trabalho com rascunhos de pagamento foi danificado.  Erros apareceram no hist√≥rico de opera√ß√µes.  E isso aconteceu porque outros componentes al√©m do formul√°rio de pagamento estavam vinculados ao modelo e ao controlador de pagamento do formul√°rio.  Pior ainda foi o fato de uma tentativa de reparar essa funcionalidade nos devolver um formul√°rio de pagamento quebrado. <br>  Est√°vamos lidando com o caso cl√°ssico de viola√ß√£o de responsabilidade √∫nica.  Esse princ√≠pio h√° muito foi inclu√≠do no conjunto de programadores experientes do cavalheiro.  E seu guia de estilo recomenda explicitamente us√°-lo no desenvolvimento de aplicativos Angular. <br><br>  Aplique o princ√≠pio de responsabilidade √∫nica (SRP). <br><br><h3>  ELEVADOR </h3><br>  A coisa mais inconveniente com a qual tive que lidar foi navegar no pr√≥prio projeto.  A l√≥gica estava espalhada por v√°rios arquivos, combinados em uma hierarquia incompreens√≠vel de heran√ßa e delega√ß√£o.  Dos nomes desses arquivos, seu objetivo n√£o foi seguido.  Os arquivos est√£o em pastas diferentes.  Em algumas pastas, por exemplo, Controladores, entre dezenas de outros arquivos, o tempo todo eu precisava procurar aqueles que s√£o necess√°rios no momento.  O n√∫mero de guias abertas no ambiente de desenvolvimento n√£o se encaixava na tela do computador e na minha cabe√ßa.  Durante a depura√ß√£o, atingindo o en√©simo componente da conta, j√° esqueci o caminho e por que vim aqui.  De tempos em tempos, era necess√°rio realizar uma engenharia reversa completa com o depurador ativado para descobrir em qual pasta do projeto o arquivo com qualquer funcionalidade espec√≠fica estava localizado.  A sensa√ß√£o acumulada de √≥dio pelo c√≥digo emba√ßou seus olhos e o distraiu do trabalho. <br><br>  O guia de estilo inteligente tamb√©m conhece esse problema.  Para resolv√™-lo, um grupo de regras LIFT foi criado.  LIFT significa localizar, identificar, plano e tentar ficar seco.  De acordo com os princ√≠pios do LIFT, √© necess√°rio organizar a estrutura do projeto de forma que: <br><br><ul><li>  ficou claro onde colocar novos componentes e onde procurar por componentes existentes (Localize); </li><li>  ficou claro o objetivo do componente pelo nome do arquivo (Identify); </li><li>  foi f√°cil navegar pelas pastas, use a estrutura mais plana para elas (Flat); </li><li>  Tente n√£o repetir seu c√≥digo, mas n√£o √† custa de outras regras (tente ficar SECO). </li></ul><br><h3>  A abordagem LIFT √© complementada por mais duas regras. </h3><br>  As diretrizes estruturais gerais oferecem a cria√ß√£o de uma pasta para cada componente individual e agrupam todos os arquivos relacionados a esse componente.  Por exemplo, √© mais conveniente quando o arquivo payment-form.controller.js n√£o est√° na pasta Controllers, mas na pasta da forma de pagamento, juntamente com payment-form.html e payment-form.css. <br><br>  A estrutura de pastas por recurso recomenda criar pastas separadas com os nomes correspondentes para recursos e √°reas de assunto do projeto.  De acordo com essa regra, a pasta da forma de pagamento mencionada acima deve estar na pasta de pagamentos, juntamente com outros componentes necess√°rios para trabalhar com pagamentos. <br><br>  Como resultado, se os autores do c√≥digo seguissem as regras LIFT, a estrutura do projeto seria algo como isto: <br><br><img src="https://habrastorage.org/webt/s5/ls/mr/s5lsmrcnizyozt0c2t15o2i5pby.png"><br><br>  Concordo, esta op√ß√£o para organizar o c√≥digo √© muito mais conveniente para o leitor.  E ele economizaria muito tempo para toda a equipe. <br><br><h3>  Bons programadores v√£o ao bar </h3><br>  Espero que os exemplos acima pare√ßam convincentes o suficiente para que o leitor, que ainda n√£o havia pensado no estilo de programa√ß√£o, desejasse examinar a diretriz.  Em geral, o c√≥digo bem lido e mantido beneficia n√£o apenas o or√ßamento do projeto, mas tamb√©m o pr√≥prio programador.  O c√≥digo leg√≠vel √© mais f√°cil de revisar.  Se voc√™ precisar da ajuda de colegas, eles entender√£o rapidamente o c√≥digo leg√≠vel.  Se voc√™ √© apenas um especialista iniciante, a legibilidade do c√≥digo √© a primeira coisa em que voc√™ precisa trabalhar.  Mesmo se voc√™ escrever um c√≥digo super-correto e perfeitamente otimizado, mas absolutamente ileg√≠vel e sem suporte, certamente ser√° respeitado na equipe, mas n√£o ser√° convidado para o bar depois do trabalho. <br><br>  Se esse texto fez voc√™ pensar em algo ou lembrou algo dolorosamente familiar, ficarei feliz em v√™-lo nos coment√°rios do post. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt434700/">https://habr.com/ru/post/pt434700/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt434690/index.html">Sistema operacional Haiku: portando aplicativos e criando pacotes</a></li>
<li><a href="../pt434692/index.html">As 25 startups mais caras dos EUA a morrer em 2018</a></li>
<li><a href="../pt434694/index.html">Vis√£o geral do NeurIPS-2018 (ex. NIPS)</a></li>
<li><a href="../pt434696/index.html">Funcion√°rios de gigantes de TI descobriram como influenciar as pol√≠ticas de suas empresas</a></li>
<li><a href="../pt434698/index.html">Pessimismo sobre multithreading</a></li>
<li><a href="../pt434702/index.html">Por que o SSD moderno me trava</a></li>
<li><a href="../pt434704/index.html">Raz√µes para o decl√≠nio no custo do tr√°fego m√≥vel na R√∫ssia e a previs√£o para 2019</a></li>
<li><a href="../pt434706/index.html">UDB. O que √© isso? Parte 3. Datapath FIFO</a></li>
<li><a href="../pt434708/index.html">HL 2018. Resumo do relat√≥rio ‚ÄúTorne as senhas √≥timas novamente! Como vencer a for√ßa bruta e deixar os hackers sem nada ‚Äù</a></li>
<li><a href="../pt434710/index.html">Blog RUVDS sobre Habr: ano em tr√™s</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>