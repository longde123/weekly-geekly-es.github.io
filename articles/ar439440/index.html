<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍🤝‍👨🏽 🙎🏼 🤙 تطبيق Zimbra Collaboration مفتوح المصدر ، والتخويل عبر م ، وإنشاء صناديق البريد تلقائيًا 👩‍🚀 😰 🛀🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="1. مصدر البيانات 
 خادم نظام التشغيل : CentOS 7 

 حول نظام التشغيل  في الواقع ، فإن الفرق بين CentOS7 وأي نظام آخر يكمن فقط في أوامر الخادم لتثبيت ال...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>تطبيق Zimbra Collaboration مفتوح المصدر ، والتخويل عبر م ، وإنشاء صناديق البريد تلقائيًا</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439440/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/tl/fg/oj/tlfgoj8_4wwdpcdcj5n8ndx2pu0.png" alt="الصورة"><br><br><h2 style=";text-align:right;direction:rtl">  1. مصدر البيانات </h2><br>  <i>خادم نظام التشغيل</i> : CentOS 7 <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">حول نظام التشغيل</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"> في الواقع ، فإن الفرق بين CentOS7 وأي نظام آخر يكمن فقط في أوامر الخادم لتثبيت التبعيات ، وربما موقع بعض الملفات.  يتم تنفيذ العمل بشكل أساسي باستخدام أوامر cmdlets من طراز Zimbra ، بحيث تكون فروق التكوين ضئيلة للغاية. <br></div></div><br>  <i>مجال ويندوز</i> : home.local <br>  <i>عنوان خادم البريد والاسم</i> : 10.40.0.80 / zimbramail.home.local <br>  <i>المستخدم للوصول إلى الدليل م</i> : ZimbraLDAP بكلمة مرور qwe123 <br><br><h2 style=";text-align:right;direction:rtl">  2. مطبات </h2><br>  عملية التثبيت من زيمبرا نفسها بسيطة جدا.  تحتاج إلى تثبيت حزم تابعة وتنزيل الأرشيف وتشغيل البرنامج النصي والإجابة على أسئلة المثبت بشكل صحيح.  ولكن ، مثل كل مكان آخر ، هناك بعض الصعوبات الصغيرة. <br><br>  1) Zimbra هو اسم المضيف الحساسة.  أول شيء يجب القيام به قبل التثبيت هو إحضار الملف / etc / hosts إلى النموذج: <br><br><pre style=";text-align:right;direction:rtl"><code class="bash hljs">127.0.0.1 localhost.localdomain localhost 10.40.0.80 zimbramail.home.local zimbramail</code> </pre> <br>  2) بدون الوصول إلى الإنترنت ، لن تحدث المعجزة.  إذا لم يكن هناك إمكانية الوصول إلى الإنترنت ، فسيتم تجميد البرنامج النصي لمدة 20-40 دقيقة ، ونتيجة لذلك ، سينتهي بخطأ ما.  يبدو الأمر ، لماذا نحتاج إلى خادم بريد دون الوصول إلى الإنترنت ، ولكن "هذا لا يحدث في العالم الفرعي". <br><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  3. التثبيت المباشر </h2><br>  حتى هذه النقطة! <br><br>  1) تركيب التبعيات: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ yum install perl perl-core ntpl nmap sudo libidn gmp libaio libstdc++ unzip sysstat sqlite wget</code> </pre> <br>  2) تنزيل الأرشيف: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ wget https://files.zimbra.com/downloads/8.8.11_GA/zcs-8.8.11_GA_3737.RHEL7_64.20181207111719.tgz</code> </pre> <br>  3) قم بفك ضغط الأرشيف الذي تم تنزيله ، انتقل إلى الدليل وابدأ التثبيت: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ tar –xzf zcs-8.8.11_GA_3737.RHEL7_64.20181207111719.tgz $ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> zcs-8.8.11_GA_3737.RHEL7_64.20181207111719 $ ./install.sh --platform-override</code> </pre> <br>  4) الموافقة على اتفاقية الترخيص واستخدام مستودع Zimbra: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">Do you agree with the terms of the software license agreement? [N] Y Use Zimbra<span class="hljs-string"><span class="hljs-string">'s package repository [Y] Y</span></span></code> </pre> <br>  5) حدد المكونات الضرورية وتأكيد التغيير: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">عرض النص</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">Select the packages to install Install zimbra-ldap [Y] Y Install zimbra-logger [Y] Y Install zimbra-mta [Y] Y Install zimbra-dnscache [Y] N Install zimbra-snmp [Y] Y Install zimbra-store [Y] Y Install zimbra-apache [Y] Y Install zimbra-spell [Y] Y Install zimbra-memcached [Y] Y Install zimbra-proxy [Y] N The system will be modified. Continue? [N] Y</code> </pre> </div></div><br>  6) بعد ذلك ، تحتاج إلى إدخال كلمة مرور المسؤول عن Zimbra: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">عرض النص</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">Main menu 1) Common Configuration: 2) zimbra-ldap: Enabled 3) zimbra-logger: Enabled 4) zimbra-mta: Enabled 5) zimbra-snmp: Enabled 6) zimbra-store: Enabled +Create Admin User: yes +Admin user to create: admin@zimbramail.home.local ******* +Admin Password UNSET +Anti-virus quarantine user: virus-quarantine.2hwbbw7msh@zimbramail.ciam.local +Enable automated spam training: yes +Spam training user: spam.jedk1fhggz@zimbramail.home.local +Non-spam(Ham) training user: ham.y4nb2o4bt@zimbramail.home.local +SMTP host: zimbramail.home.local +Web server HTTP port: 8080 +Web server HTTPS port: 8443 +Web server mode: https +IMAP server port: 7143 +IMAP server SSL port: 7993 +POP server port: 7110 +POP server SSL port: 7995 +Use spell check server: yes +Spell server URL: http:// zimbramail.home.local :7780/aspell.php +Enable version update checks: TRUE +Enable version update notifications: TRUE +Version update notification email: admin@zimbramail.home.local +Version update <span class="hljs-built_in"><span class="hljs-built_in">source</span></span> email: admin@zimbramail.home.local +Install mailstore (service webapp): yes +Install UI (zimbra,zimbraAdmin webapps): yes 7) zimbra-spell: Enabled 8) zimbra-proxy: Enabled 9) Default Class of Service Configuration: s) Save config to file x) Expand menu q) Quit Address unconfigured (**) items (? - <span class="hljs-built_in"><span class="hljs-built_in">help</span></span>) 6 Select, or <span class="hljs-string"><span class="hljs-string">'r'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> previous menu [r] 4 Password <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> admin@example.com (min 6 characters): [MFSPcRW18] qwe123</code> </pre> <br></div></div><br>  بقية هذه القائمة لا تهمنا كثيرًا.  لكن.  بشكل افتراضي ، ستقوم Zimbra بإنشاء مجال داخلي خاص بها في صورة ومثال zmhostname الخاص به (اقرأ اسم المضيف) ، أي أنه سيكون zimbramail.home.local للنطاق.  يناسبني هذا الخيار ، إذا لم تكن كذلك ، ويجب أن يتوافق اسم المجال تمامًا مع [home.local] ، فنوصيك على الفور بتغيير العناوين لتلقي إشعار تحديث الإصدار ومصدر تحديث الإصدار إلى admin@home.local <br><br>  7) هنا تحتاج إلى النقر فوق الزر [a] لتطبيق التغييرات ، ثم توافق على حفظ التكوين إلى ملف واضغط على [Enter] مرة أخرى لمتابعة التثبيت. <br><br>  لم يتعطل النظام بعد كلمة "تم" ، بل ينتظر مفتاحًا للضغط عليه. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">عرض النص</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">Select from menu, or press <span class="hljs-string"><span class="hljs-string">'a'</span></span> to apply config (? - <span class="hljs-built_in"><span class="hljs-built_in">help</span></span>) a Save configuration data to a file? [Yes] Save config <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> file: [/opt/zimbra/config.10925] Saving config <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> /opt/zimbra/config.10925...done.</code> </pre> <br></div></div><br>  بعد ذلك ، يعمل البرنامج النصي للتثبيت ، وبعد ذلك يعرض للضغط على أي مفتاح للمتابعة <br><br>  8) بعد اكتمال التثبيت ، تحتاج إلى فتح المنافذ المطلوبة في جدار الحماية.  يمكن العثور على قائمة المنافذ في المطور Wiki على <br><br>  9) أوصي بشدة أن تتأكد من أن Zimbra قد فهمت كل شيء بشكل صحيح ، وأن اسمها zmhostname يطابق اسم مضيف الخادم: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ su – zimbra $ zmhostname zimbramail.home.local</code> </pre> <br>  إذا كان الاسم غير متطابق ، فقم بما يلي: <br><br>  أ) أولاً ، تحقق مما إذا كانت هناك سجلات A و MX في DNS للحصول على zmhostname الجديد الخاص بنا ، إن لم يكن ، قم بإنشائها <br><br>  ب) <pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ su – zimbra /opt/zimbra/libexec/zmsetservername -n [servername]</code> </pre> <br>  ج) نقوم بتنظيف zmloggerhostmap: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ zmloggerhostmap</code> </pre> <br>  يسرد هذا الأمر كل خريطة اسم المضيف. <br><br>  حذف حسب الأمر: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ zmloggerhostmap -d localhost localhost.localdomain</code> </pre> <br>  حيث يجب استبدال localhost و localhost.localdomain بسطر من قائمة خريطة اسم المضيف <br>  ثم أعد تشغيل Zimbra <br><br>  10) نبدأ الخادم: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ su – zimbra $ zmcontrol start</code> </pre> <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">عرض النص</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"> Host zimbramail.home.local Starting zmconfigd...Done. Starting logger...Done. Starting mailbox...Done. Starting memcached...Done. Starting proxy...Done. Starting amavis...Done. Starting antispam...Done. Starting antivirus...Done. Starting opendkim...Done. Starting snmp...Done. Starting spell...Done. Starting mta...Done. Starting stats...Done. Starting service webapp...Done. Starting zimbra webapp...Done. Starting zimbraAdmin webapp...Done. Starting zimlet webapp...Done.</code> </pre> </div></div><br>  يتوفر الخادم الآن على <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https: //zimbramail.home.local: 7071</a> <br><br><img src="https://habrastorage.org/webt/t7/qh/w1/t7qhw1k1h7tdf5lm0gnblup-lsu.png" alt="الصورة"><br><br>  11) لتتمكن من الوصول إلى الخادم عبر https و http ، نقوم بما يلي: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ su – zimbra $ zmtlsctl both $ zmcontrol restart</code> </pre> <br>  12) بالنسبة لأولئك الذين ليس لديهم إمكانية الوصول إلى الإنترنت ، أو إذا كان الخادم يعيش خلف NAT ، فستظل بحاجة إلى تسجيل الأمر: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ su – zimbra $ zmprov ms zimbramail.home.local zimbraMtaLmtpHostLookup native $ zmcontrol restart</code> </pre> <br>  zmprov هي أداة مساعدة لإدارة إعدادات الخادم ، سنظل بحاجة إليها عندما نحتاج إلى تكوين الإنشاء التلقائي لصناديق البريد والنسخ الاحتياطي والاسترداد ، وكذلك إنشاء وتحديث قوائم البريد تلقائيًا.  ولكن أكثر على ذلك في وقت لاحق. <br><br>  13) يتم حل مشكلة الشهادة الموقعة ذاتياً عن طريق استيراد الشهادة إلى الخادم من المرجع المصدق الخاص بك. <br><br>  أو عن طريق تصدير شهادة من خادم Zimbra: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /opt/zimbra/ssl/zimbra/ca $ openssl x509 -<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ca.pem -outform DER -out ~/zimbra-mail-example.cer</code> </pre> <br>  يليه تصديره إلى الأجهزة العميلة أو الأيدي أو سياسات المجموعة الخاصة بالمجال عن طريق تثبيت شهادة في "المراجع المصدقة لشهادات الجذر الموثوق بها" لأجهزة العميل. <br><br>  هذا يكمل التثبيت والإعداد الأولي. <br><br><h2 style=";text-align:right;direction:rtl">  4. تكوين التفويض من خلال LDAP </h2><br>  بادئ ذي بدء ، تحتاج إلى إنشاء مستخدم في م للوصول إلى الدليل.  لديّ ZimbraLDAP ، ثم انتقل إلى وحدة تحكم المشرف عبر الويب وتكوين التفويض في المجال zimbramail.home.local. <br><br>  1) انتقل إلى "الإعدادات" - "المجالات" ، RMB حسب اسم المجال - "تكوين المصادقة": <br><br><img src="https://habrastorage.org/webt/4h/hr/d6/4hhrd6ngquye27u1jtwzxezcqsg.png" alt="الصورة"><br><br>  2) حدد "الدليل النشط الخارجي" ، انقر فوق التالي: <br><br><img src="https://habrastorage.org/webt/l_/93/27/l_9327lzaznyddgwig2hd4ln_zm.png" alt="الصورة"><br><br>  3) في الحقل "AD Domain Name" ، أدخل اسم المجال ، في الحقل "ldap: //" اكتب اسم المجال أو اسم وحدة تحكم المجال ، أو عنوان IP لوحدة تحكم المجال.  لدي العديد من وحدات التحكم ، لذلك أكتب اسم المجال.  يتم ترك المنفذ دون تغيير.  انقر فوق التالي: <br><br><img src="https://habrastorage.org/webt/_w/nr/in/_wnrinlayfmmet_1q2gmqzwaak8.png" alt="الصورة"><br><br>  4) يتم ترك LDAP الربط دون تغيير. <br><br>  5) ملخص التكوين المصادقة.  اسم المستخدم ZimbraLDAP ، كلمة المرور qwe123.  انقر فوق الزر "اختبار": <br><br><img src="https://habrastorage.org/webt/sr/he/vu/srhevudbaivqyvrlvzki4extyvs.png" alt="الصورة"><br><br>  يعد إعداد مجموعة خارجية مسؤولاً عن المكان الذي تبحث عنه بالضبط في AD Zimbra عن المستخدمين وعن الفلاتر التي سيتم تطبيقها.  يمكنك تطبيق مرشح: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">(&amp;(objectClass=user)(objectClass=person))</code> </pre> <br>  في هذه الحالة ، سيتم اختيار مستخدمي AD والأشخاص فقط.  ولن يتم استخدام المعلمة External Group LDAP Search Base ، سيتم استبدالها بـ " <b>zimbraAutoProvLdapSearchBase</b> " أثناء تكوين وضع EAGER. <br><br>  الآن سوف يقوم المستخدمون بتسجيل الدخول باستخدام كلمات مرور AD الخاصة بهم.  وحتى عند إنشاء صندوق بريد جديد ، لا يمكن تعيين كلمة المرور. <br><br><h2 style=";text-align:right;direction:rtl">  5. تكوين إنشاء صندوق البريد التلقائي </h2><br>  <i>القليل من النظرية:</i> <br><br>  يحتوي Zimbra على 3 خيارات لإنشاء الصناديق: <br><br>  <b>EAGER</b> - تلقائية بالكامل ، والتي تقوم بفحص م ، على فترات منتظمة ، وإنشاء صناديق بريد للمستخدمين الجدد. <br><br>  <b>LAZY</b> - شبه تلقائي ، يقوم بإنشاء صندوق بريد في المرة الأولى التي يقوم فيها المستخدم بتسجيل الدخول إلى خادم البريد ضمن بيانات اعتماد المجال. <br><br>  <b>دليل</b> - البحث اليدوي واختيار الحسابات التي تحتاج إلى إنشاء صناديق البريد. <br><br>  لأسباب واضحة ، يكون وضع MANUAL مناسبًا فقط للشركات الصغيرة التي يكون معدل دوران الموظفين فيها بطيئًا.  وضع LAZY مناسب لاستخدام البريد مع واجهة ويب ، دون توصيل عميل بريد.  كلا الخيارين لم يناسبني ، لأن المهمة كانت أتمتة إلى أقصى حد (التثبيت التلقائي لتطبيق عميل Zimbra Desktop ، بحيث كان على المستخدم فقط إدخال كلمة مرور تسجيل الدخول والوصول إلى البريد).  لذلك ، فقط EAGER.  نعم ، إنه أكثر ملاءمة ، أن نكون صادقين. <br><br>  لتوفير الراحة في تحرير وتطبيق المعلمات ، من الأسهل والأكثر ملاءمة إنشاء ملف.  فليكن / tmp / prov <br><br>  محتوى الملف كما يلي: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">محتويات الملف</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">md zimbramail.home.local zimbraAutoProvAccountNameMap <span class="hljs-string"><span class="hljs-string">"samAccountName"</span></span> md zimbramail.home.local +zimbraAutoProvAttrMap description=description md zimbramail.home.local +zimbraAutoProvAttrMap displayName=displayName md zimbramail.home.local +zimbraAutoProvAttrMap givenName=givenName md zimbramail.home.local +zimbraAutoProvAttrMap cn=cn md zimbramail.home.local +zimbraAutoProvAttrMap sn=sn md zimbramail.home.local zimbraAutoProvAuthMech LDAP md zimbramail.home.local zimbraAutoProvBatchSize 300 md zimbramail.home.local zimbraAutoProvLdapAdminBindDn <span class="hljs-string"><span class="hljs-string">"CN=ZimbraLDAP,OU=HOME_Users,DC=home,DC=local"</span></span> md zimbramail.home.local zimbraAutoProvLdapAdminBindPassword qwe123 md zimbramail.home.local zimbraAutoProvLdapBindDn <span class="hljs-string"><span class="hljs-string">"admin@zimbramail.home.local"</span></span> md zimbramail.home.local zimbraAutoProvLdapSearchBase <span class="hljs-string"><span class="hljs-string">"CN=HOME_Users,dc=home,dc=local"</span></span> md zimbramail.home.local zimbraAutoProvLdapSearchFilter <span class="hljs-string"><span class="hljs-string">"(&amp;(objectClass=user)(objectClass=person))"</span></span> md zimbramail.home.local zimbraAutoProvLdapURL <span class="hljs-string"><span class="hljs-string">"ldap://home.local:389"</span></span> md zimbramail.home.local zimbraAutoProvMode EAGER md zimbramail.home.local zimbraAutoProvNotificationBody <span class="hljs-string"><span class="hljs-string">"Your account has been auto provisioned. Your email address is </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${ACCOUNT_ADDRESS}</span></span></span><span class="hljs-string">."</span></span> md zimbramail.home.local zimbraAutoProvNotificationFromAddress prov-admin@zimbramail.home.local md zimbramail.home.local zimbraAutoProvNotificationSubject <span class="hljs-string"><span class="hljs-string">"New account auto provisioned"</span></span> ms zimbramail.home.local zimbraAutoProvPollingInterval <span class="hljs-string"><span class="hljs-string">"1m"</span></span> ms zimbramail.home.local +zimbraAutoProvScheduledDomains <span class="hljs-string"><span class="hljs-string">"zimbramail.home.local"</span></span></code> </pre> <br></div></div><br>  <i>بعض النظرية الأخرى:</i> <br><br>  يحتوي هذا الملف على أوامر لتعيين المتغيرات.  على سبيل المثال ، على سبيل المثال ، <b>تعني</b> المعلمة <b>zimbraAutoProvAttrMap cn = cn</b> أن Zimbra ستشكل <b>مربعاته بحيث</b> يتم استبدال "اسم العرض" (CN في AD) في حقل "اسم العرض" في Zimbra. <br><br>  المعلمة <b>zimbraAutoProvLdapAdminBindDn</b> مسؤولة عن الحساب الذي سيستخدمه Zimbra للوصول إلى دليل AD.  في هذه الحالة ، "CN = ZimbraLDAP ، OU = HOME_Users ، DC = home ، DC = local" ، مما يعني ما يلي: سيتم استخدام الحساب الذي يحمل اسم العرض ZimbraLDAP المخزن في OU HOME_Users الموجودة في جذر المجال home.local <br><br>  يخزن <b>zimbraAutoProvLdapAdminBindPassword</b> كلمة المرور لحساب ZimbraLDAP <br><br>  يخزن <b>zimbraAutoProvLdapBindDn</b> حساب مسؤول خادم Zimbra للمجال zimbramail.home.local <br><br>  <b>zimbraAutoProvLdapSearchBase</b> مسؤول عن الوحدة التنظيمية (OU) ، حيث يبحث Zimbra عن حسابات المجال لإنشاء صناديق بريد.  في حالتي ، هذه هي نفس الحاوية التي يستخدمها مستخدم ZimbraLDAP <br><br>  <b>zimbraAutoProvPollingInterval</b> هي فترة الاتصال بـ م للبحث عن حسابات جديدة. <br><br>  مع بقية المعلمات ، كل شيء واضح. <br><br>  مكتوب على موقع المطور أنه إذا كنت تستخدم إصدار Zimbra حتى 8.0.8 ، ثم لكي تعمل وضع EAGER ، ستحتاج أيضًا إلى تعيين المعلمة zimbraAutoProvLastPolledTimestamp على القيمة الفارغة "" ، وإلا فلن تعمل أكثر من مرة. <br><br>  بعد ذلك ، قم بتنفيذ الأمر: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ su – zimbra $ zmprov &lt; /tmp/prov</code> </pre> <br>  لعرض جميع قيم zmprov ، يمكنك إدخال الأمر: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ su – zimbra $ zmprov gd zimbramail.home.local</code> </pre> <br>  يمكنك تحرير المعلمات باستخدام نفس الأداة المساعدة zmprov ، يمكن أن تساعد إعادة كتابة قيم المتغيرات (الأداة المساعدة - الإجراء - المجال - المتغير - القيم) في تصحيح الأخطاء: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ su – zimbra $ zmprov md zimbramail.home.local zimbraAutoProvBatchSize 200</code> </pre> <br>  يوجد على موقع المطور جدول صغير يحتوي على خطأ LDAP.  تتم كتابة سجلات <b>التشغيل التلقائي</b> في <b>/opt/zimbra/log/mailbox.log</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">رابط</a> <br><br>  وأكثر تحفظا قليلا.  تلقيت <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">تعليقًا</a> من <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">LevZ</a> ، والذي قام بإعداد الخادم من البداية.  الإصدار 8.8.12_GA_3794.RHEL7_64_20190329045002 RHEL7_64 FOSS edition ، Patch 8.8.12_P1 proxy. <br><br>  إليك الشيء: بعد التثبيت النظيف ، يجب تهيئة المعلمة "zimbraAutoProvScheduledDomains" - قم بتشغيل الأمر "ms zimbraAutoProvScheduledDomains" بدون علامة "+".  إذا كتبت على الفور "+ zimbraAutoProvScheduledDomains" ، فلا يتم تسجيلها ولن تبدأ العملية. <br><br>  شكرا للشخص على المعلومات! <br><br><h2 style=";text-align:right;direction:rtl">  6. تثبيت تطبيقات العميل </h2><br>  قم بتنزيل حزمة msi من أحدث إصدار من الموقع الرسمي.  نقوم بنسخه إلى مجلد الشبكة المشترك الذي يمكن للجميع قراءته.  يمكنك نسخها إلى Netlogon ، ولكن الحزمة تزن أكثر من 100 ميغابايت ، لذلك قررت استخدام الكرة. <br><br>  يستخدم Zimbra Desktop جافا ، مما يعني أنك بحاجة إلى تنزيله ووضعه في نفس المجلد. <br>  مزيد من الذوق - KIX ، GPO واليدين.  أنا استخدم GPO. <br><br>  في نفس الكرة ، قم بإنشاء ملف installZimbra.cmd بالمحتويات التالية: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">\\SharedFolder\jrex64.exe INSTALL_SILENT=Enable \\SharedFolder\ZimbraInstall.msi /q /norestart</code> </pre> <br>  أضف إلى قسم "تكوين الكمبيوتر" - "تكوين Windows" - "البرامج النصية (البدء / النهاية)" - برنامج التثبيت "بدء التشغيل" الذي تم إنشاؤه مسبقًا.  سيقوم البرنامج النصي بتثبيت java و Zimbra Desktop في الوضع الصامت ولن يتطلب إعادة تشغيل.  التالي - الوحي من مسؤول الخيال. <br><br>  لكن.  من أجل تكوين Zimbra Desktop على خادمنا ، تحتاج إلى قيادة المعلمات بيديك. <br><br><img src="https://habrastorage.org/webt/0u/9w/rw/0u9wrw6toy4xpctfb0gufokyjge.png" alt="الصورة"><br><br>  لذلك ، بالنسبة للمستخدمين ، فأنت بحاجة إلى إنشاء نوع من مذكرة الإرشادات ، في الحقول التي تحتاج إلى القيادة فيها ، والزر الذي تنقر عليه للوصول إلى البريد.  بشكل عام ، هذا ليس بالأمر الصعب. <br><br><h2 style=";text-align:right;direction:rtl">  الخاتمة </h2><br>  وبالتالي ، قمنا بسرعة وبصورة عادلة بتنفيذ نظام تفاعل مؤسسي مجاني تمامًا يستند إلى Zimbra Collaboration Suite ، وقمنا بإعداد تفاعله مع المجال ، وتبسيط عملية إنشاء صناديق البريد والتخلص من المشاكل مع مجموعة من الحسابات الإضافية. <br><br>  في رأيي ، زيمبرا أداة قوية إلى حد ما لقطاع الشركات.  ولكن قد تم بالفعل كتابة عدد كبير من المقالات حول هذا الموضوع ، وأنا لن رش عليه. <br><br>  <b>PS:</b> <br>  سوف تركز <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">المقالة التالية</a> على النسخ الاحتياطي واستعادة علب بريد Zimbra OSE. <br>  تتناول <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">المقالة الثالثة</a> الإنشاء التلقائي لقوائم البريد وتحديثها استنادًا إلى مجموعات المستخدمين AD في OSE Zimbra. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar439440/">https://habr.com/ru/post/ar439440/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar439428/index.html">كيفية منع الهجمات الإلكترونية المستهدفة؟ أفضل 10 رمل الشبكة</a></li>
<li><a href="../ar439430/index.html">صدقني إن استطعت. عدادات المياه. الجزء 1</a></li>
<li><a href="../ar439432/index.html">كيف تصبح مطور جافا في 1.5 سنوات</a></li>
<li><a href="../ar439434/index.html">NestJS - نفس الخلفية الحقيقية على nodejs</a></li>
<li><a href="../ar439436/index.html">تخفيض تكلفة سلسلة صغيرة من الالكترونيات في روسيا. حالة راديو الإنترنت WOLNA</a></li>
<li><a href="../ar439442/index.html">جوليا. تقرير ومولدات الوثائق</a></li>
<li><a href="../ar439446/index.html">ما تحتاج لمعرفته حول JavaScript Engine Switcher 3.0</a></li>
<li><a href="../ar439448/index.html">ما هي الأسئلة المتعلقة بالافتراضية التي تتوقع استجابة من أحد الخريجين؟</a></li>
<li><a href="../ar439450/index.html">RS-485 على ميكروكنترولر المحلية من شركة Milander</a></li>
<li><a href="../ar439454/index.html">البرنامج كفن - نموذج جديد لإدارة البرامج</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>