<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧑🏾‍🤝‍🧑🏽 🤦🏾 🏅 Menemukan Stream Twitch dalam Pertandingan PUBG 🔰 👩🏼‍🚀 📛</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Baru-baru ini, bersama dengan replay minmax.gg/chickendinner , kami merilis fitur baru yang menampilkan video yang disiarkan oleh PUBG Twitch streamer...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Menemukan Stream Twitch dalam Pertandingan PUBG</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/438294/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0b8/261/fcb/0b8261fcbf965321f750c1e272b37339.jpg" alt="gambar"></div><br>  Baru-baru ini, bersama dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="noopener">replay</a> minmax.gg/chickendinner <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="noopener">,</a> kami merilis fitur baru yang menampilkan video yang disiarkan oleh PUBG Twitch streamer yang berpartisipasi.  Untuk mengimplementasikannya, kami perlu mengenali stream Twitch dengan nama dalam game mereka, yang ternyata menjadi tugas yang agak menarik. <br><a name="habracut"></a><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/728/4b0/b8f/7284b0b8f675134aa04dc46398a52e1b.gif"></div><br>  <i>Fitur kedutan baru kami dalam aksi.</i> <br><br><h2>  Kemungkinan Anda bermain dalam pertandingan yang sama dengan streamer </h2><br>  Sebelum kami mulai mengembangkan fitur ini, kami ingin memastikan bahwa kemungkinan pertandingan di mana salah satu pemain bermain di Twitch cukup besar untuk membenarkan upaya kami.  Kami dapat membuat perkiraan yang sangat kasar dengan melihat jumlah pemain aktif dan membandingkannya dengan jumlah siaran aktif. <br><br>  Pada saat penulisan, permainan disiarkan di Twitch sekitar 2100 pengguna, dan di Steam ada sekitar 700 ribu pemain aktif di PUBG.  Ini berarti bahwa pada saat itu streamer menyumbang sekitar 0,3% dari basis pemain. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5a6/ca3/24f/5a6ca324f8fb9d22756caec476464959.png"></div><br>  Mempertimbangkan bahwa 100 orang paling sering memainkan pertandingan, probabilitas bahwa setidaknya satu dari mereka akan menjadi streamer adalah kebalikan dari probabilitas bahwa <em>tidak ada yang</em> akan menjadi streamer.  Karena probabilitas bahwa pemain bukan streamer adalah 99,7%, probabilitas bahwa tidak satu pun dari 100 pemain akan menjadi streamer adalah 0,997 dengan kekuatan 100, yaitu 0,74.  Dengan kata lain, dalam pertandingan apa pun ada peluang sekitar 25 persen untuk menemukan setidaknya satu pemain streaming di Twitch. <br><br>  Perlu dicatat bahwa kita dapat mengasumsikan di Twitch pergeseran kuat menuju wilayah Amerika Utara dibandingkan dengan pangkalan umum pemain PUBG, jadi jika Anda menonton pertandingan dari Amerika Utara, persentasenya mungkin akan jauh lebih tinggi. <br><br><h2>  Tebak namanya </h2><br>  Sekarang kita tahu bahwa ada peluang bagus untuk menemukan streamer di pertandingan apa pun, bagaimana kita tahu jika seorang pemain mengalirkan game di Twitch? <br><br>  Untuk bonus tambahan, Anda dapat menghubungkan akun Twitch Anda ke permainan, tetapi, sayangnya, data ini tidak tersedia dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="noopener">PUBG API</a> .  Kami membutuhkan cara lain untuk mengikat nama pemain ke streamer di Twitch. <br><br>  Mari kita lihat streamer hipotetis dengan nama akun <em>Mitch</em> .  Mitch secara teratur bermain di PUBG, tetapi saluran Twitch-nya belum mencapai tingkat pandangan yang dia impikan.  Setelah refleksi, ia mengubah nama dalam game menjadi <em>TwitchMitch</em> .  Sekarang semua orang tahu bahwa Mitch streaming pada Twitch. <br><br>  Prinsip ini sangat umum, kadang-kadang dengan variasi yang sedikit berbeda: <em>TTVMitch</em> atau <em>Mitch_TV</em> .  Nama-nama tersebut dapat dideteksi secara program dan ditentukan dari mereka akun di Twitch, memungkinkan kami untuk menerima video untuk ditampilkan dalam pemutaran ulang pertandingan. <br><br><h2>  Pemetaan Manual </h2><br>  Pendekatan ini memberi kita titik referensi yang sangat baik, tetapi masih jauh dari cukup.  Nama streamer paling populer tidak cocok dengan pola ini.  Untuk menemukannya, Anda harus menautkan secara individu dari akun PUBG ke nama saluran Twitch mereka. <br><br>  Untuk mengatasinya, kami mulai mencari streamer terpopuler di Twitch secara manual, dan merekam nama akun dalam gim yang terlihat di layar.  Jika Anda beruntung, Anda akan dapat menangkap momen ketika pemain menunggu di lobi, di mana Anda dapat menemukan nama di beberapa tempat: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7e0/2b0/d11/7e02b0d118ff09436f925b0e641e8c38.png"></div><br>  Namun, itu jauh lebih mungkin untuk menemukan pemain yang sudah bermain dalam pertandingan.  Jika dia bermain dengan tim, maka namanya akan selalu terlihat di sudut kiri bawah: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ad8/030/bda/ad8030bda4f3f0bc2ebf969b90fa612b.png"></div><br>  Namun, perlu untuk menghitung yang mana dari nama-nama miliknya, karena itu tidak akan selalu sama.  Cara termudah untuk melakukan ini adalah dengan melihat minimap di sudut kanan bawah, yang berpusat pada penanda pemain, ditandai dengan angka dan warna. <br><br>  Pendekatan paling holistik adalah mempelajari bagian tengah bawah layar, di mana Anda dapat menemukan yang berikut: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/405/15c/f0b/40515cf0b945f4a13e4f9363054bee81.png"></div><br>  Teks ini berisi nama akun, versi gim saat ini, 6 karakter terakhir dari pengidentifikasi pertandingan dan wilayah server.  Perlu dipertimbangkan bahwa tidak selalu sebersih yang ditunjukkan di atas, karena biasanya bercampur dengan apa yang terjadi di belakangnya di layar.  Teksnya kecil, yang artinya bisa kabur dan kurang dibaca ketika artefak video serius terjadi.  Tetapi cepat atau lambat Anda akan menangkap bingkai yang cukup baik untuk membacanya. <br><br>  Mungkin Anda sudah memikirkan apa yang kami sadari pada saat itu - ini adalah tugas yang ideal untuk solusi komputer otomatis! <br><br><h2>  Visi komputer </h2><br>  Dalam kondisi ideal, algoritma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="noopener">OCR</a> harus mengenali apa yang tertulis dalam teks di bawah ini.  Setelah mencoba beberapa opsi, kami akhirnya memutuskan bahwa Google <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="noopener">Cloud Vision API</a> memberikan hasil terbaik.  Kita dapat membuat skrip yang melakukan hal berikut: <br><br><ol><li>  Mendapat siaran PUBG langsung dan memotong bagian bawah tangkapan layar ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Twitch API</a> menyediakan gambar pratinjau ukuran penuh, jadi kami tidak perlu mengambil tangkapan layar sendiri). </li><li>  Mengirim tangkapan layar ke Cloud Vision API dan mem-parsing nama pemain dari hasilnya. </li><li>  Verifikasi melalui PUBG API bahwa pemain itu ada, dan kemudian menyimpan akun Twitch dari akun PUBG di database kami. </li></ol><br>  Ini akan bekerja dengan baik, kecuali untuk satu detail kecil: Google meminta $ 1,5 untuk setiap seribu permintaan ke Cloud Vision API.  Pada waktu tertentu, mungkin ada sekitar 2-3 ribu streamer aktif, sehingga bahkan satu skrip dijalankan akan menelan biaya hingga $ 4,5.  Mengingat fakta bahwa kami cenderung mendapatkan banyak tangkapan layar dengan teks yang tidak dapat dibaca, Anda perlu menjalankan skrip beberapa kali untuk mendapatkan data dalam jumlah yang signifikan.  Dengan kata lain, pendekatan seperti itu akan dengan cepat menjadi usaha yang sangat mahal.  Untungnya, kami dapat mengatur permintaan untuk Cloud Vision sedikit lebih pintar.  Kami dapat memanfaatkan fakta bahwa Google meminta pembayaran untuk permintaan individual, terlepas dari ukuran gambar.  Artinya, kita dapat menghubungkan banyak gambar ke kisi: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e90/1ec/f4b/e901ecf4b93fdedc2fa645feee12912f.png"></div><br>  Kemudian kami mengirim kotak gambar ini ke API dan melampirkan teks yang dihasilkan ke drive tape yang sesuai dengan area di mana teks itu ditemukan. <br><br>  Ada batasan pada ukuran data yang dikirim oleh Google pada saat yang sama, jadi kami akan mengambil 300 gambar yang direkatkan untuk satu permintaan.  Ini berarti bahwa sekarang kita dapat menjalankan skrip yang sama 300 kali dengan harga yang sama seperti sebelumnya, yang membuat pendekatan ini sangat layak dan efektif. <br><br><h2>  Isi celah terakhir </h2><br>  Skrip kami berfungsi selama beberapa minggu, dan sejauh ini kami telah mencetak 25 ribu perbandingan antara Twitch dan PUBG.  Namun, skrip tidak dapat mengikat beberapa streamer, misalnya, mereka yang memiliki overlay mereka sendiri di atas teks di bagian bawah layar. <br><br>  Kita harus mengikat streamer ini secara manual.  Alih-alih melakukan ini sendiri, kami memutuskan untuk menambahkan fungsi yang memungkinkan pengunjung kami mengirim nama streamer yang tidak mereka temukan di database kami: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4cd/180/4ce/4cd1804ce5d78b7f9cad545af3544b41.png"></div><br>  Kami akan senang untuk terus bereksperimen dengan metode untuk memperoleh pasangan akun seperti itu, dan bahkan lebih lagi kami ingin menemukan cara baru untuk menggunakan informasi yang ada.  Harapkan artikel baru dari kami! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id438294/">https://habr.com/ru/post/id438294/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id438280/index.html">"Menghapus" objek di Django</a></li>
<li><a href="../id438286/index.html">Bekerja dengan zona waktu dalam JavaScript</a></li>
<li><a href="../id438288/index.html">Perlindungan tanpa rasa takut. Keamanan Memori dalam Karat</a></li>
<li><a href="../id438290/index.html">Post-mortem dengan GGJ-2019: bagaimana cara mendapatkan gundukan, tetapi tetap membuat game</a></li>
<li><a href="../id438292/index.html">Otomasi Apartemen dengan HomePod, Raspberry Pi dan Node.js</a></li>
<li><a href="../id438296/index.html">OpenSceneGraph: Sistem Plugin</a></li>
<li><a href="../id438298/index.html">Mengapa mengajar jika berkembang lebih menguntungkan. Percakapan dengan GeekBrains</a></li>
<li><a href="../id438302/index.html">Kreativitas luar biasa dari evolusi digital</a></li>
<li><a href="../id438304/index.html">Subkontrak? Keren, Anda memukul</a></li>
<li><a href="../id438306/index.html">Radiasi: Laboratorium radiokimia hari kerja</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>