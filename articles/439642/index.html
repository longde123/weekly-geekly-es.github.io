<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úçüèΩ üíÖüèø ‚ùé Las trampas de Java. Parte 1 üñêüèª üë®üèΩ‚Äçüíº üë©üèæ‚Äçüé§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola Quiero llamar su atenci√≥n sobre un breve art√≠culo. Este art√≠culo est√° destinado a principiantes. Pero incluso si es un desarrollador experimentad...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Las trampas de Java. Parte 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439642/"> Hola  Quiero llamar su atenci√≥n sobre un breve art√≠culo.  Este art√≠culo est√° destinado a principiantes.  Pero incluso si es un desarrollador experimentado, no saque conclusiones precipitadas. <br>  Espero que esta publicaci√≥n sea √∫til no solo para principiantes. <br><br>  <i>El prop√≥sito de esta publicaci√≥n:</i> <br>  Muestra los errores m√°s comunes para principiantes y algunos trucos para solucionarlos.  Est√° claro que algunos errores pueden ser complejos y ocurrir por una raz√≥n u otra.  El prop√≥sito de la publicaci√≥n es, en cierta medida, analizarlos y ayudar a identificarlos en una etapa temprana.  Espero que esta publicaci√≥n sea √∫til para principiantes. <br><br>  Lista de verificaci√≥n de errores: <br><a name="habracut"></a><br>  1. Errores tipogr√°ficos.  Errores tipogr√°ficos molestos que no aparecen de inmediato <br>  2. Asignaci√≥n en condici√≥n en lugar de comparaci√≥n <br>  3. Errores l√≥gicos en la condici√≥n. <br>  4. Comparaci√≥n de cadenas incorrectas <br>  5. Inicializaci√≥n incorrecta de variables de tipos primitivos. <br>  6. Uso indebido de doble <br>  7. Tipo incorrecto de valor de retorno en el constructor. <br>  8. Divisi√≥n por cero.  POSITIVO_INFINIDAD <br>  9. Sin tener en cuenta el orden de inicializaci√≥n de la clase. <br>  10. Una variable local oculta una variable de clase <br>  11. Ignorando la conversi√≥n autom√°tica en expresiones aritm√©ticas <br>  12. Bucle infinito con byte, que es dif√≠cil de detectar. <br>  13. El nombre de la clase es diferente del nombre del archivo en el que est√° almacenado. <br>  14. Los objetos que son elementos de una matriz no se inicializan. <br>  15. Colocar varias clases en un archivo a la vez con el modificador p√∫blico <br><cut></cut><br><h3>  Problemas de Java </h3><br>  Todos los lenguajes de programaci√≥n tienen sus ventajas y desventajas.  Esto se debe a muchas razones.  Java no es la excepci√≥n.  Trat√© de recopilar algunas dificultades obvias y no obvias encontradas por un programador Java novato.  Estoy seguro de que los programadores experimentados tambi√©n encontrar√°n algo √∫til en mi art√≠culo.  La pr√°ctica, la atenci√≥n y la experiencia adquirida en programaci√≥n te ayudar√°n a salvarte de muchos errores.  Pero algunos errores y dificultades se consideran mejor de antemano.  Dar√© algunos ejemplos con c√≥digo y explicaciones.  Muchas explicaciones te resultar√°n claras a partir de los comentarios sobre el c√≥digo.  La pr√°ctica da mucho, ya que algunas reglas no son tan obvias.  Algunos yacen en la superficie, otros est√°n ocultos en las bibliotecas de idiomas o en la m√°quina virtual de Java.  Recuerde que Java no es solo un lenguaje de programaci√≥n con un conjunto de bibliotecas, sino que tambi√©n es una m√°quina virtual Java. <br><br>  Para el art√≠culo, escrib√≠ espec√≠ficamente un c√≥digo de trabajo con comentarios detallados.  Para escribir un art√≠culo con ejemplos de c√≥digo, se utiliz√≥ Java 8. Para las pruebas, el c√≥digo Java se coloca en paquetes separados. <br><br>  Ejemplo: "package underwaterRocks.simple;" <br><br>  ¬øQu√© dificultades enfrentan los principiantes? <br><br><h3>  Errores tipogr√°ficos </h3><br>  Sucede que los programadores novatos hacen errores tipogr√°ficos que son dif√≠ciles de detectar de un vistazo. <br><br><cut></cut><br>  <i>Ejemplo de c√≥digo:</i> <br><br>  Archivo: "Simple.java" <br><br><pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/*   ;     */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> underwaterRocks.simple; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Simple</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ival = <span class="hljs-number"><span class="hljs-number">10</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(ival&gt;<span class="hljs-number"><span class="hljs-number">0</span></span>); { System.out.println(<span class="hljs-string"><span class="hljs-string">"     "</span></span>); } } }</code> </pre> <br><cut></cut><br>  <i>Explicaci√≥n</i> : ‚ÄúEl punto y coma indica el final de la declaraci√≥n.  En este caso;  Es el final de una declaraci√≥n vac√≠a.  Este es un error l√≥gico.  Tal error puede ser dif√≠cil de detectar. <br><br>  El compilador considerar√° que todo es correcto.  Condici√≥n if (ival&gt; 0);  En este caso no tiene sentido.  Porque significa: si ival es m√°s que cero, no haga nada y contin√∫e ". <br><br><h3>  Asignaci√≥n en condici√≥n en lugar de comparaci√≥n </h3><br>  La condici√≥n es la asignaci√≥n variable. <br><br>  Esto no es un error, pero el uso de dicha t√©cnica debe estar justificado. <br><br><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> myBool = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(myBool = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) System.out.println(myBool);</code> </pre> <br>  En este c√≥digo, si (myBool = true) significa: "Establezca la variable myBool en true, <br>  si la expresi√≥n es verdadera, entonces siga la condici√≥n que sigue a los corchetes ". <br><br>  En este c√≥digo, la condici√≥n siempre ser√° verdadera.  Y System.out.println (myBool);  siempre se ejecutar√°, independientemente de la condici√≥n. <br><br>  == es una comparaci√≥n para la igualdad. <br>  = Es una tarea, puedes decir a = 10;  como: "pero asigna un valor de 10". <br><br>  La condici√≥n entre par√©ntesis devuelve un valor booleano. <br>  No importa en qu√© orden escribas.  Puede comparar as√≠: (0 == a) o (5 == a) <br>  Si olvida un signo igual, por ejemplo (0 = a) o (5 = a), el compilador le notificar√° un error.  Usted asigna un valor, no una comparaci√≥n. <br>  Tambi√©n puede escribir de forma legible alg√∫n intervalo. <br>  Por ejemplo: necesita escribir: mayor que 5 y menor que 10. <br>  Escribes as√≠: (a&gt; 4 &amp;&amp; a &lt;10), pero con el mismo √©xito puedes escribir: (4 &lt;a &amp;&amp; a &lt;10), <br>  ahora ve que a est√° entre 4 y 10, excluyendo estos valores.  Esto es m√°s obvio.  Es inmediatamente evidente que, a est√° en el intervalo entre 4 y 10, excluyendo estos valores. <br><br>  Ejemplo de c√≥digo (intervalo) 3.9 [): <br>  if (3 &lt;a &amp;&amp; a &lt;9) ejecutar; <br><br><h3>  Error l√≥gico </h3><br>  if (condici√≥n) {} if (condici√≥n) {} else {} - else se refiere al if m√°s cercano. <br>  Esta es a menudo la causa de los errores de principiante. <br><br><h3>  Comparaci√≥n de cadenas no v√°lida </h3><h3>  Los principiantes a menudo usan == en lugar de .equals para comparar cadenas. <br><br></h3><h3>  Inicializaci√≥n variable </h3><br>  Considere inicializar variables de un tipo primitivo. <br><br>  Primitivas (byte, short, int, long, char, float, double, boolean). <br><br>  Valores iniciales <br><cut></cut><br><pre> <code class="plaintext hljs">byte 0 short 0 int 0 long 0L float 0.0f double 0.0d char '\u0000' String (or any object) null boolean false (  jvm)</code> </pre> <br><cut></cut><br>  <i>Nota:</i> <br><br>  Las variables locales son ligeramente diferentes; <br>  El compilador nunca asigna un valor predeterminado a una variable local no inicializada. <br><br>  Si no puede inicializar su variable local donde se declara, <br>  Recuerde asignarle un valor antes de intentar usarlo. <br><br>  El acceso a una variable local no inicializada dar√° como resultado un error en tiempo de compilaci√≥n. <br><br>  <i>Confirmaci√≥n de esta nota en c√≥digo:</i> <br><br>  Archivo: "MyInitLocal.java" <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/*         */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> underwaterRocks.myInit; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyInitLocal</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> classes_f; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> classes_gi; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> f; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i; MyInitLocal myInit = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyInitLocal(); <span class="hljs-comment"><span class="hljs-comment">/*         .*/</span></span> System.out.println(<span class="hljs-string"><span class="hljs-string">"myInit.classes_f = "</span></span> + myInit.classes_f); System.out.println(<span class="hljs-string"><span class="hljs-string">"myInit.classes_gi = "</span></span> + myInit.classes_gi); <span class="hljs-comment"><span class="hljs-comment">// System.out.println("f = " + f); // .     // System.out.println("f = " + i); // .     } }</span></span></code> </pre> <br><br>  Rangos de valores: <br><br> <code>byte ( , 1 , [-128, 127]) <br> short ( , 2 , [-32768, 32767]) <br> int ( , 4 , [-2147483648, 2147483647]) <br> long ( , 8 , [-922372036854775808,922372036854775807]) <br> float ( , 4 ) <br> double ( , 8 ) <br> char ( Unicode, 2 , 16 , [0, 65535]) <br> boolean ( /,  int,   JVM)</code> <br> <blockquote>  char: el tipo de datos char es un √∫nico car√°cter Unicode de 16 bits.  Tiene un valor m√≠nimo de '\ u0000' (o 0) y un valor m√°ximo de '\ uffff' (o 65,535 inclusive). </blockquote><br><br>  Documentaci√≥n de Oracle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">&gt;&gt;</a> <br><br>  Intentemos inicializar una variable de tipo long con el n√∫mero: 922372036854775807. <br>  Nada nos saldr√° bien.  Porque, es un literal entero de tipo int. <br>  Inicializaci√≥n correcta con un literal largo: 922372036854775807L; <br><br>  <i>Ejemplo de c√≥digo:</i> <br><br>  Archivo: "MyInitLocalLong.java" <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/*    long  */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> underwaterRocks.myInit; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyInitLocalLong</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// long al = 922372036854775807; // integer number too large long bl = 922372036854775807L; //   } }</span></span></code> </pre><br><br>  Qu√© buscar al inicializar una variable. <br><br>  El rango de valores de una variable de este tipo.  El hecho de que la variable se inicializa con un literal de cierto tipo.  Para moldes expl√≠citos e impl√≠citos.  Sobre compatibilidad de tipos. <br><br>  Cuando utilice shells de tipo Integer, debe prestar atenci√≥n al autoembalaje y desembalaje autom√°tico de estos tipos. <br><br><h3>  Uso inapropiado de doble </h3><br>  Aqu√≠ necesitas aclarar.  No se trata de mal uso del tipo doble. <br>  Usamos correctamente  Solo el resultado puede sorprender a un programador novato. <br>  Archivo: "MinusDouble.java" <br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> underwaterRocks.tstDouble; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> vvm */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MinusDouble</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> a = <span class="hljs-number"><span class="hljs-number">4.64</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> b = <span class="hljs-number"><span class="hljs-number">2.64</span></span>; System.out.println(<span class="hljs-string"><span class="hljs-string">"ab = "</span></span>+(ab)); } } <span class="hljs-comment"><span class="hljs-comment">/*   run: ab = 1.9999999999999996 */</span></span></code> </pre><br><br>  <i>Nota sobre el tipo doble.</i>  Un punto flotante le permite contar con un error relativo dado y un rango enorme.  En los c√°lculos cient√≠ficos, a menudo se necesita un error relativo. <br><br><h3>  Doble comparaci√≥n inv√°lida </h3><br>  Considere el tipo doble. <br><br>  <i>Ejemplo de c√≥digo:</i> <br><br>  Archivo: "MyDouble.java" <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/*    double  - double. */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> underwaterRocks.myDouble; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyDouble</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> dx = <span class="hljs-number"><span class="hljs-number">1.4</span></span> - <span class="hljs-number"><span class="hljs-number">0.1</span></span> - <span class="hljs-number"><span class="hljs-number">0.1</span></span> - <span class="hljs-number"><span class="hljs-number">0.1</span></span> - <span class="hljs-number"><span class="hljs-number">0.1</span></span>; System.out.println(<span class="hljs-string"><span class="hljs-string">"dx = "</span></span> + dx); <span class="hljs-comment"><span class="hljs-comment">// dx = 0.9999999999999997 System.out.print(" (dx == 1.0):"); System.out.println(dx == 1.0); // false,   1.0   0.9999999999999997 /*   double*/ final double EPSILON = 1E-14; double xx = 1.4 - 0.1 - 0.1 - 0.1 - 0.1; double xy = 1.0; /*  xx c xy */ if (Math.abs(xx - xy) &lt; EPSILON) System.out.println(xx + "    " + xy + " EPSILON = " + EPSILON); } }</span></span></code> </pre><br>  El tipo doble es conveniente donde no se necesita alta precisi√≥n.  Para transacciones financieras, este tipo no es adecuado.  Aunque algunas compa√±√≠as, no muy honestas, usan el tipo doble para redondear al lado que necesitan.  Para las operaciones financieras, la clase BigDecimal se usa en los c√°lculos financieros, ya que los tipos primitivos reales no son adecuados para este prop√≥sito debido a razones de p√©rdida de precisi√≥n y errores en los resultados de redondeo.  Sin embargo, se obtienen resultados m√°s precisos utilizando la clase BigInteger. <br><br><h3>  Constructor de clase </h3><br>  El constructor de la clase coincide con el nombre de la clase y no devuelve nada, ni siquiera nulo. <br><br>  <i>Ejemplo de c√≥digo:</i> <br><br>  Archivo: "MyConstructor.java" <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/*      ,  void    void -    */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> underwaterRocks.myConstructor; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyConstructor</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyConstructor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"   void"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyConstructor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"  c void"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ MyConstructor myconst = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyConstructor(); myconst.MyConstructor(); <span class="hljs-comment"><span class="hljs-comment">//    } }</span></span></code> </pre><br>  Como vemos en el c√≥digo, dos m√©todos con los mismos nombres: MyConstructor () y MyConstructor ().  Uno de los m√©todos no devuelve nada.  Este es el constructor de nuestra clase.  Otro m√©todo con void es el m√©todo de clase regular.  En el caso de que no haya creado un constructor o, en su opini√≥n, haya creado un constructor de clase con void, el compilador crear√° un constructor predeterminado y se sorprender√° de por qu√© su constructor no funciona. <br><br><h3>  Divisi√≥n por cero </h3><br>  ¬øCu√°l cree que ser√° el resultado de la ejecuci√≥n de dicho c√≥digo? <br><br>  Archivo: "DivisionByZero.java" <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/* */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> divisionByZero; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> java.lang.Double.POSITIVE_INFINITY; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DivisionByZero</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> f = <span class="hljs-number"><span class="hljs-number">12.2f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> d = <span class="hljs-number"><span class="hljs-number">8098098.8790</span></span>d; System.out.println(f/<span class="hljs-number"><span class="hljs-number">0</span></span>); System.out.println(d/<span class="hljs-number"><span class="hljs-number">0</span></span>); System.out.println(POSITIVE_INFINITY == f/<span class="hljs-number"><span class="hljs-number">0</span></span>); System.out.println(POSITIVE_INFINITY == d/<span class="hljs-number"><span class="hljs-number">0</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (NumberFormatException ex) { System.out.println(<span class="hljs-string"><span class="hljs-string">"NumberFormatException"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (ArithmeticException ex) { System.out.println(<span class="hljs-string"><span class="hljs-string">"ArithmeticException"</span></span>); } } }</code> </pre><br>  La ejecuci√≥n del c√≥digo generar√°: <br><br><pre> <code class="plaintext hljs">Infinity Infinity true true</code> </pre> <br>  Dividir el tipo entero por cero dar√° una ArithmeticException. <br><br>  La clase java.lang.Double define la constante <code>POSITIVE_INFINITY;</code> <br><br><pre> <code class="1c hljs">public static final float POSITIVE_INFINITY = <span class="hljs-number"><span class="hljs-number">1.0</span></span>d / <span class="hljs-number"><span class="hljs-number">0.0</span></span>d;</code> </pre> <br>  Se convierte en una cadena igual a Infinito. <br><br><h3>  Orden de inicializaci√≥n </h3><br>  Archivo: "InitClass.java" <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> myInitClass; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InitClass</span></span></span><span class="hljs-class"> </span></span>{ InitClass(){ <span class="hljs-comment"><span class="hljs-comment">//   System.out.print(""); } { //   System.out.print("3 "); } public static void main(String[] args) { System.out.print("2"); new InitClass(); } static { //    System.out.print("1"); } }</span></span></code> </pre><br>  Primero, se ejecutan todos los bloques est√°ticos, luego los bloques de inicializaci√≥n, luego el constructor de la clase. <br><br>  Se mostrar√°: "123 Constructor" <br><br>  <b>Una variable local oculta una variable de clase.</b> <br>  Aunque los IDE modernos detectan f√°cilmente dicho error, me gustar√≠a considerarlo con m√°s detalle.  Comencemos con la asignaci√≥n de variable cl√°sica en el constructor.  El ejemplo es correcto.  No hay error <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyClass</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> val = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyClass</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> val)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.val = val; } }</code> </pre><br>  Sin embargo, ¬øqu√© sucede si usa esta t√©cnica en un m√©todo y no en un constructor de clases?  En el m√©todo habitual, no se recomienda usar esta t√©cnica.  La pregunta se relaciona con el dise√±o adecuado de una clase. <br><br>  <i>Una explicaci√≥n simple:</i> en un m√©todo, una variable con el mismo nombre que una variable de clase es local para el m√©todo.  Puede acceder a la variable de clase usando this.val.  Sin embargo, tal atractivo del m√©todo, si la clase est√° dise√±ada incorrectamente, solo causar√° efectos secundarios y puede degradar la legibilidad del c√≥digo. <br><br>  <b>La conversi√≥n de tipo aritm√©tico se realiza autom√°ticamente</b> <br><br>  Esto puede causar errores molestos. <br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// byte a = 1; // byte b = 1; // byte  = a + b; //  // byte a = (byte) 1; // byte b = (byte) 1; // byte  = a + b; // </span></span></code> </pre><br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//     ‚Äî     . byte a = 1; byte b = 1; byte c = (byte) (a + b);</span></span></code> </pre><br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//     ‚Äî  final // final byte a = 1; // final byte b = 1; // byte c = a + b; //    ,  a  b final</span></span></code> </pre><br><br>  Una posible soluci√≥n cuando se trabaja con una cadena: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> bHundr = Byte.parseByte(<span class="hljs-string"><span class="hljs-string">"100"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//      byte</span></span></code> </pre> <br><br>  Otro error se da en el siguiente c√≥digo. <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt;= <span class="hljs-number"><span class="hljs-number">128</span></span>; i++) { System.out.println(i); }</code> </pre><br>  En este caso, obtenemos un bucle infinito. <br><br>  <i>La explicacion.</i>  Escriba el byte [-128, 127].  128 ya no est√° en este rango.  Se produce un desbordamiento y el ciclo se repite.  La necesidad de usar byte en este caso es dudosa.  Aunque tiene lugar en casos raros.  La recomendaci√≥n es usar int en lugar de byte.  Otra recomendaci√≥n es no usar un bucle en su algoritmo. <br><br>  <b>Los objetos que son elementos de matriz no se inicializan</b> <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[] cats = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[<span class="hljs-number"><span class="hljs-number">10</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;cats.length;i++){ System.out.println(<span class="hljs-string"><span class="hljs-string">"cats "</span></span> + i + <span class="hljs-string"><span class="hljs-string">" = "</span></span> + cats[i]); }</code> </pre><br><br>  En este ejemplo, tenemos una matriz de elementos de tipo primitivos.  Y no pasa nada malo cuando no los inicializamos.  Se les asignar√° el valor predeterminado.  En este caso, el valor = 0. <br><br>  Consideremos otro ejemplo, no con primitivas en la matriz, sino con objetos en la matriz. <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ArrInitObj</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ MyObj[] cats = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyObj[<span class="hljs-number"><span class="hljs-number">10</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;cats.length;i++){ System.out.println(<span class="hljs-string"><span class="hljs-string">"cats "</span></span> + i + <span class="hljs-string"><span class="hljs-string">" = "</span></span> + cats[i]); System.out.println(<span class="hljs-string"><span class="hljs-string">"cats "</span></span> + i + <span class="hljs-string"><span class="hljs-string">".val = "</span></span> + cats[i].val); <span class="hljs-comment"><span class="hljs-comment">//    java.lang.NullPointerException } } } class MyObj{ public int val; }</span></span></code> </pre><br><br>  La soluci√≥n a este problema es inicializar todas las variables de objeto antes de usarlas.  La inicializaci√≥n se puede hacer en el constructor de la clase MyObj. <br><br>  <b>El nombre de la clase es diferente del nombre del archivo en el que est√° almacenado.</b> <br>  El IDE moderno detecta f√°cilmente este tipo de error.  Sin embargo, tales errores se encuentran, aunque muy raramente.  Esto ayudar√° a la atenci√≥n, teniendo en cuenta las diferencias en los nombres de letras may√∫sculas y min√∫sculas. <br><br>  <b>Colocando varias clases en un archivo a la vez con el modificador p√∫blico</b> <br>  El error es bastante raro.  El IDE le dar√° inmediatamente una advertencia. <br>  El nombre del archivo debe coincidir con el nombre de la clase p√∫blica. <br><br>  <b>Conclusiones</b> <br>  Muchos errores no son obvios a primera vista.  Incluso los programadores experimentados los hacen, pero en menor n√∫mero.  La atenci√≥n, la experiencia pr√°ctica, el uso de un depurador y la lectura de la documentaci√≥n lo ayudar√°n a evitar muchos errores. <br><br>  Espero que hayas disfrutado el art√≠culo y lo hayas encontrado √∫til.  Estar√© encantado de sus comentarios, comentarios, sugerencias, deseos.  Continuar√°  M√°s bien, la adici√≥n sigue. <br><br>  <b>Referencias</b> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">Directrices de dise√±o del c√≥digo Oracle Java &gt;&gt;&gt;</a> <br><br>  PS.  Mis amigos  No tengo forma de seguir publicando sin su ayuda.  Es decir, no hay oportunidad financiera.  Si la publicaci√≥n realmente te ayud√≥ y quieres continuar, por favor ap√≥yame.  En alguna parte hay un bot√≥n: "Apoya al autor". <br>  Espero tu comprensi√≥n.  Gracias  Gracias a Habr por la oportunidad de publicar. <br><br>  El autor se ver√° obligado a eliminar sus publicaciones u ocultarlas en borradores en caso de falta de apoyo.  Esto no es un ultim√°tum.  Si tiene la oportunidad, fue √∫til, puede ayudar, luego haga clic en el bot√≥n de soporte del autor. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/439642/">https://habr.com/ru/post/439642/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../439628/index.html">Actualizaci√≥n de datos paralelos en la API web ASP.NET</a></li>
<li><a href="../439632/index.html">C√≥mo configurar la implementaci√≥n continua para su proyecto: experiencia personal</a></li>
<li><a href="../439636/index.html">La crisis de conceptos para mejorar la seguridad vial y un nuevo concepto para resolverlo</a></li>
<li><a href="../439638/index.html">Obteniendo FPGA en Python</a></li>
<li><a href="../439640/index.html">Vinyl ha vuelto y es diferente.</a></li>
<li><a href="../439644/index.html">Antienvejecimiento: terapia de reemplazo de c√©lulas madre y senol√≠ticos</a></li>
<li><a href="../439646/index.html">SoftBank Holding vende las acciones de Nvidia debido a la ca√≠da del precio, pero a√∫n as√≠ obtiene $ 3.3 mil millones</a></li>
<li><a href="../439652/index.html">C√≥mo transportar tu startup a EE. UU .: 4 pasos importantes</a></li>
<li><a href="../439654/index.html">Inmersi√≥n completa: ¬øc√≥mo enfriamos los chips ASIC en Bitfury?</a></li>
<li><a href="../439656/index.html">Calculadora de caracteres en C #</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>