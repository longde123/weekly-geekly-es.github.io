<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèæ‚Äç‚úàÔ∏è üßü üîÆ RAS-L√∂sungen in Mars IS üìî üßëüèæ‚Äçü§ù‚Äçüßëüèæ üìï</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Guten Tag,% Benutzername%! 

 In jedem gro√üen Unternehmen (und nicht nur in einem gro√üen) m√∂chten die Mitarbeiter jederzeit und so einfach wie m√∂glich...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>RAS-L√∂sungen in Mars IS</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/marsis/blog/413423/">  Guten Tag,% Benutzername%! <br><br>  In jedem gro√üen Unternehmen (und nicht nur in einem gro√üen) m√∂chten die Mitarbeiter jederzeit und so einfach wie m√∂glich Zugriff auf Unternehmensinformationen (Arbeitspost, Kalender, interne Ressourcen) haben.  F√ºr die Bereitstellung und Verwaltung dieser Zugriffe wurden separate L√∂sungen namens Mobile Device Management erstellt. <br><br>  In der Vergangenheit haben wir in unserem Unternehmen verschiedene L√∂sungen f√ºr die Verwaltung mobiler Ger√§te verwendet.  Zuerst war es eine auf einen bestimmten Hersteller zugeschnittene L√∂sung, dann wechselten wir zu einem anderen Produkt, mit dem wir sowohl iOS- als auch Android-Ger√§te unterst√ºtzen konnten.  Anschlie√üend wurde beschlossen, auf eine L√∂sung von Microsoft umzusteigen. <br><a name="habracut"></a><br><h2>  <b>Microsoft intune</b> </h2><br>  Zum Zeitpunkt der Analyse der L√∂sungsfunktionalit√§t enthielt die Cloud-Version eine relativ kleine Liste von Funktionen, sodass beschlossen wurde, Intune Hybrid zu verwenden. <br><br>  <b>Was ist ein Intune Hybrid?</b> <br><br><img src="https://habrastorage.org/webt/r0/j0/cc/r0j0cczgjro0aytasnalp_48oqe.png"><br><br>  Dies ist der gute alte System Center Configuration Manager, der in Microsoft Intune integriert ist.  Diese L√∂sung hat ihre eigenen Eigenschaften: <br><br><ul><li>  Die gesamte Verwaltung mobiler Ger√§te erfolgt √ºber SCCM. </li><li>  Alle Sicherheitsrichtlinien und -konfigurationen werden √ºber SCCM erstellt und verwaltet. </li></ul><br>  Im Gro√üen und Ganzen unterscheidet sich die Verwaltung mobiler Ger√§te nicht von der Verwaltung von Arbeitsstationen.  Der Cloud-Teil wird nur f√ºr die Kommunikation zwischen Ger√§ten und SCCM verwendet. <br><br>  Zusammen mit der Entscheidung, zu MS Intune zu wechseln, wurde es notwendig, alle Benutzer auf die neue Plattform zu √ºbertragen.  Leider hatten wir nur 5 Monate Zeit f√ºr die Migration und 28.000 Benutzer weltweit. <br><br>  F√ºr den Anfang wurde der am wenigsten zerst√∂rerische Ansatz f√ºr die Migration verwendet, und den Benutzern wurde empfohlen, Ger√§te f√ºr die Arbeit mit dem neuen Dienst neu zu konfigurieren. <br><br>  Dieser Ansatz funktionierte zu einem bestimmten Zeitpunkt nicht mehr und die Benutzer wurden gezwungen, die Verbindung zum vorherigen Dienst zu trennen, da die M√∂glichkeit zur Konfiguration des Ger√§ts parallel blockiert wurde.  Dies f√ºhrte zu bestimmten Schwierigkeiten und einer zus√§tzlichen Belastung des Desktop-Dienstes.  Die Grafik der offenen Vorf√§lle im Dienst mobiler Ger√§te zeigt deutlich den Zeitraum der aktivsten Migration. <br><br>  Gl√ºcklicherweise war der √úbergang erfolgreich - p√ºnktlich und ohne unerwartete Probleme. <br><br><img src="https://habrastorage.org/webt/mr/7y/zo/mr7yzogekruczdl0c3w5awc0pmo.png"><br><br><h2>  <b>Wie ist das Leben auf dem Mars mit Microsoft Intune?</b> </h2><br>  W√§hrend der Migration war es f√ºr alle Supportteams ziemlich schwierig, sich anzupassen, da die Funktionen zum Verwalten mobiler Ger√§te viel umfassender und bequemer waren als in SCCM.  Nachdem wir jedoch einige Funktionen geopfert haben, haben wir eine deutlich h√∂here Stabilit√§t des Dienstes und weniger Vorf√§lle im Allgemeinen.  Zum Vergleich: Mit der vorherigen L√∂sung f√ºr 28.000 Benutzer hatten wir ungef√§hr 700 Vorf√§lle pro Monat, aber jetzt wird das Niveau bei ¬± 350 Vorf√§llen gehalten. <br><br>  Mit den neuen SCCM-Versionen f√ºgt Microsoft neue Funktionen hinzu, und ich hoffe, dass weiterhin in eine Hybridl√∂sung investiert wird. <br><br>  <b>Was ist neu</b> <br><br>  Die Migration auf das neue Produkt bot auch neue Funktionen f√ºr die Zugriffskontrolle, da Intune nur ein Teil des Enterprise Mobility + Security-Dienstes ist.  Die wichtigsten und interessantesten Funktionen f√ºr uns sind der <b>bedingte Zugriff</b> und das <b>Management mobiler Anwendungen</b> . <br><br>  Der bedingte Zugriff ist eine Richtlinie zur Dienstzugriffskontrolle.  Angenommen, ein Benutzer m√∂chte eine Verbindung von einem pers√∂nlichen Telefon zu Exchange Online herstellen.  F√ºr die Zugriffsrichtlinie muss auf Ihrem Ger√§t Microsoft Intune ausgef√ºhrt werden, um auf EXO zugreifen zu k√∂nnen.  Wenn dieser Benutzer versucht, das Postfach √ºber die Standard-Mail-Anwendung unter iOS zu konfigurieren, wird nur eine Meldung angezeigt: "Der Administrator verlangt, dass das Ger√§t √ºber Microsoft Intune gesteuert wird." Ebenso k√∂nnen Sie den Zugriff auf jede in Azure AD registrierte Anwendung steuern. <br><br>  Mobile Application Management ist die Verwaltung von Unternehmensdaten innerhalb der Anwendung.  Diese Einstellung bestimmt, ob es m√∂glich ist, Arbeitsdokumente im Telefonspeicher zu speichern, in Anwendungen von Drittanbietern zu kopieren usw. <br><br>  Beide Funktionen erm√∂glichen eine flexible und schmerzlose Benutzerkonfiguration der Sicherheitseinstellungen. <br><br><h2>  <b>Migration zu Intune Standalone</b> </h2><br>  Nachdem wir uns f√ºr neue L√∂sungen von Microsoft interessiert hatten, insbesondere f√ºr Co-Management und Autopilot, stellten wir fest, dass es notwendig war, auf eine vollst√§ndig Cloud-basierte L√∂sung (die sogenannte Intune Standalone) umzusteigen. <br><br>  Zum Zeitpunkt der Entscheidung hatte Microsoft bereits schrittweise Anweisungen zur Migration von Benutzern von SCCM zu Intune Standalone ver√∂ffentlicht: <br><br><ul><li>  Exportieren Sie Konfigurationen aus SCCM und importieren Sie sie in Intune. </li><li>  Migration von Testbenutzern. </li><li>  Migration aller Benutzer. </li><li>  Wechseln Sie die MDM-Berechtigung von SCCM zu Intune. </li></ul><br>  In der Export- / Importphase wurde eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">L√∂sung von Microsoft selbst verwendet</a> .  Leider verlief der Import nicht sehr gut und nicht nur bestimmte Anwendungen wurden aus SCCM migriert, sondern alle Bereitstellungstypen, wodurch separate Anwendungen in Intune erstellt wurden. <br><br>  Es sah ungef√§hr so ‚Äã‚Äãaus: <br><br><img src="https://habrastorage.org/webt/8y/b3/fl/8yb3flsgley6xygi-wvt4bb68ji.jpeg"><br><br>  Dar√ºber hinaus wurde aus irgendeinem Grund die Anwendungsversion auch nicht korrekt importiert, und aus diesem Grund mussten alle Anwendungen manuell ver√∂ffentlicht werden.  Mit dieser Konfiguration und Richtlinien wurden ohne Probleme migriert. <br><br>  <b>Testgruppenmigration</b> <br><br>  Die Testgruppe bestand zun√§chst aus meinen Kollegen und mir.  Wir hatten Angst, dass Benutzer bemerken, dass sie migrieren.  Dies k√∂nnte eine Welle von Anrufen beim Desktop-Dienst hervorrufen.  Tests haben jedoch gezeigt, dass Benutzer mangels unterschiedlicher Konfigurationen und ver√∂ffentlichter Anwendungen nichts bemerken. <br><br>  Was war der Migrationsmechanismus?  Der erforderliche Benutzer wurde aus der SCCM-Sammlung entfernt, die in den Intune-Abonnementeinstellungen verwendet wurde.  Dies geschah durch eine exklusive Sammlung, die wiederum an eine Gruppe in Active Directory gebunden war.  Um den Benutzer zu migrieren, m√ºssen Sie ihn daher nur der erforderlichen AD-Gruppe hinzuf√ºgen. <br><br>  Unerwarteterweise gab es jedoch Probleme bei der Bereitstellung des Service Desk-Zugriffs zur Verwaltung migrierter Ger√§te.  Ich habe eine besondere Rolle geschaffen, die nur die f√ºr ihre Aufgaben erforderlichen Rechte hatte.  Die Rolle wurde der erforderlichen Gruppe zugewiesen, aber f√ºr einige Personen wurde kein Zugriff angezeigt.  Analystenlizenzen und ihre Konten wurden √ºberpr√ºft, aber alles umsonst.  Das √úberpr√ºfen der effektiven Rollen √ºber die Graph-API ergab, dass eine Rolle vorhanden ist, die Person jedoch noch keinen Zugriff hatte.  Nach einer langen Untersuchung wurde zusammen mit dem Microsoft-Support festgestellt, dass f√ºr Analysten eine Lizenz (Intune in EMS E3 oder EMS E5) erforderlich ist.  Au√üerdem m√ºssen Analysten wiederum auf Intune Standalone migriert werden.  Der Bedarf wurde nicht dokumentiert und es dauerte einige Wochen, bis er behoben war. <br><br>  Gleichzeitig zog ich eine Gruppe von Vertriebsmitarbeitern aus einem europ√§ischen Land f√ºr die Migration an, die den VPN-Dienst aktiv in ihrer t√§glichen Arbeit nutzen und die Migration selbst ausf√ºhren, sowie den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Server</a> , der separat f√ºr Intune Standalone <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">NDES konfiguriert wurde</a> .  In diesem Schritt wurde die Migration fast abgebrochen, und alle Benutzer kehrten zur√ºck. <br><br>  Damit der Benutzer den VPN-Dienst verwenden kann, wird ihm ein Profil geliefert, mit dem der VPN-Client mithilfe des angegebenen SCEP-Zertifikats konfiguriert wird, das sich auf die Stammzertifizierungsstelle bezieht.  Dementsprechend muss f√ºr den Betrieb ein Paar Zertifikate vorhanden sein. <br>  Wir hatten nur ein Zertifikat (Stammzertifizierungsstelle). <br><br>  Am einfachsten ist es anzunehmen, dass das Problem auf dem NDES-Server liegt.  Aber es funktionierte perfekt und erhielt nicht einmal Anfragen nach Zertifikaten.  Bei der Pr√ºfung der Protokolle von den Ger√§ten selbst stellte ich fest, dass das Ger√§t nicht einmal die erforderlichen Einstellungen zum Anfordern eines SCEP-Zertifikats erhalten hat.  Microsoft hat dieses Problem an Intune-Entwickler weitergeleitet, die festgestellt haben, wie wichtig es ist, nicht nur alle Zertifikate zu haben, sondern auch, dass alle Zertifikate und Einstellungen an dieselben Benutzergruppen und Ger√§te gesendet werden m√ºssen.  In unserem Fall wurde die Stammzertifizierungsstelle an alle Ger√§te und SCEP nur an bestimmte Ger√§te gesendet. <br><br>  Und so begannen wir mit der Migration von 1000 auf 4000 Benutzer in einer Welle.  Der Vorgang dauerte 4 Wochen.  Wir waren zu allem bereit (wir alle wissen, dass sehr selten alles nach Plan verl√§uft).  Aber alles verlief reibungslos, ohne dass die Anrufe beim Desktop-Service zunahmen. <br><br><h2>  <b>Veraltete Ger√§te</b> </h2><br>  In √úbereinstimmung mit unseren Standards streben wir die Mindestversionen von mobilen Betriebssystemen an: <br><br>  ¬∑ T-1 f√ºr iOS. <br>  ¬∑ T-2 f√ºr Android. <br><br>  * T ist momentan die neueste Version. <br><br>  In geringerem Ma√üe gilt dies f√ºr iOS, as  Apple unterst√ºtzt seine Ger√§te seit langem.  Dies gilt eher f√ºr Android-Ger√§te.  Beispielsweise verwenden Benutzer immer noch Android 4.4.2 auf Ger√§ten, die √§lter als 4 Jahre sind. <br><br>  In diesem Fall f√ºhren wir einen Dialog mit dem lokalen IT-Team, um den Zeitpunkt f√ºr den Austausch von Ger√§ten zu bestimmen, da ein Gleichgewicht zwischen der Sicherheit und dem Geld f√ºr deren Aktualisierung gefunden werden muss. <br><br><h2>  <b>Was weiter?</b> </h2><br>  Die √Ñnderung der Entscheidung hat zu internen √Ñnderungen gef√ºhrt.  Beispielsweise gab es Skripte zum Bereinigen von SCCM von veralteten Ger√§ten, die in PowerShell geschrieben wurden und jetzt nicht mehr verwendet werden k√∂nnen.  In all seinen neuen L√∂sungen f√∂rdert Microsoft die Graph-API, die beherrscht werden muss. <br><br>  Die Berichterstellung wurde bis vor kurzem auf der Grundlage von SSRS erstellt. Jetzt verwenden wir Power BI + oData Feed mit Daten aus dem Intune Data Warehouse. <br><br>  Ich habe bereits Conditonal Access und Mobile Application Management erw√§hnt.  Die erste L√∂sung wurde bereits implementiert, jetzt arbeiten wir an der zweiten.  Wir testen Azure Application Proxy auch als Ersatz f√ºr VPN auf Mobilger√§ten.  Wenn es interessant ist, werde ich gerne in neuen Artikeln dar√ºber berichten. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de413423/">https://habr.com/ru/post/de413423/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de413413/index.html">√úbersicht √ºber die Symfony-Komponenten: Konfig</a></li>
<li><a href="../de413415/index.html">Adaptive Parallelit√§tslimits in Netflix</a></li>
<li><a href="../de413417/index.html">Energieeffizienz: Die Ans√§tze, die wir in Russland testen</a></li>
<li><a href="../de413419/index.html">PostgreSQL News Digest. Ausgabe Nr. 7</a></li>
<li><a href="../de413421/index.html">M√∂gliche Unsicherheiten in der Karriere eines Programmierers</a></li>
<li><a href="../de413427/index.html">Programmierung f√ºr Netzwerktechniker: Arbeiten mit der Konfiguration</a></li>
<li><a href="../de413429/index.html">Wir schreiben ein Plugin, um Wildcard-Zertifikate von Let's Encrypt zu erhalten</a></li>
<li><a href="../de413431/index.html">Workshops zur Entwicklung intelligenter Vertr√§ge √ºber Solidit√§t</a></li>
<li><a href="../de413433/index.html">65% der russischen IT-Experten m√∂chten im Ausland arbeiten</a></li>
<li><a href="../de413435/index.html">Vererbung jenseits der Genetik</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>