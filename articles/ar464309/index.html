<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ต๏ธ ๐ฉ๐ปโ๐ง ๐จโ๐งโ๐ง ุฒุฑ ุงูุงุชุตุงู ุฏูู. Raspberry Piุ MajorDoMoุ Freeswitch and Linphonec ๐ญ โ๏ธ ๐ถ๐ฟ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููุฐ ุจุนุถ ุงูููุช ุ ููุช ุจุญุงุฌุฉ ุฅูู ุงูุชูุงุตู ูุน ุดุฎุต ูุง ุจุนุฏ ูุฑุถ ูู ูุชููู ูู ุงุณุชุฎุฏุงู ุงููุงุชู ุฌุณุฏููุง. ููุงู ุญุงุฌุฉ ุฅูู ุฌูุงุฒ ุงุชุตุงู ุจุณูุท ุ ุชู ุฅุฌุฑุงุก ููุงููุฉ ุตูุชูุฉ ุจููุณุฉ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุฒุฑ ุงูุงุชุตุงู ุฏูู. Raspberry Piุ MajorDoMoุ Freeswitch and Linphonec</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/464309/" style=";text-align:right;direction:rtl">  ููุฐ ุจุนุถ ุงูููุช ุ ููุช ุจุญุงุฌุฉ ุฅูู ุงูุชูุงุตู ูุน ุดุฎุต ูุง ุจุนุฏ ูุฑุถ ูู ูุชููู ูู ุงุณุชุฎุฏุงู ุงููุงุชู ุฌุณุฏููุง.  ููุงู ุญุงุฌุฉ ุฅูู ุฌูุงุฒ ุงุชุตุงู ุจุณูุท ุ ุชู ุฅุฌุฑุงุก ููุงููุฉ ุตูุชูุฉ ุจููุณุฉ ุฒุฑ ูุงุญุฏุฉ.  ููุน ุฐูู ุ ููุฏ ุงุฎุชูุช ุงูุญุงุฌุฉ ุ ุจุนุฏ ุฒูุงุฑุฉ ุงููุณุชุดูู ุจููุณู ุ ูุงููุธุฑ ุฅูู ุงููุฑุถู ุ ูุงู ูุนุชูุฏ ุฃู ูุซู ูุฐุง ุงูุญู ูุฏ ูููู ูููุฏูุง. <br>  ุงูุขู ุฃุฑู ุงูุงุณุชุฎุฏุงู ุงูุดุฎุตู ููุฐุง ุงูุฌูุงุฒ ุจุงุนุชุจุงุฑู ุฌุฑุณ ุงูุจุงุจ SIP. <br><br>  ุฑุจูุง ูุน ุชุนุฏููุงุช ุตุบูุฑุฉ ุ ูุฒูุฌ ูู ุงูุงุชุตุงูุงุช ุนุจุฑ ุจุฑูุชูููู ุงูุฅูุชุฑูุช ุนุจุฑ ุจุฑูุชูููู ุงูุฅูุชุฑูุช ูุน ูุธุงู ุงูุชุดุบูู ุงูุขูู ููููุฒู.  ูุฎูุงุฑุงุช ููุงุณุชุฎุฏุงู - SIP ุฌุฑุณ ุงูุจุงุจ ุ ูุงูุงุชุตุงู ุงูุฏุงุฎูู ุ ููุธุงู ุงูุงุชุตุงู ุงูุตูุชู (ุงูุนููู ุงูุนููุงุก ุ ูุฏูุฑ ุณูุฑุชูุฑ) ุ ุงูุฎ <br><br><img src="https://habrastorage.org/webt/lr/x1/5g/lrx15gxymgjqei5tsqgkgzxtaiy.jpeg"><br><br>  ูุชู ุงุชุฎุงุฐ ุงููุฑุงุฑ ุจุฑูุชู ุจุดุฃู ุงูุจุฑูุฌูุงุช ุงูุญุฑุฉ ูุงูููุชูุญุฉ ุงููุตุฏุฑ: ูุธุงู ุงูุชุดุบูู - Raspbian Stretch (Debian 9) ุ ููุธุงู ุงูุชุดุบูู ุงูุขูู ููููุฒู - MajorDoMo ุ ูุฎุงุฏู VoIP - Freeswitch ุ ุนููู ุจุฑูุงูุฌ ุงูุงุชุตุงู ุนุจุฑ ุจุฑูุชูููู ุงูุฅูุชุฑูุช IP ูุน ุงููุฏุฑุฉ ุนูู ุงูุนูู ูู ูุถุน ุงููุญุทุฉ ุงูุทุฑููุฉ Linphonec. <br><br>  ูู ูุฐุง ุงูุฌุฒุก ุ ูู ุฅุทุงุฑ ุงููุทุน ุ ุณูุชุญุฏุซ ุจุดูู ุฃุณุงุณู ุนู ุชุซุจูุช ุนููู SIP ููุญุฏุฉ ุงูุชุญูู Linphonec. <br><a name="habracut"></a><br>  ุณูุญุชุงุฌ: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Raspberry Pi - ููุจููุชุฑ ููุญ ูุฑุฏู (ูุฏู ุทุฑุงุฒ Raspberry Pi 3B) </li><li style=";text-align:right;direction:rtl">  ุจุทุงูุฉ ุฐุงูุฑุฉ Micro SD ูุง ุชูู ุนู 16 ุฌูุฌุงุจุงูุช ุ ุดุงุญู USB ุ ูุจูุช. </li><li style=";text-align:right;direction:rtl">  ุจุทุงูุฉ ุตูุช USB (ูุงุญุฏุฉ ูู ุฃุฑุฎุต ุ Gembird ุงููุณุชุฎุฏูุฉ) ุ ููููุฑูููู ุ ููุจุฑ ุตูุช (ุณูุงุนุงุช ุงูุฑุฃุณ). </li><li style=";text-align:right;direction:rtl">  ุฒุฑ ูุฒูุฌ ูู ูุงุนุจู BBJ ูุฏุจุงุจูุณ GPIO. </li></ol><br>  1. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฎุทูุฉ ุงูุฃููู - ุชุซุจูุช ุตูุฑุฉ MajorDoMo ูู RPI</a> <br>  ุญุงูููุง ุ ุงูุฅุตุฏุงุฑ ุงูุญุงูู ูู ุตูุฑุฉ Raspberry Pi ูู v.  3.40.  ูููุง ููู ูุตู ููุฌุฒ ูุตูุฑ ูุชุบููุฑุงุช MajorDoMo: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">MajorDoMo ุงูุตูุฑ ุงูุฃุณุงุณูุฉ ู Raspberry Pi</a> <br><br>  ุจุนุฏ ุงูุชุซุจูุช ูุนูุฏ ุจุฏุก ุชุดุบูู ุงููุธุงู ุ ูู ุจุชูุตูู ููุจุฑุงุช ุงูุตูุช ุจุงูููุตู 3.5 - ุณูู ูุณูุน ุฑุณุงุฆู ุงููุธุงู ูุนููุงู IP ูู Raspberry. <br><br>  ุงุณู ุงููุณุชุฎุฏู ุงูุงูุชุฑุงุถู ูู: ูููุฉ ุงููุฑูุฑ: ุงูุชูุช. <br><br>  2. ุชุซุจูุช ูุฑูุณููุชุด ุ <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุซุจูุช FRESWITCH VoIP Server for Raspberry</a> <br><br>  ุจุนุฏ ุฐูู ุ ููุชูู ุฅูู ุชุซุจูุช ุงูููููุงุช ุงูุถุฑูุฑูุฉ.  ุฎุทูุฉ ุงุฎุชูุงุฑูุฉ ุ ูููู ุฑุจูุง ุชููู ูููุฏุฉ ูุงุญููุง. <br><br><h4 style=";text-align:right;direction:rtl">  ุชุซุจูุช RPi ููููุชูุฑ </h4><br>  ูู ุจุชุซุจูุช ุฃุฏุงุฉ ูุณุงุนุฏุฉ ุตุบูุฑุฉ ูููููุง ูููุฏุฉ ูุฌูุงุฒ ุนุฑุถ RPI ุชูุธูุฑ ุงูููุงุฑุฏ ุงูุฎุงุตุฉ ุจู Raspberry PI. <br><br>  RPi-Monitor ูู ุจุฑูุงูุฌ ูุฑุงูุจุฉ ุนูู ุดุจูุฉ ุงูุฅูุชุฑูุช Raspberry Pi.  ูููู ุฃู ุชููู ูุฐู ุงูุฃุฏุงุฉ ูููุฏุฉ ููุชุญูู ูู ุงุณุชุฎุฏุงู ูุณุงุญุฉ ุงููุฑุต ูุชุญููู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ูุงูุฐุงูุฑุฉ ูุญุฑูุฉ ูุฑูุฑ ุงูุดุจูุฉ ูุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ.  RPI-Monitor ุณูู ุงูุชุซุจูุช ุ ููุนุฑุถ ุจุตุฑููุง ูุนูููุงุช ุญูู ุงููุธุงู. <br><br>  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ุณุฃูุฏู ุฑุงุจุทูุง ูููุตุฏุฑ: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">RPi ููููุชูุฑ</a> . <br><br>  ูู ุจุชุซุจูุช ุงูููุชุงุญ ุงูุนุงู RPi-Monitor ูุฃุถูู ุฅูู ุงููุณุชูุฏุนุงุช ุงูููุซูู ุจูุง: <br><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">sudo apt-get install dirmngr sudo apt-key adv --recv-keys --keyserver keyserver.ubuntu.com 2C0D3C0F sudo wget http://goo.gl/vewCLL -O /etc/apt/sources.list.d/rpimonitor.list</code> </pre> <br>  ุจุนุฏ ุฐูู ุ ูู ุจุชุญุฏูุซ ุงููุธุงู ูุชุซุจูุช ุฌูุงุฒ RPI ููุณู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sudo apt-get update sudo apt-get install rpimonitor</code> </pre><br>  ุงูุชุญ IP ุงูุฎุงุต ุจุฌูุงุฒ ุงูููุจููุชุฑ ูู ุงููุณุชุนุฑุถ ุจุงุณุชุฎุฏุงู ุงููููุฐ: 8888 ุ ุงูุฐู ุชุนูู ุนููู ุงูุดุงุดุฉ ุ ูุงูุธุฑ ุฅูู ุญุงูุฉ RPI. <br><br><img src="https://habrastorage.org/webt/97/xd/rb/97xdrbtse_r_tukes5aqhdz5c_8.png"><br><br><h4 style=";text-align:right;direction:rtl">  ุชุซุจูุช ุจุทุงูุฉ ุตูุช USB ูุฅุนุฏุงุฏ ุงูุตูุช ูู Raspberry Pi OS </h4><br>  ูุณูุก ุงูุญุธ ุ ูุง ูุญุชูู ุงูููุจููุชุฑ ุงููุตุบุฑ Raspberry ุงูุฎุงุต ุจูุง ุนูู ูููุฑูููู ูุฏูุฌ ููุฏุฎู ุฎุงุต ุจู.  ูุฐูู ุ ูุชูุตูู ูููุฑูููู ุ ูุฌุจ ุนููู ุงุณุชุฎุฏุงู ุจุทุงูุฉ ุตูุช USB ุฎุงุฑุฌูุฉ.  ูููู ุจุชูุตูู ุงูุจุทุงูุฉ ุจูููุฐ Raspberry USB ุ ููููุฐ ุงูุฃูุฑ (ุงูุฐู ูุนุฑุถ ุฃุฌูุฒุฉ ุงูุตูุช ูู ุงููุธุงู): <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">cat /proc/asound/cards</code> </pre> <br>  ูุฑู ุงูุฅุฌุงุจุฉ ุจุจุทุงูุชูู ุ bcm2835 - ูุฏูุฌุฉ ุ ุฎุงุฑุฌูุฉ ูุนุฑูุฉ ุนูู ุฃููุง ุฌูุงุฒ ุตูุช USB: <br><br>  <i>0 [ALSA]: bcm2835_alsa - bcm2835 ALSA</i> <i><br></i>  <i>bcm2835 ALSA</i> <i><br></i>  <i>1 [ุงูุฌูุงุฒ]: USB- ุงูุตูุช - ุฌูุงุฒ ุงูุตูุช USB</i> <i><br></i>  <i>GeneralPlus ุฌูุงุฒ ุตูุช USB ุนูู USB-3f980000.usb-1.4 ุ ุจุฃูุตู ุณุฑุนุฉ</i> <br>  ูุฑู ูุธุงู ุงูุชุดุบูู ุจุทุงูุฉ ุงูุตูุช ุงูุฎุงุตุฉ ุจูุง ุ ููููุง ุบูุฑ ูุณุฌูุฉ ุจุนุฏ ูู ุงููุธุงู. <br><br>  ูู ุจุฅูุดุงุก ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sudo nano /etc/modprobe.d/alsa-base.conf</code> </pre> <br>  ููุชุจ (ุงูุตู) ุงูุณุทุฑ ุงูุชุงูู: <br><br>  <i>ุฎูุงุฑุงุช snd-usb-audio index = 1</i> <br><br>  ุญูุธ (ูู ุงููุญุฑุฑ Ctrl + X). <br><br>  ูู ุจุฅูุดุงุก ููู ุขุฎุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sudo nano /etc/asound.conf</code> </pre> <br>  ุฅุถุงูุฉ ูุญุชูู: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุญุชููุงุช ุงูููู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">pcm.!default { type plug slave { pcm "hw:1,0" } } ctl.!default { type hw card 1 }</code> </pre> <br></div></div><br>  ูููู ุจุชุญุฑูุฑ ููู ุงูุชูููู ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sudo nano /usr/share/alsa/alsa.conf</code> </pre> <br>  ุชุบููุฑ ุจุทุงูุฉ ุงูุตูุช ุงูุงูุชุฑุงุถูุฉ ูู 0 ุฅูู 1 (ุจุทุงูุฉ USB) ุ ูู ุงููุงุถุญ ุ 0 ุจุดูู ุงูุชุฑุงุถู ูู ุฅุฎุฑุงุฌ ุงูุตูุช ุงููุฏูุฌ ูู ุงูููุจููุชุฑ ุงูุตุบูุฑ ุ ูู ุจุชุนููู ุงููุนููุงุช ุงูุชุงููุฉ ูู ุณุทุฑูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">defaults.ctl.card 1 defaults.pcm.card 1</code> </pre> <br>  ุณูู ุชุตุจุญ ุงูุชุบููุฑุงุช ูุงูุฐุฉ ุงูููุนูู ุ ุจุนุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู ุ ูููู ุจุฅูุฑุงุท ูู ุงููุชุงุจุฉ ูู ุฎูุงู ูุญุฏุฉ ุงูุชุญูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sudo reboot</code> </pre> <br>  ูููู ุจุชูุตูู ูููุฑูููู ูููุจุฑุงุช ุงูุตูุช (ุณูุงุนุงุช ุงูุฑุฃุณ) ุจุจุทุงูุฉ ุตูุช ุฎุงุฑุฌูุฉ.  ุจุนุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู ุ ูู ุจุชุดุบูู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ ูุชูููู ุงูุตูุช Alsamixer. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">alsamixer</code> </pre> <br>  ูุฑู ุฃุฌูุฒุชูุง ุงูุชู ุญุฏุฏูุงูุง ูู ุงููุธุงู ุจุดูู ุงูุชุฑุงุถู: <br><br><img src="https://habrastorage.org/webt/bx/em/kt/bxemktswfv1xvsofnautaly542i.png"><br><br>  ุงุณุชุฎุฏู ููุงุชูุญ ุงููุคุดุฑ ูููุณุงุฑ ูุงููููู ุ ูุญุฏุฏ ุงูุฌูุงุฒ ุงููุทููุจ ุ ูุฃุนูู ููุฃุณูู ุ ูุงุถุจุท ุ ูุงูุชุจู ุฅูู ุงูุฑููุฒ ุงูููุฌูุฏุฉ ุชุญุช ุงูุฌูุงุฒ ุงููุญุฏุฏ: <br><br>  xOOx - ุงูุฌูุงุฒ ููุฏ ุงูุชุดุบูู ุ xMMx - ุงูุฌูุงุฒ ูุบูู.  ููุง ุชุฑูู ูู ููุทุฉ ุงูุดุงุดุฉ ุ ุชู ุฅููุงู ุชุดุบูู ุงููููุฑูููู ุจุดูู ุงูุชุฑุงุถู ูู ุงููุธุงู. <br>  ูุชุดุบูู / ุฅููุงู ุชุดุบูู ุงูุฌูุงุฒ ุ ุชุญุชุงุฌ ุฅูู ุงูุถุบุท ุนูู <b>M</b> ุนูู ููุญุฉ ุงูููุงุชูุญ. <br>  ุงูุฎุฑูุฌ ูู alsamixer (ุฎุฑูุฌ ctr + C). <br>  ูุญุต ุงูุตูุช ูู ุงููุธุงู.  ูุชู ุชูุตูู ููุจุฑุงุช ุงูุตูุช ูุงููููุฑูููู ุจูุฎุฑุฌุงุช USB ุงูููุงุจูุฉ ูุจุทุงูุฉ ุงูุตูุช. <br><br>  ูุนุทู ุงูุฃูุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">arecord -D plughw:1,0 -f cd /home/pi/test_record.wav</code> </pre> <br>  ุจุงุณุชุฎุฏุงู ูุฐุง ุงูุฃูุฑ ุ ูุชู ุชุณุฌูู ููู ุตูุชู ุนุจุฑ ุงููููุฑูููู ูู ุงูุฏููู ุงูููุงุณุจ (ูู ุญุงูุชูุง ุ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ูููุณุชุฎุฏู).  ุชููู ุนู ุชุณุฌูู <b>Ctrl + c</b> . <br><br>  ุชุญูู ูู ุงูููู ุงููุณุฌู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">aplay /home/pi/test_record.wav</code> </pre> <br>  ุณูููู ุจุฅุฌุฑุงุก ูุญุต ุฃูุถู ูู ููุช ูุงุญู. <br><br><h4 style=";text-align:right;direction:rtl">  ุชุซุจูุช ุนููู VoIP Linphonec </h4><br>  ูุง ููุฌุฏ ุงููุซูุฑ ูู ุงูุจุฑุงูุฌ ุงูุชู ูููู ุฃู ุชุนูู ูู ูุธุงู ุงูุชุดุบูู ุจุฏูู ูุงุฌูุฉ ุฑุณูููุฉ ุ ููุฏ ุงุณุชูุฑุช ุนูู ุญุฒูุฉ Linphone. <br><br>  ุงูุญุฒูุฉ ูุจูุฑุฉ ุฌุฏูุง ุ ูุชุญุชูู ุนูู ุงูุนุฏูุฏ ูู ุงูููุฒุงุช ุงููุญุชููุฉ ุ ูููู ุญุชู ุงูุขู ูุง ูุญุชุงุฌ ุณูู ุฅูู ุฃุฏุงุฉ ุตุบูุฑุฉ Linphonec ูููููุง ุงูุนูู ูู ุงููุญุทุฉ ููุฏููุง ูุธููุฉ ุงูุฑุฏ ุงูุชููุงุฆู (ุงูุงูุชูุงุท ุงูุชููุงุฆู). <br><br>  ุจุงููุณุจุฉ ููุง ุ ุณูุชู ุชูููุฐ ุงูุฅุฌุฑุงุกุงุช ุงูุชุงููุฉ. <br><br>  ูุงุญุธุช ุฃูู ุนูุฏ ุงูุชุซุจูุช ูู ูุณุชูุฏุน Raspbian ุ ูุชู ุชุซุจูุช ุฅุตุฏุงุฑ ูุฏูู ุฅูู ุญุฏ ูุง 3.6.1 ุ ูุงูุฐู ูุง ูุนูู ุจุดูู ุตุญูุญ ูุน ูุธุงู ุงูุตูุช ALSA ุ ููุฏ ูุงู ูุฏู ููุฏุงู ุตูุช ุ ุชุนุทู ุงูุจุฑูุงูุฌ ููุณู ุนุฏุฉ ูุฑุงุช. <br><br>  ูุฐูู ุ ุณูู ุชุณุชุฎุฏู ูุณุฎุฉ ุฃูุซุฑ ุญุฏุงุซุฉ. <br><br>  ููุชุฌููุน ุงูุฐุงุชู ููุญุฒูุฉ ูู ุงููุตุงุฏุฑ ุ ูููู ุจุชุซุจูุช ุชุจุนูุงุช ุฅุถุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sudo apt-get install cmake automake autoconf libtool intltool yasm libasound2-dev libpulse-dev libv4l-dev nasm git libglew-dev</code> </pre><br>  ุงุฐูุจ ุฅูู ุงูุฏููู ุงูุฑุฆูุณู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">cd /home/pi/</code> </pre> <br>  ุชูุฒูู ุญุฒูุฉ Linphone ููุณูุง ุ ุงุณุชุบุฑู ุงูุชูุฒูู ุญูุงูู 20 ุฏูููุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">git clone git://git.linphone.org/linphone-desktop.git --recursive</code> </pre> <br>  ูุง ูููููู ุชุฌููุน ูุชุฌููุน ุญุฒูุฉ Linphone ูู ุงููุฑุฉ ุงูุฃููู ุฃู ุญุชู ุงูุซุงููุฉ.  ูุฐูู ุ ุณุฃูุฏู ุฎูุงุฑุฒููุฉ ุงูุนูู ุงูุฎุงุตุฉ ุจู. <br><br>  ูุชููู ุนู ุชุดุบูู ุฌููุน ุงูุฎุฏูุงุช ุญุงูููุง ุชูุฑูุจูุง ุ ูููู ุงูุฎุฏูุงุช ุบูุฑ ุงููุณุชุฎุฏูุฉ ุญุงูููุง ุ ุจุงุณุชุฎุฏุงู ูุธุงู ุฅุฏุงุฑุฉ ุฎุฏูุฉ systemctl. <br><br>  ุญุฏุซุช ุฃุฎุทุงุก ุฃุซูุงุก ุงูุชุฌููุน ุ ุจุจุณุงุทุฉ ูุง ูุญุชูู ุฌูุงุฒ ุงูููุจููุชุฑ ุงููุตุบุฑ ุนูู ููุงุฑุฏ ูุงููุฉ.  ุชุญุฑูุฑูุง ููุชุซุจูุช. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููู ุงูุฎุฏูุงุช</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sudo systemctl stop freeswitch.service sudo systemctl stop majordomo.service sudo systemctl stop avahi-daemon.socket sudo systemctl stop avahi-daemon.service sudo systemctl stop mosquitto.service sudo systemctl stop mysql sudo systemctl stop mpd.service sudo systemctl stop mpd.socket sudo systemctl stop homebridge.service sudo systemctl stop nginx.service sudo systemctl stop bluetooth.target sudo systemctl stop bluetooth.service</code> </pre><br></div></div><br>  ููุท ูู ุญุงูุฉ ุ ูููููุง ุฃู ูุฌุนู ููู ุชุจุฏูู ูุคูุช (ูุจู ุฅุนุงุฏุฉ ุงูุชุดุบูู) (ูุณุงุญุฉ ุนูู ุงููุฑุต ุงูุตูุจ) ุ ูุงูุฐู ูุณุชุฎุฏูู ูุธุงู ุงูุชุดุบูู ูู ุญุงูุฉ ุนุฏู ููุงูุฉ ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู. <br>  ููุนุฑูุฉ ูุง ุฅุฐุง ูุงู ููู ุงููุจุงุฏูุฉ ูุฏุฑุฌูุง ูู ุชุซุจูุช Raspbian (Debian) ุงูุฎุงุต ุจูุง ุนู ุทุฑูู ุงููุชุงุจุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sudo swapon --show</code> </pre> <br>  ุงูุฅุฎุฑุงุฌ ูุงุฑุบ ุ ููุง ูุนูู ุฃู ุงููุธุงู ูุง ูุญุชูู ุนูู ููู ูุจุงุฏูุฉ. <br>  ุฃุถู 1G ูุจุงุฏูุฉ ูุฅูุดุงุก ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sudo fallocate -l 1G /swapfile</code> </pre> <br>  ูููู ููุท ูููุณุชุฎุฏู ุงูุฌุฐุฑ ุงููุฑุงุกุฉ ูุงููุชุงุจุฉ ุฅูู ููู ุงูุตูุญุฉ ุ ูุฐูู ูููู ุจุชุนููู ุงูุฃุฐููุงุช ุงูุตุญูุญุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sudo chmod 600 /swapfile</code> </pre> <br>  ูุณุชุฎุฏู ุฃุฏุงุฉ mkswap ูุชูููู ููุทูุฉ ุชุจุงุฏู Linux ูู ุงูููู ูุชูุดูุทูุง ุนู ุทุฑูู ูุชุงุจุฉ ุงูุฃูุงูุฑ ุงูุชุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sudo mkswap /swapfile sudo swapon /swapfile</code> </pre><br>  ุงูุชูู ุฅูู ุงูุฏููู ุงูุฐู ุชู ุฅูุดุงุคู ุนูุฏ ุชูุฒูู ุงูุญุฒูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">cd linphone-desktop</code> </pre> <br>  ูุญู ูุณุชุนุฏ ูุชุซุจูุช ุฅุตุฏุงุฑ ุจุฏูู ูุงุฌูุฉ ุฑุณูููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sudo ./prepare.py no-ui -DENABLE_OPENH264=ON -DENABLE_WEBRTC_AEC=OFF -DENABLE_UNIT_TESTS=OFF -DENABLE_MKV=OFF -DENABLE_FFMPEG=ON -DENABLE_CXX_WRAPPER=OFF -DENABLE_NON_FREE_CODECS=ON -DENABLE_VCARD=OFF -DENABLE_BV16=OFF -DENABLE_V4L=OFF</code> </pre><br>  ุฅูุดุงุก ุจุงุณุชุฎุฏุงู ุงูุณูุฉ โj4 (ุฃู ุ ุฅูุดุงุก 4 ุณูุงุณู ูู ููุณ ุงูููุช. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sudo make -j4</code> </pre> <br>  ุนูุฏ ุงูุชุซุจูุช ุ ูููููุง ุฃู ููุธุฑ ุฅูู ุญุงูุฉ ุฌูุงุฒ ุงูููุจููุชุฑ ุงูุฎุงุต ุจูุง ูู ุดุงุดุฉ RPI-Monitor: <br><br><img src="https://habrastorage.org/webt/mo/av/vx/moavvxkzq01wxkp5hxayi-oip2y.png"><br><br>  ูุงู ููุช ุงูุจูุงุก ุจุงููุณุจุฉ ูู ุญูุงูู 30-40 ุฏูููุฉ. <br><br>  ุธูุฑุช ูููุงุช ุงูุจุฑูุงูุฌ ุงููุชุฑุฌูุฉ ูู ุฏููู OUTPUT / no-ui / bin.  ูุชุดุบูู ุงูุจุฑูุงูุฌ ุ ุฏุนูุง ูุฐูุจ ุฅููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">cd OUTPUT/no-ui/bin</code> </pre> <br>  ุชุญูู ูู ุฅุตุฏุงุฑ ุงูุจุฑูุงูุฌ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">./linphonec -v</code> </pre> <br>  ูุญุตู ุนูู ุงููุชูุฌุฉ: ุงูุฅุตุฏุงุฑ: 3.12.0 <br>  ุงูุญูููุฉ ุงูุฒุงุฆุฏุฉ ูุฏููุง ุงูุชูุช <br>  ุนูุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู ุ ูุฎุชูู ููู ุงููุจุงุฏูุฉ ุ ูุชุชู ุงุณุชุนุงุฏุฉ ุฌููุน ุงูุฎุฏูุงุช ููุฏ ุงูุชุดุบูู ุงููุณุฌูุฉ ุนูุฏ ุจุฏุก ุงูุชุดุบูู. <br><br><h4 style=";text-align:right;direction:rtl">  ุฅุนุฏุงุฏ Freeswitch ุงูุฃููู ุตุบูุฑ. </h4><br>  ูุชู ุชุซุจูุช ุฎุงุฏู FREESWITCH ุงูุชุฑุงุถููุง ูู ุงูุฏููู / usr / local / freeswitch /.  ูุญุชูู ุงููุฌูุฏ conf ุนูู ูููุงุช ุงูุชูููู.  ุงูุชุฑุงุถููุง ุ ูุชู ุชุซุจูุช ุชูููู ุงุฎุชุจุงุฑ ุงููุงููููุง ุ ูุงูุฐู ูุนูู ูู ูุนุธูู ุนูู ุชุนุฑูู ููุณู ุจุฅููุงููุฉ ูุฌูุฏ ุฎุงุฏู VoIP ููุญุชูู ุนูู ุนุฏุฏ ูุจูุฑ ูู ุงูุฃูุซูุฉ ุงูุชู ูู ุงููุงุถุญ ุฃููุง ุฒุงุฆุฏุฉ ููุงุณุชุฎุฏุงู ุงูููุฒูู.  ุฃููุงู ุ ุฏุนูุง ูุฑู ุงูุชูููู ุงูุฎุงุฑุฌู ูุฎุงุฏู VoIP. <br><br>  ุชุญุฑูุฑ ููู ุงูุชูููู vars.xml <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sudo nano /usr/local/freeswitch/conf/vars.xml</code> </pre> <br>  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ูู ุจุชุบููุฑ ูููุฉ ุงููุฑูุฑ ุงูุงูุชุฑุงุถูุฉ 1234 ุฅูู ูููุฉ ูุฎุชููุฉ ุ ูู 1111. ุฅุฐุง ูู ุชูู ุจุฐูู ุ ููุจู ูู ููุงููุฉ ูุชู ุฅููุงู ูุคูุช ูุจู ุงูุงุชุตุงู ุจู 10 ุซูุงูู. <br><br>  ุจุดูู ุงูุชุฑุงุถู ุ ููุง ูุชุจุช ูู ููุงูุฉ ุณุงุจูุฉ ุ ูุฏููุง 20 ุฑูู ูุดุชุฑู 1001-1020.  ูุชู ุชุซุจูุช Dialplan ุฃูุถูุง ุงูุชุฑุงุถููุง. <br><br>  ูุณุจุจ ูุง ุ ูุฐู ุงูุฃููุงุช ุ ููุงุฑูุฉู ุจุณุชุฉ ุฃุดูุฑ ุ ุนูุฏูุง ุชู ุชุดุบูู ุงููุญุฏุฉ ุงูููุทูุฉ mod_xml_rpc ุ ุชุนุทู ุงูุฎุงุฏู ุจุงุณุชูุฑุงุฑ. <br><br>  Dialplan FreeSWITCH ุชุณุชุฎุฏู ุนูู ูุทุงู ูุงุณุน ุงูุชุนุจูุฑุงุช ุงูุนุงุฏูุฉ.  ุงูุงุชุตุงู ุงููุงุชูู ุงูุงูุชุฑุงุถู ูุณุคูู ุนู ูุนุงูุฌุฉ ุงูููุงููุงุช ุ ุงููุณู ุงูุชุงูู ูู ููู Local_Extension ูุณุคูู ุนู ุงูุฅุฑุณุงู ุฅูู ุฃุฑูุงููุง ุงููุญููุฉ.  ุงูุชุนููู ุฎุงุฑุฌ ุงูุฃุณุทุฑ ุงูููููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sudo nano /usr/local/freeswitch/conf/dialplan/defaults.xml</code> </pre> <br>  ุชุนุฏูู ูุฑุจุน ุงูุญูุงุฑ ุ ุฃุฏุฎู ุฑูุฒ ุงูุชุนููู ูู ูุฐุง ุงููุณู: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุฑุจุน ุญูุงุฑ ุชุญุฑูุฑ ุงูุฃุฑูุงู 1001-1019</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">extension</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Local_Extension"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">condition</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">field</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"destination_number"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">expression</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"^(10[01][0-9])$"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">action</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">application</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"export"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"dialed_extension=$1"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- &lt;action application="bind_meta_app" data="1 bs execute_extension::dx XML features"/&gt; &lt;action application="bind_meta_app" data="2 bs record_session::$${recordings_dir}/${caller_id_number}.${strftime(%Y-%m-%d-%H-%M-%S)}.wav"/&gt; &lt;action application="bind_meta_app" data="3 bs execute_extension::cf XML features"/&gt; &lt;action application="bind_meta_app" data="4 bs execute_extension::att_xfer XML features"/&gt; --&gt;</span></span></code> </pre><br></div></div><br>  <i>ุจุฑุฃูู ุ ุนูู ุงูุฑุบู ูู ูุฏุฑุฉ FS ุนูู ุงูุนูู ุ ุจุนุฏ ุชุบููุฑุงุชูุง ุงูุนุฏูุฏุฉ ุ ูู ุงูุฃูุถู ุฅุนุงุฏุฉ ูููุงุช ุชููุฆุฉ FS ูููุณู ุ ุจูุง ูู ุฐูู</i>  <i>ุงูุงุดุชุฑุงู ุ dialplan ุ ููุง ุฅูู ุฐูู ุ ูููู ูุง ููููู ุงุญุชูุงุก ูู ุดูุก ูู ููุงู ูุงุญุฏ ุ ูุฐูู ููุชูู ุฅูู ุนููููุง ุงูุทุฑูู.</i> <br><br><h4 style=";text-align:right;direction:rtl">  ุชูููู ูุฅุทูุงู ุนููู Linphonec ุงูุทุฑูู </h4><br>  ูู ุจุชุดุบูู Linphonec ูู ูุถุน ุงูุฑุฏ ุงูุชููุงุฆู ูู ูุณุชุฎุฏู pi ุงูุญุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">/home/pi/linphone-desktop/OUTPUT/no-ui/bin/linphonec -a</code> </pre> <br>  ุนูุฏ ุงูุฅุทูุงู ูุฃูู ูุฑุฉ ุ ูุญุงูู Linphonec ุฅูุดุงุก ููู ููุงุนุฏุฉ ุจูุงูุงุช ููู ุงูุฅุนุฏุงุฏุงุช.  ููุน ุฐูู ุ ูุฅู ุงูุฅุทูุงู ูู ุฎุทุฃ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฃุฎุทุงุก ุจุฏุก linphonec</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">2019-08-02 18:02:58:715 mediastreamer-error-Connection to the pulseaudio server failed 2019-08-02 18:02:58:946 belle-sip-error-udp bind() failed for ::0 port 5060: Address already in use 2019-08-02 18:02:58:947 belle-sip-error-TCP bind() failed for ::0 port 5060: Address already in use 2019-08-02 18:02:59:126 liblinphone-fatal-Unable to open linphone database. Aborted</code> </pre> <br></div></div><br>  ูู ุงูุจุฏุงูุฉ ุ ุณูู ูุชุนุงูู ูุน ุงูุฎุทุฃ ุงูุฃุฎูุฑ ุ ูุชุญ ููู ูุงุนุฏุฉ ุงูุจูุงูุงุช. <br><br>  ูุชู ุฅูุดุงุก ููู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ุงูุฏููู ุงูุฑุฆูุณู ุนูู ุทูู ุงููุณุงุฑ ุงูุชุงูู: /home/pi/.local/share/linphone <br>  ูุนุชุจุฑ ููู Linux (ุฃู ุงูุฏููู) ูุฎูููุง ุฅุฐุง ูุงู ุงุณูู ูุจุฏุฃ ุจูุชุฑุฉ "."  ุนูู ุณุจูู ุงููุซุงู ุ ".myfile".  ุนุงุฏุฉู ูุง ุชุณุชุฎุฏู ุงูุชุทุจููุงุช ูุฐู ุงููููุงุช ูุชุฎุฒูู ุงูุฅุนุฏุงุฏุงุช ูุงูุชููููุงุช ูุบูุฑูุง ูู ุงููุนูููุงุช ุงูุชู ูุฌุจ ุฅุฎูุงุคูุง ุนู ุงููุณุชุฎุฏู. <br>  ุฅูุดุงุก ุฏููู ูู ุงููุณุชุฎุฏู ุงูุญุงูู (pi) <br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">mkdir /home/pi/.local mkdir /home/pi/.local/share mkdir /home/pi/.local/share/linphone</code> </pre> <br>  ุจุฏุฃูุง ุงูุจุฑูุงูุฌ ุ ุจุฏุฃ ุงูุจุฑูุงูุฌ ุ ูููู ูุนุทู ุฎุทุฃ: <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฎุทุฃ ูู ูุชุญ ุงููููุฐ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">2019-08-07 11:29:32:780 mediastreamer-error-Connection to the pulseaudio server failed 2019-08-07 11:29:32:866 belle-sip-error-udp bind() failed for ::0 port 5060: Address already in use 2019-08-07 11:29:32:866 belle-sip-error-TCP bind() failed for ::0 port 5060: Address already in use</code> </pre> <br></div></div><br>  ุงูุชุดููุง ุงููุดููุฉ ุงูุฃููู ุงููุชูุซูุฉ ูู ุฅูุดุงุก ูุงุนุฏุฉ ุจูุงูุงุช ุ ุนูุฏ ุงูุชุดุบูู ุงูุฃููู ุ ุฃูุดุฃ ุงูุจุฑูุงูุฌ ููู ูุงุนุฏุฉ ุจูุงูุงุช. <br><br>  ุงูุฎุทุฃ ุงููุฑุชุจุท ุจูุธุงู ุงูุตูุช Pulseaudio - ูุง ูุชุนุงุฑุถ ูุน ุนูู ุงูุจุฑูุงูุฌ ุ ุฃุฎุทุท ูุงุณุชุฎุฏุงู ALSA ุ ุฅุฐุง ูุฒู ุงูุฃูุฑ ุ ูููู ุฏุงุฆููุง ุชุซุจูุช ุฎุงุฏู ุตูุช ูู ูุจู. <br><br>  ุงูุซุงูู - ุงูููุงูุฆ 5060 ูุดุบูููู.  ูุฐู ุงูููุงูุฐ ุดุงุฆุนุฉ ุงูุงุณุชุฎุฏุงู ูู ูุจู ุชุทุจููุงุช SIP.  ูููููุง ุงูุฎุฑูุฌ ูู ุงูุจุฑูุงูุฌ ูุฅุนุทุงุก ุงูุฃูุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sudo netstat -tulpn | grep LISTEN</code> </pre> <br>  ุณูุฑู ุฃู ุงููููุฐ 5060 ูุณุชุฎุฏู ุฎุงุฏู VoIP FREESWITCH ุงูุฎุงุต ุจูุง.  ุญุณูุง ุ ุณูู ูุณุชุฎุฏู ุงูููุงูุฆ ุงููุฌุงููุฉ. <br><br>  ูุนูุฏ ุฅูู ุจุฑูุงูุฌ linphonec.  ูุงูููุงู ููููุง ุงูุฅุนุฏุงุฏ. <br><br>  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ูููุง ุจุชุบููุฑ ูููุฐ Linfon ุ ุซู ุฃุดุฑ ุฅูู ุงูุชุณุฌูู ูู ุฎุงุฏู VoIP ุ ูุงูุชุญูู ูู ุญุงูุฉ ุงูุชุณุฌูู ูุฅููุงุก ูุธุฑุฉ ุนูู ูุงุฆูุฉ ุจุทุงูุงุช ุงูุตูุช ูุงูุจุทุงูุฉ ุงููุณุชุฎุฏูุฉ ูุชููููู ุนูู USB ุฎุงุฑุฌู (ูุน ููุฑุณ ูู ุงูุจุฑูุงูุฌ Linphone - 2): <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">ports sip 5062 register sip:1001@192.168.15.13 192.168.15.13 1111 linphonec&gt; help register status register soundcard list soundcard show soundcard use 2 soundcard show</code> </pre><br><img src="https://habrastorage.org/webt/o3/1u/3d/o31u3dvxihunuxmqclxmbfkwfng.png"><br><br>  ูู ูุฑูู ุงูุชุณุฌูู ุ ูุณุชุฎุฏู ุงูุชูุณูู ุงูุชุงูู: Sip ID user - ุงูุชุฑุงุถููุง ุ ูุฏููุง 20 ูุดุชุฑููุง ุจุงูุฃุฑูุงู 1001-1019.  ูุฐู ุงูุฃุฑูุงู ูู ุฃุณูุงุก ุงููุณุชุฎุฏููู ูููุดุชุฑููู ุชุณุฌูู ุฏุฎูู ุงููุดุชุฑู [ุงุณู ุงููุทุงู] - ุงุณู ุงููุฌุงู - ุนููุงู IP ุงูุฎุงุต ุจุชูุช ุงูุนููู.  ุฑุดูุฉ ุงููููู - ุชุชุทุงุจู ูุน ุนููุงู IP ูู RPI ุ ููู ุงูููุงูุฉ - ูููุฉ ูุฑูุฑ ุงููุณุชุฎุฏู ุงูุชู ุฃูุดุฃูุงูุง ูุคุฎุฑูุง 1111. <br><br>  ุงูุฎุฑูุฌ ูู ุงูุจุฑูุงูุฌ (Ctrl + x) ุ ูุง ูุชู ุชุทุจูู ุงูุฅุนุฏุงุฏุงุช ุฏุงุฆููุง ุนูู ุงูุทุงูุฑ.  ุจุนุฏ ุงูุฎุฑูุฌ ูู ุงูุฏููู ุงูุฑุฆูุณู / home / pi ุ ุธูุฑ ููู ุชูููู ุนููู ูุญุฏุฉ ุงูุชุญูู: .linphonerc. <br>  ูููููุง ุจุงููุนู ุฅุฌุฑุงุก ุชุบููุฑุงุช ูู ุฎูุงู ุชุญุฑูุฑ ููู ุงูุชูููู ูุนููู SIP. <br>  ุนูู ุฅุทูุงู ูุญุฏุฉ ุฌุฏูุฏุฉ SIP ุงูุนููู. <br>  ุจุงูุชูุงุฒู ูุน ุฌูุณุฉ SSH ุงูุญุงููุฉ ุ ุงูุชุญ ูุงุญุฏุฉ ุฌุฏูุฏุฉ ุ ูู ุจุชุณุฌูู ุงูุฏุฎูู ุจุงุณุชุฎุฏุงู ุงุณู ุงููุณุชุฎุฏู ููููุฉ ุงููุฑูุฑ ุงูุฎุงุตุฉ ุจู. <br>  ูุจุฏุฃ alsamixer.  ูู ุฌูุณุฉ ูุงุญุฏุฉ ุ ูุฏููุง Linphonec ุ ูู ุงูุซุงููุฉ ุ ุฃุฏุงุฉ ูุถุจุท ุงูุตูุช. <br>  ูููู ุจุฅุฌุฑุงุก ุฅุนุฏุงุฏ ุงูุงุชุตุงู ูู ุนููู SIP ุนูู ูุงุชู ุฐูู ุฃู ููุจููุชุฑ ุดุฎุตู (ููุง ูู ููุถุญ ูู ุงูููุงูุฉ ุญูู ุชุซุจูุช FREESWITCH) ุนู ุทุฑูู ุชุบููุฑ ูููุฉ ุงููุฑูุฑ ุงูุงูุชุฑุงุถูุฉ ุฅูู ุฑููู ูุทูุจ ุฑูู ุ ูู ุญุงูุชูุง 1001. ูููููุง ุงูุงูุชูุงู ุฅูู ุจูุงุจุฉ freswitch ุนูู IP_Raspberry: 8080 ุ ุนุฑุถ ุชุณุฌูู ุงููุดุชุฑููู ุ ูุญุงูุฉ ุงุชุตู ุ ุงูุฎ <br><br><img src="https://habrastorage.org/webt/wu/qq/ta/wuqqta-dhsd0j8nr_mixybesqam.png"><br><br>  ุจุงุณุชุฎุฏุงู alsamixer ุ ูููู ุจุถุจุท ุงูุตูุช.  ูุชู ุชุทุจูู ุงูุชุบููุฑุงุช ุงูุตูุชูุฉ ุนูู ุงูุทุงูุฑ ุ ุฏูู ุงูุฎุฑูุฌ ูู ุงูุจุฑุงูุฌ. <br><br>  ูุณูุก ุงูุญุธ ุ ูุธุฑูุง ูุงุณุชุฎุฏุงู ุจุทุงูุฉ ุตูุช ุฑุฎูุตุฉ ุ ูู ุฃุณุชุทุน ุชุญููู ุตูุช ููุจูู ุ ุชู ุณูุงุน ุตุฏู ูู ุงูุณูุงุนุงุช.  ูููู ุงูุชูููู ุฅูู ุญุฏ ูุง ุ ูููู ุฅุฒุงูุชูุง ุจุงููุงูู - ุฃูุง ูู ุชูุฌุญ. <br><br>  ูุฐูู ุ ูุธุฑูุง ูุฃูู ูู ููู ูู ุงููููู ุฅุฒุงูุชู ุจุทุฑููุฉ ูุง ุ ูุฅููุง ูููู ุจุฅุฒุงูุชู ุจุทุฑููุฉ ุฃุฎุฑู. <br>  ุฃุบูู Linphonec ุ ูู ุจุชุญุฑูุฑ ููู ุงูุชูููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sudo nano /home/pi/.linphonerc</code> </pre> <br>  ูู ูุณู ุงูุตูุช ุ ูุฃุชู ุจุงูุณุทูุฑ ุงูุซูุงุซุฉ ุงูุฃุฎูุฑุฉ ุฅูู ูุฐุง ุงููููุฐุฌ: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Linphonerc ูุณู ุงูุตูุช</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="xml hljs">[sound] remote_ring=/home/pi/linphone-desktop/OUTPUT/no-ui/share/sounds/linphone/ringback.wav playback_gain_db=0.000000 mic_gain_db=0.000000 ringer_dev_id=ALSA: bcm2835 ALSA playback_dev_id=ALSA: bcm2835 ALSA capture_dev_id=ALSA: USB Audio Device</code> </pre><br></div></div><br>  ูุจูุฐู ุงูุทุฑููุฉ ุ ุฃุฌุจุฑูุง ุฌูุงุฒ ุฅุฎุฑุงุฌ ุงูุฑููู ูุงูุตูุช ุนูู ุงูุนูู ุนูู ููุจุณ ุงูุชูุช 3.5 ุงููุฏูุฌ ุ ูุฌูุงุฒ ุงูุชุณุฌูู - ุงููููุฑูููู ููุนูู ูู ุฎูุงู ุจุทุงูุฉ ุตูุช ุฎุงุฑุฌูุฉ - ุงุฎุชูู ุงูุตุฏู. <br><br>  ูู ุจุชุจุฏูู ุงูุณูุงุนุงุช ุฅูู ููุตู ุงูุชูุช ุงูุฎุงุต. <br><br>  ูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุงููุญุธุฉ ุงูุชุงููุฉ: ุนูุฏ ุงูุชุญููู ููู ุจุนุถ ุงูุญุงูุงุช ุ ูููู ูุธุงู ุงูููุฒู ุงูุฐูู ุจุชุดุบูู ุฑุณุงุฆู ุงููุธุงู ุงูุฎุงุตุฉ ุจู ูู ุฎูุงู ุฅุฎุฑุงุฌ ุงูุตูุช ูุฐุง. <br><br>  ุฃุทูุฆูู.  ูููู ุจููู IP_Rasberry ุฅูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ุ ููุชุญ ูุธุงู ุฃุชูุชุฉ ุงูููุฒู MajorDoMo. <br><br>  ูุฏุฎู ููุญุฉ ุงูุชุญูู - ูุงุฆู ุงูููุจููุชุฑ (ูู ุจุชูุณูุน ุงูุฌูุงุฒ) - ThisComputer ูู ุนูุงูุฉ ุงูุชุจููุจ "ุฎุตุงุฆุต" ููู ุจุชุนููู ุงูููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> ThisComputer.minMsgLevel 100 ThisComputer.volumeLevel 0</code> </pre> <br><img src="https://habrastorage.org/webt/tr/to/tj/trtotjj9oalk1kj-3tddund0ggi.png"><br><br>  ุฃุถู ุฅุฏุฎุงููุง ุฅูู cron (ุจุฑูุงูุฌ ุฎูู ูุตูููุง ูุชูููุฐ ุงูููุงู ูู ููุช ูุนูู ุฃู ุนูู ูุชุฑุงุช ุฒูููุฉ ูุนููุฉ. ูุชู ุงุณุชุฎุฏุงู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ crontab ูุชุญุฑูุฑ ุงูููุงู): <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">crontab โe</code> </pre> <br>  ุฃูุงุญุธ ุฃููุง ููุนู ูุฐุง ูู ุชุญุช ุงููุณุชุฎุฏู ุจู. <br><br>  ุฃุฏุฎู ุงูุณุทุฑ ูู ุงูููุงูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs">@reboot /home/pi/linphone-desktop/OUTPUT/no-ui/bin/linphonec โa</code> </pre> <br>  ุนูุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู ุ ุชุดุบูู ุงูููุจููุชุฑ ุ ูููู ูุฐุง ุงูุฎุท ุจุชุดุบูู ุจุฑูุงูุฌ Linphonec ูู ูุถุน ุงูุฑุฏ ุงูุชููุงุฆู. <br>  ุงูุนูุฏุฉ ุฅูู MajorDoMo: <br>  ุฏุนูุง ูุฐูุจ ุฅูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ุ ูู ูุณู ุงูุฎุฏูุฉ: <br>  ูู ูุงุฆูุฉ ูุฐุง ุงููุณู ุ ูุชู ุฅูุดุงุก ุฃุฒุฑุงุฑ ูุฅุนุงุฏุฉ ุชุดุบูู (ุฅููุงู) ุงูููุจููุชุฑ. <br>  ูุงูุญูููุฉ ูู ุฃูู ูู ุฃุฌู ุชูููุฑ ููุงุฑุฏ ุจุทุงูุฉ ุงูุฐุงูุฑุฉ SD ุ ูุชู ุชุณุฌูู ุงูุชุบููุฑุงุช ูู ูุธุงู "ุงูููุฒู ุงูุฐูู" ุจุนุฏ ููุช ูุนูู (15 ุฏูููุฉ).  ูุฐูู ุ ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุงูุชุญููู ุงูุฒุงุฆุฏ ููุชูุช ุ ููู ุงูุฃูุถู ูุนู ุฐูู ุจุดูู ุตุญูุญ.  ูุญู ุฅุนุงุฏุฉ ุชุดุบูู ุงููุธุงู. <br><br><img src="https://habrastorage.org/webt/bn/wl/dg/bnwldg1njtqrveligvtgmkm9iya.png"><br><br>  ุจุนุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู ุ ุงูุชูู ุฅูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ูู MajorDoMo ุ ูุงูุชูู ุฅูู ููุญุฉ ุงูุชุญูู ุ ูููุง ูู ุงูููุงูุฉ ุงูุฃุฎูุฑุฉ ุ ูุฌุฑู ููุงููุฉ ูู ูุญุฏุฉ ุงูุชุญูู ุจุงุณุชุฎุฏุงู ุงูุชูุณูู ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs">GetURL("http://freeswitch:works@192.168.1.103:8080/webapi/originate?user/1001%201003%20XML%20default")</code> </pre> <br>  ุจุนุฏ ุงูุฃูุฑ ุ ููุชูุท Linphonec ุงููุงุชู ุชููุงุฆููุง.  ูู ููุจุฑ ุตูุช RPI ุ ูุชู ุชุดุบูู ููู ุตูุช ุ ููุชู ุฅุฑุณุงู ููุงููุฉ ุฅูู ุงููุงุชู ุงูุฑููู ุงูุซุงูู (ุงูููุจููุชุฑ / ุงููุงุชู ุงูุฐูู).  ุจุนุฏ ุงูุชูุงุท ุณูุงุนุฉ ุงููุงุชู (ุนู ุทุฑูู ุงูุถุบุท ุนูู ุฒุฑ ุงูุฅุฌุงุจุฉ ูู ุงูุจุฑูุงูุฌ) ุ ุชู ุชุฃุณูุณ ุงูุงุชุตุงู. <br><br><img src="https://habrastorage.org/webt/ry/4p/qk/ry4pqktur2kidele7g7hvs0mgou.png"><br><br>  ุนูู ูุฐุง ุ ุงูุชููุช ูู ูุฐุง ุงูุฌุฒุก.  ุณุฃุญุงูู ุจุนุฏ ูููู ูุตู ุงูุฒุฑ ููุณู ุจุงุณุชุฎุฏุงู GPIO ูุฅุนุฏุงุฏ ููุงููุงุช ุฎุงุฑุฌ ุดุจูุชู ุงููุญููุฉ. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar464309/">https://habr.com/ru/post/ar464309/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar464295/index.html">ุฃูุซูุฉ ุนูู ุงุณุชุฎุฏุงู ุจุนุถ ููุฒุงุช JavaScript ุงูุฌุฏูุฏุฉ</a></li>
<li><a href="../ar464299/index.html">0 ุ 0 ุ 1 ุ 0 ุ 2 ุ 0 ุ 2 ุ 2 ุ 1 ุ 6 ุ 0 ุ 5 ุ 0 ุ 2 ุ 6 ุ 5 ุ 4 ุ 0 ุ 5 ุ 3 ุ 0 ุ 3 ุ 2 ุ 9 ุ 0 ุ 4 ุ 9 ุ 3 ุ 6 ุ 14 ุ 0 ุ 6 ุ 3 ุ 5 ุ 15 ุ 0 ุ 5 ุ 3 ุ 5 ...</a></li>
<li><a href="../ar464303/index.html">ุจูุงูุงุช ุงูุณูุงุณู ุงูุฒูููุฉ ูู ูุธู ุฅุฏุงุฑุฉ ููุงุนุฏ ุงูุจูุงูุงุช ุงูุนูุงุฆููุฉ. ููุญูุงุช TimescaleDB ู PipelineDB ูู PostgreSQL</a></li>
<li><a href="../ar464305/index.html">ุตุบูุฑ ุ ูุนู. Unboxing ูู ุงูุฃูุนุงุจ ุงููุงุฑูุฉ microvirtual</a></li>
<li><a href="../ar464307/index.html">ุงุฎุชุจุงุฑ ุงูุชูุงูู ูู ุฎุฏูุงุช micros ุนูู Scala</a></li>
<li><a href="../ar464315/index.html">ุงููููู ุงูุฐู ูุงู ููุงู ุชุฑุจุฉ. ุจุญุซ ูุงูุฏูุณ ูุชุงุฑูุฎ ููุฌุฒ ููุจุญุซ ุนู ุทุฑูู ุงููุนูู</a></li>
<li><a href="../ar464317/index.html">ูุดุฑูุน Konbanwa</a></li>
<li><a href="../ar464325/index.html">ููู ููุญุฏ Scrumban ุฃูุถู ูููุฌูุงุช Kanban ู Scrum</a></li>
<li><a href="../ar464327/index.html">ููุงุฑูุฉ ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ ูู ุฃุฏูุงุช ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุฑุณูููุฉ ุงููุฎุชููุฉ</a></li>
<li><a href="../ar464331/index.html">ููุงุฆุฏ ุนุฏููุฉ ุงููุงุฆุฏุฉ: ุชูููู ุงูููุงุฏ ุงูููููุงุฆูุฉ ุงูุชู ุชูุชุต ุงูุฃุดุนุฉ ููู ุงูุจููุณุฌูุฉ ูู ุฌูุฒ ุงููุงุฌู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>