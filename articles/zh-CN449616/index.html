<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧜🏾 🔮 💜 斐波那契访谈 👩‍🎤 👩🏿‍⚖️ 👨🏼‍🏫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="斐波那契数列的计算是一项经典的算法任务，因为通常在面试中，当他们想要验证候选人在某种程度上至少能够在算法中进行时，才会在访谈中给出该计算。 假设您是同一候选人。 您得到了任务：在JavaScript中，编写一个函数fib(n) ，该函数返回第n个斐波那契数。 我们认为零斐波那契数为零。 不需要验证参...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>斐波那契访谈</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/449616/">斐波那契数列的计算是一项经典的算法任务，因为通常在面试中，当他们想要验证候选人在某种程度上至少能够在算法中进行时，才会在访谈中给出该计算。 假设您是同一候选人。 您得到了任务：在JavaScript中，编写一个函数<code>fib(n)</code> ，该函数返回第n个斐波那契数。 我们认为零斐波那契数为零。 不需要验证参数。 您有什么选择？ <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2ad/869/bff/2ad869bfffc0679c65f44765f1883f20.jpg" alt="图片"><br><a name="habracut"></a><br><h3>  1.变得简单，人们会为您服务。 </h3><br> 最简单的解决方案是平庸周期。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fib = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">n</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> prev = <span class="hljs-number"><span class="hljs-number">0</span></span>, next = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(n-- &amp;&amp; (next = prev + (prev = next))); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> prev; }</code> </pre><br> 开个玩笑 当然，您不需要这样写-除非，当然，您不会因专职混淆器的职位而接受采访。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fib = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">n</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> prev = <span class="hljs-number"><span class="hljs-number">0</span></span>, next = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; n; i++){ next = prev + next; prev = next - prev; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> prev; }</code> </pre><br><blockquote> 您的优惠券用完了吗？  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">塞浦路斯</a> </blockquote><br> 好吧，为了获得更高的可读性，让我们这样写： <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fib = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">n</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> prev = <span class="hljs-number"><span class="hljs-number">0</span></span>, next = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; n; i++){ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> temp = next; next = prev + next; prev = temp; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> prev; }</code> </pre><br><br> 这是一个经典，简单而优雅的选择。 但是也许您想证明您对其他一些概念的了解？ 例如... <br><br><h3>  2.要了解递归，您必须了解递归 </h3><br> 例如，是的，您可以证明可以进行递归。 例如，像这样： <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fib = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">n</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(n &lt;= <span class="hljs-number"><span class="hljs-number">1</span></span>){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n; }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fib(n - <span class="hljs-number"><span class="hljs-number">1</span></span>) + fib(n - <span class="hljs-number"><span class="hljs-number">2</span></span>); } }</code> </pre><br> 记住此选项。 这不值得做。 不应该这样。 这是不可能的。  <b>没关系</b>  <b>这比踢幼犬还差，相当于一场大屠杀。</b> <br><br> 您可能会问为什么。 在这种情况下，只需运行此代码并尝试计算例如五十斐波那契数。 我认为您会感到有些延迟。 开个玩笑 我相信，如果您不在超级计算机上运行此代码，那么您根本就不会等待结果。 尽管前面的示例中的简单，非递归代码将比您有时间说出“五十”或任何音节更快地对斐波那契数列的第五十个成员进行计数。 <br><br> 用O符号的粗略语言表示，这种解决方案的时间复杂度为O（e <sup>n</sup> ）。 即，该函数的执行时间随着n的增加而呈指数增长。 即，当n增加时，执行时间增加。 粗略地说，如果您要等待一个小时<code>fib(45)</code> ，那么<code>fib(46)</code>您将要等待两个小时， <code>fib(47)</code> -4小时，依此类推。 我仔细地咀嚼一下，以至于每个读者，甚至是最先尝试写脚本的排字工人都可以意识到这种情况的恐怖。 <br><br><blockquote> 这是正确的，但过于粗鲁。 您可以对函数调用的数量〜（1 + sqrt（5））fib（n）进行更准确的估算，并提供精美的注释：“要使用朴素的递归方法来计算斐波那契数，您需要的函数调用比斐波那契数本身多3.2倍。”  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">金牛座</a> </blockquote><blockquote> 我们得到了另一种计算方法。 您只需要运行朴素的递归方法，计算函数调用的数量并除以3.2！  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">Cerberuser</a> </blockquote><br> 如果要求您在面试中递归解决此问题，则很可能是陷阱。 例如，在线性时间内工作的“正确”递归可能看起来像这样： <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fib2 = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">n</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(n == <span class="hljs-number"><span class="hljs-number">0</span></span>){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>]; }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [prev, next] = fib2(n - <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [next, prev + next]; } } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fib = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">n</span></span></span><span class="hljs-function"> =&gt;</span></span> fib2(n)[<span class="hljs-number"><span class="hljs-number">0</span></span>];</code> </pre><br> 总结：尽管斐波那契数是经典的递归示例，但实际上这并不是应用递归最方便的情况。 但是您可以尝试炫耀一些更多的知识。 <br><br><h3>  3.纪念功能 </h3><br> 有一种神奇的方法可以将最后一段中极其无效的解决方案变成可能非常快速的解决方案（尽管并非没有问题）。 他的名字是回忆。 如果您说俄语，我们会记住以前的通话结果，而无需重新计算。 <br><br> 基本上，我们甚至无法更改该解决方案中的任何内容-只需添加一个<code>memoize</code>包装器函数即可。 在这里，为清楚起见，我将其简化版本用于带有单个参数的函数。 <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//   ,       ,     const oldFib = n =&gt; { if(n &lt;= 1){ return n; }else{ return oldFib(n - 1) + oldFib(n - 2); } } const memoize = f =&gt; { const cache = {}; return arg =&gt; cache[arg] || (cache[arg] = f(arg)); } const fib = memoize(oldFib);</span></span></code> </pre><br> 瞧！ 现在， <code>fib</code>函数可以通过关闭访问<code>cache</code>对象。 如果使用以前未遇到的参数调用它，则计算出的值将存储在<code>cache</code> 。 使用具有相同参数的新函数调用，不必重新计算该值，只需从高速缓存中获取该值即可。  “错误的”旧<code>fib</code>函数的主要问题是其中的相同值被重新计算了几次。 例如，要计算<code>fib(45)</code>必须计算一次<code>f(44)</code> ，两次<code>f(43)</code> ，三次<code>f(42)</code> ，五次<code>f(41)</code> ，依此类推。 <br><br><div class="spoiler">  <b class="spoiler_title">有趣的事实</b> <div class="spoiler_text"> 使用朴素递归时，先前的斐波那契数本身的计算次数为斐波那契数。 那不是很神奇吗？ 其实不是。 对于斐波那契数字，情况总是如此，在文章末尾会有一个有趣的例子。 <br></div></div><br> 因此，现在以前的值将被计算一次，并且在重新请求它们时-将从缓存中获取。 您能想象我们现在可以更快地计算出第四十五斐波那契数吗？ 认真的，你觉得什么时间？ <br><br> 实际上-慢一点。 我故意犯了一个经典错误，在记述递归函数时经常犯此错误。 当将<code>fib(45)</code>称为“引擎盖下”时， <code>oldFib(45)</code>调用<code>oldFib(45)</code> ，它会根据需要来调用<code>oldFib(44)</code>和<code>oldFib(43)</code> 。 在下文中，已经有对常规非记忆功能的调用。 当然，再次调用<code>fib(45)</code>时，我们会立即从缓存中获取结果-但是，第一次调用根本没有加快速度。 要解决此问题，您仍然必须在扳手底部下方找到<code>oldFib</code> ： <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> oldFib = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">n</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(n &lt;= <span class="hljs-number"><span class="hljs-number">1</span></span>){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n; }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fib(n - <span class="hljs-number"><span class="hljs-number">1</span></span>) + fib(n - <span class="hljs-number"><span class="hljs-number">2</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> memoize = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">f</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> cache = {}; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">arg</span></span></span><span class="hljs-function"> =&gt;</span></span> cache[arg] || (cache[arg] = f(arg)); } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fib = memoize(oldFib);</code> </pre><br> 太好了！ 现在，对<code>fib(45)</code>的首次调用<code>fib(45)</code>与具有循环的版本相当的速度工作。 而且，进一步的挑战通常会在固定的时间内发挥作用。 再次受骗。 通过键获取对象属性的值是一项快速操作，但是O（1）仍然只是平均值，在最坏的情况下，它可能降级为O（n）。 为了使其非常好，在我们的例子中，我们可以将<code>cache</code>的类型从对象更改为数组。 <br><br> 当然，不要忘了记忆需要记忆。 在减少时间复杂度的同时，内存复杂度也从O（1）增长到O（n）。 <br><br> 我们还能如何炫耀？ 例如，展示您对数学的深入了解 <br><br><h3>  4. Binet先生 </h3><br> 关于如何将递归关系转换为明确的公式，这是一门特殊的奇妙科学。 在这里我们不再赘述。 我们只会说，对于斐波那契数，使用相当简单的参数，我们可以得出以下公式，即Binet公式： <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1"><span class="MJXp-msubsup" id="MJXp-Span-2"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3" style="margin-right: 0.05em;">F</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4" style="vertical-align: -0.4em;">n</span></span><span class="MJXp-mo" id="MJXp-Span-5" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-6">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-9">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10">c</span><span class="MJXp-mrow" id="MJXp-Span-11"><span class="MJXp-mtext" id="MJXp-Span-12" style="color: red;">\左</span><span class="MJXp-mrow" id="MJXp-Span-13"><span class="MJXp-mo" id="MJXp-Span-14" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mtext" id="MJXp-Span-15">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-16">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-17">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-18">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-19">c</span><span class="MJXp-mrow" id="MJXp-Span-20"><span class="MJXp-mn" id="MJXp-Span-21">1</span><span class="MJXp-mo" id="MJXp-Span-22" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-23">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-26">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-27">t</span><span class="MJXp-mn" id="MJXp-Span-28">5</span></span><span class="MJXp-mrow" id="MJXp-Span-29"><span class="MJXp-mn" id="MJXp-Span-30">2</span></span><span class="MJXp-mtext" id="MJXp-Span-31" style="color: red;">\右</span><span class="MJXp-msubsup" id="MJXp-Span-32"><span class="MJXp-mrow" id="MJXp-Span-33" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-34" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-35" style="vertical-align: 0.5em;">n</span></span><span class="MJXp-mo" id="MJXp-Span-36" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mtext" id="MJXp-Span-37" style="color: red;">\左</span><span class="MJXp-mrow" id="MJXp-Span-38"><span class="MJXp-mo" id="MJXp-Span-39" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mtext" id="MJXp-Span-40">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-41">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-43">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44">c</span><span class="MJXp-mrow" id="MJXp-Span-45"><span class="MJXp-mn" id="MJXp-Span-46">1</span><span class="MJXp-mo" id="MJXp-Span-47" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mtext" id="MJXp-Span-48">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-51">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52">t</span><span class="MJXp-mn" id="MJXp-Span-53">5</span></span><span class="MJXp-mrow" id="MJXp-Span-54"><span class="MJXp-mn" id="MJXp-Span-55">2</span></span><span class="MJXp-mtext" id="MJXp-Span-56">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-57">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-59">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-60">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-61">t</span><span class="MJXp-msubsup" id="MJXp-Span-62"><span class="MJXp-mrow" id="MJXp-Span-63" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-64" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-65" style="vertical-align: 0.5em;">n</span></span></span><span class="MJXp-mrow" id="MJXp-Span-66"><span class="MJXp-mtext" id="MJXp-Span-67">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-68">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-69">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71">t</span><span class="MJXp-mn" id="MJXp-Span-72">5</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="76.935ex" height="2.66ex" viewBox="0 -832 33124.6 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-46" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-6E" x="910" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMAIN-3D" x="1445" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-66" x="2752" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-72" x="3302" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-61" x="3754" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-63" x="4283" y="0"></use><g transform="translate(4717,0)"><g fill="red" stroke="red"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">左</text></g></g><g transform="translate(1330,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-66" x="2410" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-72" x="2960" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-61" x="3412" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-63" x="3941" y="0"></use><g transform="translate(4375,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMAIN-31" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMAIN-2B" x="722" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-73" x="1973" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-71" x="2442" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-72" x="2903" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-74" x="3354" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMAIN-35" x="3716" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMAIN-32" x="8592" y="0"></use><g fill="red" stroke="red" transform="translate(9092,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">右</text></g></g><g transform="translate(10423,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-6E" x="1173" y="640"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMAIN-2212" x="12000" y="0"></use><g fill="red" stroke="red" transform="translate(13000,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">左</text></g></g><g transform="translate(14331,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-66" x="15411" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-72" x="15961" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-61" x="16413" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-63" x="16942" y="0"></use><g transform="translate(17376,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMAIN-31" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMAIN-2212" x="722" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-73" x="1973" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-71" x="2442" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-72" x="2903" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-74" x="3354" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMAIN-35" x="3716" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMAIN-32" x="21593" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-72" x="22343" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-69" x="22795" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-67" x="23140" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-68" x="23621" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-74" x="24197" y="0"></use><g transform="translate(24559,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-6E" x="1173" y="640"></use></g></g><g transform="translate(30631,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-73" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-71" x="719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-72" x="1180" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-74" x="1631" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMAIN-35" x="1993" y="0"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> F_n = \ frac {\左（\ frac {1 + \ sqrt5} {2} \右）^ n-\左（\ frac {1-\ sqrt5} {2} \ right）^ n} {\ sqrt5} </script></p><br><br> 但是，这是一种数学语言，我们用JavaScript编写： <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fib = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">n</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = (<span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">5</span></span> ** <span class="hljs-number"><span class="hljs-number">0.5</span></span>) / <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> b = (<span class="hljs-number"><span class="hljs-number">1</span></span> - <span class="hljs-number"><span class="hljs-number">5</span></span> ** <span class="hljs-number"><span class="hljs-number">0.5</span></span>) / <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (a ** n - b ** n) / <span class="hljs-number"><span class="hljs-number">5</span></span> ** <span class="hljs-number"><span class="hljs-number">0.5</span></span>; }</code> </pre><br> 让我们继续前几个数字。 太好了，似乎一切正常。 这里是13，这里是21，这里是34，这里是... 54.9999999999999999？ <br><br> 是的，当然，这样的结果是合乎逻辑的。  Binet的公式在数学上是准确的，但是计算机以有限的精确度进行运算，并且在使用它们进行运算时可能会累积错误。 但是，我们可以修复它。 知道分子中的减法将始终很小，因此可以将公式简化为以下状态： <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-73"><span class="MJXp-msubsup" id="MJXp-Span-74"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-75" style="margin-right: 0.05em;">F</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-76" style="vertical-align: -0.4em;">n</span></span><span class="MJXp-mo" id="MJXp-Span-77" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-78" style="color: red;">\左</span><span class="MJXp-mtext" id="MJXp-Span-79">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-83">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-84">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85">r</span><span class="MJXp-mtext" id="MJXp-Span-86">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-90">c</span><span class="MJXp-mrow" id="MJXp-Span-91"><span class="MJXp-mtext" id="MJXp-Span-92" style="color: red;">\左</span><span class="MJXp-mrow" id="MJXp-Span-93"><span class="MJXp-mo" id="MJXp-Span-94" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mtext" id="MJXp-Span-95">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-96">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-97">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-98">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-99">c</span><span class="MJXp-mrow" id="MJXp-Span-100"><span class="MJXp-mn" id="MJXp-Span-101">1</span><span class="MJXp-mo" id="MJXp-Span-102" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-103">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-104">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-105">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-106">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-107">t</span><span class="MJXp-mn" id="MJXp-Span-108">5</span></span><span class="MJXp-mrow" id="MJXp-Span-109"><span class="MJXp-mn" id="MJXp-Span-110">2</span></span><span class="MJXp-mtext" id="MJXp-Span-111">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-112">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-113">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-114">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-115">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-116">t</span><span class="MJXp-msubsup" id="MJXp-Span-117"><span class="MJXp-mrow" id="MJXp-Span-118" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-119" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-120" style="vertical-align: 0.5em;">n</span></span></span><span class="MJXp-mrow" id="MJXp-Span-121"><span class="MJXp-mtext" id="MJXp-Span-122">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-123">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-126">t</span><span class="MJXp-mn" id="MJXp-Span-127">5</span></span><span class="MJXp-mtext" id="MJXp-Span-128">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-129">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-130">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-131">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-132">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133">t</span><span class="MJXp-mtext" id="MJXp-Span-134">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-135">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-136">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-137">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-138">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-139">l</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="67.321ex" height="2.66ex" viewBox="0 -832 28985.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-46" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-6E" x="910" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMAIN-3D" x="1445" y="0"></use><g fill="red" stroke="red" transform="translate(2502,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">左</text></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-6C" x="4082" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-66" x="4381" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-6C" x="4931" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-6F" x="5230" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-6F" x="5715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-72" x="6201" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-66" x="6902" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-72" x="7453" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-61" x="7904" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-63" x="8434" y="0"></use><g transform="translate(8867,0)"><g fill="red" stroke="red"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">左</text></g></g><g transform="translate(1330,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-66" x="2410" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-72" x="2960" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-61" x="3412" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-63" x="3941" y="0"></use><g transform="translate(4375,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMAIN-31" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMAIN-2B" x="722" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-73" x="1973" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-71" x="2442" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-72" x="2903" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-74" x="3354" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMAIN-35" x="3716" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMAIN-32" x="8592" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-72" x="9342" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-69" x="9794" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-67" x="10139" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-68" x="10620" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-74" x="11196" y="0"></use><g transform="translate(11558,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-6E" x="1173" y="640"></use></g></g><g transform="translate(21780,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-73" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-71" x="719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-72" x="1180" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-74" x="1631" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMAIN-35" x="1993" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-72" x="24524" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-69" x="24975" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-67" x="25321" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-68" x="25801" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-74" x="26378" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-72" x="26989" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-63" x="27441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-65" x="27874" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-69" x="28341" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/449616/&amp;usg=ALkJrhgEpIN_9uotFGvlFGqlZs8QLq6aCw#MJMATHI-6C" x="28686" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-2"> F_n = \左\ lfloor \ frac {\左（\ frac {1 + \ sqrt5} {2} \ right）^ n} {\ sqrt5} \ right \ rceil </script></p><br><br> 这里奇怪的未完成的方括号表示最接近的整数，即四舍五入。 重写我们的代码： <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fib = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">n</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = (<span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">5</span></span> ** <span class="hljs-number"><span class="hljs-number">0.5</span></span>) / <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.round(a ** n / <span class="hljs-number"><span class="hljs-number">5</span></span> ** <span class="hljs-number"><span class="hljs-number">0.5</span></span>); }</code> </pre><br> 是的，那要好得多。 我们可以看到55和89，甚至我最喜欢的斐波那契数是144（我喜欢它，因为它等于十二个平方）。 直到数字76一切都会好起来。该数字应等于3416454622906707，我们的函数将计算出3416454622906706。由于分数精度有限的问题没有消失，我们只是将其推得更深，希望它不会出现。 如本例所示，他们希望徒劳。 <br><br> 实际上，我们可以做一些其他事情来保存此方法。 但是下面有更多关于它的内容。 在此期间-开个玩笑。 让我们谈谈苛刻，顽固和残酷的方法。 <br><br><h3>  5.跟随白兔子。 </h3><br> 他们说，如果您有问题，并且想到了可以使用正则表达式解决的想法，那么您现在就有两个问题。 相反，矩阵是正则表达式。 如果用矩阵语言重新表述的话，许多问题可以自己解决。 <br><br> 至于斐波那契数，对于矩阵式的斐波那契数，您可以写下这个明显的标识： <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-140"><span class="MJXp-mtext" id="MJXp-Span-141" style="color: red;">\开</span><span class="MJXp-mrow" id="MJXp-Span-142"><span class="MJXp-mo" id="MJXp-Span-143" style="margin-left: 0.278em; margin-right: 0.278em;">始</span></span><span class="MJXp-mrow" id="MJXp-Span-144"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-145">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-147">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-148">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-149">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-150">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-151">x</span></span><span class="MJXp-mn" id="MJXp-Span-152">0</span><span class="MJXp-mrow" id="MJXp-Span-153"><span class="MJXp-mo" id="MJXp-Span-154" style="margin-left: 0.278em; margin-right: 0.278em;">＆</span></span><span class="MJXp-mn" id="MJXp-Span-155">1</span><span class="MJXp-mspace" id="MJXp-Span-156" style="width: 0em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-157">1</span><span class="MJXp-mrow" id="MJXp-Span-158"><span class="MJXp-mo" id="MJXp-Span-159" style="margin-left: 0.278em; margin-right: 0.278em;">＆</span></span><span class="MJXp-mn" id="MJXp-Span-160">1</span><span class="MJXp-mtext" id="MJXp-Span-161" style="color: red;">\结</span><span class="MJXp-mrow" id="MJXp-Span-162"><span class="MJXp-mo" id="MJXp-Span-163" style="margin-left: 0.278em; margin-right: 0.278em;">束</span></span><span class="MJXp-mrow" id="MJXp-Span-164"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-165">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-166">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-167">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-168">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-169">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-170">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-171">x</span></span><span class="MJXp-mtext" id="MJXp-Span-172" style="color: red;">\开</span><span class="MJXp-mrow" id="MJXp-Span-173"><span class="MJXp-mo" id="MJXp-Span-174" style="margin-left: 0.278em; margin-right: 0.278em;">始</span></span><span class="MJXp-mrow" id="MJXp-Span-175"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-176">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-177">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-178">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-179">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-180">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-181">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-182">x</span></span><span class="MJXp-msubsup" id="MJXp-Span-183"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-184" style="margin-right: 0.05em;">F</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-185" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-186">n</span><span class="MJXp-mo" id="MJXp-Span-187">−</span><span class="MJXp-mn" id="MJXp-Span-188">1</span></span></span><span class="MJXp-mspace" id="MJXp-Span-189" style="width: 0em; height: 0em;"></span><span class="MJXp-msubsup" id="MJXp-Span-190"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-191" style="margin-right: 0.05em;">F</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-192" style="vertical-align: -0.4em;">n</span></span><span class="MJXp-mtext" id="MJXp-Span-193">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-194">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-195">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-196">d</span><span class="MJXp-mrow" id="MJXp-Span-197"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-198">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-199">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-200">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-201">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-202">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-203">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-204">x</span></span><span class="MJXp-mo" id="MJXp-Span-205" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-206" style="color: red;">\开</span><span class="MJXp-mrow" id="MJXp-Span-207"><span class="MJXp-mo" id="MJXp-Span-208" style="margin-left: 0.278em; margin-right: 0.278em;">始</span></span><span class="MJXp-mrow" id="MJXp-Span-209"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-210">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-212">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-213">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-214">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-215">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-216">x</span></span><span class="MJXp-msubsup" id="MJXp-Span-217"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-218" style="margin-right: 0.05em;">F</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-219" style="vertical-align: -0.4em;">n</span></span><span class="MJXp-mspace" id="MJXp-Span-220" style="width: 0em; height: 0em;"></span><span class="MJXp-msubsup" id="MJXp-Span-221"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-222" style="margin-right: 0.05em;">F</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-223" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-224">n</span><span class="MJXp-mo" id="MJXp-Span-225">+</span><span class="MJXp-mn" id="MJXp-Span-226">1</span></span></span><span class="MJXp-mtext" id="MJXp-Span-227" style="color: red;">\结</span><span class="MJXp-mrow" id="MJXp-Span-228"><span class="MJXp-mo" id="MJXp-Span-229" style="margin-left: 0.278em; margin-right: 0.278em;">束</span></span><span class="MJXp-mrow" id="MJXp-Span-230"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-231">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-232">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-233">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-234">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-235">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-236">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-237">x</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-3"> \开始{pmatrix} 0＆1 \\ 1＆1 \结束{pmatrix} \开始{pmatrix} F_ {n-1} \\ F_n \ end {pmatrix} = \开始{pmatrix} F_n \\ F_ {n +1} \结束{pmatrix} </script></p><br><br> 也就是说，如果我们采用一对连续的斐波那契数并将它们乘以这样一个简单的矩阵，我们得到以下对。 逻辑结论由此得出：如果我们取一对零和第一个斐波那契数，即零和一个，然后将它们乘以该矩阵乘以n次方，则得到一对nth和en加第一个斐波那契数。 也就是说，以人为本： <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-238"><span class="MJXp-mtext" id="MJXp-Span-239" style="color: red;">\开</span><span class="MJXp-mrow" id="MJXp-Span-240"><span class="MJXp-mo" id="MJXp-Span-241" style="margin-left: 0.278em; margin-right: 0.278em;">始</span></span><span class="MJXp-mrow" id="MJXp-Span-242"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-243">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-244">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-245">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-246">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-247">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-248">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-249">x</span></span><span class="MJXp-mn" id="MJXp-Span-250">0</span><span class="MJXp-mrow" id="MJXp-Span-251"><span class="MJXp-mo" id="MJXp-Span-252" style="margin-left: 0.278em; margin-right: 0.278em;">＆</span></span><span class="MJXp-mn" id="MJXp-Span-253">1</span><span class="MJXp-mspace" id="MJXp-Span-254" style="width: 0em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-255">1</span><span class="MJXp-mrow" id="MJXp-Span-256"><span class="MJXp-mo" id="MJXp-Span-257" style="margin-left: 0.278em; margin-right: 0.278em;">＆</span></span><span class="MJXp-mn" id="MJXp-Span-258">1</span><span class="MJXp-mtext" id="MJXp-Span-259" style="color: red;">\结</span><span class="MJXp-mrow" id="MJXp-Span-260"><span class="MJXp-mo" id="MJXp-Span-261" style="margin-left: 0.278em; margin-right: 0.278em;">束</span></span><span class="MJXp-msubsup" id="MJXp-Span-262"><span class="MJXp-mrow" id="MJXp-Span-263" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-264">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-265">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-266">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-267">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-268">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-269">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-270">x</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-271" style="vertical-align: 0.5em;">n</span></span><span class="MJXp-mtext" id="MJXp-Span-272" style="color: red;">\开</span><span class="MJXp-mrow" id="MJXp-Span-273"><span class="MJXp-mo" id="MJXp-Span-274" style="margin-left: 0.278em; margin-right: 0.278em;">始</span></span><span class="MJXp-mrow" id="MJXp-Span-275"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-276">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-277">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-278">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-279">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-280">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-281">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-282">x</span></span><span class="MJXp-mn" id="MJXp-Span-283">0</span><span class="MJXp-mspace" id="MJXp-Span-284" style="width: 0em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-285">1</span><span class="MJXp-mtext" id="MJXp-Span-286">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-287">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-288">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-289">d</span><span class="MJXp-mrow" id="MJXp-Span-290"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-291">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-292">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-293">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-294">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-295">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-296">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-297">x</span></span><span class="MJXp-mo" id="MJXp-Span-298" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-299" style="color: red;">\开</span><span class="MJXp-mrow" id="MJXp-Span-300"><span class="MJXp-mo" id="MJXp-Span-301" style="margin-left: 0.278em; margin-right: 0.278em;">始</span></span><span class="MJXp-mrow" id="MJXp-Span-302"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-303">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-304">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-305">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-306">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-307">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-308">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-309">x</span></span><span class="MJXp-msubsup" id="MJXp-Span-310"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-311" style="margin-right: 0.05em;">F</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-312" style="vertical-align: -0.4em;">n</span></span><span class="MJXp-mspace" id="MJXp-Span-313" style="width: 0em; height: 0em;"></span><span class="MJXp-msubsup" id="MJXp-Span-314"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-315" style="margin-right: 0.05em;">F</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-316" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-317">n</span><span class="MJXp-mo" id="MJXp-Span-318">+</span><span class="MJXp-mn" id="MJXp-Span-319">1</span></span></span><span class="MJXp-mtext" id="MJXp-Span-320">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-321">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-322">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-323">d</span><span class="MJXp-mrow" id="MJXp-Span-324"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-325">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-326">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-327">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-328">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-329">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-330">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-331">x</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-4"> \开始{pmatrix} 0＆1 \\ 1＆1 \结束{pmatrix} ^ n \开始{pmatrix} 0 \\ 1 \ end {pmatrix} = \开始{pmatrix} F_n \\ F_ {n + 1} \ end {pmatrix} </script></p><br><br> 您可以通过放弃向量来进一步简化此过程。 实际上，所有必要的值都包含在矩阵本身中： <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-332"><span class="MJXp-mtext" id="MJXp-Span-333" style="color: red;">\开</span><span class="MJXp-mrow" id="MJXp-Span-334"><span class="MJXp-mo" id="MJXp-Span-335" style="margin-left: 0.278em; margin-right: 0.278em;">始</span></span><span class="MJXp-mrow" id="MJXp-Span-336"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-337">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-338">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-339">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-340">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-341">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-342">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-343">x</span></span><span class="MJXp-mn" id="MJXp-Span-344">0</span><span class="MJXp-mrow" id="MJXp-Span-345"><span class="MJXp-mo" id="MJXp-Span-346" style="margin-left: 0.278em; margin-right: 0.278em;">＆</span></span><span class="MJXp-mn" id="MJXp-Span-347">1</span><span class="MJXp-mspace" id="MJXp-Span-348" style="width: 0em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-349">1</span><span class="MJXp-mrow" id="MJXp-Span-350"><span class="MJXp-mo" id="MJXp-Span-351" style="margin-left: 0.278em; margin-right: 0.278em;">＆</span></span><span class="MJXp-mn" id="MJXp-Span-352">1</span><span class="MJXp-mtext" id="MJXp-Span-353" style="color: red;">\结</span><span class="MJXp-mrow" id="MJXp-Span-354"><span class="MJXp-mo" id="MJXp-Span-355" style="margin-left: 0.278em; margin-right: 0.278em;">束</span></span><span class="MJXp-msubsup" id="MJXp-Span-356"><span class="MJXp-mrow" id="MJXp-Span-357" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-358">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-359">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-360">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-361">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-362">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-363">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-364">x</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-365" style="vertical-align: 0.5em;">n</span></span><span class="MJXp-mo" id="MJXp-Span-366" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-367" style="color: red;">\开</span><span class="MJXp-mrow" id="MJXp-Span-368"><span class="MJXp-mo" id="MJXp-Span-369" style="margin-left: 0.278em; margin-right: 0.278em;">始</span></span><span class="MJXp-mrow" id="MJXp-Span-370"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-371">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-372">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-373">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-374">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-375">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-376">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-377">x</span></span><span class="MJXp-msubsup" id="MJXp-Span-378"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-379" style="margin-right: 0.05em;">F</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-380" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-381">n</span><span class="MJXp-mo" id="MJXp-Span-382">−</span><span class="MJXp-mn" id="MJXp-Span-383">1</span></span></span><span class="MJXp-mrow" id="MJXp-Span-384"><span class="MJXp-mo" id="MJXp-Span-385" style="margin-left: 0.278em; margin-right: 0.278em;">＆</span></span><span class="MJXp-msubsup" id="MJXp-Span-386"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-387" style="margin-right: 0.05em;">F</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-388" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-389">n</span></span></span><span class="MJXp-mspace" id="MJXp-Span-390" style="width: 0em; height: 0em;"></span><span class="MJXp-msubsup" id="MJXp-Span-391"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-392" style="margin-right: 0.05em;">F</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-393" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-394">n</span></span></span><span class="MJXp-mrow" id="MJXp-Span-395"><span class="MJXp-mo" id="MJXp-Span-396" style="margin-left: 0.278em; margin-right: 0.278em;">＆</span></span><span class="MJXp-msubsup" id="MJXp-Span-397"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-398" style="margin-right: 0.05em;">F</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-399" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-400">n</span><span class="MJXp-mo" id="MJXp-Span-401">+</span><span class="MJXp-mn" id="MJXp-Span-402">1</span></span></span><span class="MJXp-mtext" id="MJXp-Span-403" style="color: red;">\结</span><span class="MJXp-mrow" id="MJXp-Span-404"><span class="MJXp-mo" id="MJXp-Span-405" style="margin-left: 0.278em; margin-right: 0.278em;">尾</span></span><span class="MJXp-mrow" id="MJXp-Span-406"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-407">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-408">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-409">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-410">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-411">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-412">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-413">x</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-5"> \开始{pmatrix} 0＆1 \\ 1＆1 \结束{pmatrix} ^ n = \开始{pmatrix} F_ {n-1}＆F_ {n} \\ F_ {n}＆F_ {n + 1 } \结尾{pmatrix} </script></p><br><br> 很好，不是吗？ 如果他不是爱乐乐团，那还有什么要和他和谐相处的呢？ 我的意思是-为什么这样的困难突如其来。 答案很简单-快速求幂。 <br><br> 例如，计算2 <sup>10</sup>需要多少个基本乘法？ 一个正常的人会说九点。 两次两次-两次。 两次四点至八点。 两次八点十六分。 依此类推。 狡猾的人会说四。 <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-414"><span class="MJXp-mn" id="MJXp-Span-415">2</span><span class="MJXp-mtext" id="MJXp-Span-416">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-417">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-418">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-419">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-420">t</span><span class="MJXp-mn" id="MJXp-Span-421">2</span><span class="MJXp-mo" id="MJXp-Span-422" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-423">4</span><span class="MJXp-mspace" id="MJXp-Span-424" style="width: 0em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-425">4</span><span class="MJXp-mtext" id="MJXp-Span-426">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-427">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-428">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-429">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-430">t</span><span class="MJXp-mn" id="MJXp-Span-431">4</span><span class="MJXp-mo" id="MJXp-Span-432" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-433">16</span><span class="MJXp-mspace" id="MJXp-Span-434" style="width: 0em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-435">2</span><span class="MJXp-mtext" id="MJXp-Span-436">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-437">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-438">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-439">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-440">t</span><span class="MJXp-mn" id="MJXp-Span-441">16</span><span class="MJXp-mo" id="MJXp-Span-442" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-443">32</span><span class="MJXp-mspace" id="MJXp-Span-444" style="width: 0em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-445">32</span><span class="MJXp-mtext" id="MJXp-Span-446">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-447">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-448">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-449">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-450">t</span><span class="MJXp-mn" id="MJXp-Span-451">32</span><span class="MJXp-mo" id="MJXp-Span-452" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-453">1024</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-6"> 2 \ cdot 2 = 4 \\ 4 \ cdot 4 = 16 \\ 2 \ cdot 16 = 32 \\ 32 \ cdot 32 = 1024 </script></p><br><br> 程序员会说。 他记住了这个数字，不需要增加任何东西。 但是，我们在上面讨论了记忆的问题。 <br><br> 因此，快速求幂也适用于矩阵，从而使我们能够将函数的渐近时间复杂度从O（n）降低到O（log n）。 这非常酷-当然，除非这种复杂性对我们如此重要。 让我们编写代码： <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    ,          const mul = ( [ [a1, a2], [a3, a4] ], [ [b1, b2], [b3, b4] ]) =&gt; [ [a1 * b1 + a2 * b3, a1 * b2 + a2 * b4], [a3 * b1 + a4 * b3, a3 * b2 + a4 * b4] ]; const matrix = [ [0, 1], [1, 1] ]; // ,   const id = [ [1, 0], [0, 1] ] const fib = n =&gt; { let result = id; const bits = n.toString(2); //        for(const bit of bits){ result = mul(result, result); if(bit == "1"){ result = mul(result, matrix); } } return result[1][0]; }</span></span></code> </pre> <br> 因此，我们在狂野西部获得了最快的算法。 而且，与以前的大多数方法不同，它可以在采访中以非讽刺的方式加以证明。 在某些具有数学能力的地方，您会期望得到它。 <br><br><h3> 聚苯乙烯 </h3><br> 我答应过有关如何保存基于Binet公式的方法的评论。 答案就<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在我的这篇</a>文章中。 在那儿，出于国民经济的需要，我写了一个特殊的类，五个有理数的根，在不损失准确性的情况下，可以存储整数的算术运算结果和五个根。 您可以使用此类，并用四舍五入方法进行补充，并使用Binet公式搜索斐波那契数。 然后通过快速求幂注入一氧化二氮。 <br><br> 最有趣的是：如果您仔细查看过程中将获得哪些数字，将执行哪些操作，那么很明显，该方法是相同的矩阵乘法，只是在不同的外观下。 唯一的区别是我们是将数字存储在二维数组中还是在特殊类的对象的字段中存储。 <br><br> 仅此而已。 如果您认为我错过了一些其他有趣的方式来查找没人需要的数字，请务必在评论中写下它。 <br><br><blockquote> 还有一种方法，例如<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">快速倍增</a> 。 它的工作方式类似于O（log）中的矩阵乘法，但渐近线中（以及实际上）的常数较小。 简要地讲，然后在此处使用两个公式，据此可以快速递归地将两个较低的索引回滚： <br><br>  F <sub>2n</sub> = F <sub>n</sub> *（2 * F <sub>n +1</sub> -F <sub>n</sub> ） <br>  F <sub>2n +1</sub> = F <sub>n</sub> <sup>2</sup> + F <sub>n +1</sub> <sup>2</sup> <br><br> 顺便说一句，实现非常紧凑。 <br><br><div class="spoiler">  <b class="spoiler_title">比较不同方法的速度</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/32f/b70/f29/32fb70f291d98e9f0c90379168bd27b7.png" alt="图片"><br></div></div><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">just_maksim</a> <br></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN449616/">https://habr.com/ru/post/zh-CN449616/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN449604/index.html">当新技术比基础技术更重要时：为什么“可弯曲的”三星Galaxy Fold失败了</a></li>
<li><a href="../zh-CN449606/index.html">4月19日在基辅Shuliavsky桥拆除</a></li>
<li><a href="../zh-CN449608/index.html">为什么模糊不会严重隐藏敏感信息</a></li>
<li><a href="../zh-CN449610/index.html">启用TLS 1.3，以及为什么要这样做</a></li>
<li><a href="../zh-CN449612/index.html">Indibiome是新的黑人</a></li>
<li><a href="../zh-CN449618/index.html">未来是乌云密布</a></li>
<li><a href="../zh-CN449622/index.html">自定义它：自定义您的Snom手机</a></li>
<li><a href="../zh-CN449624/index.html">如果您喜欢微控制器，则如何以及为何阅读数据表</a></li>
<li><a href="../zh-CN449626/index.html">认知矫正：一次完整的幻觉会议</a></li>
<li><a href="../zh-CN449628/index.html">我们写“你好，世界！” Haskell Web应用程序（Spock）</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>