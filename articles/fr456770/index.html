<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🦇 🧓🏿 👨🏽‍🚒 Course aux armements 👈🏻 🤘🏾 🧑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En mai, Google I / O 2019 a annoncé un nouveau cadre pour développer une interface utilisateur Android déclarative appelée Jetpack Compose. Un mois pl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Course aux armements</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/456770/"><img src="https://habrastorage.org/webt/lj/3u/5h/lj3u5hdbouekb_0nyq00u2iavyk.jpeg"><br><br>  En mai, Google I / O 2019 a annoncé un nouveau cadre pour développer une interface utilisateur Android déclarative appelée Jetpack Compose.  Un mois plus tard, lors de la WWDC 2019, un cadre d'interface utilisateur déclaratif pour iOS appelé SwiftUI a été annoncé.  Après ces conférences, il est devenu clair ce que le développement mobile visait, et je voulais comprendre ce qui peut être fait avec ces frameworks en ce moment et quelle est la différence entre eux. <br><a name="habracut"></a><br><h3>  Examen du cursus </h3><br>  Après un examen rapide, il est devenu clair que IOS avait une documentation intéressante. <br><br><img src="https://habrastorage.org/webt/ot/px/qu/otpxquyccg8_cleajyoviajjiss.gif"><br><br>  et le manque total de documentation dans Android.  Pour vous familiariser avec le framework sur la page officielle, il est conseillé de voir l'application de démonstration. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/3u/jc/kk/3ujckku6wyjvops9lxd1u_9_sqm.gif"></div><br><h3>  Bonjour tout le monde </h3><br>  Commencer avec SwiftUI est très simple, il suffit de mettre à jour macOS en version bêta, d'installer Xcode 11 Beta et de créer un nouveau projet, tout en cochant la case «Utiliser SwiftUI». <br><br><img src="https://habrastorage.org/webt/z1/il/m2/z1ilm2dw4sy86djpust2uhh6usw.gif"><br><br>  Dans le cas de Jetpack Compose, tout est plus compliqué.  Nous devons télécharger la dernière version de Jetpack.  Et sur la base du module ui-demos, en tapant, découvrez comment travailler avec le framework et quelles dépendances sont nécessaires.  Une première impression très triste de Compose par rapport à SwiftUI. <br><br><img src="https://habrastorage.org/webt/8r/oh/g1/8rohg1fphhs_s0yi_aqrwub8uya.gif"><br><br>  <b>Exemple de composition</b> <br><br><pre><code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@Composable</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HelloWorld</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { Text(text = <span class="hljs-string"><span class="hljs-string">"Hello world"</span></span>) }</code> </pre> <br>  <b>Exemple SwiftUI</b> <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ContentView</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> body: some <span class="hljs-type"><span class="hljs-type">View</span></span> { <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"Hello SwiftUI!"</span></span>) } }</code> </pre><br>  La disposition de l'interface utilisateur est très similaire, ce qui est logique, car elle tend à un aspect déclaratif. <br><br><h3>  Editeur visuel </h3><br>  SwiftUi est livré avec un éditeur visuel (canvas), <br>  qui: <br><br>  - redessine l'écran immédiatement après avoir changé le code; <br><br><img src="https://habrastorage.org/webt/q-/mf/p5/q-mfp5ebhhfxuxyygajnbj8bhvy.gif"><br><br>  - Capable d'afficher plusieurs appareils à la fois; <br><br><img src="https://habrastorage.org/webt/c8/lr/af/c8lrafbewax7z1ip7a66hqp_2c8.gif"><br><br>  - permet de modifier les attributs ui des éléments depuis l'éditeur; <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zx/w8/al/zxw8alx8ew0uelpkdsnc0c6vuaw.gif"></div><br>  - et le plus intéressant et cool - vous pouvez exécuter le code d'interface utilisateur à partir de l'éditeur et voir comment l'écran fonctionne. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gl/e3/lq/gle3lq-4czogtn6caracygy1kjg.gif"></div><br>  Dans le cas de Jetpack Compose, il n'y a pas d'éditeur visuel. <br><br><h3>  Travailler avec des listes </h3><br>  Pour travailler dans SwiftUI, il suffit de créer une vue de la chaîne <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ListRow</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> number:<span class="hljs-type"><span class="hljs-type">Int</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> body: some <span class="hljs-type"><span class="hljs-type">View</span></span> { <span class="hljs-type"><span class="hljs-type">Text</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(verbatim: <span class="hljs-string"><span class="hljs-string">"Text \(number)"</span></span>) } }</code> </pre><br>  et collez-le dans la liste. <br><br><pre> <code class="swift hljs"> <span class="hljs-type"><span class="hljs-type">List</span></span>(<span class="hljs-type"><span class="hljs-type">Array</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>...<span class="hljs-number"><span class="hljs-number">44</span></span>)) { number <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-type"><span class="hljs-type">ListRow</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(number: number) }</code> </pre><br>  La liste est prête. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/o1/h2/px/o1h2pxdjpvdvozy5fabcp_kxp78.gif"></div><br>  Compose n'a pas encore de widget de liste.  À première vue, vous pouvez utiliser Colonne. <br><br><pre> <code class="kotlin hljs">Column { listOf( <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span> ) .forEach { name -&gt; Text(text = name, style = +themeTextStyle { h2 }) } }</code> </pre><br>  Mais il ne fait pas défiler. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/g1/mc/of/g1mcofttsfi_rsvdfy1wzpkbtrg.gif"></div><br>  Ce qui est le plus triste, même l'exemple de Google n'est pas finalisé et ne défilera pas. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/6q/tj/k3/6qtjk33oh6jicl7xr0t4g8tdmwa.gif"></div><br><h3>  Afficher la hiérarchie </h3><br>  Dans SwiftUI, l'élément racine pour remplacer UIViewController est le nouveau composant View avec un nouveau cycle de vie.  Cela suggère qu'Apple, après avoir analysé les avantages et les inconvénients de la mise en œuvre de UIViewController, a essayé de tout faire d'une manière nouvelle, en mettant en œuvre les meilleures fonctionnalités. <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ContentView</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> body: some <span class="hljs-type"><span class="hljs-type">View</span></span> { <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"ContentView2 "</span></span>) .onDisappear(){ <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"onDisappear"</span></span>) } .onAppear{ <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"onAppear"</span></span>) } } }</code> </pre><br>  Dans le cas de Compose, les éléments racine restent le bon ancien Activity ou Fragment, au lieu du chargement XML habituel. <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainActivity</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Activity</span></span></span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(savedInstanceState: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Bundle</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState) setContentView(R.layout.activity_main) } }</code> </pre><br>  Téléchargement de widgets depuis Compose. <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ComposeActivity</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Activity</span></span></span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(savedInstanceState: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Bundle</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState) setContent { CraneWrapper { MaterialTheme { Text(text = <span class="hljs-string"><span class="hljs-string">"Hello world"</span></span>) } } } } }</code> </pre><br>  Cela conduit au fait qu'Android ne se débarrasse pas de la vue racine héritée.  C'est juste que les anciens composants de l'interface utilisateur ne communiquent plus avec XML, mais avec les widgets Compose. <br><br><h3>  La navigation </h3><br>  Pour naviguer dans SwiftUI, vous devez spécifier la vue à ouvrir en cliquant sur le bouton. <br><br><pre> <code class="swift hljs"><span class="hljs-type"><span class="hljs-type">NavigationButton</span></span>(destination: <span class="hljs-type"><span class="hljs-type">LandmarkDetail</span></span>()) { <span class="hljs-type"><span class="hljs-type">LandmarkRow</span></span>(landmark: landmark) }</code> </pre><br>  Il n'y a pas d'implémentation de navigation dans Compose.  Mais cela ne devrait probablement pas l'être, car l'élément racine est Activity ou Fragment, dans lequel la navigation est implémentée depuis longtemps. <br><br><h3>  Version prise en charge </h3><br>  SwiftUI fonctionne avec iOS 13, qui sortira en septembre, qui ne sera plus pris en charge sur l'iPhone 5S, iPhone6, iPhone 6 Plus.  Les développeurs doivent réfléchir à la manière dont ils seront prêts à abandonner ces modèles. <br><br>  Composez des plans pour être pris en charge sur n'importe quelle version d'Android. <br><br><h3>  Conclusions </h3><br>  Après les conférences, j'ai pensé qu'il y avait deux nouveaux cadres puissants pour l'interface utilisateur.  En conséquence, il s'est avéré qu'Apple a pris une décision cool, dont beaucoup ont un «état d'exaltation».  Et Google a annoncé un cadre si brut qu'il n'est pas clair combien de points fonctionneront même au niveau du concept. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr456770/">https://habr.com/ru/post/fr456770/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr456754/index.html">GitOps: comparaison des méthodes Pull et Push</a></li>
<li><a href="../fr456756/index.html">Pourquoi CockroachDB change de licence Open Source</a></li>
<li><a href="../fr456760/index.html">Crowdsourcing au ML Boot Camp. Nous considérons mIOU sans images pour une nouvelle tâche d'Odnoklassniki</a></li>
<li><a href="../fr456762/index.html">De Witcher 3 à Cyberpunk: L'évolution du CD Projekt Quest Design</a></li>
<li><a href="../fr456768/index.html">4 difficultés à localiser les jeux mobiles en utilisant Fishing Clash comme exemple - traduction</a></li>
<li><a href="../fr456772/index.html">M&A pour les équipes de projet: comment gérer efficacement les données et les processus du projet?</a></li>
<li><a href="../fr456774/index.html">Ce que je manque à Java après avoir travaillé avec Kotlin / Scala</a></li>
<li><a href="../fr456780/index.html">9 façons de stimuler l'efficacité du développeur d'applications mobiles</a></li>
<li><a href="../fr456782/index.html">Conception orientée modèle - comment ne pas répéter Tchernobyl</a></li>
<li><a href="../fr456790/index.html">Résumé des nouvelles de PostgreSQL. Numéro 16</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>