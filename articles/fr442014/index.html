<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üß¢ üç° üéÇ Dart 2.2 annonc√©: code machine plus efficace, prise en charge des litt√©raux d√©finis üçà üçî ü§π</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Source [Annonce de Dart 2.2: Code natif plus rapide, prise en charge des litt√©raux d√©finis] 

 Aujourd'hui (26 f√©vrier 2019), nous annon√ßons la sortie...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Dart 2.2 annonc√©: code machine plus efficace, prise en charge des litt√©raux d√©finis</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/442014/">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Source [Annonce de Dart 2.2: Code natif plus rapide, prise en charge des litt√©raux d√©finis]</a> <br><br>  Aujourd'hui (26 f√©vrier 2019), nous annon√ßons la sortie du SDK Dart 2.2 - une mise √† jour pour Dart 2 qui offre de meilleures performances de code √† l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">avance (AOT)</a> et un support pour les litt√©raux Set. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e00/bf1/65f/e00bf165fc32fcf5b051ef51f05e8b70.png" alt="image"><br><a name="habracut"></a><br><h4>  Am√©lioration des performances de fl√©chettes pour le d√©veloppement Flutter </h4><br>  Nous continuons notre travail pour rendre le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">code compil√© AOT</a> , comme les applications Flutter, encore plus rapide.  Dans Dart 2.1, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nous avons r√©duit le co√ªt de la</a> v√©rification <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">de</a> type en r√©duisant consid√©rablement le co√ªt de la v√©rification de type pour le code compil√© par AOT et le code qui s'ex√©cute sur une machine virtuelle avec une compilation JIT (juste √† temps). <br><br>  Dans Dart 2.2, nous nous sommes concentr√©s sur les performances du code compil√© AOT, en am√©liorant les performances <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">de 11 √† 16% sur les microbenchmarks</a> (en augmentant la taille du code de ~ 1%).  Cette am√©lioration est le r√©sultat d'un travail sur plusieurs trimestres, afin de r√©duire les co√ªts des appels statiques.  Notre code AOT optimis√© peut d√©sormais appeler l'objet demand√© directement en utilisant un appel PC (c'est-√†-dire en utilisant le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">compteur de programme</a> ).  Avant cela, nous devions effectuer plusieurs fois une recherche dans le pool d'objets pour d√©terminer l'adresse requise.  Ces optimisations sont particuli√®rement utiles lorsque le code contient de nombreux constructeurs et appels de m√©thode statique, tels que le code d'interface utilisateur Flutter, qui contient de nombreux widgets. <br><br><h4>  Prise en charge de Set Literals dans Dart 2.2 </h4><br>  La biblioth√®que principale de Dart (dart: core) contient plusieurs classes de collection: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Maps</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lists</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Sets</a> .  Les cartes sont des ensembles de paires cl√©-valeur.  Les listes sont des s√©quences de valeurs ordonn√©es, dont chacune est accessible √† l'aide de l'index et qui peuvent se produire plusieurs fois.  Les ensembles sont des collections de valeurs non ordonn√©es dans lesquelles chaque valeur ne peut appara√Ætre qu'une seule fois et o√π elle peut √™tre v√©rifi√©e efficacement pour voir s'il existe une valeur dans la collection. <br><br>  Les collections Dart sont g√©n√©ralement initialis√©es avec des constantes au moment de la compilation, et Dart propose une syntaxe pratique pour √©crire cette initialisation.  Dans la liste de fl√©chettes, vous pouvez initialiser comme suit: <br><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> List&lt;String&gt; releases = [<span class="hljs-string"><span class="hljs-string">'Dart 2.0'</span></span>, <span class="hljs-string"><span class="hljs-string">'Dart 2.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'Dart 2.2'</span></span>];</code> </pre> <br>  Auparavant, Dart ne supportait que la syntaxe litt√©rale pour List et Map, donc l'initialisation de Set √©tait fastidieuse, car nous devions initialiser via la liste: <br><br><pre> <code class="java hljs">Set&lt;String&gt; currencies = Set.of([<span class="hljs-string"><span class="hljs-string">'EUR'</span></span>, <span class="hljs-string"><span class="hljs-string">'USD'</span></span>, <span class="hljs-string"><span class="hljs-string">'JPY'</span></span>]);</code> </pre> <br>  Ce code n'est pas seulement g√™nant et inefficace;  l'absence de prise en charge litt√©rale emp√™che la cr√©ation d'un ensemble immuable au moment de la compilation.  Avec l'ajout de la prise en charge litt√©rale de Set dans Dart 2.2, initialisez l'ensemble et rendez-le immuable √† l'aide d'une nouvelle syntaxe pratique: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Set&lt;String&gt; currencies = {<span class="hljs-string"><span class="hljs-string">'EUR'</span></span>, <span class="hljs-string"><span class="hljs-string">'USD'</span></span>, <span class="hljs-string"><span class="hljs-string">'JPY'</span></span>};</code> </pre> <br>  De vrais exemples d'utilisation de Set litt√©raux avec la commande Flutter peuvent √™tre trouv√©s <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .  Pour un aper√ßu plus approfondi du probl√®me, nous vous sugg√©rons de vous familiariser avec la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">visite linguistique mise √† jour de Dart 2.2</a> . <br><br><h4>  Innovez avec le Dart 2 Common Front-End (CFE) </h4><br>  Dart propose plusieurs impl√©mentations qui lui sont propres: la machine virtuelle Dart utilis√©e par Flutter, le compilateur dart2js et le compilateur dev Dart (dartdevc), qui utilisent tous le compilateur Common Front-End.  Dart Common Front End, ou CFE, analyse le code Dart, effectue l'inf√©rence de type et traduit Dart dans un langage interm√©diaire de niveau inf√©rieur, que les compilateurs principaux acceptent comme entr√©e. <br><br>  Les litt√©raux d'ensemble sont un exemple de construction de langage que nous avons pu mettre en ≈ìuvre rapidement gr√¢ce √† CFE.  Le code pour analyser les litt√©raux Set et effectuer l'inf√©rence de type a √©t√© impl√©ment√© une fois √† l'aide de CFE pour toutes les impl√©mentations.  De plus, nous avons cr√©√© une impl√©mentation transitoire qui pourrait √™tre utilis√©e par les compilateurs principaux au stade initial.  Dans une impl√©mentation interm√©diaire, une version modifiable de l'ensemble de litt√©raux sp√©cifi√© a √©t√© traduite lors de la compilation sous la forme √©quivalente: <br><br><pre> <code class="java hljs">Set&lt;String&gt; currencies = Set&lt;String&gt;()..add(<span class="hljs-string"><span class="hljs-string">'EUR'</span></span>)..add(<span class="hljs-string"><span class="hljs-string">'USD'</span></span>)..add(<span class="hljs-string"><span class="hljs-string">'JPY'</span></span>);</code> </pre> <br>  Une impl√©mentation interm√©diaire des litt√©raux Set constants diff√®re en ce qu'ils ne peuvent pas √™tre assembl√©s progressivement en plusieurs parties.  Au lieu de cela, nous avons impl√©ment√© cela en termes d'une classe Set immuable priv√©e qui encapsule une Map immuable, o√π les √©l√©ments Set sont des cl√©s Map: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Set&lt;String&gt; currencies = _UnmodifiableSet&lt;String&gt;({<span class="hljs-string"><span class="hljs-string">'EUR'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-string"><span class="hljs-string">'USD'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-string"><span class="hljs-string">'JPY'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>});</code> </pre> <br>  La classe Set immuable impl√©mente des m√©thodes dans l'interface Set, en les d√©l√©guant √† la carte interne. <br><br>  En g√©n√©ral, nous avons pu impl√©menter Set litt√©raux initialement en fonction exclusivement de CFE.  Le back-end pourrait imm√©diatement utiliser l'impl√©mentation CFE et impl√©menter son propre support plus tard.  Cela a permis aux compilateurs principaux de reporter leur prise en charge jusqu'√† ce que les aspects de performance de cette fonction soient mieux compris. <br><br><h4>  Sp√©cification Dart 2.2 </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Dart 2 √©tait une mise √† jour tellement importante de Dart</a> qu'il nous a fallu un certain temps pour mettre √† jour les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sp√©cifications de la langue officielle</a> pour r√©pondre √† toutes les modifications que nous avons apport√©es.  Nous avons finalement termin√© ce travail et la sp√©cification a √©t√© mise √† jour vers la version Dart 2.2.  Nous avons √©galement d√©plac√© la sp√©cification de langue vers le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nouveau r√©f√©rentiel</a> et ajout√© une int√©gration continue pour garantir que la sp√©cification est constamment mise √† jour au format PDF √† mesure que les futures versions du langage Dart √©voluent.  Les sp√©cifications 2.2 et futures de Dart 2.x sont disponibles <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur la page de sp√©cifications de Dart</a> . <br><br><h4>  Comment installer Dart 2.2 </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le Dart SDK 2.2</a> est disponible sur la page d'accueil de Dart √† partir d'aujourd'hui.  Si vous √™tes un d√©veloppeur Flutter, Dart 2.2 est d√©j√† inclus.  (Remarque: sur la commande de la console Flutter Doctor, les canaux Flutter Master et Dev actuels indiqueront Dart 2.2. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">La version stable actuelle de Flutter 1.2</a> produira Dart 2.1.2; cette version a les m√™mes capacit√©s que Dart 2.2). <br><br>  C'est tout pour l'instant.  Nous esp√©rons que vous appr√©cierez Dart 2.2! <br><br><hr><br>  Merci beaucoup pour votre aide dans la traduction de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">PsyHaSTe</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr442014/">https://habr.com/ru/post/fr442014/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr442004/index.html">Effets de filtrage SVG. Partie 7. Avant</a></li>
<li><a href="../fr442006/index.html">Gestion des fichiers mal faite - Partie 2: Chef-d'≈ìuvre de la merde</a></li>
<li><a href="../fr442008/index.html">k3s est un Kubernetes petit mais certifi√© par Rancher Labs</a></li>
<li><a href="../fr442010/index.html">Python et FPGA. Test</a></li>
<li><a href="../fr442012/index.html">Exp√©rience: nous collectons un r√©pertoire des unit√©s qui ont d√©livr√© un passeport</a></li>
<li><a href="../fr442016/index.html">Les pirates informatiques sont pires que la peinture, ou comment prot√©ger les applications Web</a></li>
<li><a href="../fr442018/index.html">Loi de printemps en termes de constitution. Pourquoi</a></li>
<li><a href="../fr442020/index.html">Nouveau codec AV1: acc√©l√©rez le chargement vid√©o dans un navigateur</a></li>
<li><a href="../fr442022/index.html">Conception sur CodeFest. Mais ce n'est pas s√ªr</a></li>
<li><a href="../fr442024/index.html">Une strat√©gie nationale d'intelligence artificielle est en cours de cr√©ation en Russie</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>