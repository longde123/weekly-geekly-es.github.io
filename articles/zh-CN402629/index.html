<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⚗️ 🎑 🧓🏿 我的小接力：Brainfuck电脑是神奇的 🙍🏾 📟 ⛰️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="引言 


 曾几何时，当一切都变得很小而我很小的时候，我读了Wojciechowski的书“电子玩具”，渴望使其中描述的设备栩栩如生。 因此，在已经很遥远的2008年中，在几十个电磁继电器中，组装了一个能够加减的4位ALU（ RCVM1-继电器数字计算机-版本1 ）。 然后我想-如果我组装大量继电...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>我的小接力：Brainfuck电脑是神奇的</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/402629/"><h2 id="vvedenie"> 引言 </h2><br><p> 曾几何时，当一切都变得很小而我很小的时候，我读了Wojciechowski的书“电子玩具”，渴望使其中描述的设备栩栩如生。 因此，在已经很遥远的2008年中，在几十个电磁继电器中，组装了一个能够加减的4位ALU（ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">RCVM1-继电器数字计算机-版本1</a> ）。 然后我想-如果我组装大量继电器并建造一台成熟的继电器计算机该怎么办？ 我花了8年的时间在这里和那里慢慢组装继电器，直到达到所需的数量，我才开始创作。 </p><br><p> 让我向您介绍您的项目，以创建第二版数字中继计算机，其代号为“ BrainfuckPC”-具有Von Neumann架构的16位计算机，并提供一组Brainfuck语言的说明。 设计工作已经完成，我正在制作这个怪物。 <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/files/47f/633/aca/47f633aca9ef41d2956fbd513c33223e.jpg"></a> </p><br><h2 id="1-tehnicheskie-harakteristiki">  1规格 </h2><br><ul><li> 地址总线宽度：16位 </li><li> 寻址：逐字，16位/字 </li><li> 内存容量：64 Kiloslov（128KB） </li><li> 数据总线宽度：16位 </li><li> 代码和数据的统一地址空间（冯·诺依曼体系结构） </li><li> 时钟频率（设计）：100 Hz， <strong>1个指令/周期</strong> </li><li> 指令集： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Brainfuck</a> ++ </li><li> 继电器数（设计）：792 </li><li> 二手继电器：簧片开关，RES55（1p），RES64（1z） </li></ul><br><p> 详细资料已滚动 </p><a name="habracut"></a><br><h2 id="obschiy-princip-raboty"> 一般工作原理 </h2><br><p> 考虑计算机的通用结构： </p><br><img src="https://habrastorage.org/files/119/8ac/780/1198ac780bef4e6780cf3c32552e2d38.jpg"><br><p>  <em>图1：通用计算机结构</em> </p><br><p> 中心元素是加法器，它并不简单，但是具有并行传输。 为什么需要这样做-我在下面说一些。 </p><br><p> 程序和数据存储在存储块中。 根据我们现在要读取的内容，在IP指令寄存器或AP地址寄存器中记录的地址处进行访问-在AP指定的地址处的数据或在IP地址处记录的指令。 </p><br><p> 要操作此图灵磁带（Brainfuck编程语言可以准确识别它），我们需要能够执行以下三种操作之一： </p><br><ul><li> 更改当前数据单元格中的值，即执行添加/子操作。 在Brainfuck中，单元格中的值只能更改一个值，即  +1或-1。 但是，如果拥有成熟的加法器，那么不将长链+++++++++++++（------------）分解为一个操作<em>AP + = N（</em> AP- = N）会大大加快流程，这是一个罪过计算。  （也不要忘记将[-]（或[+]）变成* AP = 0）； </li><li> 更改当前所选数据单元的编号。 也就是说，遍历数据存储器（AP ++，AP--）； </li><li> 更改当前指令的编号。 首先，在每条指令之后，我们需要将IP寄存器中的值增加一。 其次，如果代码中有分支，则更改此值（默认情况下用于组织循环）。 只有一个控制标志-Z。因此，有JumpIfZero和JumpIfNotZero命令。 </li></ul><br><p> 总的来说，我们需要能够为加法器的一个输入提供以下三个模块中的任何一个的值：AP寄存器，IP寄存器，DATA总线。 我们将通过一个临时寄存器来执行此操作，在该寄存器中，我们将保存所需的值之一，并使用16位密钥连接所需的值。 </p><br><p> 在加法器的第二个输入处，我们将提交一个数字，这些值之一应更改为正数或负数。 由于指令的宽度有限，因此只能用+ -12位数字进行更改。 但是，对于Brainfuck来说，这已经足够了（“足够每个人使用”）。 <br> 我们将从命令寄存器中获取这12位，这是很自然的，因为有些团队根本不使用加法器。 不要忘记，负数将在扩展代码中提供，并提供额外的文件。 单位转移输入（即A + invB +1） </p><br><p> 计算结果将立即加载到我们得到的位置。 由于临时注册，我们可以轻松完成此操作。 </p><br><p> 有关视频的更多详细信息（我什至会说无聊）可以在此视频中找到： </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Vkg3DC9bF2k" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2 id="nabor-instrukciy"> 指令集 </h2><br><p> 绘制了能够实现8条基本Brainfuck指令的一般示意图后，我意识到它具有更大的潜力。 因此，我开发了一套与Brainfuck兼容的更广泛的指令，但需要将每个源BrainFuck指令编译为16位计算机指令。 </p><br><h1 id="obschee-opisanie-instrukcii"> 指令概述 </h1><br><p> 所有指令均为16位。 由几个部分组成。 </p><br><ul><li>  15、14、13位-确定指令等级 </li><li> 位12-签名指示的签名位 </li><li> 位11-0-包含有符号int-a的低12位。 根据第12位的值形成最高4位。 </li></ul><br><h1 id="tablica-instrukciy"> 指令表 </h1><br><table><thead><tr><th> 使用说明书 </th><th> 操作码 </th><th> 运作方式 </th><th> 相当于Brainfuck </th><th> 内容描述 </th></tr></thead><tbody><tr><td> 加m16 </td><td>  0X XX </td><td>  <em>AP←</em> AP + m16 </td><td>  '+'（重复m16次） </td><td> 将基数添加到所选单元格的当前值 </td></tr><tr><td> 子m16 </td><td>  1X XX </td><td>  <em>AP←</em> AP-m16 </td><td>  '-'（重复m16次） </td><td> 因此，它从中减去基数 </td></tr><tr><td>  ADA M16 </td><td>  2X XX </td><td>  AP←AP + m16 </td><td>  '&gt;'（重复m16次） </td><td> 增加地址的价值 </td></tr><tr><td> 广告m16 </td><td>  3X XX </td><td>  AP←AP-m16 </td><td>  '&lt;'（重复m16次） </td><td> 减小地址值。 </td></tr><tr><td>  jz m16 </td><td>  4X XX </td><td>  （* AP == 0）？  IP←IP + m16：IP←IP </td><td>  '[' </td><td> 如果当前单元格的值为零，请转到IP + m16 </td></tr><tr><td>  jz m16 </td><td>  5X XX </td><td>  （* AP == 0）？  IP←IP-m16：IP←IP </td><td> 没有啦 </td><td> 转到IP-m16，如果当前单元格的值为零 </td></tr><tr><td> 奔驰m16 </td><td>  6X XX </td><td>  （* AP！= 0）？  IP←IP + m16：IP←IP </td><td> 没有啦 </td><td> 如果当前单元格的值不为零，请转到IP + m16 </td></tr><tr><td> 奔驰m16 </td><td>  7X XX </td><td>  （* AP！= 0）？  IP←IP-m16：IP←IP </td><td>  ']' </td><td> 转到IP-m16，如果当前单元格的值不为零 </td></tr><tr><td> 和m16 </td><td>  8X XX </td><td>  <em>AP←</em> AP和m16 </td><td> 没有啦 </td><td> 逻辑与且为正数 </td></tr><tr><td> 和m16 </td><td>  9X XX </td><td>  <em>AP←</em> AP和m16 </td><td> 没有啦 </td><td> 逻辑与且为负数（其他人必须形成高4位） </td></tr><tr><td> 或m16 </td><td>  XX </td><td>  <em>AP←</em> AP或m16 </td><td> 没有啦 </td><td> 逻辑OR为正常数 </td></tr><tr><td> 或m16 </td><td>  bX XX </td><td>  <em>AP←</em> AP或m16 </td><td> 没有啦 </td><td> 具有负常数的逻辑或 </td></tr><tr><td> 在 </td><td>  c0 00 </td><td>  * AP←CIN </td><td>  '，' </td><td> 从控制台读取一个m8字符。 如果输入缓冲区为空，请等待。 </td></tr><tr><td> 出 </td><td>  c0 01 </td><td>  COUT←* AP </td><td>  '。' </td><td> 将M8字符打印到控制台 </td></tr><tr><td> 压缩文件 </td><td>  d0 01 </td><td>  AP←0 </td><td> 没有啦 </td><td> 清除AP寄存器。 该命令允许组合 </td></tr><tr><td>  clr.ip </td><td>  d0 02 </td><td>  IP←0 </td><td> 没有啦 </td><td> 清除IP寄存器。 该命令允许组合 </td></tr><tr><td>  clr.dp </td><td>  d0 04 </td><td>  * AP←0 </td><td>  '[+]'或'[-]' </td><td> 清除存储单元。 该命令允许组合 </td></tr><tr><td>  set.ap </td><td>  d0 10 </td><td>  AP←* AP </td><td> 没有啦 </td><td> 将当前值写入AP寄存器 </td></tr><tr><td>  set.ip </td><td>  d0 20 </td><td>  IP←* AP </td><td> 没有啦 </td><td> 将当前值写入IP寄存器 </td></tr><tr><td>  get.ap </td><td>  d1 00 </td><td>  * AP←AP </td><td> 没有啦 </td><td> 从AP寄存器读取当前值 </td></tr><tr><td>  get.ip </td><td>  d2 00 </td><td>  * AP←IP </td><td> 没有啦 </td><td> 从IP寄存器读取当前值 </td></tr><tr><td> 模式 </td><td>  e1 00 </td><td></td><td> 没有啦 </td><td>  8位激活（1） </td></tr><tr><td> 模式 </td><td>  e2 00 </td><td></td><td> 没有啦 </td><td>  16位激活 </td></tr><tr><td> 停止 </td><td>  f0 00 </td><td></td><td> 没有啦 </td><td> 停止机 </td></tr></tbody></table><br><ul><li>  AP-地址寄存器 </li><li>  IP-指令注册 </li><li>  * AP-当前内存位置 </li><li>  CIN-控制台输入 </li><li>  COUT-控制台输出 </li></ul><br><ol><li> 激活8位模式后，加法器将继续以16位模式运行。 但是，条件指令（即，测试当前存储单元的值是否等于零）变为8位。  （ <em>AP＆0x00FF == 0）？</em>  <em>和（</em> AP＆0x00FF！= 0）？ 到目前为止，控制台的输入和输出决定始终保留8位。 到底不是以Unicode打印？ </li></ol><br><p> 在此视频中，我详细介绍了（但很少了解）每个指令的作用以及与之对应的“操脑”指令： </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/mU3KTtWeB-s" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2 id="parallelnyy-summator"> 并行加法器 </h2><br><p> 中继计算机不仅应该是中继，还应该是快速的。 像其他任何计算机一样，我的也将是配备有时钟发生器的同步机。 自然，我不想浪费时钟周期，而是尝试将每个操作调整为一个周期-也就是说，对于同步发电机的上升沿和下降沿，我可以加载并执行新命令。 同时，希望所有命令在同一时间段内执行。 </p><br><p> 每个继电器在操作和释放时都有一定的延迟，如果使用继电器RES22，我们将花费1个常规时间单位（cu）。 等于12-15ms（参考），RES64-1.3ms（参考）。 我的车中最昂贵（也是最频繁）的操作是加法器。 <br> 就其本身而言，这是非常简单且快速的，但是“有一个警告”在于计算和传输传输信号的方法中。 </p><br><img src="https://habrastorage.org/files/a80/76a/c2b/a8076ac2b99b4a96b08530067edebfe6.png"><br><p>  <em>图2：串行传输加法器。</em> </p><br><p> 最初，我计划使用顺序进位加法器。 在这种加法器中，每个随后的放电取决于当前电流的放电传输信号的状态。 结果，计算操作的持续时间将在2立方米之间波动  -N * 2 cu，其中N是位数。 结果，一个16位顺序进位加法器的最大延迟为32 cu </p><br><p> 并行进位加法器可提供最佳性能。 它们缺乏从放电到放电的传播传播过程。 在每个类别中，同时生成输出值： </p><br><img src="https://habrastorage.org/files/cce/54f/b48/cce54fb4896d4c2a87710b8f5d117a44.jpg"><br><p>  <em>图3：并行进位加法器</em> </p><br><p> 构建具有所示特性的加法器的能力基于总和和传递函数的再现，该函数仅取决于项的值，而与放电在放电网格中的位置无关。 问题在于，并行传输方案本身随随后的每次放电变得更加复杂。 在这里，看看会发生什么： </p><br><img src="https://habrastorage.org/files/1fe/89c/432/1fe89c432a5b49b7a45cf4a8223e42fe.png"><br><p>  <em>图4 ：（应该是LaTeX公式的形式，但不是），用于计算位的传输信号的公式。</em>  <em>哪里</em> <math> </math><em><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>k</mi><mi>i</mi></msub><mo>=</mo><msub><mi>a</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><msub><mi>b</mi><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.707ex" height="2.419ex" viewBox="0 -780.1 5901.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/402629/&amp;usg=ALkJrhjUEBfHyXQFJ3v4wNOFCr9Y1GbSAg#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/402629/&amp;usg=ALkJrhjUEBfHyXQFJ3v4wNOFCr9Y1GbSAg#MJMATHI-69" x="737" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/402629/&amp;usg=ALkJrhjUEBfHyXQFJ3v4wNOFCr9Y1GbSAg#MJMAIN-3D" x="1143" y="0"></use><g transform="translate(2199,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/402629/&amp;usg=ALkJrhjUEBfHyXQFJ3v4wNOFCr9Y1GbSAg#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/402629/&amp;usg=ALkJrhjUEBfHyXQFJ3v4wNOFCr9Y1GbSAg#MJMATHI-69" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/402629/&amp;usg=ALkJrhjUEBfHyXQFJ3v4wNOFCr9Y1GbSAg#MJMATHI-63" x="3323" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/402629/&amp;usg=ALkJrhjUEBfHyXQFJ3v4wNOFCr9Y1GbSAg#MJMATHI-64" x="3757" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/402629/&amp;usg=ALkJrhjUEBfHyXQFJ3v4wNOFCr9Y1GbSAg#MJMATHI-6F" x="4280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/402629/&amp;usg=ALkJrhjUEBfHyXQFJ3v4wNOFCr9Y1GbSAg#MJMATHI-74" x="4766" y="0"></use><g transform="translate(5127,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/402629/&amp;usg=ALkJrhjUEBfHyXQFJ3v4wNOFCr9Y1GbSAg#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/402629/&amp;usg=ALkJrhjUEBfHyXQFJ3v4wNOFCr9Y1GbSAg#MJMATHI-69" x="607" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>k</mi><mi>i</mi></msub><mo>=</mo><msub><mi>a</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><msub><mi>b</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-1"> k_i = a_i \ cdot b_i </script></em>   <em>-按位</em> <math> </math><em><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>h</mi><mi>i</mi></msub><mo>=</mo><msub><mi>a</mi><mi>i</mi></msub><mo>+</mo><msub><mi>b</mi><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.904ex" height="2.419ex" viewBox="0 -780.1 5125.4 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/402629/&amp;usg=ALkJrhjUEBfHyXQFJ3v4wNOFCr9Y1GbSAg#MJMATHI-68" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/402629/&amp;usg=ALkJrhjUEBfHyXQFJ3v4wNOFCr9Y1GbSAg#MJMATHI-69" x="815" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/402629/&amp;usg=ALkJrhjUEBfHyXQFJ3v4wNOFCr9Y1GbSAg#MJMAIN-3D" x="1198" y="0"></use><g transform="translate(2254,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/402629/&amp;usg=ALkJrhjUEBfHyXQFJ3v4wNOFCr9Y1GbSAg#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/402629/&amp;usg=ALkJrhjUEBfHyXQFJ3v4wNOFCr9Y1GbSAg#MJMATHI-69" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/402629/&amp;usg=ALkJrhjUEBfHyXQFJ3v4wNOFCr9Y1GbSAg#MJMAIN-2B" x="3350" y="0"></use><g transform="translate(4351,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/402629/&amp;usg=ALkJrhjUEBfHyXQFJ3v4wNOFCr9Y1GbSAg#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/402629/&amp;usg=ALkJrhjUEBfHyXQFJ3v4wNOFCr9Y1GbSAg#MJMATHI-69" x="607" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>h</mi><mi>i</mi></msub><mo>=</mo><msub><mi>a</mi><mi>i</mi></msub><mo>+</mo><msub><mi>b</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-2"> h_i = a_i + b_i </script></em>   <em>-按位或</em> </p><br><p> 结果，实现并行迁移非常昂贵。 但是，应该指出的是，下一次排放包含用于计算前一个排放的方程式（对于Nicolas Cage，应该有一个模因“可以吗？”），因此，原则上，仅针对高级排放制定转移计算方案，并从中收集其余部分就足够了，得出中间结果的结论。 </p><br><img src="https://habrastorage.org/files/4df/28d/64b/4df28d64bcdd4e41804483213342fc8a.png"><br><p>  <em>图5：16位并行加法器的完整图</em> </p><br><p> 在图5中，前两列是加法器本身。 然后是2AND和2OR块，它们形成h和k的中间值，如图4所示。它们的存在促使我用加法和乘法逻辑运算扩展了命令列表，为此，我只需要添加几个锁存器和相应的微码。 </p><br><p> 其他所有内容都是基于4个RES64继电器的5AND块，这些块可以焊接，以便一个模块可以用作2AND + 3AND。 对于这些模块，每个逻辑“与”步骤都通过一个二极管输出，这使您可以收集中间传输信号。 </p><br><p> 估计的信号传播时间：加法器应付1 cu，这时在2AND / 2OR块的输出处生成信号，然后1 cu  -通过在5AND块中相乘，二极管上的逻辑加法不会引入延迟。 好，最后一个 用于重新计算加法器。 </p><br><p> 总计3立方米 而不是32或加法器不超过4.5毫秒。 </p><br><h2 id="registry"> 寄存器 </h2><br><p> 机器中有四个16位专用寄存器。 没有RON。 只有紧密的绑定，只有硬核！ 它由D触发器组成，每个D触发器是4个RES55继电器上的独立模块，其电路如下： </p><br><img src="https://habrastorage.org/files/67e/b6f/f92/67eb6ff92b294f4a9ac193582e7f2aa0.jpg"><br><p>  <em>图6：D触发器模块的示意图。</em>  <em>在某个地方仍然有连接器，但是在这里并不重要，因为所有内容都已签名。</em> </p><br><p> 数据进入数据输入，其继电器确定同步信号的去向-复位触发器或安装触发器（对此负责的还有两个继电器，其中一个具有自锁功能）。 第四个继电器获得开关输出Q。这是一个非常有用的功能。 </p><br><h2 id="plata-pamyati"> 记忆板 </h2><br><img src="https://habrastorage.org/files/b75/f2f/bef/b75f2fbefffd4d12aa1c0d045e18f874.jpg"><br><p>  <em>图7：内存板。</em>  <em>电路板尺寸315x200mm</em> </p><br><p> 尽管存储电路本身只是模块总填充量的一小部分，但这是一个非常复杂且重要的元素。 该委员会的任务是，首先要存储程序和数据总存储量的64千斯洛伐克克朗。 它基于两个64 KB缓存芯片组装。 通过保护电路和开关输入的地址连接到计算机地址总线，并且在数据总线侧连接开关和输入缓冲器和输出驱动器的复杂系统。 为了读取和写入内存，两条线分别为W / R和Sync。 第一个选择我们将要做的事情，第二个选择实际上将要做的事情。 </p><br><p> 而且，尽管这种同步本身不存在，但存储卡自然会过自己的生活。 在渲染上，您可以看到两个16x16 LED矩阵。 该显示显示一些存储区域。 顺便说一句，是通过程序确定的VideoRAM。 询问存储芯片并控制Atmega1280微控制器的输出。 </p><br><p> 对于sim卡而言，微控制器的任务并不在那里结束。 控制台的输入和输出挂在上面。 它将输出到哪里-我还没有决定，因此，用于常规控制台的USB-Serial转换器和用于Wi-Fi的ESp8266在板上分离了。 根据后者的说法，在最紧急的计划中要有一个网页，该网页具有将计算机程序下载到内存和控制台本身的能力。 是的，MK的任务还包括将程序初始加载到RAM中，从而可以完全访问RAM，以及一个用于存储程序的1 Mbit小型EEPROM。 </p><br><img src="https://habrastorage.org/files/8d3/620/24c/8d362024c8c04df680f8bc2a5a53a6cd.jpg"><br><p>  <em>图8：存储卡的示意图。</em>  <em>未显示微控制器和框图</em> </p><br><h2 id="blok-logiki"> 逻辑块 </h2><br><p> 我不知道他最终会怎样。 通用计算机电路上提供了最新版本，但我不喜欢它。 我很可能会制作一个12级音序器，并借助按键将信号发送到各个块。 </p><br><img src="https://habrastorage.org/files/107/480/a84/107480a848914e7286ec88021385dd88.jpg"><br><p>  <em>图9：16位块周围的所有东西都是逻辑块</em> </p><br><h2 id="konstrukciya"> 建筑施工 </h2><br><p> 机器的设计是模块化的机架。  KDPV清楚地显示了如何填充机器。 但首先要注意的是： </p><br><h1 id="modul"> 模组 </h1><br><p> 计算机的基本元素是一个60x44mm模块，带有一个16针连接器，带有4个继电器，它们的线束和4个LED指示： </p><br><img src="https://habrastorage.org/files/650/4da/5d0/6504da5d00ba42ecb3eb272370fd92f8.jpg"><br><p>  <em>图10：模块的3D模型</em> </p><br><p> 各种类型的模块： </p><br><ol><li> 带传输的1位加法器-16个; </li><li> 用于并行传输电路的5AND模块-32个; </li><li>  D触发器模块-每个寄存器64个，外加一点逻辑； </li><li> 模块4x2AND_SW，用于组织闩锁。 只有4个合闸继电器。 </li><li>  4x2AND模块，用于组织闩锁。  4个继电器中有3个带有转换触点。 在4个继电器上没有足够的输出引脚。 </li><li> 该模块是一个二极管，8个二极管D226D。 组织多输入或 </li><li> 通用模块2AND / 2OR，允许您创建2AND-NOT，2OR-NOT，4AND，4AND-NOT，4OR，4OR-NOT以及任何组合。 基于4个带开关触点和公共点的继电器； </li></ol><br><p> 由于我已经提出了一个控制逻辑块，尽管我已经拒绝了，但我不知道每种类型的模块的确切数量。 我会在路上解决的。 估计模块数量为192个。 </p><br><h1 id="blok"> 块 </h1><br><p> 我们采用一块150x200mm的电路板，在其上焊接32个带有16个引脚的连接器，但这并不简单，但是为了<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">包装起来</a> ，将我们的模块以8x4矩阵的形式安装在其上，得到了这样一个块： </p><br><img src="https://habrastorage.org/files/012/981/0c4/0129810c41a8415aa3ed543cbc79e47f.jpg"><br><p>  <em>图11：块</em> </p><br><p> 在我的车中将有6个这样的模块-每个加法器两个模块，每个寄存器两个模块，每个逻辑两个模块。 我会在萝卜上刮擦更多的闩锁块，但如果是，则它们是平坦且焊接的 </p><br><p> 选择环绕式安装的原因是：首先，每个基板的电路虽然事先已知，但可能会发生变化并且容易出错。 其次，原则上不可能第一次正确地分离逻辑块，并且如果寄存器块的所有内容都清晰无误，并且您可能会用同步线（例如同步线）出错，那么您将不得不重做逻辑1000次。 如果逐步收集逻辑块的每个组件，将会更好。 第三，纯粹是机械因素-从物理上讲，不可能在两层板上分开这些块：) 16位轮胎在许多方向上会发散，而这些方向会反复相交。 </p><br><p> 每个单元总共包含32个模块，继电器总数为128个。 每个单元的电源为5V 2A。 </p><br><h1 id="kompyuter"> 电脑类 </h1><br><p> 在一个大型框架上，尺寸为640x480毫米（实际上稍大一点，但是数字很漂亮），有六个继电器块和一个存储板： </p><br><img src="https://habrastorage.org/files/fe5/217/f56/fe5217f56d15451c890f7f01b86d9c32.jpg"><br><p>  <em>图12：机器块的位置</em> </p><br><p> 整个计算机被插入到一个由贵重木材制成的木制框架中，该框架前后均装有玻璃。 </p><br><h2 id="izgotovlenie"> 制造业 </h2><br><p> 尽管有当前日期，该项目实际上仍然存在：-)它不是处于最活跃的阶段，但仍处于制造阶段。 </p><br><h1 id="rele"> 接力赛 </h1><br><p> 我有 数量很多，但问题是存有300多种库存，超过1000种-27伏继电器和5伏RES55继电器对我来说可能还不够。 我最终无法估计灾难的规模，但是我认为在下一次我将收集这台地狱机器时，由于外部的补充，问题将消失。 </p><br><img src="https://habrastorage.org/files/d90/065/573/d90065573e5640e9b290f7b623732c17.jpg"><br><p>  <em>图13：继电器储备。</em>  <em>800件继电器-新产品，在Mitsa无线电市场上成功赚到了几分钱</em> </p><br><p> 补货来源之一是实验室电源提供的DAC继电器板。 这些是： </p><br><img src="https://habrastorage.org/files/a7b/4e3/547/a7b4e35475444a50bc1ec89647d20427.jpg"><br><p>  <em>图14：在无线电市场上购买的PSU型电源板（不，我不是）</em> </p><br><h1 id="pechatnye-platy"> 印刷电路板 </h1><br><p> 我决定自己做所有的印刷电路板。 我向中国人夹了300美元，四个月以来，我一直在做以下工作：用光刻胶覆盖半成品，半透明，蚀刻，用阻焊膜覆盖，显影，钻孔和铣削。 </p><br><img src="https://habrastorage.org/files/fca/713/a66/fca713a6619b460499051e07f8c2a999.JPG"><br><p>  <em>图15：各种蚀刻面板</em> </p><br><p> 我在板上制作板，在200x150mm板上制作9个模块。 蚀刻30块板并粘上防焊层。 我不会以任何方式开始。 我的FSR-8000的焊接面罩是蓝色的，由两个部分组成，我之前已经处理过。 </p><br><p> 并非偶然选择200x150mm的印版-我们将它们放在广播市场上的一个秘密地方，它们已经稳定销售了很多年，而我的整个设备都是为这种格式量身定制的。 </p><br><p> 一言以蔽之，我开始使用层压机涂覆光阻剂（重氮的MPF-VSC），这些只是奇迹。 胶合质量显着提高。 </p><br><p> 然后，有必要切割和钻孔这些板，为此，我什至拥有3D铣刀。 </p><br><img src="https://habrastorage.org/files/d40/88f/5dd/d4088f5dd8e54549b4ea8f565b5f075a.jpg"><br><p>  <em>图16：3D DIY Chinese 2020CNC铣床</em> </p><br><p> 我只花了175美元就把它当作电子产品专用。 足以进行木板钻孔和铣削，而且我已经在寻找3D机器用的滚珠丝杠和导轨组。 准备买这么贵的东西，但是当需要它时就可以自己组装-就是这样。 </p><br><p>          : </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/0F5jdi7wreg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2 id="programmy">  </h2><br><p>       ,         .      (    )     Elf.     ,        (        ). <em>//TODO      —      ,          </em> . </p><br><p>    : .    , .      .   Segmentation Fault! </p><br><p>  ,  .       —         .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">leBrainfuck</a> ,           . <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">   </a> ,      ,      Brainfuck     .    +-&lt;&gt;,      [-]   .     ,     . ,   . </p><br><p>    .          8 .       : </p><br><img src="https://habrastorage.org/files/f4e/5b4/e94/f4e5b4e949c94111ab3379b34f7b6923.jpg"><br><p>   —   10 .     LLVM    0,9 .       Intel Vtune Amplifier       120   10   . </p><br><p>    .    ,  3   brainfuck-.      100  50     347   — ..     ,     !          ,   ,  .             . </p><br><p>  ,    ,        ,    </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/whk8NKAdsB8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> </a>             . </p><br><h2 id="myslishki">  </h2><br><p>       -6        ,       ,           .            —       ,        .   —   .     -        —     30-40 -    6   . </p><br><h2 id="zacheeeem777"> ????777 </h2><br><img src="https://habrastorage.org/files/1fb/f24/c16/1fbf24c164974f8fabba8e7e03e5856b.jpg"><br><h2 id="ssylki"> 参考文献 </h2><br><p>    openSource.      : </p><br><ol><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://github.com/radiolok/RelayComputer2</a> —        .          </li><li> <a href="">https://github.com/radiolok/RelayComputer2/blob/master/roadmap.md</a>        ,     . </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://hackaday.io/project/18599-brainfuck-relay-computer</a>            .           GT. </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://github.com/radiolok/bfutils</a>   . </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN402629/">https://habr.com/ru/post/zh-CN402629/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN402619/index.html">机器人垂直农场的种植效率比传统农场高400％</a></li>
<li><a href="../zh-CN402621/index.html">火星之旅：宇航员在前往行星及其表面时会发生什么？</a></li>
<li><a href="../zh-CN402623/index.html">CampStove 2：野营炉灶，您可以从中充电小工具</a></li>
<li><a href="../zh-CN402625/index.html">二氧化碳灯（MH-Z19）</a></li>
<li><a href="../zh-CN402627/index.html">俄罗斯是否有机会在“人工智能马拉松”中发挥领导作用</a></li>
<li><a href="../zh-CN402631/index.html">在新季节中选择哪种心率监测器：在三到四千卢布内折衷解决方案</a></li>
<li><a href="../zh-CN402633/index.html">全高清的《战地风云1》的故事在处理器中的集成显卡上以及“不朽”的控制台组装中</a></li>
<li><a href="../zh-CN402637/index.html">17岁的学生更正了NASA错误</a></li>
<li><a href="../zh-CN402639/index.html">彼得·沃茨（Peter Watts）关于SOMA</a></li>
<li><a href="../zh-CN402641/index.html">神经网络的外观如何以及为什么它们需要这么多的内存</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>