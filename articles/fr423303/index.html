<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèæ ü•® üöº AI, cours pratique. Transformation musicale bas√©e sur l'√©motion üíÉüèª ‚úãüèΩ üòΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ceci est un autre article d'une s√©rie d'articles de formation pour les d√©veloppeurs dans le domaine de l'intelligence artificielle. Dans les articles ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>AI, cours pratique. Transformation musicale bas√©e sur l'√©motion</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/intel/blog/423303/"><img src="https://habrastorage.org/webt/uw/8j/jx/uw8jjx68eugeafuymvummauetrg.jpeg"><br><br>  Ceci est un autre article d'une s√©rie d'articles de formation pour les d√©veloppeurs dans le domaine de l'intelligence artificielle.  Dans les articles pr√©c√©dents, nous avons examin√© la collecte et la pr√©paration des donn√©es avec des images, dans cet article, nous continuerons la discussion sur la collecte et l'√©tude des donn√©es musicales. <br><br>  Le but de ce projet est: <br><br><ul><li>  Cr√©ez une application qui accepte un ensemble d'images en entr√©e. </li><li>  Soulignant la coloration √©motionnelle des images. </li><li>  R√©ception de la sortie d'un morceau de musique refl√©tant l'√©motion correspondante. </li></ul><br><a name="habracut"></a><br>  Ce projet utilise pour g√©n√©rer de la musique modul√©e √† l'aide d'√©motions, un algorithme (Transformation musicale bas√©e sur les √©motions), qui effectue un changement de la m√©lodie de base en fonction d'une √©motion sp√©cifique et l'harmonisation et l'ach√®vement de la m√©lodie qui en r√©sulte en utilisant le mod√®le d'apprentissage profond.  Pour effectuer cette t√¢che, les ensembles de donn√©es musicales suivants sont requis: <br><ul><li>  Un ensemble de donn√©es pour l'apprentissage de l'algorithme d'ach√®vement de la m√©lodie (chorales de Bach). </li><li>  Un ensemble de m√©lodies populaires qui servent de mod√®les pour moduler les √©motions. </li></ul><br><h2>  <font color="#0071c5">Collecte et √©tude d'un ensemble de donn√©es musicales</font> </h2><br><h3>  <font color="#0071c5">Bach Chorales - Projet Music21</font> </h3><br>  Music21 est une bo√Æte √† outils bas√©e sur Python pour la science musicale utilisant un ordinateur.  Il contient une collection compl√®te des ch≈ìurs de Bach dans le cadre de ses ≈ìuvres collect√©es.  Par cons√©quent, la proc√©dure de collecte de donn√©es est tr√®s simple - il vous suffit d'installer le package <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">music21</a> (les manuels sont disponibles pour macOS *, Windows * et Linux *). <br>  Apr√®s l'installation, l'acc√®s aux chorales Bach peut √™tre obtenu √† l'aide du code suivant: <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> music21 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> corpus <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> score <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> corpus.chorales.Iterator(numberingSystem=<span class="hljs-string"><span class="hljs-string">'bwv'</span></span>, returnType=<span class="hljs-string"><span class="hljs-string">'stream'</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-comment"><span class="hljs-comment"># do stuff with scores here</span></span></code> </pre> <br>  <i>It√©ration sur tous les ch≈ìurs de Bach</i> <br><br>  Comme alternative, vous pouvez utiliser le code suivant: il renvoie une liste de noms de fichiers pour tous les chorals de Bach, qui peuvent √™tre trait√©s ult√©rieurement √† l'aide de la fonction d'analyse: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> music21 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> corpus chorales = corpus.getBachChorales() score = corpus.parse(chorales[<span class="hljs-number"><span class="hljs-number">0</span></span>]) <span class="hljs-comment"><span class="hljs-comment"># do stuff with score</span></span></code> </pre> <br>  <i>R√©cup√©ration d'une liste de tous les choeurs de Bach</i> <br><br><h3>  <font color="#0071c5">Exploration des donn√©es</font> </h3><br>  Apr√®s avoir termin√© la collecte des donn√©es (dans ce cas, apr√®s y avoir acc√©d√©), l'√©tape suivante consiste √† v√©rifier et √©tudier les signes de ces donn√©es. <br><br>  Le code suivant affiche la repr√©sentation textuelle d'un fichier musical: <br><br> <code>&gt;&gt;&gt; from music21 import corpus <br> &gt;&gt;&gt; chorales = corpus.getBachChorales() <br> &gt;&gt;&gt; score = corpus.parse(chorales[0]) <br> &gt;&gt;&gt; score.show('text') <br> <br> {0.0} &lt;music21.text.TextBox "BWV 1.6 W..."&gt; <br> {0.0} &lt;music21.text.TextBox "Harmonized..."&gt; <br> {0.0} &lt;music21.text.TextBox "PDF 2004 ..."&gt; <br> {0.0} &lt;music21.metadata.Metadata object at 0x117b78f60&gt; <br> {0.0} &lt;music21.stream.Part Horn 2&gt; <br> {0.0} &lt;music21.instrument.Instrument P1: Horn 2: Instrument 7&gt; <br> {0.0} &lt;music21.stream.Measure 0 offset=0.0&gt; <br> {0.0} &lt;music21.layout.PageLayout&gt; <br> {0.0} &lt;music21.clef.TrebleClef&gt; <br> {0.0} &lt;music21.key.Key of F major&gt; <br> {0.0} &lt;music21.meter.TimeSignature 4/4&gt; <br> {0.0} &lt;music21.note.Note F&gt; <br> {1.0} &lt;music21.stream.Measure 1 offset=1.0&gt; <br> {0.0} &lt;music21.note.Note G&gt; <br> {0.5} &lt;music21.note.Note C&gt; <br> {1.0} &lt;music21.note.Note F&gt; <br> {1.5} &lt;music21.note.Note F&gt; <br> {2.0} &lt;music21.note.Note A&gt; <br> {2.5} &lt;music21.note.Note F&gt; <br> {3.0} &lt;music21.note.Note A&gt; <br> {3.5} &lt;music21.note.Note C&gt; <br> {5.0} &lt;music21.stream.Measure 2 offset=5.0&gt; <br> {0.0} &lt;music21.note.Note F&gt; <br> {0.25} &lt;music21.note.Note B-&gt; <br> {0.5} &lt;music21.note.Note A&gt; <br> {0.75} &lt;music21.note.Note G&gt; <br> {1.0} &lt;music21.note.Note F&gt; <br> {1.5} &lt;music21.note.Note G&gt; <br> {2.0} &lt;music21.note.Note A&gt; <br> {3.0} &lt;music21.note.Note A&gt; <br> {9.0} &lt;music21.stream.Measure 3 offset=9.0&gt; <br> {0.0} &lt;music21.note.Note F&gt; <br> {0.5} &lt;music21.note.Note G&gt; <br> . <br> . <br> . <br> <br> &gt;&gt;&gt; print(score) <br> &lt;music21.stream.Score 0x10bf4d828&gt;</code> <br>  <i>Repr√©sentation textuelle du choral</i> <br><br>  Ci-dessus, un affichage de la repr√©sentation textuelle du choral en tant qu'objet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">music21.stream</a> .Score.  Il est int√©ressant de savoir comment music21 repr√©sente la musique dans le code, mais ce n'est pas tr√®s utile pour √©tudier les attributs de donn√©es importants.  Par cons√©quent, nous avons besoin d'un logiciel capable d'afficher le score. <br><br>  Comme indiqu√© pr√©c√©demment dans l'article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Configuration du mod√®le et des hyperparam√®tres pour reconna√Ætre les √©motions dans les images</a> , la partition dans la musique21 est stock√©e dans des fichiers MusicXML * (avec extensions .xml ou .mxl).  Pour visualiser ces fichiers en notation musicale, l'application gratuite Finale NotePad * 2 est utilis√©e (version d'essai du package professionnel Finale * pour travailler avec la notation musicale).  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Finale NotePad est</a> disponible pour Mac et Windows.  Apr√®s avoir t√©l√©charg√© Finale Notepad, ex√©cutez le code suivant pour configurer music21 pour qu'il fonctionne avec Finale Notepad: <br><br> <code>&gt;&gt;&gt; import music21 <br> &gt;&gt;&gt; music21.configure.run()</code> <br> <br>  Nous pouvons maintenant ex√©cuter le code ci-dessus, mais utilisez le fragment <i>score.show ()</i> au lieu de <i>score.show ('text')</i> .  Dans ce cas, le fichier MusicXML sera ouvert dans l'application Finale, qui ressemble √† ceci: <br><br><img src="https://habrastorage.org/webt/qb/q1/gd/qbq1gd78vomvj4dtzilgrjyim8e.jpeg"><br>  <i>Premi√®re page de Bach en notation musicale</i> <br><br>  Ce format offre une pr√©sentation visuelle plus claire des chorals.  Lors de l'examen de plusieurs chorales, nous nous assurons que les donn√©es r√©pondent √† nos attentes: il s'agit de courtes pi√®ces musicales contenant au moins quatre parties (soprano, alto, t√©nor et basse), divis√©es en phrases distinctes au moyen de fermes. <br><br>  En r√®gle g√©n√©rale, certaines statistiques descriptives sont calcul√©es dans le cadre de la proc√©dure d'√©tude des donn√©es.  Dans ce cas, nous pouvons d√©terminer combien de fois chaque cl√© appara√Æt dans les ≈ìuvres collect√©es.  Voici un exemple de code qui vous permet de calculer et de visualiser le taux d'utilisation de chaque cl√© d'un ensemble de donn√©es. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> music21 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>* <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> matplotlib.pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt chorales = corpus.getBachChorales() dict = {} <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> chorale <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> chorales: score = corpus.parse(chorale) key = score.analyze(<span class="hljs-string"><span class="hljs-string">'key'</span></span>).tonicPitchNameWithCase dict[key] = dict[key] + <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> key <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> dict.keys() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> ind = [i <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(dict))] fig, ax = plt.subplots() ax.bar(ind, dict.values()) ax.set_title(<span class="hljs-string"><span class="hljs-string">'Frequency of Each Key'</span></span>) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">'Frequency'</span></span>) plt.xticks(ind, dict.keys(), rotation=<span class="hljs-string"><span class="hljs-string">'vertical'</span></span>) plt.show()</code> </pre> <br><img src="https://habrastorage.org/webt/ng/98/7f/ng987fslbsim1uozhklangge9f4.jpeg"><br>  <i>Fr√©quence d'utilisation de chaque cl√© dans les ≈ìuvres collect√©es.</i>  <i>Les cl√©s mineures sont repr√©sent√©es par des lettres minuscules et les cl√©s majeures sont repr√©sent√©es par des lettres minuscules.</i>  <i>Les appartements sont indiqu√©s par un ¬´-¬ª</i> <br><br>  Vous trouverez ci-dessous quelques statistiques relatives aux ≈ìuvres collect√©es. <br><br><img src="https://habrastorage.org/webt/lo/gy/9l/logy9ll6qwagckyiptkpbpyypt0.jpeg"><br>  <i>La r√©partition des cl√©s utilis√©es dans un ensemble de compositions</i> <br><br><img src="https://habrastorage.org/webt/i4/28/hj/i428hj1q-r_sqqmbz0cjxtn5mi0.png"><br>  <i>Emplacement des notes, calcul√© comme la compensation depuis le d√©but de la mesure en noires</i> <br><br>  Les statistiques descriptives d'int√©r√™t pour le calcul varieront pour chaque projet.  Cependant, dans la plupart des cas, cela peut vous aider √† d√©terminer avec quel type de donn√©es vous travaillez, et m√™me √† g√©rer certaines actions pendant le pr√©traitement des donn√©es.  Ces statistiques peuvent √©galement servir de point de d√©part pour examiner les r√©sultats du pr√©traitement des donn√©es. <br><br><h2>  <font color="#0071c5">Transformation musicale - Informations th√©oriques</font> </h2><br>  Il y a deux principaux vecteurs d'expression dans la musique - la hauteur et le rythme.  Nous utilisons ces supports d'expression comme param√®tres pour r√©√©crire notre m√©lodie dans l'ambiance choisie. <br><br>  En th√©orie musicale, en ce qui concerne la hauteur des sons dans une m√©lodie, la relation des hauteurs entre les notes est implicite.  Un syst√®me de notes musicales bas√© sur une s√©quence de sons d'une certaine hauteur est appel√© √©chelle.  Les intervalles ou la mesure de la largeur de chaque √©tape de la s√©quence peuvent diff√©rer les uns des autres.  Une telle diff√©rence ou son absence cr√©e une relation entre les tons et les tendances m√©lodiques dans lesquelles les combinaisons stables et les gravitations cr√©ent une expression de l'humeur.  Dans la tradition musicale occidentale, lorsqu'il s'agit d'une gamme diatonique simple, la position de la note par rapport √† la premi√®re note de la gamme est appel√©e le <i>stade de la gamme</i> (I-II-III-IV-V-VI-VII).  Conform√©ment aux combinaisons stables et aux gravitations, l'√©chelle de l'√©chelle fournit un son musical qui remplit sa fonction dans le syst√®me.  Cela rend la notion d'√©tape d'√©chelle tr√®s utile pour analyser un motif m√©lodique simple et le coder avec la possibilit√© d'attribuer diff√©rentes valeurs. <br><br>  Au niveau initial, nous devons choisir les √©chelles qui conviennent d'un point de vue artistique pour cr√©er une ambiance sp√©cifique.  Ainsi, si nous devons changer l'ambiance de la m√©lodie, nous devons √©tudier sa structure fonctionnelle en utilisant la notion d√©crite d'√©chelle, puis attribuer de nouvelles valeurs au mod√®le existant √† partir des √©tapes de l'√©chelle.  Comme la carte, ce mod√®le contient √©galement des informations sur les directions et les p√©riodes de la m√©lodie. <br><br>  Pour chaque humeur sp√©cifique, nous utilisons des param√®tres suppl√©mentaires pour rendre nos nouvelles m√©lodies plus expressives, harmonieuses et expressives. <br><br>  Le rythme est une fa√ßon d'organiser les sons dans le temps.  Il comprend des informations telles que: l'ordre d'apparition des tons dans la m√©lodie, leur longueur relative, les pauses entre eux et divers accents.  Ainsi, des p√©riodes de temps sont cr√©√©es pour structurer la taille musicale.  Si nous devons pr√©server le motif m√©lodique d'origine, nous devons pr√©server sa structure rythmique.  Pour atteindre cet objectif, il suffit de modifier certains param√®tres de rythme - la dur√©e des notes et des pauses - et cela devrait suffire d'un point de vue artistique.  De plus, pour rendre notre m√©lodie modifi√©e plus expressive, nous pouvons utiliser des m√©thodes suppl√©mentaires pour souligner son humeur. <br><br>  Par exemple, l'ANXI√âT√â peut s'exprimer avec une touche mineure et un rythme plus √©nergique.  Le mod√®le de notre √©chelle d'origine est le suivant: VV-VI-VI-VII VV-VI-V-II-I VVV (transition d'une octave plus haut) -III-I-VII-VI IV-IV-III-I-II-I . <br><br><img src="https://habrastorage.org/webt/fz/dk/jn/fzdkjn1h4l3zc5mizwbhrtnkkxe.png"><br>  <i>Mod√®le source</i> <br><br>  La m√©lodie originale est √©crite dans une tonalit√© majeure, qui diff√®re d'une tonalit√© mineure en trois notes - dans une tonalit√© majeure des √©tapes III, VI et VII sont majeures (un demi-ton ci-dessus), et dans une tonalit√© mineure - un mineur (un demi-ton ci-dessous).  Par cons√©quent, si nous devons changer la tonalit√© utilis√©e, il nous suffit de remplacer les √©tapes sup√©rieures par les plus basses (ou vice versa).  Cependant, pour cr√©er un effet d'anxi√©t√© encore plus important, il est n√©cessaire de quitter le stade VII d'un stade majeur (augment√©) - cela augmentera l'instabilit√© de ce ton et soulignera notre √©chelle d'une mani√®re sp√©ciale. <br><br>  Pour rendre le rythme plus √©nergique, on peut y ajouter une syncope, ou interruption syncopique du mouvement rythmique r√©gulier, en changeant la position de certaines notes.  Dans ce cas, nous d√©placerons quelques notes similaires d'un temps vers l'avant. <br><br><img src="https://habrastorage.org/webt/k9/ca/lf/k9calfijffankvpiqrhjdwxpklq.png"><br>  <i>Anxi√©t√© de conversion</i> <br><br>  La tristesse peut √©galement s'exprimer avec une simple touche mineure, mais son rythme doit √™tre calme.  Ainsi, nous rempla√ßons les √©tapes majeures par des √©tapes mineures, y compris l'√©tape VII.  Pour rendre le rythme plus d√©tendu, vous devez remplir les pauses en augmentant la longueur des notes devant elles. <br><br><img src="https://habrastorage.org/webt/op/k4/hq/opk4hqsvdmkqmrij8ky26au6gda.png"><br>  <i>Conversion SAD</i> <br><br>  Pour exprimer B√âN√âDICTION, nous devons √©viter les intonations d√©cisives et strictes - ce sera le principe de la transformation correspondante.  Comme vous pouvez le voir, en fonction des diff√©rences dans la s√©quence des sons utilis√©s, les pas de l'√©chelle ont des significations diff√©rentes et la distance par rapport au premier (I) pas.  Ainsi, leur signification est cr√©√©e dans l'image globale.  Par cons√©quent, le mouvement du stade IV au stade I est tr√®s simple en raison de sa fonction.  L'intonation lors du passage du stade V au stade I semble √©galement tr√®s simple.  Nous √©viterons ces deux intonations afin de cr√©er une impression d'espace et d'incertitude. <br><br>  Par cons√©quent, dans chaque √©l√©ment du mod√®le, dans lequel l'√©tape I suit l'√©tape V, ou l'√©tape IV suit l'√©tape IV, et √©galement dans l'ordre inverse de ces √©tapes, nous remplacerons l'une de ces notes (ou les deux notes) par les √©tapes les plus proches.  Vous pouvez changer le rythme d'une mani√®re similaire √† la cr√©ation de l'effet de GRUSH - simplement en r√©duisant le rythme. <br><br><img src="https://habrastorage.org/webt/ke/uv/be/keuvbebvzgcssrx7xlwrnx2igds.png"><br>  <i>Conversion de BLESS</i> <br><br>  La D√âCISION est associ√©e √† un mouvement puissant, donc la fa√ßon la plus simple de le montrer est de changer le rythme d'une mani√®re similaire au changement de l'effet ANXI√âT√â.  Il est √©galement n√©cessaire de r√©duire la dur√©e de toutes les notes sauf pour chaque derni√®re note de chaque p√©riode, VV-VI-VI-VII VV-VI-V-II-I. <br><br><img src="https://habrastorage.org/webt/o8/si/ro/o8siroxq5a254hfedjcj1iue5ey.png"><br>  <i>D√âCISION de transformation</i> <br><br>  La touche majeure en elle-m√™me semble positive et joyeuse, cependant, pour souligner et exprimer le BONHEUR / LA JOIE, nous utilisons la touche pentatonique majeure.  Il se compose des m√™mes √©tapes, √† l'exception de deux d'entre elles - les quatri√®me et septi√®me, I-II-III-V-VI. <br><br>  Par cons√©quent, chaque fois que nous trouvons ces deux √©tapes dans notre mod√®le, nous les rempla√ßons par les √©tapes les plus proches.  Pour souligner la simplicit√© apport√©e par notre tonalit√©, nous utilisons un fragment m√©lodique descendant compos√© de cinq notes ou plus comme d√©monstration √©tape par √©tape de notre gamme. <br><br><img src="https://habrastorage.org/webt/0b/wv/vh/0bwvvhdmhjiml19y-0c2ovf6yn4.png"><br>  <i>Conversion de JOY</i> <br><br>  La tranquillit√© / tranquillit√© peut s'exprimer non seulement en changeant la tonalit√©, elle n√©cessite √©galement la transformation du mouvement m√©lodique.  Pour ce faire, vous devez analyser le mod√®le source et y s√©lectionner des segments similaires.  La premi√®re note de chaque segment d√©termine le contexte harmonique de la phrase enti√®re, donc ces notes sont de la plus grande valeur pour nous: <b>V</b> - <b>V</b> -VI-VI-VII-VII-VII <b>V</b> -V-VI-V-II-I <b>V</b> -VV-III-I-VII-VI IV-IV-III-I-II-I. <br><br>  Pour le premier segment, seules les √©tapes suivantes doivent √™tre utilis√©es: IV-VI-VII;  pour le second: V-VII-II-I;  pour le troisi√®me: VI-VII-III-II;  pour le quatri√®me: VII-IV-I-VII. <br><br>  Ces ensembles d'√©tapes possibles sont en fait un autre type de structure musicale, les accords.  Cependant, nous pouvons toujours les utiliser comme syst√®me pour convertir des m√©lodies.  Les pas de la gamme peuvent √™tre remplac√©s par les pas les plus proches des mod√®les d'accords indiqu√©s.  Si le segment entier commence par une tonalit√© inf√©rieure √† l'original, il est n√©cessaire de remplacer toutes les √©tapes qu'il contient par les √©tapes inf√©rieures disponibles dans le mod√®le sp√©cifi√©.  Pour cr√©er un effet de retard, il est √©galement n√©cessaire de diviser la dur√©e de chaque note en croches et de r√©duire progressivement la vitesse de ces nouvelles croches. <br><br><img src="https://habrastorage.org/webt/05/ia/jp/05iajpxyhk1ft08pz74zrk4hfgq.png"><br>  <i>Conversion tranquillit√© / tranquillit√©</i> <br><br>  Pour accentuer la GRATITUDE, il faut utiliser son affichage stylistique en rythme, cr√©ant l'effet d'arp√®ge: on revient √† la premi√®re note √† la fin de chaque segment (phrase).  Il est n√©cessaire de diviser par deux la dur√©e de chaque derni√®re note d'un segment et d'y placer la premi√®re note de ce segment. <br><br><img src="https://habrastorage.org/webt/8z/wu/4e/8zwu4ezo9nzzcbuubagzeintiha.png"><br>  <i>Conversion GRATITUDE</i> <br><br><h2>  <font color="#0071c5">Partie pratique</font> </h2><br><h3>  <font color="#0071c5">Bo√Æte √† outils Python et Music21</font> </h3><br>  Le script de transformation a √©t√© impl√©ment√© √† l'aide du langage Python et de la bo√Æte √† outils music21. <br><br>  Music21 est une classe tr√®s polyvalente et de haut niveau pour manipuler avec des concepts musicaux tels que les notes, la taille, l'accord, la tonalit√©, etc. Il vous permet d'effectuer des op√©rations directement dans le domaine, par opposition aux manipulations de bas niveau avec des donn√©es brutes d'un fichier Interface d'instruments de musique num√©rique (MIDI).  Cependant, travailler directement avec des fichiers MIDI dans music21 n'est pas toujours pratique, surtout quand il s'agit de visualiser la partition.  Par cons√©quent, pour la visualisation et la mise en ≈ìuvre de l'algorithme, un moyen plus pratique consiste √† convertir les fichiers MIDI source au format musicXML.  De plus, le format musicXML est le format d'entr√©e pour BachBot, qui repr√©sente la prochaine √©tape de notre s√©quence de traitement. <br>  La conversion peut √™tre effectu√©e √† l'aide de Musescore: <br>  pour obtenir la sortie du fichier musicXML: <br><br> <code>musescore input.mid -o output.xml</code> <br>  pour obtenir la sortie d'un fichier MIDI: <br><br> <code>musescore input.mid -o output.mid</code> <br> <br><h3>  <font color="#0071c5">Jupyter</font> </h3><br>  La bo√Æte √† outils music21 est bien int√©gr√©e √† l'application Jupyter.  De plus, l'int√©gration avec Musescore vous permet d'afficher la partition directement dans le document de bloc-notes Jupyter et d'√©couter les r√©sultats via le lecteur int√©gr√© pendant le d√©veloppement et l'exp√©rimentation. <br><br><img src="https://habrastorage.org/webt/yc/zh/ta/yczhtaio9hcodjurkoqwxjtzuvk.png"><br>  <i>Document de cahier Jupyter avec code, partition et lecteur</i> <br><br>  La fonction Score Show est particuli√®rement utile pour le travail d'√©quipe d'un programmeur et d'un musicien-th√©oricien.  La combinaison de la nature interactive de Jupyter, domaine sp√©cifique √† la musique21 et de la simplicit√© de Python rend ce workflow particuli√®rement prometteur pour ce type de recherche interdisciplinaire. <br><br><h3>  <font color="#0071c5">Impl√©mentation</font> </h3><br>  Le script de transformation a √©t√© impl√©ment√© en tant que module Python, il permet donc un appel direct: <br><br> <code>python3 emotransform.py --emotion JOY input.mid</code> <br>  Ou vous pouvez l'appeler via un script externe (ou Jupyter): <br><br> <code>from emotransform import transform transform('input.mid','JOY')</code> <br>  Dans les deux cas, le r√©sultat du travail sera un fichier modul√© √† l'aide d'une certaine √©motion. <br><br>  Les transformations associ√©es aux changements d'√©tapes musicales - ANXI√âT√â, TRISTESSE, B√âN√âDICTION et JOIE - sont bas√©es sur l'utilisation de la fonction music21.Note.transpose en combinaison avec l'analyse de la position actuelle et requise des √©tapes musicales.  Ici, nous utilisons le module music21.scale et ses fonctions pour construire l'√©chelle requise √† partir de n'importe quel tonique.  Pour obtenir le ton d'une m√©lodie sp√©cifique, vous pouvez utiliser <i>la fonction d'analyse (¬´cl√©¬ª)</i> du module music21.Stream7. <br><br>  Pour les conversions bas√©es sur des phrases - D√âCISION, GRATITUDE, Tranquillit√© / Tranquillit√© - des recherches suppl√©mentaires sont n√©cessaires.  Cette √©tude nous permettra de d√©tecter avec pr√©cision le d√©but et la fin des phrases musicales. <br><br><h2>  <font color="#0071c5">Conclusion</font> </h2><br>  Dans cet article, nous avons pr√©sent√© l'id√©e principale sous-jacente √† la transformation musicale bas√©e sur les √©motions - changer la position d'une seule note dans l'√©chelle par rapport √† la tonique (pas musical), le tempo de la pi√®ce, ainsi que la phrase musicale.  Cette id√©e a √©t√© impl√©ment√©e sous forme de script en Python.  Cependant, la mise en ≈ìuvre d'id√©es th√©oriques dans le monde r√©el n'est pas toujours facile, nous avons donc rencontr√© quelques difficult√©s et identifi√© des directions possibles pour de futures recherches.  Cette √©tude est principalement li√©e √† la d√©tection de phrases musicales et de leurs transformations.  Le bon choix d'instruments (musique21) et la recherche dans le domaine de l'information musicale sont des facteurs cl√©s pour r√©soudre ces probl√®mes. <br><br>  La transformation musicale bas√©e sur les √©motions repr√©sente la premi√®re √©tape de notre s√©quence de traitement des donn√©es musicales, la prochaine √©tape est la soumission de la m√©lodie convertie et pr√©par√©e √† l'entr√©e de BachBot. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr423303/">https://habr.com/ru/post/fr423303/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr423291/index.html">Les Russes √©tablissent un record: 110 films pirat√©s par personne</a></li>
<li><a href="../fr423293/index.html">Comment ne pas se tirer une balle dans la jambe avec une machine d'√©tat</a></li>
<li><a href="../fr423295/index.html">Conf√©rence de d√©veloppement mobile la plus utile</a></li>
<li><a href="../fr423297/index.html">Du d√©veloppeur Android au DevOps</a></li>
<li><a href="../fr423299/index.html">Coordinateur d'applications dans les applications iOS</a></li>
<li><a href="../fr423305/index.html">Performance de la ruine</a></li>
<li><a href="../fr423307/index.html">Demandes d'extraction GitHub dans Visual Studio Code</a></li>
<li><a href="../fr423309/index.html">Transactions SGBD</a></li>
<li><a href="../fr423311/index.html">Partenariat Naviaddress et ACTUM</a></li>
<li><a href="../fr423313/index.html">Touchez l'I2C. Faire un simple analyseur logique</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>