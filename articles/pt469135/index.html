<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöü üç´ ‚Ü©Ô∏è Equ√≠vocos comuns sobre OOP üë®üèæ‚Äçüî¨ üôéüèΩ üê¥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√° Habr! 

 Hoje, uma publica√ß√£o traduzida espera por voc√™, refletindo, em certa medida, nossas pesquisas relacionadas a novos livros sobre OOP e FI....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Equ√≠vocos comuns sobre OOP</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/469135/">  Ol√° Habr! <br><br>  Hoje, uma publica√ß√£o traduzida espera por voc√™, refletindo, em certa medida, nossas pesquisas relacionadas a novos livros sobre OOP e FI.  Por favor participe da vota√ß√£o. <br><br><img src="https://habrastorage.org/webt/ff/z7/eo/ffz7eoep66368-qqjrzqjqwrdd8.jpeg"><br><a name="habracut"></a><br>  O paradigma OOP est√° morto?  Podemos dizer que o futuro est√° na programa√ß√£o funcional?  Parece que muitos artigos escrevem sobre isso.  Estou inclinado a discordar deste ponto de vista.  Vamos conversar! <br><br>  A cada poucos meses, encontro um post em algum blog em que a autora faz alega√ß√µes aparentemente bem fundamentadas da programa√ß√£o orientada a objetos, ap√≥s o que declara OOP uma rel√≠quia do passado, e todos temos que mudar para a programa√ß√£o funcional. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Escrevi anteriormente</a> que OOP e FI n√£o se contradizem.  Al√©m disso, consegui combin√°-los com muito sucesso. <br><br>  Por que os autores desses artigos t√™m tantos problemas com a POO, e por que a FA lhes parece uma alternativa t√£o √≥bvia? <br><br><h4>  Como ensinar OOP </h4><br>  Quando nos ensinam OOP, eles geralmente enfatizam que √© baseado em quatro princ√≠pios: <i>encapsulamento</i> , <i>heran√ßa</i> , <i>abstra√ß√£o</i> , <i>polimorfismo</i> .  S√£o esses quatro princ√≠pios que geralmente s√£o criticados em artigos em que os autores argumentam sobre o decl√≠nio da OLP. <br><br>  No entanto, OOP, como FI, √© uma ferramenta.  Para resolver problemas.  Pode ser consumido, tamb√©m pode ser abusado.  Por exemplo, ao criar a abstra√ß√£o incorreta, voc√™ abuse do OOP. <br>  Portanto, a classe <code>Square</code> nunca deve herdar a classe <code>Rectangle</code> .  Em um sentido matem√°tico, eles est√£o, √© claro, conectados.  No entanto, do ponto de vista da programa√ß√£o, eles n√£o est√£o em um relacionamento de heran√ßa.  O fato √© que os requisitos para um quadrado s√£o mais r√≠gidos do que para um ret√¢ngulo.  Enquanto em um ret√¢ngulo existem dois pares de lados iguais, um quadrado deve ter todos os lados iguais. <br><br><h4>  Heran√ßa </h4><br>  Vamos discutir a heran√ßa em mais detalhes.  Voc√™ provavelmente se lembra de exemplos de livros did√°ticos com belas hierarquias de classes herdadas, e todas essas estruturas trabalham para resolver o problema.  No entanto, na pr√°tica, a heran√ßa n√£o √© usada t√£o frequentemente quanto a composi√ß√£o. <br>  Considere um exemplo.  Digamos que temos uma classe muito simples, um controlador em um aplicativo da web.  A maioria das estruturas modernas pressup√µe que voc√™ trabalhar√° com ela assim: <br><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BlogController</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FrameworkAbstractController</span></span></span><span class="hljs-class"> </span></span>{ }</code> </pre> <br>  Sup√µe-se que, dessa maneira, ser√° mais f√°cil fazer chamadas como <code>this.renderTemplate(...)</code> , pois esses m√©todos s√£o herdados da classe <code>FrameworkAbstractController</code> . <br><br>  Conforme indicado em muitos artigos sobre esse assunto, v√°rios problemas tang√≠veis surgem aqui.  Qualquer fun√ß√£o interna na classe base realmente se transforma em uma API.  Ela n√£o pode mais mudar.  Qualquer vari√°vel protegida do controlador base agora se relaciona mais ou menos √† API. <br><br>  N√£o h√° nada para se confundir.  E se escolh√™ssemos a abordagem com composi√ß√£o e inje√ß√£o de depend√™ncia, teria sido assim: <br><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BlogController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BlogController</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( TemplateRenderer templateRenderer )</span></span></span><span class="hljs-function"> </span></span>{ } }</code> </pre> <br>  Veja bem, voc√™ n√£o depende mais de um <code>FrameworkAbstractController</code> nebuloso, mas depende de uma coisa muito bem definida e estreita, <code>TemplateRenderer</code> .  De fato, o <code>BlogController</code> n√£o herda de nenhum outro controlador, pois n√£o herda nenhum comportamento. <br><br><h4>  Encapsulamento </h4><br>  A segunda caracter√≠stica frequentemente criticada do OOP √© o encapsulamento.  Na linguagem liter√°ria, o significado de encapsulamento √© formulado da seguinte forma: dados e funcionalidade s√£o entregues juntos, e o estado interno da classe √© oculto do mundo externo. <br><br>  Esta oportunidade, novamente, permite o uso e abuso.  O principal exemplo de abuso nesse caso √© um estado de vazamento. <br><br>  Em termos relativos, suponha que a classe <code>List&lt;&gt;</code> contenha uma lista de elementos e essa lista possa ser alterada.  Vamos criar uma classe para processar uma cesta de pedidos da seguinte maneira: <br><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ShoppingCart</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;ShoppingCartItem&gt; items; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> List&lt;ShoppingCartItem&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getItems</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.items; } }</code> </pre> <br>  Aqui, na maioria dos idiomas orientados a OOP, acontecer√° o seguinte: a vari√°vel de itens ser√° retornada por refer√™ncia.  Portanto, ainda podemos fazer isso: <br><br><pre> <code class="plaintext hljs">shoppingCart.getItems().clear();</code> </pre> <br>  Portanto, limparemos a lista de itens da cesta e o ShoppingCart nem saber√° sobre isso.  No entanto, se voc√™ examinar atentamente este exemplo, fica claro que o problema n√£o est√° no princ√≠pio do encapsulamento.  Este princ√≠pio √© apenas violado aqui, porque o estado interno vaza da classe <code>ShoppingCart</code> . <br><br>  Neste exemplo em particular, o autor da classe <code>ShoppingCart</code> pode usar a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">imutabilidade</a> para contornar o problema e garantir que o princ√≠pio do encapsulamento n√£o seja violado. <br><br>  Programadores inexperientes freq√ºentemente violam o princ√≠pio do encapsulamento de outra maneira: eles introduzem um estado em que n√£o √© necess√°rio.  Esses programadores inexperientes geralmente usam vari√°veis ‚Äã‚Äãde classe privada para transferir dados de uma fun√ß√£o para outra dentro da mesma classe, enquanto seria mais apropriado usar objetos de transfer√™ncia de dados para transferir uma estrutura complexa para outra fun√ß√£o.  Como resultado de tais erros, o c√≥digo √© desnecessariamente complicado, o que pode levar a erros. <br><br>  Em geral, seria bom dispensar completamente o estado - armazenar dados mut√°veis ‚Äã‚Äãem classes sempre que poss√≠vel.  Ao fazer isso, voc√™ precisa <i>garantir um encapsulamento confi√°vel</i> e garantir que n√£o haja vazamentos em nenhum lugar. <br><br><h4>  Abstra√ß√£o </h4><br>  Abstra√ß√£o, novamente, √© entendida de v√°rias maneiras incorretamente.  Em nenhum caso voc√™ deve preencher o c√≥digo com classes abstratas e criar hierarquias profundas. <br><br>  Se voc√™ fizer isso sem uma boa raz√£o, estar√° apenas procurando problemas por conta pr√≥pria.  N√£o importa como a abstra√ß√£o √© feita - como uma classe abstrata ou como uma interface;  em qualquer caso, complexidade extra aparecer√° no c√≥digo.  Essa complexidade deve ser justificada. <br>  Simplificando, uma interface s√≥ pode ser criada se voc√™ estiver disposto a gastar tempo e documentar o comportamento esperado da classe que o implementa.  Sim, voc√™ me leu certo.  N√£o basta apenas fazer uma lista de fun√ß√µes que voc√™ precisa implementar - tamb√©m descrever como (idealmente) elas devem funcionar. <br><br><h4>  Polimorfismo </h4><br>  Finalmente, vamos falar sobre polimorfismo.  Ele sugere que uma classe pode implementar muitos comportamentos.  Um exemplo ruim de livro √© escrever que o <code>Square</code> com polimorfismo pode ser um <code>Rectangle</code> ou um <code>Parallelogram</code> .  Como j√° mencionei acima, isso no POO √© decididamente imposs√≠vel, uma vez que os comportamentos dessas entidades s√£o diferentes. <br><br>  Falando em polimorfismo, deve-se ter em mente <i>comportamentos</i> , n√£o <i>c√≥digo</i> .  Um bom exemplo √© a classe <code>Soldier</code> em um jogo de computador.  Ele pode implementar comportamento <code>Movable</code> (situa√ß√£o: pode se mover) e comportamento <code>Enemy</code> (situa√ß√£o: atira em voc√™).  Por outro lado, a classe <code>GunEmplacement</code> pode implementar apenas o comportamento do <code>Enemy</code> . <br><br>  Portanto, se voc√™ escrever <code>Square implements Rectangle, Parallelogram</code> , essa afirma√ß√£o n√£o se torna verdadeira.  Suas abstra√ß√µes devem funcionar de acordo com a l√≥gica de neg√≥cios.  Voc√™ deve pensar mais sobre comportamento do que sobre c√≥digo. <br><br><h4>  Por que FP n√£o √© uma bala de prata </h4><br>  Ent√£o, quando repetimos os quatro princ√≠pios b√°sicos do OOP, vamos pensar sobre qual √© o recurso da programa√ß√£o funcional e por que n√£o us√°-lo para resolver todos os problemas do seu c√≥digo? <br><br>  Do ponto de vista de muitos adeptos do FP, as classes s√£o <i>sacril√©gio</i> , e o c√≥digo deve ser apresentado na forma de <i>fun√ß√µes</i> .  Dependendo do idioma, os dados podem ser transferidos de fun√ß√£o para fun√ß√£o usando tipos primitivos ou na forma de um ou outro conjunto de dados estruturados (matrizes, dicion√°rios etc.). <br><br>  Al√©m disso, a maioria das fun√ß√µes n√£o deve ter efeitos colaterais.  Em outras palavras, eles n√£o devem alterar dados em nenhum lugar inesperado em segundo plano, mas apenas trabalhar com par√¢metros de entrada e produzir sa√≠da. <br><br>  Essa abordagem separa os <i>dados</i> do <i>funcional</i> - √† primeira vista, esse FP difere radicalmente do OOP.  O FP enfatiza que dessa maneira o c√≥digo permanece simples.  Voc√™ quer fazer alguma coisa, escrever uma fun√ß√£o para esse fim - isso √© tudo. <br><br>  Os problemas come√ßam quando algumas fun√ß√µes precisam depender de outras.  Quando a fun√ß√£o A chama a fun√ß√£o B, e a fun√ß√£o B chama outras cinco a seis fun√ß√µes, e no final <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">√©</a> encontrada uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">fun√ß√£o de preenchimento zero</a> que pode quebrar - √© aqui que voc√™ n√£o ser√° invejado. <br><br>  Muitos programadores que se consideram defensores do FP adoram o FP por sua simplicidade e n√£o consideram esses problemas s√©rios.  Isso √© bastante honesto se sua tarefa √© simplesmente passar o c√≥digo e nunca mais pensar nele novamente.  Se voc√™ deseja criar uma base de c√≥digo que seja conveniente no suporte, √© melhor aderir aos princ√≠pios do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">c√≥digo puro</a> , em particular, aplicar a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">invers√£o de depend√™ncia</a> , na qual o FI na pr√°tica tamb√©m se torna muito mais complicado. <br><br><h4>  OOP ou FP? </h4><br>  OOP e FI s√£o <i>ferramentas</i> .  Por fim, n√£o importa qual paradigma de programa√ß√£o voc√™ usa.  Os problemas descritos na maioria dos artigos neste t√≥pico est√£o relacionados √† organiza√ß√£o do c√≥digo. <br><br>  Na minha opini√£o, a macroestrutura do aplicativo √© muito mais importante.  Quais s√£o os m√≥dulos nele?  Como eles trocam informa√ß√µes entre si?  Quais estruturas de dados s√£o mais comuns com voc√™?  Como eles est√£o documentados?  Quais objetos s√£o mais importantes em termos de l√≥gica de neg√≥cios? <br><br>  Todas essas quest√µes n√£o est√£o de forma alguma ligadas ao paradigma de programa√ß√£o usado; no n√≠vel de um paradigma nem sequer podem ser resolvidas.  Um bom programador estuda o paradigma para dominar as ferramentas que oferece e, em seguida, escolhe quais s√£o as mais adequadas para resolver a tarefa. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt469135/">https://habr.com/ru/post/pt469135/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt469125/index.html">Tema sombrio do Thunderbird como um motivo para executar um analisador de c√≥digo</a></li>
<li><a href="../pt469127/index.html">Otimiza√ß√£o ou como n√£o dar um tiro no pr√≥prio p√©</a></li>
<li><a href="../pt469129/index.html">Devido ao tema sombrio, o Thunderbird teve que executar um analisador de c√≥digo</a></li>
<li><a href="../pt469131/index.html">Genie</a></li>
<li><a href="../pt469133/index.html">Quais gadgets a Amazon introduziu em seu Hardware Event 2019</a></li>
<li><a href="../pt469137/index.html">O c√©rebro √© a √∫ltima fronteira da privacidade</a></li>
<li><a href="../pt469139/index.html">Aprenda SEO por conta pr√≥pria: uma grande variedade de materiais</a></li>
<li><a href="../pt469143/index.html">Como o MAMR funciona no HDD</a></li>
<li><a href="../pt469147/index.html">Zimbra Open-Source Edition e assinatura autom√°tica em letras</a></li>
<li><a href="../pt469151/index.html">Nunca √© tarde para come√ßar uma nova maneira</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>