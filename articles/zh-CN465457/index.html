<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>♾ 💂🏼 🤞🏻 关于手指上的PBR 👂🏿 👩🏾‍🤝‍👨🏿 🛀🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="在本文中，我将简要介绍一下PBR，PBR是一种基于物理原理的渲染概念。 PBR用于现代计算机图形学中，我们将讨论它是什么以及它是如何准备的，以及对于准备或已经在处理材料准备工作的人员来说值得了解的重要事项。 重点更多地转移到游戏和游戏引擎上，这些概念现在已得到广泛使用。 


 在继续讲细节之前，先...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>关于手指上的PBR</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/funcorp/blog/465457/"><p><img src="https://habrastorage.org/webt/p7/wx/7w/p7wx7wdov7bj2wuvrn-tezyyani.png"></p><br><p> 在本文中，我将简要介绍一下PBR，PBR是一种基于物理原理的渲染概念。  PBR用于现代计算机图形学中，我们将讨论它是什么以及它是如何准备的，以及对于准备或已经在处理材料准备工作的人员来说值得了解的重要事项。 重点更多地转移到游戏和游戏引擎上，这些概念现在已得到广泛使用。 </p><a name="habracut"></a><br><p> 在继续讲细节之前，先说几句“遮盖后方”。 </p><br><p>每个引擎和渲染器都有自己的开发管道，该开发管道通常是唯一的，就像雪花一样，并且不会与其他管道完全相交。 除其他外，这是由于PBR是一个相对较年轻的方法，我们可以说我们看到的是第一代此类引擎，标准才刚刚开始出现，因此在不同的实现方式中存在差异和细微差别。 而且，因为策略路由不是严格的要求集，而是总体发展方向。 </p><br><p> 在撰写本文时，我依靠自己的经验以及有关多个软件包的理论：虚幻引擎4，Marmoset工具包3，Substance Painter。 因此，其他软件包中的某些东西看起来会有所不同，但总的来说，该理论是通用的。 </p><br><p> 我将更详细地描述最重要的事情，最后，根据残差原理，我会提到在PBR中使用了它，但在设备中没有那么重要或棘手。 </p><br><p> 我故意以非翻译形式使用这些术语，因为最新，最完​​整的信息来源始终是英文，而且如果有人坐下来等待翻译，他会自动进入那些落后并依赖他的语言。 我认为，立即记住该行业中使用的术语是正确的。 和谷歌，当然。 </p><br><p>  <em>该材料是在Maya3D Telegram社区的参与下编写的。</em> </p><br><h2> 关于基础 </h2><br><p> 首先，让我们更深入地探讨这个故事。 经验表明，最好立即解释术语和基本概念的含义，但是，如果您已经知道它们，则可以安全地跳过此部分。 </p><br><blockquote> 此外，您会注意到PBR可以从任何地方借用术语，可以对其进行一些更改，这很好。 </blockquote><p>  PBR是<em>基于物理的渲染</em>的缩写，大致表示<em>物理上正确的可视化</em> ，并且这些词不言而喻。 有时使用PBS一词（此处将<em>渲染</em>更改为<em>shader</em> ），在某些地方甚至出现PBT（并在此处显示<em>纹理</em> ）。 但是，差异很小-这是传统问题，传统上使用PBR一词的频率更高。 </p><br><p> 从实时和游戏到所谓的离线渲染，最近几年一直是现代渲染系统的主流。 这个名字暗示着一定要遵守物理定律，现实世界的定律，并且正如人们所告诉我们的那样：这不是事实。 让我们弄清楚它是如何，如何变成的，以及它们如何侧面出现。 </p><br><p> 从她生命的一开始，就在三维图形中采用了多种在屏幕上显示的方法，直到可以清楚地再现出现实的机制可以给出更真实的结果为止。 </p><br><blockquote> 角色的骨骼动画大约发生了相同的故事，这些动画“掩埋”了顶点。 </blockquote><p> 如果我们对现实建模，那么让我们使用它的定律和体系结构，自动化常数并将部分工作转移到软件上。 渲染器越来越努力地以现实生活的方式工作，每一代铁匠都引入了新的方法来允许您放弃假货。 </p><br><blockquote> 脱机渲染是不能实时工作的渲染，例如Vray或Arnold。 </blockquote><p> 出于某种原因，它可能会缩小幻想的范围并切断风格化的芽，但这<em>可能</em>就是事实。 </p><br><p> 另一方面，花招和假货正在发展到一个新的水平，这也在进步。 </p><br><p> 在我们周围的现实世界中，电磁场是相互作用的基础，其相互作用程度要高于原子且低于行星。 多亏了他，我们可以看到并触摸到的所​​有东西。 人是一个不完美的人，我们看不到电磁频谱的最大部分，但是有了它，我们凭借着理解就可以使用很多微妙之处。 我们周围看到的一切都是光和奇想。 入门不错，最重要的是显而易见，对吧？ </p><br><blockquote> 绝大多数人是三色盲，但是只有一小部分的四色突变体可以区分更多的阴影并看到世界更加多样化。 这些妇女更多。 </blockquote><p> 在PBR中，光变得比以前更不常见。 鉴于材料的特性，BxDF不仅描述了它如何到达表面，还描述了它如何从表面反射。 这使您可以更准确地描述场景并传达结果，并尽可能接近现实。 <br>  PBR带来的关键变化之一是任何照明材料的多功能性。 正确配置的材料在任何场景下始终看起来正确。 </p><br><p> 在上一代效果图中，未考虑微表面和火炬的性质，导体/绝缘体的材料类型； 漫反射产生部分阴影，甚至涂上眩光； 没有来自现实世界的反思价值； 这些材料对于任何场景和照明都不是通用的。 </p><br><h2> 关于物质 </h2><br><p> 有两种类型： </p><br><ul><li> 导体或金属<em>导体</em> ; </li><li> 绝缘体或电介质，即非金属- <em>绝缘体</em> 。 </li></ul><br><p> 分类取自现实世界（经过简化），并尝试沿用该名称。 <br> 导体传导电流，具有晶格和其他来自学校物理课程的“乐趣”。 它们没有漫反射和表面下的散射，它们的表面不会散射光，它不能透过，而是吸收一部分光，反射特定长度的波-彩色眩光。 </p><br><blockquote> 但是，电流对于PBR并不重要。 皮肤也可以传导电流，但在PBR中，它不是金属，这意味着它不是导体。 </blockquote><p> 绝缘体会散射光；光会穿透它们的表面； 它们具有漫反射和地下散射，并带有白光眩光。 <br> 两种材料都具有菲涅耳效应。 </p><br><h2> 关于管道 </h2><br><p> 传统上，我们有两条用于物料及其制备的管道： <em>高</em> <em>光和金属</em> 。 通常，可以理解的是，在<em>镜面反射中</em>有相应的镜像图，而在<em>金属性中</em>则没有，但是有金属性掩模，可以做到这一点。 </p><br><p> 当然，这里的一切并不是那么简单。 </p><br><p>  <em>镜面反射</em>管道实际上具有<em>镜面反射</em>贴图，该贴图控制<em>F0上</em>光泽度的强度和颜色，其值完全在艺术家手中，并且在着色器中没有内置常数。 菲涅耳有时被单独控制， <em>反照</em>率仅控制颜色， <em>光泽/粗糙度</em>控制反射的性质，这里的一切都很简单。 </p><br><p>  <em>金属性</em>没有单独的光泽强度图；这些值被缝入着色器中，介电层的范围在2％至5％之间，导体在70％至100％之间。 卡片之间的关系略高：卡片的<em>反照率</em> ， <em>金属</em> <em>度</em>和<em>粗糙度会</em> <em>总体</em>影响镜面反射的颜色，强度和性质。 该管道中的卡较少，并且考虑到将灰度卡包装在一个RGB中的可能性，此类材料占用的系统内存更少。 </p><br><p> 考虑到效率和更高的自动化程度，现代渲染的选择几乎完全取决于<em>金属性</em> ，因为此类着色器需要正确的菲涅尔计算。 尽管“ <em>镜面反射”</em>提供了更多控制，但此控制通常是多余的，并且花费更多的时间和精力获得相似的结果。 因此，我们通常将专门讨论<em>金属性</em>管道。 </p><br><p><img src="https://habrastorage.org/webt/4y/nx/vn/4ynxvnwcpw7607fqx4hb4zl0q1c.png"><br>  <em>差异管道和地图。</em>  <em>Wes McDermott和Allegorithmic。</em> </p><br><h2> 关于BRDF和GGX </h2><br><p>  BxDF变化与上一代产品之间的PBR差异的基础。  BxDF是<em>双向X分布函数</em> ，大致听起来像是<em>两束X射线能力函数</em> 。 该功能家族具有多种功能：至少是<em>反射率</em> ， <em>透射</em> <em>率</em>和<em>散射</em> -反射，透射率和色散（在专业文献中，艺术家更经常使用BRDF版本）。 </p><br><p> 这些功能描述了光束与表面相互作用时的行为：光束如何散射（即，穿透上层并返回），如何镜像或穿过透明材料。 </p><br><p> 在我们的历史中，BxDF与<em>微面理论</em>密切相关， <em>微面理论</em>也有很多实现，通常以作者的名字命名：库克-托伦斯（Cook-Torrance），阿什赫明-希尔（Ashikhmin-Shirley），GGX等。  GGX只是<em>微面理论</em> （ <em>微面理论）的</em>一种实现，几乎在任何地方都使用。 它提供了微表面的简化模型，该模型与BxDF结合在一起，可模拟所有相互作用类型对光的反应。 </p><br><blockquote> 构面也可以翻译为“面”，这也很有意义。 用简化的理论来说，表面是小脸的集合。 </blockquote><p>  GGX根本不会被解密，字母集是从公式中使用的变量中提取的（或者姓氏杂乱无章，故事被隐藏了）。 艺术家可以在“ <em>粗糙度/光泽度”</em>参数设置中看到该术语。 </p><br><blockquote> 例如，G之一是双向阴影遮罩功能，即两光束自阴影/遮罩功能。 </blockquote><p><img src="https://habrastorage.org/webt/_f/fj/gc/_ffjgcfumvsq6sgwhssekpffawa.png"><br>  <em>微表面及其对镜面反射的影响。</em>  <em>Wes McDermott和Allegorithmic。</em> </p><br><h2> 节约能源 </h2><br><p>  <em>节能</em>也是PBR的基本常数之一，它意味着表面返回的光不能超过接收到的光。 尤其是<em>反照率</em>和<em>镜面反射</em>相加，如果<em>镜面反射</em>更亮， <em>反照率就</em>不太亮，反之亦然。 通常，这是引擎中的自动化操作，有时可以在Marmoset Toolbag中将其打开和关闭。 </p><br><h2> 关于菲涅尔 </h2><br><p> 十九世纪的法国物理学家奥古斯丁·让·菲涅尔（Augustin-Jean Fresnel）是光波理论和其他凉爽事物的堆积理论的创造者，他描述了名称本身的作用，其原因在于从表面反射的光的水平直接取决于与该表面的视角。 在一个直角（即<em>F0）处</em> ，我们获得了材质可用的镜面反射光的最低水平。 角度越大，我们将捕获的光线越多，接近100％。 </p><br><p> 根据这种效果，任何材料都具有眩光，原则上，所有事物都会发光，您只需要找到合适的角度即可。 </p><br><p> 一般而言，当谈到光泽度时，我们总是指<em>F0</em>上的光泽度-这是艺术家通过<em>反照率/粗糙度/金属度来控制的</em> 。 <br><img src="https://habrastorage.org/webt/qb/mc/3d/qbmc3dtizu2o3dtyaeadoaknoh8.png"><br>  <em>菲涅耳效应的示意图。</em>  <em>Wes McDermott和Allegorithmic。</em> </p><br><h2> 关于漫反射 </h2><br><h3> 反照率。 漫射 基本颜色。 </h3><br><p><img src="https://habrastorage.org/webt/o_/1b/qd/o_1bqdvlsufu0sjpawl6jvswr_s.png"><br>  <em>漫反射中的交互方案。</em>  <em>Wes McDermott和Allegorithmic。</em> </p><br><p> 这是一种光，它掉落在表面上并被部分吸收，并被部分反射，在上层随机散射，并向观察者返回同一表面的颜色。 有时在这种情况下，他们说它是用表面的颜色绘制的，但是我们在谈论物理正确性，因此值得重复一遍-光不会弄脏，光谱中未被吸收和丢失的部分会返回给我们。 在现实世界中，表面吸收的可见光部分会转化为热能，在PBR中也可以考虑这一点，但是这在很大程度上取决于所使用的着色器，在这种情况下是次要的。 </p><br><p><img src="https://habrastorage.org/webt/8m/az/h6/8mazh6-uv3x5_ygatmtgar0tyta.png"><br>  <em>吸收光并仅返回非吸收波的观察者。</em>  <em>Wes McDermott和Allegorithmic。</em> </p><br><p> 材料在漫反射过程中的行为由<em>反照率</em>贴图， <em>基色</em>或什至<em>在</em>某些地方漫反射确定。 这些名称的差异源于传统和发动机开发流程的不同，但每个地方的行为都是相同的-在任何情况下都应该如此。 颜色应在反照率图上捕获，与相机表面成直角且100％白色照明时的外观。 没有阴影，半影，眩光和所有未压缩到“纯色”的定义。 这是当前PBR中的漫反射与上一代渲染器之间的主要区别，在该渲染器中也使用术语“ <em>漫反射”</em> ，但方式略有不同。 </p><br><blockquote> 例如，带有偏振滤光镜的物体的照片在直接照明下捕获其<em>反照率</em> 。 偏振消除眩光。 </blockquote><p> 似乎没有什么可说的关于颜色的了，但是仍然有一些微妙之处。 </p><br><p> 漫反射贴图会影响纯金属管道中纯金属的渲染，从而将高光污染相应的颜色。 此外， <em>反照率</em>图直接影响金属的<em>镜面反射率</em> ，使您可以结合<em>金属性</em>卡来改变它。 这是一个非常棘手的设计，但通常看起来像这样：当我们制造绝缘子的材料时，我们绘制了一个黑色的<em>金属</em>掩膜，并且着色器为4％的<em>F0</em>分配了光泽。 当我们将金属性过渡到白色（即纯金属）时， <em>反照率</em>图中的亮度会影响其亮度强度。  <em>反照率中</em>的颜色越亮，亮度越强，接近100％的值。 我们无法控制绝缘子的光泽度。 假设2-4％的差异不严格，并且可以通过<em>粗糙度</em>掩盖，或者在必要和可能的情况下通过<em>镜面反射率</em>进行微调。 </p><br><blockquote> 结合UE4着色器，Marmoset Toolbag和Substance产品描述了此示例。 但总的来说，它在任何地方都有效。 </blockquote><p> 表面色彩的艺术效果不可低估。 通常，这会引起艺术家的注意，他们将黑色塑料黑色制成“栩栩如生”。 但是实际上通常没有整体式的颜色，并且材料中几乎总是存在颜色变化，必须对此加以理解和使用。 </p><br><p> 漫反射是用RGB卡描述的，或者用引擎来描述，通过Vector3的数组来描述，这在逻辑上是我们谈论的颜色。 </p><br><h3>  PBR验证 </h3><br><p> 由于PBR追求真实的参数和特性，因此应验证<em>反照率</em>亮度的值并将其减小到真实值的范围，但对于介电质，它们不能低于30-50 sRGB且不能高于240。 对于纯金属，240的值可以增加到255，因为这不是漫反射的值，而是<em>镜面反射率</em>的值。 </p><br><p> 但是，这里当然有一些微妙之处。 </p><br><p> 例如，普通世界中最黑暗的物质之一是煤。  <em>反照率</em>的亮度值（转换为sRGB）为50，这接近PBR可以为电介质提供的最小值的边界。 下面的值太暗，在不同的照明条件下可能看起来不正确。 </p><br><blockquote> 不久前，一些人拉紧并创造出一种材料，该材料吸收了99％的光，看起来像是太空中的黑洞。 </blockquote><p> 为什么这很重要？ </p><br><p> 因为漫反射和镜面反射是成对工作的。 反照率值太暗会影响<em>反照率</em>本身与<em>镜面反射率</em>之间的差异，并且艺术家将不得不“扭曲”光线以使<em>F0</em>上的眩光和漫反射正常化，这将使整个场景过度曝光，并且这些材质最终将变得通用并且仅适用于特定场景。照明。 </p><br><p> 为什么这没关系？ </p><br><p> 因为这取决于组成。 如果呈现了单独模型的表示，并且场景中没有全局照明和反射反射，但是有HDR照明，则通常可以将值设置为30-50 sRGB之外。 还有一个半神话般的野兽“手工艺品”。 他说：“更重要的不是身体的正确性，而是知觉。” 在这里，有时甚至有必要违反难以确立的法律。 </p><br><blockquote> 关于违反PBR法律和匹配现实的可容许性，这是一个备受争议的问题。 它在某个地方起作用，而在某个地方则必须保持所有标准。 示例和讨论超出了本文的范围。 </blockquote><p> 总的来说，保持<em>反照率</em>亮度极限仍然取决于艺术家或其艺术领导者的良心，并且目前存在于PBR中的大部分作品都无法通过该下限的验证，这并不妨碍他们以无经验的方式定性和正确。 仅当您检查值并将其拉低到下限，或者将单独执行的模型放置在具有正确照明的场景中时，差异才可见。 </p><br><p> 但是，即使我们不理会验证，也不要将0 sRGB的纯黑色用于电介质。 </p><br><p> 引擎和编辑器中的各种工具都提供了PBR验证。 例如，在Substance Painter中，有一个过滤器在整个层堆栈上工作，检查值。 </p><br><p><img src="https://habrastorage.org/webt/vt/7l/sk/vt7lsk-qarr0_h1xcytgync8-yk.png"><br>  <em>Substance Painter中的PBR验证。</em>  <em>Wes McDermott和Allegorithmic。</em> </p><br><p><img src="https://habrastorage.org/webt/8_/c_/fc/8_c_fcnsy5-zl9aw4tedt-d0pgg.png"><br>  <em>绘制某些材料的强度值图表。</em>  <em>数据取自塞巴斯蒂安·拉加德（SébastienLagarde）和DONTDNOD。</em> </p><br><h2> 关于镜面反射 </h2><br><h3> 镜面反射率 </h3><br><blockquote> 镜面反射是拉丁词，翻译为“镜子”。 </blockquote><p><img src="https://habrastorage.org/webt/ts/ot/d6/tsotd6j2ix5xr3jp4btcb_v2b6c.png"><br>  <em>镜面反射中光相互作用的方案。</em>  <em>Wes McDermott和Allegorithmic。</em> </p><br><p> 这是指根据入射角定律从表面反射并完全返回给观察者的光束的一部分。  <em>镜面反射</em>或镜面反射是眩光，它与微表面的特性密切相关。 在两个管道中都可以找到它，但是在<em>镜面反射</em>管道中可以直接控制它，而金属性可以间接地控制它。 </p><br><p> 事实是，直接控制亮度是一件很邪恶的事情。 我们记得导体和绝缘子，但很少有艺术家在没有摆桌子的情况下会记住确切的强度值，而且宝石形式也有例外。 可以使用此着色器设置，很容易摆脱星体平面某处的物理正确值，打破整个视觉范围，甚至在我们的肩膀上准备材料，而视频卡的内存是另一张卡。 </p><br><p> 此外，真实值的测量适合一个小型框架，该框架可以自动化，这是他们在<em>金属性方面</em>所做的<em>事情</em> ，他们选择了直接控制并且也需要考虑这一点。 </p><br><p> 在<em>镜面反射</em>管线中， <em>镜面反射</em>参数由灰度映射控制，其值为0-255，线性颜色或标量参数。 </p><br><blockquote> 标量参数是为投影到模型上的二维空间设置的值。 换句话说，当您在Marmoset中移动滑块以进行镜面反射时，这是标量参数。 </blockquote><p> 在<em>金属</em>管线中，通常无法通过镜面反射参数直接控制亮度强度。          F0: 4-5%    80-100%   ,     .            ,         <em>roughness</em>  <em>albedo</em> . </p><br><h3> Cavity </h3><br><p>  <em>specular reflectance</em>     ,    ,      ,     ,     ,   .      ,       ,     .      <em>cavity</em> ;     ,     .  UE4, ,   specular  ,       ,   ,      <em>specular</em> ,   ,     <em>cavity</em>      0-4%.      Substance-   .         ,           .    . </p><br><p><img src="https://habrastorage.org/webt/if/aa/3l/ifaa3lo0zh7jbqeg9xh9kbjefyq.jpeg"></p><br><p><img src="https://habrastorage.org/webt/dc/yd/8n/dcyd8nfosw2l6ublorhoy1qptve.jpeg"><br> <em>  cavity  specular reflectance.              .        cavity         ,      .   Marmoset Toolbag 3</em> </p><br><h2>   </h2><br><h3> Metalness </h3><br><p>   PBR   ,      -    .         ,      —       -  .    2-5%  ,  — 70-100%,        . </p><br><p>  ,     ,             , ,       ,       -  <em>metalness</em> .      ,       .                 ,     UE4      Unity.    ( «  ») —       :   <em>texel density</em>      . </p><br><blockquote>   /    specular-,       ,   . </blockquote><p><img src="https://habrastorage.org/webt/yy/u5/_3/yyu5_3xbui07l_eya7jpeweb1tq.png"><br> <em>  /. Wes McDermott  Allegorithmic.</em> </p><br><p>   PBR,      .       ,    ,    -   ,  ,       .    <em>specular</em> -       RGB-   <em>specular</em> ,     ,   <em>metalness</em>      <em>albedo</em> . ,   <em>metalness</em> ,    ,     ,  ,  . . </p><br><p> ,     —  ,    .     ,       ,   . </p><br><p>  ,       .           <em>albedo</em>  , ,  Substance Painter,   ,  .    ,   : <em>albedo</em>          . </p><br><p>   -  0-255          . </p><br><h2>   </h2><br><h3> Roughness. Glossiness. Smoothness. </h3><br><p>         ,     ,  ,     .   ,    ,     ,     .  PBR     <em>microfacet theory</em>    BRDF,            ,     <em>roughness</em> ,  <em>gloss</em> ,   <em>smoothness</em> -. </p><br><blockquote>   —     roughness    .       . </blockquote><p>       ,   roughness   —   ,            ,   — ,       ,    ,   .   <em>gloss</em>   . </p><br><p>  specular    (    <em>metalness</em> ),      .          ,     ,           ,   ,      . <br> <em>Roughness</em>      ,     ,      ,      —    , ,  . </p><br><p>   grayscale-  0-255,    . </p><br><p><img src="https://habrastorage.org/webt/mn/fw/0p/mnfw0pktzv7wrjsq340sbxzmb1o.png"><br> <em>Roughness-   . Wes McDermott  Allegorithmic.</em> </p><br><h2>   </h2><br><h3> Normal bump </h3><br><p>  ,    ,       .  —  ,   ,        . </p><br><blockquote>       ,   . </blockquote><p>       : <em>vertex normal</em>  <em>face normal</em> , ,     .       ,     <em>hard edges</em> . </p><br><blockquote> , Zbrush      ,        .      ,     . <br><br>  <em>hard/soft edges</em>    ,    ,  <em>hard edges</em>       -   .      UV,    .  PBR   ,       -. </blockquote><p>         .  <em></em>      .        «»,      —   ,      3+n .     <em>face</em>    . <em>Face normal</em>    —  . </p><br><blockquote>   ,    3+n     . </blockquote><p>     ,   ,     .      ,     «»         .        ,     ,       .  ,      ,   ( <em>tangent space</em> ,  )   ( <em>object space</em> ,  ) ,       ,  . </p><br><p>    ( <em>bump</em> )  ,     ,        .        ,    — <em>normal bump</em>     bump.      —  .        ,   <em>bump</em> ,  , .           ,  ,     Mikk,       (  Y,     ). <br> <em>Normal bump</em>    PBR-,   ,        — ,   .   ,        .             ,      .    ,    « »;  ,   ,               .      Rockstar   RAGE —  GTAIV/V, RDR1/2,   Star Citizen   CryEngine/Lambeyard.   ,   , ,     ,              . </p><br><p> PBR     . </p><br><h2>    </h2><br><h3> Subsurface scattering, SSS. </h3><br><p>  ,    ,           : ,    .       ,    ,       ,    . </p><br><p>    , SSS,  ,    :   (      )       RGB-.      . </p><br><p><img src="https://habrastorage.org/webt/jc/ai/8f/jcai8frgs4rpzcqduwvnwedw988.png"><br> <em>  SSS.    .</em> </p><br><h2>   </h2><br><h3> Translucency </h3><br><p>  ,      SSS,        . <em>Translucency</em> —   ,       . <em>Translucency</em>  -    . </p><br><p><img src="https://habrastorage.org/webt/8q/-d/ww/8q-dww9kndq-jhkolumjyqgjk5q.png"><br> <em>        :  ,    .    .</em> </p><br><h2>    </h2><br><h3> Ambient occlusion </h3><br><p>    <em>ambient occlusion</em> —    ,        .       <em>  </em> ,      . AO —             ,     .    <em>cavity</em>  PBR-,      .     PBR-    ,     .     AO,               .  ,  SSAO ( <em>screen space ambient occlusion</em> ), HBAO ( <em>horizon based ambient occlusion</em> )    ,     .    ,       —    <em>deferred rendering</em> . </p><br><p>    , -   PBR     ,           ,  <em>roughness</em> ,       . </p><br><p><img src="https://habrastorage.org/webt/ad/lv/gw/adlvgwyydcpwgxm_8_uv9vcfsty.png"><br> <em>  ,     ,   . : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://www.gamingscan.com/what-is-ambient-occlusion/</a></em> </p><br><p> ,   RTX        GI      ,       . </p><br><h2>    </h2><br><p>          ,   ,            . </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">GGX ,    </a> </p><br><p>   PBR  Allegorithmic: <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://academy.substance3d.com/courses/the-pbr-guide-part-1</a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://academy.substance3d.com/courses/the-pbr-guide-part-2</a> </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">  Marmoset</a> </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">   Filament</a> </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">   PBR  3dCoat</a> </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">  UE4</a> </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">    (Sébastien Lagarde)</a> </p><br><p>  ,    ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">   Frostbite</a> </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">  Unity</a> </p><br><p> <em> ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">zhovner</a> .</em> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN465457/">https://habr.com/ru/post/zh-CN465457/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN465441/index.html">LuaVela：基于LuaJIT 2.0的Lua 5.1实现</a></li>
<li><a href="../zh-CN465445/index.html">物联网提供商的说明。 冲动出口诅咒</a></li>
<li><a href="../zh-CN465449/index.html">Pavel Durov的声誉和对Telegram的信念如何解决Mail.ru和FSB的问题</a></li>
<li><a href="../zh-CN465453/index.html">9月3日-圣彼得堡CTO日</a></li>
<li><a href="../zh-CN465455/index.html">处理事件，改善事件响应和技术债务价值。 后端联合4 mitap材料：Okroshka</a></li>
<li><a href="../zh-CN465459/index.html">视频会议的简要历史：从开始到全面的商业使用</a></li>
<li><a href="../zh-CN465461/index.html">在React应用程序中进行静态输入</a></li>
<li><a href="../zh-CN465463/index.html">好的永远不会便宜。 但这是免费的</a></li>
<li><a href="../zh-CN465467/index.html">关于RTOS的全部真相。 第32条 Nucleus SE迁移：未实现的功能和兼容性</a></li>
<li><a href="../zh-CN465471/index.html">您是否尝试过在Roskomnadzor中将您的站点注册为网络出版物？</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>