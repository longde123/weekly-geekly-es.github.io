<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏻‍💼 ⚔️ 🗑️ Doppelter Buchhaltungseintrag in einer relationalen Datenbank 🐥 🙁 🏒</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Von einem Übersetzer : Während meiner Arbeit bei der nigerianischen Fintech musste ich ein Zahlungssystem von Grund auf neu erstellen. Zu dieser Zeit ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Doppelter Buchhaltungseintrag in einer relationalen Datenbank</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/480394/"><p>  <em><b>Von einem Übersetzer</b> : Während meiner Arbeit bei der <a href="https://habr.com/ru/post/346514/">nigerianischen Fintech musste</a> ich ein Zahlungssystem von Grund auf neu erstellen.</em>  <em>Zu dieser Zeit verstand ich eigentlich nichts von Buchhaltung, wie es besser ist, Zahlungen und Salden zu speichern.</em>  <em>Es bestand jedoch der Verdacht, dass die primitive Option mit einer Saldoziffer im Benutzerkonto zu einfach ist, um richtig zu sein.</em> </p><br><p>  <em>Dieser Artikel hat mir geholfen, eine Reihe von Rechen in dieser Angelegenheit zu verstehen und zu vermeiden.</em>  <em>Gleichzeitig sind die Informationen zum Thema "Wie Sie Ihr eigenes Zahlungssystem erstellen" recht klein und es ist für einen Programmierer nicht so einfach, Bücher über Buchhaltung zu verstehen (und sehr mühsam).</em>  <em>Ich hoffe, dass dieses Material für diejenigen nützlich ist, die so etwas tun werden.</em> </p><br><p>  <em>Ich entschuldige mich sofort für mögliche Ungenauigkeiten in Bezug auf die russischsprachige Finanzabteilung. Ich bin immer noch ein Programmierer, kein Buchhalter und mit der russischen Terminologie in diesem Bereich nicht vertraut.</em> </p><br><h3 id="vvedenie">  Einleitung </h3><br><p>  Viele Computersysteme, die relationale Datenbanken verwenden, speichern irgendeine Art von Finanzinformation über Guthaben und Transaktionen.  Darüber hinaus wirft der Entwurf und die Entwicklung einer solchen Datenbank häufig die Frage auf, wie diese Informationen gespeichert werden sollen.  In der Regel besteht die Wahl zwischen einer billigen „einfachen Aufnahme“ und einer komplexeren „doppelten Aufnahme“. </p><br><p><img src="https://habrastorage.org/webt/jm/gv/sg/jmgvsgsfjrriyu-vzj-mdzacmvy.jpeg"><br>  <em>Luca Pacioli, Autor des ältesten (15. Jahrhundert) überlieferten Buches, in dem die Prinzipien der doppelten Einreise beschrieben werden</em> </p><br><p>  In einem einfachen Aufzeichnungssystem werden numerische Werte nur einmal aufgezeichnet.  In einem System mit doppelter Erfassung wird jeder Wert zweimal als Gutschrift (positiver Wert) und als Lastschrift (negativer Wert) erfasst.  Es gibt eine Reihe von Regeln, die die Beziehung zwischen diesen Werten bestimmen.  Diese Regeln werden Ihnen von jedem erfahrenen Buchhalter leicht beschrieben, obwohl er sich nicht einmal vorstellen kann, wie sie in einer relationalen Datenbank dargestellt werden können. </p><br><p>  Die Grundregeln lauten wie folgt: </p><a name="habracut"></a><br><ol><li>  Jeder Eintrag im System muss ausgeglichen sein, d.h.  Die Summe aller Werte in einer Operation sollte Null ergeben. </li><li>  Die Summe aller Werte im gesamten System zu einem bestimmten Zeitpunkt sollte Null ergeben (die Regel der sogenannten "Probebilanz"). </li><li>  Bereits in die Datenbank eingegebene Werte können nicht bearbeitet oder gelöscht werden.  Wenn Korrekturen erforderlich sind, muss der Vorgang zuerst durch einen anderen Vorgang mit dem entgegengesetzten Vorzeichen abgebrochen und dann mit dem korrekten Wert wiederholt werden.  Auf diese Weise können Sie einen zuverlässigen Audit-Trail implementieren (ein vollständiges Protokoll aller Transaktionen, die häufig bei Inspektionen erforderlich sind). </li></ol><br><h3 id="primenimost-dvoynoy-buhgalterii">  Anwendbarkeit der doppelten Buchhaltung </h3><br><p>  Zu Beginn eines Projekts ist der niedrige Preis einer einfachen Aufnahme immer verlockend, und die Kosten für die Implementierung und die Komplexität einer vollwertigen Doppelaufnahme scheinen unnötig.  In der Realität ist die Verwendung einer einfachen Aufzeichnung jedoch häufig eine falsche Einsparung. </p><br><p>  Wenn die Buchhaltungsinformationen im IT-System nur die vorhandenen Papieraufzeichnungen kopieren, die außerhalb der zu entwickelnden Datenbank gespeichert sind, hat eine einfache Aufzeichnung immer noch das Recht auf Leben.  Wenn jedoch mindestens eine der unten aufgeführten Tatsachen über das System zutrifft, sollte von Anfang an die doppelte Eingabe verwendet werden: </p><br><ol><li>  Falls jemals eine Rechnungsprüfung von Informationen erforderlich ist </li><li>  Wenn die Informationen im System die einzige Informationsquelle über die Eigenschaft sind </li><li>  Wenn die Informationen Objekte von hohem Wert betreffen </li><li>  Wenn das System in Zukunft ernsthaft weiterentwickelt werden soll </li></ol><br><h3 id="primer-dvoynoy-zapisi">  Beispiel mit doppelter Eingabe </h3><br><p>  Die Schlüsselidee der doppelten Eingabe ist das Vorhandensein eines speziellen "Kassenbuch" -Kontos ( <em>ungefähr übersetzt: Ich habe nicht gefunden, wie ich es angemessen auf Russisch nennen kann, kann mir jemand sagen?</em> ).  Dieses Konto enthält Aufzeichnungen, die erstellt wurden, als Wertgegenstände (z. B. Geld) in unserem Buchhaltungssystem ein- oder ausgezahlt wurden.  Der aktuelle Saldo dieses Kontos spiegelt somit die Gesamtzahl der Werte im System wider. </p><br><p>  Das folgende ist ein einfaches Beispiel mit zwei Konten, "Kassenbuch" und "Smith". </p><br><p>  (a) 300 £ werden in das System eingegeben und auf das Konto von Smith eingezahlt.  Auf Smiths Konto wird ein Darlehen von 300 Pfund Sterling angelegt (Gutschrift rechts, Abbuchung links).  Um diesen Betrag auszugleichen, wird auf dem Kassenbuchkonto eine Abbuchung von 300 GBP vorgenommen. </p><br><p><img src="https://habrastorage.org/webt/wk/ic/px/wkicpxkfio9jnzpj22rujmftpww.gif"></p><br><p>  (b) Smith zieht dann £ 50 vom System ab.  Wir erstellen eine Abbuchung für diesen Betrag auf Smiths Konto und eine Gutschrift im Kassenbuch. </p><br><p><img src="https://habrastorage.org/webt/ne/ns/c8/nensc8s2cbhjyh9wbpnakjl1dze.gif"></p><br><p>  (c) Fügen Sie ein weiteres Pattel-Konto hinzu und überweisen Sie ihm 100 £ von Smith.  Dazu müssen wir bei Smith eine Abbuchung für diesen Betrag und bei Pattel einen Kredit erstellen. </p><br><p>  (d) Lassen Sie als letzten Schliff Pattel nun £ 60 vom System abheben.  Wir erstellen eine Lastschrift auf seinem Konto und eine Gutschrift im Kassenbuch. </p><br><p><img src="https://habrastorage.org/webt/sf/h_/fc/sfh_fcvhtlljtfbssjhysasppdm.gif"></p><br><p>  Als Ergebnis all dieser Operationen können wir berechnen, dass der Gesamtsaldo von Smith 150 £, Pattela 40 £ und im Kassenbuch -190 £ die negative Summe der Salden aller anderen Konten beträgt.  Basierend auf diesen einfachen Regeln und Operationen können Sie in Zukunft ein sehr umfassendes Wertkontrollsystem aufbauen. </p><br><h3 id="model-dannyh">  Datenmodell </h3><br><p>  Die Struktur eines einfachen Datenmodells, mit dem alle diese Informationen dargestellt werden können: </p><br><p><img src="https://habrastorage.org/webt/w7/o8/rr/w7o8rrkhg_ovqkwls1kczhyd0se.gif"></p><br><p>  Die POSTING-Tabelle enthält die doppelten Einträge selbst.  Das Speichern aller Zahlen in einer Tabelle vereinfacht alle Berechnungen erheblich.  Als Primärschlüssel sollte ein monoton ansteigender Zähler verwendet werden.  Die Werte sollten in diesem Fall in einer Reihe stehen. Anhand der Zahl können Sie immer sicherstellen, dass kein Datensatz gelöscht wurde.  Die Tabellen BATCH und JOURNAL dienen zur Steuerung und Eingabe von Daten in diese POSTING-Tabelle. </p><br><p>  Jeder Eintrag in der Tabelle JOURNAL repräsentiert eine Transaktion (aus betriebswirtschaftlicher Sicht), die doppelte Einträge generiert.  Eine solche Transaktion ist eine abgeschlossene Arbeitseinheit oder ein Geschäftsprozess.  Entweder müssen alle POSTING-Datensätze, die dem JOURNAL-Datensatz zugeordnet sind, erfolgreich abgeschlossen werden, oder keiner von ihnen.  Die Summe aller POSTING-Datensätze in einer einzelnen Transaktion sollte Null sein.  Jede Übertragungsoperation aus dem obigen Beispiel wird durch ihren Eintrag in der Tabelle JOURNAL dargestellt </p><br><p>  Der Eintrag in die BATCH-Tabelle dient der bequemen Dateneingabe.  Es wird verwendet, um JOURNAL-Datensätze in bequemen Paketen zu gruppieren, z. B. eine Reihe von Überprüfungen für die Eingabe in das System, eine Art globaler Geschäftsprozess, wie das gleichzeitige Erheben von Zinsen für alle Benutzer usw. </p><br><p>  In der Tabelle ACCOUNT werden Daten zu den Eigentümern von Werten im System gespeichert. </p><br><p>  Die Tabelle ASSET TYPE enthält Informationen zu den im System verwendeten Wertetypen.  Indem Sie dem Primärschlüssel der Tabelle POSTING einen Wertetyp hinzufügen, können Sie ein System erstellen, das mehrere Wertetypen gleichzeitig verarbeitet (z. B. die Verarbeitung mehrerer Währungen). </p><br><p>  So könnte eine solche Datenbank für das obige Beispiel in der einfachsten Form aussehen: </p><br><p><img src="https://habrastorage.org/webt/lb/jg/gd/lbjggdyjidzxk9f-kcode7t-63m.png"></p><br><p>  Der Saldo der Spalte Betrag in der POSTING-Tabelle ist nach Abschluss einer Transaktion von JOURNAL immer Null (die Software sollte sicherstellen, dass keine Aufzeichnungen über unvollständige Transaktionen in der Datenbank vorhanden sind). </p><br><p>  Die Summe der Operationen für das Kassenbuchkonto ergibt -190, was der Summe der Salden von Smith und Pattel mit dem entgegengesetzten Vorzeichen entspricht. </p><br><p>  Um die Mehrwährungsoperation zu demonstrieren, wurde eine neue Art von Wert hinzugefügt.  Wenn Smith 20 Pfund in Dollar zum Kurs von 1 gegen 1,5 tauschen möchte, wird die Transaktion wie folgt über das Kassenbuch abgewickelt: </p><br><p><img src="https://habrastorage.org/webt/5n/ba/kj/5nbakjfpvja2lvyvujou-zkqjfo.png"></p><br><h3 id="raschetnye-periody">  Abrechnungszeiträume </h3><br><p>  Das Modell, das wir bekommen haben, sieht gut aus, aber in Wirklichkeit wird es unter hoher Last sehr schnell kaputt gehen, da wir nichts löschen können und gezwungen sind, die ständig steigende Anzahl von Datensätzen in POSTING zu wiederholen. </p><br><p>  Die meisten Buchhaltungssysteme haben das Konzept eines Abrechnungszeitraums - normalerweise ein Monat, drei Monate oder ein Jahr.  Ein derartiger Zeitraum legt geeignete Punkte für die Aufteilung des Datenstroms nahe.  In der Regel ist das Jahresende, der Kalender oder die Finanzlage ein geeigneter Punkt. </p><br><p>  Wir können der Tabelle POSTING und ihrem Primärschlüssel eine Spalte mit einem Punktkennzeichen hinzufügen, um die Daten in Gruppen zu unterteilen, die unabhängig voneinander verarbeitet werden können.  Wenn im obigen Beispiel einige der Datensätze auf einen neuen Abrechnungszeitraum fallen, werden die Kontensalden wie folgt vorgetragen. </p><br><p>  Zunächst würden die Salden der Vorperiode ausgeglichen. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/1b7/4e5/6a8/1b74e56a803a9de9b549c11e34d34dd7.png" alt="Bild"></p><br><p>  Und dann würden sie in eine neue Zeit versetzt </p><br><p><img src="https://habrastorage.org/webt/1w/fo/xv/1wfoxv4wlpwkibojtct8ybgz8bs.png"></p><br><p>  Nach einer bestimmten Zeit können alle Datensätze des Zeitraums JAHR 1 an das Archiv gesendet und aus dem System gelöscht werden, ohne dass die Integrität verloren geht. </p><br><h3 id="agregirovanie-tranzakciy">  Transaktionsaggregation </h3><br><p>  Einige Vorgänge im Abrechnungssystem können viele oder sogar alle Benutzer gleichzeitig betreffen.  Zum Beispiel Zinszahlungen an alle Benutzer in Form eines Teils ihres aktuellen Guthabens. </p><br><p>  Solche Vorgänge können als Teil einer einzelnen Transaktion in der Tabelle JOURNAL verarbeitet werden, und Sie können alle Vorgänge aus dem Kassenbuch in einem gemeinsamen Datensatz in der Tabelle POSTING zusammenfassen (anstatt für jedes Konto einen eigenen Vorgang zu erstellen).  Auf diese Weise können Sie alle oben genannten Abrechnungsregeln einhalten und gleichzeitig die Anzahl der Datensätze in der Datenbank halbieren.  Mit diesem Ansatz sieht das Ende des Jahres in der Datenbank folgendermaßen aus: </p><br><p><img src="https://habrastorage.org/webt/fy/ou/pe/fyoupeludonzc1ar2qdyvzlss0m.png"></p><br><h3 id="paketnaya-obrabotka">  Stapelverarbeitung </h3><br><p>  Die Stapelverarbeitung wird häufig verwendet, um die Dateneingabe in das Buchhaltungssystem zu vereinfachen. </p><br><p>  In der Vergangenheit hat die Scheckverarbeitung so funktioniert.  Der Buchhalter erhielt ein Paket mit zehn Schecks, die Nummer des Pakets und den Gesamtbetrag aller Schecks.  In der ersten Phase werden Schecks in Form von "nicht autorisierten" Einträgen in das System eingegeben.  In diesem Fall werden Menge und Gesamtmenge über die BATCH-Tabelle überprüft. Nur wenn sie mit dem korrekten Wert übereinstimmen, kann der Benutzer das Paket festschreiben.  Danach wird das Paket an einen anderen Mitarbeiter gesendet, der es auf Gültigkeit überprüft und dann "autorisiert", wenn alles korrekt eingegeben wurde. </p><br><p>  Dieser Vorgang wird als "Hersteller / Prüfer" bezeichnet und kann verwendet werden, um relevante Daten in das System einzugeben. </p><br><p>  In diesem Fall sind "nicht autorisierte" Datensätze in einer von der Hauptmenge der doppelten Datensätze in der POSTING-Tabelle getrennten Tabelle korrekt.  Sie können auch eine Reihe solcher Tabellen für verschiedene Geschäftsprozesse haben.  Beispielsweise muss der Buchhalter bei Schecks, mit denen Geld in das System eingegeben oder aus dem System entnommen wird, nur ein Konto prüfen.  Seit dem zweiten, Cash Book, sind solche Operationen immer implizit impliziert.  In diesem Fall kann in der Tabelle CHECK nur eine Spalte mit dem Konto verwaltet werden, während in der hypothetischen Tabelle FUND TRANSFER zwei Spalten benötigt werden: "Absender" und "Empfänger". </p><br><p>  Hier entsteht das grundsätzliche Missverständnis der Prinzipien der Doppelerfassung.  Die meisten Menschen im normalen Leben stoßen nur auf einfache Geschäftsbücher aus Papier.  Um beispielsweise in einem solchen Papierbuch die Finanzen eines bestimmten Interessenvereins zu erfassen, ist für jede Operation nur ein Eintrag erforderlich.  Es gibt jedoch immer noch einen impliziten Doppeleintrag, da es immer ein implizites Kassenbuchkonto gibt (in diesem Fall ist dies der Club), da alle Kassenflüsse immer entweder eingegeben werden (Zahlung von Gebühren durch Teilnehmer) oder dem System Geld entnehmen (Ausgaben) Club). </p><br><p>  Der zweite Grund für Missverständnisse ist, dass in persönlichen Kontoauszügen das auf dem Konto eingezahlte Geld als „Darlehen“ betrachtet wird, da eine Person im Wesentlichen Kredite an eine Bank vergibt, die ihr Geld erhält.  Wenn diese Person sein Hauptbuch geführt hätte, wäre dieser Eintrag als "Lastschrift" verbucht worden - da die Bank dieses Geld ihrem Kunden schuldet.  Dieses Geld wird dem "Zahlungssystem" des Nutzers entnommen und in das Bankensystem eingegeben. </p><br><h3 id="arhitektura-programmnoy-chasti">  Software-Architektur </h3><br><p>  Software, die ein solches Double-Entry-Accounting-System implementiert, wird am besten unter Verwendung von OOP und eines mehrstufigen Ansatzes entwickelt.  Die Ebenen sind wie folgt: </p><br><ol><li>  Externe Schnittstelle </li><li>  Geschäftslogik </li><li>  Arbeite mit einer DB </li></ol><br><p>  Natürlich hängt die Architektur des Systems davon ab, was genau dieses System tun soll. Wir können jedoch davon ausgehen, dass die folgenden Module enthalten sind: </p><br><p>  PostEntry: Ein Modul, das die Erstellung von Doppeleinträgen in der POSTING-Tabelle steuert.  Er ist verantwortlich für das Einfügen von Datensätzen, die Zuweisung von IDs und Zeitstempeln.  Das Modul kann keine Datensätze löschen oder ändern, und kein anderes Modul sollte diese Datensätze löschen oder ändern, mit Ausnahme des möglichen Löschens alter archivierter Datensätze für bereits irrelevante Abrechnungszeiträume.  Die POSTING-Tabelle sollte für alle anderen Module schreibgeschützt sein. </p><br><p>  MakeDeposit, MakeWithdrawal, MakeTransfer: Diese Module implementieren die grundlegende Geschäftslogik für Überweisungsvorgänge.  Sie verwenden das PostEntry-Modul, um ihre Ergebnisse in die Datenbank einzugeben. </p><br><p>  ChequeEntry und ChequeAuthorisation, ReceiveBACS ( <em>Hinweis: BACS ist ein Interbank-Zahlungssystem</em> ): Diese Module verbinden das System mit der Außenwelt und bieten eine <em>übergeordnete</em> Schnittstelle.  Sie werden die Business-Layer-Module verwenden, um ihre Funktionen auszuführen.  In diesem Fall können Sie die korrekte Verarbeitung unabhängig von der Dateneingabemethode gewährleisten, da sowohl ChequeEntry als auch ReceiveBACS dasselbe MakeDeposit verarbeiten </p><br><p>  Diese Methode zum Trennen von Schichten kann je nach Komplexität des Systems und der gewünschten Reinheit der Anwendung der Prinzipien des Objektdesigns mehr oder weniger angewendet werden.  Gleichzeitig kann es beispielsweise sinnvoll sein, dem Berichterstellungsmodul (z. B. TestTrialBalance) den direkten Zugriff auf die Datenbank von der Schnittstellenebene aus zu ermöglichen, anstatt Zwischenmodule auf Geschäfts- und Datenbankebene zu erstellen. </p><br><p><img src="https://habrastorage.org/webt/us/s7/yk/uss7ykm8aquutbkj2_jtjp8jrly.gif"></p><br><h3 id="probnyy-balans">  Probebilanz </h3><br><p>  "Trial Balance" - die Hauptmethode zur Überprüfung der Integrität des Rechnungsführungssystems.  Wenn alle Einträge nach den Doppeleintragsregeln in das System eingegeben wurden und keine Fehler aufgetreten sind, sollte die Summe aller Einträge Null sein.  Die Wahrscheinlichkeit, dass sich mehrere separate Fehler addieren und auf einer ungültigen Basis eine Gesamtzahl von Null ergeben, ist normalerweise so gering, dass sie vernachlässigt werden. </p><br><p>  Der beste Weg, dies zu überprüfen, ist eine gleichmäßige Bewegung von der oberen zur unteren Ebene.  Schecks sind in dieser Reihenfolge sinnvoll: </p><br><ol><li>  Die Summe aller Werte in der Spalte POSTING.Amount <br>  Wenn ein Fehler gefunden wird (der Wert ist nicht Null), dann: </li><li>  Die Summe aller POSTING.Amount-Werte, die jedoch für verschiedene Werttypen und Abrechnungszeiträume separat berechnet werden <br>  Zu diesem Zeitpunkt sollte klarer werden, in welchem ​​Teil des Systems ein Fehler aufgetreten ist. </li><li>  Einzelne Operationen in der Tabelle JOURNAL prüfen.  Da die Summe aller POSTING.Accounts in jeder Transaktion aus der JOURNAL-Tabelle ebenfalls Null ergeben sollte, können Sie die spezifische problematische Transaktion verfolgen. </li></ol><br><h3 id="tipy-zapisey-v-journal">  JOURNAL Beitragstypen </h3><br><p>  Die Tabelle JOURNAL enthält eine einfache Darstellung von Entitäten, die sich jedoch häufig als komplexer und in verschiedene Beziehungen verwickelt erweisen. </p><br><p>  Manchmal ist es sinnvoll, eine Tabelle in mehrere zu teilen.  Beispielsweise können bei MATERIALIZED und DEMATERIALIZED, die möglicherweise einen anderen Satz von Spalten haben, für Materialentitäten Daten zu ihrem aktuellen Standort erforderlich sein. </p><br><p>  In einer Tabelle können auch verschiedene Subtypen von Werten gespeichert werden, z. B. Währung oder Wertpapiere. Jeder Subtyp kann seine eigenen Eigenschaften und Attribute haben. </p><br><p>  Entitäten, die sowohl Unter- als auch Supertypen enthalten, können auf vier Arten in der Datenbank organisiert werden (dies ist für jede Datenbank eine ziemlich übliche Situation): </p><br><ol><li>  Eine gemeinsame große Tabelle mit vielen optionalen Spalten für Untertypattribute </li><li>  Separate Tabelle für jeden Untertyp mit Duplizierung aller gemeinsamen Spalten </li><li>  Trennen Sie Entitäten, damit der Supertyp in einer separaten Tabelle gespeichert und mit anderen Tabellen verknüpft wird, die nur untertypspezifische Spalten enthalten </li><li>  Wie in 3, jedoch mit Duplikation von Supertypspalten in Subtyp-Tabellen </li></ol><br><p>  Jede der vier Optionen hat ihre Vor- und Nachteile.  Aus Sicht der doppelten Eingabe ist es nützlich, eine gemeinsame Tabelle für POSTING-Einträge zu haben.  Option 1 eignet sich besser für ein einfaches Abrechnungssystem (wie in den Beispielen in diesem Artikel, in denen der einzige Unterschied in den Wertetypen durch die Spalte JOURNAL.Type bestimmt wird).  Option 3 ist wahrscheinlich besser für komplexe Systeme geeignet, die mit einem breiten Bereich sehr unterschiedlicher Werte arbeiten. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de480394/">https://habr.com/ru/post/de480394/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de480376/index.html">Von Computerspielen bis zu geheimen Nachrichten: Diskutieren Sie Ostereier in Vinyl-Veröffentlichungen</a></li>
<li><a href="../de480386/index.html">Auto-Backups von Netzwerkgeräten und deren Speicherung im Versionskontrollsystem</a></li>
<li><a href="../de480388/index.html">HACKTIVITY-Konferenz 2012. Die Urknalltheorie: Die Entwicklung des Pentesting für mehr Sicherheit. Teil 1</a></li>
<li><a href="../de480390/index.html">ONYX BOOX Livingstone - ein Leser eines beliebten Formats in ungewöhnlichem Design</a></li>
<li><a href="../de480392/index.html">HACKTIVITY-Konferenz 2012. Die Urknalltheorie: Die Entwicklung des Pentesting für mehr Sicherheit. Teil 2</a></li>
<li><a href="../de480396/index.html">Wir erstellen eine plattformübergreifende native Desktop-Anwendung auf Angular</a></li>
<li><a href="../de480398/index.html">9 sehr nützliche JavaScript-Tipps</a></li>
<li><a href="../de480400/index.html">Ist Kubernetes das neue Linux? Interview mit Pavel Selivanov</a></li>
<li><a href="../de480402/index.html">Wie haben Sie Tв̶ы̶й̶ die zweite Android-Mitap von Tinkoff</a></li>
<li><a href="../de480408/index.html">52 Datensatz für Trainingsprojekte</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>