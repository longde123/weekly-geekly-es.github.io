<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üÜì üçÜ ‚úåüèæ Enquanto eu voava pelo pa√≠s, implementando um projeto para v√°rios milhares de empregos üèûÔ∏è üßöüèΩ üôÖüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A maior cabe√ßa de Lenin no mundo. Pra√ßa do Conselho em Ulan-Ude 

 Quando voc√™ realiza um projeto de dois anos com geografia em todo o pa√≠s, espera pr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Enquanto eu voava pelo pa√≠s, implementando um projeto para v√°rios milhares de empregos</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/technoserv/blog/418979/"><img src="https://habrastorage.org/webt/jy/ed/ah/jyedahczdolywztub2clr-7oxbe.jpeg"><br>  <i>A maior cabe√ßa de Lenin no mundo.</i>  <i>Pra√ßa do Conselho em Ulan-Ude</i> <br><br>  Quando voc√™ realiza um projeto de dois anos com geografia em todo o pa√≠s, espera problemas de coordena√ß√£o, rela√ß√µes estranhas com contratados, carregadores com servidores em m√£os, portas n√£o representadas para a TK e muito mais.  A vida me preparou para isso: tudo isso est√° perfeitamente descrito na metodologia de treinamento de gerentes de projeto. <br><br>  Tudo n√£o foi em v√£o. <br><br>  Essas hist√≥rias s√£o muito boas para contar depois de alguns anos na sala de fumantes, mas n√£o para se encontrar em projetos. <br><a name="habracut"></a><br><h3>  O que tinha que ser feito </h3><br>  No outono de 2016, uma grande organiza√ß√£o finalmente decidiu mudar para o acesso √† VDI no local de trabalho.  O software do aplicativo mudou, mas os computadores n√£o.  Portanto, no futuro, tudo isso inevitavelmente come√ßaria a desacelerar.  Tendo estimado o custo da atualiza√ß√£o da frota de PCs, decidimos dar o pr√≥ximo passo imediatamente.  E foi para a VDI. <br><br>  Em 2017, conclu√≠mos 5 mil empregos em v√°rias regi√µes. <br><br>  A arquitetura da solu√ß√£o foi definida no momento da competi√ß√£o.  Ela √© a seguinte: <br><img src="https://habrastorage.org/webt/ka/oz/tp/kaoztp9l70oplisogovn9vu5yde.jpeg"><br><br>  Como voc√™ pode ver, existem 5 n√≥s de servidor (isto √©, posicionamento em data centers e sites separados), um para um grupo de regi√µes.  Entre eles, esses cinco sites s√£o conectados via VPN atrav√©s da rede corporativa da organiza√ß√£o (existe um certo n√≥ com servidores de banco de dados de produ√ß√£o no centro).  Na parte inferior do diagrama est√£o os tipos de trabalhos. <br><br>  Suave: <br><br><img src="https://habrastorage.org/webt/y7/ud/zi/y7udzitwyp667ezcuxh-v2h7-pw.jpeg"><br><br>  O n√∫cleo √© uma arquitetura hiperconvergente com o VSan, o VMWare √© um hipervisor at√© a vers√£o 7.  Onze servidores: 3 servidores de gerenciamento, 8 computadores, comutadores.  Fisicamente, este √© um rack: criptomoeda, rede de controle, controladores, vSAN, produ√ß√£o.  Cada rack pode acomodar at√© 5 mil usu√°rios.  Os planos para o pr√≥ximo ano incluem dobrar. <br><br>  A escolta remota est√° no contrato, mas voc√™ precisa andar com os p√©s: n√£o √© poss√≠vel coordenar v√°rias coisas com os guardas de seguran√ßa.  Temos cinco funcion√°rios que est√£o acompanhando o centro.  Al√©m disso, temos subcontratos em todas as regi√µes, substitua um peda√ßo de ferro.  As pe√ßas de reposi√ß√£o n√£o s√£o armazenadas, tudo √© duplicado.  Compramos de produtores de ferro no dia √∫til seguinte, as pe√ßas de reposi√ß√£o s√£o armazenadas pelos fornecedores. <br><br>  Do ponto de vista do usu√°rio, n√£o tocamos em nada nos locais de trabalho finais, exceto que colocamos outro √≠cone na √°rea de trabalho.  Eles est√£o conectados a ele.  Em algum momento, seus administradores decidir√£o que √© suficiente atualizar o software em discos locais e, quando os usu√°rios se acostumarem, deixar apenas esse √≠cone. <br><br><h3>  Iniciar </h3><br>  No in√≠cio do trabalho, sab√≠amos que as organiza√ß√µes s√£o muito caras para colocar suas pr√≥prias √≥pticas (o que √© l√≥gico), ent√£o ela compra canais de fornecedores de backbone.  Na maioria dos casos, isso n√£o √© um problema, mas em Kamchatka, por exemplo, eles t√™m uma porta de sat√©lite.  Isso cria certas surpresas para o VDI.  Avan√ßando um pouco - o projeto ainda n√£o foi distribu√≠do por l√°, mas em v√°rias cidades temos canais muito estreitos. <br><br>  No que diz respeito ao trabalho com o aplicativo, os usu√°rios s√£o bastante exigentes para a faixa - h√° telas est√°ticas e apenas o cursor se move.  No entanto, eles costumam enviar digitaliza√ß√µes de documentos, por exemplo, passaportes para um perfil de cliente.  Isso cria uma carga adicional no canal. <br><br>  Os tr√™s sites base s√£o seus pr√≥prios n√≥s de servidor em seus pr√≥prios escrit√≥rios no centro da cidade.  Dois outros s√£o data centers externos, onde s√£o feitas cercas para esta empresa. <br><br><h3>  Dificuldades t√≠picas </h3><br>  A primeira etapa √© um exame.  Voc√™ dirige ao longo dos pontos e olha com os olhos onde isso ficar√°.  Voc√™ quer saber como e o qu√™: voc√™ se comunica com especialistas locais de TI, verifica as regras de trabalho nos sites, v√™ onde colocar as caixas, quem pegar√° algo no 4¬∫ andar, se s√£o necess√°rias mudan√ßas, como acontece com os passes.  Viajamos juntos: eu, gerente geral da organiza√ß√£o e o arquiteto (ele tamb√©m √© o diretor t√©cnico do projeto).  Em algum lugar, foram necess√°rios roteadores adicionais.  Em dois sites, n√£o havia fornecedores necess√°rios, o cliente foi negociar com eles para esticar o link l√°. <br><br>  Foi necess√°rio resolver o problema acima com o carregamento do canal com varreduras.  Aqui est√° o que acontece: todo o fluxo do scanner √© enviado para o n√≥ do servidor e o processamento j√° est√° ocorrendo l√°.  De fato, era necess√°rio fazer o pr√©-processamento nas sub-redes finais antes de sair da rede corporativa.  Existem regulamentos para digitaliza√ß√£o para que o documento seja distingu√≠vel.  Existem ferramentas da VMware - contratamos seus especialistas para otimiza√ß√µes, testes e acelera√ß√£o.  Eles shamanizaram, criaram predefini√ß√µes e emitiram um veredicto: para fazer mais r√°pido do que o esperado, voc√™ s√≥ pode expandir os canais. <br><br>  O mesmo trabalho foi impresso. <br><br>  Houve problemas com os drivers de modelos antigos de dispositivos multifuncionais.  Cada imagem de tipo foi criada junto com pessoas da regi√£o.  Cada regi√£o foi acompanhada por sua pr√≥pria equipe.  N√≥s demos uma imagem de teste, eles encheram de lenha, software, testaram se tudo funcionava e depois foram para a piscina de batalha.  Para cada uma das regi√µes, uma imagem b√°sica foi criada para os locais de trabalho.  Eles diferem em um conjunto de drivers para scanners de impressora e um pouco de software.  Usu√°rios de uma regi√£o trabalham com uma imagem.  Uma pessoa se conecta a partir dessa m√°quina virtual e acessa seus aplicativos.  Os usu√°rios n√£o v√£o para regi√µes "estrangeiras". <br><br>  As principais dificuldades que surgiram ao configurar o VDI.  Os guardas de seguran√ßa n√£o quiseram concordar com a conex√£o por muito tempo e persistentemente.  O motivo √© simples: a atual estrutura regulat√≥ria para contabilizar assinaturas fica atr√°s da realidade.  Tivemos que esclarecer, refazer e coordenar processos de neg√≥cios.  Ou seja, pegamos e come√ßamos a escrever seus pr√≥prios regulamentos de trabalho. <br><br>  Depois de examinar e compilar as imagens, voc√™ s√≥ precisava montar e organizar o equipamento.  Sab√≠amos que as surpresas nos aguardavam. <br><br><h3>  Problemas at√≠picos </h3><br>  Ent√£o, a capital de uma das regi√µes da Sib√©ria ... aqui √© o data center, aqui √© o seu lugar teimoso.  Tudo est√° pronto, exceto que n√£o h√° energia dentro da cerca.  As pessoas respons√°veis ‚Äã‚Äãpelo datacenter garantiram que, para fazer um soquete dentro da cerca, voc√™ deve desligar todo o datacenter.  √â necess√°rio coordenar com o imposto e outros camaradas, para que neste dia n√£o haja sal√°rios, impostos e nada cr√≠tico.  √â melhor fazer isso em seis meses. <br><br>  Come√ßamos a planejar.  Ao longo do caminho, eles encontraram o contratado que construiu esse data center.  Em geral, √© muito estranho para mim que eles n√£o usassem os pontos de energia imediatamente, custa-se at√© 5 mil rublos com m√°quinas autom√°ticas.  A sala est√° bem, tudo est√° na Schneider.  Acontece que os soquetes tecnol√≥gicos da APC s√£o entregues sob encomenda, porque poucas pessoas precisam deles.  O tempo de encomenda √© de 11 a 14 semanas.  Eles n√£o est√£o em nenhum lugar.  Mas n√≥s, como naquela piada, fomos salvos por invas√µes russas: em algum momento, o empreiteiro atendeu e lembrou-se de que eles tinham uma desaparecida nas caixas.  E n√£o havia necessidade de desconectar o data center.  Este ano, estamos expandindo novamente, novamente n√£o haver√° soquetes - o cliente prometeu tomar uma decis√£o, permanecer no local ou alter√°-lo duas semanas antes do lan√ßamento do equipamento. <br><br>  E aqui est√° o que aconteceu na cidade com uma popula√ß√£o de mais de um milh√£o - um data center industrial, posicionando-se como muito legal.  Geralmente n√£o havia lugar para jogar fora o lixo no ano passado.  A caixa do servidor permanece - tire voc√™ mesmo.  E voc√™ est√° em uma viagem de neg√≥cios.  Voc√™ pede um recipiente, retira-o.  Bem, pelo menos n√≥s, ensinados por experi√™ncia amarga, temos dinheiro adiantado em caso de emerg√™ncia.  No local, tudo acaba sendo feito rapidamente, mas depois, com a contabilidade, o fechamento de todos esses custos √© uma aventura inteira.  Tente justificar o pedido de remo√ß√£o do caminh√£o de lixo nas despesas de viagem.  Antes disso, havia um problema h√° alguns anos: foram encomendadas plataformas a√©reas para manuten√ß√£o de aparelhos de ar condicionado.  O mesmo problema. <br><br>  Partidas √† noite.  √Äs 4 da manh√£, hor√°rio de Moscou, um voo de partida para o pa√≠s √†s 8 da manh√£ chegou e, imediatamente, voc√™ foi a uma reuni√£o e encontrou um cliente.  De l√° para o objeto.  E assim o segundo dia √∫til passou logo ap√≥s o primeiro.  E vamos ver, mas vamos l√° - voc√™ meio que n√£o pode recusar.  Voc√™ precisa planejar um dia extra sempre com esses voos. <br><br>  Os moscovitas que v√™m at√© voc√™ para organizar tudo s√£o duplos.  Por um lado, eles n√£o confiam plenamente, porque s√£o estranhos.  Por outro lado, eles querem ajudar muito ativamente, porque sabem que o trabalho est√° acontecendo em diferentes regi√µes.  Portanto, tudo o que pode ser decidido no local √© decidido.  E ainda tentando mostrar a cidade.  Enquanto voc√™ n√£o conhece ningu√©m - uma atitude cautelosa e benevolente.  Ainda assim, para eles, esses projetos s√£o uma pequena celebra√ß√£o, porque as pessoas de TI podem pedir algo no centro federal.  Todas as compras deles s√£o centralizadas: eles escrevem uma justificativa para o centro e l√° eles compram.  No nosso projeto, todas as justificativas "tornam a Internet mais ampla e mais espessa", "aumentam a sala do servidor" e assim por diante. <br><br><img src="https://habrastorage.org/webt/mo/xm/ho/moxmhogz6d5v4p-5zs2cpsxtk8k.jpeg"><br><br>  Havia muito trabalho de comunica√ß√£o entre seus departamentos.  Por parte do cliente, muitos departamentos e departamentos participaram do projeto, todos eles s√£o independentes.  Cada um dos departamentos relacionados funcionar√° apenas de acordo com ordens internas, apesar de todo esse projeto piloto.  Voc√™ deve, apesar do fato de que eles n√£o se comunicam ou se comunicam mal - comunique-se com todos, se familiarize, se preocupe, escreva.  Como resultado, verifica-se que eles est√£o envolvidos na organiza√ß√£o interna de seu trabalho.  Em algumas cidades, escrevemos cartas para eles, que eles j√° enviaram para outras pessoas dentro da organiza√ß√£o. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt418979/">https://habr.com/ru/post/pt418979/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt418969/index.html">Como est√£o os √∫ltimos dias da corrida em US $ 1 trilh√£o? (UPD.: Apple venceu)</a></li>
<li><a href="../pt418971/index.html">Os mapas de radia√ß√£o de J√∫piter s√£o a chave para novas explora√ß√µes na Europa</a></li>
<li><a href="../pt418973/index.html">Conhe√ßa DevOpsConf Russia</a></li>
<li><a href="../pt418975/index.html">Como medir o sucesso. Estrat√©gias de monitoramento e sua rela√ß√£o com problemas de neg√≥cios</a></li>
<li><a href="../pt418977/index.html">Confiabilidade no World of Tanks Server</a></li>
<li><a href="../pt418981/index.html">M√©todos num√©ricos para resolver equa√ß√µes el√≠pticas</a></li>
<li><a href="../pt418985/index.html">An√°lise e design como um todo</a></li>
<li><a href="../pt418987/index.html">O Firefox ignora facilmente a prote√ß√£o na nova interface do Gmail</a></li>
<li><a href="../pt418991/index.html">O microfilme existir√° por meio mil√™nio</a></li>
<li><a href="../pt418995/index.html">Por que rasguei um CD 300 vezes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>