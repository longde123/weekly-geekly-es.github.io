<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐦 👨🏿 ☝️ Webpack 4 dan pisahkan file konfigurasi menjadi modul 👎🏻 🙏🏿 👋🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo, Habr! Hari ini saya akan memberi tahu Anda tentang Webpack 4 dengan pemisahan kode menjadi modul terpisah, serta solusi menarik yang akan memban...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Webpack 4 dan pisahkan file konfigurasi menjadi modul</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/422697/">  Halo, Habr!  Hari ini saya akan memberi tahu Anda tentang Webpack 4 dengan pemisahan kode menjadi modul terpisah, serta solusi menarik yang akan membantu Anda membangun rakitan webpack 4 Anda lebih cepat. Pada akhirnya, saya akan memberikan rakitan webpack dasar saya dengan alat yang paling diperlukan, yang nantinya bisa Anda dapat untuk memperluas.  Majelis ini akan membantu Anda memahami materi ini, dan mungkin juga membantu Anda menulis implementasi Anda lebih cepat dan menyelesaikan masalah yang mungkin terjadi dengan lebih cepat. <a name="habracut"></a><br><br>  Ideologi utama majelis ini adalah pemisahan kode yang benar di dalam file konfigurasi untuk kenyamanan penggunaan, pembacaan, dan kebersihan webpack.config.js.  Modul dan plugin yang diperlukan untuk versi dev dan prod (serta untuk memisahkan fungsi dalam file utama) akan ditempatkan di folder webpack terpisah dan diimpor darinya untuk terhubung ke konfigurasi utama. <br><br><h2>  Mengapa pendekatan ini diperlukan? </h2><br>  Dengan peningkatan bertahap dalam jumlah modul, plug-in, dll., Yang dibangun oleh rakitan Anda di webpack, file konfigurasi tumbuh dengan pesat.  Seiring waktu, file ini menjadi sulit dibaca, dan mengubahnya menjadi proyek tertentu, jika beberapa modul tidak digunakan di dalamnya, itu menjadi lebih sulit, tetapi Anda menginginkan sesuatu yang universal.  Oleh karena itu, diperlukan pengaturan kode yang jelas. <br><br><h3>  Apa yang kita butuhkan </h3><br>  Kami akan menggunakan plugin <i>webpack-merge</i> . <br><br>  Kami membuat folder webpack dan mengambil semua modul menjadi file terpisah.  Misalnya, webpack / pug.js, webpack / scss.js dan ekspor fungsi-fungsi ini dari mereka. <br><br>  <b>File Pug.js</b> <br><br><pre><code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">module</span></span>: { <span class="hljs-attr"><span class="hljs-attr">rules</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.pug$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'pug-loader'</span></span>, <span class="hljs-attr"><span class="hljs-attr">options</span></span>: { <span class="hljs-attr"><span class="hljs-attr">pretty</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, }, }, ], }, }; };</code> </pre> <br>  <b>File webpack.config.js</b> .  Dalam file ini kami menghubungkan mereka, dan dengan bantuan plugin ini kami terhubung dengan mudah dan cepat. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> merge = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'webpack-merge'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pug = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./webpack/pug'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> common = merge([ { <span class="hljs-attr"><span class="hljs-attr">entry</span></span>: { <span class="hljs-string"><span class="hljs-string">'index'</span></span>: PATHS.source + <span class="hljs-string"><span class="hljs-string">'/pages/index/index.js'</span></span>, <span class="hljs-string"><span class="hljs-string">'blog'</span></span>: PATHS.source + <span class="hljs-string"><span class="hljs-string">'/pages/blog/blog.js'</span></span>, }, <span class="hljs-attr"><span class="hljs-attr">output</span></span>: { <span class="hljs-attr"><span class="hljs-attr">path</span></span>: PATHS.build, <span class="hljs-attr"><span class="hljs-attr">filename</span></span>: <span class="hljs-string"><span class="hljs-string">'./js/[name].js'</span></span>, }, <span class="hljs-attr"><span class="hljs-attr">plugins</span></span>: […], <span class="hljs-attr"><span class="hljs-attr">optimization</span></span>: { … }, }, pug(), ]);</code> </pre><br>  Sekarang, jika kita memiliki tugas baru, di mana kita memerlukan modul baru, plug-in, loader, maka kita membawanya ke modul hotel (file) dan meletakkannya di folder webpack, dan kemudian menghubungkannya ke file konfigurasi utama, menjaga konfigurasi sebersih mungkin. <br><br><h3>  Pengaturan untuk produksi dan pengembangan </h3><br>  Sekarang, dengan bantuan dangkal jika, kami akan menyelesaikan pemisahan kami, yang kami tuju, dan mengkonfigurasi paket web kami untuk dua jenis pengembangan ini, sehingga akhirnya nyaman untuk menggunakan alat ini, dan juga di masa depan kami akan dapat secara fleksibel dan hanya mengkonfigurasinya untuk proyek lain, atau memperluas yang saat ini.  Untuk mengekspor ke simpul (untuk webpack itu sendiri) di webpack 4, kami menggunakan konstruksi berikut: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">env, argv</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (argv.mode === <span class="hljs-string"><span class="hljs-string">'production'</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> merge([ common, extractCSS(), favicon(), ]); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (argv.mode === <span class="hljs-string"><span class="hljs-string">'development'</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> merge([ common, devserver(), sass(), css(), sourceMap(), ]); }</code> </pre><br>  Dalam objek umum, kami menghubungkan apa yang digunakan baik dalam prod dan dalam pengembangan, dan dalam kondisi kami hanya menghubungkan modul-modul yang diperlukan dalam kasus ini. <br><br><h3>  Sekarang saya ingin berbicara tentang fitur utama webpack 4 tentang webpack 3 </h3><br><ul><li>  Untuk memulai lebih cepat, webpack 4 tidak memerlukan webpack.config.js, sekarang hanya membutuhkan titik masuk (index.js) </li><li>  Dalam versi baru, antarmuka baris perintah webpack berada dalam paket terpisah dan Anda perlu menginstal webpack-cli. </li><li>  Untuk menjalankan webpack 4, Anda perlu (jika tidak akan menjadi peringatan) dalam mode tentukan skrip (mode operasi) - mode produksi atau - pengembangan mode, tergantung pada tombol, operasi perubahan webpack.  Mode pengembangan bertujuan untuk mempercepat pembangunan.  Dalam versi produksi, semuanya ditujukan pada minifikasi kode yang terakhir. </li><li>  Untuk membuat file common.js dan common.css, CommonsChunkPlugin tidak lagi digunakan, splitChunks sekarang bertanggung jawab untuk ini dan konstruksi berikut digunakan: <br><br><pre> <code class="javascript hljs"> optimization: { <span class="hljs-attr"><span class="hljs-attr">splitChunks</span></span>: { <span class="hljs-attr"><span class="hljs-attr">cacheGroups</span></span>: { <span class="hljs-string"><span class="hljs-string">'common'</span></span>: { <span class="hljs-attr"><span class="hljs-attr">minChunks</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">chunks</span></span>: <span class="hljs-string"><span class="hljs-string">'all'</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'common'</span></span>, <span class="hljs-attr"><span class="hljs-attr">priority</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-attr"><span class="hljs-attr">enforce</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, }, }, }, },</code> </pre><br>  Di webpack 3 - ini akan terjadi pada plugin: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> webpack.optimize.CommonsChunkPlugin({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'common '</span></span>, })</code> </pre> <br>  Dengan demikian, dalam potongan di HtmlWebpackPlugin kita terhubung (di sini tanpa perubahan). <br><br><pre> <code class="javascript hljs">plugins: [ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HtmlWebpackPlugin({ <span class="hljs-attr"><span class="hljs-attr">filename</span></span>: <span class="hljs-string"><span class="hljs-string">'index.html'</span></span>, <span class="hljs-attr"><span class="hljs-attr">chunks</span></span>: [<span class="hljs-string"><span class="hljs-string">'index'</span></span>, <span class="hljs-string"><span class="hljs-string">'common'</span></span>], <span class="hljs-attr"><span class="hljs-attr">template</span></span>: PATHS.source + <span class="hljs-string"><span class="hljs-string">'/pages/index/index.pug'</span></span>, }), ],</code> </pre><br></li><li>  Poin penting berikutnya, untuk membuat sourceMap, kami sekarang menggunakan pendekatan berikut - membuat file sourceMap.js di folder webpack dan menghubungkannya dalam versi dev misalnya (seperti yang disebutkan di atas): <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">devtool</span></span>: <span class="hljs-string"><span class="hljs-string">'eval-sourcemap'</span></span>, }; };</code> </pre></li></ul><br>  Sekarang pendekatan <i>plugin: [new webpack.optimize.UglifyJsPlugin ({})]</i> tidak berfungsi. <br><br>  Dengan ini, saya ingin menyelesaikan cerita saya dan memberikan perakitan dasar saya - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tautan</a> ke webpack 4, yang mungkin akan membantu Anda dalam pekerjaan dan pengembangan Anda.  Terima kasih atas perhatian anda! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id422697/">https://habr.com/ru/post/id422697/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id422685/index.html">Jam pintar Samsung Galaxy Watch: tingkatkan dari Android Wear OS ke Tizen OS - pengalaman pribadi</a></li>
<li><a href="../id422687/index.html">Utusan dalam bahaya</a></li>
<li><a href="../id422689/index.html">Deteksi warna mobil menggunakan jaringan saraf dan TensorFlow</a></li>
<li><a href="../id422691/index.html">Kamera hybrid dan lidar meningkatkan kemampuan robomobiles, melengkapi informasi tentang dunia luar</a></li>
<li><a href="../id422693/index.html">Tim plugin untuk mengonfigurasi komponen JavaFX dalam aplikasi desktop</a></li>
<li><a href="../id422699/index.html">Celah tertutup mengonfirmasi tidak realistisnya dunia kuantum</a></li>
<li><a href="../id422701/index.html">Pembelajaran yang mendalam dan OpenVINO Toolkit. Ajukan pertanyaan kepada pakar Intel</a></li>
<li><a href="../id422705/index.html">Buku tentang "Paragraf" tentang Habré. Bab baru adalah tentang pemrogram kooperatif: Beta</a></li>
<li><a href="../id422709/index.html">Para ilmuwan telah menemukan bagian otak manusia yang bertanggung jawab atas nada bicara kita</a></li>
<li><a href="../id422711/index.html">Bacaan Akhir Pekan: Sumber Daya Infrastruktur Awan dan IT</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>