<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëµ ‚úåüèø üêã Compteur de puissance bricolage maison Compteur de puissance bricolage üîÅ üíá üçî</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="J'adore le cyclisme depuis longtemps, mais l'ann√©e derni√®re, je me suis int√©ress√© non seulement au ski en tant que tel, mais aussi √† l'am√©lioration de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Compteur de puissance bricolage maison Compteur de puissance bricolage</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/389409/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'adore le cyclisme depuis longtemps, mais l'ann√©e derni√®re, je me suis int√©ress√© non seulement au ski en tant que tel, mais aussi √† l'am√©lioration de mes r√©sultats, en termes sportifs. √âtudier toutes sortes de m√©thodes, de plans de formation et d'aides, presque chaque fois que cela se r√©sumait √† la n√©cessit√© (ou du moins √† de grands avantages) de former un appareil comme le Power Meter. </font></font><br>
<br>
<img src="https://habrastorage.org/files/aa5/5d7/cc7/aa55d7cc729141869b5d341b7fd68cac.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et j'ai d√©cid√© de r√©cup√©rer √ßa ...</font></font></i><br>
<a name="habracut"></a><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä quoi sert un compteur puissant?</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Cet appareil mesure la puissance que vous appliquez aux p√©dales. Conna√Ætre la puissance aide beaucoup √† l'entra√Ænement: vous pouvez suivre vos progr√®s au fil du temps, cela vous permet de comprendre avec pr√©cision les efforts que vous faites en roulant - et conduisez-vous maintenant si lentement parce que vous n'avez pas bien dormi ou la route monte-t-elle vraiment? Et donne de nombreuses autres fonctionnalit√©s utiles. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi fabriquer soi-m√™me un compteur puissant au lieu d'acheter?</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
1 - le prix des √©chantillons existants est juste </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">monstrueux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , les √©chantillons les moins chers co√ªtent 600 dollars am√©ricains (et en moyenne environ 1000), sans compter la livraison, le d√©douanement et une unit√© principale (un √©cran / ordinateur qui affiche les donn√©es, qui co√ªtera au moins 100 $ )</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2 - parce que je suis int√©ress√© √† concevoir quelque chose et √† regarder comment cela fonctionne :) </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Donc,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nous allons </font><b><font style="vertical-align: inherit;">commencer </font></b></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le principe de fonctionnement</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Il existe de nombreuses options pour mesurer la puissance, j'ai choisi l'une d'entre elles: mesurer le coude de la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bielle √†</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> partir de la pression du pied sur la p√©dale. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Base mat√©rielle que</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
je recherche depuis longtemps, quel type d'√©l√©ment sensible est disponible et peut √™tre utilis√© dans un tel appareil? Diverses options ont √©t√© envisag√©es - capteurs optiques, capteurs pi√©zo√©lectriques, mesure de la fr√©quence du son transmis, mais sont parvenus √† la conclusion qu'il serait plus facile d'utiliser un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">capteur de charge de pont</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Ayant commenc√© √† chercher o√π il peut √™tre achet√©, je suis arriv√© √† la conclusion d√©cevante que c'√©tait cher ou command√© en Chine et j'ai attendu de deux semaines √† deux mois. Mais en grimpant sur un babillard local, j'ai trouv√© une proposition de vente de balances avec une pr√©cision de 0,01 gramme et pas du tout ch√®re. Je n'√©tais pas encore s√ªr qu'un tel capteur soit dans la balance, mais je l'ai quand m√™me command√©. </font></font><br>
<br>
<img src="https://habrastorage.org/files/53a/e7c/166/53ae7c1664174331ac4b631b3add0c01.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ce fut tr√®s</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
malheureux de les </font><i><font style="vertical-align: inherit;">d√©monter, bien qu'ils soient peu co√ªteux.</font></i><font style="vertical-align: inherit;"> Apr√®s avoir ouvert la balance, je les ai charg√©s exactement ce que je cherchais, un capteur de charge de pont! </font></font><br>
<br>
<img src="https://habrastorage.org/files/5c5/838/83a/5c583883a0ee4dd895123f2d93da145d.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une courte exp√©rience a √©t√© men√©e, √† l'aide de laquelle j'ai d√©couvert si un tel capteur pouvait mesurer le coude de la bielle. </font></font><br>
<br>
<img src="https://habrastorage.org/files/65f/974/954/65f9749541e94b568b5c0be8ea0c42f6.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fonctionne vraiment!</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
√âtant donn√© que dans la balance, tous les composants √©lectroniques se trouvaient sous une ¬´goutte¬ª, l'ensemble du kit de carrosserie √©lectronique a d√ª √™tre fouill√© et fait par vous-m√™me.</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La liste des pi√®ces que j'ai s√©lectionn√©es</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1 - l'amplificateur du capteur de poids HX711 - un capteur de pont y est connect√©, √† la sortie nous obtenons une certaine valeur, d√©j√† sous forme num√©rique, pratique pour le traitement </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2 - le capteur de cadence - commutateur √† lames, - est n√©cessaire pour mesurer la vitesse des p√©dales, donc combien il est facile de mesurer la force appliqu√©e aux p√©dales ne suffit pas pour mesurer la puissance, vous devez conna√Ætre la vitesse de rotation </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3 - √©metteur, module Bluetooth HC-05, pour transf√©rer des donn√©es vers un ordinateur ou un t√©l√©phone </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4 - Contr√¥leur Arduino nano - le cerveau de l'appareil traite les donn√©es re√ßues de l'amplificateur et </font><font style="vertical-align: inherit;">erkona donn√©es est envoy√© √† l'√©metteur</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5 - alimentation - puisque tous les modules n√©cessitent une alimentation 5V, nous avons besoin d'une source d'alimentation et d'un convertisseur, la source a d√©cid√© de prendre le compartiment de la batterie de la balance dont la cage de charge a √©t√© retir√©e </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s avoir tout rassembl√©, j'ai obtenu l'image suivante </font></font><br>
<img src="https://habrastorage.org/files/567/558/053/567558053cf84e55baf3a2b5898c6df3.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nda, et comment tout mettre sur la p√©dale ?</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
J'ai d√ª tout ranger dans le bo√Ætier avec les m√™mes poids, cela a √† peine fonctionn√©. Je suis loin de c√¢bler et de graver des cartes, donc je viens de souder des fils aux jambes des microcircuits. Si vous cr√©ez une carte s√©par√©e et y installez des composants smd, vous obtiendrez bien s√ªr beaucoup moins.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout a √©t√© assembl√© et, √©tonnamment, le mat√©riel a fonctionn√© la premi√®re fois. J'ai enroul√© un bloc avec des microcircuits sur la bielle avec du ruban √©lectrique et le capteur de charge l'a coll√© √† la bielle avec de la colle chaude (comme il s'est av√©r√© plus tard, ce n'est pas une bonne id√©e, le capteur est si pr√©cis qu'il mesure les mouvements les plus faciles et la colle a de la fluidit√©, ce qui a provoqu√© une d√©rive du signal) </font></font><br>
<br>
<img src="https://habrastorage.org/files/389/4a5/1b4/3894a51b4ebc4825827920e0167c98b5.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. moche, mais n'interf√®re pas avec la balade. </font></font></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Calibrage</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Le module capteur de poids ne transmet pas de grammes ou de kilogrammes, mais certains perroquets qui doivent √™tre r√©gl√©s en fonction de la charge. Cela a √©t√© fait √† l'aide d'outils simples. </font></font><br>
<br>
<img src="https://habrastorage.org/files/2e9/2fd/2a0/2e92fd2a01af4778848aeba4c9b1f150.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nanocalibrateur.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Les donn√©es de charge ont √©t√© imm√©diatement transf√©r√©es vers l'ordinateur, √† l'aide de laquelle j'ai trouv√© la correspondance du signal et l'effort appliqu√©:</font></font><br>
<img src="https://habrastorage.org/files/73a/e54/bfe/73ae54bfe7b647fd90e692b5fe85e8af.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La non-lin√©arit√© du signal r√©sulte du fait que la bielle non seulement se plie sous charge, mais aussi se tord.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Un utilitaire simple a √©t√© √©crit qui re√ßoit les donn√©es via Bluetooth et les affiche sur l'√©cran en temps r√©el. Encore une fois, dans un style sans pr√©tention :) </font></font><br>
<br>
<img src="https://habrastorage.org/files/2b9/406/627/2b94066271be42e68e98e727ce6e50b5.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et c'est exactement l'interface de l'iPhone 7?</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Alors que voit-on sur l'interface? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les gros chiffres sur le dessus sont la puissance, d'un c√¥t√© (rappelez-vous, nous n'avons que le capteur sur la bielle gauche?), Donc pour la pleine puissance, vous devez multiplier par 2. Par ailleurs, la formule de puissance est: N = moment * vitesse angulaire, elle est consid√©r√©e dans le programme. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
kad - cadence </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
kilos - pression sur la p√©dale, en kilogrammes</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le graphique montre comment la pression sur la p√©dale a √©t√© r√©partie dans le temps, les barres verticales indiquent le moment o√π l'interrupteur √† lames passe l'aimant, il est n√©cessaire de mesurer la cadence. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le graphique circulaire montre comment la charge a √©t√© r√©partie dans un cercle de p√©dalage - le secteur rouge est la pression sur la p√©dale, le secteur vert, puis lorsque la p√©dale monte, et nous nous appuyons sur elle avec notre pied (charge parasite) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour tout ensemble, y compris un fer √† souder, le budget √©tait de 30 $. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tr√®s probablement, les prix des fabricants c√©l√®bres sont si √©lev√©s en raison du manque de demande, √† mon avis, pour le monde entier, le march√© annuel des param√®tres n'est que d'environ 100 000 unit√©s pour tous les fabricants combin√©s.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mon appareil a montr√© son fonctionnement, retir√© du v√©lo et report√© √† des moments meilleurs o√π je peux s√©parer la carte normalement pour r√©duire sa taille et d'autres probl√®mes d'interface :) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Merci de votre attention! </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Code pour Arduino </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Code pour le studio</font></font></a></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr389409/">https://habr.com/ru/post/fr389409/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr389391/index.html">L'essentiel des voitures autonomes au CES 2016</a></li>
<li><a href="../fr389393/index.html">Infographie sur l'√©volution des paiements mobiles.</a></li>
<li><a href="../fr389397/index.html">Richard Branson a rappel√© que son vaisseau spatial volera √©galement dans l'espace</a></li>
<li><a href="../fr389399/index.html">Le graph√®ne a fait un pochoir pour les appareils √©lectroniques √† l'√©chelle nanom√©trique</a></li>
<li><a href="../fr389405/index.html">Allez nager: pr√®s de la Nouvelle-Z√©lande a trouv√© un poisson avec des pattes</a></li>
<li><a href="../fr389411/index.html">Nos petites joies ou comment se faire plaisir sur un budget le 23 f√©vrier?</a></li>
<li><a href="../fr389413/index.html">Expert vs Mikronik: un autre concepteur √©lectronique</a></li>
<li><a href="../fr389415/index.html">Faites-le vous-m√™me: jeu alcoolique "Sea battle"</a></li>
<li><a href="../fr389417/index.html">Tesla revendique le droit de vendre des voitures directement aux consommateurs devant la Federal Trade Commission des √âtats-Unis</a></li>
<li><a href="../fr389419/index.html">L'√©change de crypto-monnaie BTC-E est inclus dans le registre des sites interdits</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>