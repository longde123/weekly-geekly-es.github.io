<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåõ üöÉ üë®üèæ‚ÄçüöÄ Prote√ß√£o de microchips contra engenharia reversa e entrada n√£o autorizada üì∏ üöπ üëó</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content=""CVAX - quando voc√™ rouba muito bem". 
 A inscri√ß√£o deixada pelos engenheiros americanos para colegas sovi√©ticos na topologia do microprocessador. 

 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Prote√ß√£o de microchips contra engenharia reversa e entrada n√£o autorizada</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436998/"><img src="https://habrastorage.org/webt/lq/k5/ot/lqk5ottwm15o2hf_96ekd_ubbvc.jpeg"><br>  <i>"CVAX - quando voc√™ rouba muito bem".</i> <br>  A inscri√ß√£o deixada pelos engenheiros americanos para colegas sovi√©ticos na topologia do microprocessador. <br><br>  A engenharia reversa de microchips √© uma dor de cabe√ßa para os fabricantes desde os primeiros anos de exist√™ncia da microeletr√¥nica.  Todos os eletr√¥nicos sovi√©ticos em um ponto foram constru√≠dos sobre ele, e agora eles est√£o fazendo o mesmo no Imp√©rio Celestial, e n√£o apenas nele, em uma escala muito maior.  De fato, a engenharia reversa √© absolutamente legal nos EUA, na Uni√£o Europ√©ia e em muitos outros lugares, com o objetivo (cito a lei americana) de "ensinar, analisar ou avaliar os conceitos ou t√©cnicas executadas no trabalho ou circuito da m√°scara". <br><br>  Os usos legais mais comuns para engenharia reversa s√£o os tribunais de patentes e licenciados.  A espionagem industrial tamb√©m √© comum, especialmente porque os circuitos el√©tricos (especialmente os anal√≥gicos) s√£o frequentemente propriedade intelectual essencial e raramente patenteados - apenas para evitar a divulga√ß√£o de propriedade intelectual e a participa√ß√£o em tribunais de patentes como acusador.  Obviamente, em uma situa√ß√£o em que voc√™ precisa proteger sua propriedade intelectual sem patentear, desenvolvedores e fabricantes est√£o tentando encontrar maneiras de impedir a c√≥pia de seus desenvolvimentos. <br><br>  Outra √°rea n√£o menos importante (ou ainda mais) importante para proteger os microchips da engenharia reversa √© garantir a seguran√ßa das informa√ß√µes armazenadas na mem√≥ria.  Essas informa√ß√µes podem ser tanto o firmware FPGA (que √©, novamente, a propriedade intelectual do desenvolvedor), como, por exemplo, um c√≥digo PIN de um cart√£o banc√°rio ou uma chave de criptografia para uma unidade flash segura.  Quanto mais informa√ß√µes valiosas confiarem no mundo √† nossa volta, mais importante ser√° proteger essas informa√ß√µes em todos os n√≠veis dos sistemas de processamento, e o n√≠vel de hardware n√£o ser√° exce√ß√£o. <a name="habracut"></a><br>  <i>Primeiras coisas primeiro: uma coisa importante a entender.</i>  <i>Falando sobre engenharia reversa e prote√ß√£o contra c√≥pia de dados, √© necess√°rio entender que n√£o existem m√©todos absolutamente est√°veis ‚Äã‚Äãde prote√ß√£o, e tudo o que √© real √© tornar o processo t√£o longo e / ou caro que se torne economicamente inconveniente.</i> <br><br>  Muitos anos atr√°s, o trabalho de um engenheiro reverso ou de um pirata microeletr√¥nico era muito mais f√°cil do que agora.  Veja, por exemplo, esta foto (gra√ßas ao <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">BarsMonster</a> por nossa inf√¢ncia feliz e boas fotos): com uma compreens√£o b√°sica da tecnologia, restaurar um circuito el√©trico a partir dele √© uma quest√£o de v√°rias horas. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d01/a4d/6fd/d01a4d6fd7df14256728a8e5d705932f.jpg" alt="imagem"><br>  <i>Figura 2. Um instant√¢neo da topologia do OPA134PA op-amp.</i>  <i>Fonte - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">zeptobars.com</a></i> <br><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">Aqui</a> , a prop√≥sito, h√° um exemplo de engenharia reversa do chip TL431 feito por Ken Shirriff a partir de fotografias do BarsMonster.</i>  <i>E <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> est√° a tradu√ß√£o para o russo.</i>  <i>O blog de Ken tem muitas coisas legais se voc√™ estiver interessado no t√≥pico de engenharia reversa amadora.</i> <br><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">E aqui</a> (com cuidado, tr√°fego!) H√° um relat√≥rio da engenharia reversa do chip Zilog Z80-CTC, feito em 1979, quase imediatamente ap√≥s o lan√ßamento do chip.</i>  <i>Agora, este √© um documento hist√≥rico √∫nico e, em seguida, foram informa√ß√µes de enorme valor comercial e obtidas (a julgar por v√°rias refer√™ncias a padr√µes militares), provavelmente no processo de certifica√ß√£o de um microcircuito para aplica√ß√µes especiais.</i> <br><br>  Mas vivemos em 2019, e n√£o em 1979, e agora reverter o esquema completo de um microprocessador Intel novo √© uma quest√£o de muitos meses ou anos, mesmo com um bom n√≠vel de automa√ß√£o do processo (sem mencionar o fato de mesmo remover a topologia com os padr√µes de design em uma resolu√ß√£o aceit√°vel 14 -10-7 nm √© uma tarefa muito dif√≠cil).  O que √© a Intel?  Compare a quantidade de trabalho em engenharia reversa ou an√°lise do amplificador da imagem acima e do processador Baikal-T1, realizado de acordo com o processo de fabrica√ß√£o de 28 nm muito popular e relativamente acess√≠vel.  A engenharia reversa total de produtos t√£o grandes √© extremamente rara, geralmente √© interessante observar alguns blocos espec√≠ficos e relativamente pequenos.  Por exemplo, para descobrir se eles violam sua patente ou comparar sua decis√£o com os produtos dos concorrentes e tentar entender por que √© melhor ou pior.  Ou, para descobrir, os pr√≥prios desenvolvedores de chips implementaram essa ou aquela funcionalidade ou pegaram emprestado seu bloco de IP. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5f6/458/d69/5f6458d690f8215e33e60d356d1f2482.jpg" alt="imagem"><br>  <i>Figura 3. Um instant√¢neo da topologia do processador Baikal-T1.</i>  <i>Fonte - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">zeptobars.com</a></i> <br><br>  Aqui vamos para a pr√≥xima parte importante da hist√≥ria da engenharia reversa.  Nos tempos antigos, todo o chip era desenvolvido do come√ßo ao fim em uma empresa, √†s vezes at√© pelas for√ßas de uma equipe muito pequena ou por um solit√°rio brilhante como Bob Widlar.  Os microcircuitos modernos est√£o cheios de blocos de IP, cuja venda e compra √© um mercado enorme, que tamb√©m possui controle de direitos autorais, espionagem industrial e pirataria.  Portanto, √© poss√≠vel e necess√°rio analisar o problema da prote√ß√£o contra c√≥pias n√£o autorizadas, n√£o apenas do ponto de vista do desenvolvedor do produto final, mas tamb√©m do ponto de vista do desenvolvedor de IP, para quem o desenvolvedor do produto tamb√©m pode ser um pirata. <br><br>  No caso de hackers, a estrutura interna do invasor geralmente n√£o √© interessante para o recebimento de dados e a engenharia reversa parcial √© realizada (se houver) para encontrar vulnerabilidades e explorar essas vulnerabilidades, por meio de conex√£o direta ou usando outros m√©todos.  A tarefa do desenvolvedor contra hackers √© impedir o uso de pontos potencialmente fracos e, se necess√°rio, destruir dados confidenciais ao tentar invadir. <br><br><h4>  PESSOAS ATUAIS </h4><br>  Para come√ßar, vamos descobrir quem pode proteger o design do chip disso.  As seguintes entidades est√£o envolvidas na cadeia, da ideia √† aplica√ß√£o, tendo diferentes tipos de acesso a informa√ß√µes sobre o conte√∫do do microcircuito. <br><br><ol><li>  Desenvolvedor de bloco de IP.  Possui todas as informa√ß√µes, todos os arquivos necess√°rios, m√©todos de medi√ß√£o, etc.  etc. </li><li>  Desenvolvedor de chips.  No caso do Soft IP, o Verilog / VHDL possui um c√≥digo de bloco e, no caso do Hard IP, pode ter uma topologia ou uma caixa preta.  Se houver pe√ßas program√°veis ‚Äã‚Äãou de software na unidade, ela tamb√©m ter√° acesso a elas. </li><li>  F√°brica  Tem acesso aos arquivos de topologia GDSII, mas n√£o tem acesso √† parte do chip dependente de software (por exemplo, ao firmware PROM). </li><li>  Embalagem e teste de produ√ß√£o.  Ele tem acesso ao chip, al√©m de testar m√©todos e placas de firmware para mem√≥ria program√°vel √∫nica.  Raramente algu√©m os defende intencionalmente, mas eles devem estar na lista, porque alguns dos m√©todos adequados para a prote√ß√£o da f√°brica n√£o funcionam contra eles. </li><li>  Concorrente / cracker.  Ele tem acesso apenas ao produto final e √† documenta√ß√£o do usu√°rio. </li></ol><br>  No caso mais simples, o projetista de chips (2) deseja se proteger da c√≥pia por um concorrente (5) ou fabricar um chip com mem√≥ria protegida contra leitura n√£o autorizada.  Em um pouco mais complicado, o desenvolvedor de IP (1) deseja garantir que esteja em conformidade com o chip (2) do contrato de licen√ßa.  Tamb√©m acontece que o desenvolvedor do chip (2) n√£o confia na f√°brica (3) e suspeita que possa gerar falsifica√ß√µes no turno da noite. <br><br>  <i>Escrevi em detalhes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sobre o que √© IP em circuitos integrados</a> h√° algum tempo, ent√£o n√£o repetirei este artigo.</i>  <i>Tamb√©m h√° um pouco sobre como os desenvolvedores de IP protegem sua propriedade intelectual.</i>  <i>Em resumo, para proteger a topologia, a f√°brica geralmente participa como um terceiro, e o comprador n√£o recebe a topologia adequadamente, e t√©cnicas de ofusca√ß√£o semelhantes √† ofusca√ß√£o de qualquer outro c√≥digo s√£o usadas para proteger o c√≥digo Verilog.</i> <br><br><h4>  FERRAMENTAS </h4><br>  Quais ferramentas de an√°lise de microchips existem?  O primeiro n√≠vel √© um pouco de √°cido para abrir primeiro a caixa do microcircuito e depois remover as camadas uma a uma, e um microsc√≥pio √≥ptico regular com uma c√¢mera.  √â barato, √© f√°cil trabalhar com eles e, para a an√°lise de circuitos simples feitos com as tecnologias mais recentes, isso √© o bastante. <br><br>  Para esquemas maiores, existem sistemas CAD especiais que permitem, de uma forma ou de outra, automatizar a restaura√ß√£o de dados da topologia - fornecendo ao engenheiro reverso uma interface mais conveniente para o trabalho do que apenas desenhar linhas em um editor gr√°fico.  A automa√ß√£o tamb√©m √© simplificada pelo fato de que todos os circuitos digitais modernos s√£o constru√≠dos a partir de bibliotecas, e depois dos elementos da biblioteca de engenharia reversa para montar um circuito √© uma quest√£o de tempo (ou poder de processamento dispon√≠vel). <br><br>  O pr√≥ximo n√≠vel, inacess√≠vel para amadores, mas presente em laborat√≥rios especializados, √© um microsc√≥pio eletr√¥nico de varredura (MEV).  Ele usa um feixe de el√©trons focado em vez de um feixe de luz.  A resolu√ß√£o SEM pode ir at√© 1 nm e at√© um pouco menor, o que √© suficiente para analisar qualquer circuito integrado moderno. <br>  O FIB √© um an√°logo do SEM, usando apenas um feixe de √≠ons mais pesados ‚Äã‚Äãem vez de um feixe de el√©trons.  Na verdade, o FIB √© um feixe de √≠ons focado.  A principal diferen√ßa entre FIB e SEM √© que, com sua ajuda, voc√™ pode n√£o apenas analisar o microcircuito, mas tamb√©m modific√°-lo, por exemplo, fazer cortes (para ver a se√ß√£o transversal do microcircuito ou remover uma pe√ßa) ou material de pulveriza√ß√£o (para criar uma conex√£o l√° onde n√£o est√°).  Os FIBs s√£o amplamente utilizados pelos desenvolvedores e fabricantes de microcircuitos para trabalhar com amostras de teste, porque leva muito tempo para corrigir o erro ao us√°-lo, mas ainda √© muito mais r√°pido e mais barato do que reiniciar um lote experimental.  Para um engenheiro reverso, essa tamb√©m √© uma maneira √∫nica de acessar as partes do cristal que, de acordo com a inten√ß√£o do desenvolvedor, n√£o devem estar dispon√≠veis.  E, ao projetar um chip protegido contra hackers, isso tamb√©m deve ser lembrado. <br><br><img src="https://habrastorage.org/webt/1c/7r/dt/1c7rdtpshwmmyjs0nxzyf0lsvs4.png"><br>  <i>Figura 4. Se√ß√£o transversal de um microcircuito feito usando FIB.</i>  <i>Fonte - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">SERESSA-2015</a> (com cuidado, muito tr√°fego em pdf a partir do link).</i> <br><br><img src="https://habrastorage.org/webt/pj/m2/ay/pjm2aymrbegecwucyuxp_40b-50.gif"><br>  <i>Figura 5. Feito pela modifica√ß√£o FIB do chip, alterando v√°rias conex√µes.</i> <br><br>  Outra ferramenta indispens√°vel para um engenheiro reverso √© um conjunto de lasers.  Os f√£s podem usar lasers poderosos com os quais podem abrir microcircuitos em caixas de pl√°stico e obter acesso ao cristal.  Para lasers profissionais, dependendo do comprimento de onda, algumas partes do design do microcircuito podem ser transparentes e outras n√£o.  Isso permite que voc√™ use um laser, por exemplo, para abrir com precis√£o a passiva√ß√£o e o isolamento, para que mais tarde voc√™ possa se unir convenientemente √† linha de metal sem correr o risco de causar um curto-circuito com seus vizinhos.  Outros par√¢metros permitem cortar metal ou queimar transistores individuais.  O terceiro √© induzir corrente nos transistores, alternando c√©lulas de cache ou algum tipo de linha l√≥gica.  A √∫ltima op√ß√£o √© universalmente usada como uma simula√ß√£o barata dos efeitos de part√≠culas carregadas pesadas, mas, em princ√≠pio, o mau funcionamento de um microcircuito em funcionamento tamb√©m pode ser √∫til para comprometer as informa√ß√µes nele contidas.  Por exemplo, pode ser interessante reescrever algum sinalizador no arquivo de registro ou corrigir um pouco a opera√ß√£o do gerador de n√∫meros aleat√≥rios. <br><br><img src="https://habrastorage.org/webt/sh/s1/e2/shs1e2-mmxayhoraml1n9r_sfbg.png"><br>  <i>Figura 6. Apar√™ncia do laser para estudar o efeito de falhas √∫nicas em microcircuitos.</i>  <i>Fonte - SERESSA-2015.</i> <br><br><img src="https://habrastorage.org/webt/l2/oo/md/l2oomds0-mf1us-hrvramotiue4.png"><br>  <i>Figura 7. Um exemplo de sensibilidade de uma parte de um microcircuito a uma √∫nica falha e falha obtida usando um cart√£o de laser.</i>  <i>Fonte - SERESSA-2015.</i> <br><br>  Nos laborat√≥rios avan√ßados de engenharia reversa, voc√™ pode encontrar muitas outras ferramentas interessantes;  por exemplo, um sinal digital de v√°rias dezenas de MHz pode ser monitorado em tempo real, colocando um pequeno peda√ßo de niobato de l√≠tio na linha correspondente e iluminando-o novamente com um laser. <br><br><h4>  CASO 1: F√ÅBRICA IRREG√ÅVEL </h4><br>  Qual poderia ser o motivo para n√£o confiar na f√°brica onde voc√™ faz seus cristais?  Em um mundo ideal, √© claro, voc√™ n√£o se envolver√° com uma f√°brica em que n√£o confia, mas √†s vezes considera√ß√µes comerciais o obrigam a correr riscos.  Pode ser minimizado de duas maneiras principais: <br><br><ol><li>  A chamada fabrica√ß√£o dividida ou, de maneira simples, a produ√ß√£o em duas f√°bricas.  Mas n√£o em paralelo (como normalmente √© feito para minimizar o risco de escassez em caso de atrasos imprevistos na produ√ß√£o), mas parte das opera√ß√µes em uma f√°brica e parte em outra.  Isso √© bastante inconveniente para todos os participantes do processo (e certamente nem todas as f√°bricas concordam com isso), mas isso for√ßar√° a f√°brica n√£o confi√°vel a pelo menos reverter o restante do design do chip e fazer as m√°scaras ausentes por conta pr√≥pria.  (o que, idealmente, deve fazer com que o jogo n√£o valha a pena).  A principal desvantagem dessa abordagem √© que as camadas superiores do chip s√£o metalizadas, o que torna a engenharia reversa bastante simples.  A fabrica√ß√£o dividida, no entanto, pode ser realmente eficaz em combina√ß√£o com algum conhecimento tecnol√≥gico em metais, que uma f√°brica n√£o confi√°vel n√£o √© capaz de reproduzir.  Por exemplo, se a segunda f√°brica de sua escolha souber criar mem√≥ria n√£o vol√°til (MRAM, memristors ou algo assim) na camada superior de metaliza√ß√£o, sem a qual todo o design perde seu significado. </li><li>  Se voc√™ n√£o possui nenhum conhecimento tecnol√≥gico, a maneira mais simples e confi√°vel √© tornar o chip sem sentido sem mais programa√ß√£o.  Blocos program√°veis ‚Äã‚Äãpodem ser feitos de forma independente usando a mem√≥ria de configura√ß√£o ou na forma de um bloco baseado em um FPGA incorporado (existem esses IPs no mercado).  A mem√≥ria de configura√ß√£o como uma forma de prote√ß√£o permite que voc√™ tenha certeza de que a f√°brica n√£o pode apenas pegar e produzir seu chip ignorando voc√™.  Mas voc√™ pode ler a mem√≥ria de configura√ß√£o, certo?  Sim, mas a presen√ßa de mem√≥ria de configura√ß√£o for√ßa uma f√°brica n√£o confi√°vel, em vez de uma maneira simples de aumentar os volumes de produ√ß√£o, a fazer a mesma engenharia reversa que todos os outros atacantes. </li></ol><br>  Separadamente, observo que os dois m√©todos descritos de prote√ß√£o contra uma f√°brica n√£o confi√°vel ajudam contra c√≥pias n√£o autorizadas, mas n√£o s√£o salvos de "favoritos" populares em c√≠rculos estreitos.  Al√©m disso, um pouco mais adiante, falarei sobre como marcar a topologia por n√≥s mesmos. <br><br><h4>  CASO 2: PROTE√á√ÉO DE MEM√ìRIA </h4><br>  A presen√ßa de blocos program√°veis ‚Äã‚Äãe mem√≥ria de configura√ß√£o no chip √© um atributo quase indispens√°vel de qualquer projeto moderno, tanto digital quanto anal√≥gico.  Com uma diminui√ß√£o nos padr√µes de design, a propaga√ß√£o de par√¢metros de chip para chip aumenta e o ajuste digital √© a maneira mais f√°cil e confi√°vel de super√°-lo.  E os circuitos digitais (por exemplo, microcontroladores) geralmente armazenam dados diretamente no chip e podem ter uma estrutura de mem√≥ria em v√°rios n√≠veis, cujas partes diferentes t√™m n√≠veis diferentes de acesso e prote√ß√£o.  Portanto, parece l√≥gico usar primeiro a ferramenta que j√° temos para aumentar a seguran√ßa e a resist√™ncia a rachaduras e, em segundo lugar, a id√©ia de pensar cuidadosamente sobre que tipo de mem√≥ria usar. <br><br>  <b>Firmware com conex√µes met√°licas</b> (Mask ROM).  Normalmente, parece a presen√ßa ou aus√™ncia de contato entre duas linhas de metal, um pouco menos frequentemente - como a presen√ßa ou aus√™ncia de um transistor entre elas.  O mais carvalho √© usado em cristais de matriz base (BMC) - n√£o apenas na ind√∫stria de defesa antiga, como voc√™ pode pensar, mas tamb√©m em solu√ß√µes bastante modernas, por exemplo, em chips auxiliares nos processadores Xeon.  Al√©m disso, usando essa mem√≥ria, s√£o feitas fam√≠lias de microcircuitos (principalmente microcontroladores), porque piscar a mem√≥ria na f√°brica trocando uma m√°scara √© mais barato que o firmware universal de cada cristal produzido em uma placa ou em um caso.  A ROM da m√°scara l√™ com muita facilidade com um microsc√≥pio e grava√ß√£o precisa.  Em casa, voc√™ pode lidar com isso. <br><br><img src="https://habrastorage.org/webt/qz/o4/80/qzo480mvy97l0lgxd4uxnzaequc.jpeg"><br>  <i>Figura 8. Firmware da ROM com interconex√µes met√°licas em um chip FTDI FT232RL falso.</i>  <i>Fonte - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">zeptobars.com</a></i> <i><br></i> <br>  Tamb√©m deve ser observado aqui que √© poss√≠vel armazenar mem√≥ria flash n√£o apenas com uma camada de contatos entre metais, mas tamb√©m com a presen√ßa e aus√™ncia de metal (f√°cil de ler √≥ptico), a presen√ßa ou aus√™ncia de dopagem (f√°cil de ler opticamente) ou, por exemplo, a tens√£o limiar de um transistor controlado pelo n√≠vel de dopagem (mal) leia opticamente).  Portanto, em princ√≠pio, a m√°scara ROM n√£o tem tudo perdido se voc√™ realmente deseja ocultar seu conte√∫do. <br><br>  <b>Mem√≥ria em jumpers esgotados</b> (Fuse ROM).  Ele permite uma grava√ß√£o (incluindo a grava√ß√£o pelo usu√°rio no dispositivo finalizado) e um n√∫mero ilimitado de leituras; √© muito simples de fabricar e programar e, portanto, popular para todos os tipos de mem√≥ria de configura√ß√£o e firmware. <br><br><img src="https://habrastorage.org/webt/em/xa/wo/emxawobhtjrizpcuvteinoigqu4.png"><br>  <i>Figura 9. Dois estados da ROM do fus√≠vel.</i>  <i>Fonte - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">semiengineering.com</a></i> <br><br>  Como voc√™ pode ver, o estado de um jumper fus√≠vel comum (Fuse) √© muito f√°cil de ver atrav√©s de um microsc√≥pio, ou seja, √© simplesmente imposs√≠vel se proteger de abrir um cristal com ele.  Bem, al√©m de tudo o mais, o jumper cl√°ssico queimado √© bastante grande (v√°rios m√≠crons quadrados) e, portanto, n√£o √© adequado para grandes quantidades de mem√≥ria. <br><br>  <b>Mem√≥ria flash e outras op√ß√µes de EPROM e EEPROM</b> baseadas em transistores de porta flutuante. <br><br><img src="https://habrastorage.org/webt/xk/cs/qe/xkcsqew9fhfgpxlsw7ggycddnwk.jpeg"><br>  <i>Figura 10. Esquema de grava√ß√£o em flash.</i>  <i>Fonte - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">techreport.com</a></i> <br><br>  O princ√≠pio de opera√ß√£o desse tipo de mem√≥ria √© bastante simples: um port√£o "flutuante" est√° localizado em uma espessa camada de um diel√©trico.  Uma carga el√©trica pode ser colocada neste obturador por tunelamento, aplicando alta tens√£o a ele.  E ent√£o, se voc√™ n√£o aplicar alta tens√£o, a carga poder√° ser armazenada no obturador "flutuante" por um per√≠odo muito longo. <br>  E a seguran√ßa?<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A boa not√≠cia √© que o estado da EEPROM n√£o pode ser visto com um microsc√≥pio. Mau? Existem v√°rios deles ao mesmo tempo.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A primeira m√° not√≠cia √© que a EEPROM √© apagada n√£o apenas pela alta tens√£o, mas tamb√©m pela exposi√ß√£o √† radia√ß√£o ultravioleta (os veteranos provavelmente se lembram dos chips de vidro de quartzo). Ao mesmo tempo, se voc√™ examinar atentamente a topologia com um microsc√≥pio, poder√° cobrir toda a mem√≥ria com um material opaco, exceto os poucos bits que incluem prote√ß√£o contra leitura e ap√≥s a exposi√ß√£o, seu chip. Moral: Usando a EEPROM em seu projeto, cubra-a com metal por cima. E √© desej√°vel n√£o apenas com um escudo s√≥lido contra radia√ß√£o, mas tamb√©m com algumas linhas significativas, para que o escudo n√£o possa ser gravado com precis√£o. No entanto, uma emboscada tamb√©m est√° oculta aqui (√© a segunda m√° not√≠cia), porque, em princ√≠pio, um microcircuito ou suas partes individuais podem ser destacadas a partir de baixo. Isso n√£o √© f√°cil, porque provavelmente ser√° necess√°rio remover o chip do gabinete e,por exemplo, gravando o fundo do substrato, mas poss√≠vel. Tais t√©cnicas s√£o populares para testar microcircuitos de chip √∫nico, porque a metaliza√ß√£o √© opaca aos raios UV e ao laser, e o substrato de sil√≠cio √© quase transparente, a quest√£o √© como focalizar o feixe de radia√ß√£o corretamente, se for necess√°ria a exposi√ß√£o local.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como op√ß√£o alternativa, voc√™ pode configurar os bits de ativa√ß√£o / desativa√ß√£o da prote√ß√£o para que o apagamento deles ative a prote√ß√£o e n√£o a desative. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A terceira m√° not√≠cia √© que existem sensores que podem ler a carga el√©trica em um port√£o flutuante ou seus remanescentes ap√≥s uma opera√ß√£o de apagamento. Al√©m disso, para ler eletricamente a mem√≥ria, em geral, o chip n√£o precisa ser alimentado, ou seja, n√£o h√° risco de ativar os mecanismos internos de destrui√ß√£o de informa√ß√µes. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mram</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, embora relativamente raro, no entanto, tamb√©m merece nossa aten√ß√£o. Como o flash, n√£o pode ser considerado opticamente. O MRAM, √© claro, n√£o pode ser apagado com luz ultravioleta, mas existem sensores de campo magn√©tico com uma resolu√ß√£o alta o suficiente para separar os metais superiores e ler a mem√≥ria pouco a pouco. Boas not√≠cias? √â improv√°vel que um invasor em potencial os encontre de maneira r√°pida e barata. Em geral, o MRAM √© uma boa alternativa ao flash do ponto de vista da seguran√ßa, mas at√© o momento n√£o est√° amplamente dispon√≠vel e apenas entrou em produ√ß√£o em massa em tecnologias dispon√≠veis para empresas que n√£o s√£o f√°bricas. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hoje, a </font><b><font style="vertical-align: inherit;">ROM antifusa</font></b><font style="vertical-align: inherit;"> √© considerada a mem√≥ria mais protegida da engenharia reversa.</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Como o nome indica, ele representa um certo ant√≠poda de jumpers queimados, ou seja, possui alta resist√™ncia em um estado n√£o programado e baixa em um programado. Como isso √© alcan√ßado? Com a quebra do port√£o diel√©trico de um transistor com alta tens√£o. A regi√£o de ruptura √© t√£o pequena que n√£o √© vis√≠vel nem de cima no microsc√≥pio nem na se√ß√£o da FIB, mas tamb√©m fornece uma mudan√ßa boa e confi√°vel na resist√™ncia por v√°rias ordens de grandeza, o que √© suficiente para uma leitura confi√°vel do estado da mem√≥ria de maneira regular. Essa c√©lula de mem√≥ria, no entanto, pode ser lida conectando-se diretamente √† porta e √† fonte do transistor de mem√≥ria. Uma c√©lula ininterrupta se comporta como um capacitor, uma c√©lula unida se comporta como um resistor.</font></font><br><br><img src="https://habrastorage.org/webt/sa/oy/fn/saoyfnr0auzpgtq1qfk1ahoc2es.jpeg"><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figura 11. Se√ß√£o celular de uma mem√≥ria antifusa. S√£o mostradas v√°rias √°reas de poss√≠vel quebra do transistor. Isso pode complicar o esquema de leitura.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Obviamente, existem outras maneiras de descobrir o conte√∫do da mem√≥ria, al√©m da inspe√ß√£o visual das c√©lulas. A maneira mais f√°cil √© usar o FIB para conectar-se diretamente √†s linhas de leitura correspondentes e enviar a eles todos os sinais de controle que precisam ser enviados para ler informa√ß√µes inacess√≠veis normalmente. Anteriormente, voc√™ pode desativar a prote√ß√£o de leitura cortando fisicamente as linhas que levam aos bits correspondentes de mem√≥ria. Como se proteger disso? Tendo projetado corretamente a topologia do seu chip e, possivelmente, integrado algumas fun√ß√µes adicionais. Aqui est√° um exemplo de como o Cypress faz isso:</font></font><br><br> <i>It is possible to configure the nvSRAM to provide password protected access. In this configuration, instead of performing the normal power up recall sequence on power up, the part waits for the user to enter a 5-byte password followed by an End Password Entry soft sequence. The End Password Entry soft sequence is a specific seven-address read sequence. If you enter the correct password, the part completes the boot up sequence and is ready for the normal nvSRAM operations. If you enter the incorrect password three times or you do not enter the right password within a specified period of time, the part locks up or fills the SRAM memory with random data, as the application requirement may be. The part can be configured to additionally destroy the functionality and cause physical damage to the chip.</i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Normalmente, isso √© feito: a mem√≥ria √© coberta de cima por uma grade de linhas de terra e energia, e todas as linhas de sinal est√£o localizadas estritamente abaixo delas. Nesse caso, deve-se tomar cuidado para garantir que as linhas de energia, por um lado, n√£o se duplicem (isto √©, ao cortar qualquer uma delas, parte do microcircuito para de funcionar) e, por outro lado, para que cada uma delas sirva muitos bits de mem√≥ria , e a inser√ß√£o de um amper√≠metro na linha de energia n√£o nos permite estimar o estado da mem√≥ria pelo consumo no modo de leitura (que difere para diferentes estados l√≥gicos na maioria dos tipos de mem√≥ria). Com essa organiza√ß√£o das camadas superiores do chip, ser√° extremamente dif√≠cil para um invasor abrir parte da metaliza√ß√£o para se conectar a onde ele precisa.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mesmo na grade de terrenos e fontes de alimenta√ß√£o, linhas de prote√ß√£o adicionais s√£o organizadas de forma que uma interrup√ß√£o nelas (ou seu curto-circuito na energia ou no aterramento) quando a energia √© fornecida ao chip inicia o apagamento completo do conte√∫do da mem√≥ria protegida (ou, como vimos acima, danos f√≠sicos chip). Tais linhas de prote√ß√£o, localizadas pr√≥ximas √†s linhas terrestres e el√©tricas, complicam bastante o trabalho dos atacantes, porque as opera√ß√µes com a FIB exigem um lugar tang√≠vel pelos padr√µes dos processos tecnol√≥gicos atuais. Al√©m disso, devido √† forma em forma de cone do recorte criado pelo microsc√≥pio, quanto menor a camada √† qual voc√™ deseja conectar, maior a √°rea que voc√™ precisa limpar.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mas, de fato, com muita frequ√™ncia, um invasor pode n√£o precisar do valor exato do conte√∫do da mem√≥ria; pode ser suficiente reduzir o n√∫mero de op√ß√µes de classifica√ß√£o em v√°rias ordens de magnitude. Por exemplo, se uma c√©lula de mem√≥ria consome ao ler uma unidade l√≥gica X e ao ler um zero l√≥gico de 100 * X, ao ler um byte dessa mem√≥ria, obteremos um consumo diferente, dependendo do conte√∫do da mem√≥ria: </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 - 800 * X </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1,2,4, ..., 64, 128 - 701 * X </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3, 6, 7, ..., 160, 192 - 602 * X </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">255 - 8 * X</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No total, se n√£o tocarmos na mem√≥ria, precisamos de 256 tentativas para selecionar a senha contida nela. </font><font style="vertical-align: inherit;">E se sabemos que o consumo no modo de leitura √© 701 * X, existem apenas oito. </font><font style="vertical-align: inherit;">Conveniente, n√£o √©? </font><font style="vertical-align: inherit;">A maneira mais f√°cil de fazer algo com esse problema √© armazenar os dados na forma de um valor e sua invers√£o em uma c√©lula vizinha; </font><font style="vertical-align: inherit;">o consumo de qualquer quantidade de mem√≥ria no modo de leitura n√£o depender√° das informa√ß√µes armazenadas. </font><font style="vertical-align: inherit;">√â verdade que requer o dobro de mem√≥ria, mas a seguran√ßa √© importante para n√≥s, certo?</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CASO 3: SEM MEM√ìRIA </font></font></h4><br>  Mas e se o seu chip n√£o contiver mem√≥ria de configura√ß√£o ou apenas alguns bits, que n√£o t√™m sentido ocultar.  Porque  Portanto, √© muito mais barato (n√£o tanto pela redu√ß√£o do custo das m√°scaras para a litografia, mas por um processo mais simples de embalagem e teste) e, para a maioria dos chips simples, o pre√ßo √© uma s√©ria vantagem competitiva. <br><br>  Falando em testes.  O processo de rejei√ß√£o de cristais em bolachas e mem√≥ria de configura√ß√£o piscante geralmente √© terceirizado, especialmente por pequenas empresas, porque o equipamento apropriado geralmente n√£o √© acess√≠vel para startups e a qualidade deve ser garantida.  Portanto, se a produ√ß√£o de terceiros estiver atualizada com seus m√©todos de teste e tiver firmware de mem√≥ria de configura√ß√£o, seria melhor voc√™ confiar completamente nessas pessoas.  Ou tenha m√©todos adicionais de prote√ß√£o contra engenharia reversa que n√£o estejam vinculados √† mem√≥ria de configura√ß√£o. <br><br>  Ent√£o, o que fazer se a mem√≥ria de configura√ß√£o n√£o for uma op√ß√£o de prote√ß√£o ou se n√£o for suficiente? <br><br>  A principal desvantagem de um microsc√≥pio √≥ptico e de MEV √© que √© muito dif√≠cil distinguir entre os tipos de dopagem de sil√≠cio.  Ou seja, a presen√ßa de ligas √© vis√≠vel, mas o tipo n√£o √©.  Portanto, ao analisar a topologia e extra√ß√£o do circuito, o tipo de dopagem √© restaurado do contexto e da l√≥gica impl√≠cita do circuito (transistores de canal n s√£o conectados ao terra, transistores de canal p s√£o conectados √† energia, etc., etc.).  Tendo desenhado a topologia do seu microcircuito para que ele n√£o coincida com a op√ß√£o mais intuitivamente mais prov√°vel, voc√™ pode muito bem estragar o sangue de um engenheiro reverso.  Especialmente se voc√™ usar v√°rios esquemas diferentes disfar√ßados da mesma forma.  Com alguma destreza, voc√™ pode n√£o apenas complicar a an√°lise do seu circuito, mas tamb√©m fazer com que o dispositivo (ou pelo menos modelado, mas mais divertido se produzido) usando a topologia restaurada fa√ßa algo espec√≠fico, desde o curto-circuito com energia at√© a emiss√£o de palavras obscenas para todas as sa√≠das.  O comportamento determin√≠stico de um projeto roubado incorretamente, a prop√≥sito, pode ser √∫til n√£o apenas para gravar um oscilosc√≥pio para piratas, mas tamb√©m para que quando os usu√°rios frustrados de seus chips cheguem at√© voc√™ mais tarde, voc√™ possa demonstrar claramente a eles que eles compraram falso. <br><br><img src="https://habrastorage.org/webt/vf/vx/7w/vfvx7wyi-llbk6axy_lwcjs8teq.png"><br>  <i>Figura 12. Se√ß√£o de tr√™s estruturas indistingu√≠veis por um microsc√≥pio.</i>  <i>O da esquerda √© pMOSFET, o do meio √© um curto-circuito, o da direita √© um diodo polarizado (gap) reverso.</i> <br><br><img src="https://habrastorage.org/webt/wo/mf/gt/womfgtt5ftcmso--07kl4dtraqq.png"><br>  <i>Figura 13. Topologia de tr√™s c√©lulas da biblioteca digital indistingu√≠veis por um microsc√≥pio.</i>  <i>O da esquerda √© o inversor, o do meio √© a conex√£o direta da entrada e sa√≠da, o da direita √© a unidade l√≥gica de sa√≠da.</i> <br><br>  Cada uma das c√©lulas da figura acima parece quase o inversor mais comum, mas na verdade pode ser um inversor, repetidor ou gerador de um zero l√≥gico ou unidade l√≥gica.  Somente nossos contatos para difus√£o da entrada e sa√≠da emitem nosso "inversor".  No entanto, abandonando-os, obteremos um indistingu√≠vel completamente do circuito padr√£o em troca da incapacidade de implementar a conex√£o de entrada e sa√≠da (mas podemos usar dois inversores para esse fim).  No entanto, com a capacidade de inverter ou n√£o inverter um sinal usando a mesma c√©lula, a luta contra um invasor √© muito mais interessante, porque nada complica as tentativas de lidar com problemas de um design desconhecido, como um inversor extra em algum lugar do rel√≥gio ou no circuito on / off. <br><br>  Embora n√£o, isso acontece.  Uma topologia manual bem constru√≠da √© geralmente bem lida.  Um √≥timo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">exemplo</a> est√° no blog j√° mencionado de Ken Schirriff. <br><br><img src="https://habrastorage.org/webt/tn/a_/gs/tna_gsz1utjiwcbpg9o_0anpteq.png"><br>  <i>Figura 14. Unidade l√≥gica aritm√©tica (ALU) do chip Intel 8008. D√≠gitos separados s√£o mostrados.</i> <br><br>  Na topologia da ALU Intel 8008, oito circuitos id√™nticos s√£o perfeitamente vis√≠veis - pelo n√∫mero de bits.  Entendendo que isso √© ALU, √© poss√≠vel restaurar facilmente o esquema de topologia.  Se alguns dos elementos forem falsos, isso complicar√° um pouco o seu trabalho, mas n√£o mais.  E tudo porque a topologia se encaixa bem na id√©ia b√°sica das interfaces entre as partes constituintes.  Para confundir tanto um invasor que ele abandona as tentativas de engenharia reversa, √© necess√°rio tornar a topologia imprevis√≠vel e n√£o repetitiva.  A maneira mais f√°cil n√£o √© fazer nenhum bloco manualmente, mas gerar toda a lista l√≠quida do chip usando CAD.  Os rastreadores autom√°ticos, apesar da enorme economia de tempo para criar uma topologia (em compara√ß√£o com o trabalho manual), fazem um excelente trabalho ao criar um arranjo n√£o intuitivo de elementos e, √†s vezes, conex√µes completamente insanas.  E quanto maior o design, cuja topologia foi sintetizada como um todo, mais dif√≠cil √© fazer a engenharia reversa. <br><br>  Mas esta √© a maneira mais f√°cil.  Existem op√ß√µes mais interessantes.  Por exemplo, use um conjunto de c√©lulas camale√£o como um conjunto de geradores de zeros l√≥gicos e uns para as entradas do multiplexador, enquanto realiza uma fun√ß√£o l√≥gica arbitr√°ria.  Na verdade, √© assim que os elementos do FPGA, LUT (Look-Up Table) s√£o organizados. <br><br><img src="https://habrastorage.org/webt/y6/n6/9y/y6n69yfj5vx6te9wmgr2vsngj10.png"><br>  <i>Figura 15. Implementa√ß√£o de um LUT de tr√™s entradas.</i>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">Fonte</a></i> <br><br>  Colocando v√°rios desses LUTs em diferentes locais do circuito e trazendo alguns sinais para as entradas das ‚Äúc√©lulas de mem√≥ria‚Äù, resolveremos v√°rios problemas ao mesmo tempo: <br><br><ol><li>  Se nossa manobra continuar sem solu√ß√£o, poderemos definir exatamente como o circuito de engenharia reversa se comportar√°.  Op√ß√µes - qualquer, limitadas apenas pela sua imagina√ß√£o. </li><li>  O uso de sinais arbitr√°rios de outros blocos como "entrada" para as c√©lulas que geram zero l√≥gico e um complicar√° o processo de separa√ß√£o visual do design em blocos. </li><li>  Mesmo que o engenheiro reverso perceba que estamos usando essas LUTs protegidas, ele ter√° que examinar v√°rias op√ß√µes para restaurar a funcionalidade do circuito de acordo com a topologia, de modo que at√© um n√∫mero relativamente pequeno de c√©lulas protegidas possa tornar a engenharia reversa desnecessariamente demorada.  Meu favorito √© montar uma m√°quina de estado nessas LUTs que controla as transi√ß√µes do microcircuito de um modo operacional para outro. </li></ol><br><h4>  DIAGRAMAS DE ENSAIO </h4><br>  Bons engenheiros gostam muito de testar exaustivamente seus chips.  E por ‚Äúabrangente‚Äù, quero dizer - aproximadamente da mesma maneira que no conversor TI DC / DC na figura abaixo.  Dezenas de pequenas almofadas de contato, √†s quais voc√™ pode se conectar antes de cortar a placa em cristais individuais, para verificar todos os par√¢metros necess√°rios, o status de linhas internas importantes, decidir se o chip √© adequado ou n√£o e, se necess√°rio, descobrir a causa dos problemas. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/665/78a/3fc/66578a3fc9a5faea0f097de9c514caf0.jpg" alt="imagem"><br>  <i>Figura 16. Topologia da Texas Instruments TPS 62321. Source - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">zeptobars.com</a></i> <br><br>  Uma boa cobertura com blocos de teste para lan√ßamentos e prot√≥tipos de teste √© especialmente importante, mas para produ√ß√£o em s√©rie eles geralmente s√£o desativados (pela corre√ß√£o de uma ou duas m√°scaras ou jumpers grav√°veis) para minimizar o efeito no comportamento do produto.  Ent√£o, do que estou falando?  As almofadas de contato de teste s√£o sua grande ajuda para um invasor, porque voc√™ n√£o apenas aponta pontos importantes no design, mas tamb√©m fornece acesso conveniente a elas.  O jumper queimado √© facilmente restaurado no FIB, e pronto!  Idealmente, a seguran√ßa requer a remo√ß√£o completa dos blocos de teste do chip serial.  Se essa op√ß√£o for irracional (por exemplo, voc√™ tamb√©m precisa testar em uma placa na produ√ß√£o em s√©rie), pelo menos verifique se o mecanismo para desconectar os locais de teste n√£o √© recuper√°vel, por exemplo, est√° localizado diretamente sob a plataforma e foi desenhado para que a lacuna n√£o p√¥de ser convenientemente conectado. <br><br>  Eu nem quero come√ßar pelo fato de que todos os projetos digitais modernos t√™m um JTAG embutido para teste, o que permite ver diretamente o status de qualquer gatilho em um chip.  A adequa√ß√£o do teste √© uma das principais caracter√≠sticas de qualquer projeto, e √© esse fato que torna extremamente importante desativar com seguran√ßa e perman√™ncia todas as interfaces de teste antes que o chip saia das paredes do fabricante. <br><br>  Ainda bons engenheiros gostam de colocar circuitos de teste na periferia do chip para as pr√≥ximas revis√µes.  Geralmente, esses s√£o esquemas bastante importantes; caso contr√°rio, por que perder tempo e esfor√ßo organizando seus testes?  "Os circuitos importantes que comp√µem sua propriedade intelectual e s√£o cr√≠ticos para o funcionamento do chip?"  Cuidadosamente separados de todo o design?  Muito obrigado!  - o engenheiro reverso lhe dir√° um presente t√£o real.  Se voc√™ n√£o quiser que os testes ajudem um invasor a estudar e copiar seu projeto, verifique se eles n√£o entram em cristais para produ√ß√£o em massa ou s√£o destru√≠dos ap√≥s o teste em placas durante o processo de corte da placa em cristais. <br><br><h4>  UMA PR√ÅTICA PEQUENA </h4><br>  Para demonstrar mais uma vez como isso funciona, o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">exemplo de</a> abertura do microcontrolador PIC12C508A descrito na disserta√ß√£o de Sergei Skorobogatov, defendida em 2004 em Cambridge.  A tradu√ß√£o √© curta e bastante gratuita: <br><br>  <i>√â necess√°rio abrir a caixa e encontrar no chip uma mem√≥ria de prote√ß√£o apagada pela radia√ß√£o ultravioleta.</i>  <i>Isso √© feito com bastante facilidade, visualizando as linhas que v√£o para o pino de programa√ß√£o do chip.</i>  <i>Depois, voc√™ cobre a mem√≥ria principal com um material opaco para UV, e ap√≥s cinco a dez minutos de exposi√ß√£o, voc√™ pode considerar a mem√≥ria como um programador regular.</i>  <i>Outra op√ß√£o - depois de encontrar a mem√≥ria de prote√ß√£o contra c√≥pia, basta cortar o caminho met√°lico que leva a ela, que por algum motivo est√° localizado longe de outras linhas - at√© agora, voc√™ pode cort√°-lo n√£o apenas com FIB, mas apenas com uma agulha.</i> <br><br><img src="https://habrastorage.org/webt/h7/2q/rp/h72qrphebamj9x-aet4gmuac7ly.png"><br>  <i>Figura 17. E aqui est√° a linha muito infeliz.</i>  <i>Na verdade, ele est√° localizado no meio de um espa√ßo vazio, n√£o protegido de forma alguma, pode ser cortado.</i> <br><br><h4>  CONCLUS√ÉO </h4><br>  Obviamente, √© imposs√≠vel apreender a imensid√£o, porque a tecnologia e a engenharia reversa dos microcircuitos, e a prote√ß√£o contra eles, n√£o param e s√£o constantemente aprimoradas.  O t√≥pico seguran√ßa da informa√ß√£o √© uma das chaves no design da Internet, por isso os desenvolvedores prestam muita aten√ß√£o e os engenheiros reversos n√£o podem esperar uma extra√ß√£o t√£o f√°cil quanto quinze ou vinte anos atr√°s.  No entanto, deve-se sempre lembrar que um sistema mal protegido significa perdas potenciais, enormes perdas ou at√© a vida das pessoas, e a prote√ß√£o contra acesso n√£o autorizado e engenharia reversa deve fazer parte do sistema em todos os n√≠veis de opera√ß√£o, sem excluir o hardware . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt436998/">https://habr.com/ru/post/pt436998/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt436988/index.html">C√¢mera, motor, Big Data: como os est√∫dios de cinema procuram novos filmes usando IA</a></li>
<li><a href="../pt436990/index.html">O Zimbra e o Zextras Suite s√£o totalmente compat√≠veis com os sistemas operacionais NTC IT ROSA</a></li>
<li><a href="../pt436992/index.html">Tentativa e erro ao escolher o proxy reverso HTTP</a></li>
<li><a href="../pt436994/index.html">Liquibase e Maven</a></li>
<li><a href="../pt436996/index.html">Curso Final de Especializa√ß√£o em Python do Grupo Mail.ru</a></li>
<li><a href="../pt437000/index.html">Como ensinar as pessoas a usar o git</a></li>
<li><a href="../pt437002/index.html">N√∫cleo ASP.NET v√°lido</a></li>
<li><a href="../pt437004/index.html">Os programadores da YML sonham com testes ans√≠veis?</a></li>
<li><a href="../pt437006/index.html">Revis√£o da impressora 3D Wanhao Duplicator 10</a></li>
<li><a href="../pt437008/index.html">PNL. O b√°sico. T√©cnicas. Autodesenvolvimento. Parte 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>