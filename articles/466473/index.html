<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛄 🚾 ☠️ Cómo creamos el sistema IoT para administrar el uso de energía solar ⭕️ 👨🏼‍💻 👩🏻‍🏭</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Si no tiene idea de la arquitectura de desarrollo y el diseño mecánico / eléctrico detrás de las soluciones de IoT, podrían parecer "tener cualidades ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cómo creamos el sistema IoT para administrar el uso de energía solar</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/466473/"><p>  Si no tiene idea de la arquitectura de desarrollo y el diseño mecánico / eléctrico detrás de las soluciones de IoT, podrían parecer "tener cualidades o poderes aparentemente sobrenaturales".  Por ejemplo, si muestra un sistema IoT en funcionamiento a las personas del siglo XVIII, pensarían que es mágico. Este artículo está revientando tal mito.  O, para decirlo más técnicamente, sobre sugerencias para ajustar el desarrollo de IoT para un proyecto impresionante en el área de gestión de energía solar. <a name="habracut"></a></p><br><p>  <strong>Spoiler</strong> : sin hechizos, solo ideas analíticas para desarrollar un servicio rápido y fácil. </p><br><p>  <strong>Descargo de responsabilidad</strong> : no ofrecemos una solución única (simplemente no existe), solo comparta las cosas que consideramos serias.  Estos puntos pueden ser características asesinas mientras que, por el contrario, su negligencia puede matarlo.  Juego de palabras previsto;) </p><br><h2>  Presentamos el sistema IoT para visualizar y optimizar el consumo de energía solar. </h2><br><p>  Tuvimos el placer de trabajar en un proyecto para mejorar el uso de energía autogenerado.  El núcleo radica en visualizar y optimizar el uso de sistemas fotovoltaicos (PV) tanto para empresas instaladoras como para clientes finales.  Por lo tanto, cuando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Solar Manager</a> se instala como un centro central para distribuir la energía solar producida entre los dispositivos del hogar, utiliza el máximo de energía de producción propia. </p><br><p><img src="https://habrastorage.org/webt/hs/a8/er/hsa8erddmbqfskqctn9bp4vpcps.png"></p><br><p>  Ya hemos escrito sobre la perspectiva comercial del uso de la energía solar, y ahora vamos a sumergirnos en los desafíos tecnológicos y las pistas del desarrollo. </p><br><h2>  Prerrequisito absoluto </h2><br><p>  Antes de comenzar, aclaremos.  Hay una cosa que <strong>se</strong> aplica a todos y cada uno de los proyectos, independientemente de si se trata de un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sistema IoT</a> o de un aterrizaje simple. </p><br><p>  Nunca comience la implementación antes de tener una comprensión completa de lo que desea lograr (y todos los involucrados lo hacen). </p><br><p>  No hay tal cosa como evidente.  No, no hay telépatas, y nadie lee tus pensamientos.  Aclara, discute, asegúrate de estar en la misma página. </p><br><p><img src="https://habrastorage.org/webt/-0/fg/cq/-0fgcqs7t8r5jqfhgani-esuyg8.png"></p><br><p>  Por supuesto, si no quiere gastar el doble de tiempo y dinero. </p><br><h2>  La misión </h2><br><p>  Entonces, ¿qué tenemos como entradas?  Conectividad flexible y firmware remoto centralizado, 5 roles de usuario con diferentes UX y conjuntos de permisos, conversión y análisis de datos, gran cantidad de solicitudes y, como una guinda del pastel, trazar una gran cantidad de datos de valor de tiempo en gráficos. </p><br><h2>  Desafíos y características específicas de la implementación del sistema IoT para el consumo de energía. </h2><br><p>  Cuando se trata de desarrollo, 3 cosas son las más importantes: estabilidad, relevancia y velocidad.  Especialmente cuando el proyecto requiere una arquitectura monolítica.  Es por eso que la lógica general, todos los flujos de usuarios y el diseño de la base de datos deben ser lo más simples y optimizados posible.  Seamos honestos, en 2019 nadie quiere esperar 40 segundos porque 'sus datos se están procesando'.  Entonces, aquí está la lista de preguntas / respuestas para las plataformas IoT a las que nos referimos: </p><br><ul><li>  ¿La arquitectura se ajusta a los requisitos y especificaciones? </li><li>  ¿Cómo va a convertir, procesar y analizar los datos recopilados? </li><li>  ¿Cuáles son las relaciones más óptimas entre las capas MVC / MVP padre-hijo?  ¿Pueden entonces escalarse sin ser interrumpidos? </li><li>  ¿Hay algún módulo que realice funciones similares / adyacentes?  ¿Se pueden unir en un solo módulo multipropósito?  ¿Eso introducirá o reducirá la complejidad? </li><li>  ¿La comunicación entre etapas es óptima? </li><li>  ¿Cómo almacenar en caché los datos antes de visualizarlos? </li><li>  ¿Es la experiencia del usuario (UX) simple y evidente para cada rol de usuario? </li></ul><br><p>  Divide lo que necesita ser distribuido, une lo que es similar.  Sin embargo, no confunda esto con la creación de grandes clases que (deberían) resolver varias tareas.  En cambio, cree pequeños para una sola tarea.  Para tareas complejas, cree varias clases que resuelvan una subtarea y otra que use esas. </p><br><ul><li><h3 id="architect-iot-solutions-smart">  Arquitecto soluciones de IoT inteligentes </h3><br></li></ul><br><p>  Inteligente aquí se refiere a crear una arquitectura de proyecto rápida, escalable, optimizada y sostenible que se ajuste a los requisitos del proyecto.  Las preguntas básicas que surgieron en este punto: </p><br><ol><li>  ¿Cuál es el flujo de arquitectura más fácil y directo? </li><li>  ¿Cómo hacer que la experiencia del usuario para cada rol sea la más simple? </li><li>  ¿Podemos revisar la arquitectura inicial para una mejor escalabilidad y optimización del rendimiento? </li></ol><br><p>  Para las aplicaciones web, esto implica el diseño del controlador de vista de modelo jerárquico (HMVC).  Por ejemplo, para asignar mejor los recursos y proporcionar una respuesta más rápida, trabaje a través de las conexiones entre API, back-end, front-end y edge.  Configure la comunicación local en la nube, almacenando y transfiriendo datos para que obtenga la respuesta correcta rápidamente (¡hola, Capitán Obvio!). </p><br><p><img src="https://habrastorage.org/webt/w4/6k/ct/w46kctha0qwbzkf1drtq6thgdcy.png"></p><br><ul><li><h3 id="design-database-with-performance-in-mind">  Diseñar una base de datos teniendo en cuenta el rendimiento </h3><br></li></ul><br><p>  Nunca subestimes la importancia de pensar a través del diseño de la base de datos (DB).  Esto también se aplica a las relaciones entre colecciones en la base de datos.  Tiene muchas entidades, que interactúan de varias maneras, por lo que es crucial mantener todas las conexiones lógicas relacionadas en un solo lugar. </p><br><p>  Entonces, cuando tenga a mano la estructura inicial, determine: </p><br><ol><li>  ¿Es este (uno a uno, uno a muchos, muchos a muchos) el tipo de relación óptimo para esta colección?  ¿Resuelve la tarea de la manera más eficiente? </li><li>  ¿Qué tan bien corresponde a la tarea en la pantalla específica? </li><li>  ¿Encaja bien en la arquitectura general del proyecto? </li></ol><br><p>  Optimice la lógica detrás de cada módulo y asegúrese de preservar la arquitectura general.  Piensa en el conjunto de permisos.  Luego piense de nuevo y optimice.  Recuerde configurar los tipos de conexión para que para cada tarea tenga toda la información necesaria en un solo lugar y maneje las solicitudes correctamente. </p><br><p>  Por ejemplo, imagine que su base de datos es un restaurante de comida rápida.  Tienes muchos clientes, necesitas servir comida rápida y precisamente lo que han ordenado.  O de lo contrario su negocio está hecho.  Eso es exactamente lo mismo para los DB.  Sí, hay docenas de colecciones y necesita datos de 7 a 8 de ellas simultáneamente.  Así que diseñe las relaciones para que estén conectadas lógicamente y devuelva la respuesta rápidamente. </p><br><p>  El sistema IoT es como un restaurante.  No hagas esperar a los clientes. </p><br><ul><li><h3 id="how-to-plot-gazillion-of-data">  Cómo trazar [gazillion] de datos </h3><br></li></ul><br><p>  ¿Recuerdas los momentos en que los sitios se cargaban durante un par de minutos?  Hemos visto aplicaciones donde los paneles se cargan aún más lentamente.  Y eso es un no-no. </p><br><p>  Los gráficos son una nueva normalidad.  La visualización de datos se usa comúnmente en SCADA, IoT y cualquier proyecto analítico y por una razón.  Ver picos en el consumo de energía, las tendencias del mercado, el CO2 en el aire y cualquier otra cosa que pueda medir (generalmente, con el tiempo) da una impresión vívida.  Ya ves, entiendes, actúas.  Con la presentación textual de conjuntos de datos masivos, su ojo se desdibujará en poco tiempo. </p><br><p>  Por lo tanto, el desafío radica en el trazado rápido de gráficos con una gran cantidad de pares valor-tiempo.  Antes de que los usuarios vean los datos en el gráfico, el sistema debe determinar todos los puntos para trazarlos.  Tuvimos una gran cantidad de lluvia de ideas para determinar cómo almacenar en caché los datos para que trazar un gráfico con 50K + pares de valores de datos lleve menos de 2 segundos. </p><br><p><img src="https://habrastorage.org/webt/an/fb/xx/anfbxx4z6vhsqm4c3wzbi2pxpfu.png"></p><br><h2>  Desde cero hasta la producción, y más allá </h2><br><p>  Además de la aplicación web, también desarrollamos aplicaciones iOS y Android para instalación, monitoreo y acceso sobre la marcha. </p><br><p>  Lo importante para recordar cuando se trabaja en sistemas IoT es mantener la simplicidad y la escalabilidad.  Se debe pensar que la arquitectura típica de IoT de 5 etapas no trae ninguna complejidad redundante. </p><br><p>  A medida que cada producto evoluciona, debe pensar en los medios para superponer nuevas funcionalidades sin interrumpir las funciones existentes.  Y, por supuesto, nunca te olvides de las pruebas unitarias. </p><br><h2>  Menos de un año desde su lanzamiento </h2><br><p>  Desde su lanzamiento en octubre de 2018, el Solar Manager es adoptado y utilizado por las principales empresas de instalación y mayoristas fotovoltaicos en Suiza. </p><br><p>  Al revisar y optimizar los hábitos de uso de energía, los consumidores obtienen lo mejor de sus PV y así ahorran costos.  En una escala más global y según <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Deloitte</a> , tal solución hace que la energía solar sea competitiva con las fuentes de energía tradicionales.  Esto, a su vez, lo hace atractivo para otros consumidores residenciales y empresas.  Y, finalmente, ¿no suena como la base de una ciudad inteligente que todos esperamos? </p><br><h2>  Detrás del éxito cualquier proyecto de IoT </h2><br><p>  No existe una 'guía definitiva' para crear productos exitosos.  Primero, cada proyecto es único y presenta sus propios desafíos.  En segundo lugar, incluso si ha realizado un montón de proyectos en el área, la tecnología y las demandas del mercado evolucionan.  Por lo tanto, la experiencia que tiene desde hace 2 años o incluso medio año puede no ser relevante ahora. </p><br><p>  También puede consultar nuestro GitHub para obtener muchos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">instrumentos</a> gratuitos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">de código abierto para el desarrollo de IoT.</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/466473/">https://habr.com/ru/post/466473/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../466459/index.html">Pruebas de integración paralela Postgresql en la aplicación GO</a></li>
<li><a href="../466461/index.html">Cumbre Zabbix 2019: qué esperar este año</a></li>
<li><a href="../466463/index.html">Cómo hicimos una aplicación prototipo de reparación de parada</a></li>
<li><a href="../466465/index.html">Summ3r 0f h4ck 2019: resultados de la investigación</a></li>
<li><a href="../466467/index.html">Soporte para tokens jwt anónimos en IdentityServer4 usando AnonymousIdentity</a></li>
<li><a href="../466475/index.html">Cómo convertir el tráfico en ventas utilizando los datos del usuario del sitio</a></li>
<li><a href="../466477/index.html">Uso de PVS-Studio al verificar proyectos de Unreal Engine en el sistema operativo Windows</a></li>
<li><a href="../466479/index.html">Uso de PVS-Studio al verificar proyectos de Unreal Engine en el sistema operativo Windows</a></li>
<li><a href="../466485/index.html">Coches eléctricos de los años 90. Parte 1. Hermanos Citroen y Peugeot</a></li>
<li><a href="../466489/index.html">Los ingenieros coreanos sugieren usar Hololens como alternativa a las particiones de oficina</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>