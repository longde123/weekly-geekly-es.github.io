<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§ûüèº üòè üï∂Ô∏è RxSwift Teil 1 üö∂üèº üë©üèº‚ÄçüöÄ ü§òüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Guten Tag, Habrovsk. In dieser Artikelserie m√∂chte ich √ºber reaktive Programmierung sprechen, n√§mlich das Framework 
 RxSwift . Es gab Artikel √ºber Rx...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>RxSwift Teil 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423603/"><p><img src="https://habrastorage.org/getpro/habr/post_images/ef0/3cf/97f/ef03cf97fa0f28bc4204634d7742d6af.jpg" alt="ReactiveX logo" title="Reactivex"></p><br><p>  Guten Tag, Habrovsk.  In dieser Artikelserie m√∂chte ich √ºber reaktive Programmierung sprechen, n√§mlich das Framework <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">RxSwift</a> .  Es gab Artikel √ºber RxSwift auf Habr√© und im Netzwerk, aber meiner Meinung nach sind sie f√ºr Anf√§nger zu schwierig.  Wenn Sie anfangen, reaktive Programmierung in iOS zu verstehen, frage ich nach Katze. </p><a name="habracut"></a><br><p>  Beginnen wir mit der Definition der reaktiven Programmierung. </p><br><blockquote>  Reaktive Programmierung ist ein Programmierparadigma, das sich auf Datenfl√ºsse und die Ausbreitung von Ver√§nderungen konzentriert. </blockquote><p>  Das sagt uns die gro√üe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wikipedia</a> . </p><br><p> Mit anderen Worten, wenn wir in einem imperativen Stil programmieren, schreiben wir in den Code eine Reihe von Befehlen, die nacheinander ausgef√ºhrt werden m√ºssen.  Der reaktive Programmierstil folgt mehreren anderen Konzepten.  Mit einem reaktiven Programmierstil ist unser Programm ein ‚ÄûZuh√∂rer‚Äú von Zustands√§nderungen in unseren beobachteten Objekten.  Es klingt kompliziert, aber es ist nicht genug, um dieses Konzept zu durchdringen, und alles wird extrem einfach und klar. <del>  Noch keine Bugs </del>  . </p><br><p>  Ich werde nicht malen, wie das Framework installiert wird, es ist einfach, indem Sie auf den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Link</a> klicken.  Lass uns √ºben. </p><br><h2 id="observable">  Beobachtbar </h2><br><p>  Beginnen wir mit einem einfachen, aber wichtigen Beobachtbaren oder Beobachtbaren.  Beobachtbar ist, was uns die Daten gibt, es wird ben√∂tigt, um einen Datenstrom zu erzeugen. </p><br><pre><code class="hljs vbscript"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> observable = Observable&lt;<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>&gt;.just(<span class="hljs-string"><span class="hljs-string">" observable"</span></span>)</code> </pre> <br><p>  <strong>BINGO</strong> !  Wir haben das erste Observable erstellt. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/750/94a/4b0/75094a4b0a1e2744a89382727fde51bb.jpg" alt="Na und?"></p><br><p>  Da wir das beobachtete Objekt erstellt haben, ist es logisch, dass wir ein Objekt erstellen m√ºssen, das beobachtet. </p><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> observable = Observable&lt;String&gt;.just(<span class="hljs-string"><span class="hljs-string">" observable"</span></span>) _ = observable.subscribe { (<span class="hljs-keyword"><span class="hljs-keyword">event</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">event</span></span></span></span></span><span class="hljs-function">) }</span></span></code> </pre> <br><p>  Im Protokoll wird Folgendes angezeigt: </p><br><pre> <code class="hljs lisp">next( observable) completed</code> </pre> <br><p><img src="https://habrastorage.org/webt/6d/8y/mo/6d8ymogkm6b0yvgdmvryssbv4ha.jpeg" alt="abgeschlossen?"></p><br><p>  Observable sendet uns Informationen √ºber seine Ereignisse, es gibt nur 3 Arten: </p><br><ul><li>  als n√§chstes </li><li>  Fehler </li><li>  abgeschlossen </li></ul><br><p>  Zusammen mit dem <em>n√§chsten</em> Element, dem von uns gesendeten Element und allen von uns gesendeten Ereignissen, wird ein <em>Fehler</em> gesendet, wie der Name im Fehlerfall impliziert, und in dem Fall <em>abgeschlossen,</em> in dem unser Observable alle Daten gesendet und beendet hat. </p><br><p>  Wir k√∂nnen detaillierter erstellen <del>  Beobachter </del>  Abonnenten und erhalten eine bequemere Ansicht, um alle Ereignisse zu behandeln. </p><br><pre> <code class="hljs mel">_ = observable.subscribe(onNext: { (<span class="hljs-keyword"><span class="hljs-keyword">event</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">event</span></span>) }, onError: { (<span class="hljs-keyword"><span class="hljs-keyword">error</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">error</span></span>) }, onCompleted: { <span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(<span class="hljs-string"><span class="hljs-string">"finish"</span></span>) }) { <span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(<span class="hljs-string"><span class="hljs-string">"disposed"</span></span>) <span class="hljs-comment"><span class="hljs-comment">// ,          }</span></span></code> </pre> <br><pre> <code class="hljs">  finish disposed</code> </pre> <br><p>  In Observable k√∂nnen Sie eine Sequenz nicht nur aus einer Zeile erstellen, sondern auch nicht nur aus Zeilen. Wir k√∂nnen dort jeden Datentyp einf√ºgen. </p><br><pre> <code class="hljs pgsql">let <span class="hljs-keyword"><span class="hljs-keyword">sequence</span></span> = Observable&lt;<span class="hljs-type"><span class="hljs-type">Int</span></span>&gt;.<span class="hljs-keyword"><span class="hljs-keyword">of</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>) _ = <span class="hljs-keyword"><span class="hljs-keyword">sequence</span></span>.subscribe { (event) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> print(event) }</code> </pre> <br><pre> <code class="hljs perl"><span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">2</span></span>) ... completed</code> </pre> <br><p>  Observable kann aus einem Array von Werten erstellt werden. </p><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> array = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> observable = Observable&lt;Int&gt;.<span class="hljs-keyword"><span class="hljs-keyword">from</span></span>(array) _ = observable.subscribe { (<span class="hljs-keyword"><span class="hljs-keyword">event</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">event</span></span></span></span></span><span class="hljs-function">) }</span></span></code> </pre> <br><pre> <code class="hljs lisp">next(<span class="hljs-number"><span class="hljs-number">1</span></span>) next(<span class="hljs-number"><span class="hljs-number">2</span></span>) next(<span class="hljs-number"><span class="hljs-number">3</span></span>) completed</code> </pre> <br><p>  Ein <em>Observable</em> kann eine beliebige Anzahl von <em>Abonnenten haben</em> .  Was ist nun ein Observable? </p><br><p>  <strong>Observable</strong> ist die Grundlage aller Rx, die asynchron eine Folge unver√§nderlicher Daten generieren und es anderen erm√∂glichen, diese zu abonnieren. </p><br><h2 id="disposing">  Entsorgen </h2><br><p>  Jetzt, da wir wissen, wie man eine Sequenz erstellt und abonniert, m√ºssen wir uns mit so etwas wie <em>Entsorgen</em> befassen. </p><br><p>  Es ist wichtig, sich daran zu erinnern, dass <em>Observable</em> ein "kalter" Typ ist, dh unser Observable "emittiert" keine Ereignisse, bis es abonniert ist.  Observable ist vorhanden, bis eine Fehlermeldung oder eine <em>Fehlermeldung</em> ( <em>abgeschlossen</em> ) gesendet wird.  Wenn wir das Abonnement explizit k√ºndigen m√∂chten, k√∂nnen wir Folgendes tun. </p><br><pre> <code class="hljs pgsql">// ‚Ññ<span class="hljs-number"><span class="hljs-number">1</span></span> //   let <span class="hljs-keyword"><span class="hljs-keyword">array</span></span> = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] // observable    let observable = Observable&lt;<span class="hljs-type"><span class="hljs-type">Int</span></span>&gt;.<span class="hljs-keyword"><span class="hljs-keyword">from</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">array</span></span>) //   observable let <span class="hljs-keyword"><span class="hljs-keyword">subscription</span></span> = observable.subscribe { (event) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> print(event) } //dispos<span class="hljs-string"><span class="hljs-string">'    subscription.dispose()</span></span></code> </pre> <br><p>  Es gibt noch mehr <del>  sch√∂n </del>  richtige Option. </p><br><pre> <code class="hljs pgsql">//  "" let bag = DisposeBag() //   let <span class="hljs-keyword"><span class="hljs-keyword">array</span></span> = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] // observable    let observable = Observable&lt;<span class="hljs-type"><span class="hljs-type">Int</span></span>&gt;.<span class="hljs-keyword"><span class="hljs-keyword">from</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">array</span></span>) //   observable _ = observable.subscribe { (event) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> print(event) }.disposed(<span class="hljs-keyword"><span class="hljs-keyword">by</span></span>: bag)</code> </pre> <br><p>  Daher f√ºgen wir unser Abonnement dem Recyclingbeutel oder dem <em>DisposeBag hinzu</em> . <br>  Wof√ºr ist das?  Wenn Sie ein Abonnement verwenden, es nicht zu Ihrer Tasche hinzuf√ºgen oder explizit nicht <em>dispose</em> aufrufen oder in extremen F√§llen das <em>Beobachtbare</em> in keiner Weise zum Abschluss bringen, wird h√∂chstwahrscheinlich ein Speicherverlust auftreten.  Sie werden DisposeBag sehr oft in Ihrer Arbeit mit RxSwift verwenden. </p><br><h2 id="operators">  Betreiber </h2><br><p>  Die funktional-reaktive Programmierung (FRP unten) verf√ºgt √ºber viele integrierte Operatoren zum Transformieren beobachtbarer Elemente.  Es gibt eine Site <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">rxmarbles</a> , auf der Sie die Arbeit und die Wirkung aller Bediener sehen k√∂nnen, aber wir sehen uns noch einige davon an. </p><br><h3 id="map">  Karte </h3><br><p>  Der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em><strong>Kartenoperator</strong></em></a> wird sehr oft verwendet und ich denke, dass er vielen bekannt ist. Mit seiner Hilfe transformieren wir alle empfangenen Elemente. <br>  <em>Ein Beispiel:</em> </p><br><pre> <code class="hljs pgsql">let bag = DisposeBag() let <span class="hljs-keyword"><span class="hljs-keyword">array</span></span> = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] let observable = Observable&lt;<span class="hljs-type"><span class="hljs-type">Int</span></span>&gt;.<span class="hljs-keyword"><span class="hljs-keyword">from</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">array</span></span>).map { <span class="hljs-meta"><span class="hljs-meta">$0</span></span> * <span class="hljs-number"><span class="hljs-number">2</span></span> } _ = observable.subscribe { (e) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> print(e) }.disponsed(<span class="hljs-keyword"><span class="hljs-keyword">by</span></span>: bag)</code> </pre> <br><p>  Was bekommen wir in der Konsole: </p><br><pre> <code class="hljs lisp">next(<span class="hljs-number"><span class="hljs-number">2</span></span>) next(<span class="hljs-number"><span class="hljs-number">4</span></span>) next(<span class="hljs-number"><span class="hljs-number">6</span></span>) completed</code> </pre> <br><p>  Wir nehmen jedes Element der Sequenz und erstellen eine neue resultierende Sequenz.  Um klarer zu machen, was los ist, ist es besser, mehr aufzuschreiben. </p><br><pre> <code class="hljs pgsql">let bag = DisposeBag() let observable = Observable&lt;<span class="hljs-type"><span class="hljs-type">Int</span></span>&gt;.<span class="hljs-keyword"><span class="hljs-keyword">from</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">array</span></span>) //  observable let transformObservable = observable.map { <span class="hljs-meta"><span class="hljs-meta">$0</span></span> * <span class="hljs-number"><span class="hljs-number">2</span></span> } _ = transformObservable.subscribe { (e) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> print(e) }.disposed(<span class="hljs-keyword"><span class="hljs-keyword">by</span></span>: bag)</code> </pre> <br><h4 id="chto-takoe-0">  Was ist $ 0? </h4><br><p>  $ 0 ist standardm√§√üig der Name des Elements. Wir k√∂nnen abgek√ºrzte und vollst√§ndige Datens√§tze in Methoden verwenden. Meistens verwenden wir Abk√ºrzungen. </p><br><pre> <code class="hljs bash">//  <span class="hljs-built_in"><span class="hljs-built_in">let</span></span> transformObservable = observable.map { <span class="hljs-variable"><span class="hljs-variable">$0</span></span> * 2 } //  <span class="hljs-built_in"><span class="hljs-built_in">let</span></span> transformObservable = observable.map { (element) -&gt; Int <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">return</span></span> element * 2 }</code> </pre> <br><p>  Stimmen Sie zu, dass die Kurzform viel einfacher ist, oder? </p><br><h3 id="filter">  Filter </h3><br><p>  Mit dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Filteroperator</a> k√∂nnen wir die von unserem Observable ausgegebenen Daten herausfiltern, dh beim Abonnieren erhalten wir keine unn√∂tigen Werte f√ºr uns. <br>  <strong>Ein Beispiel:</strong> </p><br><pre> <code class="hljs pgsql">let bag = DisposeBag() let <span class="hljs-keyword"><span class="hljs-keyword">array</span></span> = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span> , <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>] // observable   let observable = Observable&lt;<span class="hljs-type"><span class="hljs-type">Int</span></span>&gt;.<span class="hljs-keyword"><span class="hljs-keyword">from</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">array</span></span>) //  <span class="hljs-keyword"><span class="hljs-keyword">filter</span></span>,     observable let filteredObservable = observable.<span class="hljs-keyword"><span class="hljs-keyword">filter</span></span> { <span class="hljs-meta"><span class="hljs-meta">$0</span></span> &gt; <span class="hljs-number"><span class="hljs-number">2</span></span> } // _ = filteredObservable.subscribe { (e) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> print(e) }.disposed(<span class="hljs-keyword"><span class="hljs-keyword">by</span></span>: bag)</code> </pre> <br><p>  Was bekommen wir in der Konsole? </p><br><pre> <code class="hljs perl"><span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">4</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">5</span></span>) ... completed</code> </pre> <br><p>  Wie wir sehen, haben wir in der Konsole nur die Werte, die unseren Bedingungen entsprechen. </p><br><p>  √úbrigens k√∂nnen die Operatoren kombiniert werden. So w√ºrde es aussehen, wenn wir sowohl den Filteroperator als auch den <em>Kartenoperator</em> sofort anwenden m√∂chten. </p><br><pre> <code class="hljs pgsql">let bag = DisposeBag() let <span class="hljs-keyword"><span class="hljs-keyword">array</span></span> = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span> , <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>] let observable = Observable&lt;<span class="hljs-type"><span class="hljs-type">Int</span></span>&gt;.<span class="hljs-keyword"><span class="hljs-keyword">from</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">array</span></span>) let filteredAndMappedObservable = observable .<span class="hljs-keyword"><span class="hljs-keyword">filter</span></span> { <span class="hljs-meta"><span class="hljs-meta">$0</span></span> &gt; <span class="hljs-number"><span class="hljs-number">2</span></span> } .map { <span class="hljs-meta"><span class="hljs-meta">$0</span></span> * <span class="hljs-number"><span class="hljs-number">2</span></span> } _ = filteredAndMappedObservable.subscribe { (e) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> print(e) }.disposed(<span class="hljs-keyword"><span class="hljs-keyword">by</span></span>: bag)</code> </pre> <br><p>  <strong>Konsole:</strong> </p><br><pre> <code class="hljs lisp">next(<span class="hljs-number"><span class="hljs-number">6</span></span>) next(<span class="hljs-number"><span class="hljs-number">8</span></span>) next(<span class="hljs-number"><span class="hljs-number">10</span></span>) next(<span class="hljs-number"><span class="hljs-number">12</span></span>) next(<span class="hljs-number"><span class="hljs-number">14</span></span>) completed</code> </pre> <br><h3 id="distinct">  Deutlich </h3><br><p>  Ein weiterer hervorragender Operator, der mit dem Filtern verbunden ist. Mit dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">disctinct-</a> Operator k√∂nnen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sie</a> nur die ge√§nderten Daten √ºberspringen. Wenden Sie sich am besten sofort einem Beispiel zu, und alles wird klar. </p><br><pre> <code class="hljs vbscript"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bag = DisposeBag() <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> <span class="hljs-built_in"><span class="hljs-built_in">array</span></span> = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> observable = Observable&lt;<span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>&gt;.from(<span class="hljs-built_in"><span class="hljs-built_in">array</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> filteredObservable = observable.distinctUntilChanged() _ = filteredObservable.subscribe { (e) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> print(e) }.disposed(by: bag)</code> </pre> <br><p>  In der Konsole erhalten wir Folgendes: </p><br><pre> <code class="hljs lisp">next(<span class="hljs-number"><span class="hljs-number">1</span></span>) next(<span class="hljs-number"><span class="hljs-number">2</span></span>) next(<span class="hljs-number"><span class="hljs-number">3</span></span>) next(<span class="hljs-number"><span class="hljs-number">5</span></span>) next(<span class="hljs-number"><span class="hljs-number">6</span></span>) completed</code> </pre> <br><p>  Das hei√üt, wenn das aktuelle Element der Sequenz mit dem vorherigen identisch ist, wird es √ºbersprungen usw., bis ein anderes Element als das vorherige angezeigt wird. Dies ist sehr praktisch, wenn Sie beispielsweise mit der Benutzeroberfl√§che, n√§mlich der Tabelle, arbeiten, falls wir Daten erhalten haben sind die gleichen wie wir jetzt haben, dann sollte das <em>Nachladen der</em> Tabelle nicht sein. </p><br><h3 id="takelast">  Takelast </h3><br><p>  Als sehr einfacher <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">takeLast-</a> Operator nehmen wir die n-te Anzahl von Elementen vom Ende. </p><br><pre> <code class="hljs vbscript"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bag = DisposeBag() <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> <span class="hljs-built_in"><span class="hljs-built_in">array</span></span> = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> observable = Observable&lt;<span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>&gt;.from(<span class="hljs-built_in"><span class="hljs-built_in">array</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> takeLastObservable = observable.takeLast(<span class="hljs-number"><span class="hljs-number">1</span></span>) _ = takeLastObservable.subscribe { (e) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> print(e) }.disposed(by: bag)</code> </pre> <br><p>  In der Konsole erhalten wir Folgendes: </p><br><pre> <code class="hljs lisp">next(<span class="hljs-number"><span class="hljs-number">6</span></span>) completed</code> </pre> <br><h3 id="throttle-i-interval">  Gas und Intervall </h3><br><p>  Dann habe ich beschlossen, 2 Operatoren gleichzeitig zu nehmen, einfach weil es mit Hilfe des zweiten einfach ist, die Arbeit des ersten zu zeigen. </p><br><p>  Mit dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Drosselklappenoperator</a> k√∂nnen Sie eine Pause zwischen der Erfassung der √ºbertragenen Werte einlegen. Dies ist ein sehr einfaches Beispiel. Sie schreiben eine reaktive Anwendung, verwenden die Suchleiste und m√∂chten nicht jedes Mal, wenn Sie Daten eingeben, die Tabelle neu laden oder zum Server gehen. Verwenden Sie also <em>Drosselklappe</em> und sagen Sie dies M√∂chten Sie Benutzerdaten alle 2 Sekunden erfassen (z. B. k√∂nnen Sie ein beliebiges Intervall festlegen) und den Ressourcenverbrauch f√ºr unn√∂tige Verarbeitung reduzieren. Wie funktioniert das und wird im Code beschrieben?  Ein Beispiel finden Sie weiter unten. </p><br><pre> <code class="hljs bash"><span class="hljs-built_in"><span class="hljs-built_in">let</span></span> bag = DisposeBag() //observable     0.5    1   0 <span class="hljs-built_in"><span class="hljs-built_in">let</span></span> observable = Observable&lt;Int&gt;.interval(0.5, scheduler: MainScheduler.instance) <span class="hljs-built_in"><span class="hljs-built_in">let</span></span> throttleObservable = observable.throttle(1.0, scheduler: MainScheduler.instance) _ = takeLastObservable.subscribe { (event) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"throttle \(event)"</span></span>) }.disposed(by: bag)</code> </pre> <br><p>  In der Konsole wird sein: </p><br><pre> <code class="hljs perl">throttle <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>) throttle <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">2</span></span>) throttle <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">4</span></span>) throttle <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">6</span></span>) ...</code> </pre> <br><p>  Der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Intervalloperator</a> veranlasst Observable, alle 0,5 Sekunden Werte in Schritten von 1 ab 0 zu generieren, was f√ºr Rx ein so einfacher Timer ist.  Es stellt sich heraus, dass, sobald die Werte alle 0,5 Sekunden generiert wurden, 2 Werte pro Sekunde generiert werden, einfache Arithmetik, und der Drosselklappenbediener eine Sekunde wartet und den letzten Wert nimmt. </p><br><h3 id="debounce">  Entprellen </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Debounce ist</a> der vorherigen Aussage sehr √§hnlich, aber meiner Meinung nach etwas schlauer.  Der Entprellungsoperator wartet auf die n-te Zeit und wenn sich seit dem Start seines Timers keine √Ñnderungen ergeben, nimmt er den letzten Wert an. Wenn wir den Wert senden, wird der Timer erneut gestartet.  Dies ist nur sehr n√ºtzlich f√ºr die im vorherigen Beispiel beschriebene Situation. Der Benutzer gibt Daten ein, wir warten, bis er fertig ist (wenn der Benutzer eine oder eine halbe Sekunde inaktiv ist), und dann beginnen wir mit einer Aktion.  Wenn wir also einfach den Operator im vorherigen Code √§ndern, erhalten wir die Werte nicht in der Konsole, da das Entprellen eine Sekunde wartet, aber alle 0,5 Sekunden einen neuen Wert erh√§lt und den Timer neu startet, sodass wir nichts erhalten.  Sehen wir uns ein Beispiel an. </p><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bag = <span class="hljs-type"><span class="hljs-type">DisposeBag</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> observable = <span class="hljs-type"><span class="hljs-type">Observable</span></span>&lt;<span class="hljs-type"><span class="hljs-type">Int</span></span>&gt;.interval(<span class="hljs-number"><span class="hljs-number">1.5</span></span>, scheduler: <span class="hljs-type"><span class="hljs-type">MainScheduler</span></span>.instance) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> debounceObservable = observable.debounce(<span class="hljs-number"><span class="hljs-number">1.0</span></span>, scheduler: <span class="hljs-type"><span class="hljs-type">MainScheduler</span></span>.instance) <span class="hljs-number"><span class="hljs-number">_</span></span> = debounceObservable.subscribe({ (e) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"debounce \(e)"</span></span>) }).disposed(by: bag)</code> </pre> <br><p>  In dieser Phase schlage ich vor, mit den Betreibern fertig zu werden. Es gibt viele von ihnen im RxSwift-Framework. Man kann nicht sagen, dass sie alle im t√§glichen Leben sehr notwendig sind, aber Sie m√ºssen immer noch √ºber ihre Existenz Bescheid wissen. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Daher</a> ist es ratsam, sich mit der vollst√§ndigen Liste der Betreiber auf der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">rxmarbles-</a> Website vertraut zu machen. </p><br><h2 id="scheduler">  Scheduler </h2><br><p>  Ein sehr wichtiges Thema, das ich in diesem Artikel ansprechen m√∂chte, ist der Scheduler.  Scheduler, erlauben Sie uns, unser Observable auf bestimmten Threads auszuf√ºhren, und sie haben ihre eigenen Feinheiten.  Zu Beginn gibt es zwei Arten der Einstellung des beobachtbaren Schedulers: [watchOn] () und [subscribeOn] (). </p><br><h3 id="subscribeon">  Abonnieren </h3><br><p>  SubscribeOn ist f√ºr den Thread verantwortlich, in dem der gesamte beobachtbare Prozess ausgef√ºhrt wird, bis seine Ereignisse den Handler (Abonnenten) erreichen. </p><br><h3 id="observeon">  Beobachten Sie </h3><br><p>  Wie Sie sich vorstellen k√∂nnen, ist watchOn daf√ºr verantwortlich, in welchem ‚Äã‚ÄãStream die vom Abonnenten empfangenen Ereignisse verarbeitet werden. </p><br><p>  Dies ist eine sehr coole Sache, da wir den Download von etwas aus dem Netzwerk sehr einfach in den Hintergrund-Stream stellen und nach Erhalt des Ergebnisses zum Haupt-Stream gehen und irgendwie auf die Benutzeroberfl√§che reagieren k√∂nnen. </p><br><p>  Mal sehen, wie das mit einem Beispiel funktioniert: </p><br><pre> <code class="hljs lua">let observable = Observable&lt;Int&gt;.<span class="hljs-built_in"><span class="hljs-built_in">create</span></span> { (observer) -&gt; Disposable <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"thread observable -&gt; \(Thread.current)"</span></span>) observer.onNext(<span class="hljs-number"><span class="hljs-number">1</span></span>) observer.onNext(<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Disposables.<span class="hljs-built_in"><span class="hljs-built_in">create</span></span>() }.subscribeOn(ConcurrentDispatchQueueScheduler(qos: .background)) _ = observable .observeOn(MainScheduler.instance) .subscribe({ (e) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"thread -&gt; \(Thread.current)"</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(e) })</code> </pre> <br><p>  In der Konsole erhalten wir: </p><br><pre> <code class="hljs pgsql">thread observable -&gt; &lt;NSThread: <span class="hljs-number"><span class="hljs-number">0x604000465040</span></span>&gt;{number = <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-type"><span class="hljs-type">name</span></span> = (<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>)} thread -&gt; &lt;NSThread: <span class="hljs-number"><span class="hljs-number">0x60000006f6c0</span></span>&gt;{number = <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-type"><span class="hljs-type">name</span></span> = main} next(<span class="hljs-number"><span class="hljs-number">1</span></span>) thread -&gt; &lt;NSThread: <span class="hljs-number"><span class="hljs-number">0x60000006f6c0</span></span>&gt;{number = <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-type"><span class="hljs-type">name</span></span> = main} next(<span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre> <br><p>  Wir sehen, dass Observable im Hintergrund-Thread erstellt wurde, und wir haben die Daten im Haupt-Thread verarbeitet.  Dies ist n√ºtzlich, wenn Sie mit einem Netzwerk arbeiten, zum Beispiel: </p><br><pre> <code class="hljs mel">let rxRequest = URLSession.shared.rx.data(request: URLRequest(url: URL(<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>: <span class="hljs-string"><span class="hljs-string">"http://jsonplaceholder.typicode.com/posts/1"</span></span>)!)).subscribeOn(ConcurrentDispatchQueueScheduler(qos: .background)) _ = rxRequest .observeOn(MainScheduler.<span class="hljs-keyword"><span class="hljs-keyword">instance</span></span>) .subscribe { (<span class="hljs-keyword"><span class="hljs-keyword">event</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(<span class="hljs-string"><span class="hljs-string">" \(event)"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(<span class="hljs-string"><span class="hljs-string">"thread \(Thread.current)"</span></span>) }</code> </pre> <br><p>  Somit wird die Anforderung im Hintergrundthread ausgef√ºhrt, und die gesamte Antwortverarbeitung erfolgt in main.  Zu diesem Zeitpunkt ist es noch zu fr√ºh zu sagen, welche <em>Art von Empfangsmethode URLSession</em> pl√∂tzlich <em>gezeichnet</em> hat. Dies wird sp√§ter erl√§utert. Dieser Code wurde als Beispiel f√ºr die Verwendung von <em>Scheduler</em> angegeben. <em>√úbrigens erhalten</em> wir die folgende Antwort auf die Konsole. </p><br><pre> <code class="hljs pgsql">curl -X <span class="hljs-keyword"><span class="hljs-keyword">GET</span></span> "http://jsonplaceholder.typicode.com/posts/1" -i -v Success (<span class="hljs-number"><span class="hljs-number">305</span></span>ms): Status <span class="hljs-number"><span class="hljs-number">200</span></span> ** next(<span class="hljs-number"><span class="hljs-number">292</span></span> bytes)** thread -&gt; &lt;NSThread: <span class="hljs-number"><span class="hljs-number">0x600000072580</span></span>&gt;{number = <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-type"><span class="hljs-type">name</span></span> = main}  completed thread -&gt; &lt;NSThread: <span class="hljs-number"><span class="hljs-number">0x600000072580</span></span>&gt;{number = <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-type"><span class="hljs-type">name</span></span> = main}</code> </pre> <br><p>  Lassen Sie uns im Finale sehen, welche <em>Art von Daten</em> zu uns gekommen sind. Dazu m√ºssen wir eine √úberpr√ºfung durchf√ºhren, um die fertige Nachricht nicht versehentlich zu analysieren. </p><br><pre> <code class="hljs mel">_ = rxRequest .observeOn(MainScheduler.<span class="hljs-keyword"><span class="hljs-keyword">instance</span></span>) .subscribe { (<span class="hljs-keyword"><span class="hljs-keyword">event</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-keyword"><span class="hljs-keyword">event</span></span>.isCompleted &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">event</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">error</span></span> == nil) { let json = try? JSONSerialization.jsonObject(with: <span class="hljs-keyword"><span class="hljs-keyword">event</span></span>.element!, options: []) <span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(json!) } <span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(<span class="hljs-string"><span class="hljs-string">"data -&gt; \(event)"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(<span class="hljs-string"><span class="hljs-string">"thread -&gt; \(Thread.current)"</span></span>) }</code> </pre> <br><p>  Wir stellen sicher, dass es sich bei dem Ereignis nicht um eine beobachtbare Meldung zum Herunterfahren oder einen daraus resultierenden Fehler handelt. Es war zwar m√∂glich, eine andere Abonnementmethode zu implementieren und alle diese Ereignistypen separat zu verarbeiten. Sie k√∂nnen dies jedoch bereits selbst tun. In der Konsole wird Folgendes angezeigt. </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">curl</span></span> -X GET <span class="hljs-string"><span class="hljs-string">"http://jsonplaceholder.typicode.com/posts/1"</span></span> -i -v Success (<span class="hljs-number"><span class="hljs-number">182ms</span></span>): Status <span class="hljs-number"><span class="hljs-number">200</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">body</span></span> = <span class="hljs-string"><span class="hljs-string">"quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto"</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">id</span></span> = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">title</span></span> = <span class="hljs-string"><span class="hljs-string">"sunt aut facere repellat provident occaecati excepturi optio reprehenderit"</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">userId</span></span> = <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-attribute"><span class="hljs-attribute">data</span></span> -&gt; next(<span class="hljs-number"><span class="hljs-number">292</span></span> bytes) thread -&gt; &lt;NSThread: 0x60400006c6c0&gt;{<span class="hljs-attribute"><span class="hljs-attribute">number</span></span> = <span class="hljs-number"><span class="hljs-number">1</span></span>, name = main} data -&gt; completed thread -&gt; &lt;NSThread: 0x60400006c6c0&gt;{<span class="hljs-attribute"><span class="hljs-attribute">number</span></span> = <span class="hljs-number"><span class="hljs-number">1</span></span>, name = main}</code> </pre> <br><p>  Erhaltene Daten :-) </p><br><h2 id="subjects">  Themen </h2><br><p>  Wir wenden uns dem Hei√üen zu, n√§mlich vom "kalten" oder "passiven" beobachtbaren zum "hei√üen" oder "aktiven" beobachtbaren, die Subjekt'ami genannt werden.  Wenn unsere Observable zuvor ihre Arbeit erst nach dem Abonnieren begonnen haben und Sie eine Frage im Kopf hatten: ‚ÄûNun, warum brauche ich das alles?‚Äú, Dann funktionieren die Probanden immer und senden immer die empfangenen Daten. </p><br><p>  Wie ist es?  Im Falle von Observable gingen wir in die Klinik, gingen weiter zur b√∂sen Oma <del>  Rezeption </del>  An der Rezeption n√§herten sie sich und fragten, in welches B√ºro wir gehen sollten. Dann antwortete uns die Granulation. Bei Probanden steht die Granulation und h√∂rt auf den Zeitplan und den Zustand der √Ñrzte im Krankenhaus. Sobald sie Informationen √ºber die Bewegung eines Arztes erh√§lt, sagt er dies sofort Etwas ist f√ºr die Granulierung nutzlos, wir k√∂nnen einfach auftauchen, ihr zuh√∂ren, gehen, und sie wird weiterhin sagen, etwas wird mit Vergleichen mitgerissen, lasst uns zum Code kommen. </p><br><p>  Erstellen Sie einen Betreff und zwei Abonnenten, erstellen Sie den ersten unmittelbar nach dem Betreff, senden Sie dem Betreff einen Wert, erstellen Sie einen zweiten und senden Sie ein paar weitere Werte. </p><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> subject = PublishSubject&lt;Int&gt;() subject.subscribe { (<span class="hljs-keyword"><span class="hljs-keyword">event</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"  \(event)"</span></span></span></span></span><span class="hljs-function">) } subject.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onNext</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span></span><span class="hljs-function">) _</span></span> = subject.subscribe { (<span class="hljs-keyword"><span class="hljs-keyword">event</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"  \(event)"</span></span></span></span></span><span class="hljs-function">) } subject.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onNext</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span></span><span class="hljs-function">) subject.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onNext</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span></span><span class="hljs-function">) subject.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onNext</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">4</span></span></span></span></span><span class="hljs-function">)</span></span></code> </pre> <br><p>  Was sehen wir in der Konsole?  Richtig, der erste hat das erste Event geschafft, der zweite nicht. </p><br><pre> <code class="hljs perl">  <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">2</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">2</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">4</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">4</span></span>)</code> </pre> <br><p>  Schon besser f√ºr Ihre Vorstellung von reaktiver Programmierung geeignet? <br>  Es gibt verschiedene Formen von Themen, die sich alle darin unterscheiden, wie sie Werte senden. </p><br><p>  PublishSubject ist das einfachste, es ist nicht f√ºr alle wichtig, es sendet einfach an alle Abonnenten, was es erreicht hat, und vergisst es. </p><br><p>  ReplaySubject - dies ist jedoch das Wichtigste. Beim Erstellen wird die Gr√∂√üe des Puffers angegeben (wie viele Werte werden gespeichert). Dadurch werden die letzten n Werte im Speicher gespeichert und sofort an den neuen Abonnenten gesendet. </p><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> subject = ReplaySubject&lt;Int&gt;.create(bufferSize: <span class="hljs-number"><span class="hljs-number">3</span></span>) subject.subscribe { (<span class="hljs-keyword"><span class="hljs-keyword">event</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"  \(event)"</span></span></span></span></span><span class="hljs-function">) } subject.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onNext</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span></span><span class="hljs-function">) subject.subscribe</span></span> { (<span class="hljs-keyword"><span class="hljs-keyword">event</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"  \(event)"</span></span></span></span></span><span class="hljs-function">) } subject.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onNext</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span></span><span class="hljs-function">) subject.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onNext</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span></span><span class="hljs-function">) subject.subscribe</span></span> { (<span class="hljs-keyword"><span class="hljs-keyword">event</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"  \(event)"</span></span></span></span></span><span class="hljs-function">) } subject.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onNext</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">4</span></span></span></span></span><span class="hljs-function">)</span></span></code> </pre> <br><p>  Wir schauen auf die Konsole </p><br><pre> <code class="hljs perl">  <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">2</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">2</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">2</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">4</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">4</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">4</span></span>)</code> </pre> <br><p>  BehaviorSubject ist kein Unsinn wie der vorherige, es hat einen Startwert und merkt sich den letzten Wert und sendet ihn sofort, nachdem der Abonnent ihn abonniert hat. </p><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> subject = BehaviorSubject&lt;Int&gt;(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>) subject.subscribe { (<span class="hljs-keyword"><span class="hljs-keyword">event</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"  \(event)"</span></span></span></span></span><span class="hljs-function">) } subject.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onNext</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span></span><span class="hljs-function">) subject.subscribe</span></span> { (<span class="hljs-keyword"><span class="hljs-keyword">event</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"  \(event)"</span></span></span></span></span><span class="hljs-function">) } subject.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onNext</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span></span><span class="hljs-function">) subject.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onNext</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span></span><span class="hljs-function">) subject.subscribe</span></span> { (<span class="hljs-keyword"><span class="hljs-keyword">event</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"  \(event)"</span></span></span></span></span><span class="hljs-function">) } subject.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onNext</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">4</span></span></span></span></span><span class="hljs-function">)</span></span></code> </pre> <br><p>  Konsole </p><br><pre> <code class="hljs perl">  <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">2</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">2</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">4</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">4</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">next</span></span>(<span class="hljs-number"><span class="hljs-number">4</span></span>)</code> </pre> <br><h2 id="zaklyuchenie">  Fazit </h2><br><p>  Dies war ein Einf√ºhrungsartikel, der geschrieben wurde, damit Sie die Grundlagen kennen und anschlie√üend darauf aufbauen k√∂nnen.  In den folgenden Artikeln wird erl√§utert, wie Sie mit RxSwift mit iOS-UI-Komponenten arbeiten und Erweiterungen f√ºr UI-Komponenten erstellen. </p><br><h3 id="ne-rxswiftom-ediny">  Nicht RxSwift'om vereint </h3><br><p>  Reaktive Programmierung ist nicht nur in der RxSwift-Bibliothek implementiert, es gibt auch mehrere Implementierungen, von denen die beliebtesten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ReacktiveKit / Bond</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ReactiveSwift / ReactiveCocoa sind</a> .  Sie alle haben kleine Unterschiede in der Implementierung unter der Haube, aber meiner Meinung nach ist es besser, Ihr Wissen √ºber Reaktivismus mit RxSwift zu beginnen, da es unter ihnen am beliebtesten ist und es in gro√üartigem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Google</a> mehr Antworten geben wird, aber nach Ihnen Wenn Sie die Essenz dieses Konzepts verstehen, k√∂nnen Sie Bibliotheken nach Ihrem Geschmack und Ihrer Farbe ausw√§hlen. <br>  <em>Artikelautor: Pavel Grechikhin</em> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de423603/">https://habr.com/ru/post/de423603/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de423591/index.html">Alte Lieder √ºber die Hauptsache. Java und ausgehende Anfragen</a></li>
<li><a href="../de423593/index.html">Google k√ºndigt einen Wettbewerb f√ºr Angriffe auf Bildverarbeitungsalgorithmen an</a></li>
<li><a href="../de423595/index.html">Frango Anomalie, Austausch</a></li>
<li><a href="../de423597/index.html">Wie und welche Cluster k√∂nnen im Kundenstamm zugeordnet werden?</a></li>
<li><a href="../de423601/index.html">Jobsystem und Suchpfad</a></li>
<li><a href="../de423607/index.html">Linus Torvalds gibt seinen harten Stil auf und nimmt sich eine Auszeit</a></li>
<li><a href="../de423609/index.html">Wohin gehen Websites nach dem Tod? Pers√∂nliche Erfahrung</a></li>
<li><a href="../de423611/index.html">Ein-Klick-Zahlung - gut oder b√∂se?</a></li>
<li><a href="../de423615/index.html">Von UX-Spezialisten geforderte Fachkenntnisse (Slice 2018)</a></li>
<li><a href="../de423617/index.html">Verwenden eines iPhone-Akkus zum Entwerfen tragbarer Elektronik</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>