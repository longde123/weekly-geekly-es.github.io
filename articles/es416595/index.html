<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíï üêπ üë®üèæ‚ÄçüöÄ Dagaz: Horda üßõüèª üòø üõ≥Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Millones eres t√∫. Nosotros: oscuridad y oscuridad y oscuridad. 
 ¬°Pru√©balo, lucha contra nosotros! 
 S√≠, escitas, ¬°lo somos! S√≠, asi√°ticos, nosotros ....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Dagaz: Horda</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/416595/"><img align="left" src="https://habrastorage.org/getpro/habr/post_images/43e/794/3a3/43e7943a3e289a281570ab8b68d347b8.png" alt="imagen">  <b><i>Millones eres t√∫.</i></b>  <b><i>Nosotros: oscuridad y oscuridad y oscuridad.</i></b> <b><i><br></i></b>  <b><i>¬°Pru√©balo, lucha contra nosotros!</i></b> <b><i><br></i></b>  <b><i>S√≠, escitas, ¬°lo somos!</i></b>  <b><i>S√≠, asi√°ticos, nosotros ...</i></b> <b><i><br><br></i></b>  <b><i>Alexander Block " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">escitas</a> "</i></b> <br><br>  En un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo</a> anterior <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">,</a> habl√© mucho sobre mis hallazgos en el campo del dise√±o y la interfaz de usuario de los juegos de mesa, pero tuve que interrumpir esa historia, se puede decir en el medio, en parte debido al gran volumen del art√≠culo, en parte simplemente porque en ese momento no estaba listo para continuar. siguiente  Desde entonces, mucho ha cambiado.  Se resolvieron nuevos problemas interesantes, y los juegos que los generaron (no menos interesantes) se agregaron al <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">lanzamiento</a> .  Quiero hablar de esto hoy. <br><a name="habracut"></a><br><iframe width="560" height="315" src="https://www.youtube.com/embed/nWSawKsdTlQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Si alguien recuerda, se trataba del juego " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Abalon</a> ", desarrollado por Michel Lale y Laurent Levy en 1988.  Su esencia es empujar las bolas del enemigo fuera del campo.  Dos bolas pueden empujar una y tres bolas, un par de bolas de un color diferente.  El jugador puede mover sus bolas en el tablero, una a la vez, o en grupos, dos o tres bolas cada una (adem√°s, tres bolas deben formar una "fila").  ¬øQu√© me impidi√≥ hacer este juego la √∫ltima vez? <br><br>  Obviamente no es el movimiento del grupo en s√≠.  El movimiento simult√°neo de varias piezas, dentro de un movimiento, es incluso en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ajedrez</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">enroque</a> ).  Y los <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">rompecabezas de</a> " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">rompecabezas deslizantes</a> " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">est√°n</a> construidos simplemente para garantizar que dicho movimiento se produzca sincr√≥nicamente y sin problemas.  Veamos un juego desarrollado por Robert Abbott en 1975: <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/kv/fp/d-/kvfpd-kf--0kt2sproxmbidswpi.png"></a> </div><br>  Parece un abal√≥n.  La √∫nica diferencia es que la "fila" no "empuja" la pieza del oponente de su lugar, sino que simplemente la retira del tablero usando una captura de "ajedrez".  La victoria se otorga a uno de los jugadores que logr√≥ dibujar m√°s en la √∫ltima fila del tablero de sus piezas que su oponente logr√≥ en el mismo momento.  Todo el juego se basa en "filas" en movimiento.  Es poco probable que tenga √©xito en ganar solo piezas solitarias.  As√≠ es como se ve un simple movimiento de empuje. <br><br><div class="spoiler">  <b class="spoiler_title">Zrf</b> <div class="spoiler_text"><pre><code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">define</span></span> push-1 ( $<span class="hljs-number"><span class="hljs-number">1</span></span> (<span class="hljs-name"><span class="hljs-name">verify</span></span> friend?) (<span class="hljs-name"><span class="hljs-name">while</span></span> friend? cascade $<span class="hljs-number"><span class="hljs-number">1</span></span> ) (<span class="hljs-name"><span class="hljs-name">verify</span></span> not-friend?) add ))</code> </pre> </div></div><br>  Se trata de la <b>cascada de</b> palabras m√°gicas: obliga al int√©rprete a "liberar" la figura movida al campo actual, tomando desde all√≠ "en la mano" otra figura (no es importante para s√≠ mismo o para el oponente) y continuar movi√©ndose, ya con la nueva figura "en la mano".  En un movimiento, dicha operaci√≥n se puede realizar repetidamente, moviendo as√≠ un n√∫mero ilimitado de piezas a la vez.  Tales casos (y un poco m√°s complejos) tambi√©n se encuentran en otros juegos: " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Guns</a> ", " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Dameo</a> ", " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Leutwayite Game</a> ", ... <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/ts/cz/0-/tscz0-t_xblqjzzxeolgpa-7cjm.gif"></a> </div><br>  Desde el punto de vista de la interfaz de usuario, los movimientos de "empuje" tambi√©n se implementan de manera bastante trivial.  La etiqueta de campo objetivo familiar (c√≠rculo verde) aparece en la figura.  Si (de acuerdo con las reglas del juego) podemos comer esta pieza, comemos (captura de ajedrez), de lo contrario, empujamos.  Puedes empujar una fila y m√°s de un campo hacia adelante (como en el juego Epaminondas).  Por supuesto, codificar tal movimiento ser√° un poco m√°s complicado: <br><br><div class="spoiler">  <b class="spoiler_title">Zrf</b> <div class="spoiler_text"><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">define</span></span> push-2 ( $<span class="hljs-number"><span class="hljs-number">1</span></span> (<span class="hljs-name"><span class="hljs-name">verify</span></span> friend?) (<span class="hljs-name"><span class="hljs-name">while</span></span> friend? mark $<span class="hljs-number"><span class="hljs-number">1</span></span> (<span class="hljs-name"><span class="hljs-name">verify</span></span> not-enemy?) to back cascade $<span class="hljs-number"><span class="hljs-number">1</span></span> ) $<span class="hljs-number"><span class="hljs-number">1</span></span> (<span class="hljs-name"><span class="hljs-name">verify</span></span> not-friend?) add ))</code> </pre></div></div><br>  La palabra clave to (y su emparejado <b>desde</b> ) act√∫a junto con la <b>cascada</b> .  Significa que la figura "fuera de control" debe colocarse en el tablero ahora, y la nueva figura "tomar la mano" un poco m√°s tarde, despu√©s de navegar a otro campo.  En general, los movimientos de "empuje" son simples, pero hay otro tipo de movimiento grupal para Abalon: <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/ta/hn/js/tahnjsqbpx_m2hmguohqdiannb4.gif"></a> </div><br>  Los llamo movimientos "transversales".  Desde el punto de vista de la codificaci√≥n ZRF, no hay nada complicado en ellos.  El problema est√° en la interfaz de usuario.  ¬øC√≥mo "decirle" al programa que el jugador quiere mover no una bola, sino un grupo, si ambas reglas est√°n permitidas?  Utilizo el mismo "parpadeo", que fue muy √∫til para m√≠ en las damas, para marcar la cifra "actual".  Solo que ahora hay varias cifras "actuales" en el conjunto. <br><br>  Un clic en una figura "libre" la agrega al grupo si hay un movimiento en el que est√°n involucradas todas las figuras agregadas al grupo (es a√∫n m√°s f√°cil no soltar el bot√≥n, resaltando todo el grupo con un solo clic del mouse).  Si no hay tales movimientos, solo se crea un nuevo grupo, que hasta ahora consiste en una sola pieza.  Siempre se muestran c√≠rculos verdes para la √∫ltima figura agregada (esto puede no ser muy obvio, pero puede acostumbrarse).  Haga clic repetidamente en cualquier figura "cegadora" inmediatamente restablece todo el grupo. <br><br><div class="spoiler">  <b class="spoiler_title">Por cierto</b> <div class="spoiler_text">  Los c√≠rculos verdes no aparecer√°n necesariamente simplemente en presencia de figuras "cegadoras".  En algunos casos, es posible una situaci√≥n en la que todas las piezas seleccionadas se incluyen en un movimiento v√°lido, pero no hay un movimiento v√°lido, limitado a mover solo estas formas seleccionadas.  Suena un poco confuso, pero aqu√≠ hay una ilustraci√≥n: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/d_/3h/me/d_3hmeibopemfxnzcfpmwmvztty.gif"></div><br>  En este <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">juego</a> solo se permiten movimientos simult√°neos de grupos de tres piezas (si quedan menos piezas, todos deber√≠an moverse).  Todas las figuras seleccionadas se mueven un paso y en la misma direcci√≥n.  Captura de ajedrez, sus piezas interfieren con el movimiento.  Para ganar, debes mantener al menos una de tus piezas en la √∫ltima l√≠nea, en el campamento del enemigo. <br><br>  El juego en s√≠, en mi opini√≥n, no es muy interesante, pero, desde el punto de vista de la codificaci√≥n, esto es una verdadera locura.  Cualquier intento de "honestamente" generar todos los movimientos posibles de grupos de tres figuras conduce a una explosi√≥n combinatoria.  Tienes que enga√±ar (el beneficio de Dagaz lo permite).  Para empezar, generamos todos los movimientos v√°lidos de piezas individuales.  Es simple: <br><br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">define</span></span> step ( $<span class="hljs-number"><span class="hljs-number">1</span></span> add ))</code> </pre><br>  Hasta que puedas comprobar la posible pelea de tu propia figura, ¬°todo esto m√°s tarde!  Simplemente vamos en todas las direcciones, siempre que sea posible.  A continuaci√≥n, encienda la " <a href="">magia</a> ".  Simplemente combinamos todas las combinaciones posibles de tres movimientos de varias piezas en una direcci√≥n, creando un producto cartesiano.  Despu√©s de eso, <a href="">descartamos los</a> movimientos que se encuentran con nuestras propias piezas. <br><br>  ¬øPor qu√© no dejarlos caer de inmediato?  Por una raz√≥n muy simple: una pieza tiene derecho a moverse a un campo ocupado si se libera como parte del mismo movimiento de grupo, y al momento de generar los movimientos "elementales", ¬°no hay informaci√≥n sobre la composici√≥n de los grupos movidos!  Es por eso que amo tanto este proyecto.  ¬°√âl, de vez en cuando, lanza rompecabezas tan interesantes aqu√≠! <br></div></div><br>  La mudanza no tiene que tener lugar en un solo campo, como en Abalone.  En el juego <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ordo</a> (y especialmente en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ordo X</a> ), inventado por Dieter Stein en 2009, los grupos de figuras pueden moverse distancias mucho m√°s largas.  La √∫nica condici√≥n es que las piezas de su color, al final del turno, no se separen (esta es la misma invariante del juego que la necesidad de que el rey deje la amenaza en Ajedrez).  El jugador que gana la primera l√≠nea del tablero gana. <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/e9/es/o2/e9eso2wtosdaokcmbftoppjdwqq.gif"></a> </div><br>  En este juego hay movimientos tanto longitudinales como transversales de las "filas" de piezas de cualquier tama√±o y a cualquier distancia (dentro del tablero, por supuesto).  ¬°Hay tantas plantillas utilizadas para generar movimientos que lleva m√°s de 5 minutos procesar un <a href="">archivo ZRF</a> desarrollado por m√≠ con un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">convertidor</a> (la mayor√≠a de los juegos se procesan en segundos)!  Se podr√≠a suponer que esto conducir√≠a a problemas en la etapa de generar los movimientos, pero esto no es as√≠.  La gran mayor√≠a de los movimientos est√°n cortados por los <a href="">invariantes del</a> juego. <br><br><div class="spoiler">  <b class="spoiler_title">Una tarea m√°s de rompecabezas cerebral apareci√≥ aqu√≠</b> <div class="spoiler_text">  El hecho es que el mecanismo de selecci√≥n alterna de figuras que desarroll√© para realizar un movimiento grupal, en t√©rminos generales, es incompatible con la interfaz de los movimientos de "empuje" implementados por versiones antiguas del controlador.  Es simple: para hacer un movimiento de "empuje", debe seleccionar una figura que pueda ir al campo, hasta ahora ocupada por otra figura del grupo movido.  Pero no podemos mostrar su campo objetivo, ya que la formaci√≥n del grupo no se completa, y el movimiento de una sola figura al campo ocupado probablemente est√© prohibido por las reglas del juego. <br><br>  En general, si todo se hace "de acuerdo con las reglas", es necesario hacer clic en todas las figuras del grupo movido una por una y solo despu√©s de eso la interfaz mostrar√° los campos de destino para la √∫ltima figura agregada.  Incluso en Abalon, con sus grupos de un m√°ximo de tres figuras, esto es algo agotador, ¬°pero en Ordo generalmente es impensable!  Tuve que idear un m√©todo especial que autom√°ticamente "expande" el grupo cuando detecta los conflictos descritos anteriormente. <br><br><div class="spoiler">  <b class="spoiler_title">Esto es lo que parece para Abalone</b> <div class="spoiler_text"><pre> <code class="javascript hljs">Dagaz.Model.closure = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">board, move, group</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r = []; _.each(group, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">pos</span></span></span><span class="hljs-function">) </span></span>{ r.push(pos); }); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; r.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> pos = r[i]; _.each(move.actions, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((a[<span class="hljs-number"><span class="hljs-number">0</span></span>] !== <span class="hljs-literal"><span class="hljs-literal">null</span></span>) &amp;&amp; (a[<span class="hljs-number"><span class="hljs-number">1</span></span>] !== <span class="hljs-literal"><span class="hljs-literal">null</span></span>) &amp;&amp; (a[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>] == pos)) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> p = a[<span class="hljs-number"><span class="hljs-number">1</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> piece = board.getPiece(p); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((piece !== <span class="hljs-literal"><span class="hljs-literal">null</span></span>) &amp;&amp; (piece.player == board.player) &amp;&amp; (_.indexOf(r, p) &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>)) { r.push(p); } } }); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r; }</code> </pre></div></div><br>  ¬°Pero los movimientos largos de "empuje" est√°n permitidos en Ordo y este algoritmo no funciona!  No importa: todas las funciones definidas en Dagaz.Model se pueden redefinir. <br><br><div class="spoiler">  <b class="spoiler_title">De esta manera</b> <div class="spoiler_text"><pre> <code class="javascript hljs">Dagaz.Model.closure = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">board, move, group</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> design = board.game.design; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r = []; _.each(group, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">pos</span></span></span><span class="hljs-function">) </span></span>{ r.push(pos); }); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; r.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> pos = r[i]; _.each(move.actions, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((a[<span class="hljs-number"><span class="hljs-number">0</span></span>] !== <span class="hljs-literal"><span class="hljs-literal">null</span></span>) &amp;&amp; (a[<span class="hljs-number"><span class="hljs-number">1</span></span>] !== <span class="hljs-literal"><span class="hljs-literal">null</span></span>) &amp;&amp; (a[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>] == pos)) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> target = a[<span class="hljs-number"><span class="hljs-number">1</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x = Dagaz.Model.getX(pos); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> y = Dagaz.Model.getY(pos); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dx = sign(Dagaz.Model.getX(target) - x); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dy = sign(Dagaz.Model.getY(target) - y); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dir = design.findDirection(pos, pos + (dy * Dagaz.Model.WIDTH) + dx); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dir !== <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ((pos !== <span class="hljs-literal"><span class="hljs-literal">null</span></span>) &amp;&amp; (pos != target)) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> piece = board.getPiece(pos); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((piece === <span class="hljs-literal"><span class="hljs-literal">null</span></span>) || (piece.player != board.player)) <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_.indexOf(r, pos) &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { r.push(pos); } pos = design.navigate(board.player, pos, dir); } } } }); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r; }</code> </pre></div></div><br>  Esta sobrecarga es m√°s f√°cil para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Takoka</a> .  Como no hay movimientos de "empuje" en √©l (siempre es necesario resaltar claramente todas las piezas incluidas en el grupo), es suficiente para bloquear esta funcionalidad, es decir, simplemente no expanda el grupo: <br><br><pre> <code class="javascript hljs">Dagaz.Model.closure = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">board, move, group</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> group; }</code> </pre><br>  Pido disculpas por el nombre de la funci√≥n que no dice nada a nadie.  Simplemente no podr√≠a encontrar un mejor nombre para la acci√≥n. <br></div></div><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/w0/ao/0l/w0ao0ly48ozfetiaojn5ilq9wum.png"></a> </div><br>  Este <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">juego</a> tambi√©n implementa el movimiento grupal, ¬°pero su mec√°nica es completamente diferente!  Aqu√≠ las figuras se mueven en grupos 3x3, adem√°s, los campos vac√≠os del grupo tambi√©n son parte del "patr√≥n" movido.  La presencia de figuras en uno de los ocho campos externos muestra las direcciones en las que puede moverse, y el relleno del campo central determina si puede mover el "patr√≥n" a una distancia arbitraria o solo a corta distancia, no m√°s de 3 pasos.  Para ganar, es necesario destruir el "anillo" del enemigo, un an√°logo de la figura real (este es un campo vac√≠o, rodeado por todos lados por ocho llenos).  Tienes que tener mucho cuidado de no destruir tu anillo tambi√©n. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GESS</a> result√≥ ser una verdadera pesadilla, tanto en t√©rminos de " <a href="">magia</a> " como en t√©rminos del <a href="">prototipo en</a> s√≠ mismo: el esqueleto del juego.  Es suficiente decir que el tablero (20x20, teniendo en cuenta una serie de campos fuera del tablero) consta de dos capas.  Toda la capa superior est√° completamente llena de formas invisibles que controlan el movimiento.  El movimiento de las piedras que conforman los "patrones" de los jugadores son solo efectos secundarios de estos movimientos.  Desafortunadamente, a√∫n no he logrado desarrollar un bot para este juego. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/hBuolYNV1Oo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Al final del art√≠culo, quiero presentarles algo m√°s que no est√° directamente relacionado con el tema del movimiento grupal de figuras.  Este <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">juego</a> me pidi√≥ que hiciera uno de los suscriptores de mi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">p√°gina de</a> proyecto: Sultan Ratrout.  En general, estos son <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">correctores de pilares</a> ordinarios en un tablero hexagonal.  Incluso sin las damas.  ¬°El concepto de revoluci√≥n es diferente!  ¬°El campo de juego en s√≠ mismo es transformable!  Disfr√∫talo. <br><br>  <b><i>Me voy de vacaciones ...</i></b> <br></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es416595/">https://habr.com/ru/post/es416595/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es416585/index.html">Extensi√≥n web de navegador cruzado para scripts personalizados Parte 3</a></li>
<li><a href="../es416587/index.html">Algunas palabras sobre los subwoofers y por qu√© son adecuados para casi todos</a></li>
<li><a href="../es416589/index.html">C√©lulas muertas: uso de la canalizaci√≥n 3D para animaci√≥n 2D</a></li>
<li><a href="../es416591/index.html">"Apretar las tuercas": por qu√© todo el mundo comenz√≥ a hablar sobre endurecer la regulaci√≥n del sector de TI</a></li>
<li><a href="../es416593/index.html">Mi participaci√≥n en el desarrollo de Uncharted 4</a></li>
<li><a href="../es416597/index.html">IBM Watson Build: prueba suerte en el concurso de desarrolladores</a></li>
<li><a href="../es416599/index.html">¬øQu√© es eCPM y c√≥mo aumentarlo?</a></li>
<li><a href="../es416601/index.html">Revisi√≥n de Vertex Impress Play: cuerpo delgado + bater√≠a de 5000 mAh + buenas c√°maras de 16 megap√≠xeles</a></li>
<li><a href="../es416605/index.html">@Pythonetc Junio ‚Äã‚Äã2018</a></li>
<li><a href="../es416607/index.html">Emparejado post mortem: c√≥mo derrotar a Cthulhu y otras 2.000 personas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>