<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏻‍🎓 🤶🏿 📳 Bagian dari mesin laboratorium untuk "Hackthebox - Friendzone" yang terbaik 🚴🏽 🍍 👩🏻‍🌾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo, Habr! Pada artikel ini saya ingin memberi tahu Anda tentang pengalaman saya melewati lab Friendzone di portal hackthebox. Bagi mereka yang belum...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bagian dari mesin laboratorium untuk "Hackthebox - Friendzone" yang terbaik</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/464287/">  Halo, Habr!  Pada artikel ini saya ingin memberi tahu Anda tentang pengalaman saya melewati lab Friendzone di portal hackthebox.  Bagi mereka yang belum pernah mendengar apa itu <b>hackthebox</b> , ini adalah portal tempat Anda dapat menguji keterampilan terpuji Anda dalam praktik, ada tugas-tugas KKP dan sebenarnya mesin-mesin laboratorium, bagian yang salah satunya akan dibahas dalam artikel ini. <br><a name="habracut"></a><br>  Saya <b>akan</b> segera mengatakan bahwa aturan layanan mengatakan: <b>"Jangan bagikan bagaimana Anda meretas setiap mesin dengan anggota lain.</b>  <b>Ini termasuk pembuatan kode undangan dan semua tantangan</b> . <b>"</b>  Tetapi karena mesin ini tidak lagi aktif dan disimpan di bagian "Mesin Pensiunan", hanya anggota VIP yang memiliki akses ke mesin di bagian ini dan penulisan, artikel ini tidak melanggar apa pun dan sepenuhnya legal.  Jadi mari kita mulai! <br><br><img src="https://habrastorage.org/webt/eq/c3/2b/eqc32b6y9bqmtr-gocy8b5de2da.png"><br><br><h3>  Pengumpulan informasi </h3><br>  Mari kita mulai eksplorasi kita dengan memulai pemindaian port dengan nmap. <br><br><img src="https://habrastorage.org/webt/y6/aa/eu/y6aaeufi_gf2tbuemuoimktmude.png"><br><br>  Dari hal di atas dapat dilihat bahwa port 21 (ftp), 22 (ssh), 53 (domain), 80 (http), 139 (netbios-ssn), 443 (https) terbuka.  Mari lihat mereka. <br><br><h3>  Hitung 139 / tcp (netbios-ssn) </h3><br>  Kami akan menggunakan utilitas <b>enum4linux</b> untuk membuat daftar sumber daya bersama di host.  Dari output utilitas jelas bahwa ia diizinkan untuk memasuki sumber daya / umum dan / Pengembangan <br><br><img src="https://habrastorage.org/webt/vg/sh/hl/vgshhlujrsbezshcja0urpag5y0.png"><br><br>  Sekarang kita perlu memeriksa sumber daya ini. <br><br>  Menggunakan <b>smbclient //10.10.10.123/general</b> kita menemukan file <b>creds.txt yang</b> mengandung beberapa kredensial, simpan. <br><br><img src="https://habrastorage.org/webt/c4/rs/7e/c4rs7ebm4tetaqljpogb8rgiaby.png"><br><br><img src="https://habrastorage.org/webt/ya/z0/vp/yaz0vpdw-rtdeq_3ngntoyxqroy.png"><br><br><h3>  Pencacahan DNS </h3><br>  Kami akan menggunakan utilitas <b>penggalian</b> , yang memungkinkan untuk memeriksa catatan pada server DNS yang ditentukan untuk domain / subdomain.  Nama domain friendzone.red diambil dari sertifikat CommonName ssl (output nmap untuk 443 / tcp). <br><br><img src="https://habrastorage.org/webt/tw/x6/pf/twx6pfqush4ezmpisdojdftvh_k.png"><br><br>  Kami pergi ke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">10.10.10.123</a> <br><br><img src="https://habrastorage.org/webt/cm/vt/xe/cmvtxe7nvbywfhvnoq7-xdhmcas.png"><br><br>  Kami memperhatikan kotak surat info@friendportal.red dan menggunakan menggali lagi. <br><br><img src="https://habrastorage.org/webt/rc/wt/wa/rcwtwaslpdidruaejqb_bvjcjvo.png"><br><br>  Tambahkan entri yang dihasilkan ke <b>/ etc / hosts</b> <br><br>  Kami sekarang memiliki daftar alamat yang perlu ditinjau untuk arahan berikut.  Saya akan menghilangkan bagian dari cerita di mana halaman-halaman itu ternyata adalah lubang kelinci.  Kami menganggap hanya temuan yang bermanfaat. <br><br>  Kami pergi ke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">administartor1.friendzone.red</a> dan memasukkan kredensial yang ditemukan di //10.10.10.123/general/creds.txt <br><br><img src="https://habrastorage.org/webt/bg/ww/2_/bgww2_7jcqsrjdohhrsftkjg46s.png"><br><br><img src="https://habrastorage.org/webt/ts/ky/mr/tskymrrw0nqffphtsoa5ncpivjs.png"><br><br>  Kunjungi /dashboard.php <br><br><img src="https://habrastorage.org/webt/lf/sr/ms/lfsrms43xriuohqnmrszegpzgdg.png"><br><br>  Mereka diminta memasukkan parameter tertentu untuk mendapatkan gambar.  Hasilnya, 2 gambar tersedia untuk kami. <br><br><img src="https://habrastorage.org/webt/gi/a7/1l/gia71lf3k7yy8cibm2vl52ww9qc.png"><br><br><img src="https://habrastorage.org/webt/to/n8/vi/ton8viauvoykejw2rct75hj5xdm.png"><br><br>  Dengan coba-coba, kami memahami bahwa halaman ini rentan terhadap <b>LFI (Penyertaan File Lokal)</b> .  Dan kita dapat memuat shell melalui smbclient dan mengaksesnya menggunakan kerentanan ini.  Kami mencoba! <br><br>  Unduh shell di Developments. <br><br><img src="https://habrastorage.org/webt/3k/q6/76/3kq676gyempuswwurtostwc3f58.png"><br><br><img src="https://habrastorage.org/webt/px/8g/ha/px8ghamniwu51v0nypfsil4fsnu.png"><br><br>  Kami kembali ke halaman dan merujuk ke shell yang dimuat. <br><br><img src="https://habrastorage.org/webt/fe/au/zi/feauzivhafaeprlajjclxgqceey.png"><br><br>  Sebelum itu, tentu saja, dengan menjalankan netcat untuk mendengarkan pada port 1234. <br><br><img src="https://habrastorage.org/webt/n3/qa/hc/n3qahcsmjw-zw9veopkvslq4abu.png"><br><br>  Kami mendapatkan shell dari pengguna data-www. <br><br>  Setelah memeriksa volunbox, kami menemukan file mysql_data.conf, yang berisi kredensial dari teman pengguna. <br><br><img src="https://habrastorage.org/webt/gl/w_/hy/glw_hytdkwyxt1im_jj4btv0o10.png"><br><br><img src="https://habrastorage.org/webt/0j/_8/z0/0j_8z0t-dfivc8j0c-gwdkjas0u.png"><br><br>  Mari mencoba terminal dan masuk sebagai teman. <br><br><img src="https://habrastorage.org/webt/5c/zp/nc/5czpncy59cpndw3zfr6s_n80nee.png"><br><br>  Kami masuk ke direktori home / home / friend dan mengambil flag pengguna. <br><br><h3>  Raih root.txt </h3><br>  Unduh pspy64 ke volunbox untuk melacak proses yang sedang berjalan. <br><br><div class="spoiler">  <b class="spoiler_title">Judul spoiler</b> <div class="spoiler_text">  <b>pspy</b> adalah alat yang dirancang untuk melacak proses tanpa perlu hak akses root.  Ini memungkinkan Anda untuk melihat perintah yang dijalankan oleh pengguna lain, tugas cron, dll.  saat mereka berkembang. <br></div></div><br><img src="https://habrastorage.org/webt/br/i0/oc/bri0ocr8gyd4g_pahbi6dj3ku8q.png"><br><br>  Kita mulai pspy64, sebelum mengatur "eksekusi" ke file chmod + x. <br><br><img src="https://habrastorage.org/webt/xu/qj/kw/xuqjkweareuwwnncfcwacq7t3pi.png"><br><br>  Kami perhatikan bahwa reporter.py diluncurkan dari pengguna dengan UID = 0 (mis. Root).  Mari kita lihat isi file reporter.py <br><br><img src="https://habrastorage.org/webt/rm/xx/xv/rmxxxvbfpesxa4ht7dyacfbcgje.png"><br><br>  Hampir semua baris dikomentari dan tidak masuk akal, kecuali yang pertama, di mana modul os diimpor.  <b>Pembajakan perpustakaan</b> ? <br><br>  Modul os.py ini memiliki resolusi 777, sehingga kami dapat dengan aman melakukan perubahan dari pengguna Friend. <br><br>  Dengan menambahkan <b>sistem</b> baris <b>("cp /root/root.txt /home/Friend/root.txt") ke modul os.py</b> dan tunggu beberapa saat hingga skrip dimulai. <br><br><img src="https://habrastorage.org/webt/r1/a0/zu/r1a0zuie9lbufwdpgie6tmestzk.png"><br><br>  Kami mendapat bendera root.  Kemenangan! <br><br><img src="https://habrastorage.org/webt/ct/pf/tn/ctpftnwwsvlolcbzzlikeuleo1g.png"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id464287/">https://habr.com/ru/post/id464287/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id464265/index.html">Tirani berpikir positif mengancam kesehatan dan kebahagiaan Anda</a></li>
<li><a href="../id464277/index.html">Permukaan acak menyembunyikan urutan rumit</a></li>
<li><a href="../id464279/index.html">Laser Uap Tembaga Klorida Buatan Rumah</a></li>
<li><a href="../id464283/index.html">Aplikasi untuk e-book di sistem operasi Android. Bagian 3. Kamus dan catatan</a></li>
<li><a href="../id464285/index.html">Perbarui foto profil Vkontakte secara otomatis</a></li>
<li><a href="../id464289/index.html">Cara menulis paket Go</a></li>
<li><a href="../id464291/index.html">10 bahasa pemrograman paling berpengaruh dalam 50 tahun terakhir dan penciptanya</a></li>
<li><a href="../id464293/index.html">Apakah kait diganti dalam React Redux?</a></li>
<li><a href="../id464295/index.html">Contoh menggunakan beberapa fitur JavaScript baru</a></li>
<li><a href="../id464299/index.html">0, 0, 1, 0, 2, 0, 2, 2, 1, 6, 0, 5, 0, 2, 6, 5, 4, 0, 5, 3, 0, 3, 2, 9, 0, 4, 9, 3, 6, 14, 0, 6, 3, 5, 15, 0, 5, 3, 5 ...</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>