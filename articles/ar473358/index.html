<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☯️ 🕛 👵🏿 تثبيت وتكوين Nexus Sonatype باستخدام البنية التحتية كنهج رمز 🤙🏾 👩‍👩‍👧‍👦 📧</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sonatype Nexus عبارة عن نظام أساسي متكامل يمكن للمطورين من خلاله إرسال وتوثيق وإدارة تبعيات Java (Maven) و Docker و Python و Ruby و NPM و Bower وحزم R...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>تثبيت وتكوين Nexus Sonatype باستخدام البنية التحتية كنهج رمز</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473358/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  Sonatype Nexus عبارة عن نظام أساسي متكامل يمكن للمطورين من خلاله إرسال وتوثيق وإدارة تبعيات Java (Maven) و Docker و Python و Ruby و NPM و Bower وحزم RPM و gitlfs و Apt و Go و Nuget وأيضًا توزيع البرامج الخاصة بهم البرمجيات. </p><br><h3 id="zachem-nuzhen-sonatype-nexus" style=";text-align:right;direction:rtl">  لماذا أحتاج إلى Sonatype Nexus؟ </h3><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  لتخزين القطع الأثرية الخاصة ؛ </li><li style=";text-align:right;direction:rtl">  للتخزين المؤقت للقطع الأثرية التي يتم تنزيلها من الإنترنت ؛ </li></ul><a name="habracut"></a><br><h3 id="artefakty-podderzhivaemye-v-bazovoy-postavke-sonatype-nexus" style=";text-align:right;direction:rtl">  التحف المدعومة في الحزمة الأساسية Sonatype Nexus: </h3><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  جافا ، مافن (جرة) </li><li style=";text-align:right;direction:rtl">  عامل ميناء </li><li style=";text-align:right;direction:rtl">  بيثون (نقطة) </li><li style=";text-align:right;direction:rtl">  روبي (جوهرة) </li><li style=";text-align:right;direction:rtl">  الآلية الوقائية الوطنية </li><li style=";text-align:right;direction:rtl">  كوخ ريفي </li><li style=";text-align:right;direction:rtl">  يوم (دورة في الدقيقة) </li><li style=";text-align:right;direction:rtl">  gitlfs </li><li style=";text-align:right;direction:rtl">  الخام </li><li style=";text-align:right;direction:rtl">  شقة (ديب) </li><li style=";text-align:right;direction:rtl">  العودة </li><li style=";text-align:right;direction:rtl">  Nuget </li></ul><br><h3 id="artefakty-podderzhivaemye-soobschestvom" style=";text-align:right;direction:rtl">  التحف المدعومة من المجتمع: </h3><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ملحن </li><li style=";text-align:right;direction:rtl">  كونان </li><li style=";text-align:right;direction:rtl">  CPAN </li><li style=";text-align:right;direction:rtl">  ELPA </li><li style=";text-align:right;direction:rtl">  خوذة </li><li style=";text-align:right;direction:rtl">  P2 </li><li style=";text-align:right;direction:rtl">  R </li></ul><br><h2 id="ustanovka-sonatype-nexus-ispolzuya-httpsgithubcomansible-thoteamnexus3-oss" style=";text-align:right;direction:rtl">  قم بتثبيت Sonatype Nexus باستخدام <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://github.com/ansible-ThoTeam/nexus3-oss</a> </h2><br><h3 id="trebovaniya" style=";text-align:right;direction:rtl">  متطلبات </h3><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> اقرأ عن استخدام ansible على شبكة الإنترنت. </li><li style=";text-align:right;direction:rtl"> قم بتركيب ansible <code>pip install ansible</code> على محطة العمل حيث يبدأ playbook. </li><li style=";text-align:right;direction:rtl">  قم بتثبيت <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">geerlingguy.java</a> على محطة العمل حيث يبدأ playbook. </li><li style=";text-align:right;direction:rtl">  قم بتثبيت <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">geerlingguy.apache</a> على محطة العمل حيث يبدأ playbook. </li><li style=";text-align:right;direction:rtl">  تم اختبار هذا الدور في CentOS 7 و Ubuntu Xenial (16.04) و Bionic (18.04) و Debian Jessie and Stretch </li><li style=";text-align:right;direction:rtl">  يجب تثبيت مكتبة <code>jmespath</code> على محطة العمل التي يبدأ فيها playbook.  لتثبيت ، قم بتشغيل <code>sudo pip install -r requirements.txt</code> </li><li style=";text-align:right;direction:rtl">  احفظ ملف playbook (المثال أدناه) في ملف nexus.yml </li><li style=";text-align:right;direction:rtl">  قم بتشغيل تثبيت nexus <code>ansible-playbook -i host nexus.yml</code> </li></ul><br><h3 id="primer-ansible-playbook-dlya-ustanovki-nexus-bez-ldap-s-repozitoriyami-maven-java-docker-python-ruby-npm-bower-rpm-i-gitlfs" style=";text-align:right;direction:rtl">  مثال anbook- playbook لتثبيت nexus بدون LDAP مع مستودعات Maven (java) و Docker و Python و Ruby و NPM و Bower و RPM و gitlfs. </h3><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">--- - name: Nexus hosts: nexus become: yes vars: nexus_timezone: 'Asia/Omsk' nexus_admin_password: "admin123" nexus_public_hostname: 'apatsev-nexus-playbook' httpd_setup_enable: false nexus_privileges: - name: all-repos-read description: 'Read &amp; Browse access to all repos' repository: '*' actions: - read - browse - name: company-project-deploy description: 'Deployments to company-project' repository: company-project actions: - add - edit nexus_roles: - id: Developpers # maps to the LDAP group name: developers description: All developers privileges: - nx-search-read - all-repos-read - company-project-deploy roles: [] nexus_local_users: - username: jenkins # used as key to update first_name: Jenkins last_name: CI email: support@company.com password: "s3cr3t" roles: - Developpers # role ID here nexus_blobstores: - name: company-artifacts path: /var/nexus/blobs/company-artifacts nexus_scheduled_tasks: - name: compact-blobstore cron: '0 0 22 * * ?' typeId: blobstore.compact taskProperties: blobstoreName: 'company-artifacts' nexus_repos_maven_proxy: - name: central remote_url: 'https://repo1.maven.org/maven2/' layout_policy: permissive - name: jboss remote_url: 'https://repository.jboss.org/nexus/content/groups/public-jboss/' - name: vaadin-addons remote_url: 'https://maven.vaadin.com/vaadin-addons/' - name: jaspersoft remote_url: 'https://jaspersoft.artifactoryonline.com/jaspersoft/jaspersoft-repo/' version_policy: mixed nexus_repos_maven_hosted: - name: company-project version_policy: mixed write_policy: allow blob_store: company-artifacts nexus_repos_maven_group: - name: public member_repos: - central - jboss - vaadin-addons - jaspersoft # Yum. Change nexus_config_yum to true for create yum repository nexus_config_yum: true nexus_repos_yum_hosted: - name: private_yum_centos_7 repodata_depth: 1 nexus_repos_yum_proxy: - name: epel_centos_7_x86_64 remote_url: http://download.fedoraproject.org/pub/epel/7/x86_64 maximum_component_age: -1 maximum_metadata_age: -1 negative_cache_ttl: 60 - name: centos-7-os-x86_64 remote_url: http://mirror.centos.org/centos/7/os/x86_64/ maximum_component_age: -1 maximum_metadata_age: -1 negative_cache_ttl: 60 nexus_repos_yum_group: - name: yum_all member_repos: - private_yum_centos_7 - epel_centos_7_x86_64 # NPM. Change nexus_config_npm to true for create npm repository nexus_config_npm: true nexus_repos_npm_hosted: [] nexus_repos_npm_group: - name: npm-public member_repos: - npm-registry nexus_repos_npm_proxy: - name: npm-registry remote_url: https://registry.npmjs.org/ negative_cache_enabled: false # Docker. Change nexus_config_docker to true for create docker repository nexus_config_docker: true nexus_repos_docker_hosted: - name: docker-hosted http_port: "{{ nexus_docker_hosted_port }}" v1_enabled: True nexus_repos_docker_proxy: - name: docker-proxy http_port: "{{ nexus_docker_proxy_port }}" v1_enabled: True index_type: "HUB" remote_url: "https://registry-1.docker.io" use_nexus_certificates_to_access_index: false maximum_component_age: 1440 maximum_metadata_age: 1440 negative_cache_enabled: true negative_cache_ttl: 1440 nexus_repos_docker_group: - name: docker-group http_port: "{{ nexus_docker_group_port }}" v1_enabled: True member_repos: - docker-hosted - docker-proxy # Bower. Change nexus_config_bower to true for create bower repository nexus_config_bower: true nexus_repos_bower_hosted: - name: bower-hosted nexus_repos_bower_proxy: - name: bower-proxy index_type: "proxy" remote_url: "https://registry.bower.io" use_nexus_certificates_to_access_index: false maximum_component_age: 1440 maximum_metadata_age: 1440 negative_cache_enabled: true negative_cache_ttl: 1440 nexus_repos_bower_group: - name: bower-group member_repos: - bower-hosted - bower-proxy # Pypi. Change nexus_config_pypi to true for create pypi repository nexus_config_pypi: true nexus_repos_pypi_hosted: - name: pypi-hosted nexus_repos_pypi_proxy: - name: pypi-proxy index_type: "proxy" remote_url: "https://pypi.org/" use_nexus_certificates_to_access_index: false maximum_component_age: 1440 maximum_metadata_age: 1440 negative_cache_enabled: true negative_cache_ttl: 1440 nexus_repos_pypi_group: - name: pypi-group member_repos: - pypi-hosted - pypi-proxy # rubygems. Change nexus_config_rubygems to true for create rubygems repository nexus_config_rubygems: true nexus_repos_rubygems_hosted: - name: rubygems-hosted nexus_repos_rubygems_proxy: - name: rubygems-proxy index_type: "proxy" remote_url: "https://rubygems.org" use_nexus_certificates_to_access_index: false maximum_component_age: 1440 maximum_metadata_age: 1440 negative_cache_enabled: true negative_cache_ttl: 1440 nexus_repos_rubygems_group: - name: rubygems-group member_repos: - rubygems-hosted - rubygems-proxy # gitlfs. Change nexus_config_gitlfs to true for create gitlfs repository nexus_config_gitlfs: true nexus_repos_gitlfs_hosted: - name: gitlfs-hosted roles: - { role: geerlingguy.java } # Debian/Ubuntu only # - { role: geerlingguy.apache, apache_create_vhosts: no, apache_mods_enabled: ["proxy_http.load", "headers.load"], apache_remove_default_vhost: true, tags: ["geerlingguy.apache"] } # RedHat/CentOS only - { role: geerlingguy.apache, apache_create_vhosts: no, apache_remove_default_vhost: true, tags: ["geerlingguy.apache"] } - { role: ansible-thoteam.nexus3-oss, tags: ['ansible-thoteam.nexus3-oss'] }</code> </pre> <br><h2 id="skrinshoty" style=";text-align:right;direction:rtl">  لقطات: </h2><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/mb/7a/e7/mb7ae7qibkvkuhq_vfrce9hjzoo.png"></p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/jp/vw/pq/jpvwpqijp9ccgw5gzkz6ytv0iyy.png"></p><br><h2 id="peremennye-roli" style=";text-align:right;direction:rtl">  متغيرات الدور </h2><br><h2 id="role-variables" style=";text-align:right;direction:rtl">  متغيرات الدور </h2><br><p style=";text-align:right;direction:rtl">  المتغيرات ذات القيم الافتراضية (انظر <code>default/main.yml</code> ): </p><br><h3 id="general-variables" style=";text-align:right;direction:rtl">  المتغيرات العامة </h3><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_version: '' nexus_timezone: 'UTC'</code> </pre> <br><p style=";text-align:right;direction:rtl">  بشكل افتراضي ، سيقوم الدور بتثبيت أحدث إصدار متوفر من Nexus.  يمكنك إصلاح الإصدار عن طريق تغيير متغير <code>nexus_version</code> .  راجع الإصدارات المتوفرة على <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://www.sonatype.com/download-oss-sonatype</a> . </p><br><p style=";text-align:right;direction:rtl">  إذا قمت بتغيير الإصدار إلى إصدار أحدث ، فسيحاول الدور تحديث Nexus المثبت لديك. </p><br><p style=";text-align:right;direction:rtl">  إذا كنت تستخدم إصدارًا أقدم من Nexus مقارنة بالإصدار الأحدث ، فيجب عليك التأكد من أنك لا تستخدم ميزات غير متوفرة في الإصدار المثبت (على سبيل المثال ، يتوفر استضافة مستودعات yum لـ nexus أكثر من 3.8.0 ، git lfs repo لـ nexus أكثر من 3.3.0 ور. د.) </p><br><p style=";text-align:right;direction:rtl">  <code>nexus timezone</code> هو اسم منطقة <code>nexus timezone</code> Java يمكن أن يكون مفيدًا مع تعبيرات cron أدناه للمهام nexus_scheduled. </p><br><h3 id="port-nexus-i-kontekstnyy-put" style=";text-align:right;direction:rtl">  Nexus Port و سياق السياق </h3><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_default_port: 8081 nexus_default_context_path: '/'</code> </pre> <br><p style=";text-align:right;direction:rtl">  مسار المنفذ والسياق لعملية اتصال Java.  يجب أن يحتوي <code>nexus_default_context_path</code> على شرطة مائلة عند تعيينه ، على سبيل المثال: <code>nexus_default_context_path: '/nexus/'</code> . </p><br><h3 id="polzovatel-i-gruppa-os-nexus" style=";text-align:right;direction:rtl">  نيكزس المستخدم والمجموعة </h3><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_os_group: 'nexus' nexus_os_user: 'nexus'</code> </pre> <br><p style=";text-align:right;direction:rtl">  سيتم إنشاء المستخدم والمجموعة المستخدمة لامتلاك ملفات Nexus وبدء الخدمة من خلال الدور إذا كانت مفقودة. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_os_user_home_dir: '/home/nexus'</code> </pre> <br><p style=";text-align:right;direction:rtl">  السماح بتغيير الدليل الرئيسي الافتراضي للمستخدم nexus </p><br><h3 id="katalogi-ekzemplyarov-nexus" style=";text-align:right;direction:rtl">  أدلة مثيل نيكزس </h3><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_installation_dir: '/opt' nexus_data_dir: '/var/nexus' nexus_tmp_dir: "{{ (ansible_os_family == 'RedHat') | ternary('/var/nexus-tmp', '/tmp/nexus') }}"</code> </pre> <br><p style=";text-align:right;direction:rtl">  كتالوجات نيكزس. </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  يحتوي <code>nexus_installation_dir</code> على الملفات التنفيذية المثبتة </li><li style=";text-align:right;direction:rtl">  يحتوي <code>nexus_data_dir</code> على جميع التكوينات والمستودعات والتحف التي تم تحميلها.  يمكن تكوين <code>nexus_data_dir</code> blobstores nexus_data_dir المخصصة ، راجع <code>nexus_blobstores</code> أدناه. </li><li style=";text-align:right;direction:rtl">  يحتوي <code>nexus_tmp_dir</code> على جميع الملفات المؤقتة.  تم نقل المسار الافتراضي لـ redhat من <code>/tmp</code> للتغلب على المشاكل المحتملة في إجراءات التنظيف التلقائي.  انظر # 168. </li></ul><br><h3 id="nastroyka-ispolzovanie-pamyati-nexus-jvm" style=";text-align:right;direction:rtl">  تكوين استخدام الذاكرة Nexus JVM </h3><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_min_heap_size: "1200M" nexus_max_heap_size: "{{ nexus_min_heap_size }}" nexus_max_direct_memory: "2G"</code> </pre> <br><p style=";text-align:right;direction:rtl">  هذه هي الإعدادات الافتراضية لـ Nexus.  <strong>يرجى عدم تغيير هذه القيم</strong> <em>إذا لم تقرأ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">قسم الذاكرة لمتطلبات نظام nexus</a></em> ولم تفهم ما الذي يقومون به. </p><br><p style=";text-align:right;direction:rtl">  كتحذير ثانٍ ، إليك مقتطف من المستند أعلاه: </p><br><blockquote style=";text-align:right;direction:rtl">  لا ينصح بزيادة ذاكرة كومة الذاكرة المؤقتة JVM بما يتجاوز القيم الموصى بها في محاولة لتحسين الأداء.  هذا يمكن أن يكون له في الواقع تأثير معاكس ، مما يؤدي إلى التشغيل غير الضروري لنظام التشغيل. </blockquote><br><h3 id="parol-administratora" style=";text-align:right;direction:rtl">  كلمة مرور المسؤول </h3><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_admin_password: 'changeme'</code> </pre> <br><p style=";text-align:right;direction:rtl">  كلمة المرور لحساب "المسؤول" هي التكوين.  <em>هذا يعمل فقط على التثبيت الافتراضي الأول</em> .  الرجاء مراجعة [تغيير كلمة مرور المسؤول بعد التثبيت الأول] (# change-admin-password-after-first-install) إذا كنت تريد تغييرها لاحقًا باستخدام الدور. </p><br><p style=";text-align:right;direction:rtl">  <strong>من المحبط بشدة تخزين كلمة مرورك بنص واضح في قواعد اللعبة ، لكن استخدام [ansible-vault encryption] ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://docs.ansible.com/ansible/lans/lus/vide.html</a> ) (إما مضمن أو في ملف منفصل ، تم التحميل ، على سبيل المثال ، include_vars)</strong> </p><br><h3 id="anonimnyy-dostup-po-umolchaniyu" style=";text-align:right;direction:rtl">  الوصول المجهول الافتراضي </h3><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_anonymous_access: false</code> </pre> <br><p style=";text-align:right;direction:rtl">  تم إيقاف تشغيل الوصول المجهول افتراضيًا.  اقرأ المزيد عن <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الوصول المجهول</a> . </p><br><h3 id="publichnoe-imya-hosta" style=";text-align:right;direction:rtl">  اسم المضيف العام </h3><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_public_hostname: 'nexus.vm' nexus_public_scheme: https</code> </pre> <br><p style=";text-align:right;direction:rtl">  اسم النطاق والمخطط المؤهلين تمامًا (https أو http) والذي سيكون به مثيل Nexus متاحًا لعملائه. </p><br><h3 id="dostup-api-dlya-etoy-roli" style=";text-align:right;direction:rtl">  وصول API لهذا الدور </h3><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_api_hostname: localhost nexus_api_scheme: http nexus_api_validate_certs: "{{ nexus_api_scheme == 'https' }}" nexus_api_context_path: "{{ nexus_default_context_path }}" nexus_api_port: "{{ nexus_default_port }}"</code> </pre> <br><p style=";text-align:right;direction:rtl">  تتحكم هذه المتغيرات في كيفية اتصال الدور بـ Nexus API لتوفيرها. <br>  <strong>للمستخدمين المتقدمين فقط.</strong>  <strong>على الأرجح أنك لا تريد تغيير هذه الإعدادات الافتراضية</strong> </p><br><h3 id="nastroyka-obratnogo-proksi" style=";text-align:right;direction:rtl">  عكس إعداد الوكيل </h3><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> httpd_setup_enable: false httpd_server_name: "{{ nexus_public_hostname }}" httpd_default_admin_email: "admin@example.com" httpd_ssl_certificate_file: 'files/nexus.vm.crt' httpd_ssl_certificate_key_file: 'files/nexus.vm.key' # httpd_ssl_certificate_chain_file: "{{ httpd_ssl_certificate_file }}" httpd_copy_ssl_files: true</code> </pre> <br><p style=";text-align:right;direction:rtl">  تثبيت <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SSL Reverse Proxy</a> . <br>  للقيام بذلك ، قم بتثبيت httpd.  ملاحظة: عندما <code>httpd_setup_enable</code> ضبط <code>httpd_setup_enable</code> على جهات اتصال <code>true</code> ، فإن الصلة بين 127.0.0.1:8081 ، وبالتالي <em>لا</em> يمكن الوصول إليها مباشرة عبر منفذ HTTP 8081 من عنوان IP خارجي. </p><br><p style=";text-align:right;direction:rtl">  اسم المضيف الافتراضي المستخدم هو <code>nexus_public_hostname</code> .  إذا كنت بحاجة إلى أسماء مختلفة لأي سبب ، فيمكنك تعيين <code>httpd_server_name</code> بقيمة مختلفة. </p><br><p style=";text-align:right;direction:rtl">  باستخدام <code>httpd_copy_ssl_files: true</code> (افتراضي) ، يجب أن تكون الشهادات المذكورة أعلاه موجودة في دليل playbook وسيتم نسخها إلى الخادم وتهيئتها في apache. </p><br><p style=";text-align:right;direction:rtl">  إذا كنت ترغب في استخدام الشهادات الموجودة على الخادم ، <code>httpd_copy_ssl_files: false</code> بتعيين <code>httpd_copy_ssl_files: false</code> ، وقم بتوفير المتغيرات التالية: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> # These specifies to the vhost where to find on the remote server file # system the certificate files. httpd_ssl_cert_file_location: "/etc/pki/tls/certs/wildcard.vm.crt" httpd_ssl_cert_key_location: "/etc/pki/tls/private/wildcard.vm.key" # httpd_ssl_cert_chain_file_location: "{{ httpd_ssl_cert_file_location }}"</code> </pre> <br><p style=";text-align:right;direction:rtl">  <code>httpd_ssl_cert_chain_file_location</code> اختياري ويجب تركه بدون تثبيت إذا كنت لا تريد تكوين ملف السلسلة </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> httpd_default_admin_email: "admin@example.com"</code> </pre> <br><p style=";text-align:right;direction:rtl">  تعيين البريد الإلكتروني الافتراضي للمشرف </p><br><h3 id="konfiguraciya-ldap" style=";text-align:right;direction:rtl">  تكوين LDAP </h3><br><p style=";text-align:right;direction:rtl">  يتم تعطيل اتصالات LDAP ونطاق الأمان بشكل افتراضي </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_ldap_realm: false ldap_connections: []</code> </pre> <br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">اتصالات LDAP</a> ، كل عنصر كما يلي: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_ldap_realm: true ldap_connections: - ldap_name: 'My Company LDAP' # used as a key to update the ldap config ldap_protocol: 'ldaps' # ldap or ldaps ldap_hostname: 'ldap.mycompany.com' ldap_port: 636 ldap_use_trust_store: false # Wether or not to use certs in the nexus trust store ldap_search_base: 'dc=mycompany,dc=net' ldap_auth: 'none' # or simple ldap_auth_username: 'username' # if auth = simple ldap_auth_password: 'password' # if auth = simple ldap_user_base_dn: 'ou=users' ldap_user_filter: '(cn=*)' # (optional) ldap_user_object_class: 'inetOrgPerson' ldap_user_id_attribute: 'uid' ldap_user_real_name_attribute: 'cn' ldap_user_email_attribute: 'mail' ldap_user_subtree: false ldap_map_groups_as_roles: false ldap_group_base_dn: 'ou=groups' ldap_group_object_class: 'posixGroup' ldap_group_id_attribute: 'cn' ldap_group_member_attribute: 'memberUid' ldap_group_member_format: '${username}' ldap_group_subtree: false</code> </pre> <br><p style=";text-align:right;direction:rtl">  مثال تكوين LDAP للمصادقة المجهولة (الربط المجهول) ، كما أنه تكوين "الحد الأدنى": </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_ldap_realm: true ldap_connection: - ldap_name: 'Simplest LDAP config' ldap_protocol: 'ldaps' ldap_hostname: 'annuaire.mycompany.com' ldap_search_base: 'dc=mycompany,dc=net' ldap_port: 636 ldap_use_trust_store: false ldap_user_id_attribute: 'uid' ldap_user_real_name_attribute: 'cn' ldap_user_email_attribute: 'mail' ldap_user_object_class: 'inetOrgPerson'</code> </pre> <br><p style=";text-align:right;direction:rtl">  مثال تكوين LDAP للمصادقة البسيطة (باستخدام حساب DSA): </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_ldap_realm: true ldap_connections: - ldap_name: 'LDAP config with DSA' ldap_protocol: 'ldaps' ldap_hostname: 'annuaire.mycompany.com' ldap_port: 636 ldap_use_trust_store: false ldap_auth: 'simple' ldap_auth_username: 'cn=mynexus,ou=dsa,dc=mycompany,dc=net' ldap_auth_password: "{{ vault_ldap_dsa_password }}" # better keep passwords in an ansible vault ldap_search_base: 'dc=mycompany,dc=net' ldap_user_base_dn: 'ou=users' ldap_user_object_class: 'inetOrgPerson' ldap_user_id_attribute: 'uid' ldap_user_real_name_attribute: 'cn' ldap_user_email_attribute: 'mail' ldap_user_subtree: false</code> </pre> <br><p style=";text-align:right;direction:rtl">  مثال تكوين LDAP للمصادقة البسيطة (باستخدام حساب DSA) + مجموعات تم تعيينها كأدوار: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_ldap_realm: true ldap_connections - ldap_name: 'LDAP config with DSA' ldap_protocol: 'ldaps' ldap_hostname: 'annuaire.mycompany.com' ldap_port: 636 ldap_use_trust_store: false ldap_auth: 'simple' ldap_auth_username: 'cn=mynexus,ou=dsa,dc=mycompany,dc=net' ldap_auth_password: "{{ vault_ldap_dsa_password }}" # better keep passwords in an ansible vault ldap_search_base: 'dc=mycompany,dc=net' ldap_user_base_dn: 'ou=users' ldap_user_object_class: 'inetOrgPerson' ldap_user_id_attribute: 'uid' ldap_user_real_name_attribute: 'cn' ldap_user_email_attribute: 'mail' ldap_map_groups_as_roles: true ldap_group_base_dn: 'ou=groups' ldap_group_object_class: 'groupOfNames' ldap_group_id_attribute: 'cn' ldap_group_member_attribute: 'member' ldap_group_member_format: 'uid=${username},ou=users,dc=mycompany,dc=net' ldap_group_subtree: false</code> </pre> <br><p style=";text-align:right;direction:rtl">  مثال تكوين LDAP للمصادقة البسيطة (باستخدام حساب DSA) + مجموعات تم تعيينها ديناميكيًا كأدوار: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_ldap_realm: true ldap_connections: - ldap_name: 'LDAP config with DSA' ldap_protocol: 'ldaps' ldap_hostname: 'annuaire.mycompany.com' ldap_port: 636 ldap_use_trust_store: false ldap_auth: 'simple' ldap_auth_username: 'cn=mynexus,ou=dsa,dc=mycompany,dc=net' ldap_auth_password: "{{ vault_ldap_dsa_password }}" # better keep passwords in an ansible vault ldap_search_base: 'dc=mycompany,dc=net' ldap_user_base_dn: 'ou=users' ldap_user_object_class: 'inetOrgPerson' ldap_user_id_attribute: 'uid' ldap_user_real_name_attribute: 'cn' ldap_user_email_attribute: 'mail' ldap_map_groups_as_roles: true ldap_map_groups_as_roles_type: 'dynamic' ldap_user_memberof_attribute: 'memberOf'</code> </pre> <br><h3 id="privilegii" style=";text-align:right;direction:rtl">  امتيازات </h3><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_privileges: - name: all-repos-read # used as key to update a privilege # type: &lt;one of application, repository-admin, repository-content-selector, repository-view, script or wildcard&gt; description: 'Read &amp; Browse access to all repos' repository: '*' actions: # can be add, browse, create, delete, edit, read or * (all) - read - browse # pattern: pattern # domain: domain # script_name: name</code> </pre> <br><p style=";text-align:right;direction:rtl">  قائمة <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الامتيازات</a> لتكوين.  راجع الوثائق وواجهة المستخدم الرسومية للتعرف على المتغيرات التي يجب تعيينها وفقًا لنوع الامتياز. </p><br><p style=";text-align:right;direction:rtl">  يتم دمج هذه العناصر مع القيم الافتراضية التالية: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> _nexus_privilege_defaults: type: repository-view format: maven2 actions: - read</code> </pre> <br><h3 id="roli-vnutri-nexus-imeetsya-vidu" style=";text-align:right;direction:rtl">  الأدوار (داخل نيكزس متاح) </h3><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_roles: - id: Developpers # can map to a LDAP group id, also used as a key to update a role name: developers description: All developers privileges: - nx-search-read - all-repos-read roles: [] # references to other role names</code> </pre> <br><p style=";text-align:right;direction:rtl">  قائمة <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الأدوار</a> لتكوين. </p><br><h3 id="polzovateli" style=";text-align:right;direction:rtl">  المستخدمين </h3><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_local_users: [] # - username: jenkins # used as key to update # state: present # default value if ommited, use 'absent' to remove user # first_name: Jenkins # last_name: CI # email: support@company.com # password: "s3cr3t" # roles: # - developers # role ID</code> </pre> <br><p style=";text-align:right;direction:rtl">  قائمة المستخدمين / الحسابات المحلية (بخلاف LDAP) لإنشاء في نيكزس. </p><br><p style=";text-align:right;direction:rtl">  قائمة المستخدمين / الحسابات المحلية (بخلاف LDAP) المراد إنشاؤها على Nexus. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_ldap_users: [] # - username: j.doe # state: present # roles: # - "nx-admin"</code> </pre> <br><p style=";text-align:right;direction:rtl">  تعيين Ldap المستخدمين / الأدوار.  ستؤدي الحالة <code>absent</code> إلى إزالة الأدوار من مستخدم حالي ، إذا كان أحدها موجودًا بالفعل. <br>  لا يتم حذف مستخدمي Ldap.  محاولة تثبيت دور لمستخدم غير موجود سينتج عنه خطأ. </p><br><h3 id="selektory-kontenta" style=";text-align:right;direction:rtl">  محددات المحتوى </h3><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_content_selectors: - name: docker-login description: Selector for docker login privilege search_expression: format=="docker" and path=~"/v2/"</code> </pre> <br><p style=";text-align:right;direction:rtl">  لمزيد من المعلومات حول محدد المحتوى ، راجع <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الوثائق</a> . </p><br><p style=";text-align:right;direction:rtl">  لاستخدام محدد المحتوى ، قم بإضافة امتياز جديد <code>type: repository-content-selector</code> المناظر المقابل </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">- name: docker-login-privilege type: repository-content-selector contentSelector: docker-login description: 'Login to Docker registry' repository: '*' actions: - read - browse</code> </pre> <br><h3 id="blobstores-i-repozitorii" style=";text-align:right;direction:rtl">  Blobstores والمستودعات </h3><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_delete_default_repos: false</code> </pre> <br><p style=";text-align:right;direction:rtl">  احذف المستودعات من nexus تثبيت التكوين الافتراضي الأولي.  يتم تنفيذ هذه الخطوة فقط عند التثبيت لأول مرة (عندما يتم الكشف عن <code>nexus_data_dir</code> فارغ). </p><br><p style=";text-align:right;direction:rtl">  قم بإزالة المستودعات من التكوين الافتراضي الأصلي لـ Nexus.  يتم تنفيذ هذه الخطوة فقط عند التثبيت الأول (عندما يكون <code>nexus_data_dir</code> فارغًا). </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_delete_default_blobstore: false</code> </pre> <br><p style=";text-align:right;direction:rtl">  حذف blobstore الافتراضي من نيكزس تثبيت التكوين الافتراضي الأولي.  لا يمكن القيام بذلك إلا إذا كان <code>nexus_delete_default_repos: true</code> وجميع المستودعات التي تم تكوينها (انظر أدناه) تحتوي على <code>blob_store: custom</code> صريحة <code>blob_store: custom</code> .  يتم تنفيذ هذه الخطوة فقط عند التثبيت لأول مرة (عندما يتم الكشف عن <code>nexus_data_dir</code> فارغ). </p><br><p style=";text-align:right;direction:rtl">  يتم تعطيل إزالة تخزين النقطة (التحف الثنائية) افتراضيًا من التكوين الأصلي.  لحذف التخزين <code>nexus_delete_default_repos: true</code> (القطع الأثرية الثنائية) ، أوقف <code>nexus_delete_default_repos: true</code> .  يتم تنفيذ هذه الخطوة فقط عند التثبيت الأول (عندما يكون <code>nexus_data_dir</code> فارغًا). </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_blobstores: [] # example blobstore item : # - name: separate-storage # type: file # path: /mnt/custom/path # - name: s3-blobstore # type: S3 # config: # bucket: s3-blobstore # accessKeyId: "{{ VAULT_ENCRYPTED_KEY_ID }}" # secretAccessKey: "{{ VAULT_ENCRYPTED_ACCESS_KEY }}"</code> </pre> <br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Blobstores</a> لخلق.  لا يمكن تحديث مسار blobstore ومستودع blobstore بعد الإنشاء الأولي (سيتم تجاهل أي تحديث هنا عند إعادة التوفير). </p><br><p style=";text-align:right;direction:rtl">  يتم توفير تكوين blobstore على S3 كوسيلة راحة وليس جزءًا من الاختبارات الآلية التي نجريها على ترافيس.  يرجى ملاحظة أن التخزين على S3 يوصى به فقط للحالات المنشورة على AWS. </p><br><p style=";text-align:right;direction:rtl">  خلق <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Blobstores</a>  لا يمكن تحديث مسار التخزين ومستودع التخزين بعد الإنشاء الأولي (سيتم تجاهل أي تحديث هنا عند إعادة التثبيت). </p><br><p style=";text-align:right;direction:rtl">  يتم توفير تكوين تخزين النقطة على S3 للراحة.  لاحظ أن تخزين S3 يوصى به فقط للحالات التي تم نشرها على AWS. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_repos_maven_proxy: - name: central remote_url: 'https://repo1.maven.org/maven2/' layout_policy: permissive # maximum_component_age: -1 # maximum_metadata_age: 1440 # negative_cache_enabled: true # negative_cache_ttl: 1440 - name: jboss remote_url: 'https://repository.jboss.org/nexus/content/groups/public-jboss/' # maximum_component_age: -1 # maximum_metadata_age: 1440 # negative_cache_enabled: true # negative_cache_ttl: 1440 # example with a login/password : # - name: secret-remote-repo # remote_url: 'https://company.com/repo/secure/private/go/away' # remote_username: 'username' # remote_password: 'secret' # # maximum_component_age: -1 # # maximum_metadata_age: 1440 # # negative_cache_enabled: true # # negative_cache_ttl: 1440</code> </pre> <br><p style=";text-align:right;direction:rtl">  أعلاه مثال تكوين <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">وكيل</a> Maven. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_repos_maven_hosted: - name: private-release version_policy: release write_policy: allow_once # one of "allow", "allow_once" or "deny"</code> </pre> <br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">استضافت</a> Maven تكوين <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">المستودعات</a> .  يعد التكوين المؤقت السلبي خيارًا اختياريًا وسيتم افتراضيًا بالقيم المذكورة أعلاه إذا تم حذفها. </p><br><p style=";text-align:right;direction:rtl">  تكوين <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">مستودعات</a> Maven <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">المستضافة</a> .  تكوين ذاكرة التخزين المؤقت سالبة (-1) اختياري وسيتم الافتراضي للقيم أعلاه إذا لم يتم تحديد. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_repos_maven_group: - name: public member_repos: - central - jboss</code> </pre> <br><p style=";text-align:right;direction:rtl">  تكوين <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">مجموعة</a> مخضرم. </p><br><p style=";text-align:right;direction:rtl">  يتم دمج جميع الأنواع الثلاثة لمستودع التخزين مع القيم الافتراضية التالية: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> _nexus_repos_maven_defaults: blob_store: default # Note : cannot be updated once the repo has been created strict_content_validation: true version_policy: release # release, snapshot or mixed layout_policy: strict # strict or permissive write_policy: allow_once # one of "allow", "allow_once" or "deny" maximum_component_age: -1 # Nexus gui default. For proxies only maximum_metadata_age: 1440 # Nexus gui default. For proxies only negative_cache_enabled: true # Nexus gui default. For proxies only negative_cache_ttl: 1440 # Nexus gui default. For proxies only</code> </pre> <br><p style=";text-align:right;direction:rtl">  أنواع مستودعات الإرساء و Pypi و Raw و Rubygems و Bower و NPM و Git-LFS و yum: <br>  راجع <code>defaults/main.yml</code> لهذه الخيارات: </p><br><p style=";text-align:right;direction:rtl">  يتم إيقاف تشغيل مستودعات Docker و Pypi و Raw و Rubygems و Bower و NPM و Git-LFS و yum افتراضيًا: <br>  راجع <code>defaults/main.yml</code> لهذه الخيارات: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_config_pypi: false nexus_config_docker: false nexus_config_raw: false nexus_config_rubygems: false nexus_config_bower: false nexus_config_npm: false nexus_config_gitlfs: false nexus_config_yum: false</code> </pre> <br><p style=";text-align:right;direction:rtl">  لاحظ أنك قد تحتاج إلى تمكين مناطق أمان معينة إذا كنت تريد استخدام أنواع أخرى من المستودعات إلى جانب maven.  هذا غير صحيح افتراضيا. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">nexus_nuget_api_key_realm: false nexus_npm_bearer_token_realm: false nexus_docker_bearer_token_realm: false # required for docker anonymous access</code> </pre> <br><p style=";text-align:right;direction:rtl">  يمكن أيضًا تمكين مجال المستخدم عن بُعد باستخدام </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">nexus_rut_auth_realm: true</code> </pre> <br><p style=";text-align:right;direction:rtl">  ويمكن تخصيص العنوان عن طريق تحديد </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">nexus_rut_auth_header: "CUSTOM_HEADER"</code> </pre> <br><h3 id="zaplanirovannye-zadachi" style=";text-align:right;direction:rtl">  المهام المجدولة </h3><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_scheduled_tasks: [] # # Example task to compact blobstore : # - name: compact-docker-blobstore # cron: '0 0 22 * * ?' # typeId: blobstore.compact # task_alert_email: alerts@example.org # optional # taskProperties: # blobstoreName: {{ nexus_blob_names.docker.blob }} # all task attributes are stored as strings by nexus internally # # Example task to purge maven snapshots # - name: Purge-maven-snapshots # cron: '0 50 23 * * ?' # typeId: repository.maven.remove-snapshots # task_alert_email: alerts@example.org # optional # taskProperties: # repositoryName: "*" # * for all repos. Change to a repository name if you only want a specific one # minimumRetained: "2" # snapshotRetentionDays: "2" # gracePeriodInDays: "2" # booleanTaskProperties: # removeIfReleased: true # # Example task to purge unused docker manifest and images # - name: Purge unused docker manifests and images # cron: '0 55 23 * * ?' # typeId: "repository.docker.gc" # task_alert_email: alerts@example.org # optional # taskProperties: # repositoryName: "*" # * for all repos. Change to a repository name if you only want a specific one # # Example task to purge incomplete docker uploads # - name: Purge incomplete docker uploads # cron: '0 0 0 * * ?' # typeId: "repository.docker.upload-purge" # task_alert_email: alerts@example.org # optional # taskProperties: # age: "24"</code> </pre> <br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">المهام المجدولة</a> لتكوين.  <code>typeId</code> والمهمة الخاصة <code>taskProperties</code> / <code>booleanTaskProperties</code> يمكن <code>booleanTaskProperties</code> إما: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  من التسلسل الهرمي لنوع Java <code>org.sonatype.nexus.scheduling.TaskDescriptorSupport</code> </li><li style=";text-align:right;direction:rtl">  التحقق من نموذج HTML لإنشاء مهمة في متصفحك </li><li style=";text-align:right;direction:rtl">  من عرض طلبات AJAX في المستعرض عند إعداد المهمة يدويًا. </li></ul><br><p style=";text-align:right;direction:rtl">  <strong>يجب الإعلان عن خصائص المهمة في كتلة yaml الصحيحة ، اعتمادًا على نوعها</strong> : </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>taskProperties</code> لجميع خصائص السلسلة (مثل أسماء المستودعات وأسماء المستودعات والفترات الزمنية ...). </li><li style=";text-align:right;direction:rtl">  <code>booleanTaskProperties</code> لجميع الخصائص المنطقية (مثل مربعات الاختيار في الواجهة الرسومية لمهمة إنشاء nexus). </li></ul><br><h3 id="rezervnye-kopii" style=";text-align:right;direction:rtl">  النسخ الاحتياطي </h3><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_backup_configure: false nexus_backup_cron: '0 0 21 * * ?' # See cron expressions definition in nexus create task gui nexus_backup_dir: '/var/nexus-backup' nexus_restore_log: '{{ nexus_backup_dir }}/nexus-restore.log' nexus_backup_rotate: false nexus_backup_rotate_first: false nexus_backup_keep_rotations: 4 # Keep 4 backup rotation by default (current + last 3)</code> </pre> <br><p style=";text-align:right;direction:rtl">  لن يتم تعيين النسخة الاحتياطية حتى تقوم بالتبديل إلى <code>nexus_backup_configure</code> إلى <code>true</code> . <br>  في هذه الحالة ، سيتم تكوين مهمة البرنامج النصي المجدولة لتعمل على Nexus <br>  عند الفاصل الزمني المحدد في <code>nexus_backup_cron</code> (الافتراضي هو 21:00 كل يوم). <br>  انظر [قالب groovy لهذه المهمة] (القوالب / backup.groovy.j2) للحصول على التفاصيل. <br>  هذه المهمة المجدولة مستقلة عن <code>nexus_scheduled_tasks</code> الأخرى لك <br>  أعلن في قواعد اللعبة التي تمارسها. </p><br><p style=";text-align:right;direction:rtl">  إذا كنت ترغب في تدوير / حذف النسخ الاحتياطية ، <code>nexus_backup_rotate: true</code> بتعيين <code>nexus_backup_rotate: true</code> وقم بتكوين عدد النسخ الاحتياطية التي تريد حفظها باستخدام <code>nexus_backup_keep_rotations</code> (الافتراضي هو 4). </p><br><p style=";text-align:right;direction:rtl">  عند استخدام التدوير ، إذا كنت تريد توفير مساحة إضافية على القرص أثناء عملية النسخ الاحتياطي ، <br>  يمكنك تعيين <code>nexus_backup_rotate_first: true</code> .    /  .        .  ,        <br>   ,     . </p><br><h4 id="procedura-vosstanovleniya" style=";text-align:right;direction:rtl">   </h4><br><p style=";text-align:right;direction:rtl">  playbook   <code>-e nexus_restore_point=&lt;YYYY-MM-dd-HH-mm-ss&gt;</code> <br> (, 2017-12-17-21-00-00  17  2017  21:00 </p><br><h4 id="udalenie-nexus" style=";text-align:right;direction:rtl">  nexus </h4><br><p style=";text-align:right;direction:rtl"> <strong>:     .     ,   </strong> </p><br><p style=";text-align:right;direction:rtl">   <code>nexus_purge</code> ,          nexus    . </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">ansible-playbook -i your/inventory.ini your_nexus_playbook.yml -e nexus_purge=<span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre> <br><h4 id="izmenit-parol-administratora-posle-pervoy-ustanovki" style=";text-align:right;direction:rtl">       </h4><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> nexus_default_admin_password: 'admin123'</code> </pre> <br><p style=";text-align:right;direction:rtl"> <strong>       playbook</strong> .       Nexus     ,        <code>nexus_admin_password</code> . </p><br><p style=";text-align:right;direction:rtl">         ,           .   <code>nexus_admin_password</code>       : </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">ansible-playbook -i your/inventory.ini your_playbook.yml -e nexus_default_admin_password=oldPassword</code> </pre> <br><p style=";text-align:right;direction:rtl">    Nexus Sonatype: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://t.me/ru_nexus_sonatype</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar473358/">https://habr.com/ru/post/ar473358/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar473344/index.html">الحفلات الموسيقية والأحداث KudaGo في المرآة</a></li>
<li><a href="../ar473348/index.html">فكرة القصور الذاتي (SGDm) ، وفكرة التوسع (Adagrad) والتنظيم في التعلم الآلي باستخدام مشكلة التصنيف كمثال</a></li>
<li><a href="../ar473350/index.html">إنشاء واجهة برمجة تطبيقات REST باستخدام Node.js وقاعدة بيانات Oracle. الجزء 3</a></li>
<li><a href="../ar473352/index.html">المجموعات المتزامنة في 10 دقائق</a></li>
<li><a href="../ar473354/index.html">حول الشذوذ من habrostatistics</a></li>
<li><a href="../ar473362/index.html">تجربة GSoC: كيف قام اثنان (ثلاثة) بتحسين كود CRIU حقًا</a></li>
<li><a href="../ar473364/index.html">هناك goby ، يتأرجح: قائمة مرجعية للتجارة الإلكترونية في موسم المبيعات</a></li>
<li><a href="../ar473366/index.html">ما هو في بلدي التلفزيون الذكية بالنسبة لك؟ أو ما الذي يمكن حشره في التلفزيون؟</a></li>
<li><a href="../ar473368/index.html">MIRO عبارة عن منصة روبوت داخلية مفتوحة. الجزء 3 - مكون البرنامج: ESP8266</a></li>
<li><a href="../ar473372/index.html">إنشاء خدمة تتبع مكالمات بسيطة ، الجزء 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>