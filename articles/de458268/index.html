<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍🤝‍👨🏼 👆🏼 🚗 Automatische Segmentierung der Atemwege 👩🏾‍🏭 👨🏻‍🎤 🤫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die manuelle Segmentierung der Lunge dauert etwa 10 Minuten und erfordert einige Fähigkeiten, um das gleiche qualitativ hochwertige Ergebnis wie bei d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Automatische Segmentierung der Atemwege</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/inobitec/blog/458268/"><p>  Die manuelle Segmentierung der Lunge dauert etwa 10 Minuten und erfordert einige Fähigkeiten, um das gleiche qualitativ hochwertige Ergebnis wie bei der automatischen Segmentierung zu erzielen.  Die automatische Segmentierung dauert ca. 15 Sekunden. </p><br><p>  Ich nahm an, dass es ohne ein neuronales Netzwerk möglich wäre, eine Genauigkeit von nicht mehr als 70% zu erreichen.  Ich nahm auch an, dass morphologische Operationen nur Bilder für komplexere Algorithmen vorbereiten.  Als Ergebnis der Verarbeitung der mindestens 40 vorhandenen Tomographieproben wählte der Algorithmus die Lungen fehlerfrei aus, und nach dem Test in den ersten fünf Fällen wurden keine signifikanten Änderungen am Algorithmus vorgenommen, und ab der ersten Anwendung funktionierte er bei den verbleibenden 35 Studien unverändert korrekt Einstellungen. </p><br><p>  Neuronale Netze haben auch ein Minus - für ihr Training benötigen Sie Hunderte von Trainingsmustern der Lunge, die manuell beschriftet werden müssen. </p><br><p><img src="https://habrastorage.org/webt/fg/uv/-r/fguv-r_mn7ybraf34p_1ybbphwa.jpeg"></p><a name="habracut"></a><br><h1>  Inhalt </h1><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die Struktur der Atemwege</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hounsfield-Skala</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mathematische Morphologie</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Lee-Algorithmus und RLE-Komprimierung</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Konvertierung des Schwellenwert-Basisvolumens</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Externe Luftbegrenzung</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hervorheben des maximalen Objektvolumens</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Gefäßverschluss in der Lunge</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Algorithmus zur Segmentierung der Atemwege</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Implementierung des Algorithmus in MATLAB</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fazit</a> </li></ul><br><h1 id="paragraph1">  Die Struktur der Atemwege </h1><br><p>  Das Atmungssystem umfasst die Atemwege und Lungen.  Ordnen Sie die oberen und unteren Atemwege zu.  Der Trennungspunkt zwischen den unteren und oberen Atemwegen ist der Schnittpunkt der Nahrung und der Atemwege.  Alles über dem Kehlkopf ist der obere Teil und der Rest ist niedriger. </p><br><p>  Wir listen die Atmungsorgane auf: <br>  <strong>Nasenhöhle</strong> : - Nase, Kieferhöhlen usw. <br>  <strong>Der Pharynx</strong> ist der Kanal, durch den Nahrung und Flug reisen. <br>  <strong>Kehlkopf</strong> - verantwortlich für die Stimmbildung.  Befindet sich auf der Höhe der Halswirbel C4-C6. <br>  Luftröhre - ein Schlauch, der Kehlkopf und Bronchien verbindet. <br>  <strong>Die Bronchien</strong> sind die Atemwege, von denen sich die meisten in der Lunge befinden. <br>  <strong>Die Lunge</strong> ist das Hauptorgan der Atemwege. </p><br><p><img src="https://habrastorage.org/webt/yx/ju/sp/yxjuspnur3gwm3ghxhqv50upj9i.png"></p><br><h1 id="paragraph2">  Hounsfield-Skala </h1><br><p>  Godfrey Hounsfield ist ein britischer Elektrotechniker, der zusammen mit dem amerikanischen Theoretiker Allan Cormack die Computertomographie entwickelte, für die er 1979 den Nobelpreis erhielt. </p><br><p><img src="https://habrastorage.org/webt/jv/bl/ho/jvblho_x-0woitx02gbfjuxxhju.jpeg"></p><br><p>  Hounsfield-Skala - Eine quantitative Röntgendichteskala, die in Hounsfield-Einheiten gemessen wird und mit HU bezeichnet wird. </p><br><p>  Die Röntgendichte wird auf der Grundlage des Dämpfungskoeffizienten der Substanz berechnet, dh des Grads der Abnahme der Strahlungsleistung beim Durchgang durch diese Substanz. </p><br><p>  Die Röntgendichte wird nach folgender Formel berechnet: </p><br><p><math> </math> $$ Anzeige $$ {μ_ {X} -μ_ {Wasser} \ über μ_ {Wasser} -μ_ {Luft}} \ mal 1000 $$ Anzeige $$ </p><br><p>  wo <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x3BC;</mo></mrow><mi>X</mi></msub><mo>,</mo><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x3BC;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>W</mi><mi>a</mi><mi>s</mi><mi>s</mi><mi>e</mi><mi>r</mi></mrow></msub><mo>,</mo><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x3BC;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mi>u</mi><mi>f</mi><mi>t</mi></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="17.568ex" height="2.298ex" viewBox="0 -520.7 7564.1 989.6" role="img" focusable="false" style="vertical-align: -1.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhgX8yC3FbQ3tXWaK-0adDCwbzFq8g#MJMATHI-3BC" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhgX8yC3FbQ3tXWaK-0adDCwbzFq8g#MJMATHI-58" x="853" y="-357"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhgX8yC3FbQ3tXWaK-0adDCwbzFq8g#MJMAIN-2C" x="1306" y="0"></use><g transform="translate(1751,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhgX8yC3FbQ3tXWaK-0adDCwbzFq8g#MJMATHI-3BC" x="0" y="0"></use><g transform="translate(603,-253)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhgX8yC3FbQ3tXWaK-0adDCwbzFq8g#MJMATHI-57" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhgX8yC3FbQ3tXWaK-0adDCwbzFq8g#MJMATHI-61" x="1048" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhgX8yC3FbQ3tXWaK-0adDCwbzFq8g#MJMATHI-73" x="1578" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhgX8yC3FbQ3tXWaK-0adDCwbzFq8g#MJMATHI-73" x="2047" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhgX8yC3FbQ3tXWaK-0adDCwbzFq8g#MJMATHI-65" x="2517" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhgX8yC3FbQ3tXWaK-0adDCwbzFq8g#MJMATHI-72" x="2983" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhgX8yC3FbQ3tXWaK-0adDCwbzFq8g#MJMAIN-2C" x="4883" y="0"></use><g transform="translate(5329,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhgX8yC3FbQ3tXWaK-0adDCwbzFq8g#MJMATHI-3BC" x="0" y="0"></use><g transform="translate(603,-253)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhgX8yC3FbQ3tXWaK-0adDCwbzFq8g#MJMATHI-4C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhgX8yC3FbQ3tXWaK-0adDCwbzFq8g#MJMATHI-75" x="681" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhgX8yC3FbQ3tXWaK-0adDCwbzFq8g#MJMATHI-66" x="1254" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;usg=ALkJrhgX8yC3FbQ3tXWaK-0adDCwbzFq8g#MJMATHI-74" x="1804" y="0"></use></g></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mo>μ</mo></mrow><mi>X</mi></msub><mo>,</mo><msub><mrow class="MJX-TeXAtom-ORD"><mo>μ</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><mi>a</mi><mi>s</mi><mi>s</mi><mi>e</mi><mi>r</mi></mrow></msub><mo>,</mo><msub><mrow class="MJX-TeXAtom-ORD"><mo>μ</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mi>u</mi><mi>f</mi><mi>t</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-2"> μ_X, μ_ {Wasser}, μ_ {Luft} </script>  - lineare Dämpfungskoeffizienten für den gemessenen Stoff, Wasser und Luft. </p><br><p>  Die Röntgendichte ist negativ, da die Röntgendichte Null Wasser entspricht.  Dies bedeutet, dass alle Substanzen, durch die Röntgenwellen mit einer geringeren Abnahme der Strahlungsleistung als durch Wasser (z. B. Lungengewebe, Luft) hindurchtreten, eine negative Röntgendichte aufweisen. </p><br><p>  Das Folgende sind ungefähre Röntgendichten für verschiedene Gewebe: </p><br><ul><li>  Luft: -1000 HU. </li><li>  Atmungsorgane: -950 bis -300 HE. </li><li>  Blut (ohne Gefäßkontrast): 0 bis 100 HE. </li><li>  Knochen: 100 bis 1000 HU. </li></ul><br><p><img src="https://habrastorage.org/webt/n5/o9/5w/n5o95wjj7avpy456i33a4swu_y4.png"></p><br><p>  Wikipedia-Links: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hounsfield-Skala</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Godfrey Hounsfield</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dämpfungskoeffizient</a> . </p><br><h1 id="paragraph3">  Mathematische Morphologie </h1><br><p>  Der Hauptplatz unter den in diesem Artikel ausgewählten Algorithmen wird von morphologischen Operationen eingenommen. </p><br><p>  Im Bereich der Bildverarbeitung erfordern morphologische Operationen eine Gruppe von Algorithmen zur Transformation der Form von Objekten.  Am häufigsten werden morphologische Operationen auf binärisierte Bilder angewendet, wobei die Voxel der Objekte Einheiten und die Leere Nullen entsprechen. </p><br><p>  Die wichtigsten morphologischen Operationen umfassen: </p><br><p>  <strong>Morphologische Dilatation (Dilatation, Expansion)</strong> - Hinzufügen neuer Voxel zu allen Randvoxeln von Objekten.  Das heißt, entlang aller Grenzvoxel wird ein Durchgang mit einem Kern mit einer bestimmten Form (Kugel, Würfel, Kreuz usw.) hergestellt.  Diese Operation wird häufig verwendet, um viele benachbarte Objekte zu einem einzigen Objekt zu verbinden. </p><br><p>  <strong>Morphologische Erosion (Erosion, Erosion)</strong> - die Zerstörung aller Voxel, die an der Grenze von Objekten liegen.  Diese Operation ist das Gegenteil von Dilatation.  Diese Operation ist nützlich, um Rauschen in Form vieler miteinander verbundener kleiner Objekte zu entfernen.  Diese Methode zur Rauschentfernung sollte jedoch nur angewendet werden, wenn das segmentierte Objekt eine Dicke aufweist, die erheblich größer als der Erosionsradius ist. </p><br><p>  <strong>Der morphologische Verschluss</strong> ist eine Erweiterung, gefolgt von Erosion.  Es wird verwendet, um Öffnungen in Objekten zu schließen und benachbarte Objekte zu kombinieren. </p><br><p>  <strong>Morphologische Öffnung (Öffnung)</strong> ist Erosion, gefolgt von Dilatation.  Es wird verwendet, um kleine Rauschobjekte zu entfernen und Objekte in mehrere Objekte zu unterteilen. </p><br><p><img src="https://habrastorage.org/webt/bv/kd/fv/bvkdfvdijxabpqjpbgrlw5pwdz4.gif"><img src="https://habrastorage.org/webt/7w/ft/h0/7wfth0jdj6img3nvemmktkysboq.gif"></p><br><h1 id="paragraph4">  Lee-Algorithmus und RLE-Komprimierung </h1><br><p>  Um Objekte in einem binärisierten Voxelvolumen zu isolieren, wird der Lee-Algorithmus verwendet.  Dieser Algorithmus wurde ursprünglich erfunden, um den kürzesten Weg zu finden.  Wir verwenden es jedoch, um Objekte von einem dreidimensionalen Array von Voxeln auszuwählen und zu einem anderen zu verschieben.  Sein Wesen ist die parallele Bewegung in alle möglichen Richtungen vom Startpunkt aus.  Für den dreidimensionalen Fall sind 26 oder 6 Bewegungsrichtungen von einem gegebenen Voxel möglich (wenn sich das Voxel nicht am Bildrand befindet). </p><br><p>  Um die Geschwindigkeit zu optimieren, haben wir den Lauflängencodierungsalgorithmus verwendet.  Sein Kern liegt in der Tatsache, dass Folgen von Einsen und Nullen durch eine Ziffer ersetzt werden, die der Anzahl der Elemente in der Folge entspricht.  Beispielsweise kann die Zeichenfolge "00110111" wie folgt ersetzt werden: "2; 2; 1; 3".  Dies reduziert die Anzahl der Speicherzugriffe. </p><br><p><img src="https://habrastorage.org/webt/if/kr/h6/ifkrh6br6sgi65g8sowexfxxsis.gif"><img src="https://habrastorage.org/webt/9f/rr/nc/9frrncdin9axwhdwgad8vndnlqy.gif"></p><br><p>  Wikipedia-Links: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Lee-</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Algorithmus, RLE-Algorithmus</a> . </p><br><h1 id="paragraph5">  Konvertierung des Schwellenwert-Basisvolumens </h1><br><p>  Unter Verwendung eines Tomographen wurden Daten zur Röntgendichte an jedem Punkt im Raum erhalten.  Luftvoxel haben eine Röntgendichte im Bereich von -1100 bis -900 HE und Voxel der Atmungsorgane von -900 bis -300 HE.  Daher können wir alle überschüssigen Voxel mit einer Röntgendichte von mehr als -300 HE entfernen.  Als Ergebnis erhalten wir ein binärisiertes Voxelvolumen, das nur Atmungsorgane und Luft enthält. </p><br><p><img src="https://habrastorage.org/webt/di/lv/ss/dilvssyv2do2rvjlbb3xov798rw.gif"></p><br><h1 id="paragraph6">  Externe Luftbegrenzung </h1><br><p>  Um die innere Luft des Körpers zu isolieren, entfernen wir alle Objekte, die an die Ecken der Voxelszene angrenzen.  So werden wir die Außenluft los. </p><br><p><img src="https://habrastorage.org/webt/c_/es/dj/c_esdje-omegb-i31quh2tslaoi.png"></p><br><p>  In nicht allen Fällen wird jedoch die Luft im Tomographentisch entfernt, da möglicherweise keine Verbindung zu den Ecken der Szene besteht. </p><br><p><img src="https://habrastorage.org/webt/mu/m1/bi/mum1bidj1at0nvceitxh5jtzqs4.png"></p><br><p>  Daher scannen wir nicht nur die Ecken, sondern auch alle Voxel, die auf einer der Randebenen der Szene liegen.  Infolgedessen sind aus irgendeinem Grund auch die Lungen selbst gegangen.  Es stellt sich heraus, dass die Luftröhre auch eine Verbindung zur oberen Ebene der Szene hatte. </p><br><p><img src="https://habrastorage.org/webt/fu/zb/3b/fuzb3bzxnvxvofjz-mxoelly5w4.gif"></p><br><p>  Die obere Ebene muss aus der Scanzone ausgeschlossen werden.  Es gibt auch Studien, bei denen die Lunge nicht vollständig erfasst wurde und die untere Ebene mit der Lunge assoziiert ist.  Auf Wunsch kann also auch die untere Ebene ausgeschlossen werden. </p><br><p><img src="https://habrastorage.org/webt/uf/ja/mb/ufjambvoavwiks-09hms7wc02lg.png"></p><br><p>  Diese Methode wirkt jedoch nur auf Brustuntersuchungen.  Bei der Erfassung des gesamten Körpervolumens erscheint auf dem Bild eine Verbindung zwischen der inneren und äußeren Luft durch die Nasenhöhle.  Daher ist es notwendig, morphologische Erosion anzuwenden, um innere und äußere Luft zu trennen. </p><br><p><img src="https://habrastorage.org/webt/fu/rq/26/furq26oo1ozjtnxrzu1ahknvjk4.gif"></p><br><p>  Nach dem Anwenden der Erosion können wir zu der zuvor erhaltenen Methode der Segmentierung der Außenluft zurückkehren, die auf der Nähe zu den Seitenebenen der Szene basiert. </p><br><p><img src="https://habrastorage.org/webt/yj/i7/nh/yji7nhiveqpxbky3_qgj9b6n0zq.png"></p><br><p>  Durch die Isolierung der Außenluft könnte man sie sofort aus dem Gesamtvolumen von Luft und Lunge herausnehmen und die Innenluft von Körper und Lunge gewinnen.  Es gibt jedoch ein Problem.  Nach der Erosion gingen einige Informationen über die Außenluft verloren.  Um es wiederherzustellen, wenden wir die Erweiterung der Außenluft an. </p><br><p><img src="https://habrastorage.org/webt/vn/tu/ns/vntunsho-og3pm1at7dqi3_ltna.gif"></p><br><p>  Als nächstes subtrahieren wir die Außenluft von allen Luft- und Atmungsorganen und erhalten die Innenluft und die Atmungsorgane. </p><br><p><img src="https://habrastorage.org/webt/fr/hx/df/frhxdfz7ax9fz-ps7x9zjrlgiqo.png"></p><br><p><img src="https://habrastorage.org/webt/64/hd/2i/64hd2ivbfu5g-d2yjjqkx5kv8pe.png"></p><br><h1 id="paragraph7">  Hervorheben des maximalen Objektvolumens </h1><br><p>  Als nächstes wählen wir die Atmungsorgane als das größte Objekt im Volumen aus.  Atmungsorgane sind ein separates Objekt.  Es gibt keine Verbindung zwischen der Lunge und der Luft im Magen-Darm-Trakt. </p><br><p><img src="https://habrastorage.org/webt/7l/gt/bd/7lgtbdfvf0st73wqzlacvax1r-0.png"><img src="https://habrastorage.org/webt/5d/ce/8u/5dce8urp2qvopyat905ex9y_qqs.png"></p><br><p>  Es ist anzumerken, dass die richtige Wahl der Röntgendichteschwelle im Anfangsschritt der Schwellentransformation wichtig ist.  Andernfalls besteht in einigen Fällen aufgrund der geringen Auflösung möglicherweise keine Verbindung zwischen den beiden Lungen.  Wenn Sie beispielsweise berücksichtigen, dass die Voxel der Atmungsorgane eine Röntgendichte von -500 HE oder weniger aufweisen, führt die Zuordnung der Atmungsorgane zum größten Volumenobjekt im folgenden Fall zu einem Fehler, da keine Verbindung zwischen den beiden Lungen besteht.  Daher sollte der Schwellenwert auf -300 HE erhöht werden. </p><br><p><img src="https://habrastorage.org/webt/jr/mi/m2/jrmim2de5siht6zo2nhoz8l1e5e.png"></p><br><h1 id="paragraph8">  Gefäßverschluss in der Lunge </h1><br><p>  Um die Gefäße in der Lunge zu erfassen, verwenden wir einen morphologischen Verschluss, dh eine Dilatation, gefolgt von einer Erosion mit demselben Radius.  Die Röntgendichte der Gefäße beträgt etwa -100..100 HU. </p><br><p><img src="https://habrastorage.org/webt/dz/oc/f0/dzocf0ejl-ckqqlsrbhhelo9p1u.png"><br>  Große Blutgefäße schlossen nicht.  Dies ist jedoch nicht erforderlich.  Der Zweck dieser Operation bestand darin, viele kleine Löcher in der Lunge zu zerstören, um eine weitere Lungensegmentierung zu ermöglichen. </p><br><h1 id="paragraph9">  Algorithmus zur Segmentierung der Atemwege </h1><br><p>  Als Ergebnis erhalten wir den folgenden Algorithmus zur Segmentierung der Atmungsorgane: </p><br><ol><li>  Schwellenwertumwandlung des Basisvolumens durch Schwellenwert &lt;-300 HE. </li><li>  Morphologische Erosion mit einem Radius von 3 mm zur Trennung von Außen- und Innenluft. </li><li>  Die Zuordnung der Außenluft anhand der Nähe zu den seitlichen Grenzflächen der Voxelszene. </li><li>  Morphologische Erweiterung der Außenluft zur Wiederherstellung von Informationen, die durch Erosion verloren gegangen sind. </li><li>  Subtraktion der Außenluft von allen Luft- und Atmungsorganen, um die Innenluft und die Atmungsorgane zu erhalten. </li><li>  Hervorheben des maximalen Objektvolumens. </li><li>  Morphologischer Verschluss von Blutgefäßen in der Lunge. </li></ol><br><p><img src="https://habrastorage.org/webt/0z/d5/0j/0zd50js0yyqxagy_sgsp2wjyu8o.png"></p><br><h1 id="paragraph10">  Implementierung des Algorithmus in MATLAB </h1><br><h3 id="metod-getrespiratoryorgans">  GetRespiratoryOrgans-Methode </h3><br><pre><code class="matlab hljs"><span class="hljs-comment"><span class="hljs-comment">%      (    ) %      . % V =         . % cr =    . % ci =      (, 3  %      3   . function RO = getRespiratoryOrgans(V,cr,ci) %     %   &lt; -300 HU. AL=~imbinarize(V,-300); %    3   %     . SE=strel('sphere',3); EAL=imerode(AL,SE); %       %      . EA=getExternalAir(EAL); %      %      . DEA=EA; for i=1:4 DEA=imdilate(DEA,SE); DEA=DEA&amp;AL; end %         %        . IAL=AL-DEA; %     . RO=getMaxObject(IAL); %     . RO=closeVoxelVolume(RO,3,2);</span></span></code> </pre> <br><h3 id="metod-getexternalair">  GetExternalAir-Methode </h3><br><pre> <code class="matlab hljs"><span class="hljs-comment"><span class="hljs-comment">%  ,       % (  ,     %    ). % EAL =      . function EA = getExternalAir(EAL) %  bwlabeln  :   %    ,  –    .. V=bwlabeln(EAL); %    ,    %     . R=regionprops3(V,'BoundingBox','VoxelList'); n=height(R); %  3-D      . s=size(EAL); EA=zeros(s,'logical'); %        %    ,   . for i=1:n %   x  y,    %  . x0=R(i,1).BoundingBox(1); y0=R(i,1).BoundingBox(2); x1=x0+R(i,1).BoundingBox(4); y1=y0+R(i,1).BoundingBox(5); %        %  ,       %   EA. if (x0 &lt; 1 || x1 &gt; s(1)-1 || y0 &lt; 1 || y1 &gt; s(2)-1) %        %  : [[x1 y1 z1][x2 y2 z3] … [xn yn zn]]. mat=cell2mat(R(i,2).VoxelList); ms=size(mat); %  ,    . for j=1:ms(1) x=mat(j,2); y=mat(j,1); z=mat(j,3); EA(x,y,z)=1; end end end</span></span></code> </pre> <br><h3 id="metod-getmaxobject">  GetMaxObject-Methode </h3><br><pre> <code class="matlab hljs"><span class="hljs-comment"><span class="hljs-comment">%        "V". % O =    . % m =    . function [O,m] = getMaxObject(V) %  . V=bwlabeln(V); %        %  . R=regionprops3(V,'Volume','VoxelList'); %      . v=R(:,1).Volume; [m,i]=max(v); %  3-D      % . s=size(V); O=zeros(s,'logical'); %       . mat=cell2mat(R(i,2).VoxelList); ms=size(mat); for j=1:ms(1) x=mat(j,2); y=mat(j,1); z=mat(j,3); O(x,y,z)=1; end</span></span></code> </pre> <br><p>  Der Quellcode kann hier heruntergeladen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">werden</a> . </p><br><h1 id="paragraph11">  Fazit </h1><br><p>  Folgende Artikel sind geplant: </p><br><ol><li>  Segmentierung der Luftröhre und der Bronchien; </li><li>  Segmentierung der Lunge; </li><li>  Segmentierung der Lungenlappen. </li></ol><br><p>  Algorithmen wie: </p><br><ol><li>  Entfernungstransformation; </li><li>  Transformation des nächsten Nachbarn (Transformation des nächsten Nachbarn, auch als Merkmalstransformation bekannt); </li><li>  Berechnung von Eigenwerten der Hessischen Matrix zur Segmentierung flacher 3D-Objekte; </li><li>  Segmentierung nach der Wasserscheidensegmentierung. </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de458268/">https://habr.com/ru/post/de458268/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de458252/index.html">Mathematisches Modell eines superlangen Radioteleskops</a></li>
<li><a href="../de458256/index.html">Ist es nicht Zeit für eine Gehirnwäsche?</a></li>
<li><a href="../de458260/index.html">Eine andere Möglichkeit, Docker-Images für Java-Anwendungen zu optimieren</a></li>
<li><a href="../de458262/index.html">Online-Designer des Besprechungsraums - Auswahl der optimalen Lösung für die Videokonferenz</a></li>
<li><a href="../de458264/index.html">10 Prinzipien des selbstdokumentierenden Codes</a></li>
<li><a href="../de458270/index.html">Über Fehler, die aus dem Nichts auftauchen und an denen niemand schuld ist: Das Phänomen des Verschmierens von Verantwortung</a></li>
<li><a href="../de458272/index.html">Meine Güte! für Reisende - die Geschichte eines Heimprojekts</a></li>
<li><a href="../de458276/index.html">Die erste Simulation des Universums basierend auf KI wurde entwickelt. Ein neuronales Netzwerk macht seine Arbeit so gut, dass es sogar komisch ist</a></li>
<li><a href="../de458278/index.html">Wie Hacker Microsoft Excel gegen sich selbst einsetzen</a></li>
<li><a href="../de458280/index.html">Ein weiterer Schritt gegen Ende von Moores Gesetz</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>