<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤙🏿 ⏸️ 🧑🏿‍🤝‍🧑🏿 ShIoTiny dan dunia sekitarnya: menghubungkan sensor ke input biner, pantulan kontak, dan masalah lainnya 🍽️ 🕯️ 🎰</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Poin-poin penting atau tentang artikel ini 


 Artikel lain tentang ShIoTiny - pengontrol yang dapat diprogram secara visual berdasarkan chip ESP8266 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ShIoTiny dan dunia sekitarnya: menghubungkan sensor ke input biner, pantulan kontak, dan masalah lainnya</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/466231/"><img src="https://habrastorage.org/webt/3n/g5/5y/3ng55yiea33i2ft7gzbcydaenka.jpeg"><br><h4 id="osnovnye-tezisy-ili-o-chem-eta-statya">  Poin-poin penting atau tentang artikel ini </h4><br><p>  Artikel lain tentang <strong>ShIoTiny</strong> - pengontrol yang dapat diprogram secara visual berdasarkan chip <strong>ESP8266</strong> .  Artikel ini menjelaskan fitur menghubungkan sensor dari berbagai jenis ke input biner dari pengontrol <strong>ShIoTiny</strong> .  Selain itu, ada jawaban atas sejumlah pertanyaan populer dari pembaca artikel sebelumnya dalam seri ini. </p><br><p>  <strong>Artikel Seri Sebelumnya</strong> <strong><br></strong> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ShIoTiny: otomatisasi kecil, Internet, atau "enam bulan sebelum liburan"</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ShIoTiny: node, tautan, dan acara atau fitur program menggambar</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ShIoTiny: ventilasi kamar basah (contoh proyek)</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Situs proyek</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Firmware biner, sirkuit pengontrol, dan dokumentasi</a> </p><a name="habracut"></a><br><h4 id="vstuplenie-ili-otvety-na-voprosy">  Pendahuluan atau jawaban atas pertanyaan </h4><br><p>  Semua artikel saya tentang <strong>ShIoTiny</strong> , kecuali yang pertama, lahir dari pertanyaan dari pembaca yang berisiko mencoba firmware saya. </p><br><p>  Faktanya adalah bahwa untuk menjawab secara detail dan sekaligus - saya tidak punya kesempatan.  Hobi adalah hobi dan jarang ada orang yang menghabiskan waktu sebanyak itu untuk pekerjaan, pekerjaan rumah tangga, atau anak-anak.  Saya juga tidak bisa.  Dan pertanyaan-pertanyaan dari surat-surat pada dasarnya dapat dikurangi menjadi beberapa.  Oleh karena itu, lebih mudah untuk menulis artikel yang mencakup beberapa masalah secara rinci daripada menulis selusin surat. </p><br><p>  Banyak pertanyaan terkait bagaimana menghubungkan sensor dari berbagai jenis dan bagaimana cara bekerja dengannya.  Ini tidak mengejutkan: bekerja dengan relay output cukup sederhana.  Dan apa yang mereka tidak ingin terhubung ke input!  Ada banyak pilihan.  Artikel ini didedikasikan untuk artikel ini dan kemungkinan besar akan dikhususkan untuk yang berikut: topik yang sangat luas - koneksi sensor. </p><br><p>  Tetapi, sebelum beralih ke biografi dunia sensor yang indah, saya akan membiarkan diri saya menggunakan Habr sebagai media untuk menjawab pertanyaan paling populer yang mereka tanyakan dalam surat. </p><br><p>  <strong><em>Jawaban untuk pertanyaan pembaca paling populer</em></strong> <strong><br></strong> </p><br><p>  Mungkin pertanyaan paling populer adalah " <strong><em>mengapa Anda tidak mendukung PWM / DS1821 / RTC ... dan seterusnya?</em></strong>  ".  Saya jawab.  Karena ketika saya merancang ShIoTiny, saya tidak membutuhkannya.  Adapun PWM, tidak ada tempat untuk meletakkannya di papan <strong>ShIoTiny</strong> .  Tidak ada kaki yang tersisa untuk menghubungkan <strong>RTC</strong> .  Dan sebagainya.  Tetapi jika proyek ini berkembang dengan cukup sukses - saya akan membuat perangkat lain dengan ideologi pemrograman yang sama, tetapi dengan perangkat peripheral yang berbeda.  Tentu saja, saya akan mendukung beberapa chip tambahan di ShIoTiny, karena saya mendukung, misalnya, baru kemarin sensor suhu <strong>DS1820 / 22</strong> .  Tapi Anda tidak bisa merangkul besarnya dan mendorong yang belum diedit.  Memori pengontrol, seperti waktu saya, tidak terbatas. </p><br><p>  Pertanyaan paling populer berikutnya adalah: “ <strong><em>Apakah Anda berencana untuk memproduksi ShIoTiny secara massal?</em></strong>  ".  Saya akan menjawab secara detail.  <strong><em>Saat ini</em></strong> saya memiliki beberapa papan lagi dan jika ada yang tertarik - tulis, saya akan kirim.  Jika mereka tetap pada saat itu, tentu saja.  Serial (artinya 50-100 lembar), sekali lagi, saat ini saya tidak berencana untuk merilisnya.  Tidak ada permintaan seperti itu, dan mengatakan 50 papan tidak begitu mudah untuk hobi dan akan menghabiskan banyak biaya.  Akan ada banyak orang yang ingin mendapatkan bayaran siap - situasinya dapat berubah.  <em>Jadi kalau tidak semuanya, maka banyak tergantung pada pendapat dan keinginan masyarakat.</em> </p><br><p>  Pertanyaan lain yang sering diajukan: “dari <strong><em>mana mendapatkan sumbernya?</em></strong>  ".  Saya jawab.  Tidak ada tempat lain.  Untuk beberapa alasan, saya belum dapat mempostingnya dan saya tidak tahu apakah saya bisa melakukannya di masa mendatang. </p><br><p>  Dan akhirnya, pertanyaan tentang <strong>multicast</strong> <strong>MQTT</strong> dan <strong>UDP</strong> .  Saya berharap dapat membuat artikel terpisah tentang masalah ini, karena ada banyak fitur.  Sesuatu tentang <strong>MQTT</strong> ada di artikel sebelumnya tentang sistem ventilasi, tetapi semuanya dijelaskan di sana secara umum.  Namun - baca instruksi.  Ada banyak jawaban, meskipun ini masih konsep. </p><br><p>  Ini diakhiri dengan pertanyaan-pertanyaan populer dan akhirnya membahas untuk apa artikel ini ditulis - dunia sensor yang menakjubkan, indah, menakutkan dan misterius. </p><br><h4 id="datchik--chto-eto-i-zachem-ono">  Sensor - apa itu dan mengapa itu? </h4><br><p>  Setiap prasasti dalam bahasa yang tidak dikenal hanyalah pola kompleks untuk seseorang yang belum pernah melihat huruf atau hieroglif.  Tidak ada gambar untuk orang buta.  Untuk tuna rungu, musik.  Kenapa saya?  Dan fakta bahwa <em>informasi</em> adalah tampilan bersyarat dari suatu objek atau fenomena pada beberapa media material.  Informasi tanpa media materi tidak ada.  Serta informasi tidak ada tanpa seseorang yang mampu memahaminya. </p><br><p>  Karenanya, jika kita ingin <strong>ShIoTiny</strong> kita tidak menjadi "buta", "tuli" dan "buta huruf" - kita harus mengajarinya untuk " <em>memahami</em> " dan " <em>memahami</em> " informasi tentang dunia di sekitarnya dan atas dasar ini untuk membuat keputusan tertentu untuk mengelola apa yang dibutuhkan peralatan kami. </p><br><p>  Informasi tentang dunia ada dalam beragam representasi dan berbagai pembawa material: getaran udara - bunyi dan fluks foton;  konsentrasi uap air di udara dan suhu bumi;  ada atau tidak adanya massa dan besarnya.  Dan sebagainya.  Semua ini dapat membawa bagi kami informasi yang diperlukan untuk pengambilan keputusan. </p><br><p>  Tetapi mikrokontroler <strong>ESP8266</strong> kami - dasar dari <strong>ShIoTiny</strong> - hanya memahami dua jenis informasi - sinyal biner digital <strong>0V</strong> - <strong>3V</strong> dan sinyal analog dalam kisaran dari <strong>0V</strong> hingga <strong>1V</strong> . </p><br><p>  Oleh karena itu, kita memerlukan " <strong>penerjemah</strong> " dari bahasa fenomena fisik tertentu atau kuantitas fisik ke bahasa sinyal listrik yang dapat dimengerti oleh mikrokontroler <strong>ESP8266</strong> .  " <strong>Penerjemah</strong> " semacam itu disebut <strong><em>sensor</em></strong> . </p><br><p>  Sebenarnya, dalam kasus kami, <strong><em>sensor</em></strong> adalah alat teknis yang mengubah informasi tentang dunia sekitarnya menjadi sinyal listrik yang dapat dipahami oleh komponen elektronik dari pengontrol <strong>ShIoTiny</strong> . </p><br><p>  Sensor berbeda.  Ada ribuan dan kegelapan.  Tetapi jika Anda mulai mengerti, maka semuanya tidak begitu menakutkan.  <em>Pertama</em> , kami hanya tertarik pada sensor yang menghasilkan sinyal listrik pada output.  <em>Kedua</em> , kita akan membatasi diri hanya untuk jenis sensor yang populer.  Dan <em>ketiga</em> , dalam praktiknya tidak begitu banyak jenis sinyal yang dihasilkan oleh sensor. </p><br><p>  Dari "pertama" - semuanya jelas.  Secara fisik tidak mungkin untuk <strong>menghubungkan</strong> sensor secara langsung ke <strong>ShIoTiny</strong> yang menyediakan informasi dalam bentuk mekanik, hidrolik, atau pneumatik. </p><br><p>  Dengan "kedua" - semuanya juga jelas.  Sangat tidak mungkin bahwa siapa pun akan menghubungkan detektor partikel cepat spesifik atau pH meter dalam lithium radioaktif cair ke <strong>ShIoTiny</strong> .  Nah, jika ada yang melakukannya, saya pikir kualifikasinya jauh lebih tinggi dari saya dan dia kemungkinan besar tidak akan membutuhkan artikel ini.  Tetapi suhu air atau udara, tekanan udara atau air, kelembaban, cahaya, tingkat cairan atau kondisi pintu (buka-tutup) - semua ini dapat diukur dengan sangat baik oleh pengontrol ShIoTiny dalam sistem kontrol rumah tangga. </p><br><p>  Kami akan berurusan dengan "ketiga".  Sinyal listrik apa yang biasanya keluaran dari jenis sensor yang umum?  Tiga jenis sinyal utama pada output sensor dapat dibedakan: </p><br><p>  <strong>Sinyal biner</strong>  Artinya, sinyal yang hanya memiliki dua level - logis 0 atau logis 1. Parameter listrik tidak penting - mereka selalu dapat dikonversi ke level yang diinginkan. </p><br><p>  <strong>Sinyal analog</strong> .  Yaitu, arus atau tegangan, bervariasi tergantung pada parameter yang diukur dalam rentang nilai yang diberikan. </p><br><p>  <strong>Sinyal digital</strong> .  Ini adalah sensor yang berkomunikasi dengan mikrokontroler menggunakan protokol tertentu. </p><br><p>  Di sini, mungkin, semua opsi yang dapat dihubungkan ke <strong>ShIoTiny</strong> .  Tentu saja, ada juga sensor dengan output frekuensi, output fase, dan sensor dengan segala macam sinyal output yang eksotis.  Tetapi karena tidak <strong>mungkin</strong> untuk menghubungkan mereka secara langsung ke <strong>ShIoTiny,</strong> kami tidak akan membicarakannya sekarang. </p><br><h4 id="binarnye-vhody-shiotiny">  Input biner ShIoTiny </h4><br><p>  Mari kita mulai dengan yang paling sederhana - dengan input biner <strong>ShIoTiny</strong> .  Mereka ditunjukkan oleh <strong>Input1</strong> , <strong>Input2</strong> dan <strong>Input3</strong> .  Karena input ini benar-benar identik, kami akan mempertimbangkan input <strong>Input1</strong> .  Segala sesuatu yang dikatakan tentang input ini juga berlaku untuk dua input biner lainnya - <strong>Input2</strong> dan <strong>Input3</strong> . </p><br><p>  <strong>Rangkaian</strong> input biner <strong>ShIoTiny</strong> ditunjukkan pada gambar.  Segera melakukan reservasi, sirkuit dengan cacat kecil - itu perlu untuk menghubungkan resistor <strong>10K</strong> ke resistor <strong>1K</strong> .  Tetapi ini tidak mempengaruhi operasi perangkat dan itu luar biasa.  Jadi, mengapa ada begitu banyak elemen dalam rangkaian input biner?  Pertanyaan seperti itu juga ditanyakan kepada saya.  Saya akan mencoba menjawabnya. </p><br><p><img src="https://habrastorage.org/webt/eo/ff/qh/eoffqhr5eib1g5jwc1wa5mojsyc.gif" alt="gambar"></p><br><p>  Input biner di <strong>ShIoTiny</strong> bekerja pada kontak " <em>kering</em> " dan " <em>basah</em> ".  Selain itu, rangkaian memberikan perlindungan tegangan lebih (misalnya, jika, misalnya, 5 Volts bukannya 3 Volts ke <strong>Input1</strong> , misalnya). </p><br><h4 id="zaschita-binarnogo-vhoda">  Perlindungan input biner </h4><br><p>  Perlindungan <strong>tegangan</strong> lebih, yang dilakukan pada semua input biner <strong>ShIoTiny</strong> , tentu saja tidak akan menyelamatkan controller dari burnout, jika tegangan ~ 220V diterapkan pada inputnya.  Tetapi dari mendapatkan input <strong>Input1,2,3</strong> <strong>+ 5V</strong> atau bahkan <strong>+ 12V</strong> - perlindungan ini sepenuhnya menghemat. </p><br><p>  Perlindungan seperti itu bekerja sangat sederhana dan dapat diterapkan tidak hanya dengan <strong>ESP8266</strong> , tetapi juga dengan mikrokontroler lainnya. </p><br><p>  Pertimbangkan dua opsi untuk perlindungan: saat menerapkan tegangan <strong>+ 5V</strong> dan <strong>-5V</strong> ke kabel netral ( <strong>arde</strong> ) ke input <strong>Input1</strong> . </p><br><p>  Ketika tegangan pada input <strong>Input1</strong> normal, dioda pelindung <strong>D1</strong> dan <strong>D2</strong> ditutup, karena dihidupkan pada arah yang berlawanan. </p><br><p>  Segera setelah tegangan pada <strong>Input1</strong> melebihi + 3V (misalnya, kami <strong>menyingkat Input1</strong> ke <strong>+ 5V</strong> ), dioda <strong>D1</strong> terbuka dan menarik input pengendali <strong>GPIO</strong> ke <strong>+ 3V</strong> , mencegah tegangan pada <strong>GPIO ESP8266</strong> <strong>dari</strong> kenaikan di atas <strong>3V</strong> .  Sebenarnya, tegangannya akan sedikit lebih tinggi dari <strong>3V</strong> (3.2V atau 3.3V) - tetapi ini tidak penting.  Input dari mikrokontroler tidak akan terbakar dan ini penting. </p><br><p>  Segera setelah tegangan pada <strong>Input1</strong> menjadi negatif (misalnya, kami menyingkat input ke <strong>-5V</strong> ), maka dioda <strong>D2</strong> terbuka dan menarik <strong>Input1</strong> ke <strong>ground</strong> <strong>0V</strong> , tidak membiarkan tegangan pada input <strong>GPIO ESP8266</strong> turun di bawah <strong>0V</strong> .  Sebenarnya, tegangannya akan sedikit lebih rendah dari <strong>0V</strong> (-0.2V atau -0.3V) - tetapi ini sekali lagi tidak penting.  Input mikrokontroler tidak akan terbakar. </p><br><p>  Resistor <strong>1K</strong> adalah pembatas arus sehingga tidak ada hubungan pendek selama operasi perlindungan.  Arus yang melaluinya kecil.  Misalnya, dalam contoh kita, jika kita <strong>menerapkan Input1</strong> <strong>+ 5V</strong> ke input, maka arus melalui resistor <strong>1K</strong> akan sekitar <strong>2mA</strong> .  Dengan tegangan negatif <strong>-5V</strong> pada <strong>input1</strong> Input <strong>,</strong> arus melalui resistor <strong>1K</strong> akan sekitar <strong>5mA</strong> . </p><br><p>  Jika seseorang tidak mengerti mengapa dioda membuka dan menutup, maka saya sarankan membaca buku <strong>"Electronics Step by Step" oleh R. A. Svorenya</strong> .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Di Internet, misalnya, di sini</a> .  Saya terutama menyarankan pemula - bahasa buku ini sederhana dan ada banyak contoh. </p><br><h4 id="kakie-byvayut-kontakty">  Apa saja kontaknya </h4><br><p>  Jadi, dengan perlindungan beres.  Mari kita <strong>beralih</strong> ke masalah mendasar lainnya - menghubungkan input biner <strong>ShIoTiny</strong> ke sensor biner. </p><br><p>  Seperti yang telah kami katakan, sensor biner adalah sensor yang outputnya memiliki dua status - nol dan satu.  Tapi ini logis.  Dan secara fisik ada dua opsi untuk output sensor biner: " <strong>kontak kering</strong> " dan " <strong>kontak basah</strong> ".  Pertimbangkan apa itu dan apa yang dimakannya. </p><br><p>  " <strong>Kontak kering</strong> " adalah kontak yang tidak memiliki sumber tegangan sendiri.  Artinya, sembarang dua konduktor logam yang dapat disingkat dan membukanya.  Definisi ini mencakup massa sensor - tombol, sakelar, sensor apung untuk tingkat cairan, sakelar buluh (sensor medan magnet) dan sebagainya.  Pada sirkuit listrik, “ <strong>kontak kering</strong> ” yang biasanya terbuka biasanya ditunjukkan seperti yang ditunjukkan pada gambar. </p><br><p><img src="https://habrastorage.org/webt/vt/rc/ya/vtrcyaeq7yo2o4hdju-2edxx_7w.png" alt="gambar"></p><br><p>  Biasanya terbuka - ini berarti terbuka ketika tidak ada pengaruh eksternal - tombol tidak ditekan, saklar tidak dihidupkan, saklar buluh tidak memiliki magnet di dekatnya ... </p><br><p>  Ada juga " <strong>kontak kering</strong> " yang <strong>biasanya tertutup</strong> .  Pada sirkuit listrik, mereka biasanya ditunjukkan seperti yang ditunjukkan pada gambar. </p><br><p><img src="https://habrastorage.org/webt/ze/mj/lj/zemjljubtoz6y8gldzq6gb5qznq.png" alt="gambar"></p><br><p>  Berbeda dengan " <strong>kontak kering</strong> " yang biasanya terbuka, biasanya tertutup tanpa adanya pengaruh eksternal ditutup. </p><br><p>  Baik itu dan " <strong>kontak kering</strong> " lainnya dapat dihubungkan dengan aman ke input <strong>Input1,2,3</strong> controller <strong>ShIoTiny</strong> .  Sensor dengan output tipe <strong>kontak kering</strong> <strong>terhubung ke</strong> input biner <strong>ShIoTiny</strong> seperti yang ditunjukkan pada gambar. </p><br><p><img src="https://habrastorage.org/webt/8j/fs/8i/8jfs8i8xydqsyuirvrrtihvotly.gif" alt="gambar"></p><br><p>  Jika " <strong>kontak kering</strong> " dari <strong>Input1</strong> ditutup, maka tegangan kira-kira nol volt diterapkan pada input pengontrol (lebih tepatnya, 0,3 Volt karena kesalahan dalam rangkaian), karena " <strong>kontak kering</strong> " menutup input pengontrol ke ground melalui pembagi yang dibentuk oleh <strong>resistor 1K</strong> dan <strong>10K</strong> .  Dalam hal ini, <em>simpul</em> <strong>Input1</strong> akan mengatur unit ke keluaran. </p><br><p>  Sebaliknya, jika <strong>kontak kering</strong> <strong>Input1</strong> terbuka, maka sekitar tiga volt dipasok ke input pengontrol, karena input pengontrol ditarik ke tegangan suplai melalui resistor <strong>10K</strong> .  Dalam hal ini, simpul <strong>Input1</strong> akan menetapkan nol pada outputnya. </p><br><p>  Semua deskripsi terperinci ini adalah untuk yang penasaran.  Pada intinya, kita memiliki yang berikut: jika kita menghubungkan sensor dengan output dari tipe " <strong>kontak kering</strong> " ke <strong>input1</strong> , maka ketika kontak terbuka, output dari simpul <strong>Input1</strong> akan menjadi nol, dan ketika kontak ditutup, output dari simpul yang sama akan menjadi satu.  Demikian pula untuk input dan node <strong>Input2</strong> dan <strong>Input3</strong> . </p><br><p>  Mari kita beralih ke <strong>kontak basah</strong> . </p><br><p>  " <strong>Kontak basah</strong> " adalah kontak yang memiliki sumber tegangan sendiri di setidaknya satu dari posisinya.  Misalnya, output dari pengontrol atau sirkuit logika lain;  saluran listrik bola lampu dan sebagainya.  Mungkin ada banyak opsi di sini.  Tetapi hampir semua dari mereka secara langsung atau dengan bantuan beberapa detail memungkinkan input biner yang sama <strong>Input1,2,3</strong> dengan output perangkat - " <strong>kontak basah</strong> ". </p><br><p>  Mari kita mulai dengan yang paling sederhana - mencocokkan <strong>input1</strong> Input dengan output dari sensor atau tipe mikrosirkuit " <strong>kolektor terbuka</strong> " atau " <strong>tiriskan terbuka</strong> ". </p><br><p>  Bahkan, <strong><em>dalam kasus kami</em></strong> , sirkuit ini sepenuhnya analog dengan menghubungkan sensor dengan <strong>output kontak kering</strong> .  Hanya peran kontak yang dilakukan oleh transistor. </p><br><p>  Skema koneksi seperti itu ditunjukkan pada gambar.  Inti dari konsep " <strong>kolektor terbuka</strong> " atau " <strong>tiriskan terbuka</strong> " adalah bahwa <strong>emitor</strong> (atau <strong>sumber</strong> ) dari transistor keluaran terhubung ke " <strong>tanah</strong> " (sering tepat di dalam rangkaian mikro), dan <strong>kolektor</strong> (atau <strong>tiriskan</strong> ) terhubung ke "kaki" rangkaian mikro dan lebih banyak lagi untuk apa-apa. </p><br><p>  Cara kerja skema ini dapat dipahami oleh pemula (bukan gas imajiner, tetapi seseorang!).  Begitu transistor di dalam rangkaian mikro terbuka, ia menutup <strong>input1</strong> Input ke ground dan kemudian semuanya bekerja dengan analogi dengan kontak " <strong>kering</strong> ". </p><br><img src="https://habrastorage.org/webt/tl/__/nh/tl__nhsp-3hwmb1eztprk1lxo0g.gif"><br><p>  Sayangnya, tidak semua microchip dan sensor memiliki output luar biasa dengan kolektor terbuka atau tiriskan.  Banyak, jika tidak sebagian besar chip dan sensor memiliki output aktif.  Ini berarti bahwa ketika kita memiliki unit logis pada output, output "ditarik" ke tegangan suplai, dan ketika nol logis, output "ditarik" ke tanah.  Output dari chip tersebut ditunjukkan pada gambar di bawah ini.  Tentu saja, semuanya disederhanakan. </p><br><img src="https://habrastorage.org/webt/ll/9p/ca/ll9pcawme5kebyua--xi9hscacu.gif"><br><p>  Apa yang harus kita lakukan jika rangkaian mikro atau sensor yang ingin kita sambungkan ke <strong>Input1</strong> memiliki keluaran aktif? </p><br><p>  Ada dua opsi di sini dan mereka bergantung pada nilai tegangan suplai dari sensor mikro atau sensor <strong>Vcc</strong> . </p><br><p>  Jika tegangan suplai chip atau sensor <strong>Vcc</strong> sama dengan <strong>ESP8266</strong> (yaitu, 3 Volts), maka Anda cukup menghubungkan output ini ke input <strong>Input1</strong> , yang sebenarnya ditunjukkan pada gambar sebelumnya. </p><br><p>  Tetapi bagaimana jika catu daya sensor atau microcircuit adalah <strong>+ 5V</strong> atau <strong>+ 12V</strong> ?  Dalam kasus kami, Anda dapat melakukan cukup sederhana dengan menyalakan dioda Schottky, seperti yang ditunjukkan pada gambar di bawah ini. </p><br><img src="https://habrastorage.org/webt/xo/ig/mh/xoigmhvkz7mjgd4htvm2ygddtq8.gif"><br><p>  Dan satu lagi nuansa: semua sirkuit dengan kontak " <strong>basah</strong> " memberi kita <strong>sinyal terbalik</strong> .  Yaitu, ketika unit logika berada pada output dari sensor atau <strong>sirkuit</strong> mikro, simpul <strong>Input1</strong> akan mengatur output ke nol.  Begitu juga sebaliknya.  Tapi ini diperbaiki secara pemrograman - cukup masukkan simpul inverter ke dalam rangkaian.  Semua ini ditunjukkan pada gambar. </p><br><p><img src="https://habrastorage.org/webt/va/xh/te/vaxhteujl9fg9mlmom0ex2hijgm.png" alt="gambar"></p><br><p>  Itu, pada kenyataannya, adalah semua hal dasar yang perlu Anda ketahui tentang menghubungkan sensor ke input biner <strong>Input1,2,3</strong> . </p><br><p>  Tentu saja, secara teoritis mungkin ada opsi lain, tetapi saya menunjukkan cara paling sederhana dan paling umum untuk menghubungkan sensor dengan output <strong>kontak kering</strong> dan output aktif tegangan rendah. </p><br><h4 id="trepet-kontaktov">  Sensasi kontak </h4><br><p>  Kontak bergetar.  Bukan karena takut akan pencipta perangkat, tetapi dari fakta bahwa mereka tangguh.  Saat Anda menekan tombol, kontak dapat membuka 5-7 kali sebelum ditutup dengan stabil.  Fenomena yang sama terjadi ketika tombol dilepaskan.  Dan fenomena ini disebut - " <strong>pantulan kontak</strong> ." </p><br><p>  <strong>Bouncing kontak</strong> adalah kutukan dari semua sensor kontak mekanis - sakelar, tombol, sakelar buluh, dan sebagainya.  Obrolan yang tidak menyenangkan adalah bahwa hal itu menyebabkan klik salah atau rilis tombol atau kontak salah. </p><br><p>  Ada beberapa cara untuk menghadapi fenomena yang tidak menyenangkan ini.  Mungkin cara tertua untuk bertarung adalah <strong>pemicu</strong> .  Dengan metode ini, tombol dengan kontak switching dan pemicu RS normal digunakan, yang dihidupkan sesuai dengan skema, seperti yang ditunjukkan pada gambar. </p><br><p><img src="https://habrastorage.org/webt/1s/lm/yo/1slmyoteklx46ct9nfgjt-hevtk.png" alt="gambar"></p><br><p>  Bagaimana cara kerjanya?  Sangat sederhana.  Pemicu memiliki dua status.  Ketika tombol ditutup ke input <strong>R dari</strong> pemicu, output <strong>Q dari</strong> pemicu diatur ke nol. </p><br><p>  Kami menekan tombol - sampai kontak tengah tombol menyentuh bagian bawah - tidak ada yang berubah, output dari pelatuk adalah nol.  Segera setelah kontak tengah tombol menyentuh kontak bawah tombol yang sama dan menutup input pemicu <strong>S</strong> ke ground, seseorang akan muncul di output pemicu.  Dan unit ini tetap ada sementara kontak "rattle".  Memang, untuk mengganti output pemicu kembali ke nol, perlu bahwa input pemicu <strong>R</strong> disingkat menjadi ground!  Skema ini bekerja dengan cara yang persis sama ketika Anda melepaskan tombol. </p><br><p>  Bisakah kita membuat sirkuit seperti itu di <strong>ShIoTiny</strong> ?  Ya, tidak masalah!  Pada gambar ditampilkan. </p><br><p><img src="https://habrastorage.org/webt/hz/p2/yg/hzp2yg7lx4zo7i6ko8lyok3iikk.png" alt="gambar"></p><br><p>  Tetapi habiskan dua dari tiga input mereka pada satu sensor ?!  Selain itu, tidak semua sensor memiliki kontak switching! </p><br><p>  Tidak, kita akan pergi ke arah lain, seperti diwariskan, ke semua ahli teori V.I.  Ulyanov! </p><br><p>  Cara kedua, dan mungkin yang paling umum saat ini, berurusan dengan bouncing kontak adalah <strong>filter perangkat lunak</strong> . </p><br><p>  Apa yang ada di balik kata-kata pintar ini?  Dan lagi - tidak ada yang rumit.  Bayangkan bahwa kita tidak akan menanggapi perubahan "pendek" dalam status kontak.  Misalnya, jika kita membaca nol dari tombol, maka untuk singkat (katakanlah, durasi kurang dari 0,3 detik) unit meledak, kita <del>  kami akan palu </del>  berhenti bereaksi.  Dan hanya ketika kami memiliki tombol selama 0,3 detik akan terus mengeluarkan unit - kami akan menanggapi ini.  Hal yang sama ketika mengubah keadaan tombol dari satu ke nol. </p><br><p>     —    ,   .         .         RS-! </p><br><p>     ?  <strong>ShIoTiny</strong>  -,          . </p><br><p><img src="https://habrastorage.org/webt/-t/tv/hq/-ttvhqvwjzrj1_8f0rzuztiugz4.png" alt="gambar"></p><br><p>  <strong>Delay0/1</strong>      ,     <strong>0.4</strong> . </p><br><p> ,          .   ,   ,      . </p><br><h4 id="zaklyuchenie">  Kesimpulan </h4><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sebagai penutup, saya ingin meminta maaf kepada mereka yang artikel ini sepertinya terlalu terperinci - ingat bahwa ada banyak orang di hub yang tidak searif yang Anda alami. </font></font></p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pada artikel selanjutnya, kita akan memeriksa koneksi sensor dengan sinyal output analog ke input </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ADC</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Seperti biasa, saran, keinginan, pertanyaan, kesalahan ketik, dll., Melalui email: shiotiny@yandex.ru </font></font></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id466231/">https://habr.com/ru/post/id466231/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id466215/index.html">Desain berorientasi model. Pembuatan model yang andal, menggunakan contoh penukar panas penerbangan</a></li>
<li><a href="../id466217/index.html">Membuat dokumen menggunakan ONLYOFFICE DocumentBuilder</a></li>
<li><a href="../id466223/index.html">Bersihkan dekomposisi</a></li>
<li><a href="../id466227/index.html">Pemrograman Berorientasi Node</a></li>
<li><a href="../id466229/index.html">Cara membeli sepuluh kotak kapas dan tidak membuat kesalahan</a></li>
<li><a href="../id466235/index.html">Munch dalam pemindaian yang sama jauhnya dan Meyerhold, yang menghancurkan Red Square - Denis Semenov pada seni VR</a></li>
<li><a href="../id466237/index.html">Bagaimana green junior menulis hot-reloader-nya</a></li>
<li><a href="../id466247/index.html">Wawancara Introvert</a></li>
<li><a href="../id466249/index.html">Menulis ular untuk Android di Kivy, Python</a></li>
<li><a href="../id466251/index.html">Memompa proyek dari Soft Launch ke pendapatan $ 1 juta per bulan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>