<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÜüèΩ ‚úñÔ∏è üìÜ Station m√©t√©o sur Arduino de A √† Z. Partie 2 üé∏ ü§±üèæ üòà</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="√Ä suivre. La partie pr√©c√©dente . 


 Table des mati√®res: 


- Partie 1. Exigences. Le choix du fer. Sch√©ma g√©n√©ral 
- Partie 2. Logiciel. Unit√© centra...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Station m√©t√©o sur Arduino de A √† Z. Partie 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/425927/"><p>  √Ä suivre.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">La partie pr√©c√©dente</a> . </p><br><p>  Table des mati√®res: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1. Exigences.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le choix du fer.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Sch√©ma g√©n√©ral</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2. Logiciel.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Unit√© centrale, fer</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3. Unit√© centrale, logiciel</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 4. Capteur de fen√™tre</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 5. MySQL, PHP, WWW, Android</a> </li></ul><br><h1 id="soft-vybor-komponentov">  Doux  S√©lection des composants </h1><br><p><img src="https://habrastorage.org/webt/ew/mv/xw/ewmvxwk-6m-horit-imnrso2jn0.jpeg"></p><br><p>  Le choix du mat√©riel et des logiciels est √©troitement li√© comme ¬´poulet et ≈ìuf¬ª.  Par o√π commencer, avec du mat√©riel, avec des logiciels?  Si vous avez un bon mat√©riel, mais qu'il n'a pas de pilotes, de biblioth√®ques et de logiciels (IDE, utilitaires pour firmware, etc.), alors il est inutile, et vice versa. </p><a name="habracut"></a><br><p>  Par cons√©quent, je vous raconte √† nouveau le choix entre nRF24L01 + et ESP8266 pour connecter des capteurs √† distance √† l'unit√© centrale. </p><br><p>  Le fait est que l'ESP8266 n'est pas seulement un stupide adaptateur WiFi, il dispose √† bord d'un microcontr√¥leur d'une puissance et d'une capacit√© de m√©moire <em>sup√©rieures √†</em> Arduino.  Par d√©faut, l'ESP8266 poss√®de un micrologiciel sous la forme d'un ensemble de commandes AT, auquel cas l'ESP est utilis√© comme un simple modem.  Mais il y a un firmware plus avanc√©, ici l'ESP8266 peut m√™me agir comme un serveur web, et bien s√ªr, contr√¥ler des capteurs comme Arduino. </p><br><p>  Cependant, tous ces firmwares avanc√©s ont des inconv√©nients qui ne permettaient pas (au total avec des questions de fer sur lesquelles j'ai d√©j√† √©crit) d'utiliser ESP8266 dans ce projet: </p><br><ul><li>  tous les micrologiciels sont encore tr√®s bruts (√† partir de 2016) </li><li>  certains pr√™ts non libres </li><li>  le seuil d'entr√©e pour le d√©bogage et la modification est beaucoup plus √©lev√© que celui d'Arduino. </li></ul><br><p>  Par cons√©quent, je n'ai pas trouv√© de micrologiciel avanc√© pr√™t √† l'emploi et jusqu'√† pr√©sent, je ne suis pas pr√™t √† cr√©er le mien.  La puce ESP8266 est un sujet vaste et int√©ressant. </p><br><p>  √Ä son tour, le micrologiciel AT standard pr√©sente √©galement des inconv√©nients: </p><br><ul><li>  ils sont encore humides (√† partir de 2016) </li><li>  Je ne pouvais pas trouver une biblioth√®que normale pour Arduino pour contr√¥ler le module ESP8266 en utilisant les commandes AT, j'ai d√ª me ¬´regrouper¬ª. </li></ul><br><p>  D'un autre c√¥t√©, le module radio nRF24L01 + est simple et direct; il existe une super <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">biblioth√®que</a> RadioHead pour travailler avec lui et <em>aucun probl√®me de</em> programmation.  La biblioth√®que est bien document√©e, ce qui est important. </p><br><p>  RadioHead vous permet de transf√©rer des structures de donn√©es (et pas seulement des nombres uniques), qui est impl√©ment√©e dans ce projet.  Pour l'avenir, je dirai que RadioHead peut transmettre des donn√©es de <strong>mani√®re fiable</strong> , avec des r√©p√©titions s'il n'atteint pas la premi√®re fois.  La biblioth√®que s'occupe de toutes ces choses. </p><br><p>  Pour √©conomiser l'√©nergie, j'utilise la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">biblioth√®que basse</a> consommation, elle est simple et ne contient que ce dont vous avez besoin. </p><br><p>  Voici un morceau de code: </p><br><pre><code class="hljs ruby">/<span class="hljs-regexp"><span class="hljs-regexp">/    2.402 GHz ( 2), 2Mbps, 0dBm rfdata.init(); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     ( ,  ) rfdata.sendtoWait((uint8_t*)&amp;dhtData, sizeof(dhtData), SERVER_ADDRESS); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  LowPower.powerDown(SLEEP_8S, ADC_OFF, BOD_OFF);`</span></span></code> </pre> <br><p>  C‚Äôest tout! </p><br><p>  Dans le cas de l'utilisation de l'ESP8266 dans un capteur mont√© sur fen√™tre, j'aurais √©t√© oblig√© de cr√©er un point d'acc√®s WiFi et de transf√©rer les donn√©es (o√π sont le firmware, o√π est le logiciel?).  Ou laissez le capteur envoyer directement des donn√©es au serveur Web et apprenez √† l'unit√© centrale (qui dans ce cas cesse de jouer le r√¥le de "centrale") de lire les donn√©es √† partir de l√† pour les afficher sur le tableau. </p><br><p>  En d'autres termes, j'ai opt√© pour une plus grande autonomie par rapport √† Internet WiFi et au serveur PHP + MySQL.  Vous pouvez commencer √† riveter une station m√©t√©o maintenant sans avoir acc√®s √† Internet et / ou l'h√©bergement pour le serveur, dans ce cas, vous n'avez pas besoin d'ESP8266, ajoutez-le plus tard. </p><br><p>  Pour lire les donn√©es de capteurs comme DHT, il existe une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">biblioth√®que de capteurs Adafruit DHT</a> .  Travailler avec est simple et direct. </p><br><p>  La biblioth√®que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">unifi√©e Adafruit BMP085</a> , qui n√©cessite la biblioth√®que de niveau abstrait <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Adafruit Sensor</a> , convient √† un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">capteur de</a> pression. </p><br><p>  Toutes les biblioth√®ques ont des exemples de croquis. </p><br><p>  C'est peut-√™tre tout avec la partie th√©orique.  <em>¬´Nos objectifs sont clairs, les t√¢ches sont d√©finies.</em>  <em>Pour le travail, camarades! ‚Äù</em> </p><br><h1 id="centralnyy-blok-zhelezo">  Unit√© centrale.  Le fer </h1><br><p>  Enfin, apr√®s tout l'agitation, nous proc√©dons au montage! </p><br><p>  <em>Remarque</em>  Si vous n'avez jamais r√©cup√©r√© de station m√©t√©o (eh bien!), Vous pouvez commencer sans avoir tous les d√©tails √† port√©e de main.  Par exemple, vous pouvez commencer sans avoir de module radio et / ou ESP8266.  Le capteur de pression barom√©trique BMP180 peut √©galement √™tre manquant.  Ajoutez plus tard.  Certes, dans ce cas, vous devrez commenter ind√©pendamment dans l'esquisse les sections du code qui sont responsables de l'interaction avec les blocs manquants, mais ce n'est pas si difficile.  Je vais vous montrer comment. </p><br><p>  L'essentiel est qu'au moins quelque chose se soit rassembl√© et gagn√©, alors c'est plus amusant de continuer. </p><br><p>  Comme d√©j√† mentionn√©, l'unit√© centrale est bas√©e sur l'Arduino MEGA.  Nous aurons √©galement besoin de: </p><br><ul><li>  capteur de temp√©rature et d'humidit√© DHT11 </li><li>  capteur de pression barom√©trique type BMP180 </li><li>  Module WiFi ESP8266 </li><li>  Module radio nRF24 2,4 GHz </li><li>  Affichage de type LCD1604 (4 lignes de 16 caract√®res chacune), vous pouvez acheter pour 5 $ </li><li>  alimentation avec une sortie 5-12 V DC (j'ai utilis√© la charge √† partir d'un mobile avec une sortie USB, ce qui est pratique) </li><li>  une planche √† pain pour le soudage, un fer √† souder, de la colophane, de la soudure ou une planche √† pain Arduino ordinaire sans soudure.  Personnellement, j'ai soud√© pour la fiabilit√©, car le projet √©tait clairement de longue dur√©e et ne voulait pas souffrir √† cause d'un c√¢blage accidentellement tir√© de la planche √† pain. </li></ul><br><p>  Vous pouvez acheter une carte de d√©veloppement pour dessouder √† partir de 1 $.  Prenez une taille plus grande, suffisante pour toutes les connexions.  Et encore: avant d'acheter, lisez la description, pas la photo. </p><br><p>  Des frais sans soudure peuvent √™tre achet√©s √† partir de 2 $.  Prenez une taille plus grande, suffisante pour toutes les connexions. </p><br><p>  Les fils de connexion sont des types dont nous avons besoin: </p><br><ul><li>  C√¢ble Dupont ¬´p√®re-m√®re¬ª (il y a aussi ¬´p√®re-p√®re¬ª, ¬´m√®re-m√®re¬ª).  Il s'agit d'un c√¢ble compos√© de plusieurs fils avec diff√©rentes couleurs d'isolation et de connecteurs pour contacts √† broches pour Arduino.  Avec ces fils, il est pratique de connecter les cartes et les capteurs directement √† l'Arduino sans utiliser de maquette. </li><li>  Fils de connexion conventionnels pour une planche √† pain sans soudure pour Arduino. </li><li>  Un tas de fils √† souder. </li></ul><br><p>  La premi√®re √©tape a √©t√© de souder le LCD-1604.  J'ai d'abord soud√© les broches √† la carte, puis les connecteurs √† la planche √† pain. </p><br><p><img src="https://habrastorage.org/webt/xo/_f/0t/xo_f0tjxqbyoizk9ckx4ctmevfs.jpeg"></p><br><p>  Vue d'en bas. </p><br><p><img src="https://habrastorage.org/webt/bi/ra/x7/birax7qohcjnglgpnl-ak3w0v0i.jpeg"></p><br><p>  J'ai soud√© sur une intuition sans c√¢blage pr√©alable, donc aucun circuit ne sera donn√© ici.  Faites comme c'est plus pratique, √ßa ne sera pas pire.  Adh√©rez au principe que le fil noir est toujours la terre, le rouge est le ¬´plus¬ª de l'alimentation, le reste des couleurs fonctionnera.  Cela s'est av√©r√© comme √ßa. </p><br><p><img src="https://habrastorage.org/webt/v7/ig/ls/v7iglsiyr7br9z8xzkf9rxtcgd0.jpeg"></p><br><p><img src="https://habrastorage.org/webt/yd/_f/68/yd_f68ohr4drxg8re9mp9jehljk.jpeg"></p><br><p>  Afin de ne pas oublier o√π se trouvent les connecteurs, il a ¬´peint¬ª des sections de la carte d'√† c√¥t√© avec un correcteur blanc et fait les inscriptions correspondantes.  Laid?  Mais pratique et rapide, c'est un prototype! </p><br><p><img src="https://habrastorage.org/webt/lr/8i/vd/lr8ivdlywq6bwkcgpemm03hopsg.jpeg"></p><br><h1 id="raspinovka--i-soedinenie">  Brochage et connexion </h1><br><h2 id="displey-164-lcd1604">  Affichage 16 √ó 4 LCD1604 </h2><br><p>  Pour plus d'informations sur l'affichage et l'utilisation de celui-ci, recherchez ¬´Utilisation des √©crans LCD √† caract√®re bas√©s sur HD44780¬ª.  Notez que vous devez soigneusement consid√©rer la polarit√© de l'alimentation de l'indicateur LCD et que la tension d'alimentation est dans la plage + 4,5 ... 5,5 V. Une attitude inattentive √† cela peut entra√Æner une d√©faillance de l'indicateur! </p><br><table><thead><tr><th>  Pin LCD 1604 </th><th>  Arduino MEGA </th><th>  Arduino uno </th><th>  La description </th></tr></thead><tbody><tr><td>  Vss </td><td>  GND </td><td>  GND </td><td>  GND </td></tr><tr><td>  Vdd </td><td>  5 V </td><td>  5 V </td><td>  4.7 - 5.3V </td></tr><tr><td>  RS </td><td>  22 </td><td>  4 </td><td>  Un niveau √©lev√© signifie que le signal aux sorties DB0-DB7 est des donn√©es, un niveau bas signifie une commande </td></tr><tr><td>  Rw </td><td>  GND </td><td>  GND </td><td>  D√©termine la direction des donn√©es (lecture / √©criture).  √âtant donn√© que l'op√©ration de lecture des donn√©es d'un indicateur n'est g√©n√©ralement pas r√©clam√©e, il est possible de d√©finir un niveau bas en permanence √† cette entr√©e </td></tr><tr><td>  E </td><td>  23 </td><td>  5 </td><td>  Une impulsion d'une dur√©e d'au moins 500 ms sur cette broche d√©termine le signal de lecture / √©criture des donn√©es des broches DB0-DB7, RS et WR </td></tr><tr><td>  DB4 </td><td>  24 </td><td>  8 </td><td>  Donn√©es entrantes / sortantes </td></tr><tr><td>  DB5 </td><td>  25 </td><td>  9 </td></tr><tr><td>  DB6 </td><td>  26 </td><td>  10 </td></tr><tr><td>  DB7 </td><td>  27 </td><td>  11 </td></tr><tr><td>  LED A + </td><td></td><td></td><td>  + R√©sistance 5V ou 220 Ohm ‚Üí + 5VLED-A <img src="https://habrastorage.org/webt/xo/d8/wr/xod8wrcrzmudwuh6kqtf62suwva.jpeg"></td></tr><tr><td>  LED B- </td><td></td><td></td><td>  GND </td></tr><tr><td>  V0 </td><td></td><td></td><td>  Tondeuse GND ou 10kŒ© <img src="https://habrastorage.org/webt/l0/pq/r5/l0pqr5u_zmcwoeyjipkzucc3wzs.jpeg"></td></tr></tbody></table><br><p>  L'initialisation du logiciel ressemblera √† ceci: </p><br><pre> <code class="hljs objectivec"><span class="hljs-comment"><span class="hljs-comment">// Arduino MEGA LiquidCrystal lcd(22, 23, 24, 25, 26, 27); // Arduino UNO LiquidCrystal lcd(4, 5, 8, 9, 10, 11);</span></span></code> </pre> <br><h1 id="temperatura-vlazhnost-dht11">  Temp√©rature, humidit√© DHT11 </h1><br><p>  Connexion d'un capteur de temp√©rature et d'humidit√© DHT11 (SainSmart).  Placez le capteur face vers le haut, les fils seront d√©crits de gauche √† droite. </p><br><table><thead><tr><th>  DHT11 </th><th>  Arduino mega </th></tr></thead><tbody><tr><td>  DONN√âES </td><td>  Broche num√©rique 2 (PWM) (voir DHTPIN ci-dessous) </td></tr><tr><td>  Vcc </td><td>  3,3 √† 5 V (5 V recommand√©s; meilleure alimentation externe) </td></tr><tr><td>  GND </td><td>  GND </td></tr></tbody></table><br><p>  Initialisation du logiciel </p><br><pre> <code class="hljs cs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> DHTPIN 2 //   Digital pin 2 (PWM) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> DHTTYPE DHT11 // . DHT.h //  DHT dht(DHTPIN, DHTTYPE);</span></span></code> </pre> <br><h1 id="barometr-bmp180">  Barom√®tre BMP180 </h1><br><p>  Connexion du capteur de pression atmosph√©rique BMP180 (barom√®tre) + temp√©rature via l'interface I2C / TWI. </p><br><table><thead><tr><th>  BMP180 </th><th>  Arduino mega </th></tr></thead><tbody><tr><td>  Vcc </td><td>  pas connect√© </td></tr><tr><td>  GND </td><td>  GND </td></tr><tr><td>  SCL </td><td>  21 (SCL) </td></tr><tr><td>  SDA </td><td>  20 (SDA) </td></tr><tr><td>  3.3 </td><td>  3,3 V </td></tr></tbody></table><br><p>  Pour UNO: A4 (SDA), A5 (SCL). </p><br><pre> <code class="hljs objectivec"><span class="hljs-comment"><span class="hljs-comment">//  Adafruit_BMP085_Unified bmp = Adafruit_BMP085_Unified(10085); // sensorID</span></span></code> </pre> <br><h1 id="nrf24l01">  nRF24L01 + </h1><br><p>  Br√®ve caract√©ristiques: </p><br><ul><li>  Gamme de fr√©quences 2,401 - 2,4835 GHz </li><li>  126 canaux.  Le canal z√©ro commence √† 2400 MHz puis avec un pas de 1 MHz, par exemple, le canal 70 est situ√© √† 2470 MHz, respectivement.  Lors du r√©glage de la vitesse de transmission de 2 Mbps, la largeur du canal est de 2 MHz </li><li>  Alimentation 1,9 - 3,6 V (3,3 V recommand√©) </li></ul><br><p>  Voici le brochage du module. </p><br><p><img src="https://habrastorage.org/webt/nd/m7/e_/ndm7e_9peiyjl2nbbqcyuqk_s-e.jpeg" alt="Brochage nRF2401L +"></p><br><p>  Certains conseillent de souder imm√©diatement un condensateur c√©ramique 100nF (1¬µF, 10¬µF possible) aux fils d'alimentation RF pour √©viter les parasites √©lectriques. </p><br><p>  Brochage nRF24L01 + (regardez en haut de la carte o√π se trouve la puce, les broches doivent √™tre en bas): </p><br><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td>  broche <strong>2</strong> 3.3V </td><td>  broche <strong>4</strong> CSN </td><td>  broche <strong>6</strong> MOSI </td><td>  broche <strong>8</strong> IRQ </td></tr><tr><td>  broche <strong>1</strong> GND </td><td>  broche <strong>3</strong> CE </td><td>  broche <strong>5</strong> SCK </td><td>  broche <strong>7</strong> MISO </td></tr></tbody></table><br><p>  Connexion pour station m√©t√©o: </p><br><table><thead><tr><th>  Arduino mega </th><th>  nRF24L01 + </th></tr></thead><tbody><tr><td>  3,3 V </td><td>  VCC pin 2 (meilleure alimentation externe) </td></tr><tr><td>  broche D8 </td><td>  Broche CE 3 (activation de la puce) </td></tr><tr><td>  Broche SS D53 </td><td>  Broche 4 du CSN (puce s√©lectionn√©e) </td></tr><tr><td>  Broche SCK D52 </td><td>  Broche SCK 5 (horloge SPI) </td></tr><tr><td>  Broche MOSI D51 </td><td>  Broche SDI 6 (entr√©e SPI Data) </td></tr><tr><td>  Broche MISO D50 </td><td>  SDO pin 7 (sortie de donn√©es SPI) </td></tr><tr><td>  Broche IRQ 8 (sortie d'interruption) non connect√©e </td></tr><tr><td>  GND </td><td>  Broche GND 1 (mise √† la terre) </td></tr></tbody></table><br><p>  La programmation du module radio sera d√©crite en d√©tail dans la partie logiciel. </p><br><h1 id="esp8266">  ESP8266 </h1><br><p>  Brochage ESP8266 (regardez en haut de la carte o√π les puces, les broches doivent √™tre en bas): </p><br><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td>  GND </td><td>  GPIO2 </td><td>  GPIO0 </td><td>  Rx </td></tr><tr><td>  TX </td><td>  CH_PD </td><td>  R√âINITIALISER </td><td>  Vcc </td></tr></tbody></table><br><p>  Connexion de l'ESP8266 √† une station m√©t√©o: </p><br><table><thead><tr><th>  ESP8266 </th><th>  Arduino mega </th></tr></thead><tbody><tr><td>  TX </td><td>  10 broches (SoftwareSerial RX) </td></tr><tr><td>  Rx </td><td>  11 broches (SoftwareSerial TX) </td></tr><tr><td>  Vcc </td><td>  3,3 V </td></tr><tr><td>  GND </td><td>  GND </td></tr><tr><td>  CH_PD </td><td>  Via une r√©sistance 10K √† 3,3 V Arduino </td></tr><tr><td>  GPI0 </td><td>  En option  Via une r√©sistance 10K √† 3,3 V Arduino </td></tr><tr><td>  GPI2 </td><td>  En option  Via une r√©sistance 10K √† 3,3 V Arduino </td></tr></tbody></table><br><h1 id="kdpv">  KDPV </h1><br><p>  Assemblage de l'unit√© centrale.  J'ai d√©coup√© la "carte m√®re" dans une bo√Æte en carton sous mes chaussures et j'ai viss√© le reste avec 3 vis. </p><br><p><img src="https://habrastorage.org/webt/sl/sy/2i/slsy2inw-eaew1_mnsubhm0jqk4.jpeg" alt="Assemblage de l'unit√© centrale"></p><br><p>  Comme vous pouvez le voir √† cet endroit, toute la nourriture est fournie √† partir de broches Arduino, c'est-√†-dire  rien ne va directement √† l'alimentation, et jusqu'√† pr√©sent, il y a assez de puissance. </p><br><p>  Comme tout.  Je n‚Äôai rien oubli√©. </p><br><p>  Soudez, connectez.  Dans la prochaine partie, un croquis de travail pour l'unit√© centrale sera donn√© et notre station m√©t√©o montrera d√©j√† quelque chose. </p><br><p><img src="https://habrastorage.org/webt/jm/jv/oo/jmjvoopeldqn24qk8rdu6xuibym.jpeg"></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr425927/">https://habr.com/ru/post/fr425927/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr425917/index.html">Un combattant de la justice emp√™che Waymo de breveter une technologie lidar cl√©</a></li>
<li><a href="../fr425919/index.html">Cartes hexagonales dans Unity: enregistrement et chargement, textures, distances</a></li>
<li><a href="../fr425921/index.html">R√©union de la communaut√© .NET sur CLRium # 4 + en ligne</a></li>
<li><a href="../fr425923/index.html">Doom de 25 ans</a></li>
<li><a href="../fr425925/index.html">Impression 3D dans la cr√©ation de mises en page sur l'exemple du STUDIO 911</a></li>
<li><a href="../fr425929/index.html">Google a abandonn√© la lutte pour le milliardi√®me contrat avec le Pentagone</a></li>
<li><a href="../fr425931/index.html">¬´Je veux quitter l'usine sur le Web¬ª - 10 questions au programmeur, 8e √©dition</a></li>
<li><a href="../fr425933/index.html">L'humidit√© dans le centre de donn√©es: pourquoi c'est important</a></li>
<li><a href="../fr425935/index.html">Suspension de l'unit√© centrale sous la table debout</a></li>
<li><a href="../fr425937/index.html">CoreBluetooth en pratique</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>