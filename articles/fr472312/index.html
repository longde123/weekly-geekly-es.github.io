<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üì¥ üëåüèæ üòΩ Exp√©rience de transfert d'un projet Maven vers Multi-Release Jar: d√©j√† possible, mais toujours difficile ‚úåüèº üöä üé≤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="J'ai une petite biblioth√®que StreamEx qui √©tend l'API Java 8 Stream. Je collectionne traditionnellement la biblioth√®que via Maven, et pour la plupart ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Exp√©rience de transfert d'un projet Maven vers Multi-Release Jar: d√©j√† possible, mais toujours difficile</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/472312/"><p> J'ai une petite biblioth√®que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">StreamEx</a> qui √©tend l'API Java 8 Stream.  Je collectionne traditionnellement la biblioth√®que via Maven, et pour la plupart je suis satisfait de tout.  Cependant, je voulais exp√©rimenter. </p><br><p> Certaines choses dans la biblioth√®que devraient fonctionner diff√©remment dans diff√©rentes versions de Java.  L'exemple le plus frappant est les nouvelles m√©thodes de l'API Stream comme <code>takeWhile</code> , qui n'apparaissaient qu'en Java 9. Ma biblioth√®que fournit √©galement une impl√©mentation de ces m√©thodes dans Java 8, mais lorsque vous d√©veloppez vous-m√™me l'API Stream, vous √™tes soumis √† certaines restrictions que je ne mentionnerai pas ici.  Je souhaite que les utilisateurs de Java 9+ aient acc√®s √† une impl√©mentation standard. </p><a name="habracut"></a><br><p>  Pour que le projet continue de compiler en utilisant Java 8, cela se fait g√©n√©ralement √† l'aide d'outils de r√©flexion: nous d√©couvrons s'il existe une m√©thode correspondante dans la biblioth√®que standard et, si c'est le cas, nous l'appelons, et sinon, nous utilisons notre impl√©mentation.  Cependant, j'ai d√©cid√© d'utiliser l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">API MethodHandle</a> , car elle d√©clare moins de surcharge d'appel.  Vous pouvez obtenir <code>MethodHandle</code> √† l'avance et l'enregistrer dans un champ statique: </p><br><pre> <code class="java hljs">MethodHandles.Lookup lookup = MethodHandles.publicLookup(); MethodType type = MethodType.methodType(Stream.class, Predicate.class); MethodHandle method = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { method = lookup.findVirtual(Stream.class, <span class="hljs-string"><span class="hljs-string">"takeWhile"</span></span>, type); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (NoSuchMethodException | IllegalAccessException e) { <span class="hljs-comment"><span class="hljs-comment">// ignore }</span></span></code> </pre> <br><p>  Et puis utilisez-le: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (method != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (Stream&lt;T&gt;)method.invokeExact(stream, predicate); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-comment"><span class="hljs-comment">// Java 8 polyfill }</span></span></code> </pre> <br><p>  C'est bien, mais √ßa a l'air moche.  Et surtout, √† chaque point o√π une variation des impl√©mentations est possible, vous devez √©crire de telles conditions.  Une approche l√©g√®rement alternative consiste √† s√©parer les strat√©gies de Java 8 et Java 9 en tant qu'impl√©mentation de la m√™me interface.  Ou, pour √©conomiser la taille de la biblioth√®que, impl√©mentez simplement tout pour Java 8 dans une classe non finale distincte et remplacez un h√©ritier pour Java 9.  Il a √©t√© fait quelque chose comme ceci: </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//    Internals static final VersionSpecific VER_SPEC = System.getProperty("java.version", "").compareTo("1.9") &gt; 0 ? new Java9Specific() : new VersionSpecific();</span></span></code> </pre> <br><p>  Ensuite, aux points d'utilisation, vous pouvez simplement √©crire <code>return Internals.VER_SPEC.takeWhile(stream, predicate)</code> .  Toute la magie avec les <code>Java9Specific</code> m√©thode est d√©sormais uniquement dans la classe <code>Java9Specific</code> .  Cette approche, en passant, a sauv√© la biblioth√®que pour les utilisateurs d'Android qui s'√©taient auparavant plaints qu'elle ne fonctionnait pas en principe.  La machine virtuelle Android n'est pas Java, elle <code>invokeExact</code> m√™me pas la sp√©cification Java 7. En particulier, il n'y a pas de m√©thodes avec une signature polymorphe comme <code>invokeExact</code> , et la pr√©sence m√™me de cet appel dans le bytecode casse tout.  Maintenant, ces appels sont plac√©s dans une classe qui n'est jamais initialis√©e. </p><br><p>  Cependant, tout cela est toujours moche.  Une belle solution (au moins en th√©orie) consiste √† utiliser le Multi Release Jar, fourni avec Java 9 ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JEP-238</a> ).  Pour ce faire, une partie des classes doit √™tre compil√©e sous Java 9 et les fichiers de classe compil√©s plac√©s dans <code>META-INF/versions/9</code> √† l'int√©rieur du fichier Jar.  De plus, vous devez ajouter la ligne <code>Multi-Release: true</code> au manifeste.  Ensuite, Java 8 ignorera tout cela avec succ√®s, et Java 9 et les versions plus r√©centes chargeront de nouvelles classes au lieu de classes portant les m√™mes noms qui se trouvent √† l'emplacement habituel. </p><br><p>  La premi√®re fois que j'ai essay√© de le faire il y a plus de deux ans, peu de temps avant la sortie de Java 9. √áa a √©t√© tr√®s dur, et j'ai arr√™t√©.  Il √©tait m√™me difficile de faire compiler le projet par le compilateur √† partir de Java 9: ‚Äã‚Äãde nombreux plugins Maven se sont simplement cass√©s √† cause des API internes modifi√©es <code>java.version</code> cha√Æne <code>java.version</code> modifi√© <code>java.version</code> ou autre chose. </p><br><p>  Une nouvelle tentative cette ann√©e a √©t√© plus r√©ussie.  Les plugins ont pour la plupart √©t√© mis √† jour et fonctionnent assez bien dans le nouveau Java.  La premi√®re √©tape, j'ai traduit l'assembly entier en Java 11. Pour cela, en plus de mettre √† jour les versions du plugin, j'ai d√ª faire ce qui suit: </p><br><ul><li>  Changement dans les liens JavaDoc <code>package-info.java</code> du formulaire <code>&lt;a name="..."&gt;</code> en <code>&lt;a id="..."&gt;</code> .  Sinon, JavaDoc se plaint. </li><li>  Sp√©cifiez <code>additionalOptions = --no-module-directories</code> dans maven-javadoc-plugin.  Sans cela, il y avait des bugs √©tranges avec les fonctionnalit√©s de recherche JavaDoc: les r√©pertoires avec les modules n'√©taient pas cr√©√©s de toute fa√ßon, mais lors du passage au r√©sultat de la recherche, <code>/undefined/</code> ajout√© au chemin (bonjour, JavaScript).  Cette fonctionnalit√© dans Java 8 n'√©tait pas du tout, donc mon activit√© a d√©j√† apport√© un joli r√©sultat: JavaDoc est devenu une recherche. </li><li>  Correction du plugin pour la publication des r√©sultats de couverture de test dans Coveralls ( <code>coveralls-maven-plugin</code> ).  Pour une raison quelconque, il est abandonn√©, ce qui est √©trange, √©tant donn√© que Coveralls vit seul et offre des services commerciaux.  Le jaxb-api utilis√© par le plugin a disparu de Java 11.  Heureusement, il n'est pas difficile de r√©soudre le probl√®me √† l'aide des outils Maven: il suffit d'enregistrer explicitement la d√©pendance au plugin: <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugin</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.eluder.coveralls<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>coveralls-maven-plugin<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>4.3.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencies</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>javax.xml.bind<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>jaxb-api<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>2.2.3<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencies</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugin</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </li></ul><br><p>  L'√©tape suivante a √©t√© l'adaptation des tests.  √âtant donn√© que le comportement de la biblioth√®que est √©videmment diff√©rent dans Java 8 et Java 9, il serait logique d'ex√©cuter des tests pour les deux versions.  Maintenant, nous ex√©cutons tout sous Java 11, donc le code sp√©cifique √† Java 8 n'est pas test√©.  Il s'agit d'un code assez volumineux et non trivial.  Pour r√©soudre ce probl√®me, j'ai cr√©√© un stylo artificiel: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> VersionSpecific VER_SPEC = System.getProperty(<span class="hljs-string"><span class="hljs-string">"java.version"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>).compareTo(<span class="hljs-string"><span class="hljs-string">"1.9"</span></span>) &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; !Boolean.getBoolean(<span class="hljs-string"><span class="hljs-string">"one.util.streamex.emulateJava8"</span></span>) ? <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Java9Specific() : <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> VersionSpecific();</code> </pre> <br><p>  Maintenant, passez simplement <code>-Done.util.streamex.emulateJava8=true</code> lors de l'ex√©cution des tests, <br>  pour tester ce qui fonctionne g√©n√©ralement en Java 8. Ajoutez maintenant un nouveau bloc <code>&lt;execution&gt;</code> √† la configuration de <code>argLine = -Done.util.streamex.emulateJava8=true</code> <code>maven-surefire-plugin</code> avec <code>argLine = -Done.util.streamex.emulateJava8=true</code> , et les tests passent deux fois. </p><br><p>  Cependant, je voudrais consid√©rer les tests de couverture totale.  J'utilise JaCoCo, et si vous ne lui dites rien, alors la deuxi√®me manche √©crasera simplement les r√©sultats de la premi√®re.  Comment fonctionne JaCoCo?  Il ex√©cute d'abord la cible <code>prepare-agent</code> , qui d√©finit la propri√©t√© argLine Maven, y signant quelque chose comme <code>-javaagent:blah-blah/.m2/org/jacoco/org.jacoco.agent/0.8.4/org.jacoco.agent-0.8.4-runtime.jar=destfile=blah-blah/myproject/target/jacoco.exec</code> .  Je veux que deux fichiers ex√©cutables diff√©rents soient form√©s.  Vous pouvez le pirater de cette fa√ßon.  Ajoutez <code>destFile=${project.build.directory}</code> configuration <code>prepare-agent</code> .  Rude mais efficace.  <code>argLine</code> se terminera maintenant par <code>blah-blah/myproject/target</code> .  Oui, ce n'est pas du tout un fichier, mais un r√©pertoire.  Mais nous pouvons remplacer le nom du fichier d√©j√† au d√©but des tests.  Nous revenons au <code>maven-surefire-plugin</code> et d√©finissons <code>argLine = @{argLine}/jacoco_java8.exec -Done.util.streamex.emulateJava8=true</code> pour l'ex√©cution Java 8 et <code>argLine = @{argLine}/jacoco_java11.exec</code> pour l'ex√©cution Java 11.  Ensuite, il est facile de combiner ces deux fichiers √† l'aide de la cible de <code>merge</code> , que le plug-in JaCoCo fournit √©galement, et nous obtenons la couverture globale. </p><br><p>  <strong>Mise √† jour:</strong> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">godin</a> dans les commentaires a dit que c'√©tait inutile, vous pouvez √©crire dans un fichier, et il collera automatiquement le r√©sultat avec le pr√©c√©dent.  Maintenant, je ne sais pas pourquoi ce sc√©nario n'a pas fonctionn√© pour moi au d√©part. </p><br><p>  Eh bien, nous sommes bien pr√©par√©s pour passer au pot multi-versions.  J'ai trouv√© un certain nombre de recommandations sur la fa√ßon de proc√©der.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le premier a</a> sugg√©r√© l'utilisation d'un projet Maven multi-modulaire.  Je n'en ai pas envie: c'est une grande complication de la structure du projet: il y a cinq pom.xml par exemple.  S'amuser pour le plaisir de quelques fichiers qui doivent √™tre compil√©s en Java 9 semble √™tre trop.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Un autre a</a> sugg√©r√© de commencer la compilation via <code>maven-antrun-plugin</code> .  Ici, j'ai d√©cid√© de ne regarder qu'en dernier recours.  Il est clair que tout probl√®me dans Maven peut √™tre r√©solu en utilisant Ant, mais c'est en quelque sorte assez maladroit.  Enfin, j'ai vu une recommandation d'utiliser un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plugin</a> tiers <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">multi-release-jar-maven-plugin</a> .  Cela avait d√©j√† l'air d√©licieux et juste. </p><br><p>  Le plugin recommande de placer les codes source sp√©cifiques aux nouvelles versions de Java dans des r√©pertoires comme <code>src/main/java-mr/9</code> , ce que j'ai fait.  J'ai toujours d√©cid√© d'√©viter les collisions dans les noms de classe au maximum, donc la seule classe (m√™me l'interface) qui est pr√©sente √† la fois dans Java 8 et Java 9, j'ai ceci: </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// Java 8 package one.util.streamex; /* package */ interface VerSpec { VersionSpecific VER_SPEC = new VersionSpecific(); } // Java 9 package one.util.streamex; /* package */ interface VerSpec { VersionSpecific VER_SPEC = new Java9Specific(); }</span></span></code> </pre> <br><p>  L'ancienne constante a d√©m√©nag√© dans un nouvel endroit, mais rien d'autre n'a vraiment chang√©.  Ce n'est que maintenant que la classe <code>Java9Specific</code> devenue beaucoup plus simple: tous les squats avec MethodHandle ont √©t√© remplac√©s avec succ√®s par des appels de m√©thode directs. </p><br><p>  Le plugin promet de faire les choses suivantes: </p><br><ul><li>  Remplacez le <code>maven-compiler-plugin</code> standard et compilez en deux √©tapes avec une version cible diff√©rente. </li><li>  Remplacez le <code>maven-jar-plugin</code> standard et <code>maven-jar-plugin</code> r√©sultat de <code>maven-jar-plugin</code> compilation avec les bons chemins. </li><li>  Ajoutez la ligne <code>Multi-Release: true</code> √† <code>MANIFEST.MF</code> . </li></ul><br><p>  Pour que cela fonctionne, il a fallu pas mal d'√©tapes. </p><br><ol><li><p>  Changez l'emballage du <code>jar</code> en <code>jar</code> √† <code>multi-release-jar</code> . </p><br></li><li><p>  Ajouter une extension de build: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">build</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">extensions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">extension</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>pw.krejci<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>multi-release-jar-maven-plugin<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>0.1.5<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">extension</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">extensions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">build</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br></li><li><p>  Copiez la configuration de <code>maven-compiler-plugin</code> .  Je n'avais que la version par d√©faut dans l'esprit de <code>&lt;source&gt;1.8&lt;/source&gt;</code> et <code>&lt;arg&gt;-Xlint:all&lt;/arg&gt;</code> </p><br></li><li><p>  Je pensais que <code>maven-compiler-plugin</code> peut maintenant √™tre supprim√©, mais il s'est av√©r√© que le nouveau plugin ne remplace pas la compilation de tests, donc pour cela la version Java a √©t√© r√©initialis√©e √† sa valeur par d√©faut (1.5!) Et l'argument <code>-Xlint:all</code> disparu.  J'ai donc d√ª partir. </p><br></li><li><p>  Afin de ne pas dupliquer la source et la cible des deux plugins, j'ai d√©couvert qu'ils respectent tous les deux les propri√©t√©s de <code>maven.compiler.source</code> et <code>maven.compiler.target</code> .  Je les ai install√©s et supprim√© les versions des param√®tres du plugin.  Cependant, il s'est av√©r√© soudainement que <code>maven-javadoc-plugin</code> utilise la <code>source</code> des param√®tres <code>maven-compiler-plugin</code> pour trouver l'URL du JavaDoc standard, qui doit √™tre li√© lors du r√©f√©rencement des m√©thodes standard.  Et maintenant, il ne respecte pas <code>maven.compiler.source</code> .  Par cons√©quent, j'ai d√ª retourner <code>&lt;source&gt;${maven.compiler.source}&lt;/source&gt;</code> aux param√®tres de <code>maven-compiler-plugin</code> .  Heureusement, aucune autre modification n'a √©t√© n√©cessaire pour g√©n√©rer JavaDoc.  Il peut tr√®s bien √™tre g√©n√©r√© √† partir de sources Java 8, car l'int√©gralit√© du carrousel avec les versions n'affecte pas l'API de la biblioth√®que. </p><br></li><li><p>  Le <code>maven-bundle-plugin</code> , ce qui a transform√© ma biblioth√®que en un artefact OSGi.  Il a simplement refus√© de travailler avec <code>packaging = multi-release-jar</code> .  En principe, je ne l'ai jamais aim√©.  Il √©crit un ensemble de lignes suppl√©mentaires dans le manifeste, g√¢chant √† la fois l'ordre de tri et ajoutant plus de d√©chets.  Heureusement, il s'est av√©r√© qu'il n'est pas difficile de s'en d√©barrasser en √©crivant tout ce dont vous avez besoin √† la main.  Seulement, bien s√ªr, pas dans <code>maven-jar-plugin</code> , mais dans le nouveau.  La configuration compl√®te du plugin <code>multi-release-jar</code> est finalement devenue comme √ßa (j'ai d√©fini moi-m√™me certaines propri√©t√©s comme <code>project.package</code> ): </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugin</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>pw.krejci<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>multi-release-jar-maven-plugin<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>0.1.5<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configuration</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">compilerArgs</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">arg</span></span></span><span class="hljs-tag">&gt;</span></span>-Xlint:all<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">arg</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">compilerArgs</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">archive</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">manifestEntries</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Automatic-Module-Name</span></span></span><span class="hljs-tag">&gt;</span></span>${project.package}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Automatic-Module-Name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Bundle-Name</span></span></span><span class="hljs-tag">&gt;</span></span>${project.name}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Bundle-Name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Bundle-Description</span></span></span><span class="hljs-tag">&gt;</span></span>${project.description}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Bundle-Description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Bundle-License</span></span></span><span class="hljs-tag">&gt;</span></span>${license.url}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Bundle-License</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Bundle-ManifestVersion</span></span></span><span class="hljs-tag">&gt;</span></span>2<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Bundle-ManifestVersion</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Bundle-SymbolicName</span></span></span><span class="hljs-tag">&gt;</span></span>${project.package}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Bundle-SymbolicName</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Bundle-Version</span></span></span><span class="hljs-tag">&gt;</span></span>${project.version}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Bundle-Version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Export-Package</span></span></span><span class="hljs-tag">&gt;</span></span>${project.package};version="${project.version}"<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Export-Package</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">manifestEntries</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">archive</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configuration</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugin</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br></li><li><p>  Tests.  Nous n'avons plus <code>one.util.streamex.emulateJava8</code> , mais vous pouvez obtenir le m√™me effet en modifiant les tests de chemin de classe.  Maintenant, le contraire est vrai: par d√©faut, la biblioth√®que fonctionne en mode Java 8, et pour Java 9, vous devez √©crire: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">classesDirectory</span></span></span><span class="hljs-tag">&gt;</span></span>${basedir}/target/classes-9<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">classesDirectory</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">additionalClasspathElements</span></span></span><span class="hljs-tag">&gt;</span></span>${project.build.outputDirectory}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">additionalClasspathElements</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">argLine</span></span></span><span class="hljs-tag">&gt;</span></span>@{argLine}/jacoco_java9.exec<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">argLine</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Un point important: les <code>classes-9</code> devraient pr√©c√©der les fichiers de classe ordinaires, nous avons donc d√ª transf√©rer les fichiers habituels vers <code>additionalClasspathElements</code> , qui sont ajout√©s apr√®s. </p><br></li><li><p>  Sources.  Je vais avoir un fichier source-jar, et ce serait bien de mettre des sources Java 9 dedans pour que, par exemple, le d√©bogueur dans l'EDI puisse les afficher correctement.  Je ne m'inqui√®te pas beaucoup de dupliquer <code>VerSpec</code> , car il n'y a qu'une seule ligne, qui n'est ex√©cut√©e que lors de l'initialisation.  Je <code>Java9Specific.java</code> laisser uniquement l'option de Java 8. Cependant, ce serait bien de <code>Java9Specific.java</code> .  Cela peut √™tre fait en ajoutant manuellement un r√©pertoire source suppl√©mentaire: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugin</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.codehaus.mojo<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>build-helper-maven-plugin<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>3.0.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">executions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">execution</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">phase</span></span></span><span class="hljs-tag">&gt;</span></span>test<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">phase</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">goals</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">goal</span></span></span><span class="hljs-tag">&gt;</span></span>add-source<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">goal</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">goals</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configuration</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sou‚Äãrces</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sou‚Äãrce</span></span></span><span class="hljs-tag">&gt;</span></span>src/main/java-mr/9<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sou‚Äãrce</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sou‚Äãrces</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configuration</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">execution</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">executions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugin</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Apr√®s avoir collect√© l'artefact, je l'ai connect√© √† un projet de test et l'ai v√©rifi√© dans le d√©bogueur IntelliJ IDEA.  Tout fonctionne √† merveille: selon la version de la machine virtuelle utilis√©e pour ex√©cuter le projet de test, nous nous retrouvons dans une source diff√©rente lors du d√©bogage. </p><br><p>  Ce serait cool de faire cela par le plugin multi-release-jar lui-m√™me, alors j'ai <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fait</a> une telle suggestion. </p><br></li><li><p>  JaCoCo.  Cela s'est av√©r√© √™tre le plus difficile avec lui et je ne pouvais pas me passer d'aide ext√©rieure.  Le fait est que le plug-in a parfaitement g√©n√©r√© des fichiers ex√©cutables pour Java-8 et Java-9, les a g√©n√©ralement coll√©s dans un seul fichier, cependant, lors de la g√©n√©ration de rapports en XML et HTML, ils ont obstin√©ment ignor√© les sources de Java-9.  En fouillant <a href="">dans la source</a> , j'ai vu qu'il ne g√©n√®re qu'un rapport pour les fichiers de classe trouv√©s dans <code>project.getBuild().getOutputDirectory()</code> .  Ce r√©pertoire, bien s√ªr, peut √™tre remplac√©, mais en fait j'en ai deux: <code>classes</code> et <code>classes-9</code> .  Th√©oriquement, vous pouvez copier toutes les classes dans un r√©pertoire, modifier le r√©pertoire de <code>outputDirectory</code> et d√©marrer JaCoCo, puis modifier le <code>outputDirectory</code> de <code>outputDirectory</code> afin de ne pas casser l'assembly JAR.  Mais cela semble compl√®tement moche.  En g√©n√©ral, j'ai d√©cid√© de reporter la solution √† ce probl√®me dans mon projet pour l'instant, mais j'ai <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√©crit aux</a> gars de JaCoCo que ce serait bien de pouvoir sp√©cifier plusieurs r√©pertoires avec des fichiers de classe. </p><br><p>  √Ä ma grande surprise, quelques heures plus tard, l'un des d√©veloppeurs de JaCoCo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">godin</a> est venu √† mon projet et a pr√©sent√© une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pull-request</a> , ce qui r√©sout le probl√®me.  Comment d√©cide-t-il?  Utiliser Ant, bien s√ªr!  Il s'est av√©r√© que le plugin Ant pour JaCoCo est plus avanc√© et peut g√©n√©rer un rapport de synth√®se pour plusieurs r√©pertoires source et fichiers de classe.  Il n'avait m√™me pas besoin d'une √©tape de <code>merge</code> distincte, car il pouvait alimenter plusieurs fichiers ex√©cutifs √† la fois.  En g√©n√©ral, Ant ne pouvait pas √™tre √©vit√©e, qu'il en soit ainsi.  La principale chose qui a fonctionn√©, et pom.xml n'a augment√© que de six lignes. </p><br><p><img src="https://habrastorage.org/webt/-y/qd/q9/-yqdq9suyxlqtaw2d9dkjoc0rg8.png"></p><br><p>  J'ai m√™me tweet√© dans les c≈ìurs: </p><br><div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1185422598810800129"></twitter-widget><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div><br></li></ol><br><p>  J'ai donc eu un projet tr√®s fonctionnel qui construit un beau pot multi-versions.  Dans le m√™me temps, le pourcentage de couverture a m√™me augment√©, car j'ai supprim√© toutes sortes de <code>catch (NoSuchMethodException | IllegalAccessException e)</code> qui n'√©taient pas accessibles en Java 9. Malheureusement, cette structure de projet n'est pas prise en charge par IntelliJ IDEA, j'ai donc d√ª abandonner l'importation POM et configurer manuellement le projet dans l'IDE. .  J'esp√®re qu'√† l'avenir il y aura toujours une solution standard qui sera automatiquement prise en charge par tous les plugins et outils. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr472312/">https://habr.com/ru/post/fr472312/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr472298/index.html">Le condens√© de mati√®res fra√Æches du monde du front-end de la derni√®re semaine n ¬∞ 385 (14-20 octobre 2019)</a></li>
<li><a href="../fr472300/index.html">Descente de gradient stochastique (SGD) pour la fonction de perte logarithmique (LogLoss) dans un probl√®me de classification binaire</a></li>
<li><a href="../fr472304/index.html">La NASA embauche des ing√©nieurs pour d√©velopper un robot humano√Øde de nouvelle g√©n√©ration</a></li>
<li><a href="../fr472306/index.html">PHP Digest n ¬∞ 166 (7-21 octobre 2019)</a></li>
<li><a href="../fr472310/index.html">Identification des clients sur les sites sans mots de passe et cookies: application pour standard</a></li>
<li><a href="../fr472314/index.html">J'aime les gens en carton</a></li>
<li><a href="../fr472318/index.html">Suivi distribu√© dans Istio</a></li>
<li><a href="../fr472320/index.html">Entretien avec Zabbix: 12 r√©ponses franches</a></li>
<li><a href="../fr472326/index.html">Notre industrie spatiale ... Et si vous consid√©rez les probl√®mes de l'industrie du point de vue d'un geek?</a></li>
<li><a href="../fr472334/index.html">La vie par coupons ou comment nous optimisons le travail des services sociaux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>