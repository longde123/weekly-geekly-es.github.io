<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚴🏻 🦃 🤟🏽 Ok TV - ensine o Google Now a controlar um zumbi 👨🏽‍🚒 🍊 🙋🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content=""Ok Google, ligue as notícias!" Seria conveniente iniciar rapidamente uma voz em qualquer canal de uma TV comum. Ou controle o ar condicionado sem ter...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ok TV - ensine o Google Now a controlar um zumbi</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/389883/"><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://www.youtube.com/embed/HMjIbFPheFo%3Ffeature%3Doembed&amp;usg=ALkJrhgR_4xKIxywSWKlSXARDiScAhZ-9g" frameborder="0" allowfullscreen=""></iframe><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Ok Google, ligue as notícias!" </font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seria conveniente iniciar rapidamente uma voz em qualquer canal de uma TV comum. </font><font style="vertical-align: inherit;">Ou controle o ar condicionado sem ter o controle remoto em mãos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste artigo, mostrarei como você pode implementar o controle por voz de qualquer TV sem programar ou usar um ferro de soldar usando o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">controlador Broadlink RM, muito barato,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e alguns aplicativos Android. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assista a uma demonstração em vídeo do resultado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e leia como fazer você mesmo.</font></font><br>
<a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O que nós temos?</font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TV </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zumbi</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> comum</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remoto dele</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Smartphone Android</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Broadlink RM Controller</font></font></li>
</ul><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Que tipo de animal é Broadlink RM?</font></font></h2><br>
<img src="https://habrastorage.org/files/526/e9f/daf/526e9fdaf52f4fa3be46410d5ba77d6d.jpg" align="right"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este é um </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">controlador doméstico inteligente</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tão barato </font><font style="vertical-align: inherit;">que você pode comprar por apenas 3 mil rublos. </font><font style="vertical-align: inherit;">Ele pode controlar qualquer </font><font style="vertical-align: inherit;">equipamento </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estúpido</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que possua um controle remoto por infravermelho. </font><font style="vertical-align: inherit;">Pode ser televisões, aparelhos de ar condicionado e muito mais. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Além disso, ele sabe como controlar equipamentos nas frequências de rádio 315 e 433 MHz - como todos os tipos de interruptores, dimmers e assim por diante. </font><font style="vertical-align: inherit;">Em princípio, todas as suas características e habilidades estão </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bem escritas aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso funciona como um blaster de infravermelho (não deve ser confundido com um blaster de Star Wars e de todos os Terminadores de lá). </font><font style="vertical-align: inherit;">Ou seja, o comando de qualquer smartphone, tablet ou computador é transmitido a ela por um wi-fi comum e ela já "preenche" o sinal IR necessário em todas as direções.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O que queremos no final?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Queremos tornar o Google Now um pouco mais (bem, pelo menos um pouquinho) mais inteligente e aprender a entender comandos de voz como "Ligue o canal Sport", "Tornar a TV mais silenciosa". Bem, em geral, aprendi a pressionar todos os outros botões. </font><font style="vertical-align: inherit;">Assim, você não precisa mais procurar controles remotos diferentes e pode gerenciar todo o equipamento, mesmo usando um relógio inteligente no </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Android Wear</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vamos começar</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Após a configuração inicial do Broadlink RM usando um aplicativo Android padrão, precisamos ensinar códigos de IR no controle remoto da TV. Para que mais tarde, quando enviamos comandos para este programa, ela saiba qual sinal deve ser enviado ao controlador. </font></font><br>
<br>
<img src="https://habrastorage.org/files/a70/b90/e78/a70b90e78faf4d75888333bedc063da1.png" align="left" height="498" width="299"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para fazer isso, instale o aplicativo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Broadlink Control</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (os </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">códigos-fonte estão abertos</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estão localizados aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). É muito simples e permite que você ensine Broadlink nossos botões, além de adicionar </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">combinações de botões</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> como funções. Porque, para alguns canais de TV, você precisa pressionar mais de um botão. Por exemplo, canal 11. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todos os botões e funções são nomeados, funções podem ser selecionadas na lista para testar seu trabalho e também para iniciá-las por voz diretamente do programa.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando adicionamos um novo botão à base do programa, o controlador entra no modo de aprendizado para o novo código IR. </font><font style="vertical-align: inherit;">A luz começa a piscar, trazemos o painel de controle e pressionamos o botão desejado. </font><font style="vertical-align: inherit;">O programa solicitará que você nomeie o botão de alguma forma e salve-o na lista. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isso deve ser feito para todos os botões no controle remoto, que são necessários!</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aprenda o Google Now</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Google Now é ótimo para controle de voz. Mas ele não pode clicar nos botões da TV ... Agora, vamos corrigir essa falha dos engenheiros do Google! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como você sabe, o Google Now </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">não possui uma API aberta</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para "incorporar" suas funções. Mas há um assistente de voz em língua russa, Dusya, que pode "retirar" o texto da solicitação do Google Now e processá-la se ela se adequar a uma das funções. Além disso, o Dusya permite que você crie suas próprias funções sem nenhuma programação na sua interface. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essas funções “próprias” são chamadas de scripts e permitem transformar a frase de um usuário em uma sequência de ações que você precisa acionar em seu smartphone. Como Usando modelos de frase, cuja sintaxe é bastante simples:</font></font><br>
<br>
<pre><code class="html hljs xml">* (*|*) [] [*] $Text *
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Frases como "Hey, mude para notícias" são adequadas para esse modelo. </font><font style="vertical-align: inherit;">Ou "Ligue o canal Sport". </font><font style="vertical-align: inherit;">Nesse caso, o nome do canal a ser lançado será colocado na variável $ Text. </font><font style="vertical-align: inherit;">Tudo é simples! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em resposta a esse comando, você pode adicionar o envio de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">intenção</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ou seja, enviar um sinal em um smartphone local para outro programa. </font><font style="vertical-align: inherit;">Este programa será o Broadlink Control, que recebe uma linha de texto, pesquisa um canal configurado anteriormente e envia sinais dos botões Broadlink. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">É basicamente isso!</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bem, nem tudo, é claro ...</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos criar esse script no Dus, adicionar o modelo descrito acima e, nas ações que adicionamos enviando a intenção do tipo Broadcast com a ação com.broadlink.control.action.QUERY e nos parâmetros, passamos nossa variável $ Text no parâmetro text. </font><font style="vertical-align: inherit;">Como nas capturas de tela:</font></font><br>
<br>
<img src="https://habrastorage.org/files/721/b1c/1d3/721b1c1d3daa434c9839b06b9afbe8d0.png" height="498" width="299"> <img src="https://habrastorage.org/files/2b0/f1f/f26/2b0f1ff260c144ed86164f2735ee1773.png" height="498" width="299"><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O que mais pode ser feito?</font></font></b><div class="spoiler_text">,         ,      .       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">  </a>.<br>
</div></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E, é claro, lembre-se de ativar a integração com o Google Now na configuração "Modo de segundo plano" para que Dusya possa "interceptar" seu comando e iniciar os botões necessários no Broadlink Control. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, quando você inicia o Google Now com a frase mágica "Ok Google", podemos comandar nosso querido "Ligue o primeiro canal", após o qual Dusya reagirá a essa frase, feche o Google Now, extraia o nome do canal da frase e envie-o para o programa Broadlink Control. </font><font style="vertical-align: inherit;">Por sua vez, ele encontrará pelo nome a lista de botões que precisam ser pressionados e os enviará na sequência correta ao controlador Broadlink RM. </font><font style="vertical-align: inherit;">Bem, esse transformará o código em um sinal de infravermelho e o puxará em todas as direções, de forma que alcance definitivamente o receptor de infravermelho até da </font><font style="vertical-align: inherit;">TV de </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tubo</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mais antiga </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E agora com certeza!</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui está um exemplo de como ensinar qualquer técnica para controlar a voz sem programação e ferro de soldar em um tempo muito curto e com muito pouco dinheiro (para uma solução em caixa da classe “casa inteligente”). </font><font style="vertical-align: inherit;">Lembre-me de que o Google Now também pode ser iniciado na tela do smartphone (por exemplo, funciona apenas no meu carregador) e no smartwatch Android Wear. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso causará uma impressão duradoura nos convidados e, de fato, é legal ... </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ok Google, eu não assisto TV!</font></font></i></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt389883/">https://habr.com/ru/post/pt389883/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt389871/index.html">Experiência usando o LigthBiz OS</a></li>
<li><a href="../pt389873/index.html">Lindo panorama de Marte da NASA</a></li>
<li><a href="../pt389877/index.html">WTM (Waveform temporal memory) - um modelo de rede neural para resolver o problema do comportamento adaptativo</a></li>
<li><a href="../pt389879/index.html">Caminho do quintal: o WhatsApp atende bilhões de usuários ativos</a></li>
<li><a href="../pt389881/index.html">O novo dispositivo da Oculus permitirá gravar filmes em realidade virtual</a></li>
<li><a href="../pt389885/index.html">Controle de iluminação do banheiro com base no balcão de visitantes</a></li>
<li><a href="../pt389887/index.html">Microsoft planeja hospedar data centers no fundo do oceano</a></li>
<li><a href="../pt389893/index.html">Filmes e criptomoedas ou estrelando: Bitcoin</a></li>
<li><a href="../pt389895/index.html">O tablet que conquistou o mundo - XiaoMi Mi Pad 2</a></li>
<li><a href="../pt389897/index.html">EAU Robotics & AI Prize: 20 semi-finalistas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>