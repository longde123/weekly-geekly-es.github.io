<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏪 🧑🏼‍🤝‍🧑🏻 👨🏼‍⚖️ Développement rapide d'applications Web sur Vaadin et Spring Boot 👊🏻 🈹 🛀🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le but de cet article est de systématiser le processus de développement d'une application web sur Vaadin 14 à l'aide de Spring Boot. 


 Avant de lire...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Développement rapide d'applications Web sur Vaadin et Spring Boot</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/480852/"><p><img src="https://habrastorage.org/webt/gx/-o/lw/gx-olwos1pluf9izwqqd5j2r1uk.png" alt="CPAP"></p><br><p>  Le but de cet article est de systématiser le processus de développement d'une application web sur Vaadin 14 à l'aide de Spring Boot. </p><br><p>  Avant de lire cet article, je recommande de lire le matériel suivant: </p><br><ul><li>  <a href="https://habr.com/ru/post/435144/">Introduction à Spring Boot</a> </li><li>  <a href="https://habr.com/ru/post/435114/">Spring data jpa</a> </li><li>  <a href="https://habr.com/ru/post/438870/">Lombok rend la grandeur de Java</a> </li><li>  <a href="https://habr.com/ru/company/haulmont/blog/416893/">Vaadin Flow - un étrange cerf</a> <a name="habracut"></a></li></ul><br><h4 id="vpechatleniya">  Impressions </h4><br><p>  Vaadin 14 est un outil plutôt pratique pour concevoir des applications Web, avant de le rencontrer, il a développé des interfaces graphiques uniquement sur JavaFX, Android et même J2ME, et en même temps évité le développement frontal (des connaissances de base en HTML, CSS, JS sont disponibles) car il ne pensait pas le mien. </p><br><p>  <strong>Clause de non-responsabilité</strong> </p><br><p>  Ceux qui n'ont pas encore travaillé avec Spring Boot recommandent de sauter un démarrage rapide en utilisant Spring Initializr, de revenir au matériel recommandé et d'essayer de tout configurer vous-même, ayant rencontré de nombreux problèmes différents, sinon à l'avenir il y aura des lacunes dans la compréhension de diverses choses. </p><br><h4 id="bystryy-start">  Démarrage rapide </h4><br><p>  Créez un projet pour notre application web en utilisant <a href="https://start.spring.io/" rel="nofollow">Spring Initializr</a> , les dépendances nécessaires pour notre petite application web: </p><br><ul><li>  Spring Data JPA (pour travailler avec la base de données) </li><li>  Vaadin (pour le développement d'applications Web) </li><li>  Lombok (pour réduire le code de la plaque de la chaudière) </li><li>  Pilote MySQL (j'utilise mariadb, au printemps initializr'e ce n'est pas le cas) </li></ul><br><h4 id="nastroyka-applicationproperties-i-bazy-dannyh">  Définition de application.properties et de la base de données </h4><br><p>  Le projet créé sur Spring Initializr est presque prêt à être exécuté, nous ne pouvons configurer application.properties qu'en spécifiant le chemin d'accès à la base de données, le nom d'utilisateur et le mot de passe </p><br><pre><code class="plaintext hljs">spring.datasource.url = jdbc:mariadb://127.0.0.1:3306/test spring.datasource.username=user spring.datasource.password=password spring.jpa.hibernate.ddl-auto=update</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Attention: ddl-auto</b> <div class="spoiler_text"><p>  N'utilisez pas ddl-auto avec la valeur de mise à jour sur une base de données active ou lors du développement d'un projet, car il met automatiquement à jour le schéma de la base de données. <br>  Options existantes pour ddl-auto: <br>  create - créera une table dans la base de données, après avoir supprimé l'ancienne version de la table (perte de données en cas de changement de schéma) <br>  validate - vérifie la table dans la base de données, si elle ne correspond pas à l'entité alors hibernate lèvera une exception <br>  update - vérifie la table et la met à jour automatiquement sans supprimer les champs inexistants de l'entité <br>  create-drop - vérifie la table, la crée ou la met à jour, puis la supprime, destinée aux tests unitaires </p></div></div><br><p>  Avec le jeu de valeurs ddl-auto: update, hibernate crée automatiquement une table dans la base de données basée sur notre essence, car  nous faisons un simple carnet d'adresses puis créons une classe de contact. </p><br><div class="spoiler">  <b class="spoiler_title">Contact.class</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Entity</span></span>(name = <span class="hljs-string"><span class="hljs-string">"Contacts"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Getter</span></span> <span class="hljs-meta"><span class="hljs-meta">@Setter</span></span> <span class="hljs-meta"><span class="hljs-meta">@EqualsAndHashCode</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Contact</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Id</span></span> <span class="hljs-meta"><span class="hljs-meta">@GeneratedValue</span></span>(strategy = GenerationType.AUTO) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> id; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String firstName; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String secondName; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String fatherName; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String numberPhone; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String email; }</code> </pre> </div></div><br><p>  Créons une interface pour travailler avec la base de données et ajoutons une méthode qui renvoie List depuis  Spring Data JPA renvoie par défaut Iterable au lieu de List. <br></p><div class="spoiler">  <b class="spoiler_title">ContactRepository.class</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ContactRepository</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CrudRepository</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Contact</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Integer</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-function"><span class="hljs-function">List&lt;Contact&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findAll</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; }</code> </pre> </div></div><br><p>  Le développement de l'interface sur Vaadin comprend l'ajout de composants d'entrée, de visualisation et de formulaires d'interaction aux objets de mise en page pour le positionnement nécessaire des éléments.  Une liste de tous les composants peut être consultée sur le <a href="https://vaadin.com/components" rel="nofollow">site officiel du framework.</a> </p><br><p>  La page principale de notre application sera ContactList.  Nous hériterons de tous les objets des pages créées d' <a href="https://vaadin.com/components/vaadin-app-layout" rel="nofollow">AppLayout</a> - il s'agit d'une présentation typique d'une application Web composée de: </p><br><ul><li>  Navbar (en-tête) </li><li>  Tiroir (barre latérale) </li><li>  Le contenu <br>  Dans le même temps, des composants sont ajoutés à Navbar et Drawer, et un composant est défini sur Contenu en tant que contenu, par exemple, VerticalLayout dans lequel les éléments utilisateur seront placés dans une disposition verticale. </li></ul><br><p>  La page d'édition et de création de contacts sera ManageContact, et nous y implémenterons l'interface HasUrlParameter pour transférer l'ID du contact, lorsque cette interface est activée, le paramètre doit être transmis à la page. <br>  Afin de lier une page à une URL spécifique, l'annotation Route est utilisée: </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Route</span></span>(<span class="hljs-string"><span class="hljs-string">"contacts"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ContactList</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppLayout</span></span></span><span class="hljs-class"> </span></span>{} <span class="hljs-meta"><span class="hljs-meta">@Route</span></span>(<span class="hljs-string"><span class="hljs-string">"manageContact"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ManageContact</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppLayout</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HasUrlParameter</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Integer</span></span></span><span class="hljs-class">&gt; </span></span>{}</code> </pre> <br><h4 id="sozdanie-spiska-kontaktov">  Créer une liste de contacts </h4><br><p>  Dans le constructeur de l'objet ContactList, spécifiez les composants utilisés en faisant d'abord d'eux les champs de l'objet.  Comme les données seront extraites de la base de données, il est nécessaire de connecter le référentiel au champ objet. </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Route</span></span>(<span class="hljs-string"><span class="hljs-string">"contacts"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ContactList</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppLayout</span></span></span><span class="hljs-class"> </span></span>{ VerticalLayout layout; Grid&lt;Contact&gt; grid; RouterLink linkCreate; <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> ContactRepository contactRepository; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ContactList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ layout = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> VerticalLayout(); grid = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Grid&lt;&gt;(); linkCreate = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RouterLink(<span class="hljs-string"><span class="hljs-string">" "</span></span>,ManageContact.class,<span class="hljs-number"><span class="hljs-number">0</span></span>); layout.add(linkCreate); layout.add(grid); addToNavbar(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> H3(<span class="hljs-string"><span class="hljs-string">" "</span></span>)); setContent(layout); } }</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">À propos d'Autowired (mis à jour)</b> <div class="spoiler_text"><p>  N'essayez pas d'accéder à contactRepository à partir du constructeur d'un objet; cela entraînera certainement une NullPointerException, l'accès à partir de méthodes avec annotation PostConstruct ou de méthodes d'un objet déjà créé. <br>  Sur une astuce de <a href="https://habr.com/ru/users/zesetup/" class="user_link">zesetup</a> : contactRepository, vous pouvez injecter via le constructeur: </p><br><pre> <code class="java hljs">ContactRepository contactRepository; <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ContactList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ContactRepository contactRepository)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.contactRepository = contactRepository;</code> </pre> <br><p>  Comme conseil de <a href="https://habr.com/ru/users/markellg/" class="user_link">markellg</a> : il convient également de noter que lorsque vous utilisez Spring version 4.3 et supérieure, l'annotation Autowired sur le constructeur est facultative si la classe contient un seul constructeur. </p></div></div><br><p>  Le composant VerticalLayout a été ajouté à la classe ContactList pour l'agencement vertical des éléments dans le contenu, nous <a href="https://vaadin.com/api/platform/14.1.2/com/vaadin/flow/router/RouterLink.html" rel="nofollow">y</a> ajouterons <a href="https://vaadin.com/api/platform/14.1.2/com/vaadin/flow/router/RouterLink.html" rel="nofollow">RouterLink</a> (pour aller à la page de création de contact) et <a href="https://vaadin.com/components/vaadin-grid" rel="nofollow">Grid</a> pour afficher le tableau.  La grille est tapée par l'objet Contact afin que nous puissions charger des données à partir de la liste et elles remontent automatiquement lorsque la méthode setItems () est appelée; </p><br><pre> <code class="java hljs">Grid&lt;Contact&gt; grid; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ContactList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ grid = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Grid&lt;&gt;(); <span class="hljs-comment"><span class="hljs-comment">//      grid = new Grid&lt;&gt;(Contact.class); //      ,       }</span></span></code> </pre> <br><p>  Le comportement de création automatique de colonne ne nous intéresse pas, car  dans le cadre de l'article, il convient de montrer l'ajout de colonnes, et l'affichage de boutons pour supprimer ou modifier des contacts. </p><br><p>  Pour remplir le tableau, nous obtiendrons les données de contactRepository, pour cela nous allons créer une méthode avec annotation PostConstruct </p><br><div class="spoiler">  <b class="spoiler_title">Remplir une table avec fillGrid ()</b> <div class="spoiler_text"><pre> <code class="java hljs"> <span class="hljs-meta"><span class="hljs-meta">@PostConstruct</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fillGrid</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ List&lt;Contact&gt; contacts = contactRepository.findAll(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!contacts.isEmpty()){ <span class="hljs-comment"><span class="hljs-comment">//     grid.addColumn(Contact::getFirstName).setHeader(""); grid.addColumn(Contact::getSecondName).setHeader(""); grid.addColumn(Contact::getFatherName).setHeader(""); grid.addColumn(Contact::getNumberPhone).setHeader(""); grid.addColumn(Contact::getEmail).setHeader("E-mail"); //     grid.addColumn(new NativeButtonRenderer&lt;Contact&gt;("", contact -&gt; { UI.getCurrent().navigate(ManageContact.class,contact.getId()); })); grid.addColumn(new NativeButtonRenderer&lt;Contact&gt;("", contact -&gt; { Dialog dialog = new Dialog(); Button confirm = new Button(""); Button cancel = new Button(""); dialog.add("     ?"); dialog.add(confirm); dialog.add(cancel); confirm.addClickListener(clickEvent -&gt; { contactRepository.delete(contact); dialog.close(); Notification notification = new Notification(" ",1000); notification.setPosition(Notification.Position.MIDDLE); notification.open(); grid.setItems(contactRepository.findAll()); }); cancel.addClickListener(clickEvent -&gt; { dialog.close(); }); dialog.open(); })); grid.setItems(contacts); } }</span></span></code> </pre> </div></div><br><p>  NativeButtonRenderer est utilisé pour ajouter des colonnes avec des boutons d'édition et de suppression, nous transmettons le nom du bouton aux arguments du constructeur et un gestionnaire de clic de bouton. </p><br><pre> <code class="java hljs">grid.addColumn(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NativeButtonRenderer&lt;Contact&gt;(<span class="hljs-string"><span class="hljs-string">""</span></span>, contact -&gt; { <span class="hljs-comment"><span class="hljs-comment">//DO SOMETHING })); grid.addColumn(new NativeButtonRenderer&lt;Contact&gt;("", new ClickableRenderer.ItemClickListener&lt;Contact&gt;() { @Override public void onItemClicked(Contact contact) { //DO SOMETHING }}));</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Résultat</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/3r/gv/r_/3rgvr_xegcdji_o0azcc3e6cfb8.png" alt="Liste de contacts"></p></div></div><br><h4 id="sozdanie-stranicy-redaktirovaniya-kontaktov">  Création d'une page d'édition de contact </h4><br><p>  La page d'édition de contact accepte le paramètre comme identifiant de contact, nous devons donc implémenter la méthode setParameter (): </p><br><pre> <code class="java hljs"> <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setParameter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(BeforeEvent beforeEvent, Integer contactId)</span></span></span><span class="hljs-function"> </span></span>{ id = contactId; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!id.equals(<span class="hljs-number"><span class="hljs-number">0</span></span>)){ addToNavbar(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> H3(<span class="hljs-string"><span class="hljs-string">" "</span></span>)); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { addToNavbar(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> H3(<span class="hljs-string"><span class="hljs-string">" "</span></span>)); } fillForm(); <span class="hljs-comment"><span class="hljs-comment">//  }</span></span></code> </pre> <br><p>  L'ajout de composants est similaire à ContactList, mais dans ce cas, nous n'utilisons pas VerticalLayout, mais utilisons un balisage spécial FormLayout pour afficher ces formulaires.  Nous remplissons le formulaire avec des données n'utilisant plus la méthode avec l'annotation PostConstruct, mais après avoir obtenu le numéro de contact à partir de l'URL, car la chaîne: Object constructor -&gt; @PostConstruct -&gt; <a href="https://habr.com/ru/users/override/" class="user_link">Override</a> </p><br><div class="spoiler">  <b class="spoiler_title">Managecontact.class</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Route</span></span>(<span class="hljs-string"><span class="hljs-string">"manageContact"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ManageContact</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppLayout</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HasUrlParameter</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Integer</span></span></span><span class="hljs-class">&gt; </span></span>{ Integer id; FormLayout contactForm; TextField firstName; TextField secondName; TextField fatherName; TextField numberPhone; TextField email; Button saveContact; <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> ContactRepository contactRepository; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ManageContact</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    contactForm = new FormLayout(); firstName = new TextField(""); secondName = new TextField(""); fatherName = new TextField(""); numberPhone = new TextField(" "); email = new TextField(" "); saveContact = new Button(""); //     contactForm.add(firstName, secondName,fatherName,numberPhone,email,saveContact); setContent(contactForm); } @Override public void setParameter(BeforeEvent beforeEvent, Integer contactId) { id = contactId; if (!id.equals(0)){ addToNavbar(new H3(" ")); } else { addToNavbar(new H3(" ")); } fillForm(); } public void fillForm(){ if (!id.equals(0)){ Optional&lt;Contact&gt; contact = contactRepository.findById(id); contact.ifPresent(x -&gt; { firstName.setValue(x.getFirstName()); secondName.setValue(x.getSecondName()); fatherName.setValue(x.getFatherName()); numberPhone.setValue(x.getNumberPhone()); email.setValue(x.getEmail()); }); } saveContact.addClickListener(clickEvent-&gt;{ //       Contact contact = new Contact(); if (!id.equals(0)){ contact.setId(id); } contact.setFirstName(firstName.getValue()); contact.setSecondName(secondName.getValue()); contact.setFatherName(fatherName.getValue()); contact.setEmail(email.getValue()); contact.setNumberPhone(numberPhone.getValue()); contactRepository.save(contact); Notification notification = new Notification(id.equals(0)? "  ":"  ",1000); notification.setPosition(Notification.Position.MIDDLE); notification.addDetachListener(detachEvent -&gt; { UI.getCurrent().navigate(ContactList.class); }); contactForm.setEnabled(false); notification.open(); }); } }</span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Résultat</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/gy/el/nx/gyelnxnr0lxp5jjyvx8mbit8ttw.png" alt="Modification des contacts"></p></div></div><br><p>  Résultats: Vaadin 14 est un cadre plutôt pratique pour créer des applications Web simples, en l'utilisant, vous pouvez rapidement créer une application avec seulement des connaissances Java dans les bagages, et cela fonctionnera.  Mais malheureusement, toute l'interface est créée côté serveur et les ressources sont bien plus nécessaires que d'utiliser HTML5 + JS.  Ce cadre est plus adapté aux petits projets qui doivent être réalisés rapidement sans étudier les technologies frontales. </p><br><p>  Cet article a montré comment créer rapidement et facilement une application Web sans concevoir de base de données au préalable, éviter les longues configurations xml et à quelle vitesse vous pouvez développer une interface Web.  Pour la plupart, Spring Boot et Spring Data JPA simplifient la vie des développeurs et simplifient le développement.  L'article ne révélera rien de nouveau aux développeurs déjà établis, mais aidera le débutant à commencer à maîtriser le framework Spring. </p><br><p>  <a href="https://github.com/DiProtsenko/vaadin-test" rel="nofollow">Référentiel avec projet</a> </p><br><blockquote>  Des erreurs de grammaire et de ponctuation sont possibles dans l'article; lors de la détection, veuillez envoyer un </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr480852/">https://habr.com/ru/post/fr480852/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr480836/index.html">Remplacement des palettes dans le jeu à l'aide de shaders</a></li>
<li><a href="../fr480838/index.html">Les requêtes SQL sont rapides. Partie 1</a></li>
<li><a href="../fr480840/index.html">Cyberattaques contre les systèmes hydroacoustiques: mythes et réalité</a></li>
<li><a href="../fr480844/index.html">Habr Quest {concept}</a></li>
<li><a href="../fr480848/index.html">Kits et constructeurs pour les ingénieurs électroniques débutants âgés de 6 à 10 ans. Ce qui est disponible en magasin</a></li>
<li><a href="../fr480856/index.html">Chorda. Essayer de le faire de façon déclarative</a></li>
<li><a href="../fr480858/index.html">Lancez Linux dans un navigateur - l'émulateur jor1k vous aidera (avec Monkey Island, Doom et Frontier Elite II intégrés)</a></li>
<li><a href="../fr480860/index.html">Théorie de l'antirouille</a></li>
<li><a href="../fr480866/index.html">Une nouvelle ère de développement web ou «tout est déjà là»</a></li>
<li><a href="../fr480870/index.html">Résultats de la décennie</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>