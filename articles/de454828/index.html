<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏻 📀 👩🏿 Erstellen eines Mosaikbildes 🧕🏾 👵🏻 👢</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sicher haben Sie solche Bilder wiederholt im Internet gesehen: 


 Ich beschloss, ein universelles Skript zum Erstellen solcher Bilder zu schreiben. 
...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Erstellen eines Mosaikbildes</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454828/">  Sicher haben Sie solche Bilder wiederholt im Internet gesehen: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ec1/365/8b0/ec13658b0c0760f5da0e3f30b1f2bf47.jpg" alt="Bild"></div><br>  Ich beschloss, ein universelles Skript zum Erstellen solcher Bilder zu schreiben. <br><a name="habracut"></a><br><h3>  Theoretischer Teil </h3><br>  Lassen Sie uns ein wenig darüber sprechen, wie wir das alles machen werden.  Angenommen, es gibt eine begrenzte Anzahl von Bildern, mit denen wir die Leinwand pflastern können, sowie ein Bild, das in Form eines Mosaiks dargestellt werden muss.  Dann müssen wir das Bild, das konvertiert werden soll, in identische Bereiche aufteilen, von denen jeder durch ein Bild aus einem Datensatz mit Bildern ersetzt wird. <br><br>  Dies wirft die Frage auf, wie zu verstehen ist, welches Bild aus dem Datensatz einen bestimmten Bereich ersetzen soll.  Natürlich ist die ideale Kachelung eines bestimmten Bereichs derselbe Bereich.  Jeder Bereich ist groß <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2">m</span><span class="MJXp-mtext" id="MJXp-Span-3">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-5">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-6">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-9">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.872ex" height="1.937ex" viewBox="0 -728.2 4250.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-74" x="1128" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-69" x="1490" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6D" x="1835" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-65" x="2714" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-73" x="3180" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6E" x="3650" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-1"> m \ times n </script>  einstellen kann <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-10"><span class="MJXp-mn" id="MJXp-Span-11">3</span><span class="MJXp-mtext" id="MJXp-Span-12">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-13">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-15">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-16">n</span><span class="MJXp-mtext" id="MJXp-Span-17">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-18">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-19">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-20">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21">m</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.686ex" height="2.057ex" viewBox="0 -780.1 5892.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-33" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6D" x="750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-61" x="1629" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6C" x="2158" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6E" x="2457" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6D" x="3307" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-61" x="4186" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6C" x="4715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6D" x="5014" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> 3 \ mal n \ mal m </script>  Zahlen (hier entspricht jedes Pixel drei Zahlen - seinen R-, G- und B-Komponenten).  Mit anderen Worten wird jeder Bereich durch einen dreidimensionalen Tensor definiert.  Nun wird klar, dass wir eine Verlustfunktion berechnen müssen, um die Qualität der Kachelung des Bereichs mit einem Bild zu bestimmen, vorausgesetzt, ihre Größen stimmen überein.  In diesem Problem können wir die MSE von zwei Tensoren betrachten: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-22"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-23">M</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24">S</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25">E</span><span class="MJXp-mo" id="MJXp-Span-26" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-27">x</span><span class="MJXp-mo" id="MJXp-Span-28" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-29">y</span><span class="MJXp-mo" id="MJXp-Span-30" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-31" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-32">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-36">c</span><span class="MJXp-mrow" id="MJXp-Span-37"><span class="MJXp-mtext" id="MJXp-Span-38">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-39">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-41">m</span><span class="MJXp-mtext" id="MJXp-Span-42">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-43">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-45">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-46">i</span><span class="MJXp-msubsup" id="MJXp-Span-47"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-48" style="margin-right: 0.05em;">t</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-53">N</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-49"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50">i</span><span class="MJXp-mo" id="MJXp-Span-51">=</span><span class="MJXp-mn" id="MJXp-Span-52">1</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-54" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-55"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-56" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-57" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58">i</span></span></span><span class="MJXp-mo" id="MJXp-Span-59" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-msubsup" id="MJXp-Span-60"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-61" style="margin-right: 0.05em;">y</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-62" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-63">i</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-64"><span class="MJXp-mo" id="MJXp-Span-65" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-66" style="vertical-align: 0.5em;">2</span></span></span><span class="MJXp-mrow" id="MJXp-Span-67"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-68">N</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="44.825ex" height="3.262ex" viewBox="0 -987.6 19299.4 1404.6" role="img" focusable="false" style="vertical-align: -0.969ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-53" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-45" x="1697" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-28" x="2461" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-78" x="2851" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-2C" x="3423" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-79" x="3868" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-29" x="4366" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-3D" x="5033" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-66" x="6339" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-72" x="6890" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-61" x="7341" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-63" x="7871" y="0"></use><g transform="translate(8304,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-73" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-75" x="719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6D" x="1292" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6C" x="2420" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-69" x="2719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6D" x="3064" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-69" x="3943" y="0"></use><g transform="translate(4288,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-4E" x="511" y="488"></use><g transform="translate(361,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-31" x="1124" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-28" x="5898" y="0"></use><g transform="translate(6288,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-69" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-2212" x="7427" y="0"></use><g transform="translate(8427,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-69" x="693" y="-213"></use></g><g transform="translate(9262,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-32" x="550" y="583"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-4E" x="18410" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-3"> MSE (x, y) = \ frac {\ sum \ limit_ {i = 1} ^ N (x_ {i} - y_ {i}) ^ 2} {N} </script></p><br>  Hier <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-69"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.057ex" viewBox="0 -780.1 888.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-4E" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> N </script>  - die Anzahl der Zeichen in unserem Fall <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-71"><span class="MJXp-mn" id="MJXp-Span-72">3</span><span class="MJXp-mtext" id="MJXp-Span-73">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-74">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-75">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-76">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-77">n</span><span class="MJXp-mtext" id="MJXp-Span-78">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-79">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82">m</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.686ex" height="2.057ex" viewBox="0 -780.1 5892.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-33" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6D" x="750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-61" x="1629" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6C" x="2158" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6E" x="2457" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6D" x="3307" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-61" x="4186" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6C" x="4715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6D" x="5014" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-5"> 3 \ mal n \ mal m </script>  . <br><br>  Diese Formel gilt jedoch nicht für reale Fälle.  Tatsache ist, dass Sie, wenn der Datensatz ziemlich groß ist und die Bereiche, in die das Originalbild unterteilt ist, ziemlich klein sind, unannehmbar viele Aktionen ausführen müssen, nämlich jedes Bild aus dem Datensatz auf die Größe des Bereichs zu komprimieren und MSE zu berücksichtigen <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-83"><span class="MJXp-mn" id="MJXp-Span-84">3</span><span class="MJXp-mtext" id="MJXp-Span-85">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-86">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89">n</span><span class="MJXp-mtext" id="MJXp-Span-90">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-91">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-92">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-93">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-94">m</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.686ex" height="2.057ex" viewBox="0 -780.1 5892.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-33" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6D" x="750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-61" x="1629" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6C" x="2158" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6E" x="2457" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6D" x="3307" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-61" x="4186" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6C" x="4715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6D" x="5014" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-6"> 3 \ mal n \ mal m </script>  Eigenschaften.  Genauer gesagt, in dieser Formel ist das Schlechte, dass wir gezwungen sind, absolut jedes Bild zum Vergleich mehr als einmal zu komprimieren, aber eine Zahl, die der Anzahl der Bereiche entspricht, in die das Originalbild unterteilt ist. <br><br>  Ich schlage die folgende Lösung für das Problem vor: Wir werden ein wenig Qualität opfern und jetzt jedes Bild aus dem Datensatz mit nur 3 Zahlen charakterisieren: durchschnittliches RGB im Bild.  Daraus ergeben sich natürlich mehrere Probleme: Erstens ist die ideale Kachelung des Bereichs jetzt nicht nur für sich selbst, sondern zum Beispiel auch verkehrt herum (es ist offensichtlich, dass diese Kachelung schlechter ist als die erste), und zweitens, nachdem wir die durchschnittliche Farbe berechnet haben Wir können ein solches R, G und B erhalten, dass das Bild nicht einmal ein Pixel mit solchen Komponenten hat (mit anderen Worten, es ist schwer zu sagen, dass unser Auge das Bild als eine Mischung aller seiner Farben wahrnimmt).  Ich habe mir jedoch keinen besseren Weg ausgedacht. <br><br>  Es stellt sich heraus, dass wir jetzt nur einmal das durchschnittliche RGB für Bilder aus dem Datensatz berechnen und dann die empfangenen Informationen verwenden können. <br><br>  Zusammenfassend stellen wir fest, dass wir nun aus dem RGB-Pixel aus dem Satz einen Bereich auswählen müssen, der ihm am nächsten liegt, und dann den Bereich mit dem Bild aus dem Datensatz kacheln müssen, zu dem das gefundene Medium RGB gehört.  Um die Fläche und das Pixel zu vergleichen, machen wir dasselbe: Wir transformieren die Fläche in drei Zahlen und finden den nächsten durchschnittlichen RGB.  Es stellt sich heraus, dass wir nur können <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-95"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-96">R</span><span class="MJXp-mo" id="MJXp-Span-97" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-98">G</span><span class="MJXp-mo" id="MJXp-Span-99" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-100">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.423ex" height="2.419ex" viewBox="0 -780.1 3195.8 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-52" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-2C" x="759" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-47" x="1204" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-2C" x="1991" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-42" x="2436" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-7"> R, G, B </script>  finde in einem Set wie z <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-101"><span class="MJXp-msubsup" id="MJXp-Span-102"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103" style="margin-right: 0.05em;">R</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-104" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-105">i</span></span></span><span class="MJXp-mo" id="MJXp-Span-106" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-107"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-108" style="margin-right: 0.05em;">G</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-109" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-110">i</span></span></span><span class="MJXp-mo" id="MJXp-Span-111" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-112"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-113" style="margin-right: 0.05em;">B</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-114" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-115">i</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.822ex" height="2.419ex" viewBox="0 -780.1 4228.7 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-69" x="1074" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-2C" x="1103" y="0"></use><g transform="translate(1548,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-47" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-69" x="1112" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-2C" x="2679" y="0"></use><g transform="translate(3124,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-42" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-69" x="1074" y="-213"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-8"> R_ {i}, G_ {i}, B_ {i} </script>  dass der euklidische Abstand zwischen diesen beiden Punkten im dreidimensionalen Raum minimal ist: <br><br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-116"><span class="MJXp-mtext" id="MJXp-Span-117">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-121">t</span><span class="MJXp-mrow" id="MJXp-Span-122"><span class="MJXp-mo" id="MJXp-Span-123" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124">R</span><span class="MJXp-mo" id="MJXp-Span-125" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-msubsup" id="MJXp-Span-126"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-127" style="margin-right: 0.05em;">R</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-128" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-129">i</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-130"><span class="MJXp-mo" id="MJXp-Span-131" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-132" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-133" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-134" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-135">G</span><span class="MJXp-mo" id="MJXp-Span-136" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-msubsup" id="MJXp-Span-137"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-138" style="margin-right: 0.05em;">G</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-139" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140">i</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-141"><span class="MJXp-mo" id="MJXp-Span-142" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-143" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-144" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-145" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146">B</span><span class="MJXp-mo" id="MJXp-Span-147" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-msubsup" id="MJXp-Span-148"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-149" style="margin-right: 0.05em;">B</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-150" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-151">i</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-152"><span class="MJXp-mo" id="MJXp-Span-153" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-154" style="vertical-align: 0.5em;">2</span></span></span><span class="MJXp-mo" id="MJXp-Span-155" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-156">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-157">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-158">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="47.866ex" height="2.901ex" viewBox="0 -935.7 20608.9 1249" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-73" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-71" x="719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-72" x="1180" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-74" x="1631" y="0"></use><g transform="translate(1993,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-52" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-2212" x="1371" y="0"></use><g transform="translate(2371,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-69" x="1074" y="-213"></use></g><g transform="translate(3475,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-32" x="550" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-2B" x="4541" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-28" x="5542" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-47" x="5931" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-2212" x="6940" y="0"></use><g transform="translate(7941,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-47" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-69" x="1112" y="-213"></use></g><g transform="translate(9071,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-32" x="550" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-2B" x="10137" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-28" x="11138" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-42" x="11527" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-2212" x="12509" y="0"></use><g transform="translate(13510,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-42" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-69" x="1074" y="-213"></use></g><g transform="translate(14613,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-32" x="550" y="513"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-3D" x="17728" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6D" x="18784" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-69" x="19662" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6E" x="20008" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-9"> \ sqrt {(R - R_ {i}) ^ 2 + (G - G_ {i}) ^ 2 + (B - B_ {i}) ^ 2} = min </script><br><br><h3>  Datensatz vorverarbeiten </h3><br>  Sie können Ihren eigenen Bilddatensatz erstellen.  Ich habe eine Zusammenführung von Datensätzen mit Bildern von Katzen und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hunden verwendet</a> . <br><br>  Wie ich oben geschrieben habe, können wir einmal die durchschnittlichen RGB-Werte für Bilder aus dem Datensatz berechnen und sie einfach speichern.  Was wir tun: <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> cv2 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pickle items = {} <span class="hljs-comment"><span class="hljs-comment"># cv2      BGR,   RGB,     for path in os.listdir('dogs_images_dataset'): #      ,    for file in os.listdir(os.path.join('dogs_images_dataset', path)): file1 = os.path.join('dogs_images_dataset', path + '/' + file) img = np.array(cv2.cvtColor(cv2.imread(file1), cv2.COLOR_BGR2RGB)) r = round(img[:, :, 0].mean()) g = round(img[:, :, 1].mean()) b = round(img[:, :, 2].mean()) items[file1] = (r, g, b,) for file in os.listdir('cats_images_dataset'): #      ,          file1 = os.path.join('cats_images_dataset', file) img = np.array(cv2.cvtColor(cv2.imread(file1), cv2.COLOR_BGR2RGB)) r = round(img[:, :, 0].mean()) g = round(img[:, :, 1].mean()) b = round(img[:, :, 2].mean()) items[file1] = (r, g, b,) with open('data.pickle', 'wb') as f: pickle.dump(items, f)</span></span></code> </pre> <br>  Dieses Skript wird relativ lange ausgeführt. Danach werden die benötigten Informationen in der Datei data.pickle gespeichert. <br><br><h3>  Mosaik </h3><br>  Lassen Sie uns abschließend das Mosaik erstellen.  Zuerst schreiben wir die notwendigen Importe und deklarieren auch mehrere Konstanten: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> cv2 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pickle <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> math <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sqrt PATH_TO_PICTURE = <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-comment"><span class="hljs-comment">#       PICTURE = 'picture.png' #     VERTICAL_SECTION_SIZE = 7 #       HORIZONTAL_SECTION_SIZE = 7 #      </span></span></code> </pre><br>  Wir erhalten die gespeicherten Daten aus der Datei: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">with</span></span> open(<span class="hljs-string"><span class="hljs-string">'data.pickle'</span></span>, <span class="hljs-string"><span class="hljs-string">'rb'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> f: items = pickle.load(f)</code> </pre> <br>  Wir beschreiben die Verlustfunktion: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lost_function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(r_segm, g_segm, b_segm, arg)</span></span></span><span class="hljs-function">:</span></span> r, g, b = arg[<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sqrt((r - r_segm) ** <span class="hljs-number"><span class="hljs-number">2</span></span> + (g - g_segm) ** <span class="hljs-number"><span class="hljs-number">2</span></span> + (b - b_segm) ** <span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre> <br>  Öffnen Sie das Originalbild: <br><br><pre> <code class="python hljs">file = os.path.join(PATH_TO_PICTURE, PICTURE) img = np.array(cv2.cvtColor(cv2.imread(file), cv2.COLOR_BGR2RGB)) size = img.shape x, y = size[<span class="hljs-number"><span class="hljs-number">0</span></span>], size[<span class="hljs-number"><span class="hljs-number">1</span></span>]</code> </pre> <br>  Beachten Sie nun, dass Kacheln genau dann möglich sind, wenn <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-159"><span class="MJXp-mo" id="MJXp-Span-160" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-161">x</span><span class="MJXp-msubsup" id="MJXp-Span-162"><span class="MJXp-mtext" id="MJXp-Span-163" style="margin-right: 0.05em;">&nbsp;</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-164" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-165">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-166">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-167">g</span><span class="MJXp-mtext" id="MJXp-Span-168">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-169">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-170">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-171">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-172">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-173">e</span><span class="MJXp-mtext" id="MJXp-Span-174">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-175">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-176">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-177">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-178">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-179">s</span><span class="MJXp-mtext" id="MJXp-Span-180">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-181">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-182">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-183">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-184">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-185">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-186">x</span><span class="MJXp-mo" id="MJXp-Span-187" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-188">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-190">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-191">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-192">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-193">e</span><span class="MJXp-mtext" id="MJXp-Span-194">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-195">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-196">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-197">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-198">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-199">e</span><span class="MJXp-mtext" id="MJXp-Span-200">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-201">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-202">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-203">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-204">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-205">e</span><span class="MJXp-mo" id="MJXp-Span-206" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-207">y</span><span class="MJXp-msubsup" id="MJXp-Span-208"><span class="MJXp-mtext" id="MJXp-Span-209" style="margin-right: 0.05em;">&nbsp;</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-210" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-212">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-213">g</span><span class="MJXp-mtext" id="MJXp-Span-214">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-215">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-216">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-217">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-218">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-219">e</span><span class="MJXp-mtext" id="MJXp-Span-220">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-221">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-222">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-223">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-224">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-225">s</span><span class="MJXp-mtext" id="MJXp-Span-226">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-227">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-228">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-229">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-230">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-231">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-232">y</span><span class="MJXp-mo" id="MJXp-Span-233" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="73.415ex" height="2.66ex" viewBox="0 -832 31609.1 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-78" x="389" y="0"></use><g transform="translate(962,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6F" x="353" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-72" x="1655" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-69" x="2106" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-67" x="2452" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-73" x="3182" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-70" x="3652" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-61" x="4155" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-63" x="4685" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-65" x="5118" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-76" x="5835" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-64" x="6320" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6F" x="6844" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-74" x="7329" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-73" x="7691" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-73" x="8410" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-70" x="8880" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-61" x="9383" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-63" x="9913" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-65" x="10346" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-78" x="10813" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-29" x="11385" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-73" x="12025" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-70" x="12494" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-61" x="12998" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-63" x="13527" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-65" x="13961" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-77" x="14677" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-65" x="15394" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-64" x="15860" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-67" x="16384" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-65" x="16864" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-73" x="17581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-70" x="18050" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-61" x="18554" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-63" x="19083" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-65" x="19517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-28" x="19983" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-79" x="20373" y="0"></use><g transform="translate(20870,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6F" x="353" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-72" x="21564" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-69" x="22015" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-67" x="22361" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-73" x="23091" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-70" x="23561" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-61" x="24064" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-63" x="24594" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-65" x="25027" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-76" x="25744" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-64" x="26229" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6F" x="26753" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-74" x="27238" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-73" x="27600" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-73" x="28319" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-70" x="28789" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-61" x="29292" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-63" x="29822" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-65" x="30255" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-79" x="30722" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-29" x="31219" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-10"> (x \ _orig \ space \ vdots \ space x) \ space \ wedge \ space (y \ _orig \ space \ vdots \ space y) </script>  wo <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-234"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-235">x</span><span class="MJXp-msubsup" id="MJXp-Span-236"><span class="MJXp-mtext" id="MJXp-Span-237" style="margin-right: 0.05em;">&nbsp;</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-238" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-239">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-240">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-241">g</span><span class="MJXp-mo" id="MJXp-Span-242" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-243">y</span><span class="MJXp-msubsup" id="MJXp-Span-244"><span class="MJXp-mtext" id="MJXp-Span-245" style="margin-right: 0.05em;">&nbsp;</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-246" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-247">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-248">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-249">g</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.674ex" height="2.298ex" viewBox="0 -728.2 5456.8 989.6" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6F" x="353" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-72" x="1265" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-69" x="1717" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-67" x="2062" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-2C" x="2543" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-79" x="2988" y="0"></use><g transform="translate(3485,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-6F" x="353" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-72" x="4179" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-69" x="4630" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-67" x="4976" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-11"> x \ _orig, y \ _orig </script>  - die Größe des Originalbildes und <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-250"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-251">x</span><span class="MJXp-mo" id="MJXp-Span-252" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-253">y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.519ex" height="1.817ex" viewBox="0 -520.7 1515.2 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-78" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMAIN-2C" x="572" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/454828/&amp;usg=ALkJrhjYQzQUk1iqoeGXPSKWThp9piLERw#MJMATHI-79" x="1017" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-12"> x, y </script>  - Abmessungen der Fliesenfläche.  Natürlich ist die obige Bedingung nicht immer erfüllt.  Daher werden wir das Originalbild auf die entsprechende Größe zuschneiden und von der Bildgröße ihre Reste von der Division durch den Bereich abziehen: <br><br><pre> <code class="python hljs">img = cv2.resize(img, (y - (y % VERTICAL_SECTION_SIZE), x - (x % HORIZONTAL_SECTION_SIZE))) size = img.shape x, y = size[<span class="hljs-number"><span class="hljs-number">0</span></span>], size[<span class="hljs-number"><span class="hljs-number">1</span></span>]</code> </pre> <br>  Nun gehen wir direkt zur Kachelung: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(x // HORIZONT AL_SECTION_SIZE): <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> j <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(y // VERTICAL_SECTION_SIZE): sect = img[i * HORIZONTAL_SECTION_SIZE:(i + <span class="hljs-number"><span class="hljs-number">1</span></span>) * HORIZONTAL_SECTION_SIZE, j * VERTICAL_SECTION_SIZE:(j + <span class="hljs-number"><span class="hljs-number">1</span></span>) * VERTICAL_SECTION_SIZE] r_mean, g_mean, b_mean = sect[:, :, <span class="hljs-number"><span class="hljs-number">0</span></span>].mean(), sect[:, :, <span class="hljs-number"><span class="hljs-number">1</span></span>].mean(), sect[:, :, <span class="hljs-number"><span class="hljs-number">2</span></span>].mean()</code> </pre> <br>  Hier wird in der vorletzten Zeile der gewünschte Bereich des Bildes ausgewählt, und in der letzten Zeile werden die durchschnittlichen RGB-Komponenten berücksichtigt. <br><br>  Betrachten Sie nun eine der wichtigsten Zeilen: <br><br><pre> <code class="python hljs">current = sorted(items.items(), key=<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> argument: lost_function(r_mean, g_mean, b_mean, argument))[<span class="hljs-number"><span class="hljs-number">0</span></span>]</code> </pre> <br>  Diese Zeile sortiert alle Bilder des Datensatzes in aufsteigender Reihenfolge nach dem Wert der Verlustfunktion für sie und erhält Argmin. <br><br>  Jetzt müssen wir nur noch das Bild zuschneiden und den Bereich dadurch ersetzen: <br><br><pre> <code class="python hljs">resized = cv2.resize(cv2.cvtColor(cv2.imread(current[<span class="hljs-number"><span class="hljs-number">0</span></span>]), cv2.COLOR_BGR2RGB), (VERTICAL_SECTION_SIZE, HORIZONTAL_SECTION_SIZE,)) img[i * HORIZONTAL_SECTION_SIZE:(i + <span class="hljs-number"><span class="hljs-number">1</span></span>) * HORIZONTAL_SECTION_SIZE, j * VERTICAL_SECTION_SIZE:(j + <span class="hljs-number"><span class="hljs-number">1</span></span>) * VERTICAL_SECTION_SIZE] = resized</code> </pre> <br>  Und schließlich zeigen Sie das resultierende Bild auf dem Bildschirm an: <br><br><pre> <code class="python hljs">img = cv2.cvtColor(img, cv2.COLOR_RGB2BGR) cv2.imshow(<span class="hljs-string"><span class="hljs-string">'ImageWindow'</span></span>, img) cv2.waitKey(<span class="hljs-number"><span class="hljs-number">0</span></span>)</code> </pre> <br><h3>  Ein bisschen mehr über die Verlustfunktion </h3><br>  Im Allgemeinen gibt es mehrere Optionen für die Verlustfunktion, von denen jede theoretisch auf dieses Problem anwendbar ist.  Ihre Qualität kann nur empirisch bewertet werden, was können Sie tun :) <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-254"><span class="MJXp-mrow" id="MJXp-Span-255"><span class="MJXp-mo" id="MJXp-Span-256" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-257">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-258">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-259">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-260">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-261">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-262">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-263">R</span><span class="MJXp-mrow" id="MJXp-Span-264"><span class="MJXp-mo" id="MJXp-Span-265" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-266" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mrow" id="MJXp-Span-267"><span class="MJXp-mo" id="MJXp-Span-268" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-269">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-270">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-271">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-272">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-273">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-274">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-275">G</span><span class="MJXp-mrow" id="MJXp-Span-276"><span class="MJXp-mo" id="MJXp-Span-277" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-278" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mrow" id="MJXp-Span-279"><span class="MJXp-mo" id="MJXp-Span-280" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-281">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-282">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-283">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-284">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-285">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-286">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-287">B</span><span class="MJXp-mrow" id="MJXp-Span-288"><span class="MJXp-mo" id="MJXp-Span-289" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mspace" id="MJXp-Span-290" style="width: 0em; height: 0em;"></span><span class="MJXp-mtext" id="MJXp-Span-291">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-292">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-293">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-294">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-295">t</span><span class="MJXp-mrow" id="MJXp-Span-296"><span class="MJXp-mtext" id="MJXp-Span-297">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-298">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-299">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-300">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-301">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-302">a</span><span class="MJXp-msubsup" id="MJXp-Span-303"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-304" style="margin-right: 0.05em;">R</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-305" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-306" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-307">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-308">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-309">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-310">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-311">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-312">a</span><span class="MJXp-msubsup" id="MJXp-Span-313"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-314" style="margin-right: 0.05em;">G</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-315" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-316" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-317">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-318">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-319">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-320">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-321">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-322">a</span><span class="MJXp-msubsup" id="MJXp-Span-323"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-324" style="margin-right: 0.05em;">B</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-325" style="vertical-align: 0.5em;">2</span></span></span><span class="MJXp-mspace" id="MJXp-Span-326" style="width: 0em; height: 0em;"></span><span class="MJXp-mtext" id="MJXp-Span-327">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-328">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-329">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-330">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-331">t</span><span class="MJXp-mrow" id="MJXp-Span-332"><span class="MJXp-mn" id="MJXp-Span-333">0</span><span class="MJXp-mo" id="MJXp-Span-334" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-335">2126</span><span class="MJXp-mtext" id="MJXp-Span-336">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-337">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-338">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-339">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-340">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-341">a</span><span class="MJXp-msubsup" id="MJXp-Span-342"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-343" style="margin-right: 0.05em;">R</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-344" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-345" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-346">0</span><span class="MJXp-mo" id="MJXp-Span-347" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-348">7152</span><span class="MJXp-mtext" id="MJXp-Span-349">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-350">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-351">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-352">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-353">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-354">a</span><span class="MJXp-msubsup" id="MJXp-Span-355"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-356" style="margin-right: 0.05em;">G</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-357" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-358" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-359">0</span><span class="MJXp-mo" id="MJXp-Span-360" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-361">0722</span><span class="MJXp-mtext" id="MJXp-Span-362">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-363">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-364">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-365">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-366">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-367">a</span><span class="MJXp-msubsup" id="MJXp-Span-368"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-369" style="margin-right: 0.05em;">B</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-370" style="vertical-align: 0.5em;">2</span></span></span><span class="MJXp-mtext" id="MJXp-Span-371">&nbsp;</span><span class="MJXp-mtext" id="MJXp-Span-372">&nbsp;</span><span class="MJXp-mtext" id="MJXp-Span-373">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-374">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-375">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-376">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-377">t</span><span class="MJXp-mrow" id="MJXp-Span-378"><span class="MJXp-mn" id="MJXp-Span-379">0</span><span class="MJXp-mo" id="MJXp-Span-380" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-381"><span class="MJXp-mn" id="MJXp-Span-382" style="margin-right: 0.05em;">2126</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-383" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mtext" id="MJXp-Span-384">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-385">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-386">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-387">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-388">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-389">a</span><span class="MJXp-msubsup" id="MJXp-Span-390"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-391" style="margin-right: 0.05em;">R</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-392" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-393" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-394">0</span><span class="MJXp-mo" id="MJXp-Span-395" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-396"><span class="MJXp-mn" id="MJXp-Span-397" style="margin-right: 0.05em;">7152</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-398" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mtext" id="MJXp-Span-399">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-400">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-401">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-402">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-403">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-404">a</span><span class="MJXp-msubsup" id="MJXp-Span-405"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-406" style="margin-right: 0.05em;">G</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-407" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-408" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-409">0</span><span class="MJXp-mo" id="MJXp-Span-410" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-411"><span class="MJXp-mn" id="MJXp-Span-412" style="margin-right: 0.05em;">0722</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-413" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mtext" id="MJXp-Span-414">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-415">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-416">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-417">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-418">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-419">a</span><span class="MJXp-msubsup" id="MJXp-Span-420"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-421" style="margin-right: 0.05em;">B</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-422" style="vertical-align: 0.5em;">2</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-13"> | \ Delta R | + | \ Delta G | + | \ Delta B | \\ \ sqrt {\ Delta R ^ 2 + \ Delta G ^ 2 + \ Delta B ^ 2} \\ \ sqrt {0,2126 \ Delta R ^ 2 + 0,7152 \ Delta G ^ 2 + 0,0722 \ Delta B ^ 2} \ \ \ sqrt {0,2126 ^ 2 \ Delta R ^ 2 + 0,7152 ^ 2 \ Delta G ^ 2 + 0,0722 ^ 2 \ Delta B ^ 2} </script></p><br><br><h3>  Fazit </h3><br>  Hier sind einige meiner Ergebnisse: <br><br><div class="spoiler">  <b class="spoiler_title">Öffnen</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/dc8/729/395/dc87293957d6476e4a865de29d665414.jpg" alt="Bild"><br><img src="https://habrastorage.org/getpro/habr/post_images/df8/ecd/b6e/df8ecdb6e4ad0c7bf55cc1f7a21fcac0.jpg" alt="Bild"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Originale</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/f4a/41c/447/f4a41c44793e3070ab22541ee54f1c89.jpg" alt="Bild"><br><img src="https://habrastorage.org/getpro/habr/post_images/463/fd3/5f0/463fd35f0b3ccf5b86aaef2c2db7b0ff.jpg" alt="Bild"><br></div></div><br>  Den vollständigen Quellcode, die bereits berechnete Datei data.pickle sowie das Archiv mit dem von mir gesammelten Datensatz finden Sie im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Repository</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de454828/">https://habr.com/ru/post/de454828/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de454816/index.html">Konfigurieren des PHP-Fpm + Nginx-Bundles unter WSL</a></li>
<li><a href="../de454818/index.html">Rekko Challenge - wie man den 2. Platz im Wettbewerb um die Schaffung von Empfehlungssystemen belegt</a></li>
<li><a href="../de454820/index.html">Azure-Suche</a></li>
<li><a href="../de454824/index.html">Der einfachste Operationsverstärker für diskrete Elemente</a></li>
<li><a href="../de454826/index.html">Reduzieren Sie Backups mit Hashget um 99,5%</a></li>
<li><a href="../de454830/index.html">3 Schlüsselqualitäten für einen erfolgreichen Produktmanager: Alexander Belyaev</a></li>
<li><a href="../de454832/index.html">Warum eine viertägige Arbeitswoche eine schlechte Geschichte ist</a></li>
<li><a href="../de454834/index.html">Die wirklichen Begriffe des Studiums des Touch-Tippens mit geringer Motivation</a></li>
<li><a href="../de454840/index.html">Sorgfältiger Umzug in die Niederlande mit seiner Frau und Hypothek. Teil 2: Dokumente vorbereiten und umziehen</a></li>
<li><a href="../de454844/index.html">Odigest: interessant für Designer der Woche</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>