<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë© üôáüèΩ üöê Conseils pour cr√©er des workflows personnalis√©s dans GitLab CI üë©‚Äçüëß‚Äçüë¶ ‚ôÇÔ∏è üßí</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Remarque perev. : L'article original a √©t√© √©crit par Mi≈Çosz Sm√≥≈Çka, l'un des fondateurs de la petite entreprise polonaise Three Dots Labs , sp√©cialis√©...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Conseils pour cr√©er des workflows personnalis√©s dans GitLab CI</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/436910/">  <i><b>Remarque</b></i>  <i><b>perev.</b></i>  <i>: L'article original a √©t√© √©crit par Mi≈Çosz Sm√≥≈Çka, l'un des fondateurs de la petite entreprise polonaise <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Three Dots Labs</a> , sp√©cialis√©e dans les ¬´solutions avanc√©es de backend¬ª.</i>  <i>L'auteur s'appuie sur son exp√©rience dans l'utilisation active de GitLab CI et partage les conseils accumul√©s pour les autres utilisateurs de ce produit Open Source.</i>  <i>Apr√®s les avoir lus, nous avons r√©alis√© √† quel point les probl√®mes d√©crits par lui √©taient proches de nous, nous avons donc d√©cid√© de partager les solutions propos√©es avec un public plus large.</i> <br><br><img src="https://habrastorage.org/web/168/262/b4e/168262b4e3af4467978ffc20dd8bba99.png"><br><br>  Cette fois, je couvrirai des sujets plus avanc√©s dans GitLab CI.  Une t√¢che courante consiste √† impl√©menter des fonctionnalit√©s non standard dans le pipeline.  La plupart des conseils sont sp√©cifiques √† GitLab, bien que certains d'entre eux puissent √™tre appliqu√©s √† d'autres syst√®mes CI. <a name="habracut"></a><br><br><h2>  Ex√©cutez des tests d'int√©gration </h2><br>  En r√®gle g√©n√©rale, la v√©rification du code √† l'aide de <b>tests unitaires est</b> facile √† connecter √† n'importe quel syst√®me CI.  Habituellement, cela n'est pas plus compliqu√© que d'ex√©cuter l'une des commandes int√©gr√©es √† l'ensemble standard d'utilitaires dans un langage de programmation.  Dans de tels tests, vous √™tes susceptible d'utiliser divers moki et stubs pour masquer les d√©tails d'impl√©mentation et vous concentrer sur le test d'une logique sp√©cifique.  Par exemple, vous pouvez utiliser la base de donn√©es en m√©moire comme stockage ou √©crire des talons pour les clients HTTP qui renverront toujours des r√©ponses d√©j√† pr√©par√©es. <br><br>  Cependant, t√¥t ou tard, vous aurez besoin de <b>tests d'int√©gration</b> pour couvrir des situations plus inhabituelles avec des tests.  Je n'entrerai pas dans la discussion sur tous les types de tests possibles et je dirai simplement que par <i>int√©gration,</i> je veux dire les tests qui utilisent une sorte de ressources externes.  Il peut s'agir d'un v√©ritable serveur de base de donn√©es, d'un service HTTP, d'un stockage connect√©, etc. <br><br>  Dans GitLab, il est facile d'ex√©cuter des ressources enfichables en tant que conteneurs Docker associ√©s au conteneur dans lequel les scripts s'ex√©cutent.  Ces d√©pendances peuvent √™tre d√©finies √† l'aide de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>services</code></a> .  Ils sont disponibles par le nom de l'image ou par le nom de votre choix, si vous le sp√©cifiez dans le champ <code>alias</code> . <br><br>  Voici un exemple simple d'utilisation d'un conteneur enfichable avec MySQL: <br><br><pre> <code class="plaintext hljs">integration_tests: stage: tests services: - name: mysql:8 alias: db script: - ./run_tests.sh db:3306</code> </pre><br>  Dans ce cas, dans les scripts de test, vous devrez vous connecter √† l'h√¥te <code>db</code> .  L'utilisation d'un alias est g√©n√©ralement une bonne id√©e, car elle vous permet de remplacer des images sans avoir √† modifier le code de test.  Par exemple, vous pouvez remplacer l'image <code>mysql</code> par <code>mariadb</code> , et le script fonctionnera toujours correctement. <br><br><h4>  En attente de conteneurs </h4><br>  √âtant donn√© que les conteneurs de plug-ins prennent du temps √† charger, vous devrez peut-√™tre attendre avant d'envoyer des demandes.  Un moyen simple est d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">attendre le</a> script <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">wait-for-it.sh</a> avec un timeout d√©fini. <br><br><h3>  Utilisation de Docker Compose </h3><br>  Dans la plupart des cas, les <code>services</code> devraient √™tre suffisants.  Cependant, une interaction avec des services externes peut parfois √™tre n√©cessaire.  Par exemple, dans le cas du lancement de Kafka et ZooKeeper dans deux conteneurs distincts (c'est ainsi que les images officielles sont collect√©es).  Un autre exemple est l'ex√©cution de tests avec un nombre dynamique de n≈ìuds, tels que Selenium.  La meilleure solution pour ex√©cuter ces services serait <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Docker Compose</a> : <br><br><pre> <code class="plaintext hljs">version: '3' services: zookeeper: image: confluentinc/cp-zookeeper environment: ZOOKEEPER_CLIENT_PORT: 2181 kafka: image: confluentinc/cp-kafka environment: KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181 KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:9092 ports: - 9092:9092</code> </pre><br>  Si vous utilisez votre installation avec des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ex√©cuteurs</a> GitLab sur des serveurs fiables, vous pouvez ex√©cuter Docker Composer via l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ex√©cuteur Shell</a> .  Une autre option possible est le <code>dind</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Docker in Docker</a> ( <code>dind</code> ).  Mais dans ce cas, lisez d'abord <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cet article</a> . <br><br>  Une fa√ßon d'utiliser Compose est de configurer votre environnement, d'ex√©cuter des tests, puis de tout d√©truire.  Un simple script bash ressemblerait √† ceci: <br><br><pre> <code class="plaintext hljs">docker-compose up -d ./run_tests.sh localhost:9092 docker-compose down</code> </pre> <br>  Tant que vous ex√©cutez des tests dans un environnement minimal, tout ira bien.  Bien qu'une situation puisse survenir dans laquelle vous devez installer certaines d√©pendances ... Il existe une autre fa√ßon d'ex√©cuter des tests dans Docker Compose - elle vous permet de cr√©er votre propre image Docker avec un environnement de test.  Dans l'un des conteneurs, vous ex√©cutez des tests et quittez avec le code retour correspondant: <br><br><pre> <code class="plaintext hljs">version: '3' services: zookeeper: image: confluentinc/cp-zookeeper environment: ZOOKEEPER_CLIENT_PORT: 2181 kafka: image: confluentinc/cp-kafka environment: KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181 KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:9092 tests: image: registry.example.com/some-image command: ./run_tests.sh kafka:9092</code> </pre><br>  Notez que nous avons √©limin√© la n√©cessit√© de mapper les ports.  Dans cet exemple, les tests peuvent interagir directement avec tous les services. <br><br>  Et leur lancement s'effectue par une seule commande: <br><br><pre> <code class="plaintext hljs">docker-compose up --exit-code-from tests</code> </pre> <br>  L' <code>--abort-on-container-exit</code> <code>--exit-code-from</code> implique <code>--abort-on-container-exit</code> , ce qui signifie: tout l'environnement initi√© par <code>docker-compose up</code> sera arr√™t√© apr√®s la fin de l'un des conteneurs.  Le code d'ach√®vement de cette commande sera √©quivalent au code de sortie du service s√©lectionn√© (c'est-√†-dire qu'il s'agit de <code>tests</code> dans l'exemple ci-dessus).  Si la commande qui d√©marre les tests se termine avec un code diff√©rent de z√©ro, la commande <code>docker-compose up</code> enti√®re se termine avec elle. <br><br><h2>  Utilisation d'√©tiquettes comme balises CI </h2><br>  <b>Attention</b> : c'est une id√©e plut√¥t inhabituelle, mais elle m'a paru tr√®s utile et flexible. <br><br>  Comme vous le savez peut-√™tre, GitLab dispose d'une fonctionnalit√© d'√©tiquettes disponible au niveau du projet et du groupe.  Des √©tiquettes peuvent √™tre d√©finies sur les tickets et les demandes de fusion.  Cependant, ils n'ont aucun lien avec les pipelines. <br><br><img src="https://habrastorage.org/webt/xt/pn/79/xtpn79pe46ztibrzwyeroay952k.png"><br><br>  Un petit raffinement vous permettra d'acc√©der aux libell√©s de la demande de fusion dans les scripts de jobs.  Dans GitLab 11.6, tout est devenu encore plus facile, car  la variable d'environnement <code>CI_MERGE_REQUEST_IID</code> est apparue (oui, c'est avec l' <code>IID</code> , pas l' <code>ID</code> ) si le pipeline utilise <code>only: merge_requests</code> . <br><br>  Si <code>only: merge_requests</code> pas utilis√© ou si vous travaillez avec une ancienne version de GitLab, MR peut toujours √™tre obtenu - en utilisant l'appel API: <br><br><pre> <code class="bash hljs">curl <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$CI_API_V4_URL</span></span></span><span class="hljs-string">/projects/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$CI_PROJECT_ID</span></span></span><span class="hljs-string">/repository/commits/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$CI_COMMIT_SHA</span></span></span><span class="hljs-string">/merge_requests?private_token=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$GITLAB_TOKEN</span></span></span><span class="hljs-string">"</span></span></code> </pre> <br>  Le domaine dont nous avons besoin est <code>iid</code> .  Cependant, n'oubliez pas que de nombreux MR peuvent revenir pour un commit donn√©. <br><br>  Lorsque le MR IID est re√ßu, il ne reste plus qu'√† se tourner vers l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">API Merge Requests</a> et √† utiliser le champ des <code>labels</code> de la r√©ponse: <br><br><pre> <code class="bash hljs">curl <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$CI_API_V4_URL</span></span></span><span class="hljs-string">/projects/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$CI_PROJECT_ID</span></span></span><span class="hljs-string">/merge_requests/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$CI_MERGE_REQUEST_IID</span></span></span><span class="hljs-string">?private_token=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$GITLAB_TOKEN</span></span></span><span class="hljs-string">"</span></span></code> </pre> <br><h3>  Se connecter </h3><br>  Malheureusement, pour le moment, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">il n'est pas possible</a> d'utiliser <code>$CI_JOB_TOKEN</code> pour acc√©der √† l'API du projet (au moins si le projet n'est pas public).  Si le projet a un acc√®s limit√© (interne ou priv√©), pour l'autorisation dans l'API GitLab, vous devrez g√©n√©rer un jeton d'API personnel. <br><br><img src="https://habrastorage.org/webt/jo/c_/jn/joc_jntn1lbz5eb6tif6cfo41xs.png"><br><br>  Cependant, ce n'est pas la solution la plus s√ªre, alors soyez prudent.  Si le jeton tombe entre de mauvaises mains, l'acc√®s en √©criture √† tous vos projets peut appara√Ætre avec lui.  Une fa√ßon de r√©duire les risques consiste √† cr√©er un compte distinct avec le droit de lire le r√©f√©rentiel et de g√©n√©rer un jeton personnel pour ce compte. <br><br><h4>  Vos variables sont-elles s√ªres? </h4><br>  Il y a quelques versions, la section <i>Variables</i> s'appelait <i>Variables secr√®tes</i> , ce qui semble avoir √©t√© cr√©√© pour stocker de mani√®re fiable les informations d'identification et autres informations critiques.  En fait, les variables sont simplement cach√©es aux utilisateurs qui ne disposent pas des privil√®ges du responsable.  Ils ne sont pas chiffr√©s sur le disque et leur fuite peut facilement se produire via des variables d'environnement dans les scripts. <br><br>  Gardez cela √† l'esprit lorsque vous ajoutez des variables et envisagez de garder des secrets dans des solutions plus s√©curis√©es (par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Vault de HashiCorp</a> ). <br><br><h3>  Cas d'utilisation </h3><br>  Que faire des listes d'√©tiquettes d√©pend de vous.  Voici quelques id√©es: <br><br><ul><li>  Utilisez-les pour segmenter les tests. </li><li>  Utilisez la s√©mantique des valeurs-cl√©s avec deux points comme s√©parateur (par exemple, des √©tiquettes comme <code>tests:auth</code> , <code>tests:user</code> ) </li><li>  Inclure certaines fonctionnalit√©s pour les travaux. </li><li>  Autorisez le d√©bogage de travaux sp√©cifiques si l'√©tiquette existe. </li></ul><br><h2>  Appel d'API externes </h2><br>  Bien que GitLab soit livr√© avec une gamme de fonctionnalit√©s d√©j√† disponibles, il est tr√®s probable que vous souhaitiez utiliser d'autres utilitaires pouvant √™tre int√©gr√©s aux pipelines.  La fa√ßon la plus simple de l'impl√©menter est, bien s√ªr, d'appeler la bonne vieille <code>curl</code> . <br><br>  Si vous cr√©ez vos propres outils, vous pouvez leur apprendre √† √©couter les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Webhooks GitLab</a> (voir l'onglet <b>Int√©grations</b> dans les param√®tres du projet).  Cependant, si vous avez l'intention de les utiliser avec des syst√®mes critiques, assurez-vous qu'ils r√©pondent aux exigences de haute disponibilit√©. <br><br><h3>  Exemple: annotations Grafana </h3><br>  Si vous travaillez avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Grafana</a> , les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">annotations</a> sont un excellent moyen de marquer des √©v√©nements qui se sont produits au fil du temps sur des graphiques.  Ils peuvent √™tre ajout√©s non seulement manuellement en cliquant dans l'interface graphique, mais √©galement en appelant l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=http://docs.grafana.org/">API REST Grafana</a> : <br><br><img src="https://habrastorage.org/webt/9e/rr/0z/9err0z9dowhzj9jr1q_asbxsxs0.png"><br><br>  Pour acc√©der √† l'API, vous devrez g√©n√©rer une cl√© API.  Envisagez de cr√©er un utilisateur distinct avec un acc√®s limit√©: <br><br><img src="https://habrastorage.org/webt/qv/ab/ax/qvabaxtz1ivbshbiw1eeyx10vme.png"><br><br>  D√©finissez deux variables dans les param√®tres du projet: <br><br><ul><li>  <code>GRAFANA_URL</code> - URL de l'installation de Grafana (par exemple, <code>https://grafana.example.com</code> ); </li><li>  <code>GRAFANA_APIKEY</code> - cl√© g√©n√©r√©e pour l'API. </li></ul><br>  Pour pouvoir le r√©utiliser, placez le script dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">r√©f√©rentiel avec des scripts communs</a> : <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash set -e if [ $# -lt 2 ]; then echo "Usage: $0 &lt;text&gt; &lt;tag&gt;" exit 1 fi readonly text="$1" readonly tag="$2" readonly time="$(date +%s)000" cat &gt;./payload.json &lt;&lt;EOF { "text": "$text", "tags": ["$tag"], "time": $time, "timeEnd": $time } EOF curl -X POST "$GRAFANA_URL/api/annotations" \ -H "Authorization: Bearer $GRAFANA_APIKEY" \ -H "content-type: application/json" \ -d @./payload.json</span></span></code> </pre> <br>  Vous pouvez maintenant ajouter son appel √† la configuration CI avec les param√®tres n√©cessaires: <br><br><pre> <code class="plaintext hljs">deploy: stage: deploy script: - $SCRIPTS_DIR/deploy.sh production - $SCRIPTS_DIR/grafana-annotation.sh "$VERSION deployed to production" deploy-production</code> </pre> <br>  Ces appels peuvent √™tre plac√©s dans le script <code>deploy.sh</code> pour simplifier la configuration CI. <br><br><h2>  Bonus: conseils rapides </h2><br>  GitLab a une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">excellente documentation</a> sur tous les mots cl√©s possibles qui peuvent √™tre utilis√©s pour configurer CI.  Je ne veux pas dupliquer son contenu ici, mais je soulignerai quelques cas utiles.  Cliquez sur les titres pour voir la documentation associ√©e. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Utilisation avanc√©e de seulement / sauf</a> </h3><br>  En d√©finissant des mod√®les pour les variables CI, vous pouvez d√©finir des assemblages personnalis√©s pour certaines branches.  Cela peut aider, par exemple, √† identifier les correctifs push pour les correctifs urgents, mais n'en abusez pas: <br><br><pre> <code class="plaintext hljs">only: refs: - branches variables: - $CI_COMMIT_REF_NAME =~ /^hotfix/</code> </pre> <br>  GitLab a de nombreuses <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">variables pr√©d√©finies</a> dans chaque travail CI - utilisez-les. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ancres Yaml</a> </h3><br>  Utilisez-les pour √©viter les doublons. <br><br>  √Ä partir de la version 11.3, vous pouvez √©galement utiliser le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mot cl√© extend</a> : <br><br><pre> <code class="plaintext hljs">.common_before_script: &amp;common_before_script before_script: - ... - ... deploy: &lt;&lt;: *common_before_script</code> </pre> <br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Exclusion d'artefacts</a> </h3><br>  Par d√©faut, tous les artefacts collect√©s dans le pipeline seront transf√©r√©s vers tous les travaux suivants.  Si vous r√©pertoriez explicitement les artefacts dont d√©pendent les travaux, vous pouvez √©conomiser du temps et de l'espace disque: <br><br><pre> <code class="plaintext hljs">dependencies: - build</code> </pre> <br>  Ou - au contraire - sautez compl√®tement tout si aucun n'est requis: <br><br><pre> <code class="plaintext hljs">dependencies: []</code> </pre> <br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Strat√©gie Git</a> </h3><br>  Ignorer le clonage du r√©f√©rentiel si le travail n'utilise pas ces fichiers: <br><br><pre> <code class="plaintext hljs">variables: GIT_STRATEGY: none</code> </pre> <br>  C‚Äôest tout! <br><br>  Merci d'avoir lu!  Pour des commentaires et des questions, contactez-moi sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Twitter</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Reddit</a> . <br><br>  Plus de conseils GitLab peuvent √™tre trouv√©s dans les articles pr√©c√©dents: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Conserver les scripts communs dans GitLab CI</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Versioning s√©mantique automatique dans GitLab CI</a> . </li></ul><br><h2>  PS du traducteur </h2><br>  Lisez aussi dans notre blog: <br><br><ul><li>  ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GitLab CI pour une int√©gration et une livraison continues en production.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1: notre pipeline</a> ¬ª; </li><li>  ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GitLab CI pour une int√©gration et une livraison continues en production.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2: surmonter les difficult√©s</a> ¬ª; </li><li>  ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cr√©ez des projets avec GitLab CI: un .gitlab-ci.yml pour des centaines d'applications</a> ¬ª; </li><li>  ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cr√©er et installer des applications dans Kubernetes √† l'aide de dapp et GitLab CI</a> ¬ª; </li><li>  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Meilleures pratiques pour CI / CD avec Kubernetes et GitLab (revue et rapport vid√©o)</a> ." </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr436910/">https://habr.com/ru/post/fr436910/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr436894/index.html">Apocalypse informatique rampante. De nouveaux services cloud laisseront certains ing√©nieurs sans emploi</a></li>
<li><a href="../fr436896/index.html">docker-pretty-ps - enfin un ps docker lisible</a></li>
<li><a href="../fr436900/index.html">FunTech ML-meetup</a></li>
<li><a href="../fr436904/index.html">Seuil de 32 Ko pour les donn√©es dans la ROM des microcontr√¥leurs AVR</a></li>
<li><a href="../fr436908/index.html">6 fa√ßons de masquer des donn√©es dans une application Android</a></li>
<li><a href="../fr436912/index.html">Tendances CRM 2019: amusant √† lire, dangereux √† croire</a></li>
<li><a href="../fr436914/index.html">Probl√®mes de croissance de d√©marrage - Surveillance</a></li>
<li><a href="../fr436916/index.html">VShard - mise √† l'√©chelle horizontale dans Tarantool</a></li>
<li><a href="../fr436918/index.html">Cr√©ation d'un jeu pour Game Boy, partie 2</a></li>
<li><a href="../fr436920/index.html">Transpilateur PAS2JS de Pascal √† JavaScript: incompatible avec Delphi et solutions</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>