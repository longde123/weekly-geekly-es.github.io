<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚õìÔ∏è ‚õ™Ô∏è üï∂Ô∏è Arquitectura moderna de MVI basada en Kotlin üß¶ üî® üö¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En los √∫ltimos dos a√±os, los desarrolladores de Android en Badoo han recorrido un largo y espinoso camino desde MVP hacia un enfoque completamente dif...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Arquitectura moderna de MVI basada en Kotlin</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/badoo/blog/429728/"><img src="https://habrastorage.org/webt/xn/qq/rv/xnqqrv1mzljdp6cmqtxjpx66ciw.png"><br><br>  En los √∫ltimos dos a√±os, los desarrolladores de Android en Badoo han recorrido un largo y espinoso camino desde MVP hacia un enfoque completamente diferente de la arquitectura de aplicaciones.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">ANublo</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">yo</a> queremos compartir una traducci√≥n de un art√≠culo de nuestro colega <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Zsolt Kocsi</a> , describiendo los problemas que encontramos y su soluci√≥n. <br><br>  Este es el primero de varios art√≠culos dedicados al desarrollo de la arquitectura moderna de MVI en Kotlin. <br><a name="habracut"></a><br><h2>  Comencemos desde el principio: problemas de estado </h2><br>  En cada momento, la aplicaci√≥n tiene un cierto estado que determina su comportamiento y lo que ve el usuario.  Si se enfoca solo en un par de clases, este estado incluye todos los valores de las variables, desde indicadores simples hasta objetos individuales.  Cada una de estas variables vive su propia vida y est√° controlada por diferentes partes del c√≥digo.  Puede determinar el estado actual de la aplicaci√≥n solo verific√°ndolos uno por uno. <br><br>  Trabajando en el c√≥digo, creamos un modelo existente del trabajo del sistema en nuestras cabezas.  Implementamos f√°cilmente casos ideales cuando todo va de acuerdo con el plan, pero somos completamente incapaces de calcular todos los posibles problemas y condiciones de la aplicaci√≥n.  Y tarde o temprano, una de las condiciones que no hemos imaginado nos superar√° y nos encontraremos con un error. <br><br>  Inicialmente, el c√≥digo est√° escrito de acuerdo con nuestras ideas sobre c√≥mo deber√≠a funcionar el sistema.  Pero en el futuro, pasando por las <a href="">cinco etapas de depuraci√≥n</a> , es necesario rehacer todo dolorosamente, cambiando simult√°neamente el modelo del sistema ya creado que se ha desarrollado en mi cabeza.  Queda por esperar que tarde o temprano entendamos qu√© sali√≥ mal y se reparar√° el error. <br><br>  Pero esto est√° lejos de ser siempre afortunado.  Cuanto m√°s complejo sea el sistema, m√°s probable es que encuentre alguna condici√≥n imprevista, cuya depuraci√≥n ser√° un sue√±o durante mucho tiempo en las pesadillas. <br><br>  En Badoo, todas las aplicaciones son sustancialmente as√≠ncronas, no solo por la amplia funcionalidad disponible para el usuario a trav√©s de la interfaz de usuario, sino tambi√©n por la posibilidad de que el servidor env√≠e datos unidireccionales.  El estado y el comportamiento de la aplicaci√≥n est√°n muy influenciados, desde cambiar el estado del pago a nuevas coincidencias y solicitudes de verificaci√≥n. <br><br>  Como resultado, en nuestro m√≥dulo de chat nos encontramos con varios errores extra√±os y dif√≠ciles de reproducir que estropearon mucha sangre para todos.  A veces los probadores lograron escribirlos, pero no se repitieron en el dispositivo del desarrollador.  Debido al c√≥digo asincr√≥nico, la repetici√≥n completa de una cadena de eventos era extremadamente improbable.  Y como la aplicaci√≥n no se bloque√≥, ni siquiera ten√≠amos un seguimiento de la pila que mostrara d√≥nde comenzar la b√∫squeda. <br><br>  Clean Architecture tampoco pudo ayudarnos.  Incluso despu√©s de reescribir el m√≥dulo de chat, las pruebas A / B revelaron discrepancias peque√±as pero significativas en la cantidad de mensajes de los usuarios que utilizan los m√≥dulos nuevos y antiguos.  Decidimos que esto se deb√≠a a la dif√≠cil reproducibilidad de los errores y al estado de la carrera.  La discrepancia persisti√≥ despu√©s de verificar todos los dem√°s factores.  Los intereses de la empresa sufrieron, fue dif√≠cil para los desarrolladores mantener el c√≥digo. <br><br>  No puede lanzar un nuevo componente si funciona peor que el existente, pero tampoco puede liberarlo, ya que tom√≥ una actualizaci√≥n, hubo una raz√≥n.  Por lo tanto, debe comprender por qu√© en un sistema que se ve completamente normal y no se bloquea, la cantidad de mensajes disminuye. <br><br>  ¬øD√≥nde comenzar la b√∫squeda? <br><br>  Spoiler: esto no es culpa de Clean Architecture, como siempre, el factor humano es el culpable.  Al final, por supuesto, arreglamos estos errores, pero dedicamos mucho tiempo y esfuerzo a esto.  Entonces pensamos: ¬øhay una manera m√°s f√°cil de evitar estos problemas? <br><br><h2>  La luz al final del t√∫nel ... </h2><br>  Nos son familiares los t√©rminos de moda como Model-View-Intent y ‚Äúflujo de datos unidireccional‚Äù.  Si este no es el caso en su caso, le aconsejo que los busque en Google: hay muchos art√≠culos sobre estos temas en Internet.  Los desarrolladores de Android recomiendan especialmente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el material de ocho piezas de Hannes Dorfman</a> . <br><br>  Comenzamos a jugar con estas ideas tomadas del desarrollo web a principios de 2017.  Enfoques como Flux y Redux resultaron ser muy √∫tiles: nos ayudaron a enfrentar muchos problemas. <br><br>  En primer lugar, es muy √∫til contener todos los elementos de estado (variables que afectan la interfaz de usuario y desencadenan varias acciones) en un objeto: el <b>estado</b> .  Cuando todo se almacena en un solo lugar, la imagen general es mejor visible.  Por ejemplo, si desea imaginar cargar datos utilizando este enfoque, necesita la <i>carga √∫til</i> y los campos <i>isLoading</i> .  Al observarlos, ver√° cu√°ndo se reciben los datos ( <i>carga √∫til</i> ) y si la animaci√≥n ( <i>isLoading</i> ) se muestra al usuario. <br><br>  Adem√°s, si nos alejamos de la ejecuci√≥n de c√≥digo paralelo con devoluciones de llamada y expresamos cambios en el estado de la aplicaci√≥n como una serie de transacciones, obtendremos un √∫nico punto de entrada.  Te presentamos <b>Reducer</b> , quien vino a nosotros desde la programaci√≥n funcional.  Toma el estado actual y los datos sobre acciones adicionales ( <b>Intenci√≥n</b> ) y crea un nuevo estado a partir de ellos: <br><br> <code>Reducer = (State, Intent) -&gt; State</code> <br> <br>  Continuando con el ejemplo anterior con la carga de datos, obtenemos las siguientes acciones: <br><br><ul><li>  <b>IniciadoCargando</b> <br></li><li>  <b>AcabadoCon √©xito</b> <br></li></ul><br><br>  Entonces puedes crear Reducer con las siguientes reglas: <br><br><ol><li>  En el caso de <b>StartedLoading,</b> cree un nuevo objeto <b>State</b> copiando el antiguo y establezca el valor <i>isLoading</i> en true. <br></li><li>  En el caso de <b>FinishedWithSuccess,</b> cree un nuevo objeto <b>State</b> , copiando el antiguo, en el que el valor <i>isLoading</i> se establecer√° en falso y el valor de la <i>carga √∫til</i> ser√° <br>  partido cargado. <br></li></ol><br>  Si enviamos la serie de <b>estado</b> resultante al registro, veremos lo siguiente: <br><br><ol><li>  Estado ( <i>carga √∫til</i> = nulo, <i>isLoading</i> = false): el estado inicial. <br></li><li>  Estado ( <i>carga √∫til</i> = nulo, <i>isLoading</i> = true): despu√©s de StartedLoading. <br></li><li>  Estado ( <i>carga √∫til</i> = datos, <i>isLoading</i> = false): despu√©s de FinishedWithSuccess. <br></li></ol><br>  Al conectar estos estados a la interfaz de usuario, ver√° todas las etapas del proceso: primero una pantalla en blanco, luego una pantalla de carga y, finalmente, los datos necesarios. <br><br>  Este enfoque tiene muchas ventajas. <br><br><ul><li>  En primer lugar, al cambiar centralmente el estado mediante una serie de transacciones, no permitimos el estado de la raza y muchos errores molestos invisibles. <br></li><li>  En segundo lugar, despu√©s de estudiar una serie de transacciones, podemos entender lo que sucedi√≥, por qu√© sucedi√≥ y c√≥mo afect√≥ el estado de la aplicaci√≥n.  Adem√°s, con Reducer es mucho m√°s f√°cil imaginar todos los cambios de estado antes del primer lanzamiento de la aplicaci√≥n en el dispositivo. <br></li><li>  Finalmente, podemos crear una interfaz simple.  Dado que todos los estados se almacenan en un solo lugar (Tienda), que tiene en cuenta las intenciones (Intentos), realiza cambios utilizando Reducer y demuestra una cadena de estados, entonces puede colocar toda la l√≥gica empresarial en la Tienda y usar la interfaz para iniciar intenciones y mostrar estados. <br></li></ul><br><br>  O no? <br><br><h2>  ... tal vez el tren corriendo hacia ti </h2><br>  El reductor solo claramente no es suficiente.  ¬øQu√© pasa con las tareas asincr√≥nicas con diferentes resultados?  ¬øC√≥mo responder al env√≠o desde el servidor?  ¬øQu√© pasa con el lanzamiento de tareas adicionales (por ejemplo, borrar el cach√© o cargar datos de la base de datos local) despu√©s de un cambio de estado?  Resulta que, o bien no incluimos toda esta l√≥gica en Reducer (es decir, una buena parte de la l√≥gica de negocios no estar√° cubierta, y aquellos que decidan usar nuestro componente no tendr√°n que ocuparse de ella, o forzaremos a Reducer a hacer todo de una vez. <br><br><h2>  Requisitos marco de MVI </h2><br>  Por supuesto, nos gustar√≠a incluir toda la l√≥gica de negocios de una caracter√≠stica individual en un componente independiente, con el cual los desarrolladores de otros equipos podr√≠an trabajar f√°cilmente simplemente creando una instancia y suscribi√©ndose a su estado. <br><br>  Adem√°s <br><br><ul><li>  Debe interactuar f√°cilmente con otros componentes del sistema; <br></li><li>  en su estructura interna debe haber una clara separaci√≥n de deberes; <br></li><li>  todas las partes internas del componente deben ser completamente deterministas; <br></li><li>  La implementaci√≥n b√°sica de dicho componente debe ser simple y complicada solo si se necesitan elementos adicionales. <br></li></ul><br>  No pasamos inmediatamente de Reducer a la soluci√≥n que usamos hoy.  Cada equipo enfrent√≥ problemas al usar enfoques diferentes, y desarrollar una soluci√≥n universal que se adaptara a todos parec√≠a poco probable. <br><br>  Y, sin embargo, el estado actual de las cosas se adapta a todos.  ¬°Nos complace presentarle MVICore!  El c√≥digo fuente de la biblioteca est√° abierto y disponible en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GitHub</a> . <br><br><h2>  Que es bueno MVICore </h2><br><ul><li>  Una manera f√°cil de implementar funciones empresariales de programaci√≥n reactiva con un flujo de datos unidireccional. <br></li><li>  Escalado: la implementaci√≥n b√°sica incluye solo Reductor, y en casos m√°s complejos, puede usar componentes adicionales. <br></li><li>  Una soluci√≥n para trabajar con eventos que no desea incluir en el estado ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">problema SingleLiveEvent</a> ). <br></li><li>  Una API simple para vincular caracter√≠sticas (y otros componentes reactivos de su sistema) a la interfaz de usuario y entre s√≠ con soporte para el ciclo de vida de Android (y no solo). <br></li><li>  Soporte de middleware (ver abajo) para cada componente del sistema. <br></li><li>  Registrador listo para usar y la capacidad de depurar el viaje en el tiempo para cada componente. <br></li></ul><br><br><h2>  Breve introducci√≥n a la funci√≥n </h2><br>  Como las instrucciones paso a paso ya se han publicado en GitHub, omitir√© ejemplos detallados y me centrar√© en los componentes principales del marco. <br><br>  <b>Caracter√≠stica</b> : el elemento central del marco que contiene toda la l√≥gica empresarial del componente.  La funci√≥n se define mediante tres par√°metros: <i>interfaz Funci√≥n &lt;Deseo, Estado, Noticias&gt;</i> <br><br>  <b>Wish</b> corresponde a la Intenci√≥n de Model-View-Intent: estos son los cambios que queremos ver en el modelo (dado que el t√©rmino Intent tiene su propio significado en el entorno de los desarrolladores de Android, tuvimos que encontrar un nombre diferente).  Wish es el punto de entrada para Feature. <br><br>  <b>El estado</b> es, como ya entendi√≥, el estado del componente.  El estado no es inmutable: no podemos cambiar sus valores internos, pero podemos crear nuevos estados.  Este es el resultado: cada vez que creamos un nuevo estado, lo pasamos a la transmisi√≥n Rx. <br><br>  <b>Noticias</b> : un componente para procesar se√±ales que no deber√≠an estar en estado;  Las noticias se usan una vez durante la creaci√≥n ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">problema SingleLiveEvent</a> ).  El uso de Noticias es opcional (puede usar Nothing from Kotlin en la Firma de funciones). <br><br>  Tambi√©n en Caracter√≠stica debe estar presente <b>Reductor</b> . <br><br>  La caracter√≠stica puede contener los siguientes componentes: <br><br><ul><li>  Actor: realiza tareas asincr√≥nicas y / o modificaciones de estado condicionales basadas en el estado actual (por ejemplo, validaci√≥n de formulario).  El actor vincula el deseo a un n√∫mero de efecto espec√≠fico y luego lo pasa al reductor (en ausencia del actor, el reductor recibe el deseo directamente). <br></li><li>  NewsPublisher: se llama cuando Wish se convierte en cualquier efecto que produce el resultado como un nuevo estado.  En base a estos datos, decide si crear Noticias. <br></li><li>  PostProcessor: tambi√©n llamado despu√©s de crear un nuevo Estado y tambi√©n sabe qu√© efecto llev√≥ a su creaci√≥n.  Lanza ciertas acciones adicionales (Acciones).  Acci√≥n: estos son "Deseos internos" (por ejemplo, borrar el cach√©) que no se pueden iniciar desde el exterior.  Se ejecutan en el Actor, lo que conduce a una nueva cadena de Efectos y Estados. <br></li><li>  Bootstrapper es un componente que puede ejecutar acciones por s√≠ solo.  Su funci√≥n principal es inicializar Feature y / o correlacionar fuentes externas con Action.  Estas fuentes externas pueden ser Noticias de otra Caracter√≠stica o datos del servidor que deber√≠an modificar el Estado sin la intervenci√≥n del usuario. <br></li></ul><br><br>  El diagrama puede parecer simple: <br><img src="https://habrastorage.org/webt/mi/ed/e-/miede-fbfldwuqzgreeogizadww.png"><br><br>  o incluir todos los componentes adicionales anteriores: <br><img src="https://habrastorage.org/webt/0l/qy/my/0lqymyebiyer8saxybkbw_jzgdw.png"><br><br>  La funci√≥n en s√≠ misma, que contiene toda la l√≥gica de negocios y est√° lista para usar, no parece m√°s f√°cil: <br><br><img src="https://habrastorage.org/webt/gt/p2/ww/gtp2wwiqcxsrvavsrndirvt0_dg.png"><br><br><h2>  Que mas </h2><br>  Feature, la piedra angular del marco, funciona a nivel conceptual.  Pero la biblioteca tiene mucho m√°s que ofrecer. <br><br><ul><li>  Dado que todos los componentes de Feature son deterministas (con la excepci√≥n de Actor, que no es completamente determinista porque interact√∫a con fuentes de datos externas, pero incluso con eso, la rama que ejecuta est√° determinada por los datos de entrada, y no por las condiciones externas), cada uno de ellos puede estar envuelto en Middleware.  Al mismo tiempo, la biblioteca ya contiene soluciones preparadas para el registro y la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">depuraci√≥n de viajes en el tiempo</a> . </li><li>  Middleware es aplicable no solo a Feature, sino tambi√©n a cualquier otro objeto que implemente la interfaz Consumer &lt;T&gt;, lo que la convierte en una herramienta de depuraci√≥n indispensable. </li><li>  Cuando utilice un depurador para depurar mientras se mueve en la direcci√≥n opuesta, puede implementar el m√≥dulo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">DebugDrawer</a> . </li><li>  La biblioteca incluye un complemento IDEA que se puede usar para agregar plantillas para las implementaciones m√°s comunes de Feature, lo que ahorra mucho tiempo. </li><li>  Hay clases auxiliares para admitir Android, pero la biblioteca en s√≠ no est√° vinculada a Android. </li><li>  Existe una soluci√≥n lista para vincular componentes a la interfaz de usuario y entre s√≠ a trav√©s de una API primaria (esto se discutir√° en el pr√≥ximo art√≠culo). </li></ul><br>  Esperamos que pruebe nuestra <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">biblioteca</a> y su uso le brinde tanta alegr√≠a como a nosotros: ¬°es su creaci√≥n! <br><br><blockquote>  ¬°Los d√≠as 24 y 25 de noviembre, puedes probar suerte y unirte a nosotros!  Realizaremos un evento de contrataci√≥n m√≥vil: en un d√≠a ser√° posible pasar por todas las etapas de selecci√≥n y recibir una oferta.  Mis colegas de los equipos iOS y Android vendr√°n a comunicarse con los candidatos en Mosc√∫.  Si eres de otra ciudad, Badoo incurre en gastos de viaje.  Para obtener una invitaci√≥n, realice <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">la</a> prueba de detecci√≥n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en el enlace</a> .  Buena suerte </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es429728/">https://habr.com/ru/post/es429728/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es429716/index.html">Los 5 mejores juegos de PC para aprender ingl√©s</a></li>
<li><a href="../es429718/index.html">¬°Quiero todo de una vez! Estudiamos el RAM HyperX Predator DDR4 RGB, con una frecuencia de 4000 MHz</a></li>
<li><a href="../es429720/index.html">C√≥mo un desarrollador novato para sobrevivir en una entrevista y no volverse loco en el trabajo</a></li>
<li><a href="../es429722/index.html">C√≥mo realizamos el pago a trav√©s de Google Pay en Yandex.Cash [actualizado]</a></li>
<li><a href="../es429724/index.html">Revisi√≥n √∫til 28 libros que influyeron en mi pensamiento, inspiraron o mejoraron</a></li>
<li><a href="../es429732/index.html">Vas a odiar esto o una historia sobre lo bien que deber√≠a verse el c√≥digo</a></li>
<li><a href="../es429734/index.html">El sue√±o de volar con un sesgo el√©ctrico.</a></li>
<li><a href="../es429736/index.html">Hogweed de Sosnowski. En MO introdujo multas por distribuci√≥n</a></li>
<li><a href="../es429738/index.html">Disposici√≥n √≥ptima de fragmentos en el c√∫mulo de petabytes Elasticsearch: programaci√≥n lineal</a></li>
<li><a href="../es429744/index.html">Aprende OpenGL. Lecci√≥n 6.4 - IBL. Exposici√≥n especular</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>