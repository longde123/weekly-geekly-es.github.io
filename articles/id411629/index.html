<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§• ğŸ‘©ğŸ¾â€âœˆï¸ ğŸ· Bagaimana kami memulihkan jadwal bus antarkota ğŸ“¹ ğŸ‘¨ğŸ½â€ğŸ« ğŸ‘©ğŸ½â€ğŸ’»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Seperti di semua pasar normal, tiket bus telah dijual online selama beberapa tahun sekarang. Tidak perlu mengantri di meja kas stasiun bus untuk mener...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bagaimana kami memulihkan jadwal bus antarkota</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tuturu/blog/411629/"><img src="https://habrastorage.org/webt/zq/0q/cb/zq0qcbx7jnixdqezvc2pwx3doqs.jpeg"><br><br>  Seperti di semua pasar normal, tiket bus telah dijual online selama beberapa tahun sekarang.  Tidak perlu mengantri di meja kas stasiun bus untuk menerima tanda terima.  Di Rusia, hingga 60% rute (pada hari yang lebih baik, perkiraan agak kabur dengan mempertimbangkan penerbangan abu-abu) dapat dibeli secara online.  Termasuk kita, Tutu. <br><br>  Hal pertama yang kami inginkan adalah menghapus jadwal secara online juga dan memungkinkan untuk membeli tiket dalam beberapa klik.  Kami terbiasa memecahkan masalah seperti itu, dan entah bagaimana kami memakan anjing di transportasi kereta api.  Sekilas bus tidak terlihat terlalu rumit.  Ini hanya bisnis - untuk bernegosiasi dengan sistem otomasi stasiun bus, menurunkan penerbangan mereka melalui API dan menyisir sedikit. <br><br>  <b>Pekerjaan mudah, kata mereka.</b>  Sebuah proyek selama beberapa hari, kata mereka. <br><br>  Kesalahpahaman kami: <br><br>  1. Semua stasiun bus di negara ini terotomatisasi. <br>  2. Oke, sebagian besar otomatis. <br>  3. Akuntansi di notebook tidak dilakukan di tempat lain. <br>  4. Oke, tapi selalu ada cara untuk mengetahui jadwal dari jarak jauh. <br>  5. Mereka yang otomatis menunjukkan rute yang sama secara merata. <br>  6. Oke, setidaknya mereka yang diotomatisasi oleh sistem yang sama menunjukkan rute yang sama. <br>  7. Oke, di mana tidak ada otomatisasi, setidaknya ada jadwal. <br>  8. Yah, pasti ada jadwal, karena tanpanya hanya traffic ilegal! <br>  9. Lalu lintas ilegal tidak cukup. <br>  10. Oke, ada kurang dari 10% dari pasar. <br>  11. Tiket dapat dibeli di sana dan kembali. <br>  12. Tidak ada rute satu arah. <br>  13. Yah, setidaknya bus akan kembali!  Sekali waktu ... <br>  14. Tidak dapat meninggalkan 300 bus ke kota lain dalam setahun dan tidak kembali. <br>  15. Berhenti memiliki nama unik yang berbeda. <br>  16. Tidak akan ada masalah dengan penghentian yang disebut "Putar" atau "Mengisi Bahan Bakar". <a name="habracut"></a><br>  17. Berhenti dalam wilayah tersebut memiliki nama yang berbeda. <br>  18. Tidak akan ada masalah dengan berhenti dengan nama "Rute". <br>  19. Berhenti di dalam kota memiliki nama yang berbeda. <br>  20. Sebuah perhentian hanya dapat memiliki satu nama. <br>  21. Oke, tidak lebih dari lima nama alias. <br>  22. Alias â€‹â€‹ini juga cukup unik. <br>  23. Dalam hal apa pun, pemberhentian dalam dokumen resmi memiliki koordinat. <br>  24. Oke, pemberhentian setidaknya ditunjukkan dengan kota / wilayah. <br>  25. Ketika ada jadwal pemberhentian, diketahui dari mana datangnya dan ke mana bus akan pergi. <br>  26. Oke, ini selalu dapat ditemukan dari dokumen. <br>  27. Sialan, setidaknya ada jadwal untuk pemberhentian tertentu! <br>  28. Rute kota A - kota B adalah dari pusat ke pusat. <br>  29. Yah, setidaknya dia mengarah ke kota B. <br>  30. Ya, setidaknya sekali dia menuju ke kota B. <br>  31. Bus tidak dapat mengambil dan menghilang di tengah rute. <br>  32. Satu penerbangan pada satu waktu tertentu = satu bus. <br>  33. Bus tidak bisa bergerak lebih cepat dari 120 kilometer per jam. <br>  34. Pusat kota adalah titik yang bisa dimengerti. <br>  35. Oke, ini setidaknya stasiun bus utama. <br>  36. Oke, ini setidaknya semacam stasiun bus. <br>  37. Oke, setidaknya di kota. <br>  38. Tidak mungkin bahwa jadwalnya adalah satu, tetapi respon dari sistem stasiun untuk penerbangan tertentu berbeda. <br>  39. Jika Anda dapat membeli tiket di sana, maka pada saat kedatangan Anda dapat membeli pengembalian. <br>  40. Biaya tiket pulang pergi sama. <br>  41. Yah, mereka tidak dapat membedakan harga setengahnya. <br><br>  Ini yang utama.  Setiap hari kami melengkapi daftar ini dengan hal-hal kecil yang baru.  Sekarang mari kita bicara sedikit lagi.  Pada awalnya - tentang dasar-dasar, penerbangan resmi. <br><br><h3>  Apa itu penerbangan abu-abu? </h3><br>  Ada kereta api yang berbeda di kereta api dan berbagai operator dan kereta cukup aktif bersaing satu sama lain.  Tetapi ketika Anda membeli tiket, Anda akhirnya membelinya dalam satu jendela, karena infrastrukturnya jatuh ke Rusia Railways.  Rel mereka adalah standar mereka, mereka tidak akan bisa runtuh. <br><br>  Sudah ada urutan besarnya lebih banyak operator dalam penerbangan, tetapi ada node besar - bandara, standar umum dan sistem informasi tunggal (lebih tepatnya, beberapa), di mana ada pengidentifikasi unik dasar untuk setiap node. <br><br>  Informatisasi telah datang ke bus sejak lama, tetapi pasar, dalam hal IT, mirip dengan platipus.  Ini adalah seribu stasiun bus dan sepuluh ribu operator.  Ya, ada kelompok besar seperti Mostransavto, tetapi ada juga IP dengan satu bus berkarat.  Bahkan stasiun bus kecil di desa memiliki standar sendiri. <br><br>  Dan yang paling lucu: jika tidak ada transportasi ilegal di kereta api dan di udara, maka pasar bus sebagian besar masih "abu-abu".  Saya sedang berbicara tentang "berhenti di sebuah pos dekat stasiun bus" untuk menjemput lebih banyak penumpang, dan tentang minibus pada layanan sesama pelancong, misalnya. <br><br>  Jika kondektur gerbong kereta mengambil penumpang untuk mendapat uang tunai dari stasiun dan menempatkan mereka di kompartemennya - ini, tentu saja, merupakan transportasi abu-abu.  Tapi penerbangan itu sendiri bukan "abu-abu."  Dan dalam transportasi bus, rute dan jadwal penting.  Jika Anda naik bus dan membawa penumpang ke suatu tempat di dalamnya, maka ini adalah penerbangan satu kali yang dibuat khusus (mencarter bus, sesuatu seperti piagam tempat daftar penumpang diketahui sebelumnya), atau transportasi non-komersial (bus ke pusat perbelanjaan atau bus ke kantor) dari kereta bawah tanah). <br><br>  Dapatkan teman di Gazelle dan berkendara ke pondok - Anda tidak punya hak untuk menjual tiket.  Atau membayar denda sekitar 200 ribu rubel dari pengangkut badan hukum. <br><br>  Penerbangan "abu-abu" adalah sesuatu yang tampak seperti yang dipesan, tetapi tidak (penjualan tiket ilegal), atau hanya perjalanan tanpa dokumen dengan penumpang, yang secara logis harus gratis, tetapi pada kenyataannya pengemudi mengumpulkan uang untuk tiket dan tidak mengeluarkan dokumen pendukung. <br><br>  Dan penerbangan "abu-abu" juga dapat diimplementasikan menggunakan infrastruktur stasiun bus, meskipun dalam beberapa kali ini ada lebih sedikit kasus seperti itu.  Ini terjadi ketika penumpang mendarat secara legal, tetapi turun di tempat pemberhentian ilegal. <br><br>  Jika sesuatu terjadi pada Anda selama penerbangan abu-abu, ini adalah masalah Anda.  Dalam kasus resmi, ini adalah masalah operator.  Perlu dicatat bahwa jadwal operasi dan waktu luang pembawa abu-abu tidak diatur.  Juga, pengemudi "kelabu" tidak menjalani pemeriksaan medis pra-perjalanan. <br><br><h3>  Apa itu "pembelian tiket online"? </h3><br>  Ketika Rusia dengan berani memasuki era digital, tangan pasar yang tidak kasat mata menunjukkan bahwa perlu untuk menjual tiket secara online.  Lebih mudah ke stasiun bus. <br><br>  Namun, karena pasar terfragmentasi, sebagai suatu peraturan, entitas berikut berperan - agregator.  Ada beberapa sistem tiket utama dan puluhan yang lebih kecil.  Dan stasiun bus dapat memperoleh sistem informasinya sendiri dan mencoba mengubah data dari yang besar. <br><br>  Tiga pemain otomatisasi terbesar di Rusia adalah E-traffic, KVC dan Avibus.  Mereka mengotomatisasi stasiun bus dan memungkinkan Anda untuk membuka API untuk agregator, jika stasiun bus atau operator tidak keberatan.  Melalui sistem mereka, Anda dapat mencapai tiket stasiun bus atau operator.  Misalnya, Bus Negara Besar memberi kita akses langsung ke rute mereka - ini adalah bagaimana pekerjaan dibangun langsung dengan pemain terbesar.  Tetapi dengan para pengusaha yang membeli bus di tahun 80-an dan bepergian, itu tidak akan berhasil seperti itu.  Atau ada operator yang bekerja dengan baik selama 40 tahun tanpa Internet Anda dan tidak mengerti mengapa itu diperlukan sama sekali.  Dengan segala upaya untuk mengumpulkan semuanya menjadi satu asosiasi (izinkan saya mengingatkan Anda, ini adalah puluhan ribu badan hukum dan pengusaha perorangan), mereka semua dengan ramah dan tulus bertanya-tanya mengapa ini perlu. <br><br>  Kami bekerja secara khusus dengan operator kecil melalui agregator yang mengumpulkan penerbangan mereka di tingkat stasiun bus keberangkatan. <br><br>  Rem utama berikutnya di pasar adalah persyaratan untuk mencetak tiket (lebih tepatnya, kwitansi rute).  Anda dapat turun ke kereta dengan registrasi elektronik hanya dengan paspor di tangan Anda.  Anda akan dicetak tiket pesawat di mana-mana di bandara sebelum naik.  Tetapi di bus - cari printer, stasiun bus tidak selalu menyediakan layanan seperti itu.  Untungnya, di sini kertas harus dikalahkan sama seperti dikalahkan di jalan kereta api.  Seiring waktu. <br><br><h3>  Sekarang darah dan air mata </h3><br>  Sistem otomasi, bahkan yang terbesar, bekerja sangat lokal.  Artinya, mereka mengotomatiskan kota, paling-paling daerah.  Kemudian, jika mungkin, pergi ke yang tetangga. <br>  Oleh karena itu, semua sistem menggunakan struktur geodata yang sangat sederhana (atau tidak digunakan sama sekali).  Mungkin tidak ada parameter seperti itu di halte, karena koordinat, wilayah / wilayah / wilayah juga paling sering tidak ada. <br><br>  Ini berarti bahwa segera setelah Anda mencampur data dari dua sistem, misalnya, sehingga Anda dapat membeli tiket pulang-pergi pada rute antar-daerah, Anda perlu membawa semua data di pemberhentian ke satu formulir. <br><br>  Akibatnya, kami harus menulis geobase kami sendiri dengan struktur dan kumpulan data yang benar.  Sebagai dasar, mereka mengambil OpenStreetMap. <br><br>  Objek geo dari sistem terintegrasi sudah dibandingkan dengan objek geo dari database utama dan mencoba melampirkannya.  Dalam sistem terintegrasi, ada banyak halte seperti "Track", "Turn", dll., Yang pada kenyataannya, merupakan bagian dari rute.  Nama-nama seperti Aleksandrovka, Mikhaylovka, dll., Selalu mengejutkan, karena ada puluhan dan bahkan ratusan desa seperti itu di Rusia. <br><br>  Tapi kami adalah ahli matematika!  Solusi: sesuaikan mesin, yang akan membangun hipotesis tentang di mana bus akan memiliki waktu untuk mendapatkan antara titik yang sudah diketahui (terlampir) dari rute - yang mana Mikhailovka?  Mungkin ternyata itu tidak mungkin.  Ngomong-ngomong, ini berarti entah entah yang tidak diketahui disembunyikan di sana, atau itu adalah Mikhailovka 20 tahun yang lalu, atau yang lainnya.  Anda perlu menelepon dan bertanya kepada penduduk setempat. <br><br>  Lebih jauh lebih menarik.  Tidak semua sistem mengirim data pada halte, dan penumpang mungkin tidak tahu di mana ia tiba atau di mana bus pergi.  Dalam sistem yang berbeda, pemberhentian yang sama disebut secara berbeda.  Terkadang poin ditandai sebagai titik material, dan ini penting, misalnya, jika seorang penumpang membeli tiket ke kota, dan bus berhenti di jalan raya di pinggiran kota dan terus berjalan.  Dari sudut pandang sistem informasi, sebuah kota dapat menjadi satu objek, dan satu penumpang lainnya 10 kilometer dengan berjalan kaki. <br><br>  Dengan susah payah, kami telah menerima dan terus menerima data yang diperlukan.  Pada tahap yang sama, di kota-kota di mana tidak ada otomatisasi, kami meminta orang untuk membantu - mengirim foto selembar kertas dari stasiun bus.  Kemudian, kertas-kertas ini memainkan peran yang sangat penting: kami memeriksa keakuratan hipotesis yang menggunakannya, misalnya, tentang perpindahan bus secara terbalik. <br><br>  Ya!  Gerakan terbalik sering kali merupakan tugas memulihkan rute.  Karena A - B adalah satu rute dari satu daerah, dan B - A adalah rute lain dari daerah lain.  Dan mereka dapat berada di sistem informasi yang berbeda.  Dan tiket untuk mereka dijual di stasiun yang berbeda.  Dan jadwal tidak diketahui di box office, tetapi pengemudi tahu. <br><br>  Hipotesisnya adalah bahwa secara matematis dimungkinkan untuk memprediksi pergerakan bus di sepanjang rute, berdasarkan gagasan bahwa bus kadang-kadang kembali ke rumah dan jumlah mereka pada rute itu terbatas.  Secara umum, ini ternyata benar.  Secara umum, karena ada situasi di mana bus berangkat ke kota lain, kemudian menghilang selama beberapa minggu (tampaknya, di rute lain), dan kemudian tiba-tiba menemukan dirinya di kota awal.  Itu hanya jadwal membantu menangkap kasus-kasus seperti itu. <br><br>  Masih perlu merekatkan penerbangan.  Karena dalam sistem yang berbeda penerbangan yang sama juga dapat diperhitungkan dengan cara yang berbeda.  Dan bahkan pergi pada waktu yang sedikit berbeda.  Akibatnya, empat penerbangan dapat masuk ke jadwal pada pukul 20:00, misalnya.  Kami harus menulis mekanisme seperti hash perceptual - membandingkan penerbangan dari sistem yang berbeda berdasarkan parameter 4-5.  Skema serupa diperlukan untuk memasangkan penerbangan A - B - C - terkadang ini adalah satu penerbangan aktual, tetapi dua dalam sistem informasi. <br><br><h3>  Jadwalkan Perubahan </h3><br>  Dibandingkan dengan kereta listrik favorit kami, di mana semuanya otomatis seratus kali, tetapi juga sering berubah, bus berubah jauh lebih jarang.  Karena untuk ini, Anda perlu menyetujui peta rute baru dan waktu perjalanan.  Prosedur untuk memperbarui jadwal cukup sederhana, cache pencarian juga tidak terlalu rumit - setidaknya menghangat. <br><br><h3>  Apa yang terjadi </h3><br><img src="https://habrastorage.org/webt/sp/iz/o2/spizo2_fx6ftwn4sbamfkut4dig.png"><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Jadwal bus Rostov-on-Don - Moscow</a></i> <br><br>  Sekarang kami memiliki kesempatan untuk menunjukkan kepada pengguna informasi penerbangan dan kemampuan untuk membeli tiket bus di suatu tempat di 40-50% dari perjalanan bus yang melintasi Rusia.  Dalam 50-60% pengguna tidak menemukan informasi tentang penerbangan yang tersedia (meskipun mereka benar-benar pergi, dan kami diberitahu bahwa mereka pergi).  Oleh karena itu, kami memutuskan untuk mengambil jalan penutupan setidaknya kebutuhan dasar untuk informasi, sambil memperluas bermacam-macam untuk membeli tiket. <br><br>  Kami dapat memulihkan rute dengan tingkat kesalahan yang sama dengan perbedaan yang biasa terjadi pada lalu lintas kendaraan. <br><br>  Kami mendapatkan basis data yang besar untuk semua penerbangan, seperti yang kami lakukan dengan kereta dan pesawat.  Ini memungkinkan Anda untuk memahami dengan sangat jelas fitur-fitur dari setiap rute, bus, dan kejutan apa yang bisa diharapkan penumpang. <br><br>  Dan di sini lebih lanjut tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">bagaimana bus bekerja di Rusia secara umum.</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id411629/">https://habr.com/ru/post/id411629/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id411613/index.html">Clash of the Titans: membandingkan pembaca andalan PocketBook 740 dan Amazon Kindle Oasis 2017</a></li>
<li><a href="../id411617/index.html">Sistem Media untuk Toyota Prius (Restayl)</a></li>
<li><a href="../id411621/index.html">SpaceX akan membangun Big Fucking Rocket di Los Angeles</a></li>
<li><a href="../id411623/index.html">Para ilmuwan telah menciptakan enzim yang memecah plastik</a></li>
<li><a href="../id411625/index.html">Radio-86RK pada ESP-01S</a></li>
<li><a href="../id411631/index.html">Telegram di Rusia mungkin diblokir karena rencana Durov untuk meluncurkan mata uang kripto sendiri</a></li>
<li><a href="../id411633/index.html">Kehamilan ibu, persalinan dan kesehatan matanya</a></li>
<li><a href="../id411635/index.html">Microsoft telah membuka kode sumber Manajer File</a></li>
<li><a href="../id411637/index.html">Beberapa miliar tahun yang lalu, kuman planet itu hancur di tata surya.</a></li>
<li><a href="../id411639/index.html">Para ilmuwan telah mengembangkan teknologi untuk produksi graphene in rolls</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>