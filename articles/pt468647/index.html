<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍⚖️ #⃣ 🏭 Música arriscada em uma antiga impressora de linha de mainframe IBM 💪🏼 🚦 🙋🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recentemente, em nosso Museu de História da Computação, adquirimos um conjunto de cartões perfurados para um programa de música de computador com 50 a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Música arriscada em uma antiga impressora de linha de mainframe IBM</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468647/">  Recentemente, em nosso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Museu de História da Computação,</a> adquirimos um conjunto de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">cartões perfurados</a> para um programa de música de computador com 50 anos de idade.  A maioria dos computadores não tinha placas de som na época, mas programadores criativos encontraram maneiras de fornecer música usando impressoras lineares.  Estávamos um pouco preocupados com o fato de esse programa danificar a impressora, mas ainda assim arriscávamos executá-lo no antigo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">mainframe</a> IBM 1401. Como seria de esperar, a música tocada pela impressora linear soa horrível - mas você pode perceber a melodia e a impressora não está machucada. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Lu4SxJqU9I4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  O computador comercial IBM 1401 foi lançado em 1959 e se tornou o computador mais vendido em meados da década de 1960 - mais de 10.000 desses sistemas foram entregues.  A principal vantagem competitiva da IBM 1401 era a impressora de linha de alta velocidade IBM 1403. A cadeia de caracteres de rotação rápida permitiu que a impressora imprimisse 10 linhas por segundo com excelente qualidade - era considerada a melhor qualidade antes das impressoras a laser aparecerem na década de 1970. <br><a name="habracut"></a><br><img src="https://habrastorage.org/getpro/habr/post_images/5c0/93b/385/5c093b385f5e1ad7f53ab1c76a0f57a9.jpg"><br>  <i>O circuito impresso da impressora é 1401. Possui 48 caracteres diferentes, que são repetidos 5 vezes.</i> <br><br>  As impressoras de linha eram muito barulhentas, mas os programadores logo descobriram que, ao imprimir certas linhas de caracteres a partir do ruído, determinadas frequências podiam ser extraídas.  Foi possível tocar uma nota imprimindo as linhas necessárias.  Na região de 1970, o especialista em ciência da computação <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Ron Mack</a> codificou várias músicas em cartões perfurados usando o programa de música existente.  Recentemente, ele se deparou com seus programas antigos e nos deu a oportunidade de testá-los. <br><br><h2>  Como uma impressora linear funciona </h2><br>  Para imprimir caracteres, a impressora usa uma cadeia de links com caracteres que giram em alta velocidade oposta ao papel e há uma fita de tinta entre o papel e a corrente.  A impressora produz linhas de 132 colunas - ou seja, cada coluna possui seu próprio martelo e eletroímã.  No momento certo, quando o símbolo desejado passa do martelo, o eletroímã pressiona o martelo contra o papel, e o papel junto com a fita atinge o link, imprimindo o símbolo. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6b4/47a/7ad/6b447a7ad4818270a47ef4bb16ecb9af.png"><br>  <i>Mecanismo de impressão de impressora linear IBM 1401 (das instruções)</i> <br><br>  Para que esse processo funcione, a impressora precisa calcular cuidadosamente o tempo de operações.  A corrente gira a uma velocidade de 2,3 m / s, e a cada 11,1 μs o próximo elo fica em frente ao martelo.  O circuito de controle mal tem tempo suficiente para ler a localização desse símbolo na memória principal, compará-lo com o símbolo localizado sob o martelo e bater no martelo em caso de coincidência.  Por 132 intervalos de tempo, cada martelo tem a capacidade de imprimir um caractere;  isso é chamado de "varredura".  Como existem 48 caracteres no conjunto (sem letras maiúsculas), para imprimir todos os caracteres em qualquer coluna, é necessário repetir esse processo 48 vezes.  Para cada varredura, a cadeia é deslocada apenas por uma largura de caractere. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/457/a3f/03f/457a3f03f14b53f63d2ebc988da6fffa.jpg"><br>  <i>O conjunto de martelos da impressora IBM 1403. Abaixo estão os pontos de impacto de 132 martelos (um por coluna).</i>  <i>No topo estão as bobinas e os fios de 33 dos 132 martelos.</i> <br><br>  Na parte inferior da foto, um martelo é mostrado.  Acima, à esquerda, há uma bobina eletromagnética e fios.  Tivemos que substituir este martelo depois que a bobina foi superaquecida e defumada - a foto mostra sua área enegrecida (isso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aconteceu há muito tempo</a> e não está relacionado à música). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b98/50c/dc7/b9850cdc75f7f57cba67f6901a37d531.jpg"><br><br><h2>  Geração de música </h2><br>  Tendo entendido como a impressora funciona, cujo martelo tem a capacidade de operar a cada 11,1 μs, será mais fácil entender a estratégia de obtenção de música.  Imprimindo texto cuidadosamente selecionado, você pode controlar o tempo de resposta dos martelos.  Se os martelos forem acionados em determinados intervalos, será possível criar as frequências necessárias.  Por exemplo, uma nota la (440 Hz) pode ser obtida imprimindo uma linha de texto para que os tacos funcionem a cada 1/440 de segundo.  Isso pode ser alcançado digitando 1 na 1ª coluna (primeiro martelo), depois # na 14ª coluna na próxima varredura, uma vírgula na 30ª coluna e assim por diante.  A seguir, é apresentada a linha inteira que você precisa imprimir para criar uma anotação.  Você pode se surpreender ao constatar que, com apenas 48 posições, o conjunto de caracteres inclui ocorrências estranhas como ⌑ e ‡. <br><br><pre><code class="plaintext hljs">1 ⌑YC# 0 Q 3, ‡FRT 4 - , IU $7 MV . * 9N ⌑ ZE @ P3</code> </pre> <br>  O diagrama abaixo mostra a distribuição temporal dos martelos, uma frequência uniforme de 440 Hz, dada pela linha de caracteres especificada.  O eixo x representa o tempo; cada caractere impresso é marcado com barras vermelhas.  As faixas vermelhas são distribuídas uniformemente, a uma distância de 1/440 segundo, o que dá uma nota a 440 Hz.  Cada barra é marcada com um símbolo associado e uma coluna na página.  Observe que os caracteres não são impressos na ordem em que aparecem na linha.  Não existe uma relação simples entre a organização dos caracteres em uma sequência e a sequência de tempo.  Algumas linhas cinza são mostradas onde o martelo deveria ter funcionado, mas o símbolo está ausente.  Neste ponto, a rede está sincronizando, portanto, não pode imprimir. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/996/72c/fdd/99672cfdd084fcda9658e18bba498667.png"><br>  <i>Diagrama de distribuição de tempo para a nota la.</i> <br><br>  Digitando outra linha, você pode gerar outra nota.  Abaixo está uma nota de si, 987 Hz (mais de uma oitava acima).  Como esperado, mais notas requerem mais caracteres: <br><br><pre> <code class="plaintext hljs">1 @EQ4S J 8. ND ‡ SH 7 AM Y#2 G- KV . 0 DQSJ 7&amp; ND ‡/4 H AMX0 2 QGJ W. 0 DP‡ S 7&amp;AM ‡/4G * MX0 D 3</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/962/d4e/7b9/962d4e7b949eaa63e09a630c029e7f34.png"><br>  <i>Diagrama de distribuição de tempo para as notas s.</i> <br><br>  A seguir, uma linha para uma nota nítida (138 Hz).  No começo, não estava claro para mim por que essa nota exige a impressão de uma sequência em que todos os caracteres são reunidos em uma pilha e não dispersos, como outras notas.  Acontece que 138 Hz coincidem com os martelos seguidos.  E embora os personagens estejam próximos um do outro, eles são distribuídos igualmente ao longo do tempo. <br><br><pre> <code class="plaintext hljs">16#UZKP*E&amp;38</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/db6/cdc/22d/db6cdc22d0f0479e85dd63021401a067.png"><br>  <i>Diagrama de distribuição temporal para uma nota nítida.</i> <br><br><h2>  Qual é o risco da música em cadeia </h2><br>  Estávamos preocupados que este programa de música pudesse danificar nossa impressora.  Há muitas histórias sobre como as pessoas quebraram as impressoras imprimindo uma linha que faz todos os martelos funcionarem ao mesmo tempo.  Penso que estas são principalmente lendas urbanas (1403 marretas disparam por sua vez).  No entanto, estávamos preocupados que a música em cadeia pudesse sobrecarregar a cadeia da impressora e que ela quebrasse.  A foto abaixo mostra uma corrente quebrada durante o uso normal;  fios rasgados e links individuais são visíveis. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7de/8e0/2b6/7de8e02b6e899e6b165af2c896f8f23d.jpg"><br><br>  Uma corrente para a impressora foi feita trançando um fio fino em uma fita e prendendo blocos com letras.  Até recentemente, essas cadeias eram raras e não podiam ser substituídas;  se o fio estivesse rasgado, era impossível consertá-lo.  No entanto, o Museu Techworks!  de Binghamton recentemente criaram uma maneira de restaurar circuitos impressos.  Portanto, nosso rei na IBM 1401, Frank King, aprovou com relutância o uso da cadeia restaurada para tocar música.  Felizmente, a cadeia sobreviveu perfeitamente à geração musical.  Depois de estudar o programa de música, cheguei à conclusão de que ele sobrecarrega o circuito muito menos que a impressão comum, a menos que, é claro, uma ressonância particularmente infeliz surja nele. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ead/4d7/f19/ead4d7f19df91786de33147d4a2821cf.jpg"><br>  <i>Circuito impresso (de cabeça para baixo) a curta distância</i> <br><br><h2>  O programa </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/e51/dcf/25a/e51dcf25a830d8db6eb958ef842d0518.jpg"><br><br>  O código fonte do programa caiu no esquecimento por muito tempo, então desmontei os <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">códigos de máquina</a> dos cartões para entender como ele funciona ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">listo a lista</a> separadamente).  Primeiro, ele lê os "cartões de frequência" que determinam qual linha imprimir para qual nota.  Ele cria na memória uma matriz de linhas para impressão, juntamente com uma tabela com os nomes das notas e os endereços das linhas para impressão.  Em seguida, o programa lê as notas das músicas, uma nota por cartão (a foto mostra que, para algumas músicas, você precisa usar muitos cartões).  Para cada nota, o programa procura a linha correspondente para imprimir na tabela.  Imprime uma linha quantas vezes for necessário, dependendo do tamanho da nota.  Cumpre ainda um ciclo de silêncio, de 200 a 2000 vezes. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/943/167/302/943167302a35c098d55e4e0f1b468a93.jpg"><br>  <i>Cartões perfurados com o código de máquina do programa de música.</i>  <i>Por alguma razão, o conteúdo de cada cartão é impresso duas vezes.</i> <br><br>  O código da máquina 1401 é muito diferente dos computadores modernos.  Uma das diferenças é que o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">código</a> anteriormente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">modificado</a> anteriormente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">era</a> usado com freqüência, mas hoje essas práticas são condenadas.  Por exemplo, uma tabela de linhas para impressão é criada alterando as instruções de carregamento, onde o campo de endereço é alterado.  Mesmo retornos de rotinas usam código auto-modificável, colocando o endereço de retorno na instrução jmp no final da rotina.  Para processar uma anotação, o programa em tempo real gera uma sequência de três instruções para carregar uma linha, acessar o código de impressão e retornar ao loop principal.  O código de modificação automática dificultou a compreensão do programa, pois o código desmontado não corresponde ao que realmente foi executado. <br><br>  Atrás dos cartões com o programa há cartões de frequência que definem as linhas de cada nota.  O código suporta até 20 notas diferentes; portanto, os cartões de frequência foram selecionados para cada música separadamente.  Cada linha de 132 caracteres é dividida em dois cartões, o primeiro dos quais determina o lado direito da linha.  O nome da nota e a frequência são impressos em cada cartão no canto direito. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1a8/e73/f59/1a8e73f594c802949e54dbad28338667.jpg"><br>  <i>Cartões de frequência</i> <br><br>  O conjunto final de cartas cria uma melodia e cada nota (ou lacuna) tem seu próprio cartão.  Cada cartão tem uma nota e duração impressas.  Uma melodia longa pode envolver centenas de cartões.  É fácil salvar uma nova melodia nos cartões - você só precisa fazer anotações nos cartões.  As notas são indicadas no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sistema de notação americano</a> , onde o nome da nota é seguido por um número de oitava.  Por exemplo, C4 é a média de.  Como apenas alguns circuitos impressos têm o símbolo #, os objectos cortantes são indicados pela letra S, ou seja, CS em vez de C #. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4be/a31/f72/4bea31f722125ec4107b875f3127712a.jpg"><br>  <i>Foto de um cartão com o close-up da melodia "Silver Bells".</i> <br><br><h2>  Conclusão </h2><br>  Tocamos música com êxito em uma impressora IBM 1403 executando programas que ninguém executava há quase 50 anos.  Embora a qualidade da música não tenha sido particularmente alta, ficamos felizes por a impressora não se autodestruir.  A última vez que Ron Mack lançou esses programas em 1970;  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://web.archive.org/web/20060206215721/">pelo link</a> você encontrará algumas músicas.  O vídeo abaixo mostra um trecho da Marselhesa;  Neste vídeo, você pode assistir a impressão de cada linha. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/EfSgdOuFA4s" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  O Museu de História da Computação de Mountain View exibe a IBM 1401 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">às quartas e sábados</a> ; portanto, se você estiver por perto, recomendo que você visite nossa exposição. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt468647/">https://habr.com/ru/post/pt468647/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt468635/index.html">Dichalcogenetos de metais de transição: desvendando os segredos do crescimento de cristais WS2</a></li>
<li><a href="../pt468637/index.html">Como lidar com grandes conjuntos de dados em pandas. Trabalhamos com o banco de dados FIAS usando python e 8 GB de memória</a></li>
<li><a href="../pt468639/index.html">Novidades nos consoles da web 2019</a></li>
<li><a href="../pt468641/index.html">Tutorial para criar solução Blockchain no Hyperledger Composer</a></li>
<li><a href="../pt468645/index.html">Duas páginas foram suficientes para provar a hipótese de 30 anos no campo da ciência da computação.</a></li>
<li><a href="../pt468653/index.html">Qual é a resolução do olho humano (ou quantos megapixels vemos em um determinado momento)</a></li>
<li><a href="../pt468657/index.html">Danças com apoio: tipos e formas de apoio. Sistemas de suporte trabalhando em batalha</a></li>
<li><a href="../pt468663/index.html">End2 End Approach em tarefas de reconhecimento automático de fala</a></li>
<li><a href="../pt468665/index.html">Mas é hora de comprar um irrigador?</a></li>
<li><a href="../pt468677/index.html">O anúncio do smartphone Xiaomi Mi Mix Alpha</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>