<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö° üòï üßëüèæ‚Äçü§ù‚Äçüßëüèº Rust en Microsoft (o la creaci√≥n de Security Daemon Azure IoT Edge) üëåüèº üåû üòß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nota del traductor: Rust es un lenguaje de programaci√≥n relativamente joven, y los ejemplos pr√°cticos siempre son interesantes en esta etapa de desarr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Rust en Microsoft (o la creaci√≥n de Security Daemon Azure IoT Edge)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469961/"><img src="https://habrastorage.org/webt/gz/ck/2z/gzck2zgrczfa79ezxn2blvh1sfq.png"><br><br>  <i>Nota del traductor: <b>Rust es un</b> lenguaje de programaci√≥n relativamente joven, y los ejemplos pr√°cticos siempre son interesantes en esta etapa de desarrollo.</i>  <i>Se sabe que Intel, Dropbox, Amazon, Facebook, Google y otros usan Rust en sus proyectos.</i>  <i>Se conoc√≠a el uso de Rust en el proyecto de Microsoft, pero no hab√≠a detalles, y esta es probablemente la primera publicaci√≥n oficial sobre el uso de Rust en Microsoft.</i>  <i>(los detalles t√©cnicos del producto en s√≠ se proporcionan "tal cual", especifique los detalles en el sitio web de la compa√±√≠a)</i> <br><br>  <b>Azure IoT Edge</b> es un proyecto de software multiplataforma de c√≥digo abierto creado por el equipo de desarrollo de Azure IoT en Microsoft.  Azure IoT Edge "es un servicio de Internet de las cosas basado en el Centro de Internet de las cosas.  Este servicio est√° destinado a clientes que necesitan analizar datos no en la nube, sino en dispositivos perif√©ricos.  Como resultado de trasladar parte de la carga de trabajo al √°rea fronteriza, los dispositivos pasan menos tiempo enviando mensajes a la nube y responden m√°s r√°pidamente a los eventos ".  <i>[tomado de la documentaci√≥n oficial en idioma ruso (1) - aprox.</i>  <i>traductor</i> <br><br>  Esta publicaci√≥n explica algunas de las razones por las que elegimos Rust como el lenguaje de programaci√≥n para implementar el componente Security Daemon en el producto. <br><a name="habracut"></a><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Security Daemon</a> carga el tiempo de ejecuci√≥n de Azure IoT Edge.  Act√∫a como mediador de la comunicaci√≥n entre el tiempo de ejecuci√≥n de Azure IoT Edge y muchos servicios de host, como el tiempo de ejecuci√≥n del contenedor y los dispositivos de hardware criptogr√°fico Security Security Modules (HSM) y Trusted Platform Modules (TPM). <br><br><h3>  Selecci√≥n t√©cnica de pila para Security Daemon </h3><br>  Cuando comenzamos a trabajar en Security Daemon (en adelante denominado <b>edgelet</b> ), identificamos los siguientes objetivos principales de dise√±o: <br><ul><li>  edgelet debe ser un componente nativo que no requiera un tiempo de ejecuci√≥n, como .NET CLR. </li><li>  dado que el edgelet servir√° como un canal para acceder al equipo HSM / TPM en el dispositivo, debe ser seguro. </li><li>  edgelet interactuar√° con el equipo HSM / TPM a trav√©s de la interfaz binaria de la aplicaci√≥n C (ABI), por lo que cargar objetos comunes / DLL y llamar a funciones C deber√≠a ser simple. </li></ul><br>  Seg√∫n estos puntos, tuvimos que elegir uno de los siguientes lenguajes de programaci√≥n: C o C ++, o Rust, que se compila en c√≥digo nativo.  La falta de voluntad para cargar los gastos generales del recolector de basura significaba que Go no era adecuado para nosotros.  Los requisitos de seguridad del demonio significaban que quer√≠amos evitar errores de memoria y concurrencia.  Al final result√≥ que, dadas estas limitaciones, Rust es perfecto para nosotros.  En una publicaci√≥n anterior (2) en este blog <i>[que significa el blog del Centro de Respuesta de Seguridad de Microsoft - traducci√≥n]</i> , se consideraron las ventajas de elegir Rust como lenguaje de programaci√≥n. <br><br><h3>  Que nos gust√≥ </h3><br>  Antes de lanzar Azure IoT Edge al p√∫blico, contratamos a un proveedor de seguridad externo para probar el software de penetraci√≥n.  El hecho de que no encontraron ning√∫n problema con la seguridad de la base del c√≥digo en Rust fue para nosotros una confirmaci√≥n de la correcci√≥n de nuestra elecci√≥n.  Desde el principio, decidimos que el compilador tratar√≠a todas las advertencias como errores, incluidos los errores verificados por clippy.  Nuestro sistema de integraci√≥n continua rechaza un conjunto de solicitudes que no pasan rustfmt, lo que garantiza un formato consistente del c√≥digo en toda la base del c√≥digo. <br><br>  El proceso de actualizaci√≥n del compilador Rust and Cargo <i>[sistema de montaje y gesti√≥n de paquetes - aprox.</i>  <i>traductor]</i> funciona a la perfecci√≥n en Azure IoT Edge.  La actualizaci√≥n a una nueva versi√≥n del compilador es casi siempre una acci√≥n indolora. <br><br><h3>  Aceptaci√≥n de √≥xido </h3><br>  El siguiente paso fue aprender el idioma.  En comparaci√≥n con otros lenguajes de programaci√≥n populares, Rust tiene un umbral de entrada bastante alto, y tem√≠amos qu√© impacto tendr√≠a este estudio en la l√≠nea de tiempo del proyecto.  Nuestro equipo ten√≠a desarrolladores experimentados en C, C ++, C # y Java, y afortunadamente para nosotros, ¬°tambi√©n hubo varios desarrolladores a quienes les apasionaba Rust! <br><br>  Se nos ocurrieron talleres de Rust en los que dirigimos un equipo sobre aquellas partes del lenguaje que, en nuestra experiencia, eran bastante dif√≠ciles de entender.  Estos consumos de tiempo resultaron ser muy √∫tiles.  Descubrimos que aprender un idioma termin√≥ no siendo un problema tan grande como imagin√°bamos. <br><br>  Durante 4-6 semanas, casi todos los miembros del equipo hicieron una contribuci√≥n no trivial al c√≥digo fuente en Rust. <br><br><h3>  Dificultades </h3><br>  A pesar de que nuestra primera experiencia de lanzar una producci√≥n con un producto basado en Rust en Microsoft fue completamente exitosa, habr√≠amos notado varios puntos dif√≠ciles: <br><ul><li>  El ecosistema de Rust es todav√≠a relativamente nuevo en comparaci√≥n con otros idiomas m√°s establecidos.  Esto significaba que a menudo ten√≠amos que crear partes de la infraestructura que, de lo contrario, probablemente no necesitar√≠amos crear. </li><li>  Analizar los mensajes de error del compilador a veces resultaba demasiado complicado, especialmente cuando se trabajaba con c√≥digo que utilizaba mucho los combinadores de Tokio (3) <i>[un marco as√≠ncrono para Rust]</i> Futures o std :: iter :: Iterator. </li><li>  Los equipos que est√°n acostumbrados a soportar completamente las herramientas de edici√≥n y depuraci√≥n de C # y el c√≥digo Java no encontraron el mismo soporte en Rust.  La extensi√≥n VS Code Rust RLS era inestable en la pr√°ctica. </li><li>  Desaf√≠os en el an√°lisis de la cadena futura de Tokio </li><li>  A veces no fue f√°cil clasificar los tipos complejos que inevitablemente surgen en las cadenas de combinaci√≥n de Tokio Future. </li></ul><br><br><h3>  Que sigue </h3><br>  Ser√≠a justo se√±alar aqu√≠ que Azure IoT est√° completamente integrado con el lenguaje de programaci√≥n Rust.  Desde que lanzamos Azure IoT Edge, el uso de Rust solo ha aumentado.  Muchos de los proyectos de servicios en la nube en los que actualmente se est√° trabajando activamente est√°n escritos en Rust.  La trinidad que ofrece Rust (seguridad de memoria, seguridad de carrera de datos y rendimiento) es perfecta para Azure IoT.  ¬°Esperamos tener algo m√°s que decir sobre esto en el futuro! <br><br>  <i>Raj Wengalil, Gerente General, SWE, Plataforma IoT</i> <br><br><h3>  Referencias </h3><br>  (1) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">docs.microsoft.com/en-us/azure/iot-edge</a> <br>  (2) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">msrc-blog.microsoft.com/2019/07/22/why-rust-for-safe-systems-programming</a> <br>  (3) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tokio.rs</a> <br><br>  De un traductor: gracias por la ayuda en la traducci√≥n de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">Legatus88</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">Funkill</a> , el grupo de telegramas en ruso Rust (@rustlang_ru), KDPV <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">desde aqu√≠</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/469961/">https://habr.com/ru/post/469961/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../469945/index.html">¬øEs importante que las computadoras y las personas vean el mundo de manera diferente?</a></li>
<li><a href="../469947/index.html">Peque√±as im√°genes de Docker que cre√≠an en s√≠ mismas *</a></li>
<li><a href="../469949/index.html">En el cumplea√±os de Yuri Knorozov: estudiamos los conceptos b√°sicos de la escritura maya</a></li>
<li><a href="../469951/index.html">Control segmentado de bricolaje, como en iOS 13.0 y posterior</a></li>
<li><a href="../469955/index.html">Custdev, servicios sofisticados y el arte de la presentaci√≥n: lo que ense√±amos a los participantes del acelerador VTB</a></li>
<li><a href="../469963/index.html">SonarQube e IntelliJ IDEA: integraci√≥n correcta</a></li>
<li><a href="../469967/index.html">Estructuras de datos para el almacenamiento de gr√°ficos: una revisi√≥n de las existentes y dos "casi nuevas"</a></li>
<li><a href="../469971/index.html">Desbloqueo de diez p√°ginas: una plantilla basada en un libro de Scott Rogers con un ejemplo de un juego de Pixonic</a></li>
<li><a href="../469975/index.html">Camino de santiago con laptop</a></li>
<li><a href="../469977/index.html">C√≥mo tres compa√±eros de clase se convirtieron en socios de Facebook - historia de Revealbot</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>