<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêù üëçüèΩ üëèüèæ Membangun proyek BEM menggunakan Webpack üôèüèª üíáüèº üíì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Artikel ini akan fokus pada perakitan proyek BEM menggunakan bundler Webpack. Saya akan menunjukkan satu contoh konfigurasi tanpa memuat pembaca denga...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Membangun proyek BEM menggunakan Webpack</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/447560/"><p>  Artikel ini akan fokus pada perakitan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">proyek BEM</a> menggunakan bundler Webpack.  Saya akan menunjukkan satu contoh konfigurasi tanpa memuat pembaca dengan entitas yang tidak perlu. </p><br><p>  Materi ini cocok untuk mereka yang baru mulai berkenalan dengan BEM.  Pertama, kita akan menyentuh pada aspek teoritis dari metodologi, dan di bagian "Praktek" saya akan menunjukkan bagaimana mereka dapat diterapkan. </p><a name="habracut"></a><br><h3 id="nemnogo-teorii">  Sedikit teori </h3><br><p>  Jika ini adalah pertama kalinya Anda mendengar tentang BEM dan ingin mengetahuinya sendiri, simpan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi</a> . </p><br><p>  <strong>BEM</strong> adalah metodologi yang digunakan untuk mengatur proyek dari skala apa pun.  Yandex mengembangkannya dan pada awalnya menggunakannya hanya dalam pekerjaan layanannya, tetapi kemudian diterbitkan dalam domain publik. </p><br><p>  BEM adalah singkatan dari "Block, Element, Modifier". </p><br><p>  <strong>Block</strong> adalah entitas dengan arsitektur otonom yang dapat digunakan kembali.  Blok mungkin mengandung elemennya sendiri. </p><br><p>  <strong>Elemen</strong> adalah bagian integral dari sebuah blok.  Item hanya dapat digunakan di dalam blok induk. </p><br><p>  <strong>Pengubah</strong> adalah entitas yang mengubah tampilan, status, atau perilaku blok. </p><br><p>  Komponen-komponen ini mendasari metodologi.  Mereka memberikan keindahan dan pemisahan kode yang nyaman.  Rincian lebih lanjut tentang perangkat mereka ditulis dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi</a> . </p><br><p>  Dokumentasi BEM ditulis secara luas.  Namun, ada satu "tetapi": ambang batas tinggi untuk memasukkan materi.  Jika dasar-dasar tata letak dapat dipecahkan dengan membaca satu halaman dokumentasi, maka masalah pemasangan proyek lebih rumit. </p><br><p>  Mengapa itu tentang merakit proyek?  Saat mengerjakan proyek skala besar, semua orang dihadapkan pada masalah pengorganisasian kode.  Sangat tidak nyaman untuk menyimpan semua kode proyek besar dalam satu file.  Memisahkan kode menjadi beberapa file, lalu mengompilasinya secara manual juga bukan jalan keluar yang baik.  Untuk mengatasi masalah ini, pengumpul, atau <em>bundler</em> , digunakan yang mengotomatiskan konversi kode sumber proyek menjadi kode yang siap dikirim ke produksi. </p><br><p>  Biarkan saya mengingatkan Anda: diasumsikan lebih lanjut bahwa pembaca memiliki keterampilan Webpack dasar.  Jika Anda belum pernah bekerja dengannya sebelumnya, saya sarankan Anda untuk lebih dulu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mengenal</a> alat ini. </p><br><p>  Dokumentasi BEM memberikan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">rekomendasi</a> untuk perakitan proyek.  Hanya dua opsi yang ditawarkan sebagai contoh: perakitan menggunakan ENB dan Gulp. </p><br><p>  <strong>ENB</strong> adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">utilitas yang</a> dirancang khusus untuk membangun proyek BEM.  Dia dapat bekerja dengan entitas BEM di luar kotak.  Tapi lihat kodenya.  Sekilas, ia dapat mendemotivasi pengembang yang tidak siap: </p><br><div class="spoiler">  <b class="spoiler_title">make.js</b> <div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> techs = { <span class="hljs-comment"><span class="hljs-comment">// essential fileProvider: require('enb/techs/file-provider'), fileMerge: require('enb/techs/file-merge'), // optimization borschik: require('enb-borschik/techs/borschik'), // css postcss: require('enb-postcss/techs/enb-postcss'), postcssPlugins: [ require('postcss-import')(), require('postcss-each'), require('postcss-for'), require('postcss-simple-vars')(), require('postcss-calc')(), require('postcss-nested'), require('rebem-css'), require('postcss-url')({ url: 'rebase' }), require('autoprefixer')(), require('postcss-reporter')() ], // js browserJs: require('enb-js/techs/browser-js'), // bemtree // bemtree: require('enb-bemxjst/techs/bemtree'), // bemhtml bemhtml: require('enb-bemxjst/techs/bemhtml'), bemjsonToHtml: require('enb-bemxjst/techs/bemjson-to-html') }, enbBemTechs = require('enb-bem-techs'), levels = [ { path: 'node_modules/bem-core/common.blocks', check: false }, { path: 'node_modules/bem-core/desktop.blocks', check: false }, { path: 'node_modules/bem-components/common.blocks', check: false }, { path: 'node_modules/bem-components/desktop.blocks', check: false }, { path: 'node_modules/bem-components/design/common.blocks', check: false }, { path: 'node_modules/bem-components/design/desktop.blocks', check: false }, 'common.blocks', 'desktop.blocks' ]; module.exports = function(config) { const isProd = process.env.YENV === 'production'; config.nodes('*.bundles/*', function(nodeConfig) { nodeConfig.addTechs([ // essential [enbBemTechs.levels, { levels: levels }], [techs.fileProvider, { target: '?.bemjson.js' }], [enbBemTechs.bemjsonToBemdecl], [enbBemTechs.deps], [enbBemTechs.files], // css [techs.postcss, { target: '?.css', oneOfSourceSuffixes: ['post.css', 'css'], plugins: techs.postcssPlugins }], // bemtree // [techs.bemtree, { sourceSuffixes: ['bemtree', 'bemtree.js'] }], // bemhtml [techs.bemhtml, { sourceSuffixes: ['bemhtml', 'bemhtml.js'], forceBaseTemplates: true, engineOptions : { elemJsInstances : true } }], // html [techs.bemjsonToHtml], // client bemhtml [enbBemTechs.depsByTechToBemdecl, { target: '?.bemhtml.bemdecl.js', sourceTech: 'js', destTech: 'bemhtml' }], [enbBemTechs.deps, { target: '?.bemhtml.deps.js', bemdeclFile: '?.bemhtml.bemdecl.js' }], [enbBemTechs.files, { depsFile: '?.bemhtml.deps.js', filesTarget: '?.bemhtml.files', dirsTarget: '?.bemhtml.dirs' }], [techs.bemhtml, { target: '?.browser.bemhtml.js', filesTarget: '?.bemhtml.files', sourceSuffixes: ['bemhtml', 'bemhtml.js'], engineOptions : { elemJsInstances : true } }], // js [techs.browserJs, { includeYM: true }], [techs.fileMerge, { target: '?.js', sources: ['?.browser.js', '?.browser.bemhtml.js'] }], // borschik [techs.borschik, { source: '?.js', target: '?.min.js', minify: isProd }], [techs.borschik, { source: '?.css', target: '?.min.css', minify: isProd }] ]); nodeConfig.addTargets([/* '?.bemtree.js', */ '?.html', '?.min.css', '?.min.js']); }); };</span></span></code> </pre> <br><p>  <em>Kode dari repositori publik <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">stub-proyek</a> .</em> </p></div></div><br><p>  Kode konfigurasi ENB jelas akan rumit bagi mereka yang baru mulai menggunakan BEM. </p><br><p>  Dokumentasi berisi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pengaturan yang sudah jadi untuk kolektor</a> , dan mereka dapat digunakan tanpa mempelajari detail perakitan.  Tetapi bagaimana jika Anda, seperti saya, ingin memiliki gambaran lengkap tentang apa yang terjadi dengan proyek selama pembangunan? </p><br><p>  Dokumentasi BEM dengan baik menjelaskan proses perakitan dalam teori, namun, ada beberapa contoh praktis dan mereka tidak selalu cocok untuk pemahaman yang jelas tentang proses tersebut.  Untuk mengatasi masalah ini, saya akan mencoba membangun proyek BEM dasar menggunakan Webpack. </p><br><h3 id="praktika">  Berlatih </h3><br><p>  Sebelum itu, saya menyebutkan bahwa organisasi pemisah kode dan perakitan menyederhanakan pekerjaan dengan proyek.  Pada contoh di bawah ini, kami akan menyediakan pemisahan kode menggunakan BEM dan perakitannya menggunakan Webpack. </p><br><p>  Kami ingin mendapatkan konfigurasi yang paling sederhana, logika perakitan harus linier dan intuitif.  Mari kita buat satu halaman dengan satu blok BEM, yang akan memiliki dua teknologi: CSS dan JS. </p><br><p>  Anda dapat menulis kode HTML dengan satu DIV dengan kelas "blok" dan menghubungkan semua teknologinya secara manual.  Menggunakan penamaan kelas BEM dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">struktur file yang</a> sesuai, kami tidak melanggar prinsip-prinsip metodologi. </p><br><p>  Saya mendapat pohon proyek berikut: </p><br><pre> <code class="bash hljs">‚îú‚îÄ‚îÄ desktop <span class="hljs-comment"><span class="hljs-comment">#   "desktop" ‚îÇ ‚îî‚îÄ‚îÄ block #  "block" ‚îÇ ‚îú‚îÄ‚îÄ block.css # CSS-  "block" ‚îÇ ‚îî‚îÄ‚îÄ block.js # JS-  "block" ‚îú‚îÄ‚îÄ dist # ,      ‚îú‚îÄ‚îÄ pages # ,       JS- ‚îÇ ‚îú‚îÄ‚îÄ index.html # ,     ‚îÇ ‚îî‚îÄ‚îÄ index.js #      index.html ‚îî‚îÄ‚îÄ webpack.config.js # - Webpack</span></span></code> </pre> <br><p>  Baris pertama mengacu pada level override "desktop".  Dalam terminologi BEM, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">level redefinisi</a> adalah direktori yang berisi implementasi blok mereka sendiri.  Saat merakit sebuah proyek, implementasi dari semua level redefinisi dalam urutan tertentu termasuk dalam bundel terakhir. </p><br><p>  Misalnya, kami memiliki tingkat definisi ulang "desktop" di mana implementasi blok untuk perangkat desktop disimpan.  Jika kita perlu melengkapi proyek dengan tata letak untuk perangkat seluler, itu akan cukup bagi kita untuk membuat tingkat redefinisi baru "seluler" dan mengisinya dengan implementasi baru dari blok yang sama.  Kenyamanan dari pendekatan ini adalah bahwa pada level redefinisi baru, kita tidak perlu menduplikasi kode yang sudah ada di "desktop", karena akan terhubung secara otomatis. </p><br><p>  Berikut adalah konfigurasi Webpack: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// webpack.config.js //    const path = require('path'); const opy = require('copy-webpack-plugin'); module.exports = { //  entry  output -       entry: path.resolve(__dirname, "pages", "index.js"), output: { filename: 'index.js', path: path.join(__dirname, 'dist') }, module: { rules: [ //    CSS- { test: /\.css$/, loader: 'style-loader!css-loader' } ] }, plugins: [ new opy([ //  HTML-      { from: path.join(__dirname, 'pages'), test: /\.html$/, to: path.join(__dirname, "dist") } ]) ] }</span></span></code> </pre> <br><p>  Di sini kita menentukan file / <code>/pages/index.js</code> sebagai titik masuk, tambahkan loader untuk gaya CSS, dan salin / <code>/pages/index.html</code> ke <code>/dist/index.html</code> . </p><br><div class="spoiler">  <b class="spoiler_title">index.html</b> <div class="spoiler_text"><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"block"</span></span></span><span class="hljs-tag">&gt;</span></span>Hello, World!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"index.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">block.css</b> <div class="spoiler_text"><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.block</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: red; <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">24px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">text-align</span></span>: center; }</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">block.js</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementsByClassName(<span class="hljs-string"><span class="hljs-string">'block'</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>].innerHTML += <span class="hljs-string"><span class="hljs-string">" [This text is added by block.js!]"</span></span></code> </pre> </div></div><br><p>  Contoh ini menggunakan satu level override dan satu blok.  Tugasnya adalah merakit halaman sehingga teknologi (css, js) dari blok kami terhubung dengannya. </p><br><p>  Untuk menghubungkan teknologi, kami menggunakan <code>require()</code> : </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// index.js require('../desktop/block/block.js'); require('../desktop/block/block.css');</span></span></code> </pre> <br><p>  Luncurkan Webpack dan lihat apa yang terjadi.  Buka <code>index.html</code> dari folder <code>./dist</code> : </p><br><div class="spoiler">  <b class="spoiler_title">Tangkapan layar halaman</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/jt/hn/mi/jthnmiunob5petfsjxx6aktp9wy.png"></p></div></div><br><p>  Gaya blok dimuat, javascript berhasil.  Sekarang kita dapat menambahkan surat berharga "BEM" ke proyek kita. </p><br><p>  Pertama-tama, BEM diciptakan untuk bekerja dengan proyek-proyek besar.  Mari kita bayangkan bahwa perancang kami telah mencoba dan pada halaman tersebut sekarang bukan satu blok, tetapi seratus.  Mengikuti skenario sebelumnya, kami akan secara manual menghubungkan teknologi dari setiap blok menggunakan <code>require()</code> .  Artinya, setidaknya seratus baris kode tambahan akan muncul di index.js. </p><br><p>  Baris-baris kode tambahan yang bisa dihindari itu buruk.  Kode yang tidak digunakan bahkan lebih buruk.  Bagaimana jika pada halaman kita hanya akan ada 10 blok yang tersedia, atau 20, atau 53?  Pengembang akan memiliki pekerjaan tambahan: ia harus fokus pada blok mana yang digunakan pada halaman, dan juga menghubungkan dan memutuskannya secara manual untuk menghindari kode yang tidak perlu dalam bundel terakhir. </p><br><p>  Untungnya, pekerjaan ini bisa dipercayakan ke Webpack. </p><br><p>  Algoritma tindakan yang optimal untuk mengotomatisasi proses ini: </p><br><ol><li>  Pilih kelas yang sesuai dengan penamaan BEM dari kode HTML yang ada; </li><li>  Berdasarkan kelas, dapatkan daftar entitas BEM yang digunakan pada halaman; </li><li>  Periksa apakah ada direktori blok bekas, elemen dan pengubah pada tingkat redefinisi; </li><li>  Hubungkan teknologi entitas-entitas ini dengan proyek dengan menambahkan ekspresi <code>require()</code> sesuai. </li></ol><br><p>  Untuk mulai dengan, saya memutuskan untuk memeriksa apakah ada bootloader yang siap pakai untuk tugas ini.  Saya tidak menemukan modul yang akan menyediakan semua fungsi yang diperlukan dalam satu botol.  Tapi saya menemukan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">bemdecl-to-fs-loader</a> , yang mengubah pernyataan BEM menjadi <code>require()</code> ekspresi.  Ini didasarkan pada tingkat redefinisi dan teknologi yang tersedia dalam struktur file proyek. </p><br><blockquote>  <strong>Deklarasi BEM</strong> - daftar entitas BEM yang digunakan pada halaman.  Baca lebih lanjut tentang mereka dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi</a> . </blockquote><p>  Satu tautan tidak ada - mengonversi HTML ke array entitas BEM.  Tugas ini diselesaikan oleh modul <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">html2bemjson</a> . </p><br><blockquote>  <strong>bemjson</strong> - data yang mencerminkan struktur halaman masa depan.  Biasanya mereka digunakan oleh mesin template bem-xjst untuk membentuk halaman.  Sintaks bemjson mirip dengan sintaksis deklarasi, tetapi deklarasi hanya berisi daftar entitas yang digunakan, sementara bemjson juga mencerminkan urutannya. </blockquote><p>  bemjson bukan deklarasi, jadi pertama-tama kita mengubahnya untuk mendeklarasikan format untuk transmisi ke bemdecl-to-fs-loader.  Untuk tugas ini, gunakan modul dari SDK: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">bemjson-to-decl</a> .  Karena ini adalah modul NodeJS biasa, bukan loader Webpack, Anda harus membuat loader wrapper.  Setelah itu, kita bisa menggunakannya untuk mengonversi ke Webpack. </p><br><p>  Kami mendapatkan kode bootloader berikut: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> html2bemjson = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"html2bemjson"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bemjson2decl = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"bemjson-to-decl"</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> content </span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (content == <span class="hljs-literal"><span class="hljs-literal">null</span></span> &amp;&amp; content == <span class="hljs-string"><span class="hljs-string">""</span></span>) callback(<span class="hljs-string"><span class="hljs-string">"html2bemdecl requires a valid HTML."</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> callback = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.async(); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bemjson = html2bemjson.convert( content ); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> decl = bemjson2decl.convert( bemjson ); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(decl); <span class="hljs-comment"><span class="hljs-comment">//     callback(null, decl); }</span></span></code> </pre> <br><p>  Untuk mempermudah instalasi bootloader dan menghemat waktu di masa depan, saya mengunduh modul pada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">NPM</a> . </p><br><p>  Mari kita instal bootloader di proyek kami dan buat perubahan pada konfigurasi Webpack: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> webpack = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'webpack'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> path = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'path'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> opy = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'copy-webpack-plugin'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = { <span class="hljs-attr"><span class="hljs-attr">entry</span></span>: path.resolve(__dirname, <span class="hljs-string"><span class="hljs-string">"pages"</span></span>, <span class="hljs-string"><span class="hljs-string">"index.js"</span></span>), <span class="hljs-attr"><span class="hljs-attr">output</span></span>: { <span class="hljs-attr"><span class="hljs-attr">filename</span></span>: <span class="hljs-string"><span class="hljs-string">'index.js'</span></span>, <span class="hljs-attr"><span class="hljs-attr">path</span></span>: path.join(__dirname, <span class="hljs-string"><span class="hljs-string">'dist'</span></span>) }, <span class="hljs-attr"><span class="hljs-attr">module</span></span>: { <span class="hljs-attr"><span class="hljs-attr">rules</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.html$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">use</span></span>: [ { <span class="hljs-comment"><span class="hljs-comment">//    bemdecl-to-fs-loader loader: 'bemdecl-to-fs-loader', //       options: { levels: ['desktop'], extensions: ['css', 'js'] } }, //      html2bemdecl-loader { loader: 'html2bemdecl-loader' } ] }, { test: /\.css$/, loader: 'style-loader!css-loader' } ] }, plugins: [ new opy([ { from: path.resolve(__dirname, 'pages'), test: /\.html$/, to: path.resolve(__dirname, "dist") } ]) ] }</span></span></code> </pre> <br><p>  Parameter <code>levels</code> bootloader <code>bemdecl-to-fs-loader</code> menentukan level override yang akan digunakan dan dalam urutan apa.  <code>extensions</code> memberikan <code>extensions</code> teknologi file yang digunakan dalam proyek kami. </p><br><p>  Akibatnya, alih-alih menghubungkan teknologi secara manual, kami hanya menyertakan file HTML.  Semua konversi yang diperlukan akan dilakukan secara otomatis. </p><br><p>  Mari kita ganti konten index.js dengan baris: </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./index.html'</span></span>);</code> </pre> <br><p>  Sekarang jalankan Webpack.  Saat perakitan, garis ditampilkan: </p><br><pre> <code class="javascript hljs">[ BemEntityName { <span class="hljs-attr"><span class="hljs-attr">block</span></span>: <span class="hljs-string"><span class="hljs-string">'block'</span></span> } ]</code> </pre> <br><p>  Ini berarti bahwa pembentukan deklarasi berhasil.  Kami melihat langsung pada output Webpack: </p><br><pre> <code class="plaintext hljs"> Entrypoint main = index.js [0] ./pages/index.js 24 bytes {0} [built] [1] ./pages/index.html 74 bytes {0} [built] [2] ./desktop/block/block.css 1.07 KiB {0} [built] [3] ./node_modules/css-loader/dist/cjs.js!./desktop/block/block.css 217 bytes {0} [built] [7] ./desktop/block/block.js 93 bytes {0} [built] + 3 hidden modules</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Tangkapan layar halaman</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/7d/vj/9c/7dvj9c2y_s3w28rncbsfa1yem2m.png"></p></div></div><br><p>  Kami mendapat hasil yang identik dengan yang sebelumnya, dengan perbedaan bahwa semua teknologi blok terhubung secara otomatis.  Untuk saat ini, cukup bagi kami untuk menambahkan kelas bernama BEM ke HTML, sambungkan HTML ini dengan <code>require()</code> dan buat direktori yang sesuai dengan teknologi untuk menghubungkan. </p><br><p>  Jadi, kami memiliki struktur file yang sesuai dengan metodologi BEM, serta mekanisme untuk menghubungkan teknologi blok secara otomatis. </p><br><p>  Mengabstraksi dari mekanisme dan entitas metodologi, kami telah menciptakan konfigurasi Webpack yang sangat sederhana namun efektif.  Saya harap contoh ini akan membantu semua orang yang memulai perkenalan mereka dengan BEM untuk lebih memahami prinsip-prinsip dasar membangun proyek BEM. </p><br><h3 id="poleznye-ssylki">  Tautan yang bermanfaat </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Repositori proyek GitHub</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Panduan BEM Lengkap</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Rekomendasi untuk perakitan proyek BEM</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Cara lain untuk membangun proyek BEM dengan Webpack</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id447560/">https://habr.com/ru/post/id447560/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id447548/index.html">Bagaimana dibenarkannya pengenalan VDI di perusahaan kecil dan menengah?</a></li>
<li><a href="../id447552/index.html">Cara mengoptimalkan bagian katalog di toko online: petunjuk langkah demi langkah</a></li>
<li><a href="../id447554/index.html">Tinjauan Umum NestJS 6 Fitur Baru</a></li>
<li><a href="../id447556/index.html">Ekstensi mypy dengan plugin</a></li>
<li><a href="../id447558/index.html">Realitas virtual - permainan, perawatan, kehidupan. Teknologi VR di layanan pengobatan rehabilitasi</a></li>
<li><a href="../id447562/index.html">Pengantar rekayasa terbalik: meretas format data game</a></li>
<li><a href="../id447564/index.html">Perubahan otorisasi repositori di GitLab.com</a></li>
<li><a href="../id447566/index.html">Para ilmuwan pertama kali menunjukkan "foto" nyata dari lubang hitam</a></li>
<li><a href="../id447568/index.html">Wawancara dengan astronot Alexander Laveikin tentang bioskop luar angkasa, kelebihan 20 unit dan pendaratan lunak</a></li>
<li><a href="../id447570/index.html">GoLand 2019.1: analisis kinerja kode, Smart Step Into, Refactoring Extract Interface, Nilness Analyzer, dan lainnya</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>