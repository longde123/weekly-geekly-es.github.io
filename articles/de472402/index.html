<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéÖüèº üê• üë®üèª‚Äçüé§ RTMP-Videoanruf-Streaming üåßÔ∏è üê¨ ü§≤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Heutzutage sind Streaming-Plattformen auf dem H√∂hepunkt ihrer Popularit√§t, da Millionen talentierter Menschen regelm√§√üig ihr Wissen teilen - lesen Sie...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>RTMP-Videoanruf-Streaming</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/Voximplant/blog/472402/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/zy/is/xy/zyisxywts0ok9pzset52n9xt8fk.png"></div><br>  Heutzutage sind Streaming-Plattformen auf dem H√∂hepunkt ihrer Popularit√§t, da Millionen talentierter Menschen regelm√§√üig ihr Wissen teilen - lesen Sie, sie nutzen Streaming in vollem Umfang.  Da dieser Markt w√§chst, gibt es viele Anwendungen, die Live-Videos mit einem Smartphone oder einer Laptop-Kamera streamen k√∂nnen.  Vielleicht m√∂chten Sie diese Funktionalit√§t auch in Ihre Anwendung einf√ºhren.  Wenn ja, dann beeilen wir uns - jetzt k√∂nnen Sie mit Voximplant Videoanrufe √ºber RTMP an jedes CDN weiterleiten, das dieses Protokoll unterst√ºtzt. <br><br>  Diese Funktionalit√§t wird durch das neue <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Voxengine-</a> Modul - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">StreamingAgent</a> - erm√∂glicht.  Unter dem Schnitt warten Sie auf 5 Schritte, um diese Integration zu konfigurieren. Willkommen! <br><a name="habracut"></a><br><h2>  Schema </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ut/qv/c_/utqvc_ywlxmexe__hqqhfzh7wyc.png"></div><br>  Ein Videoanruf von einer Mobil- / Webanwendung oder SIP kommt in unsere Cloud, die ihn an ein Streaming-CDN weiterleitet.  Das CDN sendet wiederum Audio- und Videostreams an Endbenutzer - wie dies normalerweise der Fall ist.  Bitte beachten Sie, dass RTMP nur H.264 unterst√ºtzt. Daher ist es sehr wichtig, diesen Codec beim Streaming explizit anzugeben. <br><br><h2>  Du wirst brauchen </h2><br><ul><li>  ein Konto bei einem Streaming-Dienst, z. B. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Twitch</a> oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Youtube</a> ; </li><li>  Voximplant-Konto.  Wenn Sie es nicht haben, dann <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">lebt die Registrierung hier</a> ; </li><li>  Voximplant-Anwendung sowie ein Skript, eine Regel und ein einzelner Benutzer.  All dies werden wir in diesem Tutorial erstellen. </li><li>  Web-Client f√ºr die Aufnahme von Video und Audio - wir werden unser Demo- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Videochat verwenden</a> </li></ul><br><h2>  1. Streaming-Einstellungen </h2><br>  Zun√§chst m√ºssen Sie die Werte von zwei Parametern abrufen, die wir im Cloud-Skript verwenden - <b>Stream-Name / Schl√ºssel</b> und <b>Server-URL</b> .  Im Folgenden wird gezeigt, wie Sie diese Werte anhand von Twitch und YouTube als Beispiele erhalten. <br><br><h3>  Zucken </h3><br>  Melden Sie sich in Ihrem Konto an, klicken Sie auf das Profilbild in der oberen rechten Ecke und w√§hlen Sie Video Producer. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cp/lf/n7/cplfn7v5zf_luwn8jrv7ptez5ai.png" width="318"></div><br><br>  W√§hlen Sie im Abschnitt Einstellungen die Option Kanal aus, und klicken Sie oben auf der Seite auf Kopieren, um Ihren prim√§ren Stream-Schl√ºssel abzurufen.  Bitte beachten Sie, dass der Schl√ºssel nur bei aktivierter Zwei-Faktor-Authentifizierung verf√ºgbar ist.  F√ºgen Sie diesen Wert in Ihren Texteditor ein oder lassen Sie diese Seite einfach ge√∂ffnet, um den Wert sp√§ter zu kopieren. <br><br>  Um die Server-URL zu finden, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">rufen Sie die</a> Seite <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">stream.twitch.tv/ingests auf</a> , w√§hlen Sie einen der empfohlenen Server aus und kopieren Sie ihn ohne den letzten Schr√§gstrich, z. B.: Rtmp: //live-sfo.twitch.tv/app <br><br><h3>  YouTube </h3><br>  Melde dich bei deinem Konto an, klicke auf den Avatar in der oberen rechten Ecke und w√§hle YouTube Studio (Beta). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/z6/ym/jd/z6ymjdecbhzwvkxrr9tnwux2whm.png" width="318"></div><br><br>  Wenn du keinen YouTube-Kanal hast, wird ein Dialogfeld zum Erstellen eines Kanals angezeigt.  Klicken Sie auf Kanal erstellen. Daraufhin wird ein Dashboard des erstellten Kanals mit der Benachrichtigung angezeigt, dass das Streaming innerhalb von 24 Stunden m√∂glich ist. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jk/vt/e_/jkvte_pkxhn3v9zffgtkcor7p8s.png" width="490"></div><br><br>  Gehe in YouTube Studio √ºber das Men√º links zu Andere Funktionen -&gt; Live-Stream.  Eine neue Seite wird ge√∂ffnet, unter der sich der Encoder-Setup-Block befindet.  Von hier aus m√ºssen Sie die Server-URL und die Stream-Namen / Schl√ºsselwerte √ºbernehmen (oder die Seite offen lassen). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/2a/rx/qw/2arxqwczdmsctf6lgaelw9df1yw.png"></div><br><br><h2>  2. VOXIMPLANT-Einstellungen </h2><br>  Jetzt m√ºssen Sie die Einstellungen von der Seite von Voximplant aus vornehmen.  Melden Sie sich zuerst in Ihrem Konto an: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://manage.voximplant.com/auth</a> .  Klicken Sie im Men√º links auf "Anwendungen" und dann auf "Neue Anwendung" und erstellen Sie eine Anwendung namens "Streaming".  Gehen Sie in die neue Anwendung und wechseln Sie zur Registerkarte "Skripte", um ein startStream-Skript mit diesem Code zu erstellen (vergessen Sie nicht, die Werte aus dem vorherigen Schritt in den Zeilen 8 und 9 zu ersetzen): <br><br><pre><code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(Modules.StreamingAgent); VoxEngine.setVideoCodec(<span class="hljs-string"><span class="hljs-string">"H264"</span></span>); VoxEngine.addEventListener(AppEvents.CallAlerting, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> streaming = VoxImplant.createStreamingAgent({ <span class="hljs-attr"><span class="hljs-attr">protocol</span></span>: <span class="hljs-string"><span class="hljs-string">"RTMP"</span></span>, <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-string"><span class="hljs-string">"rtmp://live-sfo.twitch.tv/app"</span></span>, <span class="hljs-attr"><span class="hljs-attr">streamName</span></span>: <span class="hljs-string"><span class="hljs-string">"live_********************"</span></span>, <span class="hljs-attr"><span class="hljs-attr">keyframeInterval</span></span>: <span class="hljs-number"><span class="hljs-number">4</span></span> }); e.call.sendMediaTo(streaming); streaming.addEventListener(StreamingAgentEvents.Connected, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ Logger.write(<span class="hljs-string"><span class="hljs-string">"LOG: StreamingAgentEvents.Connected: "</span></span> + e.reason); }); streaming.addEventListener(StreamingAgentEvents.Disconnected, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ Logger.write(<span class="hljs-string"><span class="hljs-string">"LOG: StreamingAgentEvents.Disconnected: "</span></span> + e.reason); }); streaming.addEventListener(StreamingAgentEvents.ConnectionFailed, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ Logger.write(<span class="hljs-string"><span class="hljs-string">"LOG: StreamingAgentEvents.ConnectionFailed: "</span></span> + e.reason); }); streaming.addEventListener(StreamingAgentEvents.Error, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ Logger.write(<span class="hljs-string"><span class="hljs-string">"LOG: StreamingAgentEvents.Error: "</span></span> + e.reason); }); streaming.addEventListener(StreamingAgentEvents.StreamStarted, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ Logger.write(<span class="hljs-string"><span class="hljs-string">"LOG: StreamingAgentEvents.StreamStarted: "</span></span> + e.reason); }); streaming.addEventListener(StreamingAgentEvents.StreamError, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ Logger.write(<span class="hljs-string"><span class="hljs-string">"LOG: StreamingAgentEvents.StreamError: "</span></span> + e.reason); }); streaming.addEventListener(StreamingAgentEvents.StreamStopped, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ Logger.write(<span class="hljs-string"><span class="hljs-string">"LOG: StreamingAgentEvents.StreamStopped: "</span></span> + e.reason); }); e.call.answer(); e.call.addEventListener(CallEvents.Disconnected, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ Logger.write(<span class="hljs-string"><span class="hljs-string">"LOG: terminating in 6 secs"</span></span>); setTimeout(VoxEngine.terminate, <span class="hljs-number"><span class="hljs-number">6000</span></span>); }); });</code> </pre> <br>  Dies ist ein einfaches Skript, das einen Stream initiiert und auch alle m√∂glichen Zust√§nde √ºberwacht, z. B.: Verbunden, Verbindung fehlgeschlagen, StreamStarted usw.  - Details des Skripts werden etwas niedriger sein.  Jetzt m√ºssen Sie zur Registerkarte "Routing" Ihrer Anwendung gehen und auf "Neue Regel" klicken.  Nennen Sie es streamRule, geben Sie das startStream-Skript an und belassen Sie die Standardmaske (. *). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/n0/0m/vr/n00mvrvezfouzra2cxzg5d57t5i.png" width="600"></div><br>  Das Letzte, was Sie in dieser Phase tun m√ºssen, ist, einen Benutzer zu erstellen.  Gehen Sie zur Registerkarte "Benutzer", klicken Sie auf "Benutzer erstellen", geben Sie einen Namen (z. B. Benutzer1) und ein Kennwort an und klicken Sie dann auf "Erstellen".  Wir ben√∂tigen dieses Benutzername / Passwort-Paar f√ºr die Authentifizierung im Web-Client. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/m7/nf/nx/m7nfnx1ep_iu05e5aukzrk5qtsi.png" width="600"></div><br>  Die Konfiguration von Voximplant ist abgeschlossen, aber bevor wir zum Webclient √ºbergehen, m√∂chte ich verstehen, wie das StreamingAgent-Modul in unserem Szenario funktioniert. <br><br><h2>  3. Das Szenario </h2><br>  Mit dem StreamingAgent-Modul k√∂nnen Entwickler RTMP-Streams auf g√§ngigen Stimulationsplattformen starten.  Um die Funktionalit√§t des Moduls nutzen zu k√∂nnen, m√ºssen wir es ganz am Anfang des Skripts verbinden: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(Modules.StreamingAgent);</code> </pre> <br>  Als N√§chstes m√ºssen Sie den Codec explizit angeben, der beim Streaming verwendet wird.  Da viele Plattformen (einschlie√ülich Twitch und YouTube) RTMP verwenden, das wiederum H.264 unterst√ºtzt, werden wir Folgendes angeben: <br><br><pre> <code class="javascript hljs">VoxEngine.setVideoCodec(<span class="hljs-string"><span class="hljs-string">"H264"</span></span>);</code> </pre> <br>  Wenn der Codec nicht angegeben ist, wird m√∂glicherweise das Ereignis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">StreamingAgentEvents.StreamError ausgel√∂st</a> , das den Fehlertext enth√§lt: <br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"Video codec mismatch. "</span></span> + codecName + <span class="hljs-string"><span class="hljs-string">" granted, but should be H.264"</span></span></code> </pre> <br>  Dann f√ºgen wir einen Handler f√ºr das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">CallAlerting-</a> Ereignis hinzu, um den Videoanruf vom Webclient zu verarbeiten (ja, wir werden bald darauf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">zugreifen</a> ).  Zun√§chst f√ºgen wir dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Handler</a> einen Aufruf der Methode <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">createStreamingAgent hinzu</a> .  Die Methode hat die folgenden Parameter, die meisten sind erforderlich, optional sind separat gekennzeichnet: <br><br><ul><li>  <b>Protokoll</b> - bisher wird nur RTMP unterst√ºtzt; </li><li>  <b>URL</b> - Server URL, siehe Schritt 1; </li><li>  <b>streamName</b> - <b>Streamname</b> / <b>-schl√ºssel</b> , siehe Schritt 1; </li><li>  <b>applicationName</b> (optional) - Teil von streamName, z. B. live2.  Verwenden Sie diese Option, wenn die ausgew√§hlte Plattform dies erfordert. </li><li>  <b>keyframeInterval</b> (optional, Sekunden) - wie oft ein <b>Keyframe</b> im Stream generiert wird.  Wenn nicht angegeben, ist der Standardwert 2. </li></ul><br>  In der obigen Skriptliste sieht der Aufruf der Methode createStreamingAgent folgenderma√üen aus: <br><br><pre> <code class="javascript hljs">VoxEngine.addEventListener(AppEvents.CallAlerting, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> streaming = VoxImplant.createStreamingAgent({ <span class="hljs-attr"><span class="hljs-attr">protocol</span></span>: <span class="hljs-string"><span class="hljs-string">"RTMP"</span></span>, <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-string"><span class="hljs-string">"rtmp://live-sfo.twitch.tv/app"</span></span>, <span class="hljs-attr"><span class="hljs-attr">streamName</span></span>: <span class="hljs-string"><span class="hljs-string">"live_********************"</span></span>, <span class="hljs-attr"><span class="hljs-attr">keyframeInterval</span></span>: <span class="hljs-number"><span class="hljs-number">4</span></span> });</code> </pre> <br>  Wir k√∂nnen keyframeInterval jedoch weglassen und applicationName wie folgt verwenden: <br><br><pre> <code class="javascript hljs">VoxEngine.addEventListener(AppEvents.CallAlerting, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> streaming = VoxImplant.createStreamingAgent({ <span class="hljs-attr"><span class="hljs-attr">protocol</span></span>: <span class="hljs-string"><span class="hljs-string">"RTMP"</span></span>, <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-string"><span class="hljs-string">"rtmp://a.rtmp.youtube.com/"</span></span>, <span class="hljs-attr"><span class="hljs-attr">applicationName</span></span>: <span class="hljs-string"><span class="hljs-string">"live2"</span></span>, <span class="hljs-attr"><span class="hljs-attr">streamName</span></span>: <span class="hljs-string"><span class="hljs-string">"somename"</span></span> });</code> </pre> <br>  Nachdem das Streaming-Objekt erstellt wurde, verarbeitet das Skript den Aufruf im Handler weiter.  Der n√§chste Schritt besteht darin, den eingehenden Videostream vom Webclient zum erstellten Streaming-Objekt zu leiten: <br><br><pre> <code class="javascript hljs">e.call.sendMediaTo(streaming);</code> </pre> <br>  Dann verwenden wir alle m√∂glichen Streaming-Ereignisse zum Debuggen: Die Handler senden lediglich Informationen an das Voximplant-Sitzungsprotokoll.  Sie k√∂nnen diesen Code nicht verwenden, wenn Sie m√∂chten. <br><br>  Nach der Verarbeitung der Ereignisse beantwortet das Skript den eingehenden Anruf: <br><br><pre> <code class="javascript hljs">e.call.answer();</code> </pre> <br>  Schlie√ülich m√ºssen wir das Ende des Streamings korrekt behandeln, wenn der Webclient das Senden des Videos beendet.  Formal k√∂nnen wir diesen Handler auch nicht verwenden, aber die Sitzung endet erst nach 60 Sekunden, nachdem das Video nicht mehr gesendet wurde.  Diese Erwartung macht keinen Sinn, daher ist es besser, die Sitzung ausgehend von getrennten Ereignissen zu beenden: <br><br><pre> <code class="javascript hljs">e.call.addEventListener(CallEvents.Disconnected, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ Logger.write(<span class="hljs-string"><span class="hljs-string">"LOG: terminating in 6 secs"</span></span>); setTimeout(VoxEngine.terminate, <span class="hljs-number"><span class="hljs-number">6000</span></span>); });</code> </pre> <br>  Wenn wir die Logik des Szenarios verstehen, sind wir bereit, den letzten - aber nicht zuletzt - Teil unserer Konfiguration zu starten. <br><br><h2>  4. Webclient </h2><br>  Klonen oder laden Sie unsere <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Videochat-</a> Demo herunter.  <b>Wechseln Sie</b> dann in den Repository-Ordner und √∂ffnen Sie die <b>Datei WebApp / JS / app.js</b> in einem Texteditor / einer IDE.  √Ñndern Sie den Namen der Anwendung in Zeile 5 und speichern Sie die Datei: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tu/px/qt/tupxqtvsfoavctgugqzllleskea.gif"></div><br>  Eigentlich ist das alles. <br><br><h2>  5. Starten Sie das Streaming </h2><br>  Sie m√ºssen den WebApp-Ordner lokal oder auf Ihrem Webserver ausf√ºhren.  Zum lokalen Ausf√ºhren k√∂nnen Sie das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Live-Server-</a> Dienstprogramm oder die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Webserver f√ºr Chrome-</a> Anwendung verwenden.  Wenn Sie den Webclient starten, m√ºssen Sie ihm den Namen Ihres Voximplant-Kontos geben, zum Beispiel: <pre>  http://127.0.0.1:8080/index.html#accname=johngalt </pre><br><br>  Geben Sie nach dem Starten des Clients das Login-Passwort-Paar aus Schritt 2 ein: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wq/6u/yy/wq6uyyk0sjhb8psdxj7prt3p0s4.png" width="600"></div><br>  Geben Sie einen beliebigen Zeichensatz neben dem @ -Zeichen ein und dr√ºcken Sie Anrufen.  Wenn alles richtig gemacht wurde, wird Ihr Stream bald beginnen :) Erfolgreiche Streams und produktive Entwicklung f√ºr Sie! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de472402/">https://habr.com/ru/post/de472402/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de472386/index.html">ZIO & Cats Effect: eine erfolgreiche Allianz</a></li>
<li><a href="../de472388/index.html">Walmart erkl√§rt Amazon Preiskrieg</a></li>
<li><a href="../de472392/index.html">Aufstieg, Fall und m√∂gliche R√ºckkehr von Audiokassetten - wir besch√§ftigen uns mit Mythen und geben einen √úberblick √ºber die Situation</a></li>
<li><a href="../de472394/index.html">Bewertung der Auswirkungen k√ºnstlicher Intelligenz auf Offshore-√ñl und -Gas</a></li>
<li><a href="../de472396/index.html">In 4 Sekunden um die Welt im Columnstore (Teil 1)</a></li>
<li><a href="../de472404/index.html">2D-Kollisionsberechnung: Gilbert-Johnson-Kirti-Algorithmus</a></li>
<li><a href="../de472406/index.html">Erweitern Sie das Rechenzentrum w√§hrend der Pizza-Lieferung</a></li>
<li><a href="../de472410/index.html">Entwerfen verf√ºgbarer Farbsysteme</a></li>
<li><a href="../de472412/index.html">Systemanalytiker und Produktmetriken - sch√ºtteln, aber nicht mischen?</a></li>
<li><a href="../de472414/index.html">Die lange Geschichte schneller Neutronenreaktoren und das Versprechen eines geschlossenen Brennstoffkreislaufs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>