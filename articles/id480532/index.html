<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐾 👁‍🗨 💅🏻 EDA dari sudut yang berbeda 🐛 🕴🏾 ⛈️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kami tidak akan berbicara tentang makanan, tetapi tentang analisis data eksplorasi (EDA ), yang merupakan awal dari setiap ML yang keras. 

 Sejujurny...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>EDA dari sudut yang berbeda</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/480532/"><img src="https://habrastorage.org/webt/zr/g9/ed/zrg9ed_nsynok9a9aa2st6s0vjo.jpeg" alt="gambar"><br><br>  Kami tidak akan berbicara tentang makanan, tetapi tentang <a href="https://en.wikipedia.org/wiki/Exploratory_data_analysis">analisis data eksplorasi (EDA</a> ), yang merupakan awal dari setiap ML yang keras. <br><br>  Sejujurnya, prosesnya agak membosankan, dan untuk mendapatkan setidaknya beberapa wawasan yang berarti tentang data kami, Anda perlu menghabiskan cukup waktu secara aktif menggunakan perpustakaan visualisasi favorit Anda. <br><br>  Sekarang bayangkan kita cukup malas (tapi penasaran) dan akan mengikuti postulat ini di seluruh artikel ini. <br><a name="habracut"></a><br>  Berdasarkan ini, kami bertanya pada diri sendiri pertanyaan berikut: apakah ada alat rumit di alam yang hanya memungkinkan menekan CTRL + ENTER di IDE favorit Anda dan menampilkan pada satu layar (tanpa menggulir ke bawah dan aspek mikroskopis yang tak terhitung jumlahnya) gambar lengkap dengan informasi yang berguna tentang dataset kami? <br><br>  Pada saat yang sama, kami mengingat pemikiran yang berbeda - jika instrumen seperti itu ada, itu tidak akan menggantikan EDA klasik, tetapi itu akan sangat membantu bagi kami dalam kasus-kasus ketika Anda tidak harus menghabiskan berjam-jam pada visualisasi untuk dengan cepat menekankan pola utama dalam data kami. <br><br>  Struktur artikel ini: <br><br><ol><li>  <a href="https://habr.com/ru/post/480532/">Preprocessing kecil</a> </li><li>  <a href="https://habr.com/ru/post/480532/">Visualisasi prediktor</a> </li><li>  <a href="https://habr.com/ru/post/480532/">Diskritisasi variabel</a> </li><li>  <a href="https://habr.com/ru/post/480532/">Corelationfunnel</a> </li><li>  <a href="https://habr.com/ru/post/480532/">Peringkat Lintas Korelasi</a> </li><li>  <a href="https://habr.com/ru/post/480532/">easyalluvial</a> </li></ol><br>  Kami selesai dengan pengantar dan mengambil sebagai contoh praktis sebagai dasar. <br><br><div class="spoiler">  <b class="spoiler_title">Contoh Pendekatan</b> <div class="spoiler_text">  <sub><i>Awalnya, saya ingin mengambil semacam array data yang tidak jelas, tetapi pada akhirnya saya menyadari bahwa sebagai contoh itu tidak akan terlalu baik - pola yang ditemukan mungkin tampak tidak jelas dan karena itu kontroversial, tetapi tujuan kami adalah menyiapkan array dengan algoritma yang tidak memiliki informasi apriori dan akan menunjukkan kepada kita apa kita sudah tahu, dengan demikian menegaskan kelangsungan hidup kita.</i></sub> <sub><br></sub> <br></div></div><br>  Bagi saya, Titanic adalah yang paling nyaman sebagai contoh, ukurannya tidak terlalu kecil seperti Iris, ia memiliki variabel yang tidak informatif, dipelajari dengan baik dan memiliki prediktor yang jelas dan, yang penting, merupakan dasar historis. <br><br>  Selain itu, saya menemukan sebuah artikel tentang Habré di mana penulis melakukan EDA yang agak teliti dari kumpulan data ini dan berdasarkan pada gambar-gambar yang saya perlihatkan temuannya.  Ini akan menjadi semacam Baseline kami. <br><br>  Tautkan ke artikel dengan nama besar untuk "Baseline_EDA" kami: <br>  <a href="https://habr.com/ru/company/mlclass/blog/270973/">Titanic on Kaggle: Anda tidak akan membaca posting ini sampai akhir</a> . <br><br>  Agar tidak repot mengunduh / membaca csv dari jaringan, kami segera menangkap set data asli dari CRAN <br><br><pre><code class="plaintext hljs">install.packages("titanic") data("titanic_train",package="titanic")</code> </pre> <br><h1><a name="preprocess"></a>  Preprocessing singkat </h1><br>  Contoh ini dilingkari dalam jaringan dengan preprocessing atas dan ke bawah sehingga saya tidak akan secara khusus melahap topik ini, saya melakukan hal-hal dasar: Saya mengekstrak nama gonoratora (judul) sebagai prediktor penting dan menggunakannya untuk mengisi kesenjangan usia. <br><br><pre> <code class="plaintext hljs">library(tidyverse) titanic_train %&gt;% str d &lt;- titanic_train %&gt;% as_tibble %&gt;% mutate(title=str_extract(Name,"\\w+\\.") %&gt;% str_replace(fixed("."),"")) %&gt;% mutate(title=case_when(title %in% c('Mlle','Ms')~'Miss', #   title=='Mme'~ 'Mrs', title %in% c('Capt','Don','Major','Sir','Jonkheer', 'Col')~'Sir', title %in% c('Dona', 'Lady', 'Countess')~'Lady', TRUE~title)) %&gt;% mutate(title=as_factor(title), Survived=factor(Survived,levels = c(0,1),labels=c("no","yes")), Sex=as_factor(Sex), Pclass=factor(Pclass,ordered = T)) %&gt;% group_by(title) %&gt;% #  -      mutate(Age=replace_na(Age,replace = median(Age,na.rm = T))) %&gt;% ungroup #             table(d$title,d$Sex)</code> </pre><br><div class="scrollable-table"><table><tbody><tr><th>  judul </th><th>  laki-laki </th><th>  perempuan </th></tr><tr><td>  Tuan </td><td>  517 </td><td>  0 </td></tr><tr><td>  Ny </td><td>  0 </td><td>  126 </td></tr><tr><td>  Nona </td><td>  0 </td><td>  185 </td></tr><tr><td>  Tuan </td><td>  40 </td><td>  0 </td></tr><tr><td>  Pak </td><td>  8 </td><td>  0 </td></tr><tr><td>  Pdt </td><td>  6 </td><td>  0 </td></tr><tr><td>  Dr </td><td>  6 </td><td>  1 </td></tr><tr><td>  Nyonya </td><td>  0 </td><td>  2 </td></tr></tbody></table></div><br><h1><a name="lessinform"></a>  Tidak semua yogurt sama-sama sehat ... </h1><br>  Biasanya, pada awal analisis, saya menyisihkan variabel tidak informatif ke samping (saya menyisihkan dan tidak menghapus secara permanen, karena ketika saya mendapatkan hasil maksimal dari model, rekayasa untuk beberapa variabel yang tertunda memberikan persentase tertentu dari peningkatan kualitas model). <br><br>  Metrik untuk menilai "utilitas" suatu variabel adalah freqRatio (rasio frekuensi dari nilai paling populer relatif terhadap nilai kedua dalam frekuensi) dan persenUnique (daya atau kardinalitas - proporsi angka unik dari jumlah total nilai) <br>  Bantuan terperinci dapat dilihat dari paket caret <br> <code>?caret::nearZeroVar</code> <br> <br><pre> <code class="plaintext hljs">(feat.scan &lt;- caret::nearZeroVar(x = d,saveMetrics = T) %&gt;% rownames_to_column("featName") %&gt;% as_tibble)</code> </pre> <br><img src="https://habrastorage.org/webt/8q/hs/ji/8qhsji8_xsdpbtizf6bqvghdk3a.jpeg" alt="gambar"><br><br>  Lebih mudah bagi saya untuk memonitor variabel dalam bidang dua dimensi (dengan mencatat kedua sumbu sehingga titik tidak overplotting menjadi satu tumpukan kecil karena titik outlier). <br>  Saya tidak pernah bertanya-tanya apakah langkah ini adalah EDA, tetapi ketika menulis artikel ini saya pikir: kita sekarang sedang melakukan analisis eksplorasi dari beberapa kegunaan prediktor, penilaian visual mereka, jadi mengapa bukan EDA? <br><br><pre> <code class="plaintext hljs"># install.packages("ggrepel") library(ggrepel) ggplot(feat.scan,aes(x=percentUnique,y=freqRatio,label=featName,col=featName))+ geom_point(size=2)+ geom_text_repel(data = feat.scan,size=5)+scale_x_log10()+scale_y_log10()+theme_bw()</code> </pre><br><img src="https://habrastorage.org/webt/7v/fc/ec/7vfcecjnvcaog5hh93sbziy8ouc.jpeg" alt="gambar"><br><br>  Kami menganggap prediktor outlier tidak informatif baik dalam hal daya (sumbu X) atau dalam rasio frekuensi (sumbu Y) dan, karenanya, sisihkan: <br>  Penumpang  Nama;  Tiket  Kabin <br><br><pre> <code class="plaintext hljs">useless.feature &lt;- c("PassengerId","Name","Ticket","Cabin") d &lt;- d %&gt;% select_at(vars(-useless.feature))</code> </pre><br><h1><a name="discret"></a>  Alam semesta ini terpisah </h1><br>  Untuk memahami bagaimana perpustakaan yang tercantum di bawah ini menyiapkan data - di bagian ini kami menunjukkan dengan contoh kecil apa yang terjadi di perpustakaan ini pada tahap persiapan data. <br><br>  Pada langkah pertama, perlu untuk membawa semua data ke tipe tunggal - seringkali data dalam satu set dapat bersifat kategoris dan numerik, apalagi, angka dapat memiliki outlier dan data kategorikal dapat berupa kategori langka. <br><br>  Untuk mengonversi variabel kontinu menjadi variabel kategorikal, kita dapat menguraikan angka-angka kita menjadi nampan dengan periode pengambilan sampel tertentu. <br><br>  Contoh paling sederhana dari penguraian menjadi 5 bin: <br><br><pre> <code class="plaintext hljs">iris %&gt;% as_tibble %&gt;% mutate_if(is.numeric,.funs = ggplot2::cut_number,n=5)</code> </pre><br><img src="https://habrastorage.org/webt/mz/bf/wb/mzbfwb5-xy8iddrjy7gvh_4mfvk.jpeg" alt="gambar"><br><br>  Untuk mendapatkan kekuatan dan directivity dari hubungan masing-masing elemen di antara prediktor, trik kedua digunakan - <a href="https://hackernoon.com/what-is-one-hot-encoding-why-and-when-do-you-have-to-use-it-e3c6186d008f">satu pengkodean panas</a> <br><br><pre> <code class="plaintext hljs">library(recipes) iris %&gt;% as_tibble %&gt;% mutate_if(is.numeric,cut_number,n=5) %&gt;% recipe(x = .) %&gt;% step_dummy(all_nominal(),one_hot = T) %&gt;% prep %&gt;% juice %&gt;% glimpse</code> </pre><br>  Alih-alih 5 prediktor, kami sekarang memiliki 23 prediksi, tetapi yang biner: <br><br><img src="https://habrastorage.org/webt/tv/qw/c4/tvqwc4gibltq3lghux0zhjgzwhc.jpeg" alt="gambar"><br><br>  Secara umum, trik konversi berakhir di sana, tetapi karya 2 dari 3 perpustakaan untuk EDA "non-klasik" kami baru saja dimulai dengan tahapan-tahapan ini. <br><br>  Berikutnya, saya memperkenalkan fungsionalitas 3 perpustakaan visualisasi: <br><br><ol><li>  <b>Correlationfunnel</b> - menunjukkan pengaruh nilai prediktor individual pada target (mis., Anda dapat menyebutnya EDA supervized learning) </li><li>  <b>Lares</b> - menunjukkan pengaruh nilai-nilai prediktor individual pada nilai-nilai individual lain dari prediktor lain (mis., Anda dapat menyebutnya EDA pembelajaran tanpa pengawasan) </li><li>  <b>easyalluvial</b> - menunjukkan hubungan kumulatif dari nilai yang dikelompokkan prediktor "X" teratas per target (yaitu, Anda dapat menyebutnya EDA supervized learning) </li></ol><br>  Jelas bahwa fungsinya berbeda, oleh karena itu, mendemonstrasikan perpustakaan ini, saya akan mengutip kesimpulan penulis dari <a href="https://habr.com/ru/company/mlclass/blog/270973/">artikel</a> "Baseline_EDA" kami, tergantung pada fungsionalitas yang dijelaskan di atas dari paket ini.  (Misalnya, jika penulis menunjukkan ketergantungan usia pada kelangsungan hidup, maka saya akan memasukkan kutipan seperti itu di Correlationfunnel, jika usia ada di kelas, lalu di Lares, dll.) <br><br>  Perpustakaan pertama di atas panggung. <br><br><h1><a name="corfun"></a>  saluran korelasi </h1><br>  <a href="https://business-science.github.io/correlationfunnel/">korelasifunnel adalah untuk mempercepat Analisis Data Eksplorasi (EDA)</a> <br><img src="https://habrastorage.org/webt/j3/9t/zb/j39tzbul1cekgctjk7znwkdszhu.jpeg" alt="gambar"><br><br>  Metodologi ini dijelaskan dengan baik dalam <a href="https://cran.r-project.org/web/packages/correlationfunnel/vignettes/key_considerations.html">sketsa</a> perpustakaan, saya akan memberikan fragmen menghitung korelasi dengan nilai-nilai biner <br><br><img src="https://habrastorage.org/webt/hd/7d/li/hd7dliqgmjdcsufitigzylb7hvy.jpeg" alt="gambar"><br><br>  Perpustakaan mengasumsikan keberadaan target (variabel dependen) dalam data kami dan langsung pada satu gambar menunjukkan kekuatan dan arah hubungan dan juga peringkat dalam urutan gaya ini membentuk corong visual (pada kenyataannya, ini adalah asal nama itu). <br><br>  Fungsi binarisasi yang ada di perpustakaan memungkinkan Anda untuk mengurangi kategori kecil menjadi Lainnya. <br><br>  Karena perpustakaan tidak berfungsi dengan variabel integer, kami akan mengubahnya menjadi numerik dan kembali ke Titanic kami. <br><br><pre> <code class="plaintext hljs">#install.packages("correlationfunnel") library(correlationfunnel) d &lt;- d %&gt;% mutate_if(is.integer,as.numeric) d %&gt;% binarize(n_bins = 5,thresh_infreq = .02,one_hot = T) %&gt;% #    correlate(target = Survived__yes) %&gt;% plot_correlation_funnel() # "interactive = T" - plotly!</code> </pre><br><img src="https://habrastorage.org/webt/-t/wj/l-/-twjl-woesnakv9rnym9ndugn5i.jpeg" alt="gambar"><br><br>  Pada sumbu X, kami memiliki kekuatan dan arah korelasi, pada sumbu Y, prediktor kami diberi peringkat dalam urutan menurun.  Yang pertama selalu mencerminkan target sebagai  ia memiliki korelasi terkuat dengan dirinya sendiri (-1; 1). <br><br>  Mari kita periksa bagaimana kesimpulan pada grafik ini tumpang tindih dengan kesimpulan dari penulis "Baseline_EDA" kami. <br><blockquote>  Grafik berikut menegaskan teori bahwa semakin tinggi kelas kabin penumpang, semakin besar peluang untuk bertahan hidup.  (Dengan "di atas" "Maksud saya urutan terbalik, karena kelas pertama lebih tinggi dari yang kedua dan, terutama, yang ketiga.) </blockquote>  Corong menunjukkan bahwa kelas adalah prediktor ketiga dalam hal kekuatan korelasi, dan memang, di kelas 3, korelasi terbalik, di kelas 1, positif kuat. <br><blockquote>  Bandingkan peluang bertahan hidup untuk pria dan wanita.  Data mengkonfirmasi teori yang diungkapkan sebelumnya. <br><br>  (Secara umum, kita dapat mengatakan bahwa faktor utama dari model ini adalah jenis kelamin penumpang) </blockquote><br>  Corong menunjukkan bahwa jenis kelamin penumpang adalah yang ke-2 menurut tingkat korelasinya, jenis kelamin perempuan berkorelasi dengan kelangsungan hidup, jenis kelamin laki-laki berkorelasi dengan kematian. <br><blockquote>  Anda juga dapat menguji hipotesis bahwa yang lebih muda bertahan, karena  mereka bergerak lebih cepat, berenang lebih baik, dll. <br><br>  Seperti yang Anda lihat, ketergantungan eksplisit tidak terlihat di sini. </blockquote><br>  Corong benar-benar berbicara tentang signifikansi lemah dari alat prediksi ini (saya ingat bahwa gonorant / judul berisi usia, itulah sebabnya usia tidak begitu signifikan), tetapi bahkan di sini corong menunjukkan bahwa ada lebih banyak peluang untuk bertahan hidup dalam kategori “minus tak terhingga - 20 tahun” (mis. Anak-anak ) dan 30-38 (orang kaya, mungkin 1 kelas). <br><blockquote>  Mari kita perkenalkan indikator seperti Persentase Kelangsungan Hidup dan lihat ketergantungannya pada kelompok yang muncul pada tahap sebelumnya </blockquote><br>  (grup penulis berarti judul). <br><br>  Funnel sepenuhnya mengkonfirmasi temuan penulis <br><blockquote>  Sekarang mari kita lihat informasi yang dapat diperoleh dari jumlah kerabat di kapal. <br><br>  Sangat mungkin bahwa tidak adanya kerabat, serta sejumlah besar, secara negatif mempengaruhi kelangsungan hidup. </blockquote><br>  SibSP di corong jelas mengatakan hal yang sama. <br><br>  Dan tentu saja, selain kesimpulan penulis, di sini Anda dapat melihat pola-pola lain, saya akan meninggalkan kesenangan kontemplasi kepada pembaca. <br><br><h1><a name="lrs"></a>  Lares </h1><br>  <a href="https://datascienceplus.com/find-insights-with-ranked-cross-correlations/">Temukan Wawasan dengan Korelasi Lintas Peringkat</a> <br><br><img src="https://habrastorage.org/webt/sd/yh/6g/sdyh6ghnnhtnjid9ay2k5s3d9we.png" alt="gambar"><br><br>  Penulis perpustakaan ini melangkah lebih jauh - ia menunjukkan dependensi tidak hanya pada target, tetapi juga pada segalanya. <br><br><blockquote>  Peringkat Cross-Correlations <u>tidak hanya menjelaskan hubungan fitur target spesifik dengan yang lain, tetapi hubungan semua nilai dalam data Anda</u> dalam format tabel yang mudah digunakan dan dipahami. <br><br>  Secara otomatis mengubah kolom kategorikal menjadi numerik dengan satu pengkodean panas (1s dan 0s) dan pengelompokan cerdas lainnya seperti label "lain-lain" untuk nilai yang tidak terlalu sering dan fitur baru yang ketinggalan zaman. </blockquote><br><br>  Dengan menggunakan tautan di atas, Anda dapat melihat contoh di mana penulis memasukkan dataset Star Wars ke paketnya dan menunjukkan dependensi yang ditemukan, saya terjebak di halamannya, sangat bagus. <br><br>  Mari kita coba pada contoh kita. <br><br><pre> <code class="plaintext hljs"># ,     : # devtools::install_github("laresbernardo/lares") library(lares) corr_cross(df = d,top = 30)</code> </pre><br><img src="https://habrastorage.org/webt/wd/mu/pv/wdmupvkf00yjchynm1mmsj_nxog.jpeg" alt="gambar"><br><br>  Selain persimpangan dengan kesimpulan berdasarkan tanda kutip, dalam Correlationfunnell kami menyajikan beberapa kutipan yang dapat kita lihat di sini terlepas dari target: <br><blockquote>  Pola lain juga dapat ditemukan.  Ada korelasi negatif antara usia dan kelas, yang kemungkinan besar disebabkan oleh penumpang yang lebih tua yang bisa lebih sering membeli kabin yang lebih mahal. </blockquote><br>  Dalam kutipan di atas, penulis menarik kesimpulan seperti itu pada analisis korelasi 2 bidang secara agregat, tetapi dengan One-Hot-Encoding, ini terbukti dari korelasi positif yang kuat antara Age + P_Class_1. <br><blockquote>  Selain itu, harga tiket dan kelas terkait erat (koefisien korelasi tinggi), yang sangat diharapkan. </blockquote><br>  Baris ketiga di atas: Tarif + P_Class_1 <br><br>  Selain bersinggungan dengan kesimpulan penulis, di sini orang dapat menekankan hal-hal yang jauh lebih menarik, saya juga akan meninggalkan kesenangan kontemplasi untuk pembaca. <br><br>  Selain pilihan opsional dari X top insight paling kuat, Anda juga dapat merefleksikan keseluruhan gambar dan tempat dari poin-poin penting ini dalam total massa <br><br><pre> <code class="plaintext hljs">corr_cross(df = d,type=2)</code> </pre><br><img src="https://habrastorage.org/webt/us/pa/ud/uspaudtooaflobmfge5tgdi6h6q.jpeg" alt="gambar"><br><br><h1><a name="alluv"></a>  easyalluvial </h1><br>  <a href="https://www.datisticsblog.com/2018/10/intro_easyalluvial/">Eksplorasi data dengan plot aluvial</a> <br><br><img src="https://habrastorage.org/webt/gm/xg/fp/gmxgfpjhfzpqgqiulecylpd6fge.gif" alt="gambar"><br><br>  Di sini, seperti pada 2 paket sebelumnya, penulis melakukan binarisasi variabel numerik pada awalnya, tetapi kemudian jalurnya dengan perpustakaan-perpustakaan itu berbeda: alih-alih {One-HotEncoding + korelasi}, perpustakaan menjabarkan X teratas dari prediktor yang paling menarik (pengguna memutuskan mana yang akan ditransfer. ) berdasarkan nilai, membentuk aliran yang warnanya tergantung pada target, dan lebar aliran pada jumlah pengamatan dalam aliran ini. <br><br>  Variabel numerik didekomposisi ke dalam kategori HH (Tinggi Tinggi), MH (Sedang Tinggi), M (Sedang), ML (Sedang Rendah), LL (Rendah Rendah) <br><br>  Pertama, mari kita ambil prediktor paling signifikan berdasarkan grafik dari CorelFunnel: <br><br><pre> <code class="plaintext hljs">cor.feat &lt;- c("title","Sex","Pclass","Fare")</code> </pre><br>  Selanjutnya kita buat jadwal <br><br><pre> <code class="plaintext hljs"># install.packages("easyalluvial") library(easyalluvial) al &lt;- d %&gt;% select(Survived,cor.feat) %&gt;% alluvial_wide(fill_by = "first_variable") add_marginal_histograms(p = al,data_input = d,keep_labels = F)</code> </pre><br><img src="https://habrastorage.org/webt/p5/rd/xd/p5rdxduvi-21s-xhwhvzxh5og88.jpeg" alt="gambar"><br><br>  Untuk kutipan penulis, kami menggambar kembali bagan menggunakan prediksi yang sesuai. <br><br><pre> <code class="plaintext hljs">cor.feat &lt;- c("Sex","Pclass","Age") al &lt;- d %&gt;% select(Survived,cor.feat) %&gt;% alluvial_wide(fill_by = "first_variable") add_marginal_histograms(p = al,data_input = d,keep_labels = F)</code> </pre><br><img src="https://habrastorage.org/webt/yz/pb/o-/yzpbo-6q9x0relwi6ewtpyqwlke.jpeg" alt="gambar"><br><br><blockquote>  Sebagai contoh, grafik berikut ini dengan jelas menunjukkan bahwa kelompok penyintas utama adalah perempuan kelas satu dan dua dari semua umur. </blockquote><br>  Grafik juga menunjukkan bahwa perempuan yang masih hidup dari kelas 3 juga bukan kelompok kecil <br><br><blockquote>  Dan di antara laki-laki, semua anak laki-laki di bawah usia 15 bertahan kecuali kelas layanan ketiga dan sebagian kecil pria yang lebih tua dan sebagian besar dari kelas pertama. </blockquote><br>  Hal tersebut di atas telah dikonfirmasi, tetapi sekali lagi kita melihat arus dari pria kelas 3 yang masih hidup dalam kategori usia LL, ML. <br><br>  Segala sesuatu di atas adalah tentang paket "easyalluvial", tetapi penulis menulis paket kedua "parcats" yang di atas plotly membuat grafik di atas interaktif (seperti dalam judul bagian ini). <br>  Hal ini memungkinkan tidak hanya untuk melihat konteks tooltip, tetapi juga untuk mengubah arah aliran untuk persepsi visual yang lebih baik.  (sayangnya, sementara perpustakaan tidak sangat dioptimalkan dan melambat pada titanic) <br><br><pre> <code class="plaintext hljs"># install.packages("parcats") library(parcats) cor.feat &lt;- c("title","Sex","Pclass","Fare") a &lt;- d %&gt;% select(Survived,cor.feat) %&gt;% alluvial_wide(fill_by = "first_variable") parcats(p = a,marginal_histograms = T,data_input = d)</code> </pre><br><img src="https://habrastorage.org/webt/bt/bc/c4/btbcc4rkdkc6b6jwh9it_mk1y0a.jpeg" alt="gambar"><br><br><h2>  Bonus </h2><br>  Pustaka easyalluvial, selain analisis data eksplorasi, juga dapat digunakan sebagai penerjemah untuk model kotak hitam (model yang menganalisis parameter yang tidak dapat dipahami - dengan logika apa model memberikan jawaban berdasarkan prediksi tertentu). <br><br>  Tautan ke artikel penulis: <a href="https://www.datisticsblog.com/2019/04/visualising-model-response-with-easyalluvial/">Visualisasikan respons model dengan plot aluvial</a> <br>  Dan kekhasannya adalah bahwa dari semua perpustakaan yang saya lihat, maksimum pada satu grafik menjelaskan respons kotak hitam dalam sistem koordinat tidak lebih dari 2 dimensi (satu untuk setiap prediktor), warna menjelaskan respons. <br><br>  Pustaka easyalluvial memungkinkan Anda melakukan ini pada lebih dari 2 prediktor pada saat yang sama (tentu saja, lebih baik tidak terbawa suasana) <br><br>  Sebagai contoh, mari kita latih hutan acak pada larik data kami dan mencerminkan penjelasan tentang hutan acak menggunakan 3 prediktor. <br><br><pre> <code class="plaintext hljs">library(ranger) m &lt;- ranger(formula = Survived~.,data = d,mtry = 6,min.node.size = 5, num.trees = 600, importance = "permutation") library(easyalluvial) (imp &lt;- importance(m) %&gt;% as.data.frame %&gt;% easyalluvial::tidy_imp(imp = .,df=d)) #      #  N-     (   .  !)   dspace &lt;- get_data_space(df = d,imp,degree = 3) #     pred = predict(m, data = dspace) alluvial_model_response(pred$predictions, dspace, imp, degree = 3)</code> </pre><br>  Selain itu, penulis memiliki konektor ke model CARET (Saya tidak tahu seberapa relevan hal ini sekarang mempertimbangkan tidymodels) <br><br><pre> <code class="plaintext hljs">library(caret) trc &lt;- trainControl(method = "none") m &lt;- train(Survived~.,data = d,method="rf",trControl=trc,importance=T) alluvial_model_response_caret(train = m,degree = 4,bins=5,stratum_label_size = 2.8)</code> </pre><br><img src="https://habrastorage.org/webt/qq/qf/iv/qqqfivwgoucmfoikmwhp9mdwelw.jpeg" alt="gambar"><br><br><h1>  Kesimpulan </h1><br>  Sekali lagi saya ulangi bahwa saya tidak meminta penggantian EDA klasik, tetapi setuju bahwa itu baik ketika ada alternatif yang menghemat banyak waktu, terutama mengingat bahwa orang secara alami cukup malas, dan ini, seperti yang Anda tahu, adalah mesin kemajuan :) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id480532/">https://habr.com/ru/post/id480532/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id480518/index.html">Tutor pemrograman: mengapa Anda harus menjadi guru dan bagaimana melakukannya</a></li>
<li><a href="../id480520/index.html">Pemrograman fungsional dari sudut pandang EcmaScript. Rekursi dan tipenya</a></li>
<li><a href="../id480526/index.html">Prosesor Intel memuntahkan kunci privat, jika Anda bermain dengan voltase</a></li>
<li><a href="../id480528/index.html">Mengapa Facebook akan memungkinkan Anda untuk mentransfer data pengguna ke layanan lain</a></li>
<li><a href="../id480530/index.html">IOT bukan mainan untuk anak-anak. Bagaimana serangan hacker di Internet membuat banyak hal menakutkan tidak hanya perusahaan besar, tetapi juga keluarga biasa</a></li>
<li><a href="../id480534/index.html">16 tips pengembangan untuk android di Kotlin. Bagian 2</a></li>
<li><a href="../id480538/index.html">Apa yang lebih baik untuk game: Intel Optane atau SSD?</a></li>
<li><a href="../id480540/index.html">Rilis Umbraco 8.4: CMS bahkan lebih nyaman</a></li>
<li><a href="../id480542/index.html">Kesadaran Keamanan Dewasa: Cara Menutup Kerentanan Phishing</a></li>
<li><a href="../id480550/index.html">Hello World dari Bytecode untuk JVM</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>