<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§ûüèª üï¢ üè∫ Pionero del procesador Qualcomm Centriq 2400. ¬øAsesino de Intel? üçÇ üê¨ üë©</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A principios de noviembre de 2017, Qualcomm Datacenter Technologies (QDT) complet√≥ el trabajo en su nueva creaci√≥n, un procesador basado en tecnolog√≠a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pionero del procesador Qualcomm Centriq 2400. ¬øAsesino de Intel?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/408741/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/g7/5n/3n/g75n3ntbmfmydlytlwfk8w_ddya.jpeg"></div><br>  A principios de noviembre de 2017, Qualcomm Datacenter Technologies (QDT) complet√≥ el trabajo en su nueva creaci√≥n, un procesador basado en tecnolog√≠a de 10 nm, Centriq 2400. ¬øQu√© futuro le espera a la industria seg√∫n los creadores de esta innovaci√≥n?  ¬øCu√°les son los beneficios de obtener servidores y por qu√© el Centriq 2400 es tan √∫nico?  Lea m√°s sobre esto y m√°s. <a name="habracut"></a><br><br>  El 8 de noviembre, se celebr√≥ una conferencia de prensa de QDT en San Jos√© (California), en la que se anunci√≥ oficialmente el inicio de las entregas del nuevo procesador.  Anand Chandrasekher, Vicepresidente Senior y Director Ejecutivo, dijo: <br><br><blockquote>  La presentaci√≥n de hoy es un logro importante y la culminaci√≥n de m√°s de 4 a√±os de diligente dise√±o, desarrollo y soporte del sistema ... Hemos creado el procesador de servidor m√°s avanzado del mundo, que proporciona un alto rendimiento combinado con un alto nivel de eficiencia energ√©tica, lo que permite a nuestros clientes reducir significativamente sus costos. </blockquote><br><br>  Adem√°s del orgullo no disfrazado de su producto, los representantes de la compa√±√≠a no tienen reparos en declarar que su procesador Centriq 2400 es significativamente superior a los productos de la competencia, por ejemplo, Intel Xeon Platinum 8180. Seg√∫n sus c√°lculos, por cada d√≥lar gastado (y el costo del procesador es de $ 1995), el usuario obtendr√° rendimiento en 4 veces  Y cuando se recalcula en rendimiento en 1 vatio, en un 45% m√°s.  Sin embargo, en negrita, muchos de los representantes de varias compa√±√≠as interesadas en el nuevo producto est√°n m√°s que felices de escucharlos. <br><br><h2>  Especificaciones t√©cnicas de Qualcomm Centriq 2400 </h2><br>  <b>Arquitectura de CPU:</b> <br><br><ul><li>  hasta 48 n√∫cleos de 64 bits con una frecuencia pico de 2.6 GHz; </li><li>  Compatibilidad Armv8 </li><li>  AArch64 solamente; </li><li>  Armv8 FP / SIMD; </li><li>  Extensi√≥n de CRC y Armv8 Crypto; </li></ul><br>  <b>Cach√© de la CPU:</b> <br><br><ul><li>  Cach√© de 64 Kb de instrucciones (instrucciones) L1 y 24 Kb de cach√© de ciclo √∫nico L0; </li><li>  Cach√© de datos de 32 Kb L1; </li><li>  512 KB de cach√© L2 total por cada 2 n√∫cleos; </li><li>  60 MB de cach√© L3 compartida; </li><li>  filtrado de solicitudes de interprocesador L2; </li><li>  QoS; </li></ul><br>  <i>donde, L (L1, L2, L3, L0) es el nivel, es decir</i>  <i>L0 es el nivel cero.</i> <br><br>  <b>Tecnolog√≠a:</b> <br><br><ul><li>  La tecnolog√≠a FinFET de 10 nm de Samsung; </li></ul><br>  <b>Ancho de banda de memoria:</b> <br><br><ul><li>  6 canales para conectar m√≥dulos de memoria DDR4; </li><li>  hasta 2667 MT / s por conexi√≥n; </li><li>  128 GB / s: ancho de banda total m√°ximo; </li><li>  Compresi√≥n de ancho de banda incorporada </li></ul><br>  <b>Capacidad de memoria:</b> <br><br><ul><li>  768 GB = 128 GB x 6 conexiones; </li></ul><br>  <b>Tipo de memoria:</b> <br><br><ul><li>  Conexiones DDR4 de 64 bits con ECC de 8 bits; </li><li>  RDIMM y LRDIMM; </li></ul><br>  <b>Interfaz compatible</b> <br><br><ul><li>  GPIO </li><li>  I¬≤C; </li><li>  SPI </li><li>  8 bandas SATA Gen 3; </li><li>  32 PCIe Gen3 con la capacidad de conectar hasta 6 controladores PCIe; </li></ul><br>  Adem√°s de las caracter√≠sticas anteriores, vale la pena se√±alar que este procesador tiene 18 mil millones de transistores en cada chip.  Y todos sus n√∫cleos est√°n conectados por un bus de anillo bidireccional.  Con la carga m√°xima, el Centriq 2400 consume solo 120 vatios. <br><br>  El enfoque principal del nuevo procesador sigue siendo soluciones en la nube.  Seg√∫n los representantes de la compa√±√≠a, Centriq 2400 le permitir√° crear sistemas de servidor que se caracterizar√°n por su alto rendimiento, eficiencia y escalabilidad. <br><br>  Esto no pod√≠a dejar de atraer a muchas empresas, tecnolog√≠as en la nube para las cuales son casi la base de sus actividades.  A la presentaci√≥n asistieron: Alibaba, LinkedIn, Cloudflare, American Megatrends Inc., Arm, Cadence Design Systems, Canonical, Chelsio Communications, Excelero, Hewlett Packard Enterprise, Illumina, MariaDB, Mellanox, Microsoft Azure, MongoDB, Netronome, Packet, Red Hat, ScyllaDB, 6WIND, Samsung, Solarflare, Smartcore, SUSE, Synopsys, Uber, Xilinx.  La lista es bastante impresionante, lo que indica una mayor atenci√≥n a este producto. <br><br>  Por el momento, el procesador Qualcomm Centriq 2400 solo est√° ganando impulso, tanto en prevalencia como en popularidad.  Lo que, naturalmente, conducir√° a la aparici√≥n de algo nuevo, similar o incluso m√°s productivo, de los competidores de QDT. <br><br>  Pero no todos creen ciegamente en la frescura de los nuevos art√≠culos.  Si aquellos que creen que realizar pruebas y an√°lisis comparativos de varios procesadores les permitir√°n ver resultados mucho m√°s indicativos que las palabras de los promotores Centriq 2400. <br><br>  Cloudflare realiz√≥ un an√°lisis comparativo de tres plataformas: Grantley (Intel), Purley (Intel) y Centriq (Qualcomm). <br><br>  A continuaci√≥n se presentar√°n gr√°ficos de este an√°lisis y las conclusiones de su autor, <b>Vlad Krasnov</b> .  ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Original de este an√°lisis en el blog de Cloudflare</a> ) <br><br><h2>  Criptograf√≠a de clave p√∫blica </h2><br><img src="https://habrastorage.org/webt/_q/42/2j/_q422juc1e9u-oqrqbeoxvsarba.png"><br><br><img src="https://habrastorage.org/webt/bf/up/_y/bfup_ysr_-7byinpj4h03-4ut2q.png"><br><br>  La criptograf√≠a de clave p√∫blica es el rendimiento m√°s puro de ALU (dispositivo de l√≥gica aritm√©tica).  Es interesante, pero no sorprendente, que en un punto de referencia b√°sico, el n√∫cleo de Broadwell es m√°s r√°pido que Skylake, y ambos son m√°s r√°pidos que Falkor.  Esto se debe a que Broadwell opera a una frecuencia m√°s alta, aunque en t√©rminos de arquitectura no es muy inferior a Skylake. <br><br>  Falkor es inferior a los dem√°s en esta prueba.  En primer lugar, el modo turbo se activ√≥ en uno de los puntos de referencia b√°sicos, lo que significa que los procesadores Intel funcionan a una frecuencia m√°s alta.  Adem√°s, Intel present√≥ dos instrucciones especiales en Broadwell para acelerar el procesamiento de grandes n√∫meros: ADCX y ADOX.  Realizan dos operaciones independientes de agregar con llevar por ciclo, mientras que ARM solo puede hacer una.  Del mismo modo, el conjunto de instrucciones ARMv8 no tiene un solo comando para realizar la multiplicaci√≥n de 64 bits; en cambio, se usa un par de instrucciones MUL y UMULH. <br><br>  Sin embargo, a nivel de SoC, Falkor gana.  Es un poco m√°s lento que Skylake en t√©rminos de RSA2048, y solo porque RSA2048 no tiene una implementaci√≥n optimizada para ARM.  El rendimiento de ECDSA es rid√≠culamente alto.  Un solo chip Centriq puede satisfacer las necesidades de casi cualquier empresa en el mundo con ECDSA. <br><br>  Tambi√©n es muy interesante ver que Skylake supera a Broadwell en un 30%, a pesar de que perdi√≥ un n√∫cleo en la prueba y tiene solo un 20% m√°s de n√∫cleos que Broadwell.  Esto puede explicarse por un modo turbo m√°s eficiente y un hiperhilo mejorado. <br><br><h2>  Criptograf√≠a Sim√©trica </h2><br><img src="https://habrastorage.org/webt/pe/mn/ib/pemnibyrsgxfmkwl1luagfrvxbi.png"><br><br><img src="https://habrastorage.org/webt/ri/1u/1p/ri1u1pturbightaxqt2bmqu90o0.png"><br><br>  El rendimiento de los n√∫cleos de Intel en criptograf√≠a sim√©trica es simplemente excelente. <br><br>  AES-GCM utiliza una combinaci√≥n de instrucciones de hardware especiales para acelerar AES y CLMUL.  Intel introdujo estas instrucciones por primera vez en 2010, con su procesador Westmere y con cada generaci√≥n mejoraron su rendimiento.  ARM introdujo recientemente un conjunto de instrucciones similares con su conjunto de instrucciones de 64 bits como una adici√≥n opcional.  Afortunadamente, todos los proveedores de equipos que conozco los han implementado.  Es muy probable que Qualcomm mejore el rendimiento de las instrucciones criptogr√°ficas en las generaciones futuras. <br><br>  ChaCha20-Poly1305 es un algoritmo m√°s general dise√±ado de tal manera que se aprovechen mejor los m√≥dulos SIMD anchos.  Qualcomm solo tiene NEON SIMD de 128 bits, Broadwell tiene AVX2 de 256 bits y Skylake tiene AVX-512 de 512 bits.  Esto explica por qu√© Skylake con tal margen dej√≥ a la cabeza en la evaluaci√≥n del trabajo con un solo n√∫cleo.  En la prueba de todos los n√∫cleos, la brecha de Skylake del resto se redujo al mismo tiempo, ya que deber√≠a reducir la frecuencia del reloj al realizar cargas de trabajo AVX-512.  Cuando se ejecuta el AVX-512 en todos los n√∫cleos, la frecuencia base disminuye a 1.4 GHz.  Tenga esto en cuenta si combina AVX-512 y otro c√≥digo. <br><br>  La conclusi√≥n con respecto a la criptograf√≠a sim√©trica es que, aunque Skylake lidera, Broadwell y Falkor mostraron muy buenos resultados, con un rendimiento bastante alto en casos reales, dado que, por nuestro lado, el RSA consume m√°s tiempo de procesador que todos los dem√°s algoritmos criptogr√°ficos combinados . <br><br><h2>  Compresi√≥n (compresi√≥n) </h2><br>  La siguiente prueba que quer√≠a hacer era la compresi√≥n.  Por dos razones  En primer lugar, esta es una carga de trabajo importante, porque cuanto mejor sea la compresi√≥n, menos brechas en la capacidad, y esto permite una entrega m√°s r√°pida de contenido al cliente.  En segundo lugar, esta es una carga de trabajo de predicci√≥n err√≥nea de alta frecuencia muy exigente. <br><br>  Obviamente, la primera prueba ser√° la popular biblioteca zlib.  En Cloudflare, utilizamos una versi√≥n mejorada de la biblioteca optimizada para procesadores Intel de 64 bits, y aunque est√° escrita principalmente en C, utiliza algunas caracter√≠sticas integradas espec√≠ficas de Intel.  Ser√≠a injusto comparar esta versi√≥n optimizada con el zlib original.  Pero no se preocupe, un poco de esfuerzo y adapt√© la biblioteca para que funcione en la arquitectura ARMv8, utilizando las propiedades NEON y CRC32.  Adem√°s, su velocidad es 2 veces mayor que la original, para algunos archivos. <br><br>  La segunda prueba es la nueva biblioteca brotli, escrita en C y que permite el uso de condiciones iguales para todas las plataformas. <br><br>  Todas las pruebas se realizaron en HTML blog.cloudflare.com, en memoria, similar a c√≥mo NGINX realiza la compresi√≥n de transmisi√≥n.  A menos que la versi√≥n espec√≠fica del archivo HTML sea 29329 bytes, que es un buen indicador, ya que corresponde al tama√±o de la mayor√≠a de los archivos que comprimimos.  La prueba de compresi√≥n paralela es la compresi√≥n paralela de varios archivos al mismo tiempo, la compresi√≥n √∫nica es la compresi√≥n de un archivo en varias secuencias, similar a c√≥mo funciona NGINX. <br><br>  <b>gzip</b> <br><br><img src="https://habrastorage.org/webt/jz/ns/mo/jznsmosepbzqy5mykgygmspskhc.png"><br><br><img src="https://habrastorage.org/webt/mq/cw/rm/mqcwrmjprwyfhogfakh9rez8yas.png"><br><br>  Usando gzip en el nivel de n√∫cleo √∫nico, Skylake sin duda gana.  Con una frecuencia menor que Broadwell, Skylake se beneficia de una menor exposici√≥n a la predicci√≥n err√≥nea de las ramas.  El n√∫cleo de Falkor no est√° muy lejos.  A nivel del sistema, Falkor funciona mucho mejor con m√°s n√∫cleos.  Observe c√≥mo gzip escala bien en m√∫ltiples n√∫cleos. <br><br>  <b>Brotli</b> <br><br>  Con brotli en un n√∫cleo, la situaci√≥n es similar a la anterior.  Skylake es el m√°s r√°pido, pero Falkor no est√° muy lejos.  Y en el est√°ndar 9, Falkor es a√∫n m√°s r√°pido.  Standard 4 Brotli es muy similar al nivel 5 de gzip, mientras que la compresi√≥n real es a√∫n mejor (8010B versus 8187B). <br><br>  Al comprimir en m√∫ltiples n√∫cleos, la situaci√≥n se vuelve un poco confusa.  Para los niveles 4, 5 y 6, el brotli escala muy bien.  En los niveles 7 y 8, comienza a caer productivamente en el n√∫cleo, hundi√©ndose hasta el fondo en el nivel 9, donde obtenemos 3 veces menos productividad de todos los n√∫cleos en comparaci√≥n con uno. <br><br>  En mi opini√≥n, esto se debe al hecho de que con cada nivel, brotli comienza a consumir m√°s memoria y bloquea el cach√©.  Los indicadores ya comienzan a recuperarse en los niveles 10 y 11. <br><br><img src="https://habrastorage.org/webt/fj/8b/h_/fj8bh_k2ztukrrvk5mrnsewzh1m.png"><br><br><img src="https://habrastorage.org/webt/gc/re/b9/gcreb99cb-d-ve1ofgmz5rkgity.png"><br><br>  Como conclusi√≥n, Falkor gan√≥, dado que la compresi√≥n din√°mica no superar√° el nivel 7. <br><br><h2>  Golang </h2><br>  Golang es otro lenguaje muy importante para Cloudflare.  Tambi√©n es uno de los primeros idiomas que admite ARMv8, por lo que puede esperar un buen rendimiento.  Utilic√© algunas pruebas integradas, pero las modifiqu√© para m√∫ltiples goroutines. <br><br>  <b>Ir cripto</b> <br><br>  Me gustar√≠a comenzar con las pruebas de rendimiento de cifrado.  Gracias a OpenSSL, tenemos excelentes datos de origen, y ser√° muy interesante ver qu√© tan buena es la biblioteca Go. <br><br><img src="https://habrastorage.org/webt/xy/fj/pf/xyfjpfgcv19xdvypw4tu35ejyrm.png"><br><img src="https://habrastorage.org/webt/9v/xg/tr/9vxgtrubcqgpmuemhspyvlzzr9w.png"><br><img src="https://habrastorage.org/webt/tv/gk/11/tvgk11dl9zsya8m1bvz6cmzwwqk.png"><br><img src="https://habrastorage.org/webt/cn/ws/ue/cnwsuep6om3uhmwimyyxx1oj0yk.png"><br><br>  Con respecto a Go crypto, ARM e Intel ni siquiera est√°n en la misma categor√≠a de peso.  Go tiene un c√≥digo de ensamblador altamente optimizado para ECDSA, AES-GCM y Chacha20-Poly1305 en Intel.  Tambi√©n hay funciones matem√°ticas optimizadas utilizadas en los c√°lculos RSA.  ARMv8 no tiene todo esto, lo que lo coloca en una posici√≥n muy desventajosa. <br><br>  Sin embargo, la brecha se puede reducir con relativamente poco esfuerzo, y sabemos que con la optimizaci√≥n adecuada, el rendimiento puede estar a la par con OpenSSL.  Incluso cambios muy menores, como la implementaci√≥n de la funci√≥n addMulVVW en el ensamblaje, conducen a un aumento de m√°s de diez veces en el rendimiento de RSA, colocando a Falkor (con un puntaje de 8009) por encima de Broadwell y Skylake. <br><br>  Vale la pena se√±alar otra cosa interesante: en Skylake, el c√≥digo Go Chacha20-Poly1305 que usa AVX2 funciona de manera muy similar al c√≥digo OpenSSL AVX512.  Nuevamente, esto se debe al hecho de que el AVX2 funciona a frecuencias de reloj m√°s altas. <br><br>  <b>Go gzip</b> <br><br>  Ahora echemos un vistazo al rendimiento Go de gzip.  Tambi√©n hay una gran gu√≠a para el c√≥digo bastante bien optimizado, y podemos compararlo con Go.  En el caso de la biblioteca gzip, no hay optimizaciones espec√≠ficas para Intel. <br><br><img src="https://habrastorage.org/webt/q5/r4/zi/q5r4zife3uy5oyx7xibltas7z0i.png"><br><br><img src="https://habrastorage.org/webt/np/lh/zw/nplhzwlsbteyuqd5rys9n_atkea.png"><br><br>  El rendimiento de Gzip es bastante bueno.  El rendimiento en un solo n√∫cleo Falkor est√° muy por detr√°s de ambos procesadores Intel, pero a nivel de sistema, logr√≥ vencer a Broadwell y se encuentra debajo de Skylake.  Como ya sabemos que Falkor es superior a los otros dos procesadores cuando se ejecuta C. Esto solo puede significar una cosa: el backend Go para ARMv8 todav√≠a no est√° finalizado en comparaci√≥n con gcc. <br><br>  <b>Ir regexp</b> <br><br>  Regexp se usa ampliamente en una variedad de tareas, porque su rendimiento tambi√©n es extremadamente importante.  Ejecut√© pruebas integradas en transmisiones de 32 kb. <br><br><img src="https://habrastorage.org/webt/eb/lh/hw/eblhhwqsqlkorgzoskrl1ftjqew.png"><br><br><img src="https://habrastorage.org/webt/ck/so/w-/cksow-2fqsy9q71ayf82_girtme.png"><br><br><img src="https://habrastorage.org/webt/iu/gh/ma/iughmavke4vuhnid0wggsclwgc8.png"><br><br><img src="https://habrastorage.org/webt/hl/zu/39/hlzu39oybk_wktuewhnpnfxm7ia.png"><br><br>  En Falkor, el rendimiento de Go regexp no es muy bueno.  Toma el segundo lugar en pruebas medias y complejas, gracias a una mayor cantidad de n√∫cleos, pero Skylake es mucho m√°s r√°pido. <br><br>  Una mirada m√°s cercana al proceso muestra que se dedica mucho tiempo a la funci√≥n bytes.IndexByte.  Esta funci√≥n tiene una implementaci√≥n de ensamblador para amd64 (runtime.indexbytebody), pero la implementaci√≥n principal es para Go.  Durante las pruebas livianas, regexp pas√≥ a√∫n m√°s tiempo en esta funci√≥n, lo que explica la brecha m√°s amplia. <br><br>  <b>Ir cuerdas</b> <br><br>  Otra biblioteca importante para el servidor web son las cadenas Go.  Prob√© solo la clase principal de Replacer. <br><br><img src="https://habrastorage.org/webt/36/tv/ho/36tvhoaz63ev1njmhzck3zw00iu.png"><br><br><img src="https://habrastorage.org/webt/ii/e9/pv/iie9pvryauw1fjclroxrwt4mnn0.png"><br><br>  En esta prueba, Falkor vuelve a quedarse atr√°s, incluso detr√°s de Broadwell.  Una mirada m√°s cercana revela una larga permanencia en la funci√≥n runtime.memmove.  ¬øSabes que?  Ella tiene un c√≥digo de ensamblador perfectamente optimizado para amd64 que usa AVX2, pero solo el ensamblador m√°s simple que copia 8 bytes a la vez.  Al cambiar 3 l√≠neas en este c√≥digo y usar las instrucciones LDP / STP (carga de pares / almacenamiento de pares), puede copiar 16 bytes a la vez, lo que aument√≥ el rendimiento de memmove en un 30%, lo que, a su vez, acelera EscapeString y UnescapeString en un 20%.  Y esto es solo la punta del iceberg. <br><br>  <b>Ir a la conclusi√≥n</b> <br><br>  Ir a soporte en aarch64 es bastante decepcionante.  Me complace anunciar que todo se compil√≥ y funcion√≥ a la perfecci√≥n, pero por el lado del rendimiento podr√≠a ser mejor.  Uno tiene la impresi√≥n de que la mayor parte del esfuerzo se gast√≥ en el backend del compilador, y la biblioteca estaba casi intacta.  Hay muchas optimizaciones de bajo nivel, por ejemplo, mi arreglo addMulVVW, que tard√≥ 20 minutos.  Qualcomm y otros proveedores de ARMv8 tienen la intenci√≥n de gastar importantes recursos t√©cnicos para rectificar la situaci√≥n, pero cualquiera puede contribuir a Go.  Por lo tanto, si desea dejar su huella en el historial, ahora es el momento. <br><br><h2>  Luajit </h2><br>  Lua es el pegamento que mantiene unido Cloudflare. <br><br><img src="https://habrastorage.org/webt/zk/pv/7t/zkpv7t0xtx50qqqyyqnhanp0ydm.png"><br><br><img src="https://habrastorage.org/webt/we/4n/mv/we4nmvud-5vh6l7wds4cnak1fmq.png"><br><br>  Con la excepci√≥n de la prueba binary_trees, el rendimiento de LuaJIT en ARM es muy competitivo.  Gana dos pruebas, y la tercera va cara a cara con los competidores. <br><br>  Vale la pena se√±alar que la prueba binary_trees es extremadamente importante, ya que involucra muchos ciclos de asignaci√≥n de memoria y recolecci√≥n de basura.  Requiere una consideraci√≥n m√°s meticulosa en el futuro. <br><br><h2>  Nginx </h2><br>  Como una carga de trabajo NGINX, decid√≠ crear una que se pareciera al servidor real. <br><br>  Configur√© un servidor que sirve el archivo HTML utilizado en la prueba gzip sobre https usando el conjunto de cifrado ECDHE-ECDSA-AES128-GCM-SHA256. <br><br>  Tambi√©n utiliza LuaJIT para redirigir la solicitud entrante, eliminar todos los saltos de l√≠nea y espacios adicionales del archivo HTML al agregar una marca de tiempo.  El HTML se comprime usando brotli 5. <br><br>  Cada servidor se configur√≥ para trabajar con tantos usuarios como procesadores virtuales.  40 para Broadwell, 48 para Skylake y 46 para Falkor. <br><br>  Como cliente para esta prueba, utilic√© el programa Hey que se ejecuta en 3 servidores Broadwell. <br><br>  Al mismo tiempo que la prueba, tomamos lecturas de potencia de los bloques BMC correspondientes de cada servidor. <br><br><img src="https://habrastorage.org/webt/ch/9p/mv/ch9pmvqb1ro5yjn-cve_pw70dio.png"><br><br>  Con la carga de trabajo, NGINX Falkor manej√≥ casi el mismo n√∫mero de solicitudes que el servidor Skylake, y ambos estuvieron significativamente por delante de Broadwell.  Las lecturas de energ√≠a tomadas del BMC muestran que esto sucedi√≥ cuando la energ√≠a se consumi√≥ la mitad que otros procesadores.  Esto significa que Falkor logr√≥ obtener 214 solicitudes / W, Skylake - 99 solicitudes / W y Broadwell - 77 solicitudes / W. <br><br>  Me sorprendi√≥ que Skylake y Broadwell consuman aproximadamente la misma cantidad de energ√≠a, dado que se producen de la misma manera, y Skylake tiene m√°s n√∫cleos. <br><br>  El bajo consumo de energ√≠a de Falkor no es sorprendente, ya que los procesadores Qualcomm son conocidos por su alta eficiencia energ√©tica, lo que les permiti√≥ ocupar una posici√≥n dominante en el mercado de procesadores para dispositivos m√≥viles. <br><br><h2>  Conclusi√≥n </h2><br>  La muestra de Falkor que obtuvimos realmente me impresion√≥.  Esta es una gran mejora con respecto a los intentos anteriores en servidores basados ‚Äã‚Äãen ARM.  Por supuesto, al comparar el n√∫cleo con el n√∫cleo, Intel Skylake es mucho mejor, pero si observamos el nivel del sistema, el rendimiento se vuelve muy atractivo. <br><br>  La versi√≥n de producci√≥n de Centriq SoC contendr√° 48 n√∫cleos Falkor que operan a frecuencias de hasta 2.6 GHz, lo que da un aumento potencial de rendimiento del 8%. <br><br>  Obviamente, el Skylake que probamos no es un buque insignia como Platinum con sus 28 n√∫cleos, pero estos 28 n√∫cleos cuestan mucho y consumen 200W, mientras tratamos de optimizar nuestros costos y aumentar el rendimiento en 1 vatio. <br><br>  Por el momento, estoy m√°s preocupado por el bajo rendimiento del lenguaje Go, pero esto cambiar√° tan pronto como los servidores basados ‚Äã‚Äãen ARM ocupen su nicho en el mercado. <br><br>  El rendimiento C y LuaJIT son muy competitivos y, en muchos casos, superiores a Skylake.  En casi todas las pruebas, Falkor demostr√≥ ser un digno reemplazo para Broadwell. <br><br>  La mayor ventaja para Falkor en este momento es el bajo consumo de energ√≠a.  Aunque el TDP es de 120 W, durante mis pruebas, esta cifra nunca super√≥ los 89 W (para las pruebas Go).  A modo de comparaci√≥n, Skylake y Broadwell superaron los 160 W, mientras que su TDP es de 170 W. <br><br>  <b>Como un anuncio publicitario.</b>  ¬°Estos no son solo servidores virtuales!  Estos son VPS (KVM) con unidades dedicadas, que no pueden ser peores que los servidores dedicados, y en la mayor√≠a de los casos, ¬°mejor!  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Fabricamos VPS (KVM) con unidades dedicadas en los Pa√≠ses Bajos y los EE</a> . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">UU.</a> (Configuraciones de VPS (KVM) - E5-2650v4 (6 n√∫cleos) / 10GB DDR4 / 240GB SSD o 4TB HDD / 1Gbps 10TB disponibles a un precio excepcionalmente bajo - desde $ 29 / mes , las opciones con RAID1 y RAID10 est√°n disponibles)</b> , ¬°no pierda la oportunidad de hacer un pedido de un nuevo tipo de servidor virtual, donde todos los recursos le pertenecen, como en uno dedicado, y el precio es mucho m√°s bajo, con un hardware mucho m√°s productivo! <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥mo construir la infraestructura del edificio.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">clase utilizando servidores Dell R730xd E5-2650 v4 que cuestan 9,000 euros por un centavo?</a>  <b>Dell R730xd 2 veces m√°s barato?</b>  ¬°Solo tenemos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100 TV desde $ 249</a> en los Pa√≠ses Bajos y los Estados Unidos!</b> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es408741/">https://habr.com/ru/post/es408741/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es408731/index.html">Robots militares y sus desarrolladores. Parte 2</a></li>
<li><a href="../es408733/index.html">Un esqueleto es bueno y dos son mejores: exoesqueletos modernos</a></li>
<li><a href="../es408735/index.html">El robot humanoide de $ 800 no era del tama√±o de un ser humano. Lo siento ...</a></li>
<li><a href="../es408737/index.html">Balanzas inteligentes QardioBase 2: cada vez mejor</a></li>
<li><a href="../es408739/index.html">Fotos√≠ntesis superconductora o c√≥mo hacer un caballo de vac√≠o esf√©rico</a></li>
<li><a href="../es408743/index.html">El port√°til para juegos GPD WIN m√°s peque√±o: ¬øde qu√© es capaz y qui√©n lo necesita?</a></li>
<li><a href="../es408745/index.html">Manos libres, pero no un tel√©fono. Obediente a casa cuando no hay suficientes manos</a></li>
<li><a href="../es408747/index.html">La aparici√≥n del nuevo rover, el primer vuelo de Falcon Heavy, pone en duda la fiabilidad de Dragon y Starliner.</a></li>
<li><a href="../es408749/index.html">Feliz cumplea√±os, rat√≥n de la computadora</a></li>
<li><a href="../es408751/index.html">Amazon presenta la plataforma de desarrollo 3D, VR y AR</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>