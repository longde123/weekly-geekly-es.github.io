<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐คก ๐จ๐ฝ ๐ซ C ++: ุฌูุณุฉ ุนูู ุงูุขุซุงุฑ ุงูุนููู ูููุงุฐุง ูุง ูุฌุจ ุงุณุชุฎุฏุงู ุงููุธุงุฆู ุงููุชุบูุฑุฉ ุจุฃุณููุจ C ๐ฆ ๐ ๐คฆ๐ฟ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุจุฏุฃ ูู ุดูุก ุ ูุงููุนุชุงุฏ ุ ุจุฎุทุฃ. ูุฐู ูู ุงููุฑุฉ ุงูุฃููู ุงูุชู ุนููุช ูููุง ูุน Java Native Interface ููู ุงูุฌุฒุก C ++ ุ ููุช ุจูู ุฏุงูุฉ ุชูุดุฆ ูุงุฆู Java. ูุฐู ุงููุธููุฉ - ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C ++: ุฌูุณุฉ ุนูู ุงูุขุซุงุฑ ุงูุนููู ูููุงุฐุง ูุง ูุฌุจ ุงุณุชุฎุฏุงู ุงููุธุงุฆู ุงููุชุบูุฑุฉ ุจุฃุณููุจ C</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430064/" style=";text-align:right;direction:rtl"> ุจุฏุฃ ูู ุดูุก ุ ูุงููุนุชุงุฏ ุ ุจุฎุทุฃ.  ูุฐู ูู ุงููุฑุฉ ุงูุฃููู ุงูุชู ุนููุช ูููุง ูุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Java Native Interface</a> ููู ุงูุฌุฒุก C ++ ุ ููุช ุจูู ุฏุงูุฉ ุชูุดุฆ ูุงุฆู Java.  ูุฐู ุงููุธููุฉ - <code>CallVoidMethod</code> - ูุชุบูุฑุฉ ุ ุฃู  ุจุงูุฅุถุงูุฉ ุฅูู ูุคุดุฑ ูุจูุฆุฉ <abbr title="ูุงุฌูุฉ ุฌุงูุง ุงูุฃุตููุฉ">JNI</abbr> ุ ููุคุดุฑ ูููุน ุงููุงุฆู ุงููุฑุงุฏ ุฅูุดุงุคู ุ ููุนุฑู ููุทุฑููุฉ ุงููุทููุจุฉ (ูู ูุฐู ุงูุญุงูุฉ ุ ุงูููุดุฆ) ุ ูุฅูู ูุฃุฎุฐ ุนุฏุฏูุง ุนุดูุงุฆููุง ูู ุงูุญุฌุฌ ุงูุฃุฎุฑู.  ููู ุฃูุฑ ููุทูู ุ ูุฃูู  ูุชู ุชูุฑูุฑ ูุฐู ุงููุณูุทุงุช ุงูุฃุฎุฑู ุฅูู ุงูุทุฑููุฉ ุงูุชู ุชู ุงุณุชุฏุนุงุคูุง ุนูู ุฌุงูุจ Java ุ ููููู ุฃู ุชููู ุงูุฃุณุงููุจ ูุฎุชููุฉ ุ ูุน ุนุฏุฏ ูุฎุชูู ูู ุงููุณูุทุงุช ูู ุฃู ููุน. <br><br>  ูุจูุงุกู ุนูู ุฐูู ุ ููุช ุฃูุถูุง ุจุนูู ูุชุบูุฑ ุงูุบูุงู ุงูุฎุงุต ุจู.  ูุชูุฑูุฑ ุนุฏุฏ ุนุดูุงุฆู ูู ุงูุญุฌุฌ ุฅูู <code>CallVoidMethod</code> ุงุณุชุฎุฏูุช <code>va_list</code> ุ ูุฃูู ูุฎุชูู ูู ูุฐู ุงูุญุงูุฉ.  ูุนู ุ ูุฐุง ูุง ุฃุฑุณูู <code>va_list</code> ุฅูู <code>CallVoidMethod</code> .  ูุฃุณูุทุช ุฎุทุฃ ุชุฌุฒุฆุฉ ุนุงุฏูุง JVM. <br><br>  ูู ุณุงุนุชูู ุชูููุช ูู ุชุฌุฑุจุฉ ุนุฏุฉ ุฅุตุฏุงุฑุงุช ูู JVM ุ ูู ุงูุซุงูู ุฅูู ุงูุญุงุฏู ุนุดุฑ ุ ูุฃูู: ุฃููุงู ุ ูุฐู ูู ุชุฌุฑุจุชู ุงูุฃููู ูุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" title="ุขูุฉ ุฌุงูุง ุงูุงูุชุฑุงุถูุฉ">JVM</a> ุ ููู ูุฐุง ุงูุตุฏุฏ ุ ูุซูุช ูู StackOverflow ุฃูุซุฑ ูู ููุณู ุ ูุซุงูููุง ุ ุดุฎุต ุซู ูู StackOverflow ุ ูุตุญุช ูู ูุฐู ุงูุญุงูุฉ ุจุนุฏู ุงุณุชุฎุฏุงู OpenJDK ุ ูููู OracleJDK ูููุณ 8 ุ ูููู 10. ูุนูุฏูุง ููุท ูุงุญุธุช ุฃุฎูุฑูุง ุฃูู ุจุงูุฅุถุงูุฉ ุฅูู ุงููุชุบูุฑ <code>CallVoidMethod</code> ููุงู <code>CallVoidMethodV</code> ุ ูุงูุฐู ูุฃุฎุฐ ุนุฏุฏูุง ุนุดูุงุฆููุง ูู ุงูุญุฌุฌ ุนุจุฑ <code>va_list</code> . <br><br>  ูุง ูู ูุนุฌุจูู ุฃูุซุฑ ูู ูุฐู ุงููุตุฉ ูู ุฃููู ูู ุฃูุงุญุธ ุนูู ุงูููุฑ ุงููุฑู ุจูู ุงูุญุฐู (ุนูุงูุฉ ุงูุญุฐู) ู <code>va_list</code> .  ูุจุนุฏ ุฃู ูุงุญุธุช ุ ูู ุฃุณุชุทุน ุฃู ุฃุดุฑุญ ูููุณู ูุง ูู ุงููุฑู ุงูุฃุณุงุณู.  ูุฐุง ุ ูุญุชุงุฌ ุฅูู ุงูุชุนุงูู ูุน ุนูุงูุงุช ุงูุญุฐู ุ ููุน <code>va_list</code> ุ ู (ุจูุง ุฃููุง ูุง ุฒููุง ูุชุญุฏุซ ุนู C ++) ูุน ููุงูุจ ูุชุบูุฑุฉ. <br><a name="habracut"></a><br><h3 style=";text-align:right;direction:rtl">  ูุงุฐุง ุนู ุงููุทุน ุงููุงูุต ู va_list ูู ุงููุนูุงุฑ </h3><br>  ูุตู ูุนูุงุฑ C ++ ููุท ุงูุงุฎุชูุงูุงุช ุจูู ูุชุทูุจุงุชู ููุชุทูุจุงุช ุงููุนูุงุฑ C. ุณูุชู ููุงูุดุฉ ุงูุงุฎุชูุงูุงุช ููุณูุง ูุงุญููุง ุ ูููู ุงูุขู ุณุฃุดุฑุญ ุจุฅูุฌุงุฒ ูุง ููููู ุงููุนูุงุฑ C (ุจุฏุกูุง ูู C89). <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููููู ุฅุนูุงู ูุธููุฉ ุชุฃุฎุฐ ุนุฏุฏูุง ุนุดูุงุฆููุง ูู ุงูุญุฌุฌ.  ุฃู  ูููู ุฃู ุชุญุชูู ุงูุฏุงูุฉ ุนูู ูุณูุทุงุช ุฃูุซุฑ ูู ุงููุนููุงุช.  ููููุงู ุจุฐูู ุ ูุฌุจ ุฃู ุชูุชูู ูุงุฆูุฉ ูุนููุงุชู ุจุญุฐู ุ ูููู ูุฌุจ ุฃูุถูุง ูุฌูุฏ ูุนููุฉ ุซุงุจุชุฉ ูุงุญุฏุฉ ุนูู ุงูุฃูู <i>[C11 6.9.1 / 8]</i> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">void foo(int parm1, int parm2, ...);</code> </pre> </li><li style=";text-align:right;direction:rtl">  ูุง ูุชู ุชูุฑูุฑ ูุนูููุงุช ุญูู ุนุฏุฏ ูุฃููุงุน ุงูุญุฌุฌ ุงููุทุงุจูุฉ ููุญุฐู ุฅูู ุงููุธููุฉ ููุณูุง.  ุฃู  ุจุนุฏ ุขุฎุฑ ูุนููุฉ ูุณูุงุฉ ( <code>parm2</code> ูู ุงููุซุงู ุฃุนูุงู) <i>[C11 6.7.6.3/9]</i> . <br></li><li style=";text-align:right;direction:rtl">  ูููุตูู ุฅูู ูุฐู ุงููุณูุทุงุช ุ ูุฌุจ ุนููู ุงุณุชุฎุฏุงู ููุน <code>va_list</code> ุงููุนูู ูู ุฑุฃุณ <code>&lt;stdarg.h&gt;</code> ููุญุฏุงุช ุงููุงูุฑู 4 (3 ูุจู ูุนูุงุฑ C11): <code>va_start</code> ู <code>va_arg</code> ู <code>va_end</code> ู <code>va_copy</code> (ุจุฏุกูุง ูู C11) <i>[C11 7.16]</i> . <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุนูู ุณุจูู ุงููุซุงู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">int add(int count, ...) { int result = 0; va_list args; va_start(args, count); for (int i = 0; i &lt; count; ++i) { result += va_arg(args, int); } va_end(args); return result; }</code> </pre> <br>  ูุนู ุ ูุง ุชุนุฑู ุงููุธููุฉ ุนุฏุฏ ุงูุญุฌุฌ ุงูุชู ูุฏููุง.  ุงููุง ุจุญุงุฌุฉ ูุชูุฑูุฑ ูุฐุง ุงูุฑูู ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู.  ูู ูุฐู ุงูุญุงูุฉ ุ ูู ุฎูุงู ูุณูุทุฉ ูุงุญุฏุฉ ูุณูุงุฉ (ุฎูุงุฑ ุดุงุฆุน ุขุฎุฑ ูู ุชูุฑูุฑ <code>NULL</code> ููุณูุทุฉ ุฃุฎูุฑุฉ ุ ููุง ูู <code>execl</code> ุฃู 0). </div></div></li><li style=";text-align:right;direction:rtl">  ูุง ูููู ุฃู ุชุญุชูู ุงููุณูุทุฉ ุงููุณูุงุฉ ุงูุฃุฎูุฑุฉ ุนูู ูุฆุฉ ุชุฎุฒูู <code>register</code> ุ ููุง ูููู ุฃู ุชููู ุฏุงูุฉ ุฃู ุตููููุง.  ุฎูุงู ุฐูู ุ ุณููู ุบูุฑ ูุญุฏุฏ <i>[C11 7.16.1.4/4]</i> . </li><li style=";text-align:right;direction:rtl">  ุนูุงูุฉ ุนูู ุฐูู ุ ุจุงููุณุจุฉ ุฅูู ุงูุญุฌุฉ ุงูุฃุฎูุฑุฉ ุงูุชู ุชู ุชุณููุชูุง ูุฌููุน ุงูุญุฌุงุฌ ุงููุฌููููู ุ ูุชู ุชุทุจูู " <i>ุชุนุฒูุฒ ุงูุญุฌุฉ ุงูุงูุชุฑุงุถูุฉ</i> " ( <i>ุชุนุฒูุฒ ุงูุญุฌุฉ ุงูุงูุชุฑุงุถูุฉ</i> ุ ุฅุฐุง ูุงูุช ููุงู ุชุฑุฌูุฉ ุฌูุฏุฉ ููุฐุง ุงูููููู ุฅูู ุงููุบุฉ ุงูุฑูุณูุฉ ุ ูุฃูุง ุณุนูุฏ ุจุงุณุชุฎุฏุงูู).  ูุฐุง ูุนูู ุฃูู ุฅุฐุง ูุงูุช ุงููุณูุทุฉ ุชุญุชูู ุนูู <code>char</code> ุ ุฃู <code>short</code> (ูุน ุฃู ุจุฏูู ุนูุงูุฉ) ุฃู <code>float</code> ุ ููุฌุจ ุงููุตูู ุฅูู ุงููุนููุงุช ุงูููุงุจูุฉ ุนูู ุฃููุง <code>int</code> ุฃู <code>int</code> (ูุน ุฃู ุจุฏูู ุนูุงูุฉ) ุฃู <code>double</code> .  ุฎูุงู ุฐูู ุ ุณููู ุบูุฑ ูุญุฏุฏ <i>[C11 7.16.1.1/2]</i> . </li><li style=";text-align:right;direction:rtl">  ุญูู ุงูููุน <code>va_list</code> ููุงู ููุท ุฃูู ุชู ุงูุชุตุฑูุญ ุนูู ูู <code>&lt;stdarg.h&gt;</code> ููู ููุชูู (ุฃู ุฃู ุญุฌู ูุงุฆู ูู ูุฐุง ุงูููุน ูุนุฑูู) <i>[C11 7.16 / 3]</i> . </li></ul><br><h3 style=";text-align:right;direction:rtl">  ููุงุฐุงุ  ููู ูุฃู! </h3><br>  ูุง ุชูุฌุฏ ุฃููุงุน ูุซูุฑุฉ ูู C.  ููุงุฐุง ุชู ุฅุนูุงู <code>va_list</code> ูู ุงููุนูุงุฑ ุ ูููู ูู ูุชู ุฐูุฑ ุฃู ุดูุก ุนู ููููู ุงูุฏุงุฎููุ <br><br>  ููุงุฐุง ูุญุชุงุฌ ุฅูู ุนูุงูุฉ ุญุฐู ุฅุฐุง ูุงู ูููู ุชูุฑูุฑ ุนุฏุฏ ุนุดูุงุฆู ูู ุงูุญุฌุฌ ููุฏุงูุฉ ุนุจุฑ <code>va_list</code> ุ  ูููู ุงูููู ุงูุขู: "ูุณูุฑ ูุญูู" ุ ูููู ูุชุฃูุฏ ููุฐ 40 ุนุงููุง ุ ุฃูู ูู ููู ููุงู ููุช ููุณูุฑ. <br><br>  ููููุจ ุฌููุณ ุจูุงูุฌุฑ ูููู <i>ููููุจ ุฌููุณ ุจูุงูุบุฑ</i> ูู ูุชุงุจ <i>The Standard C library</i> - 1992 - ุฃูู ุชู ุฅูุดุงุก C ูู ุงูุจุฏุงูุฉ ุญุตุฑููุง ูุฃุฌูุฒุฉ ุงูููุจููุชุฑ PDP-11.  ูููุงู ูุงู ูู ุงููููู ูุฑุฒ ุฌููุน ุงูุญุฌุฌ ููุฏุงูุฉ ุจุงุณุชุฎุฏุงู ุญุณุงุจ ุงููุคุดุฑ ุงูุจุณูุท.  ุธูุฑุช ุงููุดููุฉ ูุน ุดุนุจูุฉ C ูููู ุงููุชุฑุฌู ุฅูู ุจูู ุฃุฎุฑู.  ุงูุทุจุนุฉ ุงูุฃููู ูู <i>ูุบุฉ ุงูุจุฑูุฌุฉ C ุจููู</i> <i>ุจุฑูุงู ููุฑููุบุงู</i> ูุฏูููุณ ุฑูุชุดู - 1978 - ุชูุต ุตุฑุงุญุฉ ุนูู ูุง ููู: <blockquote style=";text-align:right;direction:rtl">  ุจุงูููุงุณุจุฉ ุ ูุง ุชูุฌุฏ ุทุฑููุฉ ููุจููุฉ ููุชุงุจุฉ ุฏุงูุฉ ูุญูููุฉ ูุนุฏุฏ ุชุนุณูู ูู ุงูุญุฌุฌ ุ ูุฃูู  ูุง ุชูุฌุฏ ุทุฑููุฉ ูุญูููุฉ ููุฏุงูุฉ ุงููุทููุจุฉ ููุนุฑูุฉ ุนุฏุฏ ุงููุณุงุฆุท ุงูุชู ุชู ุชูุฑูุฑูุง ุฅูููุง ุนูุฏ ุงุณุชุฏุนุงุคูุง.  ... <code>printf</code> ุ ุฃูุซุฑ ูุธุงุฆู ูุบุฉ C ุดููุนูุง ูุนุฏุฏ ุนุดูุงุฆู ูู ุงูุญุฌุฌ ุ ... ููุณุช ูุญูููุฉ ููุฌุจ ุชูููุฐูุง ููู ูุธุงู. </blockquote>  ูุตู ูุฐุง ุงููุชุงุจ <code>printf</code> ุ ูููู ููุณ ุจู <code>vprintf</code> ุ ููุง ูุฐูุฑ ุงูููุน ููุญุฏุงุช ุงููุงูุฑู <code>va_*</code> .  ุชุธูุฑ ูู ุงูุฅุตุฏุงุฑ ุงูุซุงูู ูู ูุบุฉ ุงูุจุฑูุฌุฉ C (1988) ุ ููุฐุง ูู ุงููุถู ูู ูุฌูุฉ ุงูุชุทููุฑ ูููุนูุงุฑ C ุงูุฃูู (C89 ุ ุงููุนุฑูู ุฃูุถูุง ุจุงุณู ANSI C).  ุฃุถุงูุช ุงููุฌูุฉ ุงูุนููุงู <code>&lt;stdarg.h&gt;</code> ุฅูู ุงููุนูุงุฑ ุ ูุฃุณุงุณ <code>&lt;varargs.h&gt;</code> ุฃูุดุฃู ุฃูุฏุฑู ููููุฌ ูุฒูุงุฏุฉ ูุงุจููุฉ ุชุดุบูู ูุธุงู UNIX OS.  ุชูุฑุฑ ุชุฑู ูุญุฏุงุช ุงููุงูุฑู <code>va_*</code> ุฃููุง ูุญุฏุงุช ูุงูุฑู ุจุญูุซ ูููู ูู ุงูุณูู ุนูู ุงููุชุฑุฌููู ุงูุญุงูููู ุฏุนู ุงููุนูุงุฑ ุงูุฌุฏูุฏ. <br><br>  ุงูุขู ุ ูุน ุธููุฑ C89 ูุนุงุฆูุฉ <code>va_*</code> ุ ุฃุตุจุญ ูู ุงููููู ุฅูุดุงุก ูุธุงุฆู ูุชุบูุฑุฉ ูุญูููุฉ.  ูุนูู ุงูุฑุบู ูู ุฃู ุงูุจููุฉ ุงูุฏุงุฎููุฉ ููุฐู ุงูุนุงุฆูุฉ ูุง ุชุฒุงู ุบูุฑ ููุตููุฉ ุจุฃู ุดูู ูู ุงูุฃุดูุงู ุ ููุง ุชูุฌุฏ ูุชุทูุจุงุช ูุฐูู ุ ููู ุงููุงุถุญ ุจุงููุนู ููุงุฐุง. <br><br>  ุจุฏุงูุน ุงููุถูู ุงููุทูู ุ ููููู ุงูุนุซูุฑ ุนูู ุฃูุซูุฉ ูุชุทุจูู <code>&lt;stdarg.h&gt;</code> .  ุนูู ุณุจูู ุงููุซุงู ุ ุชููุฑ ููุณ "ููุชุจุฉ C ุงูููุงุณูุฉ" ูุซุงููุง ูู <b>Borland Turbo C ++</b> : <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">&lt;stdarg.h&gt; ูู ุจูุฑูุงูุฏ Turbo C ++</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">#ifndef _STADARG #define _STADARG #define _AUPBND 1 #define _ADNBND 1 typedef char* va_list #define va_arg(ap, T) \ (*(T*)(((ap) += _Bnd(T, _AUPBND)) - _Bnd(T, _ADNBND))) #define va_end(ap) \ (void)0 #define va_start(ap, A) \ (void)((ap) = (char*)&amp;(A) + _Bnd(A, _AUPBND)) #define _Bnd(X, bnd) \ (sizeof(X) + (bnd) &amp; ~(bnd)) #endif</code> </pre> <br></div></div><br>  ูุณุชุฎุฏู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SystemV ABI</a> ุงูุฃุญุฏุซ ุจูุซูุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู AMD64</a> ูุฐุง ุงูููุน ูู <code>va_list</code> : <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">va_list ูู SystemV ABI AMD64</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">typedef struct { unsigned int gp_offset; unsigned int fp_offset; void *overflow_arg_area; void *reg_save_area; } va_list[1];</code> </pre> <br></div></div><br>  ุจุดูู ุนุงู ุ ูููููุง ุฃู ูููู ุฃู ุงูููุน ููุญุฏุงุช ุงููุงูุฑู <code>va_*</code> ุชููุฑ ูุงุฌูุฉ ููุงุณูุฉ ูุงุฌุชูุงุฒ ุงูุญุฌุฌ ุงูุฎุงุตุฉ ุจุฏุงูุฉ ูุชุบูุฑุฉ ุ ููุนุชูุฏ ุชูููุฐูุง ูุฃุณุจุงุจ ุชุงุฑูุฎูุฉ ุนูู ุงููุชุฑุฌู ูุงูููุตุงุช ุงููุณุชูุฏูุฉ ูุงูููุฏุณุฉ ุงููุนูุงุฑูุฉ.  ุนูุงูุฉ ุนูู ุฐูู ุ ุธูุฑ ุนูุงูุฉ ุญุฐู (ุฃู ุฏุงูุงุช ูุชุบูุฑุฉ ุจุดูู ุนุงู) ูู C ูุจู <code>va_list</code> (ุฃู ุงูุฑุฃุณ <code>&lt;stdarg.h&gt;</code> ).  ููู ูุชู ุฅูุดุงุก <code>va_list</code> ููุญู ูุญู ุนูุงูุงุช ุงูุญุฐู ุ ูููู ูุชูููู ุงููุทูุฑูู ูู ูุชุงุจุฉ ูุธุงุฆููู ุงููุชุบูุฑุฉ ุงููุญูููุฉ. <br><br>  ูุญุงูุธ C ++ ุฅูู ุญุฏ ูุจูุฑ ุนูู ุงูุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ ูุน C ุ ูุฐูู ููุทุจู ูู ูุง ุณุจู ุนูููุง.  ูููู ููุงู ุฃูุถูุง ููุฒุงุช. <br><br><h3 style=";text-align:right;direction:rtl">  ุฏุงูุงุช ูุชุบูุฑุฉ ูู C ++ </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุดุงุฑูุช</a> ูุฌููุนุฉ ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">WG21</a> ูู ุชุทููุฑ ูุนูุงุฑ C ++.  ูู ุนุงู 1989 ุ ุชู ุฃุฎุฐ ูุนูุงุฑ C89 ุงูุฐู ุชู ุฅูุดุงุคู ุญุฏูุซูุง ูุฃุณุงุณ ุ ูุงูุฐู ุชุบูุฑ ุชุฏุฑูุฌููุง ููุตู C ++ ููุณู.  ูู ุนุงู 1995 ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชู ุงุณุชูุงู</a> ุงูุงูุชุฑุงุญ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">N0695</a> ูู <i>ุฌูู ูููู</i> ุ ุญูุซ ุงูุชุฑุญ ุงููุคูู ุชุบููุฑ ุงููููุฏ ุนูู ูุญุฏุงุช ุงููุงูุฑู <code>va_*</code> : <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฃู  ุชุณูุญ ูู C ++ ุนูู ุนูุณ C ุจุงูุญุตูู ุนูู ุนููุงู <code>register</code> ุงููุชุบูุฑุงุช ุ ุซู ูููู ุฃู ุชุญุชูู ุงููุณูุทุฉ ุงููุณูุงุฉ ุงูุฃุฎูุฑุฉ ูุฏุงูุฉ ูุชุบูุฑุฉ ุนูู ูุฆุฉ ุงูุชุฎุฒูู ูุฐู. <br></li><li style=";text-align:right;direction:rtl">  ูุฃู  ุชูุชูู ุงูุฑูุงุจุท ุงูุชู ุธูุฑุช ูู C ++ ุงููุงุนุฏุฉ ุบูุฑ ุงูููุชูุจุฉ ููุธุงุฆู ุงููุชุบูุฑ C - ูุฌุจ ุฃู ูุชุทุงุจู ุญุฌู ุงููุนููุฉ ูุน ุญุฌู ููุนูุง ุงููุนูู - ุซู ูุง ูููู ุฃู ุชููู ุงููุณูุทุฉ ุงููุณูุงุฉ ุงูุฃุฎูุฑุฉ ุงุฑุชุจุงุทูุง.  ุฎูุงู ุฐูู ุ ุณููู ุบุงูุถ. <br></li><li style=";text-align:right;direction:rtl">  ูุฃู  ูู ูุบุฉ C ++ ูุง ููุฌุฏ ููููู " <i>ุฑูุน ููุน ุงููุณูุทุฉ ุงูุชุฑุงุถููุง</i> " ุ ุซู ุงูุนุจุงุฑุฉ <br><blockquote style=";text-align:right;direction:rtl">  ุฅุฐุง ุชู ุชุนุฑูู ุงููุนููุฉ <code>parmN</code> ุจู ... ููุน ุบูุฑ ูุชูุงูู ูุน ุงูููุน ุงูุฐู ููุชุฌ ุจุนุฏ ุชุทุจูู ุงูุชุฑููุงุช ุงูุงูุชุฑุงุถูุฉ ูููุณูุทุฉ ุ ูุฅู ุงูุณููู ุบูุฑ ูุญุฏุฏ </blockquote>  ูุฌุจ ุงุณุชุจุฏุงูู ุจู <blockquote style=";text-align:right;direction:rtl">  ุฅุฐุง ุชู ุชุนุฑูู ุงููุนููุฉ <code>parmN</code> ุจู ... ููุน ุบูุฑ ูุชูุงูู ูุน ุงูููุน ุงูุฐู ููุชุฌ ุนูุฏ ุชูุฑูุฑ ูุณูุทุฉ ูุง ููุฌุฏ ููุง ูุนููุฉ ุ ูุฅู ุงูุณููู ุบูุฑ ูุญุฏุฏ </blockquote></li></ul>  ูู ุฃูู ุญุชู ุจุชุฑุฌูุฉ ุงูููุทุฉ ุงูุฃุฎูุฑุฉ ูู ุฃุฌู ูุดุงุฑูุฉ ุงูุฃูู.  ุฃููุงู ุ ูุจูู " <i>ุชุตุนูุฏ ููุน ุงููุณูุทุฉ ุงูุงูุชุฑุงุถู</i> " ูู ูุนูุงุฑ <i>C ++ [C ++ 17 8.2.2 / 9]</i> .  ูุซุงูููุง ุ ููุช ูุญุชุงุฑูุง ููุชุฑุฉ ุทูููุฉ ุญูู ูุนูู ูุฐู ุงูุนุจุงุฑุฉ ุ ููุงุฑูุฉ ุจุงููุนูุงุฑ C ุ ุญูุซ ูู ุดูุก ูุงุถุญ.  ููุท ุจุนุฏ ูุฑุงุกุฉ N0695 ูููุช ุฃุฎูุฑุงู: ุฃุนูู ููุณ ุงูุดูุก. <br><br>  ููุน ุฐูู ุ ุชู ุงุนุชูุงุฏ ุฌููุน ุงูุชุบููุฑุงุช 3 <i>[C ++ 98 18.7 / 3]</i> .  ุจุงูุนูุฏุฉ ุฅูู C ++ ุ ุงุฎุชูู ุดุฑุท ูุฌูุฏ ูุธููุฉ ูุชุบูุฑุฉ ูุงุญุฏุฉ ุนูู ุงูุฃูู ูู ุงููุนููุงุช ุงููุณูุงุฉ (ูู ูุฐู ุงูุญุงูุฉ ูุง ููููู ุงููุตูู ุฅูู ุงูุขุฎุฑูู ุ ูููู ุงููุฒูุฏ ุนู ุฐูู ูุงุญููุง) ุ ูุชู ุงุณุชููุงู ูุงุฆูุฉ ุงูุฃููุงุน ุงูุตุงูุญุฉ ูู ุงููุณูุทุงุช ุบูุฑ ุงููุณูุงุฉ ุจูุคุดุฑุงุช ูุฃุนุถุงุก ุงููุฆุฉ ูุฃููุงุน <abbr title="ุจูุงูุงุช ูุฏููุฉ ูุงุถุญุฉ">POD</abbr> . <br><br>  ูู ูุฌูุจ ูุนูุงุฑ C ++ 03 ุฃู ุชุบููุฑุงุช ูู ุงููุธุงุฆู ุงููุชุบูุฑุฉ.  ุจุฏุฃ C ++ 11 ูู ุชุญููู ูุณูุทุฉ ุบูุฑ ูุณูุงุฉ ูู ุงูููุน <code>std::nullptr_t</code> ุฅูู <code>void*</code> ูุณูุญ <code>std::nullptr_t</code> ุงููุณููุญ ููู ุ ุญุณุจ ุชูุฏูุฑูู ุ ุจุฏุนู ุงูุฃููุงุน ุฐุงุช <code>std::nullptr_t</code> <i>[C ++ 11 5.2.2 / 7]</i> .  ุณูุญุช C ++ 14 ุจุงุณุชุฎุฏุงู ุงูุฏูุงู ูุงููุตูููุงุช ูุขุฎุฑ ูุนููุฉ ูุณูุงุฉ <i>[C ++ 14 18.10 / 3]</i> ุ ูุญุธุฑ C ++ 17 ุงุณุชุฎุฏุงู ุชูุณูุน ุญุฒูุฉ ุงููุนููุงุช ( <i>ุชูุณูุน ุงูุญุฒูุฉ</i> ) ูุงููุชุบูุฑุงุช ุงูุชู ุชู ุงูุชูุงุทูุง ุจูุงุณุทุฉ ูุงูุฏุง <i>[C ++ 17 21.10.1 / 1]</i> . <br><br>  ููุชูุฌุฉ ูุฐูู ุ ุฃุถุงูุช C ++ ูุธุงุฆู ูุชููุนุฉ ุฅูู ูุฎุงุทุฑูุง.  ููุท ุฏุนู ุงูููุน ุบูุฑ ุงููุญุฏุฏ ูุน ุงูููุดุฆูู / ุงููุฏูุฑุงุช ุบูุฑ ุงูุชุงููุฉ ูุณุชุญู ุฐูู.  ุฃุฏูุงู ุณุฃุญุงูู ุชูููู ุฌููุน ุงูููุฒุงุช ุบูุฑ ุงููุงุถุญุฉ ูููุธุงุฆู ุงููุชุบูุฑุฉ ูู ูุงุฆูุฉ ูุงุญุฏุฉ ูุงุณุชููุงููุง ุจุฃูุซูุฉ ูุญุฏุฏุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ููููุฉ ุงุณุชุฎุฏุงู ุงููุธุงุฆู ุงููุชุบูุฑุฉ ุจุณูููุฉ ูุจุดูู ุบูุฑ ุตุญูุญ </h3><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ุบูุฑ ุงูุตุญูุญ ุงูุฅุนูุงู ุนู ุขุฎุฑ ูุณูุทุฉ ูุณูุงุฉ ุจููุน ูุฑูุฌ ุ ุฃู  <code>char</code> ุฃู <code>char</code> <code>signed char</code> <code>unsigned char</code> <code>singed short</code> ุฃู <code>unsigned short</code> ุฃู <code>float</code> .  ุณุชููู ุงููุชูุฌุฉ ููููุง ูููุนูุงุฑ ูู ุณููู ุบูุฑ ูุญุฏุฏ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฑูุฒ ุบูุฑ ุตุงูุญ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">void foo(float n, ...) { va_list va; va_start(va, n); std::cout &lt;&lt; va_arg(va, int) &lt;&lt; std::endl; va_end(va); }</code> </pre> <br></div></div><br>  ูู ุจูู ุฌููุน ุงููุชุฑุฌูุงุช ุงูุชู ููุช ูู ูุชูุงูู ุงููุฏ (gcc ุ clang ุ MSVC) ุ ุฃุตุฏุฑุช <b>clang</b> ููุท ุชุญุฐูุฑูุง. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุชุญุฐูุฑ ุนุตุจู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="diff hljs">./test.cpp:7:18: warning: passing an object that undergoes default argument promotion to 'va_start' has undefined behavior [-Wvarargs] va_start(va, n); ^</code> </pre> </div></div><br>  ูุนูู ุงูุฑุบู ูู ุฃู ุงูุดูุฑุฉ ุงููุชุฑุฌูุฉ ุชุตุฑูุช ุจุดูู ุตุญูุญ ูู ุฌููุน ุงูุญุงูุงุช ุ ููุง ูุฌุจ ุงูุงุนุชูุงุฏ ุนูููุง. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุณูููู ุนูู ุญู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">void foo(double n, ...) { va_list va; va_start(va, n); std::cout &lt;&lt; va_arg(va, int) &lt;&lt; std::endl; va_end(va); }</code> </pre> </div></div><br></li><li style=";text-align:right;direction:rtl">  ูู ุบูุฑ ุงูุตุญูุญ ุฅุนูุงู ุขุฎุฑ ูุณูุทุฉ ูุณูุงุฉ ููุฑุฌุน.  ุฃู ุฑุงุจุท.  ูุนุฏ ุงููุนูุงุฑ ูู ูุฐู ุงูุญุงูุฉ ุฃูุถูุง ุจุณููู ุบูุฑ ูุญุฏุฏ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฑูุฒ ุบูุฑ ุตุงูุญ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">void foo(int&amp; n, ...) { va_list va; va_start(va, n); std::cout &lt;&lt; va_arg(va, int) &lt;&lt; std::endl; va_end(va); }</code> </pre> </div></div><br>  <b>ูุงู ูุฌูุณ ุงูุชุนุงูู ุงูุฎููุฌู 7.3.0</b> ุจุชุฌููุน ูุฐุง ุงูุฑูุฒ ุฏูู ุชุนููู ูุงุญุฏ.  ุฃุตุฏุฑ <b>lang 6.0.0</b> ุชุญุฐูุฑูุง ุ ูููู ูุง ูุฒุงู <b>ูุฌูุนู</b> . <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุชุญุฐูุฑ ุนุตุจู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="diff hljs">./test.cpp:7:18: warning: passing an object of reference type to 'va_start' has undefined behavior [-Wvarargs] va_start(va, n); ^</code> </pre> </div></div><br>  ูู ููุชุง ุงูุญุงูุชูู ุ ุนูู ุงูุจุฑูุงูุฌ ุจุดูู ุตุญูุญ (ูุญุธูุธ ุ ูุง ููููู ุงูุงุนุชูุงุฏ ุนููู).  ููู <b>MSVC 19.15.26730</b> ููุฒุช ููุณูุง - ุฑูุถุช ุชุฑุฌูุฉ ุงูุดูุฑุฉ ุ ูุฃู  <code>va_start</code> ุฃูุง ุชููู ูุณูุทุฉ <code>va_start</code> ูุฑุฌุนูุง. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฎุทุฃ ูู MSVC</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="diff hljs">c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.15.26726\include\vadefs.h(151): error C2338: va_start argument must not have reference type and must not be parenthesized</code> </pre> </div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุญุณููุง ุ ูุจุฏู ุงูุฎูุงุฑ ุงูุตุญูุญ ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุซู ูุฐุง</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">void foo(int* n, ...) { va_list va; va_start(va, n); std::cout &lt;&lt; va_arg(va, int) &lt;&lt; std::endl; va_end(va); }</code> </pre> </div></div><br></li><li style=";text-align:right;direction:rtl">  ูู ุงูุฎุทุฃ ุทูุจ <code>va_arg</code> ูุฑูุน ุงูููุน - <code>char</code> ุฃู <code>short</code> ุฃู <code>float</code> . <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฑูุฒ ุบูุฑ ุตุงูุญ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">#include &lt;cstdarg&gt; #include &lt;iostream&gt; void foo(int n, ...) { va_list va; va_start(va, n); std::cout &lt;&lt; va_arg(va, int) &lt;&lt; std::endl; std::cout &lt;&lt; va_arg(va, float) &lt;&lt; std::endl; std::cout &lt;&lt; va_arg(va, int) &lt;&lt; std::endl; va_end(va); } int main() { foo(0, 1, 2.0f, 3); return 0; }</code> </pre> </div></div><br>  ุฅูู ุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู ููุง.  ูุนุทู <b>gcc</b> at compilation ุชุญุฐูุฑูุง ุจุฃูู ูู ุงูุถุฑูุฑู ุงุณุชุฎุฏุงู <code>double</code> ุจุฏูุงู ูู <code>float</code> ุ ูุฅุฐุง ุงุณุชูุฑ ุชูููุฐ ูุฐุง ุงูุฑูุฒ ุ ูุณููุชูู ุงูุจุฑูุงูุฌ ุจุฎุทุฃ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุชุญุฐูุฑ ูุฌูุณ ุงูุชุนุงูู ุงูุฎููุฌู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="diff hljs">./test.cpp:9:15: warning: 'float' is promoted to 'double' when passed through '...' std::cout &lt;&lt; va_arg(va, float) &lt;&lt; std::endl; ^~~~~~ ./test.cpp:9:15: note: (so you should pass 'double' not 'float' to 'va_arg') ./test.cpp:9:15: note: if this code is reached, the program will abort</code> </pre> </div></div><br>  ูู ุงููุงูุน ุ ุชุนุทู ุงูุจุฑูุงูุฌ ูุน ุดููู ุญูู ุชุนูููุงุช ุบูุฑ ุตุงูุญุฉ. <br>  ูุธูุฑ ุชุญููู ุชูุฑูุบ ุฃู ุงูุจุฑูุงูุฌ ุชููู ุฅุดุงุฑุฉ SIGILL.  ููุธูุฑ ุฃูุถุง ุจููุฉ <code>va_list</code> .  ููุฏุฉ 32 ุจุช ูุฐุง <br><br><pre style=";text-align:right;direction:rtl"> <code class="diff hljs">va = 0xfffc6918 ""</code> </pre> <br>  ุฃู  <code>va_list</code> ูู ูุฌุฑุฏ <code>char*</code> .  ูู 64 ุจุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="diff hljs">va = {{gp_offset = 16, fp_offset = 48, overflow_arg_area = 0x7ffef147e7e0, reg_save_area = 0x7ffef147e720}}</code> </pre> <br>  ุฃู  ุจุงูุถุจุท ูุง ูู ููุตูู ูู SystemV ABI AMD64. <br><br>  <b>clang</b> at compilation ูุญุฐุฑ ูู ุณููู ุบูุฑ ูุญุฏุฏ ูููุชุฑุญ ุฃูุถูุง ุงุณุชุจุฏุงู <code>float</code> <code>double</code> . <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุชุญุฐูุฑ ุนุตุจู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="diff hljs">./test.cpp:9:26: warning: second argument to 'va_arg' is of promotable type 'float'; this va_arg has undefined behavior because arguments will be promoted to 'double' [-Wvarargs] std::cout &lt;&lt; va_arg(va, float) &lt;&lt; std::endl; ^~~~~</code> </pre> </div></div><br>  ููู ุงูุจุฑูุงูุฌ ูู ูุนุฏ ูุชุนุทู ุ ููุชุฌ ุงูุฅุตุฏุงุฑ 32 ุจุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="diff hljs">1 0 1073741824</code> </pre> <br>  64 ุจุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="diff hljs">1 0 3</code> </pre> <br>  ุชูุชุฌ <b>MSVC</b> ููุณ ุงููุชุงุฆุฌ ุจุงูุถุจุท ุ ููุท ุฏูู ุณุงุจู ุฅูุฐุงุฑ ุ ุญุชู ูุน <code>/Wall</code> . <br><br>  ููุง ูููู ุงูุงูุชุฑุงุถ ุฃู ุงููุฑู ุจูู 32 ู 64 ุจุช ูุฑุฌุน ุฅูู ุญูููุฉ ุฃูู ูู ุงูุญุงูุฉ ุงูุฃููู ุ ูููู ABI ุจุชูุฑูุฑ ุฌููุน ุงููุณูุทุงุช ูู ุฎูุงู ุงูููุฏุณ ุฅูู ุงููุธููุฉ ุงููุทููุจุฉ ุ ููู ุงูุซุงููุฉ ุ ุงููุณูุทุงุช ุงูุฃุฑุจุนุฉ ุงูุฃููู (Windows) ุฃู ุงูุณุชุฉ (Linux) ูู ุฎูุงู ุงููุนุงูุฌ ุ ูุงูุจุงูู ูู ุฎูุงู ูููุฉ [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููู</a> ].  ูููู ูุง ุ ุฅุฐุง ุงุชุตูุช ุจู <code>foo</code> ููุณ ุจู 4 ูุณุงุฆุท ุ ูููู ุจู 19 ูุณูุทุฑุช ุนูููุง ุจููุณ ุงูุทุฑููุฉ ุ ูุณุชููู ุงููุชูุฌุฉ ูู ููุณูุง: ููุถู ูุงููุฉ ูู ุงูุฅุตุฏุงุฑ 32 ุจุช ุ ูุงูุฃุตูุงุฑ ูุฌููุน <code>float</code> ูู ุงูุฅุตุฏุงุฑ 64 ุจุช.  ุฃู  ุงูููุทุฉ ูู ุจุงูุทุจุน ูู ABI ุ ูููู ููุณ ูู ุงุณุชุฎุฏุงู ุงูุณุฌูุงุช ูุชูุฑูุฑ ุงูุญุฌุฌ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุญุณููุง ุ ุจุงูุทุจุน ุ ููููุงู ุจุฐูู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">void foo(int n, ...) { va_list va; va_start(va, n); std::cout &lt;&lt; va_arg(va, int) &lt;&lt; std::endl; std::cout &lt;&lt; va_arg(va, double) &lt;&lt; std::endl; std::cout &lt;&lt; va_arg(va, int) &lt;&lt; std::endl; va_end(va); }</code> </pre> </div></div><br></li><li style=";text-align:right;direction:rtl">  ูู ุบูุฑ ุงูุตุญูุญ ุฃู ูุชู ุชูุฑูุฑ ูุซูู ููุฆุฉ ูุน ูููุดุฆ ุบูุฑ ุจุฏููู ุฃู ููุฏููุฑ ููุณูุทุฉ ุบูุฑ ูุณูุงุฉ.  ูุง ูู ููู ุจุงูุทุจุน ูุตูุฑ ูุฐุง ุงูุฑูุฒ ูุซูุฑู ุนูู ุงูุฃูู ุฃูุซุฑ ูู "ุชุฌููุน ูุชุดุบูู ููุง ูุงูุขู." <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฑูุฒ ุบูุฑ ุตุงูุญ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">#include &lt;cstdarg&gt; #include &lt;iostream&gt; struct Bar { Bar() { std::cout &lt;&lt; "Bar default ctor" &lt;&lt; std::endl; } Bar(const Bar&amp;) { std::cout &lt;&lt; "Bar copy ctor" &lt;&lt; std::endl; } ~Bar() { std::cout &lt;&lt; "Bar dtor" &lt;&lt; std::endl; } }; struct Cafe { Cafe() { std::cout &lt;&lt; "Cafe default ctor" &lt;&lt; std::endl; } Cafe(const Cafe&amp;) { std::cout &lt;&lt; "Cafe copy ctor" &lt;&lt; std::endl; } ~Cafe() { std::cout &lt;&lt; "Cafe dtor" &lt;&lt; std::endl; } }; void foo(int n, ...) { va_list va; va_start(va, n); std::cout &lt;&lt; "Before va_arg" &lt;&lt; std::endl; const auto b = va_arg(va, Bar); va_end(va); } int main() { Bar b; Cafe c; foo(1, b, c); return 0; }</code> </pre> </div></div><br>  Clang ูู ุงูุฃูุซุฑ ุตุฑุงูุฉ ุนูู ุงูุฅุทูุงู.  ูุฑูุถ ุจุจุณุงุทุฉ ุชุฑุฌูุฉ ูุฐุง ุงูุฑูุฒ ูุฃู ุงููุณูุทุฉ ุงูุซุงููุฉ ุ <code>va_arg</code> ููุณุช ูู ููุน POD ุ ููุญุฐุฑ ูู ุฃู ุงูุจุฑูุงูุฌ ุณูู <code>va_arg</code> ุนูุฏ ุจุฏุก ุงูุชุดุบูู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุชุญุฐูุฑ ุนุตุจู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="diff hljs">./test.cpp:23:31: error: second argument to 'va_arg' is of non-POD type 'Bar' [-Wnon-pod-varargs] const auto b = va_arg(va, Bar); ^~~ ./test.cpp:31:12: error: cannot pass object of non-trivial type 'Bar' through variadic function; call will abort at runtime [-Wnon-pod-varargs] foo(1, b, c); ^</code> </pre> </div></div><br>  ูุฐูู ุณูููู ุ ุฅุฐุง ููุช ูุง ุชุฒุงู <code>-Wno-non-pod-varargs</code> ูุน ุนูุงูุฉ <code>-Wno-non-pod-varargs</code> . <br><br>  ูุญุฐุฑ <b>MSVC ูู</b> ุฃู ุงุณุชุฎุฏุงู ุฃููุงุน ูุน ููุดุฆุงุช ุบูุฑ ุชุงููุฉ ูู ูุฐู ุงูุญุงูุฉ ููุณ ูุงุจูุงู ููููู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุชุญุฐูุฑ ูู MSVC</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="diff hljs">d:\my documents\visual studio 2017\projects\test\test\main.cpp(31): warning C4840:    "Bar"         </code> </pre> </div></div><br>  ููู ุงูุดูุฑุฉ ุชุชุฑุฌู ูุชุนูู ุจุดูู ุตุญูุญ.  ูุชู ุงูุญุตูู ุนูู ูุง ููู ูู ูุญุฏุฉ ุงูุชุญูู: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุชูุฌุฉ ุงูุฅุทูุงู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="diff hljs">Bar default ctor Cafe default ctor Before va_arg Bar copy ctor Bar dtor Cafe dtor Bar dtor</code> </pre> </div></div><br>  ุฃู  ูุชู ุฅูุดุงุก ูุณุฎุฉ ููุท ูู ููุช ุงุณุชุฏุนุงุก <code>va_arg</code> ุ ูุงูุญุฌุฉ ุ ููุง ุงุชุถุญ ุ ูุชู ุชูุฑูุฑูุง ุนู ุทุฑูู ุงููุฑุฌุน.  ุจุทุฑููุฉ ูุง ููุณ ูุงุถุญูุง ุ ููู ุงููุนูุงุฑ ูุณูุญ ุจุฐูู. <br><br>  ูุฌูุน <b>gcc 6.3.0</b> ุฏูู ุชุนููู ูุงุญุฏ.  ุงูุฅุฎุฑุงุฌ ูู ููุณู: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุชูุฌุฉ ุงูุฅุทูุงู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="diff hljs">Bar default ctor Cafe default ctor Before va_arg Bar copy ctor Bar dtor Cafe dtor Bar dtor</code> </pre> </div></div><br>  ูุง ูุญุฐุฑ <b>gcc 7.3.0</b> ูู ุฃู ุดูุก ุ ููู ุงูุณููู ูุชุบูุฑ: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุชูุฌุฉ ุงูุฅุทูุงู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="diff hljs">Bar default ctor Cafe default ctor Cafe copy ctor Bar copy ctor Before va_arg Bar copy ctor Bar dtor Bar dtor Cafe dtor Cafe dtor Bar dtor</code> </pre> </div></div><br>  ุฃู  ูุฐุง ุงูุฅุตุฏุงุฑ ูู ุงููุชุฑุฌู ููุฑุฑ ุงููุณูุทุงุช ุญุณุจ ุงููููุฉ ุ ูุนูุฏูุง ูุชู ุงุณุชุฏุนุงุคู ุ ูููู <code>va_arg</code> ุจุนูู ูุณุฎุฉ ุฃุฎุฑู.  ุณูููู ูู ุงูููุชุน ุงูุจุญุซ ุนู ูุฐุง ุงูุงุฎุชูุงู ุนูุฏ ุงูุชุจุฏูู ูู ุงูุฅุตุฏุงุฑ ุงูุณุงุฏุณ ุฅูู ุงูุฅุตุฏุงุฑ ุงูุณุงุจุน ูู ุฏูู ูุฌูุณ ุงูุชุนุงูู ุงูุฎููุฌู ุฅุฐุง ูุงู ููููุดุฆูู / ุงููุฏูุฑูู ุขุซุงุฑูุง ุฌุงูุจูุฉ. <br><br>  ุจุงูููุงุณุจุฉ ุ ุฅุฐุง ูุฑุฑุช ุจุดูู ุตุฑูุญ ูุทูุจุช ุฅุดุงุฑุฉ ุฅูู ุงููุตู: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฑูุฒ ุฎุงุทุฆ ุขุฎุฑ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">void foo(int n, ...) { va_list va; va_start(va, n); std::cout &lt;&lt; "Before va_arg" &lt;&lt; std::endl; const auto&amp; b = va_arg(va, Bar&amp;); va_end(va); } int main() { Bar b; Cafe c; foo(1, std::ref(b), c); return 0; }</code> </pre> </div></div><br>  ุซู ูู ุงููุชุฑุฌููู ุณููููู ุฎุทุฃ.  ููุง ูู ูุทููุจ ูู ูุจู ุงููุนูุงุฑ. <br><br>  ุจุดูู ุนุงู ุ ุฅุฐุง ููุช ุชุฑูุฏ ุฐูู ุญููุง ุ ููู ุงูุฃูุถู ุชูุฑูุฑ ุงูุญุฌุฌ ุจุงููุคุดุฑ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุซู ูุฐุง</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">void foo(int n, ...) { va_list va; va_start(va, n); std::cout &lt;&lt; "Before va_arg" &lt;&lt; std::endl; const auto* b = va_arg(va, Bar*); va_end(va); } int main() { Bar b; Cafe c; foo(1, &amp;b, &amp;c); return 0; }</code> </pre> </div></div><br></li></ol><br><h3 style=";text-align:right;direction:rtl">  ุงูุฏูุฉ ุงูุฒุงุฆุฏุฉ ูุงููุธุงุฆู ุงููุชุบูุฑุฉ </h3><br>  ูู ูุงุญูุฉ ุ ูู ุดูุก ุจุณูุท: ุงููุทุงุจูุฉ ูุน ุนูุงูุฉ ุงูุญุฐู ูู ุฃุณูุฃ ูู ุงููุทุงุจูุฉ ูุน ูุณูุทุฉ ูุณูุงุฉ ุนุงุฏูุฉ ุ ุญุชู ูู ุญุงูุฉ ุชุญููู ุงูููุน ุงูููุงุณู ุฃู ุงููุญุฏุฏ ูู ูุจู ุงููุณุชุฎุฏู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุซุงู ุงูุฒุงุฆุฏ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">#include &lt;iostream&gt; void foo(...) { std::cout &lt;&lt; "C variadic function" &lt;&lt; std::endl; } void foo(int) { std::cout &lt;&lt; "Ordinary function" &lt;&lt; std::endl; } int main() { foo(1); foo(1ul); foo(); return 0; }</code> </pre> <br></div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุชูุฌุฉ ุงูุฅุทูุงู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="diff hljs">$ ./test Ordinary function Ordinary function C variadic function</code> </pre> </div></div><br>  ูููู ูุฐุง ูุง ูุนูู ุฅูุง ุฅูู ุฃู ุงูุฏุนูุฉ ุฅูู <code>foo</code> ุจุฏูู ุญุฌุฌ ูุฌุจ ุงููุธุฑ ูููุง ุจุดูู ูููุตู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงุณุชุฏุนุงุก ูู ุฏูู ุงูุญุฌุฌ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">#include &lt;iostream&gt; void foo(...) { std::cout &lt;&lt; "C variadic function" &lt;&lt; std::endl; } void foo() { std::cout &lt;&lt; "Ordinary function without arguments" &lt;&lt; std::endl; } int main() { foo(1); foo(); return 0; }</code> </pre> </div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฅุฎุฑุงุฌ ุงููุชุฑุฌู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="diff hljs">./test.cpp:16:9: error: call of overloaded 'foo()' is ambiguous foo(); ^ ./test.cpp:3:6: note: candidate: void foo(...) void foo(...) ^~~ ./test.cpp:8:6: note: candidate: void foo() void foo() ^~~</code> </pre> </div></div><br>  ูู ุดูุก ููููุง ูููุนูุงุฑ: ูุง ุชูุฌุฏ ุญุฌุฌ - ูุง ุชูุฌุฏ ููุงุฑูุฉ ูุน ุงููุทุน ุงููุงูุต ุ ูุนูุฏูุง ูุชู ุญู ุงูุญูู ุงูุฒุงุฆุฏ ุ ุชุตุจุญ ุงููุธููุฉ ุงููุชุบูุฑุฉ ุฃุณูุฃ ูู ุงููุธููุฉ ุงููุนุชุงุฏุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ูุชู ูุณุชุญู ูุน ุฐูู ุงุณุชุฎุฏุงู ูุธุงุฆู ูุชุบูุฑุฉ </h3><br>  ุญุณููุง ุ ูุง ุชุชุตุฑู ุงููุธุงุฆู ุงููุชุบูุฑุฉ ูู ุจุนุถ ุงูุฃุญูุงู ุจุดูู ูุงุถุญ ููุบุงูุฉ ุ ููู ุณูุงู C ++ ูููู ุฃู ุชุชุญูู ุจุณูููุฉ ุฅูู ุณูููุฉ ุงูุชููู.  ููุงู ุงูุนุฏูุฏ ูู ุงููุตุงุฆุญ ุนูู ุงูุฅูุชุฑูุช ูุซู "ูุง ุชูุดุฆ ูุธุงุฆู C ูุชุบูุฑุฉ ุฃู ุชุณุชุฎุฏููุง" ุ ููููุง ูู ุชุฒูู ุฏุนููุง ูู ูุนูุงุฑ C ++.  ูุฐูู ููุงู ุจุนุถ ุงูููุงุฆุฏ ููุฐู ุงูููุฒุงุชุ  ุญุณูุง ููุงู. <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุญุงูุฉ ุงูุฃูุซุฑ ุดููุนูุง ููุถูุญูุง ูู ุงูุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ.  ููุง ุณูู ุฃููู ุจุชุถููู ุงุณุชุฎุฏุงู ููุชุจุงุช C ุงูุชุงุจุนุฉ ูุฌูุงุช ุฎุงุฑุฌูุฉ (ุญุงูุชู ูุน JNI) ูุชูููุฑ ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช C ูุชุทุจูู C ++. <br></li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" title="ูุดู ุงูุงุณุชุจุฏุงู ููุณ ุฎุทุฃ">SFINAE</a> .  ููุง ุ ูู ุงููููุฏ ุฌุฏูุง ุฃูู ูู C ++ ูุง ูุฌุจ ุฃู ูููู ููุฏุงูุฉ ุงููุชุบูุฑุฉ ูุณูุทุงุช ูุณูุงุฉ ุ ูุฃูู ุนูุฏ ุญู ุงููุธุงุฆู ุงูุฒุงุฆุฏุฉ ุ ุชุนุชุจุฑ ุงูุฏุงูุฉ ุงููุชุบูุฑุฉ ูู ุงูุฃุฎูุฑุฉ (ุฅุฐุง ูุงู ููุงู ูุณูุทุฉ ูุงุญุฏุฉ ุนูู ุงูุฃูู).  ููุซู ุฃู ูุธููุฉ ุฃุฎุฑู ุ ูููู ุงูุฅุนูุงู ุนู ูุธููุฉ ูุชุบูุฑุฉ ููุท ุ ูููู ูุง ูุชู ุงุณุชุฏุนุงุคูุง ูุทูููุง. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุซุงู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">template &lt;class T&gt; struct HasFoo { private: template &lt;class U, class = decltype(std::declval&lt;U&gt;().foo())&gt; static void detect(const U&amp;); static int detect(...); public: static constexpr bool value = std::is_same&lt;void, decltype(detect(std::declval&lt;T&gt;()))&gt;::value; };</code> </pre> </div></div><br>  ุนูู ุงูุฑุบู ูู ุฃูู ูู C ++ 14 ููููู ุงูููุงู ุจุดูู ูุฎุชูู ููููุงู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุซุงู ุขุฎุฑ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">template &lt;class T&gt; struct HasFoo { private: template &lt;class U, class = decltype(std::declval&lt;U&gt;().foo())&gt; static constexpr bool detect(const U*) { return true; } template &lt;class U&gt; static constexpr bool detect(...) { return false; } public: static constexpr bool value = detect&lt;T&gt;(nullptr); };</code> </pre> </div></div><br>  ููู ูุฐู ุงูุญุงูุฉ ุ ูู ุงูุถุฑูุฑู ุจุงููุนู ูุดุงูุฏุฉ ูุง ูููู ูููุณุงุฆุท <code>detect(...)</code> .  ุฃูุถู ุชุบููุฑ ุฎุทูู ูุงุณุชุฎุฏุงู ุจุฏูู ุญุฏูุซ ูููุธุงุฆู ุงููุชุบูุฑุฉ ุ ุฎุงููุฉ ูู ุฌููุน ุฃูุฌู ุงููุตูุฑ ูููุง. <br></li></ul><br><h3 style=";text-align:right;direction:rtl">  ููุงูุจ ูุชุบูุฑุฉ ุฃู ููููุฉ ุฅูุดุงุก ูุธุงุฆู ูู ุนุฏุฏ ุนุดูุงุฆู ูู ุงูุญุฌุฌ ูู C ++ ุงูุญุฏูุซุฉ </h3><br>  ุชู ุงูุชุฑุงุญ ููุฑุฉ ุงูููุงูุจ ุงููุชุบูุฑุฉ ูู ูุจู ุฏูุฌูุงุณ ุฌุฑูุฌูุฑ ูุฌุงููู ูุงุฑูู ูุบุงุฑู ุจุงูู ูุฑุฉ ุฃุฎุฑู ูู ุนุงู 2004 ุ ุฃู  ูุจู 7 ุณููุงุช ูู ุงุนุชูุงุฏ ูุนูุงุฑ C ++ 11 ุ ุญูุซ ุชู ุฏุนู ูุฐู ุงูููุงูุจ ุงููุชุบูุฑุฉ ุฑุณูููุง.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุถูู ุงููุนูุงุฑ ูุฑุงุฌุนุฉ ุซุงูุซุฉ ูุงูุชุฑุงุญูู ุ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N2080</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฐ ุงูุจุฏุงูุฉ ุ ุชู ุฅูุดุงุก ููุงูุจ ูุชุบูุฑุฉ ุจุญูุซ ุฃุชูุญุช ูููุจุฑูุฌูู ุงููุฑุตุฉ ูุฅูุดุงุก ูุธุงุฆู ุขููุฉ ูู ุงูููุน (ูุงููุญูููุฉ!) ูู ุนุฏุฏ ุนุดูุงุฆู ูู ุงูุญุฌุฌ. </font><font style="vertical-align: inherit;">ูุฏู ุขุฎุฑ ูู ุชุจุณูุท ุงูุฏุนู ูููุงูุจ ุงูุตู ูุน ุนุฏุฏ ูุชุบูุฑ ูู ุงููุนููุงุช ุ ููููุง ูุชุญุฏุซ ุงูุขู ููุท ุนู ุงููุธุงุฆู ุงููุชุบูุฑุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฌูุจุช ุงูููุงูุจ ุงููุชุบูุฑุฉ ุซูุงุซุฉ ููุงููู ุฌุฏูุฏุฉ ุฅูู </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C ++ [C ++ 17 17.5.3]</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุนููุงุช ุงููุงูุจ ุงูุญุฒูุฉ ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงูุจ ุญุฒูุฉ ุงููุนููุฉ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) - ูู ูุงูุจ ุงููุนููุฉุ ุจุฏูุง ูู ุงูุชู ูุงู ูู ุงููููู ุชุญููู ุฃู (ุจูุง ูู ุฐูู 0) ุนุฏุฏ ุญุฌุฉ ุงููุงูุจ.</font></font><br></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญุฒูุฉ ูู ูุนููุงุช ุงูุฏูุงู ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญุฒูุฉ ูุนููุงุช ุงูุฏูุงู</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) - ุชุจุนุงู ูุฐูู ุ ูุฐู ูุนููุฉ ุฏุงูุฉ ุชุฃุฎุฐ ุฃู ุนุฏุฏ (ุจูุง ูู ุฐูู 0) ูู ูุณูุทุงุช ุงูุฏูุงู ุ</font></font><br></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชูุณูุน ุงูุญุฒูุฉ ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชูุณูุน ุงูุญุฒูุฉ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) ูู ุงูุดูุก ุงููุญูุฏ ุงูุฐู ูููู ุงูููุงู ุจู ูุน ุญุฒูุฉ ุงููุนููุงุช.</font></font><br></li></ul><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุซุงู</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">template &lt;class ... Args&gt; void foo(const std::string&amp; format, Args ... args) { printf(format.c_str(), args...); }</code> </pre> <br>  <code>class ... Args</code> โ   , <code>Args ... args</code> โ   ,  <code>args...</code> โ    . </div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชูุฌุฏ ูุงุฆูุฉ ูุงููุฉ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจููุงู</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูููููุฉ ุชูุณูุน ุญุฒู ุงููุนููุงุช ูู ุงููุนูุงุฑ ููุณู </font><i><font style="vertical-align: inherit;">[C ++ 17 17.5.3 / 4]</font></i><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ููู ุณูุงู ููุงูุดุฉ ุงููุธุงุฆู ุงููุชุบูุฑุฉ ุ ูููู ุงูููู:</font></font><br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุชูุณูุน ุญุฒูุฉ ูุนููุฉ ุงูุฏุงูุฉ ูู ูุงุฆูุฉ ูุณูุทุงุช ุฏุงูุฉ ุฃุฎุฑู</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">template &lt;class ... Args&gt; void bar(const std::string&amp; format, Args ... args) { foo&lt;Args...&gt;(format.c_str(), args...); }</code> </pre> </div></div><br></li><li style=";text-align:right;direction:rtl"><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃู ุฅูู ูุงุฆูุฉ ุงูุชููุฆุฉ</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">template &lt;class ... Args&gt; void foo(const std::string&amp; format, Args ... args) { const auto list = {args...}; }</code> </pre> </div></div><br></li><li style=";text-align:right;direction:rtl"><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃู ุฅูู ูุงุฆูุฉ ุงูุชูุงุท ูุงูุฏุง</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">template &lt;class ... Args&gt; void foo(const std::string&amp; format, Args ... args) { auto lambda = [&amp;format, args...] () { printf(format.c_str(), args...); }; lambda(); }</code> </pre> </div></div><br></li><li style=";text-align:right;direction:rtl"><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุชูุณูุน ุญุฒูุฉ ุฃุฎุฑู ูู ูุนููุงุช ุงูุฏุงูุฉ ูู ุชุนุจูุฑ ุงูุงูุชูุงู</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">template &lt;class ... Args&gt; int foo(Args ... args) { return (0 + ... + args); }</code> </pre> </div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุธูุฑุช ุงูุชุนุงุจูุฑ ูู C ++ 14 ููููู ุฃู ุชููู ุฃุญุงุฏูุฉ ูุซูุงุฆูุฉ ุ ูููููุง ููุณุงุฑูุง. </font><font style="vertical-align: inherit;">ุงููุตู ุงูุฃูุซุฑ ุงูุชูุงูุงู ุ ููุง ูู ุงูุญุงู ุฏุงุฆููุง ุ ููุฌูุฏ ูู ุงููุนูุงุฑ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[C ++ 17 8.1.6]</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br></li><li style=";text-align:right;direction:rtl"><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุชูุณูุน ููุง ููุนู ุญุฒู ุงููุนููุงุช ุฅูู ุนุงูู sizeof ...</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">template &lt;class ... Args&gt; void foo(Args ... args) { const auto size1 = sizeof...(Args); const auto size2 = sizeof...(args); }</code> </pre> </div></div><br></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงููุดู ุนู ุญุฒูุฉ ุงููุทุน ูุงุถุญุฉ ูููุงู ุญุงุฌุฉ ูุฏุนู ูุฎุชูู ุงูููุงูุจ ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃููุงุท</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) ุนู ููุชุฌูุจ ูุฐุง ุงูุบููุถ.</font></font><br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุนูู ุณุจูู ุงููุซุงู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">template &lt;class ... Args&gt; void foo() { using OneTuple = std::tuple&lt;std::tuple&lt;Args&gt;...&gt;; using NestTuple = std::tuple&lt;std::tuple&lt;Args...&gt;&gt;; }</code> </pre> <br> <code>OneTuple</code> โ      ( <code>std:tuple&lt;std::tuple&lt;int&gt;&gt;, std::tuple&lt;double&gt;&gt;</code> ),  <code>NestTuple</code> โ ,     โ   ( <code>std::tuple&lt;std::tuple&lt;int, double&gt;&gt;</code> ). </div></div><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุซุงู ุนูู ุชูููุฐ printf ุจุงุณุชุฎุฏุงู ููุงูุจ ูุชุบูุฑุฉ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง ุฐูุฑุช ูู ูุจู ุ ุชู ุฅูุดุงุก ููุงูุจ ูุชุบูุฑุฉ ุฃูุถูุง ูุจุฏูู ูุจุงุดุฑ ูููุธุงุฆู ุงููุชุบูุฑุฉ ูู C. ุงูุชุฑุญ ูุคููู ูุฐู ุงูููุงูุจ ุฃููุณูู ูุณุฎุชูู ุงูุจุณูุทุฉ ุฌุฏูุง ูููู ุงูุขููุฉ ูู ุงูููุน </font></font><code>printf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- ูุงุญุฏุฉ ูู ุฃููู ุงููุธุงุฆู ุงููุชุบูุฑุฉ ูู C.</font></font><br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">printf ุนูู ุงูููุงูุจ</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">void printf(const char* s) { while (*s) { if (*s == '%' &amp;&amp; *++s != '%') throw std::runtime_error("invalid format string: missing arguments"); std::cout &lt;&lt; *s++; } } template &lt;typename T, typename ... Args&gt; void printf(const char* s, T value, Args ... args) { while (*s) { if (*s == '%' &amp;&amp; *++s != '%') { std::cout &lt;&lt; value; return printf(++s, args...); } std::cout &lt;&lt; *s++; } throw std::runtime_error("extra arguments provided to printf"); }</code> </pre> </div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุธู ุ ุซู ุธูุฑ ูุฐุง ุงูููุท ูู ุชุนุฏุงุฏ ุงูุญุฌุฌ ุงููุชุบูุฑุฉ - ูู ุฎูุงู ุงุณุชุฏุนุงุก ูุชูุฑุฑ ูููุธุงุฆู ุงููุญููุฉ. </font><font style="vertical-align: inherit;">ูููู ูุง ุฒูุช ุฃูุถู ุงูุฎูุงุฑ ุฏูู ุงูุชูุฑุงุฑ.</font></font><br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">printf ุนูู ุงูููุงูุจ ูุฏูู ุงูุนูุฏูุฉ</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">template &lt;typename ... Args&gt; void printf(const std::string&amp; fmt, const Args&amp; ... args) { size_t fmtIndex = 0; size_t placeHolders = 0; auto printFmt = [&amp;fmt, &amp;fmtIndex, &amp;placeHolders]() { for (; fmtIndex &lt; fmt.size(); ++fmtIndex) { if (fmt[fmtIndex] != '%') std::cout &lt;&lt; fmt[fmtIndex]; else if (++fmtIndex &lt; fmt.size()) { if (fmt[fmtIndex] == '%') std::cout &lt;&lt; '%'; else { ++fmtIndex; ++placeHolders; break; } } } }; ((printFmt(), std::cout &lt;&lt; args), ..., (printFmt())); if (placeHolders &lt; sizeof...(args)) throw std::runtime_error("extra arguments provided to printf"); if (placeHolders &gt; sizeof...(args)) throw std::runtime_error("invalid format string: missing arguments"); }</code> </pre> </div></div><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุฏูุฉ ุงูุฒุงุฆุฏุฉ ููุธุงุฆู ุงููุงูุจ ุงููุชุบูุฑ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูุฏ ุงูุญู ุ ุชุนุชุจุฑ ูุฐู ุงููุธุงุฆู ุงููุชููุนุฉ ุ ุจุนุฏ ุฃุฎุฑู ุ ุจุฃููุง ููุงุณูุฉ ูุฃูู ุชุฎุตุตูุง. </font><font style="vertical-align: inherit;">ูููู ูุง ุชูุฌุฏ ูุดููุฉ ูู ุญุงูุฉ ููุงููุฉ ุจุฏูู ุญุฌุฌ.</font></font><br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุซุงู ุงูุฒุงุฆุฏ</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">#include &lt;iostream&gt; void foo(int) { std::cout &lt;&lt; "Ordinary function" &lt;&lt; std::endl; } void foo() { std::cout &lt;&lt; "Ordinary function without arguments" &lt;&lt; std::endl; } template &lt;class T&gt; void foo(T) { std::cout &lt;&lt; "Template function" &lt;&lt; std::endl; } template &lt;class ... Args&gt; void foo(Args ...) { std::cout &lt;&lt; "Template variadic function" &lt;&lt; std::endl; } int main() { foo(1); foo(); foo(2.0); foo(1, 2); return 0; }</code> </pre> </div></div><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชูุฌุฉ ุงูุฅุทูุงู</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="diff hljs">$ ./test Ordinary function Ordinary function without arguments Template function Template variadic function</code> </pre> </div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูุฏูุง ูุชู ุญู ุงูุญูู ุงูุฒุงุฆุฏ ุ ูุง ูููู ุฃู ุชุชุฌุงูุฒ ูุธููุฉ ุงููุงูุจ ุงููุชุบูุฑ ุณูู ุฏุงูุฉ C ุงููุชุบูุฑุฉ (ุนูู ุงูุฑุบู ูู ุณุจุจ ูุฒุฌูุงุ). </font><font style="vertical-align: inherit;">ุจุงุณุชุซูุงุก - ุจุงูุทุจุน! </font><font style="vertical-align: inherit;">- ุงุณุชุฏุนุงุก ุจุฏูู ุญุฌุฌ.</font></font><br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุณุชุฏุนุงุก ุจุฏูู ุญุฌุฌ</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">#include &lt;iostream&gt; void foo(...) { std::cout &lt;&lt; "C variadic function" &lt;&lt; std::endl; } template &lt;class ... Args&gt; void foo(Args ...) { std::cout &lt;&lt; "Template variadic function" &lt;&lt; std::endl; } int main() { foo(1); foo(); return 0; }</code> </pre> </div></div><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชูุฌุฉ ุงูุฅุทูุงู</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="diff hljs">$ ./test Template variadic function C variadic function</code> </pre> </div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุงู ููุงุฑูุฉ ูุน ุงููุทุน ุงููุงูุต - ุชููุฏ ุงููุธููุฉ ุงูููุงุจูุฉ ุ ููุง ุชูุฌุฏ ููุงุฑูุฉ ูุน ุงููุทุน ุงููุงูุต - ููุธููุฉ ุงููุงูุจ ุฃูู ุดุฃูุง ูู ุบูุฑ ุงููุงูุจ. </font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุงุญุธุฉ ุณุฑูุนุฉ ุญูู ุณุฑุนุฉ ูุธุงุฆู ุงููุงูุจ ุงููุชุบูุฑ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุนุงู 2008 ุ </font><font style="vertical-align: inherit;">ูุฏู </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Loรฏc Joly</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุชุฑุงุญู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N2772</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅูู ูุฌูุฉ ุงูุชูุญูุฏ ุงูููุงุณู C ++ </font><font style="vertical-align: inherit;">ุ ุญูุซ ุฃุธูุฑ ุนููููุง ุฃู ูุธุงุฆู ุงููุงูุจ ุงููุชุบูุฑ ุชุนูู ุจุดูู ุฃุจุทุฃ ูู ุงููุธุงุฆู ุงูููุงุซูุฉ ุ ูุงูุชู ุชููู ุญุฌุฉ ูุงุฆูุฉ ุงูุชููุฆุฉ ( </font></font><code>std::initializer_list</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">ูุฑุบู ุฃู ูุฐุง ูุงู ูุฎุงููุง ูุฅุซุจุงุช ุงููุธุฑูุฉ ูููุคูู ููุณูุ ุงูุชุฑุญ ุฌููู ูุชูููุฐ </font></font><code>std::min</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ </font></font><code>std::max</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู </font></font><code>std::minmax</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฐูู ูู ุฎูุงู ุงูููุงุฆู ุงูุชููุฆุฉ ุจุฏูุง ูู ุฃููุงุท ุงูุจุฏูู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุจุงููุนู ูู ุนุงู 2009 ุ ุธูุฑ ููุถ. </font><font style="vertical-align: inherit;">ูู ุงุฎุชุจุงุฑุงุช ุฌููู ุ ุชู ุงูุชุดุงู "ุฎุทุฃ ุฌุณูู" (ุนูู ูุง ูุจุฏู ุ ุญุชู ุจุงููุณุจุฉ ูู). </font><font style="vertical-align: inherit;">ุงุฎุชุจุงุฑุงุช ุฌุฏูุฏุฉ (ุงูุธุฑ. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) ุฃุธูุฑุช ุฃู ูุธุงุฆู ุงููุงูุจ ุงููุชุบูุฑ ูุง ุชุฒุงู ุฃุณุฑุน ูุฃุญูุงููุง ุจุดูู ููุญูุธ. </font><font style="vertical-align: inherit;">ููู ููุณ ููุงุฌุฆุง ููุฐ ุฐูู ุงูุญูู </font><font style="vertical-align: inherit;">ุชููู ูุงุฆูุฉ ุงูุชููุฆุฉ ุจุนูู ูุณุฎ ูู ุนูุงุตุฑูุง ุ ูุจุงููุณุจุฉ ููููุงูุจ ุงููุชุบูุฑุฉ ููููู ุญุณุงุจ ุงููุซูุฑ ูู ูุฑุญูุฉ ุงูุชุฌููุน. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุน ุฐููุ ูู C ++ 11 ูุงููุนุงููุฑ ูุงุญูุฉ </font></font><code>std::min</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ </font></font><code>std::max</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู </font></font><code>std::minmax</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- ููุฐุง ูู ูุธุงุฆู ุงููุงูุจ ุงููุนุชุงุฏุ ุนุฏุฏ ุงูุชุนุณูู ูู ุงูุญุฌุฌ ุงูุชู ุชูุชูู ุนู ุทุฑูู ูุงุฆูุฉ ุงูุชููุฆุฉ.</font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุฌุฒ ูุฎูุงุตุฉ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุฐูู ุ ูุธุงุฆู ูุชุบูุฑุฉ ุนูู ุบุฑุงุฑ C: </font></font><br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅููู ูุง ูุนุฑููู ุนุฏุฏ ุญุฌุฌูู ุฃู ุฃููุงุนูู. </font><font style="vertical-align: inherit;">ูุฌุจ ุนูู ุงููุทูุฑ ุงุณุชุฎุฏุงู ุฌุฒุก ูู ุงููุณูุทุงุช ููุฏุงูุฉ ูุชูุฑูุฑ ูุนูููุงุช ุนู ุงูุจุงูู.</font></font><br></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุถููููุง ุฑูุน ุฃููุงุน ุงูุญุฌุฌ ุบูุฑ ุงููุณูุงุฉ (ูุขุฎุฑ ุงุณู). </font><font style="vertical-align: inherit;">ุฅุฐุง ูุณูุช ุฐูู ุ ุชุญุตู ุนูู ุณููู ุบุงูุถ.</font></font><br></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุญุงูุธูู ุนูู ุงูุชูุงูู ุงูุนูุณู ูุน C ุงูููู ุ ูุจุงูุชุงูู ูุง ูุฏุนููู ุชูุฑูุฑ ุงูุญุฌุฌ ุจุงูุฅุดุงุฑุฉ. </font></font><br></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุจู C ++ 11 ุ ูู ูุชู ุฏุนู ุงูุญุฌุฌ ุงูุชู ููุณุช ูู </font><font style="vertical-align: inherit;">ุฃููุงุน </font></font><abbr title="ุจูุงูุงุช ูุฏููุฉ ูุงุถุญุฉ"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">POD</font></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ูููุฐ C ++ 11 ุ ุชู ุชุฑู ุงูุฏุนู ููุฃููุงุน ุบูุฑ ุงูุชุงููุฉ ูุชูุฏูุฑ ุงููุชุฑุฌู.</font></font> ุฃู<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุนุชูุฏ ุณููู ุงูููุฏ ุนูู ุงููุชุฑุฌู ูุฅุตุฏุงุฑู. </font></font><br></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุงุณุชุฎุฏุงู ุงููุญูุฏ ุงููุณููุญ ุจู ูููุธุงุฆู ุงููุชุบูุฑุฉ ูู ุงูุชูุงุนู ูุน C API ูู ููุฏ C ++. </font><font style="vertical-align: inherit;">ููู ุดูุก ุขุฎุฑ ุ ุจูุง ูู ุฐูู </font></font><abbr title="ูุดู ุงูุงุณุชุจุฏุงู ููุณ ุฎุทุฃ"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SFINAE</font></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ููุงู ูุธุงุฆู ูุงูุจ ูุชุบูุฑุฉ:</font></font><br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงุนุฑู ุนุฏุฏ ูุฃููุงุน ูู ุญุฌุฌูู. </font></font><br></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุชุจ ุจุฃูุงู ุ ูุง ุชุบูุฑ ุฃููุงุน ุญุฌุฌูู. </font></font><br></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ูุฏุนููู ุชูุฑูุฑ ุงูุญุฌุฌ ุจุฃู ุดูู - ุจุงููููุฉ ุ ุจุงููุคุดุฑ ุ ุจุงูุฅุดุงุฑุฉ ุ ุจุงูุงุฑุชุจุงุท ุงูุนุงููู. </font></font><br></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุซู ุฃู ุฏุงูุฉ C ++ ุฃุฎุฑู ุ ูุง ุชูุฌุฏ ูููุฏ ุนูู ุฃููุงุน ุงููุณุงุฆุท. </font></font><br></li><li style=";text-align:right;direction:rtl">        (   C ),   . <br></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุฃู ุชููู ูุธุงุฆู ุงููุงูุจ ุงููุชุบูุฑ ุฃูุซุฑ ุชุทููููุง ููุงุฑูุฉ ุจูุธูุฑุงุชูุง ุนูู ุบุฑุงุฑ C ูุฃุญูุงููุง ุชุชุทูุจ ุฅุตุฏุงุฑูุง ุบูุฑ ูุญููู ูู ุงููุงูุจ (ุงุฌุชูุงุฒ ุงููุณูุทุฉ ุงูุนูุฏูุฉ). </font><font style="vertical-align: inherit;">ููู ุฃุตุนุจ ูู ุงููุฑุงุกุฉ ูุงููุชุงุจุฉ. </font><font style="vertical-align: inherit;">ูููู ูู ูุฐุง ูุฏูุน ุฃูุซุฑ ูู ุฐูู ุจุณุจุจ ุนุฏู ูุฌูุฏ ุฃูุฌู ุงููุตูุฑ ุงููุฏุฑุฌุฉ ููุฌูุฏ ุงููุฒุงูุง ุงููุฏุฑุฌุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญุณููุง ุ ุงูุงุณุชูุชุงุฌ ุจุณูุท: ุชุจูู ุงููุธุงุฆู ุงููุชููุนุฉ ูู ููุท C ูู C ++ ููุท ุจุณุจุจ ุงูุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ ุ ููู ุชููุฑ ูุฌููุนุฉ ูุงุณุนุฉ ูู ุงูุฎูุงุฑุงุช ูุชุตููุจ ุณุงูู. </font><font style="vertical-align: inherit;">ูู ูุบุฉ C ++ ุงูุญุฏูุซุฉ ุ ูููุตุญ ุจุดุฏุฉ ุจุนุฏู ูุชุงุจุฉ ูุธุงุฆู ุฌุฏูุฏุฉ ุ ูุฅู ุฃููู ุ ุนุฏู ุงุณุชุฎุฏุงู ูุธุงุฆู C ุงููุชุบูุฑุฉ ุงูุญุงููุฉ. </font><font style="vertical-align: inherit;">ุชูุชูู ูุธุงุฆู ุงููุงูุจ ุงููุชุบูุฑ ุฅูู ุนุงูู C ++ ุงูุญุฏูุซ ููู ุฃูุซุฑ ุฃูุงููุง. </font><font style="vertical-align: inherit;">ุงุณุชุฎุฏููู.</font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุฃุฏุจ ูุงููุตุงุฏุฑ </font></font></h3><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PJ Plauger ุ ููุชุจุฉ C ุงูููุงุณูุฉ</font></font></a> <br></li><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Brian W. Kernighan and Dennis M. Ritchie ุ ูุบุฉ ุงูุจุฑูุฌุฉ C ุ ุงูุทุจุนุฉ ุงูุฃููู</font></font></a> <br></li><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Brian W. Kernighan and Dennis M. Ritchie ุ ูุบุฉ ุงูุจุฑูุฌุฉ C ุ ุงูุทุจุนุฉ ุงูุซุงููุฉ</font></font></a> <br></li><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุนูุงุฑ C11 ุ ูุดุฑูุน N1570</font></font></a> <br></li><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุนูุงุฑ C ++ 98</font></font></a> <br></li><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุนูุงุฑ C ++ 03</font></font></a> <br></li><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C ++ 11 ููุงุณู ุ ูุดุฑูุน N3337</font></font></a> <br></li><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุนูุงุฑ C ++ 14 ุ ูุดุฑูุน N4296</font></font></a> <br></li><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุนูุงุฑ C ++ 17 ุ ูุดุฑูุน N4659</font></font></a> <br></li></ul><br><h3 style=";text-align:right;direction:rtl">  ููุงุญุธุฉ </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงูุณูู ุงูุนุซูุฑ ุนูู ูุณุฎ ุฅููุชุฑูููุฉ ูู ุงููุชุจ ุงููุฐููุฑุฉ ุนูู ุงูุฅูุชุฑูุช ูุชูุฒูููุง. </font><font style="vertical-align: inherit;">ููููู ูุณุช ูุชุฃูุฏูุง ูู ุฃููุง ุณุชููู ูุงููููุฉ ุ ูุฐูู ูุง ุฃูุฏู ุฑูุงุจุท.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar430064/">https://habr.com/ru/post/ar430064/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar430052/index.html">ููุงุฐุง ูู ุงูููู ููุทูุฑู ุงูุฃุฌูุฒุฉ ุฅุฌุฑุงุก cusdev ุงูุฌูุฏุฉ</a></li>
<li><a href="../ar430054/index.html">HolyJS 2018 ููุณูู: ุงูุจุซ ุงููุฌุงูู ุนุจุฑ ุงูุฅูุชุฑูุช ูุงูุญุฒุจ ูุงูุฑุงุจ ูุงูุชูููููุฌูุง</a></li>
<li><a href="../ar430058/index.html">ุนูููุงุช ุงูููุฌุฉ ูู ุงูุฎุทูุท ุงูููุฏุฑูููููุฉ. ุงูุฃุณุงุณูุงุช</a></li>
<li><a href="../ar430060/index.html">Hackspace ุ Denis Perevalov ุ Anastasia Krokhaleva - ุณุญุฑ ุงูุจุฑูุฌุฉ</a></li>
<li><a href="../ar430062/index.html">ุงูุฎุฏูุงุช ุงูุฏูููุฉ. ุชุทููุฑ ูุฅุนุงุฏุฉ ุจูุงุก ุงูุฃููุงุท ุจุงุณุชุฎุฏุงู ุฃูุซูุฉ ุฌุงูุง</a></li>
<li><a href="../ar430068/index.html">ูุณุงู ุงููุฑูุณุงููุณ</a></li>
<li><a href="../ar430070/index.html">ุงูููุฏุณ ูุงูุทุงุจูุฑ ููุง ูููุฐุฌุงู ุณูุฆุงู ููุง ูููู ุงูููุงู ุจู ุญูุงู ุฐูู</a></li>
<li><a href="../ar430072/index.html">ุงูุชูููู ูู ุฃูููุฉ Swift ูู ุฌุงูุจ ุงูุฎุงุฏู: ููุงุจูุฉ ูุน Paul Hudson</a></li>
<li><a href="../ar430074/index.html">ููู ุงูุชุดูุช ููุฑูุณูุง ูุญุงูู ุจูุน ุงูุฃุญุฐูุฉ</a></li>
<li><a href="../ar430076/index.html">ุงูุจุซ ุงููุฌุงูู ูู DotNext 2018 Moscow</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>