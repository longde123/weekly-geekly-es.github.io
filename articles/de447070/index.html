<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëØ üìâ üìó AERODISK ENGINE N2 Lagerungstest, Festigkeitspr√ºfung üë©üèæ‚Äçüè´ üåò ‚Ü™Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo allerseits! Mit diesem Artikel er√∂ffnet AERODISK einen Blog √ºber Habr√©. Hurra, Genossen! 


 In fr√ºheren Artikeln zu Habr wurden Fragen zur Arch...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>AERODISK ENGINE N2 Lagerungstest, Festigkeitspr√ºfung</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/aerodisk/blog/447070/"><p><img src="https://habrastorage.org/webt/vw/lz/ss/vwlzssiugbxwzzvjzgil6jm6nhu.jpeg"></p><br><p>  Hallo allerseits!  Mit diesem Artikel er√∂ffnet AERODISK einen Blog √ºber Habr√©.  Hurra, Genossen! </p><br><p>  In fr√ºheren Artikeln zu Habr wurden Fragen zur Architektur und Grundkonfiguration von Speichersystemen ber√ºcksichtigt.  In diesem Artikel werden wir eine Frage betrachten, die zuvor nicht behandelt wurde, aber h√§ufig gestellt wurde - √ºber die Fehlertoleranz von AERODISK ENGINE-Speichersystemen.  Unser Team wird alles tun, damit das AERODISK-Speichersystem nicht mehr funktioniert, d. H.  sie brechen. </p><a name="habracut"></a><br><p>  So kam es, dass Artikel √ºber die Geschichte unseres Unternehmens, √ºber unsere Produkte sowie ein Beispiel f√ºr eine erfolgreiche Implementierung bereits bei Habr√© h√§ngen, wof√ºr <u>wir uns bei unseren Partnern - TS Solution und Softline - bedanken.</u> </p><br><p>  Daher werde ich hier nicht die Verwaltungsf√§higkeiten zum Kopieren und Einf√ºgen trainieren, sondern lediglich Links zu den Originalen dieser Artikel geben: </p><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><strong>Artikel Nr. 1.</strong></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><strong>√úber die Unternehmensgeschichte und die Architektur des Speichersystems AERODISK ENGINE</strong></a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><strong>Artikel Nr. 2.</strong></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><strong>Informationen zum schnellen Konfigurieren des AERODISK ENGINE-Speichers</strong></a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><strong>Artikel Nr. 3.</strong></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><strong>Ein interessantes Projekt zur Implementierung einer gro√üen Video√ºberwachung im Rahmen der Weltmeisterschaft 2018 im Rahmen des Safe City-Projekts</strong></a> </li></ul><br><p>  Ich m√∂chte auch die guten Nachrichten teilen.  Aber ich werde nat√ºrlich mit dem Problem beginnen.  Wir als junger Anbieter sehen uns unter anderem immer wieder der Tatsache gegen√ºber, dass viele Ingenieure und Administratoren nicht wissen, wie sie unsere Speichersysteme richtig betreiben sollen. <br>  Es ist klar, dass die Verwaltung der meisten Speichersysteme aus Sicht des Administrators ungef√§hr gleich aussieht, aber jeder Hersteller hat seine eigenen Merkmale.  Und wir sind keine Ausnahme. </p><br><p>  Um die Ausbildung von IT-Fachleuten zu vereinfachen, haben wir uns daher entschlossen, dieses Jahr der freien Bildung zu widmen.  Zu diesem Zweck er√∂ffnen wir in vielen gro√üen St√§dten Russlands ein Netzwerk von AERODISK-Kompetenzzentren, in denen jeder interessierte technische Spezialist einen Kurs absolut kostenlos belegen und ein AERODISK ENGINE-Speicherverwaltungszertifikat erhalten kann. </p><br><p>  In jedem Kompetenzzentrum installieren wir einen vollwertigen Demostand aus dem AERODISK-Speichersystem und einen physischen Server, auf dem unser Lehrer eine Vollzeitschulung durchf√ºhrt.  Der Arbeitsplan der Kompetenzzentren wird nach ihrem Erscheinen ver√∂ffentlicht, aber jetzt haben wir ein Zentrum in Nischni Nowgorod er√∂ffnet und die Stadt Krasnodar steht an n√§chster Stelle.  Sie k√∂nnen sich √ºber die folgenden Links f√ºr das Training anmelden.  Ich bringe die aktuell bekannten Informationen √ºber St√§dte und Daten mit: </p><br><ul><li>  <strong>Nischni Nowgorod</strong> (BEREITS FUNKTIONIERT - Sie k√∂nnen sich hier registrieren <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://aerodisk.promo/nn/</a> ); <br>  Bis zum 16. April 2019 k√∂nnen Sie das Zentrum jederzeit besuchen. Am 16. April 2019 wird ein gro√üer Schulungskurs organisiert. </li><li>  <strong>Krasnodar</strong> (BALD KOMMEN - hier anmelden <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://aerodisk.promo/krsnd/</a> ); <br>  Vom 9. bis 25. April 2019 k√∂nnen Sie das Zentrum jederzeit besuchen. Am 25. April 2019 wird ein gro√üer Schulungskurs organisiert. </li><li>  <strong>Jekaterinburg</strong> (BALD ER√ñFFNUNG, folgen Sie den Informationen auf unserer Website oder auf Habr√©); <br>  Mai-Juni 2019. </li><li>  <strong>Nowosibirsk</strong> (folgen Sie den Informationen auf unserer Website oder auf Habr√©); <br>  Oktober 2019 </li><li>  <strong>Krasnojarsk</strong> (folgen Sie den Informationen auf unserer Website oder auf Habr√©); <br>  November 2019 </li></ul><br><p>  Und wenn Moskau nicht weit von Ihnen entfernt ist, k√∂nnen Sie jederzeit unser B√ºro in Moskau besuchen und eine √§hnliche Ausbildung absolvieren. </p><br><p>  Das ist alles.  Mit dem Marketing verbunden, gehen Sie zur Technik! </p><br><p>  Auf Habr√© ver√∂ffentlichen wir regelm√§√üig technische Artikel √ºber unsere Produkte, Stresstests, Vergleiche, Verwendungsmerkmale und interessante Implementierungen. </p><br><h2>  AERODISK ENGINE N2 Lagerungstest, Festigkeitspr√ºfung </h2><br><p>  <b>ACHTUNG!</b>  <em>Nachdem Sie den Artikel gelesen haben, k√∂nnen Sie sagen: Nun, nat√ºrlich wird sich der Verk√§ufer selbst √ºberpr√ºfen, damit alles "mit einem Knall", Gew√§chshausbedingungen usw. funktioniert.</em>  <em>Ich werde antworten: nichts dergleichen!</em>  <em>Im Gegensatz zu unseren ausl√§ndischen Konkurrenten sind wir hier, in Ihrer N√§he, und Sie k√∂nnen jederzeit zu uns (in Moskau oder einem Zentralkomitee) kommen und unser Speichersystem auf irgendeine Weise testen.</em>  <em>Daher ist es wenig sinnvoll, die Ergebnisse an das Idealbild der Welt anzupassen, weil</em>  <em>Wir sind sehr einfach zu √ºberpr√ºfen.</em>  <em>F√ºr diejenigen <s>, die zu faul zum Gehen sind</s> und keine Zeit haben, k√∂nnen wir Ferntests organisieren.</em>  <em>Daf√ºr haben wir ein spezielles Labor.</em>  <em>Kontakt.</em> </p><br><p>  <strong>ACHTUNG-2!</strong>  <em>Dieser Test ist kein Belastungstest, weil</em>  <em>hier geht es nur um fehlertoleranz.</em>  <em>In ein paar Wochen werden wir einen leistungsst√§rkeren Stand vorbereiten und Lasttests von Speichersystemen durchf√ºhren. Die Ergebnisse werden hier ver√∂ffentlicht (Testw√ºnsche werden √ºbrigens akzeptiert).</em> </p><br><p>  Also, lass uns Pause machen. </p><br><h3>  Pr√ºfstand </h3><br><p>  Unser Stand besteht aus folgendem Eisen: </p><br><ul><li>  1 x Aerodisk Engine N2-Speicher (2 Controller, 64 GB Cache, 8 x FC-Ports 8 Gbit / s, 4 x Ethernet-Ports 10 Gbit / s SFP +, 4 x Ethernet-Ports 1 Gbit / s);  Die folgenden Festplatten sind im Speichersystem installiert: </li><li>  4 x SAS SSD Disc 900 GB; </li><li>  12 x SAS 10k-Laufwerke 1,2 TB; </li><li>  1 x physischer Server mit Windows Server 2016 (2xXeon E5 2667 v3, 96 GB RAM, 2xFC-Ports 8 Gbit / s, 2x Ethernet-Ports 10 Gbit / s SFP +); </li><li>  2 x SAN 8G-Schalter; </li><li>  2 x LAN 10G-Switch; </li></ul><br><p>  Wir haben den Server √ºber Switches √ºber FC und Ethernet 10G mit dem Speicher verbunden.  Schema des Standes unten. </p><br><img src="https://habrastorage.org/webt/vd/b7/lb/vdb7lbehpksnfqj0ssv46rwfcta.png" alt="Bild"><br><p>  Die erforderlichen Komponenten wie MPIO und iSCSI-Initiator werden unter Windows Server installiert. <br>  Zonen werden auf FC-Switches konfiguriert, entsprechende VLANs werden auf LAN-Switches konfiguriert und MTU 9000 wird auf Speicherports, Switches und Host installiert (wie dies alles funktioniert, wird in unserer Dokumentation beschrieben, daher werden wir diesen Prozess hier nicht beschreiben). </p><br><h3>  Testmethode </h3><br><p>  Der Crashtest-Plan lautet wie folgt: </p><br><ul><li>  √úberpr√ºfung des FC- und Ethernet-Portfehlers. </li><li>  Stromausfallpr√ºfung. </li><li>  √úberpr√ºfen des Controller-Fehlers. </li><li>  √úberpr√ºfen Sie den Festplattenfehler in einer Gruppe / einem Pool. </li></ul><br><p>  Alle Tests werden unter synthetischen Lastbedingungen durchgef√ºhrt, die wir mit IOMETER erzeugen.  Parallel dazu werden wir dieselben Tests durchf√ºhren, jedoch unter den Bedingungen, dass gro√üe Dateien auf das Speichersystem kopiert werden. </p><br><p>  Die IOmeter-Konfiguration lautet wie folgt: </p><br><ul><li>  Lesen / Schreiben - 70/30 </li><li>  Block - 128k (wir haben beschlossen, das Speichersystem mit gro√üen Bl√∂cken zu benetzen) </li><li>  Die Anzahl der Threads betr√§gt 128 (was der Arbeitslast sehr √§hnlich ist). </li><li>  Voll zuf√§llig </li><li>  Anzahl der Arbeitnehmer - 4 (2 f√ºr FC, 2 f√ºr iSCSI) </li></ul><br><img src="https://habrastorage.org/webt/th/p7/94/thp7947ybxy0k63hkq4_b-o7bnc.png"><br><img src="https://habrastorage.org/webt/jz/pm/wl/jzpmwldtif_cvydlavihoj2muby.png"><br><br>  <b>Der Test hat folgende Aufgaben:</b> <br><ol><li>  Stellen Sie sicher, dass das synthetische Laden und der Kopiervorgang nicht unterbrochen werden und bei verschiedenen Fehlermodi keine Fehler verursachen. </li><li>  Stellen Sie sicher, dass der Prozess des Wechsels von Ports, Controllern usw. ausreichend automatisiert ist und keine Administratoraktionen im Falle von Fehlern erforderlich sind (dh bei einem Failover wird nat√ºrlich nicht √ºber Failbacks gesprochen). </li><li>  Stellen Sie sicher, dass die Informationen in den Protokollen korrekt angezeigt werden. </li></ol><br><h3>  Host- und Speichervorbereitung </h3><br><p>  Wir haben den Blockzugriff auf den Speicher √ºber FC- und Ethernet-Ports (FC bzw. iSCSI) konfiguriert.  Wie das geht, haben die Jungs von TS Solution in einem fr√ºheren Artikel ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://habr.com/en/company/tssolution/blog/432876/</a> ) ausf√ºhrlich beschrieben.  Nun, und nat√ºrlich hat niemand Handb√ºcher und Kurse abgesagt. </p><br><p>  Wir haben eine Hybridgruppe mit allen vorhandenen Laufwerken eingerichtet.  2 SSD-Festplatten werden dem Cache hinzugef√ºgt, 2 SSD-Festplatten werden als zus√§tzliche Speicherebene hinzugef√ºgt (Online-Schicht).  Wir haben 12 SAS10k-Festplatten in RAID-60P (Triple Parity) gruppiert, um den Ausfall von drei Festplatten in einer Gruppe gleichzeitig zu √ºberpr√ºfen.  Eine Festplatte wurde f√ºr die automatische Korrektur √ºbrig gelassen. </p><br><p> <a href=""><img src="https://habrastorage.org/webt/zq/9i/yp/zq9iyp63dnbgws4d6tljrqdauao.png"></a> </p><br><p>  Wir haben zwei LUNs verbunden (eine auf FC, eine auf iSCSI). </p><br><img src="https://habrastorage.org/webt/au/ep/3o/auep3oxzc5aye2vvimnopowk0mk.png"><br><p>  Beide LUNs geh√∂ren dem Engine-0-Controller. </p><br><p> <a href=""><img src="https://habrastorage.org/webt/zb/bc/up/zbbcupqx0qx2khjxkftflnpxb14.png"></a> </p><br><h3>  Starten Sie den Test </h3><br><p>  Schalten Sie IOMETER mit der obigen Konfiguration ein. </p><br><img src="https://habrastorage.org/webt/sv/tq/zm/svtqzmxa23agepb4llmphniye2y.png"><br><p>  Wir korrigieren die Bandbreite von 1,8 GB / s und eine Verz√∂gerung von 3 Millisekunden.  Es liegen keine Fehler vor (Total Error Count). </p><br><p>  Gleichzeitig beginnen wir vom lokalen Laufwerk "C" unseres Hosts gleichzeitig, zwei gro√üe 100-GB-Dateien √ºber andere Schnittstellen auf die FC- und iSCSI-LUNs des Speichersystems (E- und G-Festplatten in Windows) zu kopieren. </p><br><p>  Oben ist der Vorgang des Kopierens auf LUN FC, unten iSCSI. </p><br><img src="https://habrastorage.org/webt/uy/en/hs/uyenhsu8kfolew7ys9zdxytixds.png"><br><br><h3>  Test Nr. 1. Deaktivieren der E / A-Ports </h3><br><p>  Wir n√§hern uns der R√ºckseite des Speichersystems))) und ziehen mit einem Handgriff alle FC- und Ethernet 10G-Kabel aus dem Engine-0-Controller heraus.  Als ob eine Putzfrau mit einem Mopp vorbeigegangen w√§re und beschlossen h√§tte, den Boden genau dort zu waschen, wo <del>  Rotz l√ºgt </del>  Kabel lagen (d. h. der Controller funktioniert weiterhin, aber die E / A-Ports sind tot). </p><br><img src="https://habrastorage.org/webt/sw/ok/56/swok56qvdezrj1c13dmwibj2miu.jpeg"><br><p>  Wir betrachten IOMETER und das Kopieren von Dateien.  Die Bandbreite sank auf 0,5 GB / s, kehrte aber ziemlich schnell auf den vorherigen Stand zur√ºck (in ca. 4-5 Sekunden).  Es gibt keine Fehler. </p><br><img src="https://habrastorage.org/webt/es/7f/ng/es7fngm-y2jgf2alxdzbmqcmg8y.png"><br><p>  Das Kopieren von Dateien wurde nicht gestoppt, die Geschwindigkeit nimmt ab, ist jedoch v√∂llig unkritisch (von 840 MB / s auf 720 MB / s gesunken).  Das Kopieren h√∂rte nicht auf. </p><br><p>  Wir schauen in die Protokolle des Speichersystems und sehen eine Meldung √ºber die Nichtverf√ºgbarkeit von Ports und das automatische Verschieben der Gruppe. </p><br><p> <a href=""><img src="https://habrastorage.org/webt/i0/z7/pv/i0z7pvkfpnjjzs3itnkertzq58c.png"></a> </p><br><p>  Das Dashboard zeigt uns auch, dass mit FC-Ports nicht alles sehr gut ist. </p><br><img src="https://habrastorage.org/webt/rs/h_/ev/rsh_evhm1pt0nzbwtoyselmpcv4.png"><br><p>  Die Speicher-E / A-Ports sind <strong>erfolgreich</strong> fehlgeschlagen <strong>.</strong> </p><br><h3 id="test--2-otklyuchenie-kontrollera-shd">  Testnummer 2. Deaktivieren des Speichercontrollers </h3><br><p>  Fast sofort (nachdem wir die Kabel wieder in das Speichersystem eingesteckt hatten) beschlossen wir, den Speicher zu beenden, indem wir den Controller aus dem Geh√§use zogen. </p><br><p>  Wieder n√§hern wir uns dem Speichersystem von hinten (es hat uns gefallen))) und dieses Mal ziehen wir den Engine-1-Controller heraus, der in diesem Moment der Eigent√ºmer von RDG ist (zu dem die Gruppe umgezogen ist). </p><br><p>  Die Situation im IOmeter ist wie folgt.  Der Eingang wurde f√ºr ca. 5 Sekunden gestoppt.  Fehler h√§ufen sich nicht. </p><br><img src="https://habrastorage.org/webt/bz/ve/gr/bzvegryvez7_ba9vegtf3f9fdbc.png"><br><p>  Nach 5 Sekunden wurde die E / A mit ungef√§hr den gleichen Durchsatzraten, jedoch mit Verz√∂gerungen von 35 Millisekunden wieder aufgenommen (Verz√∂gerungen wurden nach etwa einigen Minuten korrigiert).  Wie aus den Screenshots ersichtlich ist, ist der Wert der Gesamtzahl der Fehler 0, dh es gab keine Schreib- oder Lesefehler. </p><br><img src="https://habrastorage.org/webt/kr/-_/ym/kr-_ymrz1ri4ihrlvzq-ggdzuqw.png"><br><p>  Wir schauen uns das Kopieren unserer Dateien an.  Wie Sie sehen k√∂nnen, hat es nicht unterbrochen, es gab einen kleinen Leistungsabfall, aber im Allgemeinen kehrte alles auf die gleichen ~ 800 MB / s zur√ºck. </p><br><img src="https://habrastorage.org/webt/aw/3v/-2/aw3v-2qgghdkeurdw69fb1gzpas.png"><br><p>  Wir gehen zum Speichersystem und sehen dort im Informationsfeld einen Missbrauch, dass der Engine-1-Controller nicht verf√ºgbar ist (nat√ºrlich haben wir ihn geknallt). </p><br><img src="https://habrastorage.org/webt/8a/-a/th/8a-athpryrmgg972g0us7zpcrbc.png"><br><p>  Wir sehen auch einen √§hnlichen Eintrag in den Protokollen. </p><br><p> <a href=""><img src="https://habrastorage.org/webt/20/3c/j_/203cj_pltjuab6nqituqfooel8s.png"></a> </p><br><p>  Der Ausfall des Speichercontrollers hat ebenfalls <strong>erfolgreich</strong> √ºberlebt <strong>.</strong> </p><br><h3 id="test--3-otklyuchenie-bloka-pitaniya">  Testnummer 3. Trennen Sie die Stromversorgung. </h3><br><p>  Nur f√ºr den Fall, wir haben wieder angefangen, die Dateien zu kopieren, aber IOMETER hat nicht aufgeh√∂rt. <br>  Wir ziehen den BP-Schnick. </p><br><img src="https://habrastorage.org/webt/vm/ze/_o/vmze_okexjlv5n-voldjt0mik-s.jpeg"><br><p>  Eine weitere Warnung wurde dem Speicher im Informationsfenster hinzugef√ºgt. </p><br><img src="https://habrastorage.org/webt/8o/ym/lr/8oymlratdbsngvztm2z52cv3v4g.png"><br><p>  Wir sehen auch im Sensormen√º, dass die Sensoren, die dem herausgezogenen Netzteil zugeordnet sind, rot werden. </p><br><img src="https://habrastorage.org/webt/m_/rr/zw/m_rrzwbyfqjd3-eeo9mgawbm8kq.png"><br><p>  SHD arbeitet weiter.  Der Ausfall des BP-Schnick hat keinerlei Auswirkungen auf den Betrieb des Speichersystems. Aus Sicht des Hosts blieben die Anzeigen f√ºr Kopiergeschwindigkeit und IOMETER unver√§ndert. </p><br><p>  Stromausfalltest <strong>erfolgreich abgeschlossen.</strong> </p><br><p>  Vor dem letzten Test haben wir uns entschlossen, den SHD wieder ein wenig zum Leben zu erwecken, den Controller und BP-shnik wieder einzuschalten und die Dinge mit den Kabeln in Ordnung zu bringen, die der SHD uns gerne mit gr√ºnen Symbolen in seinem Gesundheitsfenster mitteilte. </p><br><img src="https://habrastorage.org/webt/zp/gm/fp/zpgmfpl2_rwhn6iowq5sriglb2a.png"><br><br><h3 id="test--4-otkaz-tryoh-diskov-v-gruppe">  Testnummer 4. Ausfall von drei Festplatten in der Gruppe </h3><br><p>  Vor diesem Test haben wir einen zus√§tzlichen Vorbereitungsschritt durchgef√ºhrt.  Tatsache ist, dass der ENGINE-Speicher eine sehr n√ºtzliche Funktion bietet - verschiedene Richtlinien zum Wiederherstellen (Wiederherstellen).  Zuvor hat TS Solution √ºber diese Funktion geschrieben, erinnert sich jedoch an ihre Essenz.  Der Speicheradministrator kann die Priorit√§t der Ressourcenzuweisung w√§hrend der Wiederherstellung festlegen.  Oder in Richtung E / A-Leistung, dh l√§ngerer Neuaufbau, aber es gibt keinen Leistungsabfall.  Oder in Richtung der Wiederherstellungsgeschwindigkeit, aber die Leistung wird reduziert.  Oder eine ausgewogene Option.  Da die Leistung des Speichers w√§hrend einer Neuerstellung einer Datentr√§gergruppe dem Administrator immer Kopfschmerzen bereitet, testen wir die Richtlinie mit einer Abweichung in Richtung der E / A-Leistung und zum Nachteil der Geschwindigkeit der Neuerstellung. </p><br><img src="https://habrastorage.org/webt/8k/zn/kw/8kznkwmg0cwy_2bde0jafjknsbw.png"><br><p>  <strong>√úberpr√ºfen Sie nun den Ausfall der Laufwerke.</strong>  Wir aktivieren auch die Aufzeichnung auf LUNs (Dateien und IOMETER).  Da wir eine Triple-Parity-Gruppe (RAID-60P) haben, bedeutet dies, dass das System dem Ausfall von drei Festplatten standhalten muss. Nach dem Ausfall muss die automatische Ersetzung funktionieren. Eine Festplatte muss anstelle einer der ausgefallenen in der RDG stehen, und die Neuerstellung sollte darauf beginnen. </p><br><p>  Wir fangen an.  Markieren Sie zun√§chst √ºber die Speicherschnittstelle die Datentr√§ger, die Sie herausziehen m√∂chten (um den Datentr√§ger mit automatischem Austausch nicht zu verpassen und nicht zu ziehen). </p><br><p> <a href=""><img src="https://habrastorage.org/webt/65/uw/jm/65uwjm8dhk9hw2znrqwwendgrse.png"></a> </p><br><p>  √úberpr√ºfen Sie die Anzeige auf dem B√ºgeleisen.  Alles ist in Ordnung, wir sehen die hervorgehobenen drei Laufwerke. </p><br><img src="https://habrastorage.org/webt/da/-h/tc/da-htc08d-p2gjbx6ewbq_itfay.jpeg"><br><p>  Und ziehen Sie diese drei Scheiben heraus. </p><br><img src="https://habrastorage.org/webt/om/l0/vn/oml0vntroubzlzesyecekjzdxy4.jpeg"><br><p>  Wir schauen uns den Gastgeber an.  Und da ... ist nichts Besonderes passiert. </p><br><img src="https://habrastorage.org/webt/6n/yt/dt/6nytdttcprx0vdzzy4pac6aq87g.png"><br><img src="https://habrastorage.org/webt/9n/_8/nv/9n_8nvme4niskzv2ej2snvvjs0o.png"><br><p>  Das Kopieren von Indikatoren (sie sind h√∂her als zu Beginn, da sich der Cache erw√§rmt hat) und IOMETER √§ndern sich beim Ziehen von Datentr√§gern und Starten der Neuerstellung nicht wesentlich (innerhalb von 5-10%). </p><br><p>  Wir schauen uns den Speicher an. </p><br><img src="https://habrastorage.org/webt/my/px/e3/mypxe3hllsk-w3kp_pimqivdbnu.png"><br><p>  Im Status der Gruppe sehen wir, dass der Wiederaufbauprozess begonnen hat und kurz vor dem Abschluss steht. </p><br><p> <a href=""><img src="https://habrastorage.org/webt/jr/on/o5/jrono5wwt7mxpxmznkrmhqugzim.png"></a> </p><br><p>  Das RDG-Skelett zeigt an, dass sich 2 Festplatten im roten Status befinden und eine bereits ersetzt wurde.  Die AutoCorrect-Festplatte ist nicht mehr vorhanden, sondern ersetzt die dritte ausgefallene Festplatte.  Rebild wurde einige Minuten lang ausgef√ºhrt, die Dateiaufzeichnung wurde nicht unterbrochen, als 3 Festplatten ausfielen, und die E / A-Leistung √§nderte sich nicht wesentlich. </p><br><p> <a href=""><img src="https://habrastorage.org/webt/_u/gj/-i/_ugj-izftgd1ka7nuyd4bph8miw.png"></a> </p><br><img src="https://habrastorage.org/webt/xw/2i/af/xw2iafiq60i63kvrd6aecyxzg0i.png"><br><p>  Der Laufwerksausfalltest war definitiv <strong>erfolgreich.</strong> </p><br><h3 id="zaklyuchenie">  Fazit </h3><br><p>  Aus diesem Grund haben wir beschlossen, den Missbrauch von Speichersystemen zu stoppen.  Zusammenfassend: </p><br><ul><li>  FC Port Failure Check - Erfolgreich </li><li>  Ethernet Port Failure Check - Erfolgreich </li><li>  Controller-Fehlerpr√ºfung - erfolgreich </li><li>  Stromausfallpr√ºfung - erfolgreich </li><li>  √úberpr√ºfen Sie den Festplattenfehler in Gruppe \ Pool - erfolgreich </li></ul><br><p>  Keiner der Fehler stoppte die Aufzeichnung und verursachte keine synthetischen Ladefehler. Der Leistungsabfall war nat√ºrlich (und wir wissen, wie man dies besiegt, was wir bald tun werden), aber angesichts der Tatsache, dass dies Sekunden sind, ist dies durchaus akzeptabel.  Schlussfolgerung: Bei der Fehlertoleranz aller AERODISK-Speicherkomponenten, die auf der Ebene gearbeitet wurden, gibt es keine Fehlerquellen. </p><br><p>  Nat√ºrlich k√∂nnen wir im Rahmen eines Artikels nicht alle Fehlerszenarien testen, aber wir haben versucht, die beliebtesten abzudecken.  Bitte senden Sie daher Ihre Kommentare, W√ºnsche f√ºr die folgenden Ver√∂ffentlichungen und nat√ºrlich angemessene Kritik.  Wir werden gerne diskutieren (und besser zum Training kommen, nur f√ºr den Fall, den Zeitplan duplizieren)!  Bis zu neuen Tests! </p><br><ul><li>  <strong>Nischni Nowgorod</strong> (BEREITS FUNKTIONIERT - Sie k√∂nnen sich hier registrieren <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://aerodisk.promo/nn/</a> ); <br>  Bis zum 16. April 2019 k√∂nnen Sie das Zentrum jederzeit besuchen. Am 16. April 2019 wird ein gro√üer Schulungskurs organisiert. </li><li>  <strong>Krasnodar</strong> (BALD KOMMEN - hier anmelden <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://aerodisk.promo/krsnd/</a> ); <br>  Vom 9. bis 25. April 2019 k√∂nnen Sie das Zentrum jederzeit besuchen. Am 25. April 2019 wird ein gro√üer Schulungskurs organisiert. </li><li>  <strong>Jekaterinburg</strong> (BALD ER√ñFFNUNG, folgen Sie den Informationen auf unserer Website oder auf Habr√©); <br>  Mai-Juni 2019. </li><li>  <strong>Nowosibirsk</strong> (folgen Sie den Informationen auf unserer Website oder auf Habr√©); <br>  Oktober 2019 </li><li>  <strong>Krasnojarsk</strong> (folgen Sie den Informationen auf unserer Website oder auf Habr√©); <br>  November 2019 </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de447070/">https://habr.com/ru/post/de447070/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de447056/index.html">Wie verr√ºckte M√§nner berechnet werden - 2: Der Glanz und die Armut der pathopsychologischen Diagnose</a></li>
<li><a href="../de447058/index.html">Neuer MIT CPU Load Balancer</a></li>
<li><a href="../de447062/index.html">Geschichte der Audiotechnologie: Synthesizer und Sampler</a></li>
<li><a href="../de447064/index.html">Lernen Sie das Open Source License Compliance Handbook kennen</a></li>
<li><a href="../de447068/index.html">Vergleichen Sie √§hnliche Zeichenfolgen</a></li>
<li><a href="../de447072/index.html">‚ÄûIch habe alles getan - es war eine lustige Geschichte‚Äú: ein Podcast √ºber Content Marketing und eine Karriere in IT-Medien</a></li>
<li><a href="../de447074/index.html">Wir schreiben den ersten Microservice auf Node.js mit Kommunikation √ºber RabbitMQ</a></li>
<li><a href="../de447076/index.html">OWASP Russia Meetup - Aufnahmeauff√ºhrungen</a></li>
<li><a href="../de447078/index.html">Flightradar24 - wie geht das? Teil 2, ADS-B-Protokoll</a></li>
<li><a href="../de447080/index.html">Netzwerke f√ºr die Kleinsten. Teil oh das war's</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>