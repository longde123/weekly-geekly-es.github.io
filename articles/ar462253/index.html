<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ต ๐คฉ ๐บ ุฃูู ุงูุชุฌุงุฑุจ ุจุงุณุชุฎุฏุงู ุจุฑูุชูููู ุงูุฏูู ุนูู ุณุจูู ุงููุซุงู ูู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ูุงูุงุชุตุงูุงุช ุงููุนุงูุฌ ูู Redd FPGA ๐จ๐ปโโ๏ธ ๐ฉ๐ปโ๐ญ ๐๐ป</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู ุงูููุงูุงุช ุงูุณุงุจูุฉ ุ ุงูุชูููุง ุจุงููุนู ูุน ูุงูู Avalon-MM ุ ุญูุซ ูุฑูุฒ MM ุฅูู ุงูุฐุงูุฑุฉ ุงููุนููุฉ ุ ุฃู ุงููุณูุทุฉ ุนูู ุงูุฐุงูุฑุฉ. ูุฐุง ุงูุงุทุงุฑ ูุชุนุฏุฏ ุงูุงุณุชุนูุงูุงุช ูููู ุช...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุฃูู ุงูุชุฌุงุฑุจ ุจุงุณุชุฎุฏุงู ุจุฑูุชูููู ุงูุฏูู ุนูู ุณุจูู ุงููุซุงู ูู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ูุงูุงุชุตุงูุงุช ุงููุนุงูุฌ ูู Redd FPGA</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462253/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/hx/9r/u0/hx9ru01kpi9-x1z8jztv7uaemjm.jpeg"><br><br>  ูู ุงูููุงูุงุช ุงูุณุงุจูุฉ ุ ุงูุชูููุง ุจุงููุนู ูุน ูุงูู <b>Avalon-MM</b> ุ ุญูุซ ูุฑูุฒ MM ุฅูู ุงูุฐุงูุฑุฉ ุงููุนููุฉ ุ ุฃู ุงููุณูุทุฉ ุนูู ุงูุฐุงูุฑุฉ.  ูุฐุง ุงูุงุทุงุฑ ูุชุนุฏุฏ ุงูุงุณุชุนูุงูุงุช  ูููู ุชูุตูู ุงูุนุฏูุฏ ูู ุงูุฃุฌูุฒุฉ ุงูุฑุฆูุณูุฉ (ุงูุฑุฆูุณูุฉ) ูุงูุนุฏูุฏ ูู ุฃุฌูุฒุฉ ุงูุฑููู ุจูุง.  ููุฏ ูููุง ุจุงููุนู ุจุชูุตูู ุฌูุงุฒูู ุฑุงุฆุฏูู ูู ููุณ ุงูููุช (Instruction Master ู Data Master) ุ ูุธุฑูุง ูุฃู ูุนุงูุฌ NIOS II ุจููุฏุณุฉ ูุงุฑูุงุฑุฏ ุ ูุจุงูุชุงูู ูุฅู ุญุงููุงุช ุงูููุงุฏุฉ ูุงูุจูุงูุงุช ุงูุฎุงุตุฉ ุจู ูุฎุชููุฉ ุ ููู ุงูุนุฏูุฏ ูู ุงููุคูููู ูุฑุจุทูููู ุจููุณ ุงูุฌูุงุฒ ุงููุดุชุฑู ูุชุจุณูุท ุชุทููุฑ ุงูุจุฑุงูุฌ ูู ุงูุฎุงุฑุฌ ุฅูู ุงูุญุงููุฉ. <br><br>  ุฅุฐุง ูุงูุช ุฅุญุฏู ุงููุชู ุงูููุฌูุฏุฉ ูู ุงูุญุงููุฉ ุชุญุชูู ุนูู ูุธููุฉ ุงููุตูู ุงููุจุงุดุฑ ููุฐุงูุฑุฉ (DMA) ุ ูุณุชุญุชูู ุฃูุถูุง ุนูู ุฑุณุงูุฉ ูุงุฌุณุชูุฑ ููุญุงููุฉ. <br><br>  ูู ุงููุงูุน ุ ูุนุชูุฏ ุงูุฅุฒุนุงุฌ ุงูุฑุฆูุณู ููุฐุง ุงูุฅุทุงุฑ ุนูู ูุฐู ุงูุญูููุฉ (ุงูุนุฏูุฏ ูู ุงููุชุงุจุนูู ุ ุงูุนุฏูุฏ ูู ุงููุชุงุจุนูู).  ุนูุฏูุง ุตูููุง ุนุจุฏูุง ุ ูุงู ุนูููุง ูู ุดูุฑุฉ ุงูุนููุงู.  ุนูุฏูุง ุตุงุฏูุช ูุงุฆุฏุชู ุ ูุงู ููุงู ุถุฌุฉ ุฃูุซุฑ ุจูุซูุฑ ูุน ุงูุชุญููู.  ููู ุงูุฎูุท ุงูุฃุญูุฑ ูู ุฎูุงู ุณูุณูุฉ ูุงููุฉ ูู ุงูููุงูุงุช ูู ุงูุชุฃููุฏ ุนูู ุฃู ุชุทููุฑ Redd ูู ุฌุฒุก ูุณุงุนุฏ ูู ุงููุดุฑูุน ุ ููุฌุจ ุฃูุง ูุชุทูุจ ุงููุซูุฑ ูู ุงูุนูู.  ูุฅุฐุง ุงุณุชุทุนูุง ุฃู ูุญุฑุฑ ุฃููุณูุง ูู ุงูุฑูุชูู ุ ูุฌุจ ุฃู ูุญุฑุฑ ุฃููุณูุง ููู. <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/ns/cc/m1/nsccm1g4bldwl-4okgx-puukhyk.png"><br><br>  ุฌููุน ููุงูุงุช ุงูุฏูุฑุฉ: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุทููุฑ ุฃุจุณุท "ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ" ูุฃุฌูุฒุฉ FPGA ุงููุซุจุชุฉ ูู Redd ุ ูุชุตุญูุญ ุงูุฃุฎุทุงุก ุจุงุณุชุฎุฏุงู ุงุฎุชุจุงุฑ ุงูุฐุงูุฑุฉ ููุซุงู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุทููุฑ ุฃุจุณุท "ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ" ูุฃุฌูุฒุฉ FPGA ุงููุซุจุชุฉ ูู Redd.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก 2. ุฑูุฒ ุงูุจุฑูุงูุฌ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุทููุฑ ุฌููุฑูุง ุงูุฎุงุต ูุชุถููููุง ูู ูุธุงู ุงููุนุงูุฌ ุนูู ุฃุณุงุณ FPGA</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุทููุฑ ุจุฑุงูุฌ ูููุนุงูุฌ ุงููุฑูุฒู Redd ุนูู ุณุจูู ุงููุซุงู ูู ุงููุตูู ุฅูู FPGA</a> </li></ol><br>  ุฅู ูุซููุฉ <b>Avalon Interface ููููุงุตูุงุช</b> ุงููุนุฑููุฉ ุจุงููุนู ูุฏููุง (ุจุดูู ุนุงู ุ ูุง ุฃุนุทู ุฑูุงุจุท ูุจุงุดุฑุฉ ุ ุญูุซ ุฅููุง ุชุชุบูุฑ ุฏุงุฆููุง ุ ูุจุงูุชุงูู ูุฅู ุงูุดุจูุฉ ุจุฃููููุง ูููุฆุฉ ุจููุงูุงุช ุชุญุชูู ุนูู ุฑูุงุจุท ููุชุฉ ุ ูู ุงูุฃุณูู ุงูุนุซูุฑ ุนูู ุงูููุถุน ุงูุญุงูู ูู ุฎูุงู ุฏูุน ุงูุงุณู ูู ูุญุฑู ุงูุจุญุซ) ุฅูู ุฃูู ุจุงูุฅุถุงูุฉ ุฅูู ูุงูู <b>Avalon-MM</b> ุ ููุงู ุฃูุถูุง ุญุงููุฉ <b>Avalon-ST</b> ุ ุญูุซ ST ุชุนูู Stream ุ ุฃู ุงูุจุซ.  ูุงูุญูููุฉ ูู ุฃูู ูู ูุซูุฑ ูู ุงูุฃุญูุงู ุงูุจูุงูุงุช ุงููุฑุณูุฉ ูุฏููุง ูููู ุชูุงุฑ.  ูุนู ุ ุญุชู ุงููุทุงุน ุงูููุงุณููู ูู ุงููุฑุต ุงูุตูุจ.  ููุง ุญุฌู ุซุงุจุช.  ูุฌุจ ุฃู ูุชู ุชูุฑูุฑูุง ูู ุงูุจุฏุงูุฉ ุฅูู ุงูููุงูุฉ.  ุญุชู ุฅุฐุง ูุธุฑูุง ุฅูููุง ูู ุงูููุทูุฉ ุงููุงุจูุฉ ููุนูููุฉ ุ ูุฅู ุงูุนูุงููู ุณุชุฒูุฏ ุฎุทููุง.  ูุฅุฐุง ููุช ุชุณุชุฎุฏู ูุชูุฉ FIFO ููุชุฎุฒูู ุ ูุฅู ุงูุนูุงููู ุงูููุฌูุฏุฉ ุฏุงุฎูู ุชููู ูุฎููุฉ ุชูุงููุง ุนูุง.  ูู ุ ููู ุงูุนูู ูุนูู ููุณ ุดุงุบููุง. <br><br>  ููุทุจู ุงูุฃูุฑ ููุณู ุนูู ุงูุนุฏูุฏ ูู ุจูุงูุงุช ุงูุชุฏูู ุงูุฃุฎุฑู: ููู ุฏุงุฆููุง ุชูุชูู ูู ุงูุจุฏุงูุฉ ุฅูู ุงูููุงูุฉ ุ ููุชู ูุถุนูุง ูู ุงููุณุชูุฏุนุงุช ุจุงูุชุชุงุจุน.  ูุฐุง ูู ุจุงูุถุจุท ูุง ุชุณุชุฎุฏูู ุจุฑูุชููููุงุช ุงูุฏูู ูููู ูุฐู ุงูุจูุงูุงุช.  ุจุงูุฅุถุงูุฉ ุฅูู ุงูุงูุชูุงุฑ ุฅูู ุนูููุฉ ุตุฑูุญุฉ ุ ูุฅู ุญุงููุฉ <b>Avalon-ST</b> ูุซูุฑุฉ ููุงูุชูุงู ูุฃููุง ุชุฑุจุท ุฏุงุฆููุง ุจูู ุฌูุงุฒูู: ูุตุฏุฑ ูุฌูุงุฒ ุงุณุชูุจุงู.  ููุงู ุฏุงุฆูุง ุงุซูุงู ูููู.  ุฌูุงุฒ ูุงุญุฏ ูู ุฏุงุฆูุง ุงููุตุฏุฑ ุ ูุงูุซุงูู ูู ุฏุงุฆูุง ุงููุชููู.  ูุฐูู ุ ูุง ุชูุชู ูุดุงูู ุงูุชุญููู ูู ูุฐู ุงูุญุงููุฉ.  ูุฐุง ูุง ุชุจุฏู ุนููู ุฃุฒูุงุฌ ุงูุฃุฌูุฒุฉ ุงููููุฐุฌูุฉ ุงููุชุตูุฉ ุจูุฐู ุงูุญุงููุฉ: <br><br><img src="https://habrastorage.org/webt/z_/ix/tz/z_ixtzpnxmb0fhhyoxgsqnydhvc.png"><br><br>  ูุฅููู ุงูุฅุดุงุฑุงุช ุงููููุฐุฌูุฉ ููุฐุง ุงูุญุงููุฉ: <br><br><img src="https://habrastorage.org/webt/ua/bh/ku/uabhkulgiofulvfomh0mw-mdz7g.png"><br><br>  ุนูุงูุฉ ุนูู ุฐูู ุ ูุฅู ุฎุทูุท <b>ุงูุฎุทุฃ</b> ุงุฎุชูุงุฑูุฉ ุ ููู ุชููู ุฑููุฒ ุงูุฎุทุฃ ุงูุซูุงุฆูุฉ ุงูุชู ุญุฏุฏูุงูุง ุ ููููููุง ุงูููู ุฃูู ูุง ุชูุฌุฏ ุฑููุฒ ุฎุทุฃ.  ูุฎุทูุท ุฑูู ุงูููุงุฉ ุ ููุง ุฑุฃููุง ุฃุนูุงู ุ ูุง ุชููู ูุทููุจุฉ ุฅูุง ุฅุฐุง ุชู ุชูููุฐ ุฅุฒุงูุฉ ุงูุชุนุฏุฏ ุงูุฅุถุงูู.  ุฅุฐุง ูู ููู ูุฐูู ุ ูุฅู ุฑูู ุงูููุงุฉ ููุณ ูุทููุจูุง.  ุณููุนู ุฏูู ุฐูู ุงูุขู.  ุชุจูู ุซูุงุซุฉ ุฎุทูุท: ูู ุงููุงูุน ุ ุงูุจูุงูุงุช ุ ุฅุดุงุฑุฉ ุฌุงูุฒุฉ ูุฅุดุงุฑุฉ ุชุฃููุฏ ุงูุจูุงูุงุช (ุงููููุฉ).  ุญุณูุง ุ ุฅุดุงุฑุฉ ุณุงุนุฉ ุฃุฎุฑู ุ ูุฃู ุงูุญุงููุฉ ูุชุฒุงูู. <br><br>  ูุชุถุญ ุฃูุถูุง ูู ุงููุซุงุฆู ุฃู ููุงู ุซูุงุซ ุฅุดุงุฑุงุช ุฃุฎุฑู ููููุฉ ุ ููุง ูุถูู ุฅูู ุงููุงูู ุฎุตุงุฆุต ููู ุงูุญุฒู ุงููุญุฏุฏุฉ ุจูุถูุญ: <br><br><img src="https://habrastorage.org/webt/ix/wa/rc/ixwarc27-jx3cqndio3gzxaim_g.png"><br><br>  ุจุดูู ุนุงู ุ ูุนุฏ ุงูุฅุทุงุฑ ููุชุนูุง ููุบุงูุฉ ุ ูุงูููู ุณูุจุฏุฃ ุงูุชุฌุงุฑุจ ุนููู.  ููุง ูุนูู ุจุงููุนู ุ ูุชู ุชูุตูู FPGA ุจุญุงููุฉ USB ูู ูุฌูุน <b>Redd</b> ุนุจุฑ ุฌุณุฑ <b>FT2232H</b> ุงูุฐู ูุนูู ูู ูุถุน <b>FT245-SYNC</b> .  ุจุงููุนูู ุงูุฏููู ูููููุฉ ุ ุงูุจูุงูุงุช ุงูุชู ุชูุฑ ุนุจุฑ ูุฐู ุงููุงุฌูุฉ ูู ุชุฏูู ุงูุจูุงูุงุช ุชูุงูุง.  ุงูููู ุณูู ูุชุนูู ููููุฉ ููู ูุฐู ุงูุจูุงูุงุช ุฅูู ูุธุงู ุงููุนุงูุฌ ูุฏููุง ุนูู ุฃุณุงุณ NIOS II.  ูู ุงููุคุณู ุฃู ุจุฑูุชูููู <b>FT245-SYNC</b> ุ ุนูู ุงูุฑุบู ูู ุงูุชุฏูู ุ ูุง ูุชูุงูู ุชูุงููุง ูุน ูุงูู <b>Avalon-ST</b> .  ูุญูุธ ุฃุฑุฌู ุงูุฑูุงูุฉ ุ ุชุญุชูู ุนูู ูุงูู ุจูุงูุงุช ุซูุงุฆู ุงูุงุชุฌุงู ุ ููููู ูุงูู <b>Avalon-ST</b> ุฃุญุงุฏู ุงูุงุชุฌุงู.  ูุฐูู ุ ูุชุนูู ุนูููุง ุฅูุดุงุก ูุชูุฉ ุชูุณู ุงูุจุฑูุชููููุงุช ุจุดูู ูุซูู ูููู ูุง ุชุทุงุจููุง. <br><br>  ููุฏ <b>ุชุนุฑููุง</b> ุจุงููุนู ุนูู ุจุฑูุชูููู <b>FT245-SYNC</b> ูู ุฅุญุฏู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูููุงูุงุช ุงูุณุงุจูุฉ</a> .  ุงุณูุญ ูู ุฃู ุฃุฐูุฑู ุจุฃูู ูููู ุงูุนุซูุฑ ุนูู ูุตูู ูู ุงููุณุชูุฏ <b>AN_130 FT2232H ุงููุณุชุฎุฏู ูู ูุถุน FIFO ุงููุชุฒุงูู ููุท FT245</b> .  ูููุง ููู ูุฎุทุท ุชูููุช ูููุฐุฌู ููุฅุฑุณุงู ูู ุฌุณุฑ ุฅูู FPGA <br><br><img src="https://habrastorage.org/webt/ea/-y/ly/ea-ylyf7hie2zal-gfjzyp_ehwy.png"><br><br>  ุจุดูู ุนุงู ุ ููุจุฑูุฌ ุ ุฃูุง ููุชู ุฌุฏูุง ุจุญูููุฉ ุฃู ุงูุญุฒูุฉ ุงูุชู ุชู ุฅุฑุณุงููุง ูุงูุช ุณุชุญุฏุฏ ุจูุถูุญ ุงูุจุฏุงูุฉ ูุงูููุงูุฉ.  ุญุณููุง ุ ูุฌุนูู ุฃูุซุฑ ููุทููุฉ ูู ููุทู ุจุฑูุชูููู UDP ุ ูุฃูู ุฅุฐุง ูุงู ุงูุฅุฑุณุงู ูู ููุท TCP ุ ูุณูุชุนูู ุนููู ุฅุถุงูุฉ ุจูุงูุงุช ูุฑุฌุนูุฉ ุฎุงุตุฉ ุฅูู ุงูุจุซ ุ ูุงูุชู ุณูุชู ุฅููุงููุง ุนูู ุงูุจุฑูุฌุฉ ูุงูุฌูุฏ ูุฏูุฑุงุช ุงููุนุงูุฌ ... ูุจุฏู ุฎุท RXF ูููู ุฃู ุชุณุงุนุฏูุง ูู ูุฐุง.  ูุญู ูุชุญูู ... ูุญู ูููุฃ "ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ" ูู FPGA ูููุงุณ ุงูุฃุฏุงุก ุ ุงููุญุฑุฒ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูููุงูุฉ ุงูุณุงุจูุฉ</a> ุ ูุฑุจุท ูุณุจุงุฑ ุงูุฐุจุฐุจุงุช ุจุฎุท RXF.  ูุจุฑูุงูุฌ ุงุฎุชุจุงุฑ ูููุนุงูุฌ Redd ุงููุฑูุฒู ุ ูุณุชุฎุฏู ุงููุงุนุฏุฉ ุ ุงูุชู ุชุณุชุฎุฏู ุฃูุถูุง ูููุงุณ ุงูุฃุฏุงุก ุ ูุจุฏูุงู ูู ุฅุฑุณุงู ูููุงุช ูุจูุฑุฉ ูู ุงูุจูุงูุงุช ุ ูุฑุณู ูุชูุฉ ุฃุญุงุฏูุฉ ูู 0x400 ุจุงูุช. <br><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">uint8_t temp [maxBlockSize]; memset (temp,0,sizeof (temp)); uint32_t dwWritten; FT_Write(ftHandle0, temp, 0x400, &amp;dwWritten);</code> </pre> <br>  ูุญุตู ุนูู ุงูุตูุฑุฉ ุงูุชุงููุฉ ุนูู ุฎุท RXF: <br><br><img src="https://habrastorage.org/webt/0-/yc/ic/0-ycici6rpo4urdmg8nlvyuem3w.png"><br><br>  ูู ุงููุงุถุญ ุฃู ุงูุฏุงุฆุฑุฉ ุงูุตุบูุฑุฉ ุชุณุชูุจู 0x200 ุจุงูุช ูู ุงููุฎุฒู ุงููุคูุช (ููุฐุง ูู ููุฏุงุฑ ูุง ูููู ุฃู ุชุฃุชู ูู ุญุฒูุฉ ูุงุญุฏุฉ USB2.0 HS) ุ ุซู ูุฑุณููุง ุฅูู ุงูููุงุฉ.  ุจุดูู ุนุงู ุ ูุฐุง ุบุฑูุจ ุ ุญูุซ ุฃู ุงููุซุงุฆู ุชูุต ุนูู ุฃูู ูุชู ุงุณุชุฎุฏุงู ุงุซููู ูู ุงููุฎุงุฒู ุงููุคูุชุฉ ูู ูู ุงุชุฌุงู.  ุฃุซูุงุก ุงูุฅุฑุณุงู ุ ูุฌุจ ุฃู ูููู ูุฏู ุงููุฎุฒู ุงููุคูุช ุงูุซุงูู ููุช ูููุก.  ููุฃุณู.  ููุงูุฉ ููุก ููุง ูุชุฃุฎุฑุฉ ุจุดูู ูุงุถุญ.  ูู ุงููุงูุน ุ ููุถุญ ูุฐุง ุณุจุจ ุนุฏู ูุตูู ุงูุฃุฏุงุก ุฅูู 52 ููุฌุงุจุงูุช ูุธุฑููุง ูู ุงูุซุงููุฉ: ูุง ูุชู ููู ูุณุจุฉ ูุจูุฑุฉ ูู ุงูููุช (ูุฅู ูู ููู 50ูช). <br><br>  ููู ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู ุ ููุฌุฏูุง ุฃูู ูู ุงููููู ุงูุชุดุงู ุจุฏุงูุฉ ุงูุญุฒูุฉ ุนูู ุญุงูุฉ RXF ุณุงูุจุฉ ููุท ุฅุฐุง ูุงู ุญุฌู ุงูุญุฒูุฉ ูุง ูุชุฌุงูุฒ 0x200 ุจุงูุช.  ุฅุฐุง ุฃุฑุณููุง ุฃูุงูุฑ ููุท ูุน ูููุฉ ุตุบูุฑุฉ ูู ุงูุจูุงูุงุช ุฅูู ุงูุฌูุงุฒ ุ ููุฐุง ุฃูุฑ ูููู ุงูุชุญููู.  ูููู ุฅุฐุง ุฃุฑุณููุง ุชุฏููุงุช ูุจูุฑุฉ ูู ุงูุจูุงูุงุช ุ ูุณูู ูุชุนูู ุนูููุง ุงุณุชุฎุฏุงู ููุงุฉ ูุณุชูุฑุฉ ุ ุนูู ุบุฑุงุฑ ููุทููุง ูู UART (ุฃู ุ ุนูู ุณุจูู ุงููุซุงู ุ ููุงุฉ TCP) ุ ูุน ุฅุจุฑุงุฒ ุญุฏูุฏ ุงูุฑุฒู ุจุดูู ุจุฑูุฌู ุจุญุช. <br><br>  ุจุดูู ุนุงู ุ ูุจุณุงุทุฉ ุงูุนุฑุถ ุ ูุฃุฎุฐ ุฅุตุฏุงุฑ ุงูุจุซ ูุฃุณุงุณ.  ูู ููุธุฑ ูู ุญุฒู ุงูููู.  ุญุณููุง ุ ูุง ูู ุฅุตุฏุงุฑ ุญุงููุฉ <b>Avalon-ST</b> ุงูุชู ูุชุฎุฐูุง ูุฃุณุงุณ ูุงุถุญ.  ูุจุฏุฃ ูู ุชุตููู ูุชูุฉ ูุฏููุง.  ููุง ูู ูุฐููุฑ ุฃุนูุงู ุ ูุชุนูู ุนูููุง ุฃู ูุฌุนู ููุณ ููุท ุฌุณุฑูุง ุ ูููู ุฃูุถูุง ุฑูุฒ ุชุจุฏูู ุ ูุฃู ูุงูู <b>FT245FIFO</b> ุซูุงุฆู ุงูุงุชุฌุงู ุ ูุญุงููุฉ <b>Avalon-ST</b> ุฃุญุงุฏูุฉ ุงูุงุชุฌุงู.  ููุฐุง ูุนูู ุฃูู ูู ุงูุถุฑูุฑู <b>ุฅูุดุงุก</b> ุญุงููุชูู <b>Avalon-ST</b> ูู ุขู ูุงุญุฏ: ุงูุฅุฎุฑุงุฌ ูุงูุฅุฏุฎุงู. <br><br><img src="https://habrastorage.org/webt/hr/hl/fm/hrhlfm67sw8-xemukkwo47lg3va.png"><br><br>  ููุฏ ุจุฏุฃูุง ูู ุชุทููุฑ ุขููุฉ ุชููุงุฆูุฉ ุณุชููุฐ ุงูููุทู ุงูุฐู ูุญุชุงุฌู ุจุจุทุก.  ุจุงูุทุจุน ุ ูู ูุฐุง ุงูููุงู ุณูุชู ุชุจุณูุท ูุฐุง ุงูููุทู ุฅูู ุฃูุตู ุญุฏ.  ููุจุฏุฃ ุจููู ุงูุจูุงูุงุช ูู FPGA ุฅูู ุฌูุงุฒ ุงูููุจููุชุฑ ุ ูุฃู ูุฐู ุงูุนูููุฉ ุฃุจุณุท ููููุงู (ูุง ุชุญุชุงุฌ ุฅูู ุชุจุฏูู ุญุงูุฉ ุฎุท OE ุ ุงูุชู ุชุญุฏุซูุง ุนููุง ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูููุงู ุงูุฃุฎูุฑ</a> ).  ุฃู ุฃููุง ูููุฐ ูููุฐ Sink. <br><br>  ูู ุฌุงูุจ ุญุงููุฉ <b>Avalon-ST</b> ุ ุงุฎุชุฑุช ูุถุน ุงูุชุดุบูู ุงูุชุงูู (ููุฌุฏ ุนุฏุฏ ูุจูุฑ ูููู ูู ุงููุณุชูุฏ ุ ูููู ูุฐุง ูู ุงูุฃูุฑุจ ุฅูู ุงููุงุฌูุฉ ูุน <b>FT245-SYNC</b> ): <br><br><img src="https://habrastorage.org/webt/f_/rh/nm/f_rhnmctxwtl01xdlaiioun81jk.png"><br><br>  ุงุณูุญูุง ูู ุฃู ุฃุฐูุฑู ุงุชุฌุงู ุงูุฅุดุงุฑุงุช: <br><br><img src="https://habrastorage.org/webt/sd/cc/r-/sdccr--rw2vsk1xitskseckafiq.png"><br><br>  ููุฐุง ูู ุ ูุญู ููุท ููุชุธุฑ ุงูุชุฃููุฏ ุนูู ุงูุญุงููุฉ ( <b>ุตุงูุญ</b> ) ุ ุงููุฑ ุนูู ุงูุจูุงูุงุช ูุจูุงุจุฉ ูุฐู ุงูุญูููุฉ ูุน ุฎุท <b>ุฌุงูุฒ</b> . <br><br>  ูู ุงูุฌุงูุจ <b>FT245_FIFO ุ</b> ูุจุฏู ุงูุจุฑูุชูููู ููุง ููู: <br><br><img src="https://habrastorage.org/webt/d-/nf/ki/d-nfkirvzei94d3kvkhntyea7pi.png"><br><br>  ุงุชุถุญ ุฃููุง ูุฌุจ ุฃู ููุชุธุฑ ุฅุดุงุฑุฉ TXE ูููุตู ุงูุจูุงูุงุช ุจุฅุดุงุฑุฉ WR # (ุงููุทุจูุฉ ูุนููุณุฉ ูููุชุง ูุงุชูู ุงูุฅุดุงุฑุงุช). <br><br>  ูุดุจู TXE # ูู ุงูุฃุฏุงุก ุงููุธููู <b>ุฌุงูุฒ</b> ุ ู WR # <b>ุตุงูุญ</b> .  ุงูุชูุงุตูู ูุฎุชููุฉ ุจุนุถ ุงูุดูุก ุ ูููู ุงูููุทู ูุดุงุจู. <br><br>  ุงุชุถุญ ุฃููุง ูุณุชุทูุน ุฃู ูุญุฏุฏ ุญุงูุฉ ูุงุญุฏุฉ ูููุฑุฏุฉ toPC ุ ุญูุซ ุณูุชู ุชูููุฐ ุฃุจุณุท ุนูููุงุช ุชุจุฏูู ูุจุนุถ ุงูุฎุทูุท.  ุดุฑุท ุงูุฏุฎูู ุฅูู ูุฐู ุงูุญุงูุฉ ูู ุงุณุชุนุฏุงุฏ ููุง ุงูุทุฑููู ููุฅุฑุณุงู ุ ุฃู (TXE # == 0) AND (ุตุงูุญ == 1).  ุจูุฌุฑุฏ ุงุฎุชูุงุก ุจุนุถ ุงูุงุณุชุนุฏุงุฏ ุ ูุฎุฑุฌ ูุฑุฉ ุฃุฎุฑู ุฅูู ุงูุฎููู. <br><br>  ูุง ูุฒุงู ุงูุฑุณู ุงูุจูุงูู ุงูุงูุชูุงูู ููุฃูุชููุงุชูู ุจุณูุทูุง: <br><br><img src="https://habrastorage.org/webt/ci/gb/j9/cigbj9hrioumzbnck6pyeevv1ia.png"><br><br>  ูุดุจู ุฌุฏูู ุงูุชุจุฏูู ูุฐุง (ุญูุซ ุชููู ุฃุณูุงุก ุงูุฅุดุงุฑุงุช ุบุงูุถุฉ ุ ูุชุถุงู ุฅูููุง ูุคุดุฑุงุช ุ ุญูุซ ุชููู ุงูุฃุณูุงุก ูุฑูุฏุฉ - ูุง ุชูุฌุฏ ูุคุดุฑุงุช): <br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><th>  ุฅุดุงุฑุฉ </th><th>  ุญุงูุฉ ToPC </th><th>  ุดุฑูุท ุฃุฎุฑู </th></tr><tr><td>  WR # </td><td>  ูุง (ุตุงูุญ) </td><td>  1 </td></tr><tr><td>  readySink </td><td>  ูุง (TXE #) </td><td>  0 </td></tr><tr><td>  DATAFT245_FIFO </td><td>  DataSink </td><td>  Z </td></tr></tbody></table></div><br><br>  ุงูุงูุชูุงู ุฅูู ููู ุฃูุซุฑ ุชุนููุฏูุง ููููุงู ูู ุงููุตุฏุฑ ุฅูู FT245_FIFO.  ููุง ุฑุฃููุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู ุงูููุงูุฉ ุงูุณุงุจูุฉ</a> ุ ูุฅู ุงููุถุงุนูุงุช ูู ุชุจุฏูู ุงูุงุชุฌุงู ุจุฅุดุงุฑุฉ OE #: <br><br><img src="https://habrastorage.org/webt/al/xu/1-/alxu1-uqzen0dpj4n8bbgcruyck.png"><br><br>  ุจุงููุณุจุฉ ุฅูู ุญุงููุฉ <b>Avalon_ST ุ</b> ูู ุดูุก ูู ููุณู ููุง ูุงู ูู ูุจู ุ ูุฐูู ูุง ูุชู ุนุฑุถ ุงูุตูุฑ ูุฑุฉ ุซุงููุฉ ุ ููููุง ุงูุขู ูู ูุถุน ุงููุตุฏุฑ. <br><br>  ููุง ุ ูุชูุงูู ุณุทุฑ RXF # ูุน ุงูุฎุท <b>ุงูุตุญูุญ</b> ุ ุจูููุง ูุชูุงูู ุงูุณุทุฑ RD # ูุน ุงูุฎุท <b>ุงูุฌุงูุฒ</b> .  ุญุณููุง ุ ูู ุจุฅุถุงูุฉ ุจุถุน ุญุงูุงุช ุฅูู ุงูุฌูุงุฒ: <br><br><img src="https://habrastorage.org/webt/pu/gs/fm/pugsfmp11c6b79fi8cwfud-wm-q.png"><br><br>  ูุงูููุทู ุงูุชุงูู ููุฅุดุงุฑุงุช ุงููุดุทุฉ ูู ูุฐู ุงูุญุงูุฉ: <br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><th>  ุฅุดุงุฑุฉ </th><th>  dropOE </th><th>  fromPC </th><th>  ุดุฑูุท ุฃุฎุฑู </th></tr><tr><td>  ุนูุฑ ุงููุงุฑูู </td><td>  0 </td><td>  0 </td><td>  1 </td></tr><tr><td>  ุฑูู RD </td><td>  1 </td><td>  ูุง (ุฌุงูุฒุฉ) </td><td>  1 </td></tr><tr><td>  ูุตุฏุฑ ุจูุงูุงุช </td><td>  ุฃู ูููุฉ </td><td>  DATAFT245_FIFO </td><td>  ุฃู ูููุฉ </td></tr><tr><td>  ูุตุฏุฑ ุตุงูุญ </td><td>  0 </td><td>  ูุง (RXF #) </td><td>  0 </td></tr></tbody></table></div><br>  ูู ุงููุงุถุญ ุฃู ุงููุฎุทุท ูู ููู ุงูุฃูุซุฑ ูุซุงููุฉ.  ููุงู ุงูุนุฏูุฏ ูู ุงููุฑูู ุงูุฏูููุฉ ุงููุฑุชุจุทุฉ ุจุชุฌุงูุฒุงุช ุงููุฎุฒู ุงููุคูุช ุฃู ุชุฌุงูุฒุงุช ุงููุฎุฒู ุงููุคูุช.  ูููู ูุง ููุจุบู ุฃู ูููู ููุงู ุฃู ููุน ูู ููุฏุงู ุงูุจูุงูุงุช ุ ูููู ุจุงููุณุจุฉ ุฅูู ุงูุฃูุซููุฉ ุ ูุฌุจ ุฃู ุชุจุฏุฃ ูู ููุงู ูุง! <br><br>  ูุจุฏุฃ ูู ููู ุงููุธุฑูุฉ ุงููุชูุฏูุฉ ุฅูู ุฑูุฒ SystemVerilog.  ุตุญูุญ ุ ูุง ูููููุง ุงุณุชุฎุฏุงู ุฌููุน ููุฒุงุช SystemVerilog.  ูุงูุช ููุงู ุญุงูุฉ ุ ูุชุจุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุงูุฉ ูุจูุฑุฉ</a> ุ ุญูุซ ุงุฎุชุจุฑุช ุงูุชุฑููุจ ุงูุนููู ููููุฒุงุช ุงูุฌูููุฉ ููุฐู ุงููุบุฉ ูุน ุจูุฆุฉ ุชุทููุฑ ุญููููุฉ.  ููุง ูุทูุจ ููุท ุงุณุชุฎุฏุงู ูุงุฌูุงุช ุ ูุฃู ุงููุธุงู ุณูููู ูู <b>ูุซููุงู ูู ููุน Avalon-ST</b> .  ููุฃุณู ูุขู.  ููุง ูู ุฑูุฒ ุงูุงุฎุชุจุงุฑ: <br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">interface AvalonST #(parameter width=8)(input clk); logic [width-1:0] data; logic ready; logic valid; modport source (input clk, ready, output data,valid); modport sink (input clk, data, valid, output ready); endinterface module FT245toAvalonST ( AvalonST.source source, AvalonST.sink sink ); //assign source.ready = sink.valid; assign sink.ready = source.valid; endmodule</code> </pre><br>  ูุชู ุชููููู ุจุงููุงูู ูู ุจุฑูุงูุฌ ุงูุชุญููู ุงูุจุฑูุฌู ุงูุฑุฆูุณู (ูุคุฏู ุณุทุฑ ุงูุชุนููู ุนูุฏ ุญุฐู ุชุนููู ุฅูู ุญุฏูุซ ุฎุทุฃ ูู ุงูุชุฃูุฏ ูู ุฃู ุจุฑูุงูุฌ ุงููุฒุฌ ููุณุฑ ูู ุดูุก ุจุดูู ุตุญูุญ) ุ ูููู ุนูุฏ ุงูุชุญูู ูู ุฒุฑ <b>ุชุญููู ูููุงุช ุงูุชูููู</b> ููููู ููุฐู ุงูุดูุฑุฉ ุ ูุชู <b>ุฅูุดุงุก</b> ุฎุทุฃ ุฃู ููุน <b>AvalonST ุบูุฑ</b> ูุนุฑูู.  ููุฐุง ูู ุ ูุง ููุฌุฏ ุชุญููู ุนูู SystemVerilog ุ ูููู ุนูู Verilog ุงูููู.  ูุงูู ูู ุงููุคุณู. <br><br><img src="https://habrastorage.org/webt/4x/ju/ma/4xjumaitxzkw5tig_pdponziq38.png"><br><br>  ุนูุงูุฉ ุนูู ุฐูู ุ ูุชู ุชุญุฏูุฏ ุงููุบุฉ ุจุดูู ุตุญูุญ ุ ููุท ุงููุญูู ูุง ูููู ุงููุงุฌูุงุช ุจูู ุงูููุงูุฐ. <br><br><img src="https://habrastorage.org/webt/tp/vm/gn/tpvmgnmidvtcb1e5ngfteokprpi.png"><br><br>  ุจุดูู ุนุงู ุ ูุฌุจ ุนููู ุงุณุชุฎุฏุงู ุจูุงุก ุงูุฌููุฉ ุงููุฏูู ุงููุจูุญ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุจุงุณุชุฎุฏุงู ุจูุงุก ุงูุฌููุฉ ูุฐุง ุ ูุญุตู ุนูู ูุงุฌูุฉ ุงููุญุฏุฉ ุงูููุทูุฉ ุงูุชุงููุฉ:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">module FT245toAvalonST ( input clk, input reset, inout [7:0] ft245_data, input logic ft245_rxf, input logic ft245_txe, output logic ft245_rd, output logic ft245_wr, output logic ft245_oe, output logic ft245_siwu, input logic source_ready, output logic source_valid, output logic[7:0] source_data, output logic sink_ready, input logic sink_valid, input logic[7:0] sink_data );</code> </pre><br></div></div><br>  ููุญ ุ ุนุชููุฉ ุ ูููู ูุงุฐุง ููููู ุฃู ุชูุนู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุฏุฑู ุงูุฑุณู ุงูุจูุงูู ุงูุชูุงู ุงูุฃูุชููุงุชูู ุฏูู ุฃู ุฒุฎุฑูุฉ:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">//    enum {idle, toPC, dropOE, fromPC} state = idle; //     always_ff @(posedge clk,posedge reset) begin if (reset == 1) begin state &lt;= idle; end else begin case (state) idle: begin if ((ft245_txe == 0) &amp;&amp; (sink_valid == 1)) state &lt;= toPC; else if ((ft245_rxf == 0)&amp;&amp;(source_ready == 1)) state &lt;= dropOE; end toPC: begin if (!((ft245_txe == 0) &amp;&amp; (sink_valid == 1))) state &lt;= idle; end dropOE: begin state &lt;= fromPC; end fromPC: begin if (!((ft245_rxf == 0)&amp;&amp;(source_ready == 1))) state &lt;= idle; end endcase end end</code> </pre><br></div></div><br>  ุงูุณูุทุฑุฉ ุนูู ุงููุฎุฑุฌุงุช ุ ููุน ุฐูู ุ ูุชุทูุจ ุจุนุถ ุงูุชูุณูุฑ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฌุฒุก ูู ุงูููุดุขุช ูุชู "ุนูู ุงูุฌุจูุฉ":</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">//    //   ,        , //  -    . always_comb begin ft245_oe &lt;= 1; ft245_rd &lt;= 1; ft245_wr &lt;= 1; source_valid &lt;= 0; sink_ready &lt;= 0; //     , //     assign- case (state) idle: begin end toPC: begin ft245_wr &lt;= !(sink_valid); sink_ready &lt;= !(ft245_txe); end dropOE: begin ft245_oe &lt;= 0; end fromPC: begin ft245_oe &lt;= 0; ft245_rd &lt;= !(source_ready); source_valid &lt;= !(ft245_rxf); end endcase end</code> </pre><br></div></div><br>  ูููู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุจุงููุณุจุฉ ูุญุงููุฉ ุงูุจูุงูุงุช ุซูุงุฆูุฉ ุงูุงุชุฌุงู ุ ูุฌุจ ุชุทุจูู ุญู ูููุฐุฌู.  ููุง ูุชุฐูุฑ ุ ุชู ุฅุนูุงูู ูู ุฌุฒุก ุงููุงุฌูุฉ ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> inout [7:0] ft245_data,</code> </pre><br>  ูุงููุฑุงุกุฉ ููู ูููู ุงูููุงู ุจู ุจุงูุทุฑููุฉ ุงููุนุชุงุฏุฉ.  ุจุงููุณุจุฉ ูุญุงูุชูุง ุ ูุญู ุจุจุณุงุทุฉ ููุชู ุฌููุน ุงูุจูุงูุงุช ุนูู ุจูุงูุงุช ุญุงููุฉ <b>Avalon-ST</b> ุงูุตุงุฏุฑุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">//          assign source_data = ft245_data;</code> </pre><br>  ููู ุจุดูู ุนุงู ุ ููููู ุฏุงุฆููุง ุงููุฑุงุกุฉ ูู ุงูุญุงููุฉ ูุจุงูุทุฑููุฉ ุงูุชู ุชุฑูุฏูุง.  ูููู ูุฌุจ ุฃู ุชูุชุจ ุฅููู ุจุงุณุชุฎุฏุงู ุงููุถุงุนู.  ุนูุฏูุง ููุชุจ ุงูุจูุงูุงุช ุฅูู ุงูุญุงููุฉ ุ ูุฌุจ ุฃู ุชุฃุชู ูุฐู ุงูุจูุงูุงุช ูู ุฃู ุญุงููุฉ ุฃุฎุฑู ูุนุฏุฉ ูุณุจููุง.  ุจุดูู ุนุงู ุ ูุชู <b>ุฅููุงุก</b> ูุชุบูุฑ ูู ููุน <b>reg</b> (ุฃู <b>ููุทู</b> ุญุฏูุซ) ูู ูุญุฏุฉ ููุทูุฉ.  ูู ุญุงูุชูุง ุ ูุซู ูุฐุง ุงูุญุงููุฉ ููุฌูุฏ ุจุงููุนู.  ูุฐุง ูู ุงูุญุงููุฉ <b>sink_data</b> .  ูู ุญุงูุงุช ุฃุฎุฑู ุ ุชููู ุงูุญุงูุฉ Z ูู ุงูุฅุฎุฑุงุฌ ุ ูุฅุฐุง ููุช ูุนุชุงุฏูุง ุนูู ุงูุฏูุงุฆุฑ ุ ูุฃูุช ูุฏุฑู ุฌูุฏูุง ููุฌูุฏ ูุฎุฒู ูุคูุช ูููุฐุฌู ููุฅุฎุฑุงุฌ.  ุฅูุง ุฃู ูุชุฎุทู ุฃู ุจูุงูุงุช ุฅุฏุฎุงู ุ ุฃู ููุชูู ุฅูู ุงูุญุงูุฉ Z.  ูู ุงูููุฏ ุงูุฎุงุต ุจูุง ุ ูุจุฏู ูุฐุง ุงููุถุงุนู ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">//      inout- assign ft245_data = (state == toPC) ? sink_data : 8'hzz;</code> </pre><br>  ูุฅุดุงุฑุฉ ุฃุฎุฑู ft245_siwu.  ูุง ูุณุชุฎุฏููุง ุฃุจุฏูุง ุ ูุฐูู ููููุง ูููุซุงุฆู ุงูููุฌูุฏุฉ ุนูู FT2232H ุ ุงุณุญุจู ุฅูู ุงููุญุฏุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">//   FTDI : // Tie this pin to VCCIO if not used. assign ft245_siwu = 1;</code> </pre><br>  ูู ุงููุงูุน ุ ูุฐุง ูู ุดูุก. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงููุญุฏุฉ ุจุฃููููุง ุชุจุฏู ูุซู ูุฐุง:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">module FT245toAvalonST ( input clk, input reset, inout [7:0] ft245_data, input logic ft245_rxf, input logic ft245_txe, output logic ft245_rd, output logic ft245_wr, output logic ft245_oe, output logic ft245_siwu, input logic source_ready, output logic source_valid, output logic[7:0] source_data, output logic sink_ready, input logic sink_valid, input logic[7:0] sink_data ); //    enum {idle, toPC, dropOE, fromPC} state = idle; //     always_ff @(posedge clk,posedge reset) begin if (reset == 1) begin state &lt;= idle; end else begin case (state) idle: begin if ((ft245_txe == 0) &amp;&amp; (sink_valid == 1)) state &lt;= toPC; else if ((ft245_rxf == 0)&amp;&amp;(source_ready == 1)) state &lt;= dropOE; end toPC: begin if (!((ft245_txe == 0) &amp;&amp; (sink_valid == 1))) state &lt;= idle; end dropOE: begin state &lt;= fromPC; end fromPC: begin if (!((ft245_rxf == 0)&amp;&amp;(source_ready == 1))) state &lt;= idle; end endcase end end //    //   ,        , //  -    . always_comb begin ft245_oe &lt;= 1; ft245_rd &lt;= 1; ft245_wr &lt;= 1; source_valid &lt;= 0; sink_ready &lt;= 0; //     , //     assign- case (state) idle: begin end toPC: begin ft245_wr &lt;= !(sink_valid); sink_ready &lt;= !(ft245_txe); end dropOE: begin ft245_oe &lt;= 0; end fromPC: begin ft245_oe &lt;= 0; ft245_rd &lt;= !(source_ready); source_valid &lt;= !(ft245_rxf); end endcase end // -  c  ,   ... //   FTDI : // Tie this pin to VCCIO if not used. assign ft245_siwu = 1; //      inout- assign ft245_data = (state == toPC) ? sink_data : 8'hzz; //          assign source_data = ft245_data; endmodule</code> </pre><br></div></div><br>  ููููุฉ ุชุถููู ุงููุญุฏุฉ ุงูููุทูุฉ ูู ูุงุฆูุฉ ุงููุชุงุญุฉ ููุงุณุชุฎุฏุงู ูู ูุธุงู ุงููุนุงูุฌ ุ ุฏุฑุณูุง ุจุงูุชูุตูู ูู ูุงุญุฏุฉ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูููุงูุงุช ุงูุณุงุจูุฉ</a> ุ ูุฐูู ุฃูุง ููุท ุชุธูุฑ ุงููุชูุฌุฉ ูู ุงูุดูู.  ุฃุฐูุฑ ุฃูู ูู ุฃุฌู ุชุญููู ุฐูู ุ ุงุถุทุฑุฑุช ุฅูู ุฅุถุงูุฉ ุญุงููุชูู <b>AVALON-ST</b> ุ ุญุงููุฉ ูุงุญุฏุฉ <b>Conduit</b> ุ ูุณุญุจ ุฅุดุงุฑุงุช ูู ุญุงููุฉ <b>AVALON-MM</b> ูุญุฏุฏุฉ ุฎุทุฃ ุ ูุนูุฏูุง ูุง ุชูุฌุฏ ุฅุดุงุฑุฉ ูุงุญุฏุฉ ูุชุจููุฉ ูู ูุฐุง ุงูุญุงููุฉ ุ ููุท ุงุญุฐููุง.  ุนูู ุทูู ุงูุทุฑูู ุ ููุถุญ ุงูุดูู ุงูุฅุนุฏุงุฏุงุช ุงูุชู ุงุฎุชุฑุชูุง ููุญุงููุงุช <b>AVALON-ST</b> (8 ุจุช ููู ุฑูุฒ ุ ุจุฏูู ุฃุฎุทุงุก ุ ุงูุญุฏ ุงูุฃูุตู ููููุงุฉ ูู ุตูุฑ ุ ุงููููู ูู ุตูุฑ). <br><br><img src="https://habrastorage.org/webt/-v/9t/ml/-v9tmldj2eyv4rsv8lb3reokzoa.png"><br><br>  ูุน ุชุทููุฑ ูุญุฏุฉ ููุทูุฉ ูุฅุทุงุฑุงุช ุงูุฅุฑุณุงุก - ูุฐุง ูู ุดูุก.  ูููู ููุฃุณู ุ ุขู.  ูุชุทููุฑ ููุณุช ุณูู ุจุฏุงูุฉ ุงูุนูู.  ุงูุชูููุฐ ุฃุตุนุจ ุจูุซูุฑ.  ููุง ูุชุจูู ูู ููุถุน ุณูุฑููุฑ ุนูู ุงูุดุงุดุฉ ุ ูุง ุชุฒุงู ููุงูุฉ ุงูููุงูุฉ ุจุนูุฏุฉ.  ูุฐูู ุ ุจุฏุฃูุง ูู ุฅูุดุงุก ูุดุฑูุน ุจุณูุท ูุณุชุฎุฏู <b>ูุตูุฉ</b> ูุงูู <b>FT245-SYNC</b> ูุน ุญุงููุงุช <b>AVALON-ST</b> .  ูุฐุง ูู ุฃุจุณุท.  ูุง ูุชูุงุณุจ ุงููุดุฑูุน ุงูุฌุงุฏ ูุน ุฅุทุงุฑ ูุงุฏุฉ ูุงุญุฏุฉ ุฐุงุช ุญุฌู ูุนููู.  ุณุฃููู ุงูุขู ุจุงูุชุจุณูุท ุจุนุฏ ุงูุชุจุณูุท ุจุจุณุงุทุฉ ุจุญูุซ ูููู ุงูุชุจุงู ุงููุฑุงุก ูุงููุงู ูุจููุฉ ุงููุต ุญุชู ูุง ูุชููููุง ุนู ุงููุฑุงุกุฉ ูู ูููุฉ ูุงุญุฏุฉ.  ุงูุชุจุณูุท ุงูุฃูู ูู ุฃู <b>ุงูุณุงุนุงุช</b> 60 MHz <b>ูุดุงุดุฉ FT245_SYNC ูุชู</b> ุฅูุดุงุคูุง ุจูุงุณุทุฉ ุดุฑูุญุฉ <b>FT2232H ููุณูุง</b> .  ูููููู ุฅุถุงูุฉ ุฎุทูู ุนูู ูุฏุงุฑ ุงูุณุงุนุฉ ุฅูู ุงููุธุงู ุ ูููู ุจูุฌุฑุฏ ุฃู ูุฑุงู ุงูุฌููุน ุ ุณูููู ูุฏููุง ุฎููุท ูู ุงูุฃุณูุงู ูุง ุชุญุฒููุง ุฃูู.  ุฅุฐุง ููุช ูุง ุฒูุช ุฃูุชู ุจุฎุทูุท ุงูุณุงุนุฉ ุงููุฎุชููุฉ ุ ูุณูู ูุดุนุฑ ุจุงูุงุฑุชุจุงู.  ูุฐูู ุ ุฃุนูู ุจุจุณุงุทุฉ ุฃู ูุธุงู ุงููุนุงูุฌ ุงูุฎุงุต ุจูุง ุณูู ูุนูู ุงูููู ูู ุดุฑูุญุฉ <b>FT2232H</b> ุ ูููุณ ูู ูููุฏ ุนุงุฏู. <br><br>  ููุงุฐุง ูุง ุชุณุชุทูุน ุฃู ุชูุนู ุฐูู ุฏุงุฆูุงุ  ุจุณูุท ููุบุงูุฉ: ุทุงููุง ุฃู <b>FT2232H</b> ููุณ ูู ูุถุน 245_SYNC ุ ูุฅูู ูุง ูุญุชูู ุนูู ูุฐู ุงููุจุถุงุช ูู ุงูุฅุฎุฑุงุฌ.  ุฃู ุ ูุฌุจ ุนููู ุฃููุงู ุชุดุบูู ุงูุจุฑูุงูุฌ ูููุนุงูุฌ ุงููุฑูุฒู ุ ูุจุนุฏ ุฐูู ููุท ูุชู ุชุญููู ูู ุดูุก ูู FPGA.  ุฅุฐุง ุฃุฑุฏูุง ุฅูุดุงุก ูุธุงู ูุนููู ุฎุงุฑุฌู ุ ูุฅู ูุฐุง ุงูุญู ุณูุฎูู ุงููุซูุฑ ูู ุงููุดุงูู.  ุฃุนูู ูู ุงูุชุฌุฑุจุฉ ุฃููู ุณูู ูุชุตููู ุจูุง ุจุงูุชุธุงู ููููููู ุฅูู ูุง ููุฌุฏ ุดูุก ูุงุฌุญ ุ ููููุง ููุฏ ุชุฐููุฑู ุจุงูุญุงูุงุช ุ ููู ุฐูู ุณูุณุงุนุฏ ููุชุฑุฉ ูู ุงูููุช.  ููููุง ูููู ุจุนูู ุฏุงุฎูู ุ ูุณูู ูุณุชุฎุฏูู ููุท ูู ุธุฑูู ุงููุฎุชุจุฑ.  ููุฐุง ูู ุ ูู ุฅุทุงุฑ ูุฐู ุงููููุฉ ุ ููุฐุง ูุณููุญ ุจู. <br><br>  ููู ูุฐุง ูุฌูุจ ุชุญุฏูุงุช ุฌุฏูุฏุฉ.  ูุฏููุง ุชุฑุฏุฏ 60 MHz ุ ูุชุฑุชุจุท ูุชูุฉ ุณุงุนุฉ SDRAM ุงูุชู ูุณุชุฎุฏููุง ุญุงูููุง ุจุชุฑุฏุฏ 50 MHz.  ูุนู ุ ููุฏ ุญุฏุฏุช ุ ูููู ุฅุฑุณุงู 60 ุ ูููู ุฏุนูุง ูุฏุนู ุฃููุง ูุญุงูู ุนุฏู ุชุฌุงูุฒ ุงูุฃูุถุงุน ุงููุณููุญ ุจูุง.  ูู ุงูููุงูุงุช ุงูุชุงููุฉ ุ ุณุฃุญุงูู ุฅุธูุงุฑ ููููุฉ ุงุณุชุจุฏุงู ูุฐู ุงููุชูุฉ ุงูุซุงุจุชุฉ ุ ูููู ุงูููู ูููู ููุท ุฅูู ูุธุฑูุง ูุฃู ูุญุฏุฉ ุงูุณุงุนุฉ ูุฏููุง ูู SDRAM ูุง ูููููุง ุงูุนูู ุนูู ุงูุชุฑุฏุฏ ุงููุณุชุฎุฏู ุ ูุฅููุง ูุณุชุจุนุฏู ูู ูุธุงู ูุนุงูุฌ SDRAM.  ุณูุชู ูุถุน ุงูุจุฑูุงูุฌ ูุจูุงูุงุชู ุจุงููุงูู ูู ุงูุฐุงูุฑุฉ ุงูุฏุงุฎููุฉ ูู FPGA.  ููุฏ ูุฌุฏ ุชุฌุฑูุจูุงู ุฃูู ูู ุชููุฆุฉ ุงูููู ุ ูููู ุฃู ูุณุชุบุฑู FPGAs ูุง ูุตู ุฅูู 28 ููููุจุงูุช ูุญุฏ ุฃูุตู ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ููุฐุง ุงูุนูู.  ุงุชุถุญ ุฃูู ููููู ุฃู ุชุฃุฎุฐ ูุฌูุฏุงุช ูููุณ ููู ูุชุนุฏุฏุฉ ูุงุซููู ... <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุณูู ูุณุชุฎุฏู ูุญุฏุฉ ุงูุณุงุนุฉ ูุฅุนุงุฏุฉ ุงูุถุจุท ุงูููุงุณูุฉ.  ุชุชู ุฅุนุงุฏุฉ ุชุนูููู ุจุดูู ูุฎุชูู ููููุงู ุนู ุงูุฐู ุงุณุชุฎุฏููุงู ูู SDRAM.  ูู ุฃุฌู ุนุฏู ุชุนููุฏ ุงูููุงูุฉ ุ ุณุฃุณุชููุฏ ูู ุญูููุฉ ุฃู ุงููุธุงู ููุฏ ุงูุชุทููุฑ ุณูุนูู ุฏุงุฆููุง ุชุญุช ุณูุทุฑุฉ ูุตุญุญ ุงูุฃุฎุทุงุก ุ ูุฐูู ุณุฃุจุฏุฃ ูู ุฅุนุงุฏุฉ ุชุนููู ูู ุงููุธุงู ุงููุฑุนู JTAG ููุชุตุญูุญ. <br><br>  ุฅุฌูุงูุงู ุ ูุญุตู ุนูู ูุซู ูุฐุง ุงููุฎุทุท ููุธุงู ุงููุนุงูุฌ ุงูุฃุณุงุณู (ูุชู ุชูููุฒ ุฎุท ุฅุนุงุฏุฉ ุงูุถุจุท ุงูุฃูุซุฑ ุตุนูุจุฉ ูู ุงูููุช ุงูุญุงูู ุ ูุชููู ุงูุนูุงูุฉ ุงูุฒุฑูุงุก ูู ูุตุฏุฑ ุงูุฅุดุงุฑุฉ): <br><br><img src="https://habrastorage.org/webt/zx/ug/nk/zxugnk3v9rhownqtdorprzuvqc8.png"><br><br>  ุญูุซ ุชู ุถุจุท ุงูุชุฑุฏุฏ ููุณุงุนุฉ ููุชูุฉ ุฅุนุงุฏุฉ ุงูุถุจุท: <br><br><img src="https://habrastorage.org/webt/dj/hq/ap/djhqapk0jpgumyp0qrp34ucszhw.png"><br><br>  ูููุฐุงูุฑุฉ RAM - ุงูุญุฌู: <br><br><img src="https://habrastorage.org/webt/pm/k2/vn/pmk2vngq6jhbl3yhydiarxcsm2i.png"><br><br>  ุงูููู ูุญู ุจุญุงุฌุฉ ุฅูู ุนุฑุถ ุงููุต ูู ุงููุญุทุฉ.  ูุฐูู ุ ุณูู ูุถูู ูุฐู ุงููุชูุฉ ุงููุซูุฑุฉ ููุงูุชูุงู ุฅูู ุงููุธุงู: <br><br><img src="https://habrastorage.org/webt/9q/nx/r-/9qnxr-5owicrjxhlqmkeckfxxn8.png"><br><br>  ูุน ูุฐู ุงููุชูุฉ ุ ุณูููู ูุงุฏุฑูู ุนูู ุงุณุชุฏุนุงุก ูุธุงุฆู ูุดุงุจูุฉ ูู printf.  ุจุงูุฅุถุงูุฉ ุฅูู ูุงูู AVALON_MM ุ ูุฌุจ ุฃูุถูุง ุชูุตูู ุฅุฎุฑุงุฌ ุทูุจ ุงูููุงุทุนุฉ. <br><br><img src="https://habrastorage.org/webt/gp/h6/rg/gph6rg59lvarzmtdeaq9wvsiohu.png"><br><br>  ูุฐุง ูู ุดูุก ุ ุงูุชูุงู ุงููุดุชุฑูุงุช ููุธุงู ุงููุนุงูุฌ.  ุญุงู ุงูููุช ูุชุถููู ูุญุฏุชูุง.  ุฃูู ุณูู ูุฑุณู ุงูุจูุงูุงุชุ  ูู ุจูู ุงููุชู ุงููุชุงุญุฉ ููุง ุ ููุงู ุฐุงูุฑุฉ FIFO ูุซูุฑุฉ ููุงูุชูุงู ููุบุงูุฉ ุฐุงุช ูููุฐูู.  ูููู ุณุญุฑู ูู ุญูููุฉ ุฃูู ูููู ุชููุฆุฉ ูููุฐ ูุงุญุฏ ููุถุน <b>AVALON-ST</b> ูุชูุตููู <b>ุจูุญุฏุชูุง</b> ุ ูุงูุซุงูู ุจูุถุน <b>AVALON_MM</b> ูุงูุนูู ูุนู ุจุงุณุชุฎุฏุงู ูุนุงูุฌ NIOS II.  ุชูุน ูุฐู ุงููุชูุฉ ุงูุฑุงุฆุนุฉ ููุง: <br><br><img src="https://habrastorage.org/webt/fe/9o/ur/fe9ourutodpbj31wm9av_-pkfc4.png"><br><br>  ูุฏููุง <b>ุญุงููุชุงู Avalon-ST</b> (ูุงุญุฏุฉ ูููุฑุงุกุฉ ุ ูุงูุขุฎุฑ ูููุชุงุจุฉ) ุ ูุฐูู ูุญู ุจุญุงุฌุฉ ุฃูุถูุง ุฅูู ูุฑุจุนูู FIFO.  ุงูุขู ุณูู ุฃุชุทุฑู ุฅูู ุฃุญุฏูู ุจุชูุตูู ูุจูุฑ ุ ูููู ุจุฅุนุฏุงุฏ ุจุถุนุฉ ูููููุชุฑุงุช ูู ุงูููุจ (ููุฌููุนุฉ ูู ุงูุดุงุดุงุช ุงููุตูุฉ ูุน ุงูุตูุฑ) ุ ููููู ูู ุงูุซุงููุฉ ุนู ุฐูู "ูููู ุงูููุงู ุจุฐูู ุนู ุทุฑูู ุงูููุงุณ" ุ ูุน ุงูุฅุดุงุฑุฉ ุฅูู ุงูุงุฎุชูุงูุงุช ููุท.  ูุฐูู ุ ูู ุงูููุช ุงูุญุงูู ุ ูุถูู ูุชูุฉ ูุงุญุฏุฉ ููุท ุฅูู ุงููุธุงู ูููุธุฑ ุญููู ุฅูู ุฅุนุฏุงุฏุงุชู.  ููุงู ุงููุซูุฑ ูู ุงูุฅุนุฏุงุฏุงุช.  ูุฏ ูููู ูู ุงููููู ุงูุฅุดุงุฑุฉ ุจุจุณุงุทุฉ ุฅูู ุงูููู ุงููุทููุจุฉ ุจุญูุซ ูุดูุฑ ุงูุฌููุน ุฅูู ุงูููุงูุฉ ููุฑุฌุน ุ ูููู ูุฌุฃุฉ ูุตุทุฏู ุดุฎุต ูุง ุจูููู ูุญุชุงุฌ ุฅูู ุชููุฆุชู ุ ูููู ูุง ูููู ุงููุตูู ุฅูู ุงูุดุจูุฉ (ูุจุงูุชุงูู ุ ุงูููุงูุฉ).  ูุฐูู ุ ุณุฃุถูู ุงูุฅุนุฏุงุฏุงุช ุจุดูู ูุชูุฑุฑ.  ูู ุงููุงุถุญ ุฃููุงู ุ ุฅุฐู - ููููุง ููุง ูุชุทูุจู ุงููุธุงู ุ ูู ุจุฅุฌุฑุงุก ุงูุญูุงุฑ ูุฑุงุฑูุง ูุชูุฑุงุฑูุง.  ุณูุดุนุฑ ุงูุฌููุน ุจูุฐู ุงูุนูููุฉ ูุณูููู ุจููุฏูุฑูู ุชูุฑุงุฑูุง ูู ุฃู ููุช.  ููุฐุง.  ุจุดูู ุงูุชุฑุงุถู ุ ุญุตููุง ุนูู ุงูุฅุนุฏุงุฏุงุช ุงูุชุงููุฉ: <br><br><img src="https://habrastorage.org/webt/yl/bt/14/ylbt14u32cw8xeqherwazdx8nx4.png"><br><br>  ุณุฃูุนู ุงูุขู FIFO ุ ุงูุชู ุชุฌูุน ุงูุจูุงูุงุช ูู <b>Avalon-ST</b> ุ ูุชุญููููุง ุฅูู <b>Avalon-MM</b> .  ุงุชุถุญ ุฃู ุงูุชุนุฏูู ุงูุฃูู ุณูููู ูุซู ูุฐุง: <br><br><img src="https://habrastorage.org/webt/1w/m0/xx/1wm0xx_bdp9gjk9nqmb6sooxop0.png"><br><br>  ุญุตูุช ุนูู ูุฐุง ุงูุชุญุฐูุฑ ุงููุซูุฑ ููุงูุชูุงู: <br><br><img src="https://habrastorage.org/webt/1u/a8/qs/1ua8qsawychkqv0nxjg_l5u3f4q.png"><br><br>  ุงุชุถุญ ุฃูู ุนูุฏูุง ูุชู ุนุฑุถ ูุงุญุฏ ุนูู ุงูุฃูู ูู ุงูููุงูุฐ ุนูู ุงูุฐุงูุฑุฉ ุ ูุฌุจ ุฃู ูููู ุนุฑุถ ูุงูู <b>Avalon-ST</b> ุจุฏูุฉ 32 ุจุช.  ููุฏููุง ุญุงููุฉ 8 ุจุช.  ููู ุฃุชูู ุนูู ุฃุนูุงู ุงูุจุช ุ ุณูู ุฃุฎุจุฑูู ุฃูู ููููุงู ุ ููู ุงูุขู ูุญู ูููู ุจุญุงููุฉ ุฐุงุช 32 ุจุช ูุน ุดุฎุตูุฉ ุฐุงุช ุซูุงููุฉ ุจุชุงุช ููุง.  ุญุณููุง ุ ูู ุจุชุนุทูู ูุถุน ุงูุฏููุนุงุช ุ ููุง ุชูุฑุฑ ูู ุงูุฌุฒุก ุงููุธุฑู. <br><br><img src="https://habrastorage.org/webt/oi/jh/k0/oijhk02tjofxdavtznc1m1es8w4.png"><br><br>  ุงูุชุงูู ูู ุงููุฏุฑุฉ.  ุงูุชุฑุถ ุฃู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ 256 ูููุฉ (ุฃู 1024 ุจุงูุช): <br><br><img src="https://habrastorage.org/webt/s4/ca/vl/s4cavlmtxomzl0gsc2dfwn2ovmg.png"><br><br>  ุงูุขู ุงููุถุน.  ูู ุงูุจุฏุงูุฉ ุ ูู ุฃุนูู ุฃู ุฃูููุฉ ุนูู ุฐูู ุ ูุญุตูุช ุนูู ุงูุจุฑูุงูุฌ ูุชุฌูุฏ ุจุฅุญูุงู.  ุงูุขู ุฃุนุฑู ุฃู ูุฐุง ุงููุถุน ุถุฑูุฑู.  ุจูุง ุฃููุง ุณูุนูู ูุน ูููุฐ ุงูุฅุฎุฑุงุฌ ุจุฑูุฌููุง ุ ูุฅููุง ูุถูู ุงูุญุงูุฉ ุงูุฎุงุตุฉ ุจู. <br><br><img src="https://habrastorage.org/webt/0_/hc/hp/0_hchpmkhfrlg8pg3tjaqg3vpsi.png"><br><br>  ููุจุถ ุนูู ุงูุฎุทุฃ: <br><br><img src="https://habrastorage.org/webt/xk/e7/lg/xke7lgan6dpoohxssnvglenuhog.png"><br><br>  ุญุณูุง ุงุฐู  ุฅุถุงูุฉ ูุทุน ูุณุงูุฉ ุงูุณุจุงู ูุฒุฏูุฌุฉ.  ูุง ุนููู ุณูู ุชูุตูู ููุง ุงููุฏุฎูุงุช ุจููุณ ุฎุท ุงูุณุงุนุฉ ุ ูุธุฑูุง ูุฃู ูุฏููุง ูุงุญุฏูุง. <br>  Ufff.  ุงููุฌููุน ูุฏููุง: <br><br><img src="https://habrastorage.org/webt/iv/nv/pv/ivnvpvdfov3zeo6owfevsdhrq6k.png"><br><br>  ูููู ูู ุงูุณุงุจู ูุฃูุงูู ุฑุจุท ูุฐุง ุงูุนูู ุจุงููุธุงู ุงูููุญุฏ.  ููุง ุงูุชุดููุง ุ ุชุชุฑู ุงูุญุงููุฉ <b>Avalon-ST</b> ุฐุงุช 8 ุจุชุงุช ุงููุชูุฉ ุงูุชู ูููุง ุจุชุทููุฑูุง ุ ููุฌุจ ุฃู ุชุดูู ุงูุญุงููุฉ 32 ุจุช.  ููู ููููุ  ุฅุนุงุฏุฉ ุชุดููู ูุชูุฉ ุงูุฎุงุต ุจูุ  ูุง!  ููุฏ ุชู ูู ุดูุก ูู ูุจููุง.  ููุง ูุง ุณูู ูุณุงุนุฏูุง: <br><br><img src="https://habrastorage.org/webt/3g/2j/q7/3g2jq74qwjbcgmnvhdchryqi9xm.png"><br><br>  ุฅุถุงูุชู ุฅูู ุงููุธุงู.  ุนูุงูุฉ ุนูู ุฐูู ุ ูุธุฑูุง ูุฃููุง ุทุจูุฉ ุ ุจุญุชุฉ ููุฌูุงู ุ ููุญู ูุถุนูุง ุจูู ุงููุชูุฉ ูุงูู FIFO ุ ุจุงุณุชุฎุฏุงู ุงูุณูู ุงูููุงุจู: <br><br><img src="https://habrastorage.org/webt/lt/pd/9q/ltpd9qytvl60ez2znbxu1qsudyq.png"><br><br>  ูููู ุจุงูุฅุนุฏุงุฏุงุช ุงูุชุงููุฉ: ุนูุฏ ุงูุฅุฏุฎุงู ูุฏููุง ูุงูู 8 ุจุช ุ ุนูู ุงูุฅุฎุฑุงุฌ 32 ุจุช.  ูุง ุชุณุชุฎุฏู ุฅุดุงุฑุงุช ุงูุญุฒูุฉ ุ ูุชุณุชุฎุฏู ุฅุดุงุฑุงุช <b>ุฌุงูุฒุฉ</b> <b>ูุตุงูุญุฉ</b> . <br><br><img src="https://habrastorage.org/webt/bo/-e/h1/bo-eh154mbqqyr0owj9vn96his8.png"><br><br>  ุญุงู ุงูููุช ููุณุฌ ุดุจูุฉ ุงูุฅูุชุฑูุช.  ุฃููุงู ุ ุณุฃุถุน ุฎุทูุท ุงูุชุฏูู (ูู ุงูุดูู ุงูุฐู ุชู ุชุณููุท ุงูุถูุก ุนููููุง ุ ุชููู ุงูุนูุงูุงุช ุนูู ูุณุชูุจูุงุช ุงูุจูุงูุงุช): <br><br><img src="https://habrastorage.org/webt/br/xu/uj/brxuujnbnsiazm3pxfnnr3tb-cc.png"><br><br>  ููุฐุง ูู ุ ุฅุดุงุฑุฉ ูู ูุตุฏุฑ ูุชูุฉ ูุฏููุง ูุฐูุจ ุฅูู ุฅุฏุฎุงู ูุญูู.  ููู ุฅุฎุฑุงุฌ ูุญูู ุฅูู ุฅุฏุฎุงู FIFO.  ููุง ููุช ุ ุฌููุน ุงูุงุชุตุงูุงุช ูู ุจุฑูุชูููู ุงูุฏูู ุชุฐูุจ ุนูู ุฃุณุงุณ ููุทุฉ ุฅูู ููุทุฉ. <br>  ุญุณููุง ุ ุงูุขู ูููู ุจุชุนููู ุฎุทูุท ุฅุนุงุฏุฉ ุงูุชุนููู ูุฎุทูุท ุงูุณุงุนุฉ ุ ูุฃูุถูุง ุชูุตูู ูู ุดูุก ุจุญุงููุฉ ุงููุธุงู ูุงูููุงุทุนุงุช ... <br><br><img src="https://habrastorage.org/webt/dc/tj/1g/dctj1gqgwbbs7-pcdf4urfbhvsy.png"><br><br>  ุญุณููุง ... ูุงูุขู ุ ููููุง ูููุณ ุงููุจุฏุฃ ุ ูุถูู FIFO ูุฅุตุฏุงุฑ ุงูุจูุงูุงุช ุฅูู <b>FT245SYNC</b> .  ููุงู ููุท ุ ุชุตู ุงูุจูุงูุงุช ุฅูู FIFO ูู <b>Avalon-MM</b> ูู ุดูู 32 ุจุช.  ุฅููู ููุฑูู ุนุจุฑ ูุญูู 32 ูู 8 ููู ุซู ูุตููู ุฅูู ุฅุฏุฎุงู SINK ุงูุฎุงุต ุจุงููุชูุฉ ุงูุฎุงุตุฉ ุจูุง ุ ููู ุบูุฑ ูุชุตู ูู ุงูุฏุงุฆุฑุฉ ุงูุญุงููุฉ ... ูุญุตู ุนูู ุงูุฌุฒุก ุงูุชุงูู ูู ุงูุฏุงุฆุฑุฉ ุงูููุงุฆูุฉ (ุงูุชูุช ุงูุฐุงูุฑุฉ ููุงู ูุน ุณุงุนุฉ ูุงุญุฏุฉ): <br><br><img src="https://habrastorage.org/webt/eg/e5/kc/ege5kckjc4x5vwtsfaxmlp32rqo.png"><br><br>  ูุฒูุฏ ูู ุงูุฅุฌุฑุงุกุงุช ุงูุชู ุนูููุง ุนูููุง ุจุงููุนู ุจุดูู ุฌูุฏ ูู ุงูุชุฌุงุฑุจ ุงูููุถุญุฉ ูู ุงูููุงูุงุช ุงูุณุงุจูุฉ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจุงููุณุจุฉ ููุฌุฒุก ุงูุฃูุจุฑ - ูู ูุฐุง ูุงุญุฏ</a> ).  ูุฎุตุต ุงููุชุฌูุงุช ูููุนุงูุฌ.  ุจุงููุณุจุฉ ูููุธุงู ุ ูุฅููุง ูุณูู ุงูุชุนููู ุงูุชููุงุฆู ูุฃุฑูุงู ูุนูุงููู ุงูููุงุทุนุฉ.  ูููู ุจุญูุธ ุงููุธุงู ... ูุชุฐูุฑ ุงูุฌููุน ุฃู ุงุณู ุงููุธุงู ุงููุญููุธ ูุฌุจ ุฃู ูุชุทุงุจู ูุน ุงุณู ุงููุดุฑูุน ุจุญูุซ ูููู ุงููุธุงู ูู ุงููุณุชูู ุงูุฃุนูู ูู ุงูุชุณูุณู ุงููุฑููุ  ุฅุถุงูุฉ ุงููุธุงู ุฅูู ุงููุดุฑูุน ุ ูุฌุนู ูุดุฑูุน ุชูุฑูุจู ูููุดุฑูุน ุ ูุชุนููู ุงูุณุงููู.  ุดุฎุตูุง ุ ููุฏ ุฎุฏุนุช: ููุฏ ููุช ุจูุณุฎ ุงูููุงู ูู ููู * .qsf ููุดุฑูุน ุงููุณูุฏุฉ ุฅูู ุงููุฑุญูุฉ ุงูููุงุฆูุฉ ุงูุญุงููุฉ (ูููููู ุชูููุฐ ูุดุฑูุนู ููุณุฎ ุฎุทูุท * .qsf ุงูููุงุจูุฉ ูู ุ ูููู ููููู ุจุจุณุงุทุฉ ุชุนููู ุฌููุน ุงูุฃุฑุฌู ุนุจุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุฑุณูููุฉ).  ุฃูุฏ ุฅููุงุก ุงูุชูุงู ุฎุงุต ูุญูููุฉ ุฃู ุฅุดุงุฑุฉ clk ูุชุตูุฉ ุงูุณุงู 23 ุ ูููุณ 25 ุ ููุง ูู ุงูุญุงู ูู ุงููุดุงุฑูุน ุงูุณุงุจูุฉ.  ุฃุฐูุฑู ุฃููุง ููุง ููุฑ ูู ุฅุฎุฑุงุฌ FT2232. <br><br><img src="https://habrastorage.org/webt/9z/bx/sb/9zbxsbgsn4m_9wewmjestkse0fi.png"><br><br>  ุนุธูู!  ุงูุฌูุงุฒ ุฌุงูุฒ.  ููุฑ ุฅูู ุงูุจุฑูุงูุฌ.  ูู ุฃูู ูุจุฏุฃุ  ุงูููู ูุฐุง ุงูุณุคุงู ูุง ูุณุชุญู ูู ูุฐุง ุงูุนูุงุก.  ุฅุฐุง ุจุฏุฃูุง ุจุจุฑูุงูุฌ ูุนูู ุนูู ูุนุงูุฌ NIOS II ุ ููู ููุฌุญ ุดูุก ุจุงููุณุจุฉ ููุง.  ุฃููุงู ุ ูุฌุจ ูุถุน FT2232 ูู ูุถุน 245-SYNC ุ ูุนูุฏูุง ููุท ุณูุชููู ูุธุงู ุงููุนุงูุฌ ูุจุถุงุช ุงูุณุงุนุฉ.  ูุฐูู ุ ูุจุฏุฃ ุจุฑูุฒ ุงููุนุงูุฌ ุงููุฑูุฒู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุญุตู ุนูู ุดูุก ูุซู ูุฐุง:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">#include &lt;cstdio&gt; #include &lt;sys/time.h&gt; #include &lt;unistd.h&gt; #include "ftd2xx.h" FT_HANDLE OpenFT2232H() { FT_HANDLE ftHandle0; static FT_DEVICE ftDevice; //      int nDevice = 0; while (true) { //     if (FT_Open(nDevice, &amp;ftHandle0) != FT_OK) { printf("No FT2232 found\n"); //  ,      return 0; } //     ? if (FT_GetDeviceInfo(ftHandle0, &amp;ftDevice, NULL, NULL, NULL, NULL) == FT_OK) { // ,    if (ftDevice == FT_DEVICE_2232H) { // ,     AN130 FT_SetBitMode(ftHandle0, 0xff, 0x00); usleep(1000000); //Sync FIFO mode FT_SetBitMode(ftHandle0, 0xff, 0x40); FT_SetLatencyTimer(ftHandle0, 2); FT_SetUSBParameters(ftHandle0, 0x10000, 0x10000); return ftHandle0; } } //    FT_Close(ftHandle0); //    nDevice += 1; } printf("No FT2232 found\n"); } int main() { FT_HANDLE ftHandle0 = OpenFT2232H(); if (ftHandle0 == 0) { printf("Cannot open device\n"); return -1; } int item; bool bWork = true; while (bWork) { printf("1 - Send 16 bytes\n"); printf("2 - Send 256 bytes\n"); printf("3 - Receive loop\n"); printf("0 - Exit\n"); scanf("%d", &amp;item); switch (item) { case 0: bWork = false; break; case 1: { static const unsigned char data[0x10] = { 0x00,0x01,0x02,0x03, 0x04,0x05,0x06,0x07,0x08,0x09,0x0a,0x0b,0x0c,0x0d,0x0e,0x0f }; DWORD dwWritten; FT_Write(ftHandle0, (void*)data, sizeof(data), &amp;dwWritten); } break; case 2: { unsigned char data[0x100]; for (size_t i = 0; i &lt; sizeof(data); i++) { data[i] = (unsigned char)i; } DWORD dwWritten; FT_Write(ftHandle0, (void*)data, sizeof(data), &amp;dwWritten); } break; case 3: { DWORD dwRxBytes; DWORD dwRead; DWORD buf[0x100]; while (true) { FT_GetQueueStatus(ftHandle0, &amp;dwRxBytes); if (dwRxBytes != 0) { printf("Received %d bytes (%d DWORDs)\n", dwRxBytes, dwRxBytes / sizeof(buf[0])); if (dwRxBytes &gt; sizeof(buf)) { dwRxBytes = sizeof(buf); } FT_Read(ftHandle0, buf, dwRxBytes, &amp;dwRead); for (DWORD i = 0; i &lt; dwRxBytes / sizeof(buf[0]);i++) { printf("0x%X, ",buf[i]); } printf("\n"); } } } break; } } // ,    FT_Close(ftHandle0); return 0; }</code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุธููุฉ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenFT2232H ()</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุฃูููุฉ ููุง ูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุงุฏุฉ ุงูุฃุฎูุฑุฉ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . ูู ุงูุชู ุชูุชุญ ุฌูุงุฒ FT2232 ูุชุถุนู ูู ุงููุถุน ุงูุฐู ูุญุชุงุฌู. ูุจุงุดุฑุฉ ุจุนุฏ ุงูุฅุทูุงู ุงููุงุฌุญ ููุจุฑูุงูุฌ ุ ูุญุตู ุนูู ูุจุถุงุช ุนูู ูุฏุงุฑ ุงูุณุงุนุฉ ุ ููุนูู ุงููุฏุฑุฉ ุนูู ุชุตุญูุญ ุงูุจุฑูุงูุฌ ุงูุฎุงุต ุจู NIOS II. ุญุณูุง ุ ูุธููุฉ ุงููุธููุฉ ุงูุฑุฆูุณูุฉ ูู ุจุณูุทุฉ ูุซู ุงูุจุฑุงุฒ. ุฃุฑุณู ุจุนุถ ุงูุจูุงูุงุช (1) ุ ุฃุฑุณู ุงููุซูุฑ ูู ุงูุจูุงูุงุช (2) ุ ุงุณุชูุจู ุงูุจูุงูุงุช (3). ูุฑุฌู ููุงุญุธุฉ ุฃู ุฌููุน ุงูุจูุงูุงุช ูุชู ุฅุฑุณุงููุง ูู ูุชู ูู ูุถุงุนูุงุช ุฃุฑุจุนุฉ ุจุงูุช. ูุฐุง ููู ูุฃู ูุฏููุง ูุญูู 8 ูู 32. ุนูุฏ ุงูุฎุฑูุฌ ููู ุ ูุฌุจ ุฃู ุชุฐูุจ ุงูุจูุงูุงุช ุจูููุงุช ูุฒุฏูุฌุฉ. ุฎูุงู ุฐูู ุ ูู ุดูุก ูุงุถุญ.</font></font><br><br>     NIOS II      BSP. ,        Hello World Small.    BSP       (        BSP,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> </a> ). ,     ,  ,  Settings,       . <br><br><img src="https://habrastorage.org/webt/lc/mg/jh/lcmgjhu3udg8njitretcj5wp4vm.png"><br><br>  Generate BSP ,    ,     <b>hello_world_small.c</b>  <b>hello_world_small.cpp</b> ,     ,         . <br><br>        (         ,   FIFO,    โ   ,    ,        ).         .   โ        NIOS II.      : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">extern "C" { #include "sys/alt_stdio.h" #include &lt;system.h&gt; #include &lt;altera_avalon_fifo_util.h&gt; } #include &lt;stdint.h&gt; int main() { while (1) { int level = IORD_ALTERA_AVALON_FIFO_LEVEL(FIFO_0_OUT_CSR_BASE); if (level != 0) { alt_printf("0x%x words received:\n",level); for (int i=0;i&lt;level;i++) { alt_printf("0x%x,",IORD_ALTERA_AVALON_FIFO_DATA (FIFO_0_OUT_BASE)); } alt_printf("\n"); } } /* Event loop never exits. */ while (1); return 0; }</code> </pre><br>       FIFO.    ,  . <br>   .    ,    .    Redd   ยซยป ,        NIOS II.   : <br><br><img src="https://habrastorage.org/webt/88/1c/xk/881cxkj95xirw_0rdrrhyaf0ffm.png"><br><br>      ,        .    ,    .   ,     ,      .        FT2232,      ,       .            .      :      <b>FT245-SYNC</b> . <br><br>       1.    ,    : <br><br> <b>0x2 words received: <br> 0x3020100,0x7060504, <br> 0x2 words received: <br> 0xb0a0908,0xf0e0d0c,</b> <br><br> : <br><br> <b>0x3 words received: <br> 0x3020100,0x7060504,0xb0a0908, <br> 0x1 words received: <br> 0xf0e0d0c,</b> <br><br>  ,    1,  3  ,      .    ,      ,      .     ,          ,      JTAG โ   .       ,          .   ,   (  ,   ?    ),    (FIFO โ   ,         ,         ). <br><br>         Little Endian. ,    : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">static const unsigned char data[0x10] = { 0x00,0x01,0x02,0x03, 0x04,0x05,0x06,0x07,0x08,0x09,0x0a,0x0b,0x0c,0x0d,0x0e,0x0f };</code> </pre><br>  ูุฐุง ุตุญูุญ.         2,    (  ,     ): <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">0x3 words received: 0x3020100,0x7060504,0xb0a0908, 0x3d words received: 0xf0e0d0c, 0x13121110,0x17161514,0x1b1a1918,0x1f1e1d1c, 0x23222120,0x27262524,0x2b2a2928,0x2f2e2d2c, 0x33323130,0x37363534,0x3b3a3938,0x3f3e3d3c, 0x43424140,0x47464544,0x4b4a4948,0x4f4e4d4c, 0x53525150,0x57565554,0x5b5a5958,0x5f5e5d5c, 0x63626160,0x67666564,0x6b6a6968,0x6f6e6d6c, 0x73727170,0x77767574,0x7b7a7978,0x7f7e7d7c, 0x83828180,0x87868584,0x8b8a8988,0x8f8e8d8c, 0x93929190,0x97969594,0x9b9a9998,0x9f9e9d9c, 0xa3a2a1a0,0xa7a6a5a4,0xabaaa9a8,0xafaeadac, 0xb3b2b1b0,0xb7b6b5b4,0xbbbab9b8,0xbfbebdbc, 0xc3c2c1c0,0xc7c6c5c4,0xcbcac9c8,0xcfcecdcc, 0xd3d2d1d0,0xd7d6d5d4,0xdbdad9d8,0xdfdedddc, 0xe3e2e1e0,0xe7e6e5e4,0xebeae9e8,0xefeeedec, 0xf3f2f1f0,0xf7f6f5f4,0xfbfaf9f8,0xfffefdfc,</code> </pre><br>   .     .    NIOS II  : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> /*  -  2 */ uint32_t buf[] = {0x11223344,0x55667788,0x99aabbcc,0xddeeff00}; for (uint32_t i=0;i&lt;sizeof(buf)/sizeof(buf[0]);i++) { IOWR_ALTERA_AVALON_FIFO_DATA (FIFO_1_IN_BASE,buf[i]); }</code> </pre><br>        3       NIOS II. : <br><br> <b>Received 16 bytes (4 DWORDs) <br><br> 0x11223344, 0x55667788, 0x99AABBCC, 0xDDEEFF00,</b> <br><br>    .    -   . <br><br><h3 style=";text-align:right;direction:rtl">  ุงุณุชูุชุงุฌ </h3><br>        <b>Avalon-ST</b> .        Redd   ,   .           .        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a> . <br><br>           .     ,          ,    Redd. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar462253/">https://habr.com/ru/post/ar462253/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar462221/index.html">ููู ุจุฎูุจุฉ ุฃูู ุฃูุง ุนูู Google Play</a></li>
<li><a href="../ar462227/index.html">ููุณูู ุ 9 ุฃุบุณุทุณ - ูุตุต ุงูุฎูููุฉ 4.0</a></li>
<li><a href="../ar462243/index.html">ุชุนุฒูุฒ ุฃุฏุงุก ุงููุงุฌูุชู ุงูุฃูุงูู ูุน ReactJS</a></li>
<li><a href="../ar462245/index.html">git bisect ููุซุงู ุนูู Linux kernel</a></li>
<li><a href="../ar462251/index.html">ูู ูุถุน ุงูุชุตูุญ ุงููุชุฎูู ูู ุงููุชุตูุญ ุฎูุงูุ</a></li>
<li><a href="../ar462257/index.html">ูุงููุง ุนูู Kubernetes - ูู ูุฐุง ุฌูุฏุ</a></li>
<li><a href="../ar462259/index.html">ุตูุน ูุญุฏุฉ ุชุญูู ูููุฒู ุฐูู</a></li>
<li><a href="../ar462263/index.html">ุฏูุงุณุฉ ุนูู ุงูุฃุฑุถ: ุฅูุดุงุก ุขุฎุฑ ููุงูุฑ ุงููุฏู ููููุจููุชุฑ</a></li>
<li><a href="../ar462265/index.html">ุจูุซูู ูููุนุจุงุช</a></li>
<li><a href="../ar462267/index.html">ุชุนุฑู ุนูู PVS-Studio Static Analyzer for Java</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>