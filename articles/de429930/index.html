<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏼‍🚒 🚵🏾 👂🏽 Splunk Einfache Fehlerbehebung bei Anwendungen 👩🏾‍🍳 🧦 🚵🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wie oft verwenden Sie bereits erstellte Add-Ins mit Splukbase, anstatt Ihre eigenen zu schreiben? Haben sie immer das, was Sie gerne sehen würden? Fun...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Splunk Einfache Fehlerbehebung bei Anwendungen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tssolution/blog/429930/"><img src="https://habrastorage.org/webt/0v/23/ea/0v23easuhjlcpzivghsje_yeq_0.png"><br>  Wie oft verwenden Sie bereits erstellte Add-Ins mit Splukbase, anstatt Ihre eigenen zu schreiben?  Haben sie immer das, was Sie gerne sehen würden?  Funktioniert in ihnen alles einwandfrei, auch wenn sie genau nach den Anweisungen installiert wurden?  Heute werden wir über die Funktionen der Arbeit mit Splunk-Anwendungen sprechen. <br><br>  Wir werden nämlich lernen, zu verstehen, wie Anforderungen in Anwendungen generiert werden, damit wir in Zukunft basierend auf ihnen etwas Spezielles für unsere Aufgabe tun können.  Berücksichtigen Sie auch mehrere Gründe, aus denen Anwendungen häufig schief oder gar nicht funktionieren. <br><a name="habracut"></a><br>  Warum reden wir darüber?  Weil viele Anwendungen eine komplexere Abfragestruktur haben, als gewöhnliche Benutzer beim Schreiben ihrer eigenen Anwendungen verwenden.  Gleichzeitig muss jedoch häufig verstanden werden, wie eine bestimmte Tabelle aufgebaut ist, um sie selbst anzupassen. <br><br>  Welche Chips werden von fortgeschrittenen Anwendungsentwicklern verwendet: <br><br><ul><li>  Ereignistyp </li><li>  Makros </li><li>  Warnungen </li><li>  Lookups </li></ul><br>  Jetzt versuchen wir anhand von Beispielen für mehrere Abfragen zu zeigen, was es ist und wie Sie es herausfinden können. <br><br><h3>  Beispiel Nr. 1 </h3><br>  Nehmen Sie eine Abfrage von der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Splunk-App für Windows-Infrastruktur entgegen</a> , die uns die Anzahl der neuen Benutzer in Active Directory geben soll.  Als Ergebnis erhalten wir folgende Tabelle: <br><br><img src="https://habrastorage.org/webt/-9/wo/js/-9wojswctlostiukzg3ahg5csmy.png"><br><br>  Angenommen, wir sind mit etwas in dieser Tabelle nicht zufrieden: Wir müssen ein weiteres Feld hinzufügen, zusätzliche Filterung nach Betreff-Benutzer durchführen oder etwas anderes.  Scheint kompliziert zu sein?  Öffnen Sie nun die Suchabfrage und bearbeiten Sie alles! <br><br>  Aber ... etwas ist schief gelaufen. <br><br><img src="https://habrastorage.org/webt/n7/z3/wr/n7z3wrk0g6cehz97z6-acys7tzk.png"><br><br>  Anstelle einer standardmäßigen und klaren Abfrage erschien ein seltsames Design in einfachen Anführungszeichen.  Machen wir uns vertraut, das ist ein Makro. <br><br>  <b>Ein Makro</b> in Splunk ist eine wiederverwendbare Suchabfrage.  Makros werden erstellt, wenn im Rahmen einer Anwendung häufig dieselbe Art von Transformation durchgeführt werden muss. Um sie nicht bei jeder Anforderung zu wiederholen, werden sie separat gespeichert.  Das Makro in der Anfrage kann an einer solchen Struktur "Makroname" erkannt werden.  Makros erfordern möglicherweise auch eine Art Eingabevariable. Solche Makros in der Anforderung haben die Struktur "Makroname (Wert)". <br><br>  Öffnen Sie anschließend den Makrotext, den Sie hier finden. <i>Einstellungen - Erweiterte Suche - Suchmakros</i> . <br><br><img src="https://habrastorage.org/webt/2w/jt/qv/2wjtqvzyzrqt5m7btviaxap_enc.png"><br><br>  Im Allgemeinen sieht eine solche Anfrage häufiger aus und Sie können bereits damit arbeiten.  Es gibt jedoch eine Einschränkung: Wenn Sie versuchen, ein Feld wie den Ereignistyp in den Protokollen zu finden, werden Sie nichts finden.  Dies ist ein weiteres Splunk-Tool. <br><br>  Eventtype ist ein Filterwerkzeug.  Es wird in Fällen verwendet, in denen erforderliche Ereignisse nach einer Vielzahl von Kriterien ausgewählt werden.  Daher können wir mithilfe von eventtype einmal konfigurieren, welche Ereignisse zu diesem Typ gehören, ihnen einen angemessenen Namen geben und sie in zukünftigen Abfragen verwenden. <br><br>  Sie finden den Ereignistyp unter <i>Einstellungen - Ereignistypen.</i> <br><br>  Unter "eventtype = wineventlog_security" befindet sich die folgende Suche: <br><br><img src="https://habrastorage.org/webt/jp/tj/bi/jptjbi_gaecfvtfesut7_oemgai.png"><br><br>  Daher haben wir eine der Anforderungen in der Anwendung „abgewickelt“.  Jetzt wissen wir auf der Grundlage, welche Daten und welche Transformationen durchgeführt wurden, um ein Ergebnis zu erhalten, was bedeutet, dass wir es bei Bedarf korrigieren oder ein eigenes ähnliches erstellen können.  Seien Sie vorsichtig und versuchen Sie nicht, in Anwendungen integrierte Makros und Ereignistypen zu bearbeiten.  Sie können von anderen Dashboards referenziert werden, und dann ändern sich auch die Ergebnisse.  Um dies zu verhindern, ist es besser, alle Fragmente in einer Suche zu sammeln oder neue Makros und Ereignistypen zu erstellen. <br><br>  Ich stelle sofort fest, dass dies alles andere als die komplizierteste und komplizierteste Geschichte ist.  Der Ereignistyp kann sich auf jeden anderen Ereignistyp beziehen, dieser andere auf den dritten und so weiter.  Einige Makros können sich auf Verzeichnisse beziehen, die mit anderen Makros usw. erstellt wurden. <br><br><h3>  Beispiel Nr. 2 </h3><br>  Stellen Sie sich ein anderes Beispiel vor: Erstellen einer Liste von Domänen. <br><br><img src="https://habrastorage.org/webt/k8/em/jj/k8emjjscmgivjjxh0vau1kl0a5w.png"><br><br>  Schauen wir uns die Anfrage an, die diese Liste für uns erstellt. <br><br><img src="https://habrastorage.org/webt/4r/49/zp/4r49zpnrmxasqcmaghnop9p4gom.png"><br><br>  Und wieder sehen wir ein Makro, das fast die gesamte Anfrage ersetzt. <br><br>  Wir gehen zum Menü mit Makros ( <i>Einstellungen - Erweiterte Suche - Suchmakros</i> ) und sehen, dass unser Makro die Basis aus dem Verzeichnis mit Domänen übernimmt. <br><br><img src="https://habrastorage.org/webt/61/y-/qj/61y-qjhcbshff_w-06ltgzs8w0u.png"><br><br>  Fragen stellen sich: Welche Art von Referenz ist das, wie und woher hat er unsere Daten erhalten, wenn wir die Anwendung aus dem Internet heruntergeladen haben und keine Referenzinformationen erhalten haben. <br>  Wir erinnern daran, dass Verzeichnisse nicht nur aus heruntergeladenen Dateien erstellt werden können, sondern auch mithilfe von Suchen oder Warnungen.  Wir gehen zum entsprechenden Abschnitt ( <i>Einstellungen - Suchen, Berichte und Warnungen</i> ) und finden dort wirklich ein Objekt, das namentlich etwas ähnelt, das wir benötigen.  (DomainSelector_Lookup) <br><br>  Dies ist eine Warnung, die nach einem Zeitplan ausgeführt wird, mit einer bestimmten Häufigkeit ausgelöst wird und das Verzeichnis aktualisiert. <br><br><img src="https://habrastorage.org/webt/hx/-m/cn/hx-mcnrbmgk0ywchlzbhudhi10i.png"><br><br>  Aber mal sehen, woher er den Domainnamen hat, und dafür eine Suchabfrage öffnen.  Und darin ... wieder ein Makro. <br><br><img src="https://habrastorage.org/webt/oo/gs/s7/oogss7e_hckib0mfogm8pwgm3hm.png"><br><br>  Welches hat wieder einen Link zum Ereignistyp. <br><br><img src="https://habrastorage.org/webt/xa/ch/iy/xachiyrcilkvbloaoik3aivcguc.png"><br><br>  Und in dem gibt es einen weiteren Link zum Ereignistyp <br><br><img src="https://habrastorage.org/webt/fj/kd/dx/fjkddxibqb1psx4ivqaxybyfmni.png"><br><br>  Und erst jetzt sind wir am Ende dieser komplizierten Kette angelangt: <br><br><img src="https://habrastorage.org/webt/pe/qk/9m/peqk9m_fontrawrwcbzbaa2njca.png"><br><br>  In zwei Beispielen haben wir uns angesehen, was sich hinter den Tablets und Grafiken einer Anwendung wie Splunk App für Windows Infrastructure verbirgt.  Eine solche Architektur zeigt einen hohen Grad an Ausarbeitung des Datenmodells, was die Qualität der Anwendung bedeutet, aber es bereitet Benutzern, die verstehen möchten, was dort geschieht, große Schmerzen. <br><br><h2>  Fehlerbehebung </h2><br>  Lassen Sie uns, wie am Anfang des Artikels erwähnt, einige Worte darüber sagen, warum die Anwendung möglicherweise nicht wie erwartet funktioniert. <br><br>  Betrachten Sie dieses Beispiel: Wir haben die Splunk-App für Windows-Infrastruktur installiert, die dafür erforderlichen Add-Ons installiert und das Laden von Daten auf dem Splank eingerichtet.  Aber wenn wir in die Anwendung gehen, sehen wir genau ein solches Bild: <br><br><img src="https://habrastorage.org/webt/qj/1s/25/qj1s25gosc-oyegddhxjxw7owt0.png"><br><br>  Warum könnte das sein?  Um ehrlich zu sein, kann es viele Gründe geben, aber wir werden jetzt die beiden wahrscheinlichsten und häufigsten betrachten. <br><br><h4>  1. Standardindizes </h4><br>  Wie Sie sehen können, fehlt in allen Suchanfragen im ersten Teil des Artikels der klassische Teil von index = ....  Wenn die Abfrage nicht angibt, für welchen Index die Suche ausgeführt wird, werden nur die Indizes gesucht, die in der Liste Standardindizes enthalten sind.  Standardmäßig ist nur der Hauptindex enthalten, daher müssen wir die benötigten Indizes zu dieser Gruppe hinzufügen. <br><br>  Dies kann wie folgt erfolgen: <br>  <i>Einstellungen - Benutzer und Authentifizierung - Zugriffssteuerung - Rollen - &lt;die Rollen, die mit dieser Anwendung funktionieren&gt; - Standardmäßig durchsuchte Indizes</i> <br><br>  Fügen Sie dann die gewünschten Indizes zu den ausgewählten Indizes hinzu. <br><br><img src="https://habrastorage.org/webt/wl/yj/o6/wlyjo6qnnh-fh1dvfd52qqh1au4.png"><br><br><h4>  2. Geplante Warnungen </h4><br>  Viele Filter basieren auf Verzeichnissen und Verzeichnissen auf Warnungen.  Möglicherweise haben diese Warnungen noch nicht funktioniert und die Verzeichnisse nicht mit den erforderlichen Informationen ausgefüllt.  Sie müssen sehen, wann sie funktionieren, und gegebenenfalls die Zeit und das Intervall der Aktualisierungen des Verzeichnisses ändern.  ( <i>Einstellungen - Suchen, Berichte und Warnungen</i> ) <br><br><hr><br>  In diesem Artikel haben wir uns ein Beispiel für eine Windows-Infrastrukturanwendung angesehen, aber dasselbe passiert in vielen Anwendungen, die von erfahrenen Splankern erstellt wurden. <br><br>  Wenn Sie sie besser verstehen möchten, damit dies für Sie keine Black Box ist und Informationen transformieren, um auf der Grundlage dieser Daten qualitativ hochwertige Analysen zu erstellen, müssen Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Makros</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ereignistypen</a> genauer untersuchen. <br><br>  Splunk-Kurs bei <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Splunk Fundamentals 2</a> . <br><br><img src="https://habrastorage.org/webt/ey/yy/9n/eyyy9nzwq4rf9kolg17ihjq5bik.png"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de429930/">https://habr.com/ru/post/de429930/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de429916/index.html">Wie man baut und baut</a></li>
<li><a href="../de429918/index.html">Virtuelle Welt Intel. Teil 2: SMP</a></li>
<li><a href="../de429920/index.html">Tragikomödie in NaN-Acts: Wie wir ein Spiel auf JS gemacht und auf Steam veröffentlicht haben</a></li>
<li><a href="../de429922/index.html">Wie man aus einem einfachen Projekt eine langfristige Konstruktion macht oder alles Unnötige abschneidet</a></li>
<li><a href="../de429928/index.html">Alles, was Sie über Stress und starke Emotionen wissen müssen</a></li>
<li><a href="../de429934/index.html">Was ist da</a></li>
<li><a href="../de429936/index.html">Soll ich auf Android unter iOS von Parallels warten?</a></li>
<li><a href="../de429938/index.html">Wie schnell ist R für die Produktivität?</a></li>
<li><a href="../de429940/index.html">Warum Pflanzen maschinelles Lernen brauchen</a></li>
<li><a href="../de429942/index.html">Holen Sie sich VK-Musik über eine Drittanbieter-API</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>