<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üé± ‚ùï üòÄ Luz de fundo adapt√°vel para TV Raspberry Pi - Ambilight Analog üë©‚Äçüåæ ‚≠ïÔ∏è ‚è´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Esta √© uma TV de 50 ‚Äùcom 37 pontos RGB de luz de fundo adapt√°vel na parte superior e nas laterais da tela. Como criar uma luz de fundo adaptativa seme...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Luz de fundo adapt√°vel para TV Raspberry Pi - Ambilight Analog</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/486106/"><img src="https://habrastorage.org/webt/4j/nf/9b/4jnf9b-q6d5nf1a1pf-0-svy-ss.jpeg" alt="imagem"><br><br>  Esta √© uma TV de 50 ‚Äùcom 37 pontos RGB de luz de fundo adapt√°vel na parte superior e nas laterais da tela.  Como criar uma luz de fundo adaptativa semelhante para qualquer tela ou TV √© um t√≥pico obsceno, mas bastante relevante por v√°rios motivos. <br><br>  Primeiro de tudo, tudo est√° mudando.  H√° alguns anos, n√£o havia projeto funcionando sem muletas de software ou hardware.  De qualquer forma, eu n√£o vi essas publica√ß√µes.  Os descritos na Internet perdem a relev√¢ncia devido √† obsolesc√™ncia de plataformas de software ou hardware ou implementam essa tecnologia apenas para monitores conectados a um PC. <br><br>  Em segundo lugar, n√£o h√° e n√£o haver√° Samsung, Sony, Elge e outras TVs suportando essa tecnologia no mercado, pois ela foi patenteada pela Philips por muitos anos.  E finalmente - todas as solu√ß√µes "prontas para uso" dispon√≠veis em Ali e outras como ele t√™m v√°rias limita√ß√µes na flexibilidade de configura√ß√µes e adapta√ß√£o ao tamanho do quadro do conte√∫do de v√≠deo, ajustes na gama de cores, etc., sendo apenas uma muleta de hardware analisando um sinal externo e trabalhando apenas na forma√ß√£o da luz de fundo. <br><a name="habracut"></a><br><h4>  Op√ß√£o de captura de quadro "Hardware" </h4><br>  Se voc√™ n√£o falar sobre op√ß√µes te√≥ricas para refinamento e moderniza√ß√£o do pr√≥prio receptor de televis√£o, dever√° concordar com o fato de que, em qualquer caso, ser√° necess√°rio processar o sinal HDMI - ou seja,  Ser√° usado para an√°lise de quadros e luz de fundo.  Aqui, apenas duas op√ß√µes de implementa√ß√£o se sugerem: com processamento de sinal de qualquer fonte (como lightpacks with ali) e com a implementa√ß√£o da pr√≥pria fonte na forma de um decodificador de TV com luz de fundo adapt√°vel. <br><br>  No primeiro caso, temos algum tipo de versatilidade - voc√™ pode conectar um console de jogos ou algum tipo de jogador ao dispositivo.  No segundo - coletamos esse mesmo "algum tipo de player" com uma fun√ß√£o de luz de fundo integrada.  Durante as experi√™ncias, implementei as duas op√ß√µes, mas aqui vou me concentrar apenas na segunda, e aqui est√° o porqu√™: <br><br><img src="https://habrastorage.org/webt/ke/9o/pk/ke9opk8wfmxy-breiickrsaoqsa.jpeg" alt="imagem"><br><br>  No diagrama de blocos da primeira variante, o sinal HDMI de qualquer fonte chega ao divisor, onde √© dividido em duas sa√≠das.  Desde o in√≠cio, o conte√∫do √© reproduzido em qualquer receptor ou monitor de TV.  A partir do segundo, o sinal entra simultaneamente no redimensionador de hardware, onde √© convertido em um sinal anal√≥gico com quadros de baixa resolu√ß√£o - 320x480.  O sinal anal√≥gico √© enviado para um dispositivo de captura USB de hardware, que captura ‚Äúscreenshots‚Äù de cada quadro e os transmite pela porta USB para a entrada de um mini PC de placa √∫nica - Raspberry Pi 3 B +.  O software de framboesas analisa quadros usando o programa Hyperion e, por meio de uma das sa√≠das GPIO, fornece seq√º√™ncias de controle para a entrada de uma fita de endere√ßo como WS2812B ou APA102.  Tudo isso funcionou bem, mas tem algumas desvantagens na forma de uma pilha de ferro com conex√µes e um pequeno atraso na emiss√£o de um sinal de luz de fundo.  O atraso foi percept√≠vel apenas em v√≠deos de teste com uma n√≠tida mudan√ßa de cores na maior parte do quadro.  Caso contr√°rio, n√£o haver√° reclama√ß√µes, exceto pelo custo de todo o ferro nesta implementa√ß√£o: <br><br>  Raspberry Pi 3 B + - cerca de US $ 55. <br>  Radiator Case - $ 14. <br>  Divisor HDMI 1080P ativo para 2 sa√≠das - US $ 15. <br>  HDMI 1080P para AV Scaler - US $ 15. <br>  EasyCap USB grabber - US $ 18. <br>  Fonte de alimenta√ß√£o - cerca de US $ 10. <br>  Cart√£o microSD de 32 GB - US $ 10. <br>  Conex√£o de cabos e outras pequenas coisas - cerca de US $ 10. <br>  Total, sem contar a fita de endere√ßo - quase US $ 150. <br><br>  N√£o √© que essa op√ß√£o v√° direto para o forno - pode ser √∫til para organizar a luz de fundo em algumas telas grandes pr√©-fabricadas em an√∫ncios ou apresenta√ß√µes, e o pre√ßo n√£o √© o pior para o resultado - mas para uso dom√©stico, decidi pela segunda op√ß√£o - em Principalmente "software".  Saiu mais f√°cil, mais barato, mais compacto e mais r√°pido.  Para uso comercial, tamb√©m pode ser bastante adequado - o Raspberry Pi com o player pode ser usado com sucesso em projetos nos quais voc√™ precisa reproduzir automaticamente algum conte√∫do de forma c√≠clica e cont√≠nua a partir do momento em que o liga, desliga o player novamente automaticamente - de acordo com a programa√ß√£o no final do dia.  Depois de escrever um pequeno script, obteremos um dispositivo de publicidade com a fun√ß√£o de ilumina√ß√£o de fundo adaptativa de qualquer tela, com pelo menos dez metros de altura.  Mas voltando ao uso dom√©stico ... <br><br><h4>  Frames de captura de op√ß√£o "Software" </h4><br>  As fun√ß√µes do controle do media center e da luz de fundo permanecer√£o atr√°s do mesmo Raspberry Pi 3 B +, e todas as conex√µes ser√£o reduzidas para conectar v√°rios conectores - alimenta√ß√£o, Internet, luz de fundo e HDMI √† TV.  N√£o mais do que qualquer outro decodificador: <br><br><img src="https://habrastorage.org/webt/kv/oi/fn/kvoifnkm8v3zyluhrtwicjwi2dy.jpeg" alt="imagem"><br><br>  Olhando para o futuro, quero observar que o Raspberry Pi 3 B + acabou sendo um centro de m√≠dia descodificador de TV completamente universal com todos os recursos necess√°rios de um dispositivo assim, al√©m de uma luz de fundo adapt√°vel e flex√≠vel para qualquer TV moderna (e n√£o t√£o) que tenha uma entrada HDMI. <br><br>  A base do software √© o sistema operacional Libreelec aberto, especialmente afiado para o player Kodi.  <a href="https://www.ixbt.com/live/redirect/aHR0cHM6Ly9saWJyZWVsZWMudHYv">O site do projeto</a> cont√©m todas as informa√ß√µes necess√°rias. <br><br>  Sobre os recursos de uma das plataformas mais poderosas e flex√≠veis para reproduzir conte√∫do de √°udio e v√≠deo, IPTV etc.  pode ser lido atrav√©s da pontua√ß√£o em qualquer mecanismo de pesquisa "descri√ß√£o das oportunidades kodi".  H√° muitas informa√ß√µes em russo sobre esse t√≥pico.  Eu uso, talvez, 1/10 de todos os recursos da plataforma e isso √© suficiente para mim.  A plataforma √© ativamente suportada, tem uma comunidade responsiva.  Portanto, lemos, estudamos - no wiki desses projetos e nos f√≥runs h√° quase todas as informa√ß√µes e respostas necess√°rias para as perguntas.  Tomamos o kit de distribui√ß√£o e as instru√ß√µes de instala√ß√£o e configura√ß√£o no site do projeto Libreelec.  Como o sistema operacional √© multiplataforma, n√£o se esque√ßa de que nosso projeto √© baseado no Raspberry. <br><br>  Violando uma tradi√ß√£o estranha, mas bem estabelecida, de iniciar essas publica√ß√µes com uma descri√ß√£o dos tipos de fitas de endere√ßo e de como desajeit√°-las nas paredes traseiras das TVs dom√©sticas, come√ßarei instalando e configurando o software de placa √∫nica.  Infelizmente, √© quase imposs√≠vel fazer instru√ß√µes passo a passo para a configura√ß√£o - levaria meia centena de p√°ginas de texto sem capturas de tela.  Al√©m disso, a plataforma do player est√° se desenvolvendo ativamente, as vers√µes do SO e do Kodi est√£o mudando, as informa√ß√µes atuais - logo deixa de ser assim.  Portanto, aqui est√£o apenas os pontos principais, al√©m de links para fontes de informa√ß√µes √∫teis. <br><br>  Para configurar a parte do software da luz de fundo, controlar o controle remoto IR e o pr√≥prio player, voc√™ precisa ter uma ideia inicial de como os diret√≥rios do Libreelec s√£o organizados, como a rede local funciona, o console, o que fazer com a linha de comando etc., pois faremos algumas coisas no processo √† m√£o.  Por meio dos instaladores no cart√£o microSD, apenas o Libreelec OS e o suplemento para destacar - Hyperion ser√£o instalados. <br><br>  Como o Raspberry Pi n√£o possui rel√≥gio em tempo real, BIOS e energia de backup, tudo o que √© necess√°rio para o trabalho est√° localizado no cart√£o microSD.  Para instalar o sistema operacional no cart√£o, voc√™ deve fazer o download do pacote <a href="https://www.ixbt.com/live/redirect/aHR0cHM6Ly93d3cucmFzcGJlcnJ5cGkub3JnL2Rvd25sb2Fkcy9ub29icy8%3D">NOOBS</a> no site do projeto Raspberry (no momento da instala√ß√£o, usei a vers√£o 3.2.1) ou uma ferramenta especial - <a href="https://www.ixbt.com/live/redirect/aHR0cHM6Ly9saWJyZWVsZWMudHYvZG93bmxvYWRzX25ldy8%3D">‚ÄúLibreELEC USB-SD Creator‚Äù</a> . <br><br>  O cart√£o de mem√≥ria deve ter boas velocidades de leitura e grava√ß√£o - ou seja, ter pelo menos a nota 10.  Em termos de volume, o Libreelec OS ocupa pouco espa√ßo, cart√µes de 16GB ser√£o suficientes para o trabalho, se n√£o houver desejo de comprar uma quantidade maior.  Pode ser usado para armazenar qualquer conte√∫do. <br><br>  No caso do NOOBS, o conte√∫do do arquivo zip √© descompactado na raiz de um cart√£o microSD formatado em FAT32, o cart√£o √© inserido no slot livre de raspberry, a alimenta√ß√£o √© ligada e, escolhendo o sistema operacional necess√°rio no instalador e seguindo as instru√ß√µes, implemente o Libreelec.  No entanto, os desenvolvedores da plataforma recomendam a instala√ß√£o usando o LibreELEC USB-SD Creator, que faz o download e grava o pacote de distribui√ß√£o no cart√£o; depois, o cart√£o tamb√©m √© inserido no slot raspberry, onde o instalador implementa o sistema operacional ap√≥s ligar a energia.  Nesse caso, as se√ß√µes do cart√£o s√£o reformatadas e, ap√≥s o Windows, voc√™ n√£o ver√° todo o volume real da m√≠dia.  Se, por qualquer motivo, voc√™ precisar retornar as parti√ß√µes ao seu estado inicial, primeiro ser√° necess√°rio limpar a placa com o utilit√°rio padr√£o do Windows - DiskPart; em seguida, na se√ß√£o "Gerenciamento de Disco", crie uma nova parti√ß√£o no espa√ßo livre da m√≠dia e formate-a. <br><br>  Para simplificar a instala√ß√£o e a configura√ß√£o do sistema operacional, conectei temporariamente um monitor e teclado separados com um mouse nas framboesas. <br><br>  Al√©m disso, para configurar e configurar o software raspberry, voc√™ precisar√° da conex√£o com um PC e acesso √† Internet, de prefer√™ncia com fio.  O software instalado no PC para conex√£o via SSH - PuTTY e WinSCP, bem como a m√°quina virtual Java (jre-8u231-windows-x64) e o configurador de daemon Hyperion - HyperCon (HyperCon.jar).  Voc√™ pode usar outro gerenciador de arquivos conveniente com pain√©is, por exemplo - Total Commander.  Onde baixar e configurar - muitas informa√ß√µes em sites especializados, basta procurar informa√ß√µes com a consulta de pesquisa "trabalhe com PUttY e WinSCP".  O projeto <a href="https://www.ixbt.com/live/redirect/aHR0cHM6Ly9oeXBlcmlvbi1wcm9qZWN0Lm9yZy8%3D">Hyperion</a> tamb√©m possui seu pr√≥prio f√≥rum e wiki. <br>  Nesta captura de tela, existem tr√™s maneiras de conectar as framboesas a um PC com vit√≥ria via SSH - por meio do console Putty, do gerenciador de arquivos WinSCP e do Total Commander: <br><br><img src="https://habrastorage.org/webt/zf/1z/tr/zf1ztr1lhtkmv2zk7puaho32j70.jpeg" alt="imagem"><br><br>  A conta de administrador da Librelec possui um nome de usu√°rio e senha root @ libreelec por padr√£o, que s√£o melhor alterados por raz√µes de seguran√ßa.  Ap√≥s uma instala√ß√£o bem-sucedida nas configura√ß√µes do sistema, realizamos a√ß√µes simples - habilitamos SSH, SMB, atribu√≠mos um IP est√°tico, desabilitamos as atualiza√ß√µes: <br><br><img src="https://habrastorage.org/webt/20/t4/mb/20t4mbajewvx41ryqyhpr0qbur0.jpeg" alt="imagem"><br><br>  Sup√µe-se que as framboesas estejam conectadas √† sua rede dom√©stica e voc√™ pode descobrir o endere√ßo IP dos dispositivos conectados a ela no seu PC dom√©stico.  Desativei as atualiza√ß√µes para que o sistema de luz de fundo adapt√°vel, uma vez ajustado, n√£o travasse se o desenvolvedor alterar quaisquer componentes relacionados a ele no Libreelec. <br><br>  Nas configura√ß√µes do sistema nos servi√ßos, voc√™ precisa habilitar o SSH e habilitar a autentica√ß√£o por senha, tamb√©m defina a vers√£o m√≠nima do protocolo SMB2, a m√°xima - SMB3.  Voc√™ precisar√° do SMB para ver os diret√≥rios do Raspberry Pi e as unidades flash conectadas a ele no PC: <br><br><img src="https://habrastorage.org/webt/i_/pw/uv/i_pwuvdqiel5pcmrd0ghzegbwj8.jpeg" alt="imagem"><br><br>  No Windows 10, no PC, nas configura√ß√µes, voc√™ ter√° que encontrar e ativar o suporte SMB, pois ele est√° desativado por padr√£o: <br><br><img src="https://habrastorage.org/webt/1x/ag/ba/1xagbapzp3y9_sgc7pev46llrwi.jpeg" alt="imagem"><br><br>  Tamb√©m procuramos e adicionamos o layout do teclado russo nas configura√ß√µes.  Nada acontecer√° com o teclado f√≠sico - s√≥ haver√° entrada em ingl√™s, mas no teclado virtual na tela ser√° poss√≠vel inserir texto em russo.  Para acesso conveniente aos diret√≥rios no cart√£o microSD e nas unidades flash conectadas √†s framboesas, voc√™ pode criar e colocar um atalho com o endere√ßo do diret√≥rio remoto na barra de ferramentas no Total Commander: <br><br><img src="https://habrastorage.org/webt/hb/9d/gi/hb9dgixgtpsa8ojxy7yo4wmfzno.jpeg" alt="imagem"><br><br>  Os arquivos na rede local ser√£o transferidos a uma velocidade limitada pela largura de banda do seu roteador dom√©stico e muito mais rapidamente do que no acesso via SSH.  De qualquer forma, copiar um filme ou m√∫sica dessa maneira ser√° mais conveniente do que transportar uma unidade flash USB de um decodificador para um PC.  Voc√™ ver√° a estrutura interna de diret√≥rios em / storage no cart√£o raspberry e nas unidades conectadas √†s portas USB.  Com uma conex√£o com fio, tenho 100 Mbps.  atrav√©s do roteador, a velocidade m√°xima de download de arquivos de um PC para uma unidade USB em framboesas era de cerca de 12 MB / s, o que corresponde aproximadamente √† largura de banda da minha conex√£o com fio. <br><br>  Se necess√°rio, no futuro, voc√™ poder√° implantar no seu PC qualquer servidor de m√≠dia dom√©stico (UPnP, DLNA) para transmitir conte√∫do diretamente do seu PC. <br><br>  Ap√≥s instalar e configurar o acesso √†s framboesas a partir de um PC via SSH usando os programas PUttY e WinSCP, voc√™ pode prosseguir para instalar e configurar o daemon Hyperion.  Deve haver uma m√°quina virtual Java no PC. <br><br>  Tudo funcionar√° dessa maneira - no in√≠cio do Raspberry, um programa especial, o Hyperion, ser√° lan√ßado em segundo plano com o Kodi em segundo plano.  Ela analisar√° todos os quadros de v√≠deo e, dependendo das configura√ß√µes gravadas no arquivo de configura√ß√£o - gerenciar√° a fita de endere√ßo atrav√©s de uma das sa√≠das GPIO da framboesa.  Ou seja, ap√≥s as configura√ß√µes, tudo funcionar√° de forma aut√¥noma, nenhuma comunica√ß√£o ou intera√ß√£o com o PC √© necess√°ria.  Mas, para criar rapidamente um arquivo de configura√ß√£o e instalar o Hyperion em framboesas, existe um configurador conveniente que √© executado em um PC.  Este programa ajudar√° voc√™ a criar rapidamente um arquivo de configura√ß√£o para o daemon funcionar, fazer o download e instalar no Raspberry e verificar a funcionalidade do sistema usando uma interface gr√°fica conveniente. <br><br><h4>  Hypercon </h4><br>  O configurador √© chamado HyperCon, n√£o requer instala√ß√£o, basta executar o arquivo execut√°vel HyperCon.jar no PC e ver esta janela: <br><br><img src="https://habrastorage.org/webt/v0/qi/zx/v0qizxsds5ngp1pbclq8tf8waeq.jpeg" alt="imagem"><br><br>  No lado direito, h√° uma tela virtual para a qual a luz de fundo ser√° configurada - zonas de captura de cores, sua numera√ß√£o (come√ßa em 0), dire√ß√£o, local, recuo, sobreposi√ß√£o e profundidade.  Na parte esquerda, existem cinco guias com configura√ß√µes. <br><br>  <b>Resumidamente, nas guias do configurador:</b> <br><br>  <b>Ferragens (ferro)</b> <br><br><ul><li>  device -&gt; Configuration Name - qualquer nome conveniente para a configura√ß√£o atual </li><li>  device -&gt; Type - tipo de chip da fita de endere√ßo, m√≥dulo ou outra coisa </li><li>  device -&gt; Amount LEDs - n√∫mero de pixels endere√ß√°veis ‚Äã‚Äã(quantos LEDs est√£o na fita) </li><li>  device -&gt; RGB Byte order - as seguintes cores no protocolo usado </li></ul><br>  <b>Constru√ß√£o (disposi√ß√£o das fontes de luz)</b> <br><br><ul><li>  caixas de sele√ß√£o -&gt; (led superior esquerdo, etc.) - a presen√ßa de uma fonte de luz nos cantos da estrutura </li><li>  LEDs horizontais -&gt; N√∫mero de pixels na parte superior da estrutura </li><li>  LEDs Esquerdo-&gt; Pix√©is Esquerdos </li><li>  LEDs √† direita -&gt; O n√∫mero de pixels na borda direita do design </li><li>  Lacuna inferior -&gt; O n√∫mero de zonas ignoradas ao longo da parte inferior da estrutura (para ignorar a perna da TV ou toda a zona inferior) </li><li>  1¬∫ deslocamento do LED -&gt; Corre√ß√£o do deslocamento do pixel para definir o primeiro em um canto conveniente. </li></ul><br>  <b>Processo de imagem</b> <br><br><ul><li>  Processo de imagem -&gt; Profundidade horizontal - profundidade da zona horizontal,% </li><li>  Processo de imagem -&gt; Profundidade vertical - profundidade da zona vertical,% </li><li>  Processo de imagem -&gt; Abertura horizontal - recue as zonas da borda horizontalmente,% </li><li>  Processo de imagem -&gt; Abertura vertical - recuar zonas da borda verticalmente,% </li><li>  Processo de imagem -&gt; Sobreposi√ß√£o - sobreposi√ß√£o de zonas vizinhas,% </li></ul><br>  Detec√ß√£o de borda preta - Sensibilidade e modo de processamento.  Funciona em teoria como esta - o dem√¥nio analisa as bordas da tela no n√≠vel especificado e calcula a largura das bordas escuras a serem exclu√≠das das zonas processadas.  Isso ocorre nos casos em que uma imagem widescreen √© reproduzida. <br><br>  <b>Processo (processamento de quadros)</b> <br><br><ul><li>  Suaviza√ß√£o -&gt; Ativado (caixa de sele√ß√£o para ativar o anti-aliasing) </li><li>  Suaviza√ß√£o -&gt; Tipo </li><li>  Suaviza√ß√£o -&gt; Tempo </li><li>  Suaviza√ß√£o -&gt; Freq de atualiza√ß√£o (taxa de atualiza√ß√£o) </li><li>  Suaviza√ß√£o -&gt; Atualizar atraso (atraso antes de atualizar o quadro) </li><li>  Calibra√ß√£o de cores - itens intuitivos que permitem definir o n√≠vel m√≠nimo e m√°ximo de brilho, satura√ß√£o, temperatura, n√≠vel de brilho de fundo sem sinal, separadamente para cada uma das tr√™s cores prim√°rias. </li></ul><br>  A caixa de sele√ß√£o marcada Enviar cont√≠nuo permite que voc√™ veja altera√ß√µes no processo de configura√ß√£o j√° na estrutura montada. <br><br>  <b>Grabber (Grabber - frame grabber, a guia mais interessante)</b> <br><br><ul><li>  Agarrador de quadro interno (Agarrador de software) </li><li>  Agarrador de quadro interno-&gt; Ativado </li><li>  Agarre interno do quadro-&gt; Largura </li><li>  Agarre interno do quadro-&gt; altura (altura da zona) </li><li>  Agarrador de quadro interno-&gt; Intervalo </li><li>  Agarrador de quadro interno-&gt; Canal priorit√°rio (prioridade deste canal) </li></ul><br>  Alguns esclarecimentos s√£o necess√°rios aqui.  O truque √© que estamos criando um media player baseado no Raspberry Pi, que reproduzir√° conte√∫do de uma rede local, unidade flash ou TV IP na plataforma LibreElec.  Como o conte√∫do j√° est√° girando com o raspberry player, a captura ocorrer√° programaticamente, sem um EasyCap externo, e o daemon lidar√° com os pr√≥prios quadros, pois nesse caso a fonte de sinal ser√° a sa√≠da HDMI do pr√≥prio Raspberry Pi.  √â poss√≠vel usar o mesmo grabber externo para outra fonte sem desconectar as prioridades internas de um canal, para isso, este √© o √∫ltimo item a configurar o grabber de software.  Quanto maior o n√∫mero, menor a prioridade do canal. <br><br>  Exatamente, n√£o h√° erro. <br><br><ul><li>  Grabber V4L2 (Configura√ß√µes do driver do Grabber de hardware)) </li><li>  Grabber V4L -&gt; Device (dispositivo USB a partir do qual a captura √© feita - / dev / video0 por padr√£o) </li><li>  Grabber V4L -&gt; Input (a entrada usada √© 0 por padr√£o) </li><li>  Grabber V4L -&gt; Largura (largura da zona - -1 por padr√£o) </li><li>  Grabber V4L -&gt; Heigth (altura da zona - -1 por padr√£o) </li><li>  Grabber V4L -&gt; dizima√ß√£o de quadros </li><li>  Grabber V4L -&gt; dizima√ß√£o de tamanho (taxa de compress√£o) </li><li>  Grabber V4L -&gt; Canal priorit√°rio (prioridade deste canal) </li><li>  Grabber V4L -&gt; modo 3D (sele√ß√£o do modo 2D / 3D) </li><li>  Grabber V4L -&gt; Cortar √† esquerda (cortar √† esquerda) </li><li>  Grabber V4L -&gt; Cortar √† direita (cortar √† direita) </li><li>  Grabber V4L -&gt; Parte superior da colheita (parte superior da colheita) </li><li>  Grabber V4L -&gt; Crop Bottom (corta o quadro inferior) </li><li>  Grabber V4L -&gt; os tr√™s √∫ltimos pontos (limite para ativar os canais por cor) </li></ul><br>  <b>Externo</b> <br><br><ul><li>  Externo -&gt; Kodi Checker (configura√ß√µes para o Kodi player, se ele for usado como jogador. As caixas de sele√ß√£o selecionadas desligam a luz de fundo ao executar as fun√ß√µes especificadas do player. Voc√™ pode configurar a luz de fundo para funcionar apenas durante a reprodu√ß√£o de conte√∫do e desativar em todos os outros casos ) </li><li>  Externo -&gt; Json / Proto / Boblight Server (configura√ß√µes da porta do servidor, deixe como na tela) </li><li>  Externo -&gt; Efeito Boote / Cor est√°tica (configura√ß√µes do efeito Demo ao iniciar o daemon) </li><li>  Externo -&gt; Json / Proto Forvard (configura√ß√µes da porta de sa√≠da, deixe como na tela) </li></ul><br>  <b>SSH (Configura√ß√µes de conex√£o do PC com Raspberry Pi)</b> <br><ul><li>  SSH - Conex√£o -&gt; Sistema (Escolhendo o sistema operacional instalado no Raspberry Pi) </li><li>  SSH - Conex√£o -&gt; IP de destino (endere√ßo IP do Raspberry Pi) </li><li>  SSH - Conex√£o -&gt; Porta (como na captura de tela - (22)) </li><li>  SSH - Conex√£o -&gt; Nome de usu√°rio / senha (nome - senha definida no Raspberry Pi) </li><li>  SSH - Conex√£o -&gt; Conectar / Desconectar (bot√£o conectar-desconectar com Raspberry Pi) </li><li>  SSH - Conex√£o -&gt; Mostrar tr√°fego (bot√£o para chamar o console com sa√≠da de informa√ß√µes) </li><li>  SSH - Gerenciar Hyperion a partir do HyperCon -&gt; Inst / Upd.  Hyperion (Bot√£o para instalar o daemon no Raspberry Pi ou atualizar o daemon pela rede. Nenhum sudo get-install, conecte-se ao Raspberry Pi, remova e aguarde a sa√≠da no console HyperCon) </li><li>  SSH - Gerenciar Hyperion no HyperCon -&gt; Remover Hyperion (bot√£o de desinstala√ß√£o do Daemon) </li><li>  SSH - Gerenciar Hyperion a partir do HyperCon -&gt; Iniciar / Parar (bot√µes de in√≠cio e parada do Daemon) </li><li>  SSH - Gerenciar Hyperion a partir do HyperCon -&gt; Obter Log (Sa√≠da para os logs do console do daemon, conveniente para </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> procure por nenhum encaixe e leitura de c√≥digos de erro) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SSH - Enviar Configura√ß√£o Hyperion -&gt; Caminho de Configura√ß√£o Local (Envie o arquivo de configura√ß√£o para o local local especificado no PC) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SSH - Enviar configura√ß√£o Hyperion -&gt; Enviar configura√ß√£o (Enviar arquivo de configura√ß√£o via SSH para Raspberry Pi) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SSH - Colorpicker (testador de paleta intuitivo - voc√™ pode verificar a sa√≠da de todas as cores). </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Os bot√µes nas guias salvam - carregam as configura√ß√µes do HyperCon (n√£o o pr√≥prio arquivo de configura√ß√£o do daemon !!) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> AJUDA √© compreens√≠vel, e Criar Configura√ß√£o do Hyperion permite salvar localmente o arquivo de configura√ß√£o do daemon para o pr√≥prio Raspberry Pi - hyperion.config.json </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como voc√™ pode ver na lista acima, existem v√°rias op√ß√µes de personaliza√ß√£o, o que torna a ferramenta muito flex√≠vel para qualquer lista de desejos e tarefas. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como exemplo, minha configura√ß√£o de guia:</font></font></b> <br><br><img src="https://habrastorage.org/webt/-z/qg/7g/-zqg7gpc15imlq10asidggqma9q.jpeg" alt="imagem"><br><br><img src="https://habrastorage.org/webt/9a/xv/i6/9axvi6bpicrucblyzxu8b-qhntm.jpeg" alt="imagem"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Na primeira guia, organizamos as zonas da mesma maneira que os pixels da luz de fundo na parte traseira da TV ser√£o localizados fisicamente. Voc√™ pode preencher todo o per√≠metro ou parte dele, definir a dire√ß√£o, o in√≠cio etc. O tipo de fita que usei √© o WS2812B; portanto, na captura de tela, o campo correspondente √© selecionado como WS281x. O n√∫mero de pixels determinou a densidade dos LEDs na fita dispon√≠vel e a diagonal da tela. As guias restantes s√£o como descritas acima e, na mais recente, selecionamos nosso sistema operacional no Raspberry Pi, configuramos a comunica√ß√£o via SSH e instalamos o daemon Hyperion em uma √∫nica placa. Em seguida, salvamos a configura√ß√£o do HyperCon, criamos um novo arquivo de configura√ß√£o do Hyperion, enviamos a configura√ß√£o criada para o Raspberry Pi, iniciamos e tentamos o ColorPicker para verificar se as cores correspondem √† paleta. Se tudo corresponder,qualquer conte√∫do reproduzido pelo Kodi player controlar√° a luz de fundo. Sa√≠da de sinal GPIO - 18 (pino f√≠sico do pente - 12).</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os detalhes de todas as conex√µes ser√£o descritos abaixo, ap√≥s uma descri√ß√£o de todas as configura√ß√µes do programa. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√£o configurei a inicializa√ß√£o, o daemon √© iniciado ao mesmo tempo em que o player √© iniciado. No entanto, foi para que a luz de fundo ainda n√£o se acendesse. Em seguida, tentamos verificar se a inicializa√ß√£o autom√°tica do daemon est√° registrada em "/storage/.config/ autostart.sh" e tentamos reinstalar o daemon para enviar sua configura√ß√£o novamente para o Raspberry Pi. O pr√≥prio programa envia a configura√ß√£o para o diret√≥rio </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Raspberry Pi - </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Äú/storage/.config/ hyperion.config.json‚Äù. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voc√™ tamb√©m pode verificar a opera√ß√£o do daemon enviando uma cor na guia SSH HyperCon, marcando a caixa de sele√ß√£o "Autoupdate" e clicando no bot√£o stop-start para reinici√°-lo. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se o daemon n√£o iniciar ap√≥s reiniciar o Raspberry Pi, tente alterar a inicializa√ß√£o autom√°tica no arquivo</font></font><br><br><pre><code class="plaintext hljs">/storage/.config/autostart.sh //--------------------------------------------------------------------------------------------------------------- #!/bin/sh sleep 5 /storage/hyperion/bin/hyperiond.sh /storage/.config/hyperion.config.json &gt; /storage/logfiles/hyperion.log 2&gt;&amp;1 //---------------------------------------------------------------------------------------------------------------</code> </pre> <br>  atrasando assim a execu√ß√£o do daemon. <br><br><h4>  Controle remoto por qualquer controle remoto IR </h4><br>  Como, al√©m da luz de fundo, o prefixo ser√° um centro de m√≠dia completo - √© necess√°rio fixar e configurar o controle remoto.  Se a sua TV suportar a tecnologia CEC (Consumer Electronics Control, ou seja, protocolo de controle HDMI), a Kodi poder√° configurar e usar o controle remoto da TV que j√° est√° dispon√≠vel com a TV para controlar o decodificador.Todos os fabricantes chamam esse protocolo de maneira diferente em suas TVs , (por exemplo, LG - SimpLink, Samsung - Anynet, Sony - BRAVIA Sync), procure suporte para essa fun√ß√£o nas configura√ß√µes da sua TV. Eu n√£o tenho um controle remoto muito bom para a TV, por isso fui para o outro lado - peguei o que estava com o antigo Decodificador de TV no Android (enquanto outros controles remotos solicitados para este projeto s√£o provenientes da China): <br><br><img src="https://habrastorage.org/webt/ss/ey/-r/ssey-rwucyrk5mpufui4mhnq4uo.jpeg" alt="imagem"><br><br>  No pente Raspberry, voc√™ precisar√° de pinos de + 5V, terra e sinal no GPIO23 (pino f√≠sico - 16), j√° que o GPIO18 (pino f√≠sico - 12), configurado para dispositivos de infravermelho por padr√£o - j√° est√° ocupado enviando pacotes para a luz de fundo. <br><br>  <b>Processo:</b> <br><br>  Para conectar o driver do receptor de infravermelho, edite o arquivo /flash/config.txt, no final do qual escrevemos a linha (aqui e abaixo sem aspas): <br>  "Dtoverlay = gpio-ir, gpio_pin = 23" <br><br>  Depois de conectar o receptor de infravermelho √†s framboesas, voc√™ precisa obter os c√≥digos de verifica√ß√£o dos bot√µes do controle remoto necess√°rios e vincular os comandos a eles.  Ap√≥s determinar o tipo de protocolo no console com o comando ir-keytable, anexamos os c√≥digos de varredura aos comandos recebidos no console usando <br>  ¬´Irrecord -l |  grep ^ KEY ", fa√ßa manualmente os mapeamentos e crie uma tabela desse tipo: <br>  mesa ireltex, tipo: NEC <br><br><pre> <code class="plaintext hljs">0x8f64d KEY_0 0x8f642 KEY_1 0x8f641 KEY_2 0x8f640 KEY_3 0x8f646 KEY_4</code> </pre> <br>  E assim - todos os bot√µes e comandos que precisamos.  Eu tenho 34 linhas de partidas.  A primeira linha √© o nome da tabela e o protocolo do controle remoto.  As seguintes linhas s√£o o c√≥digo de verifica√ß√£o do bot√£o √† esquerda.  √Ä direita, separado por um espa√ßo, est√° o comando de controle Kodi.  E assim por diante, em ordem. <br><br>  A mesa deve ser mantida.  Para fazer isso, um arquivo √© criado (eu chamei de ireltex) a partir do qual essas liga√ß√µes ser√£o lidas.  O arquivo deve ser colocado na pasta ‚Äú/storage/.config/rc_keymaps/ireltex‚Äù e, em seguida, crie o arquivo <br>  "/Storage/.config/rc_maps.cfg", escrevemos a linha: <br>  "* * Ireltex" (ess-mas tudo sem aspas). <br><br>  Por meio do console Putty, carregue a tabela resultante no driver: <br>  "Ir-keytable -c -w /storage/.config/rc_keymaps/ireltex", reinicie o Raspberry Pi e altere a √∫ltima linha do arquivo <br>  "/Flash/config.txt" <br>  Agora fica assim: <br>  "Dtoverlay = gpio-ir, gpio_pin = 23, nome-do-mapa-rc = ireltex" <br>  Para arquivar <br>  ‚Äú/Storage/.config/autostart.sh‚Äù, voc√™ precisa adicionar o carregamento autom√°tico do protocolo de controle remoto para que o registro fique assim (para o meu controle remoto e seu protocolo): <br><br><pre> <code class="plaintext hljs">#!/bin/sh ( sleep 5 ir-keytable -p nec )&amp; sleep 5 /storage/hyperion/bin/hyperiond.sh /storage/.config/hyperion.config.json &gt; /storage/logfiles/hyperion.log 2&gt;&amp;1 &amp;</code> </pre> <br>  Eu reinicio o Raspberry Pi novamente e agora o Kodi responde aos comandos do controle remoto. <br>  Todo o processo de instala√ß√£o com exemplos no original √© descrito em mais detalhes <a href="https://libreelec.wiki/infrared_remotes">aqui</a> . <br><br>  Voc√™ tamb√©m pode digitar no mecanismo de pesquisa a consulta ‚ÄúLibreElec + IR Remote‚Äù e obter v√°rios artigos sobre este t√≥pico em russo. <br><br>  Se voc√™ desligar a sa√≠da do receptor de infravermelho, exceto o GPIO 23, e tamb√©m a entrada GPIO3 - o Raspberry Pi ser√° ativado por comando no controle remoto.  A desvantagem deste m√©todo de controle √© que o sinal de ativa√ß√£o ser√° recebido por qualquer pessoa de qualquer controle remoto IR, mas n√£o encontrei outras maneiras de ativar remotamente as framboesas.  Portanto, voc√™ precisa criar um detector adicional que execute um comando e transmita apenas esse sinal para a entrada GPIO3 Raspberry Pi. <br><br>  Para evitar milagres com oscila√ß√µes espont√¢neas aleat√≥rias de pixels, o terra da fita, al√©m do pino GND GPIO, deve ser conectado diretamente ao terminal negativo da fonte de alimenta√ß√£o externa com um fio correspondente √† se√ß√£o transversal atual e o fio de sinal D-IN deve ter um comprimento m√≠nimo. <br><br>  Deve-se lembrar que diferentes receptores de infravermelho podem ter tens√µes de alimenta√ß√£o diferentes (3,3 ou 5V) e atribui√ß√µes de pinos.  Para n√£o danificar o receptor ou as portas Raspberry Pi, a conex√£o deve ser feita de acordo com a documenta√ß√£o do receptor usado! <br>  <b>Como resultado, at√© agora todas as conex√µes nos pinos do GPIO Raspberry Pi s√£o assim:</b> <br><br><img src="https://habrastorage.org/webt/kp/za/pg/kpzapg9cddh4qk2uyl_eut2qiqe.jpeg" alt="imagem"><br><br><h4>  Inclus√£o correta do Raspberry Pi com controle remoto IR </h4><br>  Agora voc√™ precisa fazer exatamente a inclus√£o "correta" do Raspberry Pi no bot√£o atribu√≠do no controle remoto IR.  Agora, o dispositivo inicializa quando qualquer sinal chega ao pino GPIO3 (quinto pino f√≠sico) e, como o receptor n√£o se importa com o que receber nessa faixa de infravermelho, o download vem de um sinal de qualquer controle remoto, √†s vezes mesmo quando as luzes est√£o acesas na sala, o que n√£o √© conveniente. .  Para resolver esse problema, entre o GPIO3 e o pino de sinal do receptor de infravermelho, voc√™ precisa de um intermedi√°rio que decodifique o sinal e, somente se o comando corresponder ao atribu√≠do anteriormente, ligue o Raspberry Pi.  Al√©m disso, voc√™ precisa poder usar diferentes controles remotos ou os bot√µes de um controle remoto.  Claro, voc√™ pode escrever o firmware para qualquer ATiny no valor de meio d√≥lar e tudo funcionar√° bem, mas como estamos falando de um construtor repetitivo e simples, √© muito mais f√°cil usar o controlador relativamente barato e compacto - Arduino Nano.  A placa trabalha constantemente no modo de espera, monitorando todos os sinais recebidos de qualquer fonte de IR.  E somente ao decodificar um dos sinais predefinidos - d√™ um comando para ativar o Raspberry Pi.  O controlador tamb√©m fornecer√° um piscar simples se voc√™ precisar alterar o controle remoto para o Raspberry Pi. <br><br>  O Arduino Nano ser√° alimentado de maneira n√£o padr√£o - do pino + 5V GPIO RPi - ao pino + 5V do Arduino.  N√£o h√° nada de errado com essa liga√ß√£o - no lado USB, a placa Arduino ter√° uma entrada estabilizadora interna, no lado do pino Vin, o c√°todo do diodo Schottky.  Nenhuma carga diferente do receptor IR n√£o ser√° conectada aos pinos nano do Arduino. <br><br>  A tabela de conex√£o Arduino-Raspberry ser√° assim: sa√≠da f√≠sica do Raspberri Pi 3 B + / sa√≠da f√≠sica do Arduino Nano <br>  4 (+ 5v) / + 5V <br>  6 (GND) / GND <br>  5 (GPIO3) / D8 <br>  Al√©m disso, o receptor IR se conectar√° aos pinos de energia na placa Arduino - (GND, + 5V ou 3,3V) e o sinal de sa√≠da atrav√©s dos resistores 100R para o pino D7 Arduino e atrav√©s do 510R para o pino 16 (GPIO23) do Raspberry Pi.  Assim, o receptor de infravermelho transmitir√° diretamente todos os comandos para a entrada GPIO23, e um ou dois pulsos curtos aparecer√£o no GPIO3 somente ap√≥s o recebimento dos comandos predefinidos no esbo√ßo. <br><br>  <b>Diagrama de conex√£o do receptor IR, Arduino nano e fita de endere√ßo para o Raspberry Pi:</b> <br><br><img src="https://habrastorage.org/webt/vp/5s/pw/vp5spwaetjtos-vxrzn3qjvxqhg.jpeg" alt="imagem"><br><br>  O jumper superior ‚Äú5V External‚Äù permite que o Arduino e o Raspberry sejam alimentados por uma fonte de energia externa, juntamente com a luz de fundo do conector XS1 ‚ÄúPower‚Äù, se, por exemplo, o n√∫mero de pixels for pequeno e n√£o criar uma carga grande.  Pelo jumper inferior de acordo com o esquema, a tens√£o do receptor de infravermelho pode ser selecionada - 3,3 ou 5V.  O dispositivo ser√° projetado como uma blindagem externa conectada ao conector GPIO, na qual a placa nano Arduino, o receptor de IR e todos os conectores est√£o conectados. <br><br>  Para verificar, basta ler e inserir no esbo√ßo os c√≥digos de qualquer bot√£o, por exemplo "OK" ou "ENTER", de qualquer controle remoto.  Voc√™ tamb√©m pode criar uma variedade de comandos para iniciar o console pressionando qualquer um de um grupo espec√≠fico de bot√µes ou uma sequ√™ncia de teclas.  O esbo√ßo usa a biblioteca iarduino_IR-master, cujo arquivo pode ser facilmente encontrado na Internet.  Existem exemplos de rascunhos no arquivo da biblioteca, usando um deles, por exemplo receiver_GetProtokolAll, voc√™ pode obter c√≥digos de comando para qualquer bot√£o no controle remoto.  Posteriormente, esses c√≥digos precisam ser escritos no esbo√ßo derramado no Arduino Nano: <br><br><pre> <code class="plaintext hljs">//******************************************************************************* #include &lt;iarduino_IR_RX.h&gt; //      - iarduino_IR_RX IR(7); //   IR,       - const int Out_GPOI_3 = 8; //     GPIO RPi uint32_t Code_001 = 0xFF708F; // RX code    uint32_t Code_002 = 0x106FA857; void setup() { pinMode(Out_GPOI_3, OUTPUT); //        9600 / Serial.begin(9600); IR.begin(); //    - } void loop() { if(IR.check()) //         { //     ,   if(IR.data == Code_001 or IR.data == Code_002) { digitalWrite(Out_GPOI_3, HIGH); //    RPi delay(5); digitalWrite(Out_GPOI_3, LOW); //      delay(5); digitalWrite(Out_GPOI_3, HIGH); //    RPi delay(5); digitalWrite(Out_GPOI_3, LOW); //      delay(5); } } } //*******************************************************************************</code> </pre><br>  Como a biblioteca iarduino_IR-master usa o mesmo timer de algumas fun√ß√µes padr√£o de "fia√ß√£o" do ambiente Arduino, n√£o √© poss√≠vel usar micros (), millis (), tone () e possivelmente alguns outros neste esbo√ßo; caso contr√°rio, uma tentativa de compilar levar√° a um erro indistinto.  Apesar dessa abordagem dos autores para escrever c√≥digo, a biblioteca executa regularmente suas fun√ß√µes e define claramente as mensagens de IR, seus hor√°rios, estrutura e protocolos utilizados e a capacidade de ler rapidamente os c√≥digos de comandos de qualquer console reduz sua configura√ß√£o a uma simples substitui√ß√£o de vari√°veis ‚Äã‚Äãno esbo√ßo. <br><br>  Toda a superestrutura foi projetada como um escudo, para o qual as seguintes placas de f√°brica foram desenhadas e encomendadas na China: <br><br><img src="https://habrastorage.org/webt/14/t2/no/14t2noezfi1ifwtddtytirdv4_q.jpeg" alt="imagem"><br><br>  Essa blindagem conecta uma placa nano do Arduino, um conector para uma fonte de alimenta√ß√£o comum de 5V, um conector de luz de fundo de TV e a pr√≥pria blindagem est√° inclu√≠da no pente GPIO Raspberry Pi.  Depois de instalar todos os componentes, fica assim: <br><br><img src="https://habrastorage.org/webt/ei/g_/jg/eig_jgo2k6pfzip-9zqljflkh4y.jpeg" alt="imagem"><br><br><img src="https://habrastorage.org/webt/ot/xq/qm/otxqqmw_e6ldd9gfir1s-oua9go.jpeg" alt="imagem"><br><br>  Ele planejava arrumar uma cobertura transl√∫cida de acr√≠lico de canto nos furos previstos para prender as prateleiras - mas suas m√£os de alguma forma n√£o alcan√ßaram e a set-top box ainda n√£o est√° vis√≠vel ... <br><br>  Muito foi escrito em toda parte sobre a sele√ß√£o e a ader√™ncia da fita de endere√ßo, no entanto, tamb√©m tenho alguns coment√°rios sobre esse t√≥pico e instala√ß√£o. <br><br>  Primeiro sobre mitos. <br><br>  <i>"O WS2812 n√£o √© adequado para ilumina√ß√£o de fundo adapt√°vel; voc√™ precisa usar o SK9822 ou mesmo o APA102"</i> <br><br>  Eles justificam isso pelo fato de que a frequ√™ncia de transfer√™ncia de dados dos an√°logos do APA102 √© muito maior devido √† presen√ßa de uma linha de rel√≥gio, e os pr√≥prios LEDs t√™m uma gama de cores mais ampla e s√£o mais confi√°veis. <br><br>  Tudo isso √© verdade, mas se dividirmos a frequ√™ncia operacional do WS2812B pelo n√∫mero de pixels e 32 bits de informa√ß√£o para cada um deles, obteremos uma frequ√™ncia de atualiza√ß√£o de quase 300 Hz para meus 91 LEDs.  Isso √© v√°rias vezes maior que o limite necess√°rio.  E todos os casos ‚Äúflicker‚Äù e ‚Äúocioso‚Äù s√£o 146% devido √† curva da fia√ß√£o da terra e do fio de sinal. <br><br>  O esquema de cores √© semelhante - o Hyperion gera pacotes de 8 bits para cada cor em cada pixel.  De qualquer forma, s√£o apenas 256 grada√ß√µes de brilho de cada uma das tr√™s cores em qualquer fita.  A diferen√ßa de cores ser√° percept√≠vel apenas na calculadora na tela de um bom monitor, mas a diferen√ßa no brilho real em ¬± uma ou v√°rias grada√ß√µes que nossos olhos n√£o ver√£o em nenhum caso - essa √© a anatomia da nossa vis√£o e n√£o h√° nada que possamos fazer a respeito.  Al√©m disso, o configurador possui ferramentas para ajustar a gama de cores - se desejar, voc√™ pode obter cores brancas quase perfeitas quase com brilho m√°ximo.  Mas mesmo esses gestos provavelmente n√£o ser√£o necess√°rios - a luz de fundo cria apenas um fundo na parede atr√°s da TV e n√£o uma imagem na tela ... Ao analisar as zonas de captura, tanto a Hyperion quanto a Philips ocupam mais de um ponto espec√≠fico, mas a cor m√©dia de toda a √°rea especificada as sombras sempre ser√£o algo diferente daquelas que s√£o reproduzidas dinamicamente nas bordas da tela.  Dado tudo isso, n√£o faz sentido fotografar com um canh√£o em pardais, o que realmente confirma o design da luz de fundo nas TVs Phillips originais, onde apenas 37 pontos s√£o exibidos na diagonal de 50 polegadas e a largura das zonas √© de 5-6 cm. <br><br>  Outro mito - <i>"O WS2812B tem vida curta, um m√™s depois os pixels come√ßaram a falhar".</i> <br><br>  Naturalmente, eles come√ßar√£o.  E em qualquer fita.  Cada cor em cada LED 2812B com brilho total consome 18-20 mA.  Por exemplo, eu tenho 91 LEDs.  91X3X20 = ‚Äã‚Äã5.5A.  A efici√™ncia √© de cerca de 30 a 40%, o que significa que mais de tr√™s amperes entram no calor.  A √∫nica maneira eficaz de remover o calor dos substratos dos cristais s√£o as faixas de cobre da fita, que s√£o coladas a alguma superf√≠cie.  Conectado √† energia, mas a fita n√£o luminosa tamb√©m √© visivelmente quente - os pr√≥prios chips est√°ticos t√™m algum consumo de corrente.  A tampa traseira de pl√°stico da TV n√£o √© o melhor dissipador de calor para a opera√ß√£o a longo prazo da fita; portanto, √© melhor e mais correto usar um perfil de metal especial.  Al√©m disso, ele vem com um difusor de v√°rias profundidades, larguras e formas.  Voc√™ n√£o ver√° reflexos na forma de pontos coloridos nas superf√≠cies brilhantes do interior da sala, o que √†s vezes tamb√©m √© importante. <br><br><img src="https://habrastorage.org/webt/qz/oi/yz/qzoiyz8dnluqtmxs1mluj3drfgs.jpeg" alt="imagem"><br><br><img src="https://habrastorage.org/webt/tj/yu/ah/tjyuahucfrbsijm6atc2v8nlroe.jpeg" alt="imagem"><br><br>  Quando tudo estiver montado, conectado e verificado - resta configurar o KODI player de acordo com seu gosto e cor - instale todos os complementos necess√°rios, IPTV com programas e compartilhe conte√∫do do seu PC em casa. <br><br>  Se compararmos a luz de fundo com a vers√£o do hardware - a rea√ß√£o ao processamento de quadros me pareceu mais clara - n√£o h√° sensa√ß√£o de um pequeno atraso em uma fra√ß√£o de segundo.  A implementa√ß√£o em si me parece bastante vi√°vel - acabou sendo um construtor repetitivo simples montado com base no plug-in.  Se voc√™ cuidar da montagem da blindagem de comuta√ß√£o e salvar o sistema configurado como uma imagem, n√£o levar√° mais tempo para lan√ßar outro decodificador do que para qualquer caixa de TV "in a box" no android.  Se voc√™ tornar o receptor de infravermelho remoto - o dispositivo poder√° ser escondido atr√°s de uma TV com uma op√ß√£o de montagem na parede.  Se voc√™ tiver um sistema operacional configurado ou sua imagem, o sistema funcionar√° no modo completo na primeira vez que voc√™ o ligar. <br><br>  Para aqueles que assistem a canais de TV, √© necess√°rio mexer nas listas de IPTV pagas e de alta qualidade ou gratuitas e que n√£o funcionam, programas de TV para canais, complementos e configura√ß√µes de reprodutor, que, a prop√≥sito, t√™m a capacidade de alterar as capas, das quais, atualmente, existem muitas para qualquer o sabor.  Tudo √© suportado - exibindo clima, hora, protetores de tela, centenas de complementos e aplicativos diferentes.  Por exemplo, eu queria me livrar do menu n√£o retr√°til do OSD, chamado de rebobinar ou pausar.  Para isso, o complemento - Hide Video OSD - foi √≥timo.  Fa√ßa o download do arquivo zip, coloque-o em um local conveniente para as framboesas, selecione a instala√ß√£o do arquivo na interface do addon, configure-o, ative o addon nas configura√ß√µes, defina o tempo em segundos, ap√≥s o qual o OSD ser√° automaticamente removido da tela. <br><br>  Al√©m de outros chips, o Kodi possui uma interface da Web completa, atrav√©s da qual √© poss√≠vel definir configura√ß√µes, controlar o reprodutor e a biblioteca de m√≠dia do seu PC em casa. <br><br>  Publica√ß√µes sobre todos os recursos do player e como, por exemplo, aumentar um servidor de m√≠dia em um PC para Kodi, s√£o facilmente encontradas no RuNet.  Por conveni√™ncia, on√≠vora e outros par√¢metros, eu colocaria esse player em p√© de igualdade com projetos como o WinAmp e o MPC-HC. <br><br>  <b>Uma pequena demonstra√ß√£o em chinelos:</b> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/geosx4zqNRk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt486106/">https://habr.com/ru/post/pt486106/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt486070/index.html">A ACL muda em detalhes</a></li>
<li><a href="../pt486080/index.html">Deixe-me apresentar: Veeam Availability Suite v10</a></li>
<li><a href="../pt486084/index.html">Substituindo discos menores por discos maiores no Linux</a></li>
<li><a href="../pt486094/index.html">Democrata na C√¢mara luta contra o Vale do Sil√≠cio</a></li>
<li><a href="../pt486100/index.html">Como criar um aplicativo descentralizado e escal√°vel? Use menos blockchain</a></li>
<li><a href="../pt486114/index.html">Os principais cientistas do campo da neuroci√™ncia se reunir√£o no congresso anual do sindicato da ind√∫stria de neuronets</a></li>
<li><a href="../pt486116/index.html">Testes de simplicidade de Fermat e Miller-Rabin</a></li>
<li><a href="../pt486120/index.html">Normaliza√ß√£o do desvio. Como pr√°ticas erradas est√£o se tornando a norma em nossa ind√∫stria</a></li>
<li><a href="../pt486122/index.html">Child ReactJS com 135 linhas de c√≥digo</a></li>
<li><a href="../pt486124/index.html">Impala vs Hive vs Spark SQL: Escolhendo o mecanismo SQL certo para funcionar corretamente no Cloudera Data Warehouse</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>