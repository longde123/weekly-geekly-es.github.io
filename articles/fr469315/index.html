<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥜 🎑 🐖 Outils de développement Node.js. Protocole Mqtt pour travailler avec des sockets Web 👌🏾 👩🏽‍⚕️ 👉🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La technologie de socket Web permet d'envoyer des messages d'un serveur à un client dans une application Web ou dans une application mobile, ce qui ne...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Outils de développement Node.js. Protocole Mqtt pour travailler avec des sockets Web</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469315/"> La technologie de socket Web permet d'envoyer des messages d'un serveur à un client dans une application Web ou dans une application mobile, ce qui ne peut pas être fait à l'aide de l'API REST.  Pour travailler avec des sockets Web, ils utilisent souvent la bibliothèque socket.io, ou les développeurs travaillent avec des objets de socket Web de navigateur natif.  Dans cet article, j'essaierai de montrer que les deux façons ne résolvent pas tous les problèmes, et il est préférable d'utiliser des serveurs spécialisés, par exemple, le serveur mqtt (il s'appelait auparavant le courtier mqtt) pour travailler avec les sockets Web. <br><br>  En toute équité, et pour éviter les litiges inutiles, je note qu'en plus du serveur mqtt, un certain nombre d'autres serveurs peuvent être utilisés, par exemple rabbitmq. <br><a name="habracut"></a><br>  Le développement d'applications à l'aide de sockets Web semble très simple jusqu'à ce que nous rencontrions une réalité dans laquelle des coupures de connexion se produisent souvent.  La première tâche à résoudre consiste à suivre les ruptures de connexion et à les restaurer.  La situation est compliquée par le fait que pendant la déconnexion et la reconnexion, le client continue d'envoyer de nouveaux messages, ainsi que de nouveaux messages peuvent être envoyés au client qui sont plus susceptibles d'être perdus. <br><br>  Il est nécessaire au niveau de l'application de surveiller la réception des messages et de mettre en œuvre leur remise répétée.  Je voudrais surtout attirer l'attention sur l'expression «au niveau de l'application» (mais j'aimerais qu'elle soit au niveau du protocole). <br><br>  Dès que nous avons ajouté une logique pour suivre la livraison des messages, tous les messages ont commencé à arriver, mais il est immédiatement devenu évident qu'il y avait des messages en double, car le message aurait pu être reçu, et la confirmation de ce fait a été perdue en raison d'une connexion déconnectée.  Et vous devez doubler la quantité de code de programme pour exclure les messages en double. <br><br>  Parallèlement à la complication du code du programme, son efficacité diminue également, pour laquelle ils critiquent souvent la bibliothèque socket.io.  Bien sûr, il est moins efficace que de travailler avec des sockets Web natifs, en particulier, en raison de la présence d'une logique de reconnexion et d'une confirmation de remise de message (je remarque immédiatement que la logique de re-remise n'est pas implémentée dans socket.io). <br><br>  Un moyen plus fiable et efficace serait d'amener cette logique au niveau du protocole.  Et un tel protocole existe - c'est mqtt.  La première version du protocole mqtt a été développée par Andy Stanford-Clark (IBM) et Arlene Nipper (Arcom) en 1999. La spécification MQTT 3.1.1 a été normalisée par le consortium OASIS en 2014. <br><br>  Le protocole mqtt a un paramètre de «qualité de service» (qos) qui peut prendre des valeurs: <br>  0 - le message est délivré si possible; <br>  1 - le message est livré garanti, mais il peut y avoir des doublons; <br>  2 - le message est livré garanti et garanti une fois. <br><br>  Autrement dit, le protocole mqtt résout le problème de la remise garantie des messages, et ce problème est supprimé de l'agenda.  Mais pas seulement cette question. <br><br>  Performance et évolutivité. <br><br>  Lorsque vous travaillez avec des sockets Web, tous les clients connectés laissent des connexions ouvertes au serveur, même s'il n'y a pas de véritable messagerie.  Cette charge est intrinsèquement différente de la charge dans l'API REST, qui est déterminée par le flux de demandes.  La charge des connexions ouvertes sur les sockets Web est difficile à émuler pendant la phase de test.  Par conséquent, une hypothèse erronée est souvent émise concernant les performances suffisantes de l'application par le nombre de messages envoyés et reçus, sans tenir compte de la charge de maintenir un grand nombre de connexions ouvertes avec les clients. <br><br>  Si nous transférons tous les travaux avec des sockets web vers un serveur mqtt spécialisé, notre application nodejs ouvre une seule connexion sur une socket web (ou tcp, car mqtt prend en charge les deux protocoles) avec un serveur mqtt, et nous pouvons faire évoluer notre application en connectant plusieurs instances de nodejs au serveur mqtt. <br><br>  Si les ressources d'un serveur mqtt sont épuisées, vous pouvez organiser un cluster de serveurs mqtt sans affecter les applications sur nodejs. <br><br>  Passons maintenant à un exemple. <br><br>  Le serveur ou courtier mqtt, comme on l'appelait dans les spécifications précédentes, fonctionne selon le modèle d'envoi de messages / d'abonnement aux messages.  Chaque message est envoyé au sujet.  Le destinataire s'abonne au fil de messages.  L'expéditeur et le destinataire ont tous deux deux identifiants: clientId (identifiant de périphérique) et userName (nom d'utilisateur). <br><br>  L'identifiant de l'appareil est important, car il est associé à l'abonnement et des messages lui seront envoyés.  Le nom d'utilisateur, contrairement à l'identifiant de l'appareil, ne joue pas un rôle décisif dans la remise des messages et est utilisé pour différencier l'accès aux rubriques. <br><br>  Pour travailler avec le protocole mqtt côté client, la bibliothèque <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">github.com/eclipse/paho.mqtt.javascript</a> est utilisée.  Il existe plusieurs implémentations de serveur, y compris gratuites.  Dans cet exemple, nous utiliserons le serveur emqx, qui s'exécute via docker-compose (voir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">github.com/apapacy/tut-mqtt</a> ). <br><br>  Pour les tests, créez un document dans lequel nous définirons clientId, userName et le texte du message: <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/paho-mqtt.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/messages.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sender"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onsubmit</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"return false"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"user"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"client"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"message"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"connect()"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"connect"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"send()"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"send"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  L'envoi de messages est implémenté dans le fichier message.js: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> client; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> connectOptions = { <span class="hljs-attr"><span class="hljs-attr">timeout</span></span>: <span class="hljs-number"><span class="hljs-number">30</span></span>, <span class="hljs-attr"><span class="hljs-attr">reconnect</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">cleanSession</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">mqttVersion</span></span>: <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-attr"><span class="hljs-attr">keepAliveInterval</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-attr"><span class="hljs-attr">onSuccess</span></span>: onConnect, <span class="hljs-attr"><span class="hljs-attr">onFailure</span></span>: onFailure } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">connect</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { client = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Paho.Client(<span class="hljs-string"><span class="hljs-string">'localhost'</span></span>, <span class="hljs-number"><span class="hljs-number">8083</span></span>, <span class="hljs-string"><span class="hljs-string">'/mqtt'</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.forms.sender.client.value); connectOptions.userName = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.forms.sender.user.value; client.connect(connectOptions); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (ex) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(ex); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onConnect</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'on connect'</span></span>); client.onMessageArrived = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">message</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"onMessageArrived: "</span></span> + message.payloadString); } client.subscribe(<span class="hljs-string"><span class="hljs-string">"test"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">qos</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span> }); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onFailure</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">err</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'on failure'</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify(err)); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> message = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Paho.Message(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.forms.sender.message.value); message.destinationName = <span class="hljs-string"><span class="hljs-string">"test"</span></span>; message.qos = <span class="hljs-number"><span class="hljs-number">2</span></span>; client.send(message); }</code> </pre><br><br>  Pour vérifier, ouvrez le fichier index.html dans le navigateur, définissez clientId, userName, texte du message et envoyez plusieurs messages (ils peuvent être lus dans la console, car le client envoie des messages à la rubrique de test et est abonné à cette rubrique elle-même). <br><br>  Ouvrez maintenant un autre navigateur ou un autre onglet de navigateur et joignez-vous à un autre (c'est important) clientId.  Envoyez quelques messages supplémentaires à partir du premier navigateur et assurez-vous qu'ils parviennent aux deux clients, car ils ont différents ID client et ils sont tous les deux abonnés au test de rubrique. <br><br>  Fermez maintenant le deuxième navigateur (ou le deuxième onglet du navigateur) et envoyez quelques messages supplémentaires.  Après cela, rouvrez le deuxième navigateur et rejoignez le même clientId.  Assurez-vous que dans les journaux de la console, vous avez reçu tous les messages qui ont été envoyés pendant la période de fermeture du deuxième navigateur (deuxième onglet).  Cela est arrivé parce que: <br><br><ul><li>  Lors de l'envoi d'un message, le niveau de qualité qos = 2 a été défini; </li><li>  Vous avez précédemment rejoint le même sujet avec le même clientId en définissant qos = 2; </li><li>  Les options de connexion sont définies sur cleanSession: false. </li></ul><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Un exemple de code peut être téléchargé à partir du référentiel</a> . <br><br>  apapacy@gmail.com <br>  29 septembre 2019 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr469315/">https://habr.com/ru/post/fr469315/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr469299/index.html">Vue instantanée, instantanée et inaccessible</a></li>
<li><a href="../fr469301/index.html">Agilean: Lean + Agile</a></li>
<li><a href="../fr469303/index.html">Andrei Belyaev sur la réflexion à Java lors de la réunion jug.msk.ru</a></li>
<li><a href="../fr469307/index.html">Noix de Google</a></li>
<li><a href="../fr469309/index.html">Nous installons un service simple pour surveiller le mouvement des objets vers le serveur</a></li>
<li><a href="../fr469317/index.html">Finances pour PMa en prévente: comment calculer rapidement le budget et les flux de trésorerie dans MS Project</a></li>
<li><a href="../fr469319/index.html">Expérience sur le campus F2P</a></li>
<li><a href="../fr469321/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 51. Dépannage EIGRP</a></li>
<li><a href="../fr469323/index.html">Getters / setters et problème d'encapsulation dans les projets symfony</a></li>
<li><a href="../fr469327/index.html">Une façon de calculer les logarithmes en base 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>