<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöµüèΩ üéâ ‚öïÔ∏è Kitchen Robotics Parte 2 u otro avatar de Blynk üíæ üíê üóÑÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Entrada. Letras, puedes saltarte 
 Hola de nuevo En esta historia, me gustar√≠a continuar con el tema de la "construcci√≥n de robots" en el hogar, esta ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kitchen Robotics Parte 2 u otro avatar de Blynk</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/477490/"><iframe width="560" height="315" src="https://www.youtube.com/embed/wZWz0MjsFXA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3>  Entrada.  Letras, puedes saltarte </h3><br>  Hola de nuevo  En esta historia, me gustar√≠a continuar con el tema de la "construcci√≥n de robots" en el hogar, esta es una especie de <a href="https://habr.com/ru/post/443332">continuaci√≥n de la publicaci√≥n anterior</a> . <br><br>  Te advertir√© de inmediato: no soy un experto en esta industria, solo estoy aprendiendo y durante mucho tiempo he estado "avergonzado" de expresar mis pensamientos y exponer cosas hechas en casa aqu√≠.  He estado leyendo publicaciones sobre Habr durante mucho tiempo, ¬°a veces te preguntas qu√© est√° pasando en el mundo!  ¬°Lees una publicaci√≥n, no entiendes de d√≥nde sabe el autor!  ¬øC√≥mo puedes resolver esto?  A la luz de todo esto, pens√© que mi presentaci√≥n "torpe" no ser√≠a de inter√©s para nadie, pero m√°s de 9k personas vieron la historia anterior, para m√≠ sin duda es un √©xito, creo que muchas personas como yo son "personas comunes" sin diplomas del Instituto de Tecnolog√≠a de Massachusetts , para que esta informaci√≥n sea m√°s accesible para ellos.  Entonces vamos ... <br><a name="habracut"></a><br><h3>  Alteraci√≥n de la estructura. </h3><br>  Como base de mi proyecto, tom√© la "creaci√≥n" anterior, una chupocabra, que estaba vestida y bajo una actuaci√≥n de sonido ligero, realiz√≥ unas vacaciones.  Lo hice por el bien de un d√≠a y por medios improvisados, que se pueden rastrear en su apariencia, la actuaci√≥n fue sat√≠rica.  Se parec√≠a a esto: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/54aLUjDR3qU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  En primer lugar, elimin√© todo lo innecesario, compr√© perfiles de aluminio y esquinas perforadas para un nuevo dise√±o. <br><br>  Realmente me gust√≥ el rendimiento del robot de telepresencia de la compa√±√≠a extranjera "Origibot" <br><br><img src="https://habrastorage.org/webt/cq/tz/j6/cqtzj6k70ai76udbjwjv-sf9rhq.jpeg" alt="imagen"><br><br><img src="https://habrastorage.org/webt/l2/v0/wp/l2v0wpyl_nhoicjfzj71u14mlf0.jpeg" alt="imagen"><br><br>  Su aspecto asc√©tico tiene varias ventajas, juzgue usted mismo, el peso no es grande, esto es principalmente ahorro de energ√≠a, ergonom√≠a, ahorro de bater√≠a, un accionamiento el√©ctrico menos potente.  Imagine una situaci√≥n as√≠, hipot√©ticamente, seguimos adelante y en ese momento problemas de comunicaci√≥n, si el peso del robot es de varias decenas de kilogramos, las consecuencias pueden ser fatales.  La segunda ventaja de esta forma considero la capacidad de doblar el manipulador entre las ruedas, es posible levantar algo del piso. <br><br>  Oh bueno, inspirado y listo!  Rehaciendo "su", decidi√≥ dividir la producci√≥n en etapas: <br><br><ol><li>  La fabricaci√≥n de una distancia entre ejes basada en dos ruedas motrices y una trasera de apoyo. </li><li>  Escribir un boceto para la gesti√≥n. </li><li>  Montaje de una c√°mara o tel√©fono.  La altura de colocaci√≥n se eligi√≥ en funci√≥n de la altura de la estufa en la cocina para que pudiera mirar dentro de la sart√©n y ver de qu√© se cocinaba el borsch. </li><li>  Instalar un servo en la c√°mara para que pueda mirar debajo de las "patas" y el techo.  No me molest√© con el movimiento horizontal, puedes girar la base. </li><li>  Instalaci√≥n en el "producto" del manipulador con agarre </li></ol><br>  La puesta en servicio adicional, en lo que respecta al concepto general del robot, en el caso ideal que a√∫n no se ha implementado, el dispositivo de telecomunicaciones principal debe ser un tel√©fono.  Skype est√° instalado en √©l, que est√° configurado para recibir videollamadas autom√°ticamente, y el tel√©fono tambi√©n ser√° un punto de acceso para una tarjeta basada en el m√≥dulo ESP, esto permitir√° controlar el robot y la videoconferencia.  Por que skype  ¬øPor qu√© crear algo si ya tiene servicios que funcionan perfectamente y cambian la calidad autom√°ticamente, dependiendo del ancho de banda de la red? <br><br>  No hubo problemas con el primer elemento, la base estaba lista de la nave anterior, elimin√≥ todo lo superfluo, el enrutador TPlink MR3020 con una antena remota casera.  En el discurso anterior hab√≠a paredes "gruesas", tuve que cultivar colectivamente, el resultado es + 9db.  Los comandos de control de tr√°fico llegaron al enrutador, firmware cyberWRT. <br><br>  Con el segundo punto fue m√°s interesante, mi nivel en la programaci√≥n de arduino "LED Blinker", encontr√© un boceto listo en Internet, desafortunadamente no recuerdo al autor, no lo hice mucho por m√≠ mismo usando el m√©todo cient√≠fico de poke, es usado por aquellos que poco entienden la teor√≠a.  Dado que la programaci√≥n en lenguajes incluso de nivel inferior es un bosque oscuro para m√≠, tuve que elegir una plataforma en la que pudiera construir mi propio panel de control.  Un aspecto importante para m√≠ fue la capacidad de controlar el robot a trav√©s de un servicio en la nube, ya que el control ser√° desde las "direcciones grises".  El servicio Blynk se ha convertido en una plataforma de este tipo, no describir√© las ventajas, hay mucha informaci√≥n en la red.  En la primera versi√≥n, utilic√© el widget de joystick para controlar el movimiento, el c√≥digo se muestra a continuaci√≥n: <br><cut></cut><br><pre><code class="plaintext hljs">#define BLYNK_PRINT Serial #include &lt;ESP8266_Lib.h&gt; #include &lt;BlynkSimpleShieldEsp8266.h&gt; #include &lt;AccelStepper.h&gt; #include &lt;Servo.h&gt; #include &lt;SimpleTimer.h&gt; // You should get Auth Token in the Blynk App. // Go to the Project Settings (nut icon). char auth[] = "****"; // Your WiFi credentials. // Set password to "" for open networks. char ssid[] = "****"; char pass[] = "****"; #define EspSerial Serial3 #define ESP8266_BAUD 115200 ESP8266 wifi(&amp;EspSerial); BlynkTimer timer; Servo servo; Servo servo2; // These are used to set the direction of the bridge driver. #define ENB 5 //ENB      monstr motor shield  5  6     #define MOTORB_1 4 //IN3 #define MOTORB_2 9 //IN4 #define MOTORA_1 8 //IN1 #define MOTORA_2 7 //IN2 #define ENA 6 //ENA int motor_right_speed = 0; int motor_left_speed = 0; AccelStepper Stepper1(4, 10, 11, 12, 13); //4  ,      int steeps = 192; //  ,    ,    // SETUP void setup() { Serial.begin(9600); delay(10); EspSerial.begin(ESP8266_BAUD); delay(10); // Connect Blynk Blynk.begin(auth, wifi, ssid, pass); Blynk.connect(); // Configure pins pinMode(ENA, OUTPUT); pinMode(MOTORA_1, OUTPUT); pinMode(MOTORA_2, OUTPUT); pinMode(ENB, OUTPUT); pinMode(MOTORB_1, OUTPUT); pinMode(MOTORB_2, OUTPUT); digitalWrite(ENA,LOW); digitalWrite(ENB,LOW); Stepper1.setMaxSpeed(10000); //      (/) Stepper1.setAcceleration(10000); //  (/^2) servo.attach(1); servo2.attach(3); servo2.write(55); timer.setInterval(500L, StopServo); // Start serial communication } BLYNK_WRITE(V1) /     ,  , / { if (param.asInt() == 1) { servo.attach(1); servo.write(165); // High gear timer.setTimeout(500L, StopServo); } else { servo.attach(1); servo.write(115); // Low gear timer.setTimeout(500L, StopServo); } } BLYNK_WRITE(V2) { servo2.write(param.asInt()); } void StopServo() /  { servo.detach(); } // JOYSTICK BLYNK_WRITE(V0) { int nJoyY = param[0].asInt(); // read x-joystick int nJoyX = param[1].asInt(); // read y-joystick // OUTPUTS int nMotMixL; // Motor (left) mixed output int nMotMixR; // Motor (right) mixed output // CONFIG // - fPivYLimt : The threshold at which the pivot action starts // This threshold is measured in units on the Y-axis // away from the X-axis (Y=0). A greater value will assign // more of the joystick's range to pivot actions. // Allowable range: (0..+127) float fPivYLimit = 1023.0; // TEMP VARIABLES float nMotPremixL; // Motor (left) premixed output float nMotPremixR; // Motor (right) premixed output int nPivSpeed; // Pivot Speed float fPivScale; // Balance scale between drive and pivot // Calculate Drive Turn output due to Joystick X input if (nJoyY &gt;= 0) { // Forward nMotPremixL = (nJoyX&gt;=0)? 1023.0 : (1023.0 + nJoyX); nMotPremixR = (nJoyX&gt;=0)? (1023.0 - nJoyX) : 1023.0; } else { // Reverse nMotPremixL = (nJoyX&gt;=0)? (1023.0 - nJoyX) : 1023.0; nMotPremixR = (nJoyX&gt;=0)? 1023.0 : (1023.0 + nJoyX); } // Scale Drive output due to Joystick Y input (throttle) nMotPremixL = nMotPremixL * nJoyY/900.0; //      nMotPremixR = nMotPremixR * nJoyY/1023.0; // Now calculate pivot amount // - Strength of pivot (nPivSpeed) based on Joystick X input // - Blending of pivot vs drive (fPivScale) based on Joystick Y input nPivSpeed = nJoyX; fPivScale = (abs(nJoyY)&gt;fPivYLimit)? 0.0 : (1.0 - abs(nJoyY)/fPivYLimit); // Calculate final mix of Drive and Pivot nMotMixL = (1.0-fPivScale)*nMotPremixL + fPivScale*( nPivSpeed); nMotMixR = (1.0-fPivScale)*nMotPremixR + fPivScale*(-nPivSpeed)/ 1.1; motor_left_speed = nMotMixL; motor_right_speed = nMotMixR; if (motor_right_speed &gt; 20) { digitalWrite(MOTORA_1,HIGH); digitalWrite(MOTORA_2,LOW); } else if (motor_right_speed &lt; -20) { digitalWrite(MOTORA_1,LOW); digitalWrite(MOTORA_2, HIGH); } else { digitalWrite(MOTORA_1, LOW); digitalWrite(MOTORA_2, LOW); } if (motor_left_speed &gt; 20) { digitalWrite(MOTORB_1, LOW); digitalWrite(MOTORB_2, HIGH); } else if (motor_left_speed &lt; -20) { digitalWrite(MOTORB_1,HIGH); digitalWrite(MOTORB_2,LOW); } else { digitalWrite(MOTORB_1, LOW); digitalWrite(MOTORB_2, LOW); } analogWrite(ENB, abs(motor_left_speed)); analogWrite(ENA, abs(motor_right_speed)); } BLYNK_WRITE(V3) { // Motor Speed - Slider set with 0-100 and Send On Relese OFF int pinValue = param.asInt(); Stepper1.move(pinValue); } // MAIN CODE void loop() { Blynk.run(); timer.run(); Stepper1.run(); }</code> </pre> <br><cut></cut><br>  Luego, la instalaci√≥n de una c√°mara o tel√©fono, prob√© ambos. <br><br><img src="https://habrastorage.org/webt/tb/np/he/tbnphe621wfsg21pq2p4z7qjjmo.jpeg" alt="imagen"><br><br>  En la foto, el manipulador se coloca por separado. <br><br>  ¬°Ahora es el momento de probar!  Aprovech√© la oportunidad para dividir la pantalla del tel√©fono (disponible en el √∫ltimo firmware de Android), la parte superior del video, el control inferior.  Para comenzar todo al mismo tiempo, descargu√© la aplicaci√≥n Screens desde Play Market y fui ... <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/VYJX4IXc8A8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Durante el primer "pokatushek" se revelaron las siguientes deficiencias, los motores que en su pasado alem√°n, sol√≠an girar algo en alguna atracci√≥n, tienen diferentes salidas como resultado de una l√≠nea recta, el movimiento no funciona.  Todo el tiempo tira en una de las direcciones, hizo un ajuste para calcular la velocidad de los motores en el c√≥digo, ayud√≥, pero decidi√≥ rehacer el c√≥digo en botones, es m√°s conveniente para m√≠, y los movimientos en el apartamento ser√°n en su mayor√≠a lineales. <br><br>  Esto fue seguido por la etapa m√°s lenta, ya que result√≥ que ahora est√° claro por qu√© muchos robots de telepresencia en el mercado no tienen un manipulador.  No hace mucho tiempo, al profundizar en el estudio del tema, le√≠ sobre m√©todos para calcular unidades de rotaci√≥n que no est√°n divididas equitativamente a lo largo del eje de carga, record√© c√≥mo me sent√© en el instituto en una conferencia sobre mec√°nica te√≥rica hace quince a√±os y me puse a pensar: "¬øPor qu√© necesito un futuro # ingeniero - un electricista # esta basura ".  Bueno, est√° bien, como dicen: "La pr√°ctica sin teor√≠a es ciega".  Aproximadamente diez veces rehice el manipulador, quem√© varios servos, que se supon√≠a que levantar√≠an la carga principal. <br><br>  Si prest√≥ atenci√≥n a la foto de Origibot, hay algo terrible all√≠ como unidad, en su sitio web le√≠ que el manipulador es capaz de levantar hasta 1 kg, ¬°fant√°stico! <br>  Si aplicamos, por ejemplo, un servoaccionamiento con una fuerza de 20 kg / cm, a una distancia de 2 cm, se puede elevar una carga de 10 kg, y si el peso de esta carga se distribuye de manera desigual a lo largo del eje y el eje es de aproximadamente un metro, entonces incluso menos. <br><br>  Es bueno que la vieja c√°mara rotativa de CCTV estuviera a la mano, le saqu√© dos motores paso a paso, ¬°genial!  Un motor elevar√° el eje, y el segundo lo uso en una cortina autom√°tica.  Hace tiempo que quer√≠a hacer un hogar, pero al mismo tiempo, ¬°s√© c√≥mo trabajar con lombrices!  Por as√≠ decirlo, dos p√°jaros de un tiro, a la vez.  Si!  El principal "problema" era esperar, olvid√© decir que us√© el controlador Wemos D1 R1 para mi producto casero, se parece a Arduino Uno, solo que hay wifi a bordo.  Si bien no hab√≠a manipulador, hab√≠a suficientes pines en el tablero, un motor paso a paso agregado, para controlar los devanados, necesita cuatro pines, ¬ød√≥nde puedo obtenerlo?  Result√≥ que los pines de la placa son los pines del CES en s√≠ mismo, que proporciona comunicaci√≥n, los pines del 0 al 8 se repiten a√∫n m√°s.  Bueno, como dicen: "¬°Una mala cabeza no da paz a tus manos!" <br>  El precio del error: al transferir los resultados del trabajo a la placa Wemos 2560 esp8266, esta placa es una Mega y Esp.  Lo tom√© para la automatizaci√≥n del invernadero, por supuesto, no sali√≥ de inmediato, el bosquejo no se compil√≥, los errores salieron volando.  Encontr√≥ una soluci√≥n en el sitio: <br>  <a href="https://community.alexgyver.ru/threads/robotdyn-mega-wifi-r3-connect-blynk.1270/">community.alexgyver.ru/threads/robotdyn-mega-wifi-r3-connect-blynk.1270/#post-16746</a> <br>  A continuaci√≥n se muestra un boceto de un Mega operado por bot√≥n: <br><cut></cut><br><pre> <code class="plaintext hljs">#define BLYNK_PRINT Serial #include &lt;ESP8266_Lib.h&gt; #include &lt;BlynkSimpleShieldEsp8266.h&gt; #include &lt;AccelStepper.h&gt; #include &lt;Servo.h&gt; #include &lt;SimpleTimer.h&gt; #define EspSerial Serial3 #define ESP8266_BAUD 115200 ESP8266 wifi(&amp;EspSerial); #define ENB 5 //ENB      monstr motor shield  5  6     #define MOTORB_1 4 //IN3 #define MOTORB_2 9 //IN4 #define MOTORA_1 8 //IN1 #define MOTORA_2 7 //IN2 #define ENA 6 //ENA BlynkTimer timer; Servo servo; Servo servo2; AccelStepper Stepper1(4, 10, 11, 12, 13); //4  ,      char auth[] = "****"; char ssid[] = "****"; char pass[] = "****"; // SETUP void setup() { Serial.begin(9600); delay(10); EspSerial.begin(ESP8266_BAUD); delay(10); // Connect Blynk Blynk.begin(auth, wifi, ssid, pass); Blynk.connect(); // Configure pins pinMode(ENA, OUTPUT); pinMode(MOTORA_1, OUTPUT); pinMode(MOTORA_2, OUTPUT); pinMode(ENB, OUTPUT); pinMode(MOTORB_1, OUTPUT); pinMode(MOTORB_2, OUTPUT); Stepper1.setMaxSpeed(100); //      (/) Stepper1.setAcceleration(96); //  (/^2) servo.attach(2); //   servo.write(115); //    servo2.attach(3); //  servo2.write(55); //    //timer.setInterval(500L, StopServo); // Start serial communication } BLYNK_WRITE(V6) { servo.write(param.asInt()); //timer.setTimeout(2500L, StopServo); } BLYNK_WRITE(V7) { servo2.write(param.asInt()); } //void StopServo() { // servo.detach(); //} BLYNK_WRITE(V8) { int pinValue = param.asInt(); Stepper1.move(pinValue); } BLYNK_WRITE(V4) { int speedL = param.asInt(); //      . 1,13       analogWrite(ENA, speedL); analogWrite(ENB, speedL* 1.13); } / FORWARD BLYNK_WRITE(V0) { int button = param.asInt(); // read button if (button == 1) { digitalWrite(MOTORA_1,HIGH); digitalWrite(MOTORA_2,LOW); digitalWrite(MOTORB_1,HIGH); digitalWrite(MOTORB_2,LOW); } else { digitalWrite(MOTORA_1,LOW); digitalWrite(MOTORA_2,LOW); digitalWrite(MOTORB_1,LOW); digitalWrite(MOTORB_2,LOW); } } // RIGHT BLYNK_WRITE(V1) { int button = param.asInt(); // read button if (button == 1) { digitalWrite(MOTORA_1,LOW); digitalWrite(MOTORA_2,HIGH); digitalWrite(MOTORB_1,HIGH); digitalWrite(MOTORB_2,LOW); } else { digitalWrite(MOTORA_1,LOW); digitalWrite(MOTORA_2,LOW); digitalWrite(MOTORB_1,LOW); digitalWrite(MOTORB_2,LOW); } } // LEFT BLYNK_WRITE(V2) { int button = param.asInt(); // read button if (button == 1) { digitalWrite(MOTORA_1,HIGH); digitalWrite(MOTORA_2,LOW); digitalWrite(MOTORB_1,LOW); digitalWrite(MOTORB_2,HIGH); } else { digitalWrite(MOTORA_1,LOW); digitalWrite(MOTORA_2,LOW); digitalWrite(MOTORB_1,LOW); digitalWrite(MOTORB_2,LOW); } } // BACKWARD BLYNK_WRITE(V3) { int button = param.asInt(); // read button if (button == 1) { digitalWrite(MOTORA_1,LOW); digitalWrite(MOTORA_2,HIGH); digitalWrite(MOTORB_1,LOW); digitalWrite(MOTORB_2,HIGH); } else { digitalWrite(MOTORA_1,LOW); digitalWrite(MOTORA_2,LOW); digitalWrite(MOTORB_1,LOW); digitalWrite(MOTORB_2,LOW); } } // MAIN CODE void loop() { Blynk.run(); timer.run(); Stepper1.run();</code> </pre> <br><cut></cut><br>  Como resultado, el poder del sustantivo chino era a√∫n menor: 5 kg / cm, decid√≠ probar a trav√©s del cintur√≥n: <br><br><img src="https://habrastorage.org/webt/ab/dm/fy/abdmfypidfuujvl-2wg6jry2i40.jpeg" alt="imagen"><br><br>  La correa se resbal√≥ a pesar del tensor conectado al rodillo (no se muestra en la imagen).  La psicosis y el nerviosismo excepcionales causados ‚Äã‚Äãpor una serie de contratiempos t√©cnicos fueron interrumpidos por una nueva idea.  Es necesario reducir el peso de la estructura: abandonar los dos servos al final del eje, para obtener grados adicionales de libertad y reducir la longitud del eje del manipulador.  (Espero que el fusible permanezca y esta decisi√≥n es temporal). <br><br><img src="https://habrastorage.org/webt/p7/6x/2l/p76x2lt1i0kdzyjvuubgsyba_gk.jpeg" alt="imagen"><br><br>  Tambi√©n en la foto, instal√© un altavoz externo, que fue soldado a la c√°mara ds-2cd2432f-iw por el fabricante Hikvizhn.  El orador a tiempo completo parec√≠a d√©bil. <br><br>  Ahora la apariencia es la siguiente. <br><br><img src="https://habrastorage.org/webt/wh/sk/7j/whsk7jori1k6tnbtd5pvlqiewsq.jpeg" alt="imagen"><br><br><h3>  Resumen </h3><br>  Tenemos una c√°mara sobre ruedas, ¬øpor qu√© hasta ahora he rechazado el tel√©fono?  Skype no funciona correctamente en el modo de ventanas m√∫ltiples en mi tel√©fono, cuando el control de la imagen de video se minimiza al tama√±o de una ventana peque√±a, lo que no es muy conveniente cuando el robot se mueve.  Por lo tanto, par√© mientras estaba en la c√°mara, todav√≠a uso la versi√≥n paga del programa Tiny cam pro para acceder al video, acceder desde cualquier parte del mundo, la c√°mara est√° conectada de forma inal√°mbrica a un enrutador en el que se reenv√≠an sus puertos y se utiliza el servicio de nombre de dominio No-Ip.  Es bueno que hasta ahora el proveedor proporcione una direcci√≥n "blanca".  Se pregunta por qu√© no uso Blynk para la transmisi√≥n de video, porque hay un widget est√°ndar para transmitir el protocolo rtsp.  Respondo, quiero usar toda la funcionalidad de la c√°mara, es decir, la comunicaci√≥n bidireccional.  Incluso si tiene la forma en que lo proporciona una aplicaci√≥n en la que se utilizan c√≥decs de audio que reducen en gran medida la calidad del sonido.  El protocolo rtsp m√°s importante en la aplicaci√≥n Blynk funciona con un ligero retraso, que es cr√≠tico para viajar en un mecanismo que pesa 10 kg. <br><br>  Nutrici√≥n, un tema interesante aparte.  El problema de una estaci√≥n de carga aut√≥noma a√∫n no se ha resuelto;  En el modelo anterior, utilic√© bater√≠as de iones de litio soldadas en pares en paralelo, para aumentar el voltaje a 12V y aumentar la capacidad, trabajando a trav√©s del controlador de carga.  En este proyecto, rechaz√≥ el litio, ¬°las bater√≠as explotaron terriblemente por una mala experiencia!  Se instala una bater√≠a de plomo-√°cido de 7 A / h en la parte posterior de la unidad, para una distribuci√≥n uniforme de la carga cuando el manipulador levanta la carga, se conecta un convertidor de CC a la bater√≠a, que reduce el voltaje de 5 V, para alimentar el controlador y la l√≥gica de los dos controladores del motor MonstrmotorShield, uno para cada rueda, porque solo el piso del conductor funcionaba en ambas tablas, muy probablemente un matrimonio de f√°brica, no pod√≠a pensar, bueno, ¬øno lo tir√≥ a la basura? ... El controlador de motor ln298 es necesario para que funcionen dos motores paso a paso. <br><br>  De los problemas a√∫n no resueltos, carga aut√≥noma, quiero repetirlo as√≠ <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/uWZon62gA1w" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  Tampoco entend√≠ bien la biblioteca AccelStepper, si suministra energ√≠a a los devanados del motor, despu√©s de que finaliza el manipulador, la energ√≠a permanece, lo que aumenta la corriente de descarga de la bater√≠a en aproximadamente 400 mA, lo que no es econ√≥mico, debe encontrar la l√≥gica cuando el manipulador est√° en la posici√≥n m√°s baja, la alimentaci√≥n de los devanados est√° apagada.  Tambi√©n me gustar√≠a recibir comentarios para que la posici√≥n de los servos y los gusanos de paso lleguen a Blynk cuando se enciende el robot.  Y, por supuesto, la bater√≠a debe desconectar la carga cuando el voltaje cae a 10.5V, lo que evitar√° su degradaci√≥n prematura.  No hay forma de controlar desde una computadora.  Y, por supuesto, el c√≥digo necesita optimizaci√≥n. <br><br>  Los que no tienen miedo de muchos libros y leen hasta el final, gracias, buena suerte a todos, ¬°todo bien! <br>  ¬°Finalmente, haremos un poco! <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/yQOmUJuGMeU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/477490/">https://habr.com/ru/post/477490/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../477474/index.html">La vida y las costumbres de los so√±adores.</a></li>
<li><a href="../477476/index.html">Programaci√≥n heterog√©nea y OneAPI Toolkit. Haga una pregunta a un experto de Intel</a></li>
<li><a href="../477478/index.html">Dom√≥tica con soporte para lenguajes de programaci√≥n industrial, o BluePill x405</a></li>
<li><a href="../477484/index.html">¬øQu√© pensaron de los programadores?</a></li>
<li><a href="../477488/index.html">Neungers: las especias deben fluir</a></li>
<li><a href="../477492/index.html">¬øQu√© quedar√° en la sala del servidor?</a></li>
<li><a href="../477494/index.html">1. An√°lisis de malware mediante el an√°lisis forense de Check Point. Red de chorro de arena</a></li>
<li><a href="../477496/index.html">M√°scara de vidrio agrietado: ¬øes una RP planificada?</a></li>
<li><a href="../477498/index.html">Recopilamos registros de Nginx usando nginx-clickhouse, los enviamos a Clickhouse y los mostramos en Grafana</a></li>
<li><a href="../477500/index.html">Modelo de aplicaci√≥n (Avalanche: marco de aplicaci√≥n para Java)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>