<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíª üíÖüèΩ ‚óÄÔ∏è Merry Quartusel, ou como o processador ganhou vida üòò üó£Ô∏è ü§≠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ao depurar programas regulares, os pontos de interrup√ß√£o podem ser definidos em quase todos os lugares e em quantidades razoavelmente grandes. Infeliz...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Merry Quartusel, ou como o processador ganhou vida</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/464795/"><img src="https://habrastorage.org/webt/ws/5w/vc/ws5wvcsjeh19phozcqcximmvjbo.jpeg"><br><br>  Ao depurar programas regulares, os pontos de interrup√ß√£o podem ser definidos em quase todos os lugares e em quantidades razoavelmente grandes.  Infelizmente.  Quando um programa √© executado no controlador, esta regra n√£o se aplica.  Se houver uma se√ß√£o na qual o diagrama de tempo √© formado, a parada ir√° estragar tudo.  E a passagem em frequ√™ncias baixas e altas n√£o √© a mesma coisa.  As condi√ß√µes de contorno s√£o um flagelo dos desenvolvedores.  Ou, digamos, um barramento USB.  No NIOS II, n√£o trabalhei com ele, mas no STM32 √© terr√≠vel.  E eu quero ver alguma coisa, e quando voc√™ para, voc√™ pega um tempo limite.  Em geral, com muita frequ√™ncia, apesar da presen√ßa de depura√ß√£o avan√ßada do JTAG, o comportamento do programa em √°reas de tempo cr√≠tico √© obscurecido.  Seria √≥timo ver, pelo menos ap√≥s a execu√ß√£o, por qual cadeia o programa passou, quais ramifica√ß√µes funcionaram e quais n√£o! <br><br>  √â ainda mais importante conhecer o hist√≥rico de exce√ß√µes.  No NIOS II, eu n√£o fiz isso, mas no Cyclone V SoC no n√∫cleo do ARM - completamente.  Ao depurar, tudo funciona e, se voc√™ iniciar o programa a partir da ROM, receber√° uma exce√ß√£o.  Est√° claro como eles entraram e que tipo de desenvolvimento da situa√ß√£o levou a isso n√£o √©.  O rastreamento tamb√©m quebra todas as capas. <br><a name="habracut"></a><br>  Artigos anteriores da s√©rie: <ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Desenvolvimento do ‚Äúfirmware‚Äù mais simples para FPGAs instalados no Redd e depura√ß√£o usando o teste de mem√≥ria como exemplo</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Desenvolvimento do ‚Äúfirmware‚Äù mais simples para FPGAs instalados em Redd.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2. C√≥digo do Programa</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Desenvolvimento de n√∫cleo pr√≥prio para incorpora√ß√£o em um sistema de processador baseado em FPGA</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Desenvolvimento de programas para o processador central Redd no exemplo de acesso ao FPGA</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">As primeiras experi√™ncias usando o protocolo de streaming no exemplo de comunica√ß√£o de CPU e processador no FPGA Redd</a> </li></ol><br><h2>  1. Introdu√ß√£o </h2><br>  √â costume escrever artigos educacionais com uma express√£o s√©ria, apresentando o material com calma e imparcialidade.  Mas, infelizmente, isso nem sempre funciona.  Agora, de acordo com o plano, deve haver um artigo sobre a otimiza√ß√£o do processador sintetizado no complexo Redd, no qual precisamos falar sobre os recursos de trabalhar com o cache.  A seguir, √© apresentado um artigo sobre atrasos no acesso ao barramento.  Em geral, tudo isso pode ser mostrado em um oscilosc√≥pio.  Eu j√° fiz isso em um artigo sobre DMA (" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">DMA: Mitos e Realidade</a> ").  Mas eu queria demonstrar tudo usando o pr√≥prio processador, realizei essas verifica√ß√µes no n√∫cleo do ARM no FPGA Cyclone V SoC.  Muito conveniente (embora os resultados n√£o tenham sido publicados).  Por esse motivo, decidi lidar com o mecanismo de rastreamento inerente ao bloco JTAG.  √â uma pena que, at√© agora, eu n√£o tenha sido capaz de exibir com meios gratuitos para download quantas batidas esse ou aquele comando foi executado, mas havia material atrav√©s do qual o programa sempre pode ser perguntado como chegou a essa vida.  Bem, al√©m do mais, enquanto as lembran√ßas das noites tempestuosas ainda estiverem frescas em minha mem√≥ria, eu as expulsarei de uma maneira bastante emocional.  Portanto, hoje haver√° muitas mem√≥rias e um pouco de teoria √∫til. <br><br><h2>  Hardware </h2><br>  Portanto, muitas vezes ao depurar um programa para um microcontrolador, √© desej√°vel conhecer o caminho que ele percorreu e deve transmiti-lo a toda velocidade.  Para o caso do NIOS II, esse mecanismo est√° dispon√≠vel e est√° inclu√≠do aqui nesta guia das propriedades do n√∫cleo do processador: <br><br><img src="https://habrastorage.org/webt/aw/b5/cq/awb5cqb6qtp8es-_vm_xo1dwuok.png"><br><br>  Tipo de rastreamento define o tipo de informa√ß√£o a ser armazenada.  Voc√™ n√£o pode salvar nada (isso salvar√° a mem√≥ria do chip), voc√™ pode salvar apenas o hist√≥rico de comandos (na maioria das vezes isso √© suficiente), ou salvar o hist√≥rico de comandos e dados.  Vale ressaltar que a documenta√ß√£o diz que, no √∫ltimo modo, salvar informa√ß√µes √© algo dif√≠cil, enquanto sobreposi√ß√µes com o hist√≥rico de comandos s√£o poss√≠veis e mais mem√≥ria √© consumida.  Portanto, use este modo apenas quando for realmente necess√°rio. <br><br>  O par√¢metro Trace Storage define o tipo de mem√≥ria na qual o rastreamento ser√° salvo.  A documenta√ß√£o diz que a mem√≥ria externa n√£o √© suportada pelo ambiente de desenvolvimento padr√£o.  Portanto, √© melhor escolher apenas o interior. <br><br><img src="https://habrastorage.org/webt/vy/bw/ef/vybwef9zoeklef_gcevjoeihy6y.png"><br><br>  Bem, Onchip Trace Frame Size define o tamanho do buffer.  Quanto maior o buffer, mais eventos podem ser colocados nele, maior o hist√≥rico pode ser considerado.  Mas menos ser√° a mem√≥ria do cristal para outras necessidades. <br><br><img src="https://habrastorage.org/webt/_f/l5/u0/_fl5u0ax87tjg6jqriqa6ksg6ic.png"><br><br>  N√£o h√° necessidade de ativar a caixa de sele√ß√£o criando uma porta JTAG separada.  Deixe tudo t√°xis em um regular. <br><br><h2>  Suporte de software </h2><br>  Bom  Ent√£o montamos o n√∫cleo do processador, o que vem depois?  Ohhhh!  Ent√£o a hist√≥ria do detetive come√ßa.  Se as figuras acima devem ser interpretadas como um guia de a√ß√£o, seguir√£o as ilustra√ß√µes que mostram uma bagun√ßa e engasgos.  V√°rios documentos dizem que, para trabalhar com o rastreamento, voc√™ deve usar programas caros de terceiros e at√© equipamentos JTAG especiais.  Mas em alguns documentos, escapa-se que voc√™ pode levar algo em tempo integral. <br><br><h3>  Experi√™ncias Eclipse </h3><br>  √ìtimo.  Vamos dar uma olhada no Eclipse.  Lembro que eu uso o ambiente de desenvolvimento Quartus Prime 17.1.  Bem, aconteceu.  Iniciamos o programa para depura√ß√£o e vamos para o item de menu que permite abrir v√°rias janelas: <br><br><img src="https://habrastorage.org/webt/eu/yc/2z/euyc2ztgrga0uxh606lat4tu3kw.png"><br><br>  L√°, selecionamos a janela Debug-&gt; Trace Control: <br><br><img src="https://habrastorage.org/webt/6w/qu/wz/6wquwzygaqz4ozivccboxsyvuey.png"><br><br>  E n√≥s temos um boneco: <br><br><img src="https://habrastorage.org/webt/hv/qb/hd/hvqbhdjpwryfpsbhprwh7ehbobq.png"><br><br>  Mas a sess√£o de depura√ß√£o √© iniciada.  Al√©m disso, os itens de menu Iniciar rastreamento e Parar rastreamento at√© apareceram nele (antes de abrir essa janela, eles n√£o estavam).  Mas eles est√£o bloqueados.  E n√£o pude ativ√°-los. <br><br><img src="https://habrastorage.org/webt/mk/xp/ir/mkxpiratj9qrxtpee0hz91tx3uc.png"><br><br>  Em v√£o, preenchi o Google com pedidos diferentes.  Nos documentos antigos, esses itens s√£o descritos como funcionando muito bem, mas nos modernos eles simplesmente n√£o s√£o mencionados.  Ningu√©m os menciona nos f√≥runs.  Talvez algu√©m nos coment√°rios lhe diga uma coisa? <br><br><h3>  Problemas com a vers√£o mais recente do Eclipse </h3><br>  Bom  E a vers√£o mais recente do ambiente de desenvolvimento?  Talvez tudo funcione l√°?  Yyyyyy!  Este √© um t√≥pico para um cap√≠tulo separado.  A vers√£o mais recente para o quarto e quinto ciclones √© 18.1.1.  Ou seja, voc√™ deve primeiro baixar a vers√£o 18.1 e instalar a atualiza√ß√£o 18.1.1.  Se algu√©m decidiu que eu tenho muito tempo livre, que reorganizo o software para o bem de tudo, ent√£o est√° tudo bem.  A verifica√ß√£o principal era sobre problemas de cache.  Eles s√£o mais s√©rios, eu queria dar uma olhada na nova vers√£o, s√≥ n√£o estou escrevendo sobre eles aqui. <br><br>  Ent√£o, eu baixei.  Instalado.  Em primeiro lugar, a vers√£o 18.1 no WIN7 √© lan√ßada, mas a 18.1.1 n√£o encontra a DLL.  Bom  Descobri que preciso baixar o Redist do Visual Studio 2015. Instalei-o.  Come√ßou a correr.  Criou um projeto com um sistema de processador.  Ele at√© ficou pronto.  Vou para o Eclipse, criando um programa com BSP baseado nele, tudo, como j√° fizemos v√°rias vezes ... E eu entendo esse tipo de coisa ... <br><br><img src="https://habrastorage.org/webt/dz/ge/wm/dzgewmffjurbmrm7q9gzziiok5i.png"><br><br>  O projeto n√£o est√° indo.  Se voc√™ sair e entrar, ele ser√° aberto apenas parcialmente. <br><br><img src="https://habrastorage.org/webt/hw/_p/85/hw_p85rarlvryo3rvmuu_zoqa7k.png"><br><br>  Veja a pasta fechada?  L√° vai voc√™.  Porque  Ohhhh!  Tr√™s arquivos t√™m: <br><br><img src="https://habrastorage.org/webt/08/ca/fu/08cafumzaksxsqe9tquadzuckwa.png"><br><br>  Estes s√£o os maravilhosos atributos de prote√ß√£o: <br><br><img src="https://habrastorage.org/webt/zj/zy/db/zjzydbav2mjwdppsuq6y5mp3uay.png"><br><br>  Portanto, eles n√£o podem ser abertos ou alterados ... Se voc√™ der mais direitos, o projeto ser√° aberto, mas os arquivos n√£o ser√£o completamente criados, portanto, n√£o funcionar√° para colet√°-lo.  Tentei dar direitos at√© o Eclipse ser fechado e salve o projeto.  O resultado √© o mesmo. <br><br>  O Windows 7, que est√° envelhecendo rapidamente, pode ser o culpado?  N√£o √© de admirar que eu n√£o tenha bibliotecas!  Coloquei o Quartus fresco no WIN10, obtive um resultado completamente id√™ntico ao criar o projeto!  Eu tenho um amigo  Em virtude de seu local de trabalho, ele √†s vezes encontra produtos de fabricantes nacionais.  E ele expressa uma s√©rie de pensamentos sobre si mesmos e sobre seus parentes.  Bem, sobre o fato de "quem est√° construindo isso?"  Sabe, olhando para a divers√£o no software Intel, come√ßo a pensar que √© longe do pa√≠s de origem ... Na verdade, esse n√£o era o caso de Alter ... Tudo aconteceu, mas n√£o me lembro disso. <br><br>  Acabei de sair.  Copiei o projeto para uma unidade flash USB com o sistema de arquivos FAT32.  N√£o h√° atributos de seguran√ßa.  Abri o projeto, entrei no Eclipse e criei o c√≥digo.  Sem atributos de seguran√ßa - sem problemas.  Depois copiei de volta para o disco r√≠gido e ... Bem, √© claro, tive problemas para gerar BSP.  Porque o arquivo * .bsp cont√©m muitos caminhos relativos e um absoluto.  √â bom que eu peguei um pen drive.  Caso contr√°rio, eu n√£o teria notado que o BSP cai nele (j√° que este √© o ber√ßo do projeto), e o projeto √© coletado no disco r√≠gido.  Aqui est√° um exemplo desse caminho (j√° corrigido): <br><br><img src="https://habrastorage.org/webt/ba/qw/c3/baqwc3vz7g4xtyxou9lzaydkaf0.png"><br><br>  Bem, tudo bem ... Tudo foi gerado, montado ... E funciona exatamente da mesma forma que na vers√£o 17.1 ... E para controladores SoC no novo ambiente, voc√™ tamb√©m precisa recriar a cadeia JTAG todas as vezes no programador.  Na vers√£o 17.1, bastava fazer isso uma vez e salvar ... Eeeeeh.  Bem, oh, bem ... <br><br><h3>  Altera Monitor e seu problema </h3><br>  De uma forma ou de outra, as pesquisas na rede pelas palavras Iniciar rastreamento e Parar rastreamento me levaram a documentos interessantes.  Eles descrevem v√°rias vers√µes de um programa engra√ßado chamado <b>Altera Monitor</b> hoje (o nome era diferente em documentos antigos).  Encontr√°-la era relativamente f√°cil.  Voc√™ precisa fazer o download do pacote do <b>Programa Universit√°rio</b> para sua vers√£o do ambiente de desenvolvimento.  Preste aten√ß√£o √†s restri√ß√µes de licen√ßa.  Mas, como estamos estudando agora, n√£o temos medo disso.  Mas para o trabalho comercial - tudo est√° ruim l√°.  Detalhes aqui: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">www.intel.com/content/www/us/en/programmable/support/training/university/materials-software.html</a> <br><br>  Baixar, colocar ... H√° um documento anexado √† vers√£o atual (porque as vers√µes espalhadas na Internet variam muito).  Eu at√© tentei executar um exemplo para minha placa de ensaio DE0-Nano-SoC.  Ele est√° trabalhando  Mas quando tentei fazer meu projeto, ele n√£o funcionou.  O arquivo * .sof √© carregado no FPGA, ap√≥s o qual, ap√≥s algum tempo, uma mensagem √© exibida: <br><br><img src="https://habrastorage.org/webt/h-/v9/8-/h-v98-afyfovvykexwt8piekhdu.png"><br><br>  Somente n√£o h√° informa√ß√µes na janela especificada.  Se voc√™ tentar fazer o download novamente: bem, o texto aparecer√° exatamente nessa janela: <br>  <b>N√£o foi poss√≠vel consultar os IDs da inst√¢ncia JTAG.</b> <b><br><br></b>  <b>Verifique se o FPGA foi configurado usando o arquivo .sof correto.</b> <br><br>  Que tipo de problema √© esse?  Eu pesquisei no Google.  Encontrados v√°rios f√≥runs com o mesmo problema.  Em um momento, um funcion√°rio da Intel perguntou com que frequ√™ncia o autor tinha no JTAG e sugeriu definir um padr√£o.  Embora, naquela √©poca, eu j√° entendesse que n√£o era uma quest√£o de frequ√™ncia: o exemplo corporativo funcionou e como defini-lo?  Em um f√≥rum, o autor escreveu que de alguma forma havia passado.  Ele n√£o entendeu como.  E ele disse que se voc√™ fizer tudo cuidadosamente, de acordo com as instru√ß√µes, tudo funcionar√°.  O resto da imagem era o mesmo.  O homem pergunta.  Eles n√£o respondem a ele.  Depois de seis meses ou um ano, algu√©m escreve que ele tem a mesma situa√ß√£o, houve uma solu√ß√£o?  E sil√™ncio aaaaaaaa ... <br><br><h3>  Tentativas de solu√ß√£o experientes </h3><br>  Bom  Qual poderia ser o motivo?  No come√ßo, decidi dar uma olhada em um exemplo de trabalho.  Que tipo de misterioso JTAG ID?  Isso pode ser devido √† presen√ßa de um sistema de identifica√ß√£o do sistema em funcionamento? <br><br><img src="https://habrastorage.org/webt/jo/an/be/joanbea7ptsikwoxwrio-xjcfta.png"><br><br>  Adicionado a si mesmo, n√£o ajudou.  Talvez o JTAG para a ponte Avalon, ao qual todos os dispositivos perif√©ricos estejam conectados adicionalmente, seja o culpado? <br><br><img src="https://habrastorage.org/webt/to/al/dr/toaldrafp5anp22mp7f-b0kfv6o.png"><br><br>  Adicionado - n√£o ajudou.  Tentei mais algumas hip√≥teses, mas percebi que voc√™ pode adivinhar para sempre.  Com pesar, eu at√© perguntei a Yandex, Bing e at√© BaiDu.  Todos eles sabem menos que o Google.  Ficou claro que tivemos que lidar com a descompila√ß√£o para extrair do pr√≥prio programa o que era necess√°rio.  Verificado em que idioma o programa est√° escrito.  Aconteceu isso em Java.  O bytecode √© armazenado no arquivo Altera_Monitor_Program.jar.  Bem, √© estranho.  Exceto pelo fato de eu n√£o conhecer esse Java.  No Java Script, houve um caso, envolvido na Internet das Coisas, mas n√£o encontrei um Java real.  Mas onde o nosso n√£o desapareceu! <br><br><h3>  An√°lise de bytecode JAVA para encontrar o problema </h3><br>  Como abrir c√≥digo de bytes?  O Google levou a um artigo sobre Habr√©, que afirma que, para isso, voc√™ precisa usar a JD-GUI.  Encontrei no github, baixei.  Identifiquei a √°rea do problema rapidamente, pois a JD-GUI possui uma navega√ß√£o interativa maravilhosa.  Deixei o post no site em 10 minutos.  Esta se√ß√£o chama um programa de terceiros, ap√≥s o qual analisa sua resposta.  A chamada √© assim: <br><pre><code class="plaintext hljs">systemConsoleCommand[index] = "system-console"; systemConsoleCommand[var24++] = "--script=" + Globals.gHost.getMonitorProgramRootDir("bin/jtag_instance_check.tcl", true); systemConsoleCommand[var24++] = cable; systemConsoleCommand[var24++] = Globals.gProject.system.sofFilename; try { Process sysConsoleProc = NiosIIShell.executeCommand(systemConsoleCommand).start(); BufferedReader gdbIn = new BufferedReader(new InputStreamReader(sysConsoleProc.getInputStream()));</code> </pre> <br>  Bem, e al√©m disso - an√°lise da resposta que ainda n√£o consideramos. <br><br>  Com esse c√≥digo, tentei abrir o console do NIOS II: <br><br><img src="https://habrastorage.org/webt/s4/u8/tl/s4u8tl-vtf3qn8x0ckrughrfjey.png"><br><br>  L√° fui para o diret√≥rio onde est√° o arquivo sof e dirigi a linha de comando: <br>  <b>system-console --script = jtag_instance_check.tcl USB-0 test.sof</b> <br><br>  No entanto, para isso, tive que copiar o arquivo C: \ intelFPGALite \ 17.1 \ University_Program \ Monitor_Program \ bin \ jtag_instance_check.tcl no mesmo local em que est√° o sof, para n√£o sofrer com o caminho.  No final, recebi uma resposta bastante decente: <br><br>  <b>TYPE_NAME altera_avalon_jtag_uart.jtag FULL_HPATH jtag_uart_0 (INSTANCE_ID: 0)</b> <b><br><br></b>  <b>TYPE_NAME altera_nios2_gen2.data_master FULL_HPATH nios2_gen2_0 (INSTANCE_ID: 0)</b> <b><br></b> <br><br>  Tudo parece lindo ... <br><br><h3>  Rastreio de Bytecode JAVA </h3><br>  Se o caso ocorreu hoje, esta se√ß√£o n√£o existiria.  Mas aconteceu ontem.  Eu ainda entendia Java muito mal.  O que foi escrito l√° enquanto analisava o texto era uma floresta escura para mim.  √â verdade que, por dois anos, meu filho participou de cursos de programa√ß√£o ol√≠mpica em 1 franqueados sovi√©ticos (certificados e folhetos eram 1 sovi√©tico).  Dinheiro louco foi dado para esses cursos.  E eles os ensinaram l√° apenas em Java.  Portanto, ele tamb√©m n√£o entendeu o que foi escrito mais adiante no c√≥digo (mantendo a intriga, publicarei o c√≥digo um pouco mais baixo, n√£o agora).  Em geral, havia um sentimento persistente de que era hora de rastrear.  Eu conhe√ßo a se√ß√£o ruim, vejo que as linhas foram recebidas l√° e o programa n√£o gosta delas com alguma coisa.  E da√≠? <br><br>  A crian√ßa me encontrou um artigo maravilhoso: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">www.crowdstrike.com/blog/native-java-bytecode-debugging-without-source-code</a> <br><br>  Ele fala sobre um plugin muito √∫til para o Eclipse, que permite trabalhar com JARs, definindo pontos de interrup√ß√£o neles.  Onde baixar, encontrei aqui: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">marketplace.eclipse.org/content/bytecode-visualizer/help</a> <br><br>  Baixei o Eclipse, baixei o plug-in para instala√ß√£o offline com tristeza ao meio ... Comecei a instalar - n√£o h√° bibliotecas suficientes.  Comecei a ler.  Acontece que existem tr√™s vers√µes do plugin.  Sob Eslipse 4.5 (Marte), 4.4 (Luna) e 4.3 (n√£o lembro o nome).  Bem, tudo √© simples.  Vamos ao site do Eclipse, vemos um link para baixar a vers√£o do Mars para Java ... E ... Est√° morto.  Isso n√£o importa!  Existem cerca de uma d√∫zia de espelhos! .. E todos os links para eles est√£o mortos.  Tentamos o Luna para Java, h√° links para x64 mortos, para x86 h√° um vivo ... Como um amigo meu diz: "Hemorr√≥idas, √© abrangente."  Em geral, o Google teve dificuldade, mas me encontrou um assembly Java de 64 bits da vers√£o Mars em algum servidor n√£o oficial.  Eu baixei por meia hora, mas baixei. <br><br>  Implementou um plugin, criou um projeto ... Horror!  L√°, o rastreio n√£o est√° no n√≠vel do c√≥digo-fonte, mas no n√≠vel de um assembler.  Em resumo, o c√≥digo de bytes decodificado √© rastreado.  Mas, na verdade, isso n√£o importa!  Afinal, voc√™ sempre pode verificar com as fontes descompiladas abertas em outra janela, al√©m de que o plug-in mostra coment√°rios muito bons ... Tamb√©m se descobriu que os pontos de interrup√ß√£o podem ser definidos n√£o em nenhum lugar, mas apenas na entrada da fun√ß√£o.  Mas n√£o consigo parar!  N√£o h√° muito l√° e voc√™ precisa caminhar da entrada para a √°rea problem√°tica. <br><br>  Deixe-me lembr√°-lo de que as linhas processadas s√£o assim: <br>  <b>TYPE_NAME altera_avalon_jtag_uart.jtag FULL_HPATH jtag_uart_0 (INSTANCE_ID: 0)</b> <b><br><br></b>  <b>TYPE_NAME altera_nios2_gen2.data_master FULL_HPATH nios2_gen2_0 (INSTANCE_ID: 0)</b> <br><br>  E aqui est√° o c√≥digo Java: <br><pre> <code class="plaintext hljs">if (str.contains("(INSTANCE_ID:")) { Pattern getInstance = Pattern.compile("\\(INSTANCE_ID:(\\d+)\\)"); Matcher idMatcher = getInstance.matcher(str); if (idMatcher.find()) { String foundstr = idMatcher.group(1); instance = Integer.parseInt(foundstr); }</code> </pre><br>  isola perfeitamente o ID da inst√¢ncia.  E aqui est√° o c√≥digo: <br><pre> <code class="plaintext hljs"> Pattern getHPath = Pattern.compile("FULL_HPATH (.+?)\\|(.+?) \\("); Matcher hpathMatcher = getHPath.matcher(str); if (hpathMatcher.find()) { hpath = hpathMatcher.group(2).replace("|", "."); }</code> </pre><br>  A vari√°vel hpath n√£o √© preenchida.  Hoje eu j√° sei que a express√£o regular: <br><pre> <code class="plaintext hljs">"FULL_HPATH (.+?)\\|(.+?) \\("</code> </pre> <br>  requer duas palavras separadas por uma barra vertical.  Bem, ent√£o apenas o que √© depois da linha √© tomada.  Eu n√£o sabia ontem.  Mais interessante √© outro.  A crian√ßa estudou trabalhar em Java por dois anos e n√£o aprendeu express√µes regulares!  N√£o, √© claro que eles aprenderam n√£o a linguagem, mas a programa√ß√£o da Olimp√≠ada por meio da linguagem, mas, pelo que entendi, as express√µes regulares em Java est√£o na ordem das coisas.  Eles aceitam esse dinheiro, sacam certificados de empresas conceituadas, mas n√£o ensinam coisas importantes ... Mas eu discordo. <br><br><h3>  Luz no fim do t√∫nel </h3><br>  Qual √© a linha vertical?  Pegamos o projeto que funcionou, damos a mesma equipe e obtemos esta resposta: <br><br>  <b>TYPE_NAME altera_avalon_jtag_uart.jtag FULL_HPATH Computer_System: The_System | JTAG_UART (INSTANCE_ID: 0)</b> <b><br><br></b>  <b>TYPE_NAME altera_avalon_jtag_uart.jtag FULL_HPATH Computer_System: The_System | JTAG_UART_2nd_Core (INSTANCE_ID: 1)</b> <b><br><br></b>  <b>TYPE_NAME altera_avalon_jtag_uart.jtag FULL_HPATH Computer_System: The_System | JTAG_UART_for_ARM_0 (INSTANCE_ID: 2)</b> <b><br><br></b>  <b>TYPE_NAME altera_avalon_jtag_uart.jtag FULL_HPATH Computer_System: The_System | JTAG_UART_for_ARM_1 (INSTANCE_ID: 3)</b> <b><br><br></b>  <b>TYPE_NAME altera_nios2_gen2.data_master FULL_HPATH Computer_System: The_System | Nios2 (INSTANCE_ID: 0)</b> <b><br><br></b>  <b>TYPE_NAME altera_nios2_gen2.data_master FULL_HPATH Computer_System: The_System | Nios2_2nd_Core (INSTANCE_ID: 1)</b> <br><br>  O que √© o Computer_System: The_System?  Tudo √© simples aqui.  Nesta s√©rie de artigos, estou promovendo uma ideia avan√ßada em que o sistema de computadores est√° no n√≠vel superior da hierarquia. <div class="spoiler">  <b class="spoiler_title">E este exemplo tem esta camada Verilog:</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">module DE0_Nano_SoC_Computer ( //////////////////////////////////// // FPGA Pins //////////////////////////////////// // Clock pins input CLOCK_50, input CLOCK2_50, input CLOCK3_50, // ADC output ADC_CONVST, output ADC_SCLK, output ADC_SDI, input ADC_SDO, // ARDUINO inout [15:0] ARDUINO_IO, inout ARDUINO_RESET_N, // GPIO inout [35:0] GPIO_0, inout [35:0] GPIO_1, // KEY input [1:0] KEY, // LED output [7:0] LED, // SW input [3:0] SW, //////////////////////////////////// // HPS Pins //////////////////////////////////// // DDR3 SDRAM output [14:0] HPS_DDR3_ADDR, output [2:0] HPS_DDR3_BA, output HPS_DDR3_CAS_N, output HPS_DDR3_CKE, output HPS_DDR3_CK_N, output HPS_DDR3_CK_P, output HPS_DDR3_CS_N, output [3:0] HPS_DDR3_DM, inout [31:0] HPS_DDR3_DQ, inout [3:0] HPS_DDR3_DQS_N, inout [3:0] HPS_DDR3_DQS_P, output HPS_DDR3_ODT, output HPS_DDR3_RAS_N, output HPS_DDR3_RESET_N, input HPS_DDR3_RZQ, output HPS_DDR3_WE_N, // Ethernet output HPS_ENET_GTX_CLK, inout HPS_ENET_INT_N, output HPS_ENET_MDC, inout HPS_ENET_MDIO, input HPS_ENET_RX_CLK, input [3:0] HPS_ENET_RX_DATA, input HPS_ENET_RX_DV, output [3:0] HPS_ENET_TX_DATA, output HPS_ENET_TX_EN, // Accelerometer inout HPS_GSENSOR_INT, // I2C inout HPS_I2C0_SCLK, inout HPS_I2C0_SDAT, inout HPS_I2C1_SCLK, inout HPS_I2C1_SDAT, // Pushbutton inout HPS_KEY, // LED inout HPS_LED, // LTC inout HPS_LTC_GPIO, // SD Card output HPS_SD_CLK, inout HPS_SD_CMD, inout [3:0] HPS_SD_DATA, // SPI output HPS_SPIM_CLK, input HPS_SPIM_MISO, output HPS_SPIM_MOSI, inout HPS_SPIM_SS, // UART input HPS_UART_RX, output HPS_UART_TX, // USB inout HPS_CONV_USB_N, input HPS_USB_CLKOUT, inout [7:0] HPS_USB_DATA, input HPS_USB_DIR, input HPS_USB_NXT, output HPS_USB_STP ); //======================================================= // REG/WIRE declarations //======================================================= wire hps_fpga_reset_n; //======================================================= // Structural coding //======================================================= Computer_System The_System ( //////////////////////////////////// // FPGA Side //////////////////////////////////// // Global signals .system_pll_ref_clk_clk (CLOCK_50), .system_pll_ref_reset_reset (1'b0), // ADC .adc_sclk (ADC_SCLK), .adc_cs_n (ADC_CONVST), .adc_dout (ADC_SDO), .adc_din (ADC_SDI), // Arduino GPIO .arduino_gpio_export (ARDUINO_IO), // Arduino Reset_n .arduino_reset_n_export (ARDUINO_RESET_N), // Slider Switches .slider_switches_export (SW), // Pushbuttons .pushbuttons_export (~KEY), // Expansion JP1 .expansion_jp1_export ({GPIO_0[35:19], GPIO_0[17], GPIO_0[15:3], GPIO_0[1]}), // Expansion JP7 .expansion_jp7_export ({GPIO_1[35:19], GPIO_1[17], GPIO_1[15:3], GPIO_1[1]}), // LEDs .leds_export (LED), //////////////////////////////////// // HPS Side //////////////////////////////////// // DDR3 SDRAM .memory_mem_a (HPS_DDR3_ADDR), .memory_mem_ba (HPS_DDR3_BA), .memory_mem_ck (HPS_DDR3_CK_P), .memory_mem_ck_n (HPS_DDR3_CK_N), .memory_mem_cke (HPS_DDR3_CKE), .memory_mem_cs_n (HPS_DDR3_CS_N), .memory_mem_ras_n (HPS_DDR3_RAS_N), .memory_mem_cas_n (HPS_DDR3_CAS_N), .memory_mem_we_n (HPS_DDR3_WE_N), .memory_mem_reset_n (HPS_DDR3_RESET_N), .memory_mem_dq (HPS_DDR3_DQ), .memory_mem_dqs (HPS_DDR3_DQS_P), .memory_mem_dqs_n (HPS_DDR3_DQS_N), .memory_mem_odt (HPS_DDR3_ODT), .memory_mem_dm (HPS_DDR3_DM), .memory_oct_rzqin (HPS_DDR3_RZQ), // Accelerometer .hps_io_hps_io_gpio_inst_GPIO61 (HPS_GSENSOR_INT), // Ethernet .hps_io_hps_io_gpio_inst_GPIO35 (HPS_ENET_INT_N), .hps_io_hps_io_emac1_inst_TX_CLK (HPS_ENET_GTX_CLK), .hps_io_hps_io_emac1_inst_TXD0 (HPS_ENET_TX_DATA[0]), .hps_io_hps_io_emac1_inst_TXD1 (HPS_ENET_TX_DATA[1]), .hps_io_hps_io_emac1_inst_TXD2 (HPS_ENET_TX_DATA[2]), .hps_io_hps_io_emac1_inst_TXD3 (HPS_ENET_TX_DATA[3]), .hps_io_hps_io_emac1_inst_RXD0 (HPS_ENET_RX_DATA[0]), .hps_io_hps_io_emac1_inst_MDIO (HPS_ENET_MDIO), .hps_io_hps_io_emac1_inst_MDC (HPS_ENET_MDC), .hps_io_hps_io_emac1_inst_RX_CTL (HPS_ENET_RX_DV), .hps_io_hps_io_emac1_inst_TX_CTL (HPS_ENET_TX_EN), .hps_io_hps_io_emac1_inst_RX_CLK (HPS_ENET_RX_CLK), .hps_io_hps_io_emac1_inst_RXD1 (HPS_ENET_RX_DATA[1]), .hps_io_hps_io_emac1_inst_RXD2 (HPS_ENET_RX_DATA[2]), .hps_io_hps_io_emac1_inst_RXD3 (HPS_ENET_RX_DATA[3]), // I2C .hps_io_hps_io_i2c0_inst_SDA (HPS_I2C0_SDAT), .hps_io_hps_io_i2c0_inst_SCL (HPS_I2C0_SCLK), .hps_io_hps_io_i2c1_inst_SDA (HPS_I2C1_SDAT), .hps_io_hps_io_i2c1_inst_SCL (HPS_I2C1_SCLK), // Pushbutton .hps_io_hps_io_gpio_inst_GPIO54 (HPS_KEY), // LED .hps_io_hps_io_gpio_inst_GPIO53 (HPS_LED), // LTC .hps_io_hps_io_gpio_inst_GPIO40 (HPS_LTC_GPIO), // SD Card .hps_io_hps_io_sdio_inst_CMD (HPS_SD_CMD), .hps_io_hps_io_sdio_inst_D0 (HPS_SD_DATA[0]), .hps_io_hps_io_sdio_inst_D1 (HPS_SD_DATA[1]), .hps_io_hps_io_sdio_inst_CLK (HPS_SD_CLK), .hps_io_hps_io_sdio_inst_D2 (HPS_SD_DATA[2]), .hps_io_hps_io_sdio_inst_D3 (HPS_SD_DATA[3]), // SPI .hps_io_hps_io_spim1_inst_CLK (HPS_SPIM_CLK), .hps_io_hps_io_spim1_inst_MOSI (HPS_SPIM_MOSI), .hps_io_hps_io_spim1_inst_MISO (HPS_SPIM_MISO), .hps_io_hps_io_spim1_inst_SS0 (HPS_SPIM_SS), // UART .hps_io_hps_io_uart0_inst_RX (HPS_UART_RX), .hps_io_hps_io_uart0_inst_TX (HPS_UART_TX), // USB .hps_io_hps_io_gpio_inst_GPIO09 (HPS_CONV_USB_N), .hps_io_hps_io_usb1_inst_D0 (HPS_USB_DATA[0]), .hps_io_hps_io_usb1_inst_D1 (HPS_USB_DATA[1]), .hps_io_hps_io_usb1_inst_D2 (HPS_USB_DATA[2]), .hps_io_hps_io_usb1_inst_D3 (HPS_USB_DATA[3]), .hps_io_hps_io_usb1_inst_D4 (HPS_USB_DATA[4]), .hps_io_hps_io_usb1_inst_D5 (HPS_USB_DATA[5]), .hps_io_hps_io_usb1_inst_D6 (HPS_USB_DATA[6]), .hps_io_hps_io_usb1_inst_D7 (HPS_USB_DATA[7]), .hps_io_hps_io_usb1_inst_CLK (HPS_USB_CLKOUT), .hps_io_hps_io_usb1_inst_STP (HPS_USB_STP), .hps_io_hps_io_usb1_inst_DIR (HPS_USB_DIR), .hps_io_hps_io_usb1_inst_NXT (HPS_USB_NXT) ); endmodule</code> </pre><br></div></div><br>  Eu o trouxe especificamente na √≠ntegra para enfatizar quanto c√≥digo completamente desnecess√°rio voc√™ precisa escrever neste caso.  E se as pernas forem adicionadas ou removidas, esse c√≥digo tamb√©m precisar√° ser editado.  Na verdade, as linhas <br><br><img src="https://habrastorage.org/webt/gg/_n/b3/gg_nb3rvplsmdkewhuqiqgctyqa.png"><br><div class="spoiler">  <b class="spoiler_title">Mesmo texto:</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">... Computer_System The_System ( //////////////////////////////////// // FPGA Side //////////////////////////////////// // Global signals .system_pll_ref_clk_clk (CLOCK_50), ...</code> </pre><br></div></div><br>  e d√™ esse prefixo.  Os autores acreditam que a hierarquia deve ser tal, somente esta e nenhuma outra.  O sistema do processador n√£o pode ser removido mais profundamente e n√£o pode ser carregado. <br><br><h3>  N√£o devemos esperar miseric√≥rdia da natureza, aceite - nossa tarefa! </h3><br>  Realmente fizemos um trabalho t√£o puro para aturar esse assunto?  Como um amigo meu gosta de dizer: ‚Äútrabalho desnecess√°rio √© pior que embriaguez‚Äù, e a cria√ß√£o de uma camada desse tipo √© um caso t√≠pico de trabalho desnecess√°rio.  Portanto, tentaremos contornar essa limita√ß√£o.  Lembre-se, ao chamar um programa JAVA de terceiros, o c√≥digo substituiu algum script tcl, eu tamb√©m o copiei para o diret√≥rio pr√≥ximo ao arquivo sof?  √â a nossa salva√ß√£o!  √â ele quem diz ao console do sistema que a√ß√µes executar e √© ele quem formata a resposta.  a formata√ß√£o √© assim: <br><img src="https://habrastorage.org/webt/6a/si/cq/6asicqpxflldfmtmq1qveh_6c4q.png"><br><div class="spoiler">  <b class="spoiler_title">Mesmo texto:</b> <div class="spoiler_text"><pre> <code class="plaintext hljs"># PRINT OUT INSTANCE ID INFO FOR EVERYTHING: set i 0 foreach path [lsort -command compare_node_number [get_service_paths bytestream]] { # If this path corresponds to a JTAG UART, incr i if {[string match *$cable_name* $path ] &amp;&amp; [string match *jtag_uart* [marker_get_type $path] ]} { puts "[marker_get_info $path] (INSTANCE_ID:$i)" incr i } } set i 0 foreach path [lsort -command compare_node_number [get_service_paths processor]] { # If this path corresponds to a NiosII, incr i if {[string match *$cable_name* $path ] &amp;&amp; [string match *nios2* [marker_get_type $path] ]} { puts "[marker_get_info $path] (INSTANCE_ID:$i)" incr i } }</code> </pre><br></div></div><br>  O primeiro bloco formata informa√ß√µes sobre os blocos JTAG_UART, o segundo - sobre os n√∫cleos do processador.  Agora, se aqui adicionarmos linhas verticais ao fluxo de sa√≠da!  Meu colega corrigiu esta se√ß√£o da seguinte maneira: <br><pre> <code class="plaintext hljs"># PRINT OUT INSTANCE ID INFO FOR EVERYTHING: set i 0 foreach path [lsort -command compare_node_number [get_service_paths bytestream]] { # If this path corresponds to a JTAG UART, incr i if {[string match *$cable_name* $path ] &amp;&amp; [string match *jtag_uart* [marker_get_type $path] ]} { set info [marker_get_info $path] if {[string first "|" $info] == -1} { set info [string map {"FULL_HPATH " "FULL_HPATH a:b|"} $info] } puts "$info (INSTANCE_ID:$i)" incr i } } set i 0 foreach path [lsort -command compare_node_number [get_service_paths processor]] { # If this path corresponds to a NiosII, incr i if {[string match *$cable_name* $path ] &amp;&amp; [string match *nios2* [marker_get_type $path] ]} { set info [marker_get_info $path] if {[string first "|" $info] == -1} { set info [string map {"FULL_HPATH " "FULL_HPATH a:b|"} $info] } puts "$info (INSTANCE_ID:$i)" incr i } }</code> </pre><br>  Agora, se n√£o houver tra√ßos, eles ser√£o adicionados.  E, finalmente, o programa funcionar√° n√£o apenas com um sistema terr√≠vel, mas tamb√©m com um sistema de processador idealmente escrito! <br><br><h2>  Configurando um projeto no Altera Monitor </h2><br>  Uffff.  S√≥ isso.  O fim das goivagens, off-road e desleixado (embora, sobre off-road - isso n√£o √© preciso).  Agora, novamente, os desenhos no artigo refletem as instru√ß√µes para o trabalho!  Temos um projeto para FPGAs, bem como um programa que cria e executa no Eclipse.  Agora inicie o Altera Monitor e crie um projeto. <br><br><img src="https://habrastorage.org/webt/zy/kc/b0/zykcb02zebkc-u6wknzbnnqozew.png"><br><br>  Criamos um cat√°logo com o projeto (coloquei-o separadamente do projeto para FPGA) e fornecemos o nome do projeto.  Escolha tamb√©m uma arquitetura de processador <br><br><img src="https://habrastorage.org/webt/md/8c/sg/md8csgrftsf_j0mt8vyjrcaaaua.png"><br><br>  O sistema que eu escolho √© Sistema Personalizado.  Voc√™ deve especificar meus arquivos * .sof e * .sopcinfo.  Eu os seleciono nos diret√≥rios de trabalho.  Nosso sistema n√£o precisa de um pr√©-carregador. <br><br><img src="https://habrastorage.org/webt/ej/zb/ad/ejzbad_u22w-hczkkgluen36nfa.png"><br><br>  Selecione o tipo de programa Programa com suporte a driver de dispositivo e a biblioteca BSP ser√° criada: <br><br><img src="https://habrastorage.org/webt/td/dw/ew/tddwewush_a8-srgsrrnpbcmbo4.png"><br><br>  At√© agora, existe apenas um arquivo de trabalho (ele foi criado no Eclipse).  Aqui eu adiciono: <br><br><img src="https://habrastorage.org/webt/f9/pt/mk/f9ptmk-t78ilnla5-7hm4mlnpno.png"><br><br>  Na √∫ltima janela, n√£o mudo nada: <br><br><img src="https://habrastorage.org/webt/sm/lf/e_/smlfe__fqs5gt3ieiuhcryd0fso.png"><br><br>  Concordamos com o download do arquivo sof: <br><br><img src="https://habrastorage.org/webt/yl/x6/qx/ylx6qxkmhkql0hbxgdqgakxek4c.png"><br><br>  Se apenas instalamos o software, mudamos para o modo de fonte.  Em seguida, ele j√° estar√° ativado (mostrarei como √© o menu quando tudo estiver ativado, tamb√©m haver√° um item para inclus√£o). <br><br><img src="https://habrastorage.org/webt/nj/jo/4p/njjo4pxzvs87ygedajsdkh8gx_u.png"><br><br>  Eu tenho o programa C mais simples: <br><pre> <code class="plaintext hljs">#include "sys/alt_stdio.h" int main() { alt_putstr("Hello from Nios II!\n"); volatile int i=0; i += 1; i += 2; i += 3; i += 4; i += 5; i += 6; i += 7; i += 8; i += 9; i += 10; i += 11; i += 12; /* Event loop never exits. */ while (1); return 0; }</code> </pre><br>  Estou tentando coletar: <br><br><img src="https://habrastorage.org/webt/d_/2q/pq/d_2qpq5wlpcikhp1sqfzfn4qfxq.png"><br><br>  Eu recebo um erro: <br>  <b>c: /intelfpga/17.1/nios2eds/bin/gnu/h-x86_64-mingw32/bin /../ lib / gcc / nios2-elf / 5.3.0 /../../../../ .. /H-x86_64-mingw32/nios2-elf/bin/ld.exe: c√≥digo da regi√£o excedido em 15888 bytes</b> <br><br>  Isso ocorre porque eu n√£o adicionei SDRAM ao sistema, limitei-o √† mem√≥ria FPGA interna.  Mas por que tudo se encaixava no Eclipse, mas n√£o aqui?  Porque eu escolhi o BSP l√° com o sufixo Small, mas aqui eu fui automaticamente feito um pacote regular.  Portanto, abra o arquivo: C: \ Work \ Play2 \ BSP \ settings.bsp <br><br>  E come√ßamos o ajuste manual. <br><br><img src="https://habrastorage.org/webt/bu/tv/vn/butvvng3etvwox28euel6mvggyq.png"><br><br><img src="https://habrastorage.org/webt/sq/ei/kk/sqeikkntwrn4ju8qtve_yybvgxw.png"><br><br>  Reconstrua o BSP: <br><br><img src="https://habrastorage.org/webt/a0/sf/0_/a0sf0_tbaegc9-cusl2bfa-xova.png"><br><br>  E novamente coletamos o projeto.  Desta vez com sucesso.  Agora carregue-o: <br><br><img src="https://habrastorage.org/webt/sm/kg/rl/smkgrlr9croftl0y-fagdqqhr1a.png"><br><br><h2>  Finalmente, o verdadeiro tra√ßo </h2><br>  Voc√™ n√£o esqueceu por que eu fa√ßo tudo isso?  Eu fa√ßo isso para rastrear.  Deve ser ativado.  Para fazer isso, v√° para a guia Rastreio e selecione Ativar Rastreio no menu de contexto: <br><br><img src="https://habrastorage.org/webt/nv/bo/pp/nvboppbqx8ihyhh6qlxmbxjgfq0.png"><br><br>  Vou colocar um ponto de interrup√ß√£o no final da fun√ß√£o main () na guia Desmontagem (como √© bom o montador RISC cuidar do terr√≠vel montador de pilha no qual o c√≥digo Java √© convertido!) <br><br>  Aqui est√° o come√ßo da fun√ß√£o principal: <br><br><img src="https://habrastorage.org/webt/ue/m2/-q/uem2-qdgcpj7stuobbouowscfkw.png"><br><br>  Role um pouco e coloque um ponto de interrup√ß√£o aqui: <br><br><img src="https://habrastorage.org/webt/ev/zf/ot/evzfotqiwhr4w0j2f-xrilmfooe.png"><br><br>  Come√ßamos, esperamos uma parada e vamos para a guia Rastreio. <br><br>  Em geral, nem tudo est√° muito bem.  No come√ßo, havia obviamente algum tipo de expectativa (tivemos uma conclus√£o no JTAG l√°, ent√£o √© uma coisa leg√≠tima): <br><br><img src="https://habrastorage.org/webt/yd/fo/jf/ydfojfs41-yysqn8kqndisvaguw.png"><br><br>  No final - algum outro c√≥digo ... Mas n√£o vejo o c√≥digo da fun√ß√£o principal!  Aqui est√° o fim: <br><br><img src="https://habrastorage.org/webt/ww/eb/ky/wwebkyjc8nj3nrdnxrpfqoosbc0.png"><br><br>  Eu nem sei o que dizer.  Mas, enfim, se voc√™ n√£o colocar um, mas dois pontos de interrup√ß√£o (no in√≠cio e no final da fun√ß√£o principal), depois de executar do primeiro para o segundo, a imagem ser√° decente: <br><br><img src="https://habrastorage.org/webt/kq/pr/en/kqprenc25bb2vbucdmxq_49vzqy.png"><br><br><h2>  Breves conclus√µes </h2><br>  Ent√£o, descobrimos que √© bem poss√≠vel descobrir como um site espec√≠fico funcionou.  Portanto, o t√≥pico do artigo ("... como o processador chegou a essa vida") √© divulgado.  √â mais interessante como todos aqueles cujos problemas tiveram que ser resolvidos para obter um resultado chegaram a essa vida?  E √© uma pena que at√© agora eu n√£o tenha sido capaz de determinar quantas barras uma equipe em particular completou.  A partir de trechos da documenta√ß√£o, fica claro que isso parece ser tecnicamente poss√≠vel, mas que software permitir√° que isso seja feito n√£o est√° claro.  H√° uma opini√£o de que o documento <b>Analisando e Depurando Projetos com o System Console</b> , que eu precisei ler ao analisar o script tcl, nos ajudar√°.  Ele possui um tablet interessante. <b>Tabela 10-15: Comandos do sistema de rastreamento</b> , mas, pessoalmente, n√£o tenho tempo para um estudo detalhado desse assunto.  Mas talvez seja t√£o importante para algu√©m que ele implemente tudo.  Esses comandos est√£o inclu√≠dos nos scripts tcl. <br><br>  Bem, nos artigos a seguir, as medi√ß√µes ter√£o que ser feitas da maneira antiga, com um oscilosc√≥pio. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt464795/">https://habr.com/ru/post/pt464795/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt464779/index.html">Sobre abelhas hedonistas, a maneira como as pessoas as fazem trabalhar e drones</a></li>
<li><a href="../pt464781/index.html">TVs inteligentes: CRT para HDR</a></li>
<li><a href="../pt464785/index.html">Benef√≠cios Beeline n√£o competitivos</a></li>
<li><a href="../pt464787/index.html">Tenho certeza de que o desenvolvedor s√™nior de celular vir√° apenas por recomenda√ß√£o</a></li>
<li><a href="../pt464791/index.html">Kubernetes para o carro: como abrir o acesso do desenvolvedor ao computador de bordo e torn√°-lo seguro</a></li>
<li><a href="../pt464803/index.html">"Ocultar www": por que os desenvolvedores de navegadores tradicionais se recusaram a exibir o subdom√≠nio</a></li>
<li><a href="../pt464805/index.html">Escrevendo uma cobra no ipad (pythonista)</a></li>
<li><a href="../pt464809/index.html">Como testamos a tecnologia de reconhecimento de rosto e o que veio dela</a></li>
<li><a href="../pt464811/index.html">Apple Music para o desenvolvedor</a></li>
<li><a href="../pt464813/index.html">Substituindo o Punto Switcher, layouts Birman por um script na autohotkey</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>