<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö≠ üö£üèø üçã Clique na fama, ou como excitar um rob√¥ e ... outros ‚¨ÜÔ∏è üåÄ üå©Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Era uma vez uma conversa espont√¢nea na frente de uma loja distante e distante : 


NB: - ?  
 GURU : - ¬´¬ª . .    .   ,  ... 
 


 NB: - , ?  
 GURU : ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Clique na fama, ou como excitar um rob√¥ e ... outros</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/432038/"><img src="https://habrastorage.org/webt/px/hq/po/pxhqpot6x9sqphxahh2fzhk4pz8.png"><br><br>  Era uma vez uma conversa espont√¢nea <strike>na frente de uma loja distante e distante</strike> : <br><blockquote><pre><code class="plaintext hljs">NB: -         ?</code> </pre> <br> <code><b>GURU</b> : -    ¬´¬ª      . . <b> </b>   <b></b> .  <b> </b> ,         <b></b> ...</code> <br> <br><pre> <code class="plaintext hljs">NB: -      ,     ?</code> </pre> <br> <code><b>GURU</b> : -    <strong>google</strong>   <b>yandex</b>  ,    .    <b></b>       .    ,      .</code> <br> <br><pre> <code class="plaintext hljs">NB: -       ?</code> </pre> <br> <code><b>GURU</b> : - ?‚Ä¶   <strong></strong> ...</code> <br> </blockquote>  <b>NB</b> parou de perguntar, aparentemente temendo incomodar um interlocutor claramente mais experiente. <br>  <b>GURU</b> revirou os olhos, como se enfatizasse o esgotamento do t√≥pico de procura√ß√£o e ficou em sil√™ncio ... <br><a name="habracut"></a><br>  Obviamente, o <strong>GURU</strong> sabia que uma consulta de pesquisa (por exemplo, com a palavra: proxy) muito em breve levaria o <strong>NB</strong> a obter o endere√ßo desejado: lista de portas.  Mas ap√≥s os primeiros experimentos, o <strong>NB</strong> , com a mesma rapidez, entender√°: <br><br><ul><li>  Nem todos os endere√ßos em sua lista est√£o funcionando; </li><li>  Nem todos os proxies s√£o igualmente bons; </li><li>  "Aderir" manualmente a um site atrav√©s de um proxy √© uma tarefa que requer uma vontade consider√°vel; </li><li>  Um proxy "errado" prejudicar√° a situa√ß√£o, porque  o site pode ser suspeitado por scripts de gigantes. </li></ul><hr><br>  Neste artigo, falarei sobre como improvisado (e mais importante, universal) significa <br>  (sem usar software propriet√°rio espec√≠fico, como <strong>ZennoPoster</strong> , etc ...) <br>  crie uma ferramenta automatizada para obter uma lista de proxies ‚Äúrealmente adequados‚Äù e us√°-los para organizar visitas (automatizadas) aos promovidos <br>  site usando o <strong>navegador Chrome</strong> . <br><br>  Seguindo as instru√ß√µes, voc√™ receber√° uma ferramenta pronta que permitir√°: <br><br><ul><li>  ‚ÄúClique‚Äù - (visite) o site de destino completamente automaticamente, sem medo de comprometer-se; </li><li>  emular totalmente o comportamento do usu√°rio; </li><li>  organizar todas as visitas de acordo com um cronograma (cen√°rio); </li><li>  fa√ßa tudo o que precede no n√∫mero de vezes necess√°rio para avan√ßar. </li></ul><br>  E embora todo o meu trabalho (junto com a pesquisa) tenha levado uma semana, voc√™ n√£o precisar√° de dois dias para criar essa ferramenta, com conhecimentos b√°sicos da <strong>linha de comando</strong> , <b>PHP</b> e <b>JavaScript</b> . <br><hr><br>  No entanto, antes de rolar abaixo do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">diagrama</a> a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">seguir</a> , direi algumas palavras sobre por que esse material √© preparado e para quem. <br><br>  O material ser√° √∫til se voc√™ quiser entender como as constru√ß√µes (? Ou construtores?) S√£o organizadas com as quais voc√™ pode construir um aplicativo de forma relativamente r√°pida, f√°cil e sem custos, adapt√°vel √†s mudan√ßas de carga.  Se voc√™ estiver interessado na possibilidade de criar um aplicativo com base em um barramento de servi√ßo ( <abbr title="Barramento de servi√ßo corporativo">ESB</abbr> ). <br><br>  O texto ser√° √∫til se voc√™ deseja se familiarizar com o uso do <strong>Docker</strong> para sistemas de constru√ß√£o <b>instant√¢nea</b> .  Ou se voc√™ est√° interessado apenas no <strong>Selenium Server</strong> e nas nuances de recebimento de conte√∫do / manifesta√ß√£o da atividade HTTPx. <br><blockquote>  Para "usar imediatamente", ler cuidadosamente tudo isso n√£o vale a pena.  O c√≥digo √© certo. </blockquote><div class="spoiler">  <b class="spoiler_title">V√° direto para a configura√ß√£o da ferramenta pronta.</b>  <b class="spoiler_title">A instala√ß√£o leva menos de 20 minutos.</b> <div class="spoiler_text">  O manual pressup√µe que voc√™ tem 2 m√°quinas √† sua disposi√ß√£o com o Ubuntu 18.04 instalado. <br>  Um para a infraestrutura ( <b>janela de encaixe</b> ), o outro para controle de <b>processo</b> ( <b>processo</b> ). <br><br>  Sup√µe-se que os seguintes pacotes j√° estejam instalados na <b>janela</b> de <b>encaixe</b> : <br><blockquote>  <i>git, docker, docker-compor</i> </blockquote><br>  Sup√µe-se que os seguintes pacotes j√° estejam instalados no <b>processo</b> : <br><blockquote>  <i>git, php-common, php-cli, php-curl, php-zip, php-memcached, compositor</i> </blockquote>  Se voc√™ tiver alguma d√∫vida neste momento, sugiro que passe 15 minutos lendo todo o material. <br><br>  <strong>estivador</strong> <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#    root-. # ,     TCP-: # 11300, 11211, 4444, 5930, 8080, 8081, 8082, 8083 #        # " root-"    git clone \ https://oauth2:YRGzV8Ktx2ztoZg_oZZL@git.ituse.ru/deploy/esb-infrastructure.git cd esb-infrastructure docker-compose up --build -d #      3     #   . #       web-.</span></span></code> </pre><br>  <strong>processo</strong> <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#      . #      process-   , #     -  php- git clone \ https://oauth2:YRGzV8Ktx2ztoZg_oZZL@git.ituse.ru/deploy/clicker-noserver.git cd clicker-noserver composer update #  .       "XXXXXXXX" mv app/settings.php.dist app/settings.php #   . gnome-terminal \ --tab -e 'bash -c "php app/src/Process/noserver/singleProcess.php curl"' \ --tab -e 'bash -c "php app/src/Process/noserver/singleProcess.php timezone"' \ --tab -e 'bash -c "php app/src/Process/noserver/singleProcess.php whoer"' #  . ,     , #  : - log/list.proxy php app/src/Utils/givethejob.php ./log/list.proxy</span></span></code> </pre><br>  Aguarde, observando o que est√° acontecendo no painel da web (http: // ip-address-docker-machines: 8080). <br>  O resultado estar√° dispon√≠vel na fila <i>localizada</i> . <br></div></div><a name="scheme"></a><br><h2>  Esmagamento e planejamento </h2><br><img src="https://habrastorage.org/webt/6e/1w/nc/6e1wnczv0tchzm_sq9pey6avk2o.png"><br><br>  O diagrama acima descreve a sequ√™ncia das etapas do processo, o resultado esperado para cada etapa e os recursos necess√°rios para criar cada parte (detalhes: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Tarefa 2</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Tarefa 3</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Tarefa 4,5,6</a> ). <br><br>  No meu caso, tudo acontece em duas m√°quinas <strong>Ubuntu 18.04</strong> .  Um deles controla o processo.  Por outro lado, v√°rios cont√™ineres de docker de infraestrutura est√£o em execu√ß√£o. <br><br><blockquote><h4>  Desculpas e Falhas </h4><br>  Todo o c√≥digo do pacote consiste em tr√™s partes. <br>  Um deles n√£o √© meu (observo que esse √© um c√≥digo bonito e arrumado).  A fonte desse c√≥digo √© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="packagist.org">packagist.org</a> . <br><br>  Eu mesmo escrevi outro, tentei torn√°-lo compreens√≠vel e dediquei cerca de uma semana a essa parte do c√≥digo. <br><br>  O resto √© um "dif√≠cil legado hist√≥rico".  Essa parte do c√≥digo foi criada durante um per√≠odo bastante longo.  Inclusive no momento em que eu n√£o tinha muita habilidade em programa√ß√£o. <br><br>  Esta √© precisamente a raz√£o da localiza√ß√£o dos reposit√≥rios no meu <strong>GitLab</strong> e pacotes no meu <strong>Satis</strong> .  Para publicar no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Github.com">GitHub.com</a> e no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="packagist.org">packagist.org,</a> esse c√≥digo exigir√° processamento e documenta√ß√£o mais completa. <br><br>  Todas as partes do c√≥digo est√£o abertas para uso ilimitado.  Reposit√≥rios e pacotes estar√£o dispon√≠veis para sempre. <br><br>  No entanto, ao republicar o c√≥digo, serei grato a voc√™ por postar um link para mim ou para este artigo. <br></blockquote><br><h2>  Um pouco sobre arquitetura </h2><br>  A abordagem usada para criar nossa ferramenta √© escrever (ou usar um utilit√°rio pronto) para resolver cada tarefa espec√≠fica.  Al√©m disso, cada utilit√°rio, independentemente da tarefa a ser resolvida, possui duas propriedades comuns a todos: <br><br><ul><li>  o utilit√°rio pode ser iniciado independentemente dos outros na linha de comando com par√¢metros contendo a tarefa; </li><li>  o utilit√°rio pode retornar o resultado da execu√ß√£o ao stdout (depois de ser configurado de uma certa maneira). </li></ul><br>  Uma solu√ß√£o feita por esse princ√≠pio permite alterar o n√∫mero de manipuladores de tarefas em execu√ß√£o (trabalhadores) para cada uma das etapas do processo.  Um n√∫mero diferente de trabalhadores para cada etapa levar√° a um tempo de inatividade "0" para as etapas a seguir devido √† dura√ß√£o das tarefas de processamento das etapas anteriores. <br><br>  O tempo gasto na obten√ß√£o de uma unidade do resultado do processo (no nosso caso, √© um proxy verificado) depende de fatores externos (o n√∫mero de proxies inadequados, o tempo de resposta de um recurso externo, etc.). <br><br>  Alterando o n√∫mero de trabalhadores para cada uma das etapas do processo, transformamos essa depend√™ncia em uma depend√™ncia do n√∫mero de trabalhadores em execu√ß√£o (ou seja, dependendo da capacidade de computa√ß√£o e canal envolvidos). <br><br>  Para sincronizar a opera√ß√£o de partes independentes individuais, √© conveniente usar o servidor da fila de mensagens como um √∫nico barramento de dados.  Isso permitir√° que voc√™ acumule os resultados das etapas conclu√≠das na fila e os forne√ßa ao utilit√°rio "pr√≥xima etapa" no momento certo como entrada. <br><br><h3>  Fila de mensagens.  MQ e ESB </h3><br>  Como o n√≠vel mais baixo ( <abbr title="Fila de mensagens">MQ</abbr> ), usaremos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Excelente artigo de revis√£o">beanstalkd</a> .  Pequeno, leve, sem configura√ß√£o, dispon√≠vel no pacote deb e no cont√™iner do Docker, um trabalhador discreto.  O n√≠vel l√≥gico ( <abbr title="Barramento de servi√ßo corporativo">ESB</abbr> ) implementar√° o c√≥digo em <strong>PHP</strong> . <br><br>  Duas classes ser√£o usadas para implementa√ß√£o.  <b>esbTask</b> e <b>nextStepWorker</b> . <br><br>  <b>esbTask</b> <br><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">esbTask</span></span></span><span class="hljs-class"> //   ,     </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// immutable-; // "" (   ESB-),  payload //    //     "" .... }</span></span></code> </pre><br>  Uma inst√¢ncia dessa classe serve para "endere√ßar" o <abbr title="Carga √∫til">paylod</abbr> atrav√©s das etapas do processo.  O conceito <abbr title="Barramento de servi√ßo corporativo">ESB</abbr> aplica v√°rios princ√≠pios / padr√µes.  Dois deles merecem aten√ß√£o separadamente: <br><br><ul><li>  Sobre o caminho (sequ√™ncia de etapas) do processo, em cada momento do processo, <br>  ningu√©m sabe, exceto o envelope a ser transmitido; <br></li><li>  Cada envelope tem tr√™s dire√ß√µes de resultado poss√≠veis: <br><ul><li>  a pr√≥xima etapa do processo (continua√ß√£o normal); </li><li>  parada de parada (parada de destino - √© selecionada na pr√≥xima etapa, se n√£o faz sentido continuar a situa√ß√£o do processo / parada); <br></li><li>  etapa de erro (destino de encerramento de emerg√™ncia - √© selecionado na pr√≥xima etapa, no caso de um erro do trabalhador). <br></li></ul><br></li></ul><div class="spoiler">  <b class="spoiler_title">O objeto na fila √© representado em json, oculto aqui ...</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// json- esbTask { //    (   esbTask) "_type":"App\\\\rebean\\\\payloads\\\\ESBtaskQueue", //  "task":"task:queue@XXX.XXX.XXX.</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">XXX:</span></span></span><span class="hljs-comment">11300", //    () "replyto":[ "othertask1:nextqueue1@yyy.XXX.XXX.</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">XXX:</span></span></span><span class="hljs-comment">11300", "othertask2:nextqueue2", "othertask3:nextqueue3", ], //    () "onerror":[ "error:errorsstep@zzz.XXX.XXX.</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">XXX:</span></span></span><span class="hljs-comment">11300", "error:errorsstep1", "error:errorsstep2", "error:errorsstep3" ], //     () "onstop":[ "stop:stopstep@kkk.XXX.XXX.</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">XXX:</span></span></span><span class="hljs-comment">11300", "stop:stopstep1", "stop:stopstep2", "stop:stopstep3" ], //   "payload":{ .... }, //   ... () "till":[ .... ], //     ... () //        // -  (LINUX-TimeStamp) "since":[ 1540073089.8833, ], // -     "points":1, //  .     "groupid":"" }</span></span></code> </pre><br></div></div><br>  <b>nextStepWorker</b> <br><br>  Cada mensagem que aparece na fila √© processada pelo trabalhador respons√°vel por ela.  Para fazer isso, o seguinte conjunto de fun√ß√µes √© implementado: <br><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nextStepWorker</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">workerConstructor</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//       //     esbTask //    () //    MQ- (beanstalkd) //     (Memcached) //     (MySQL) // : -  (  - ); -    stop-; -      (log, event, mq) .... }</span></span></code> </pre><br>  Trabalhadores para cada uma das etapas do processo s√£o implementados com base nesta classe.  Toda a rotina de processamento, endere√ßamento e envio do pr√≥ximo passo na rota, a turma cuida. <br><br>  A solu√ß√£o para cada um dos problemas √©: <br><br><ol><li>  Obtenha o esbTask e execute o trabalhador; </li><li>  Implemente a l√≥gica armazenando os resultados na carga √∫til; </li><li>  Conclua a execu√ß√£o do trabalhador (de emerg√™ncia ou normal - n√£o importa). </li></ol><br>  Se as etapas forem conclu√≠das, o resultado ser√° colocado na fila com o nome apropriado e o pr√≥ximo trabalhador iniciar√° o processamento. <br><a name="subj2"></a><br><h2>  Fa√ßa isso uma vez.  Verificar disponibilidade </h2><br>  De fato, criar um trabalhador para resolver qualquer um dos problemas √© a implementa√ß√£o de um m√©todo.  Um exemplo (simplificado) da implementa√ß√£o de um trabalhador que resolve o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Problema 2 √©</a> o seguinte: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// app/src/Process/worker/curlChecker.php .... class curlChecker extends nextStepWorker { const PROXY_INFO = 'https://api.ipfy.me?format=json&amp;geo=true'; const PROXY_TIMEOUT = '40'; const COMMAND = "curl -m %s -Lx http://%s:%s '%s'"; public function logic() { //    .  ..   payload extract($this-&gt;context()); //  defaults    payload  $curltimeout = $curltimeout ?? self::PROXY_TIMEOUT; $curlchecker = $curlchecker ?? self::PROXY_INFO; //     $line = sprintf( static::COMMAND, $curltimeout, $host, $port, $curlchecker ); exec($line, $info); //      // ( ,  stop-) $info = arrays::valid_json(implode('', info)); if (empty($info)) throw new \Exception("Bad proxy: $host:$port!", static::STATUS_STOP); //    payload $this-&gt;enrich(['info']) -&gt;sets(compact('info')); } }</span></span></code> </pre><br>  Algumas linhas de c√≥digo e tudo √© feito e "destacado" para o pr√≥ximo est√°gio. <br><a name="subj3"></a><br><h2>  Defina o fuso hor√°rio.  TimeZoneDB e para que serve ... </h2><br>  O teste detalhado das solicita√ß√µes recebidas envolve a correspond√™ncia do tempo da janela do navegador com o hor√°rio em que o endere√ßo IP de origem da solicita√ß√£o existe. <br><br>  Para evitar suspeitas dos contadores, precisamos saber a hora do proxy local. <br><br>  Para descobrir a hora, tiramos a latitude e a longitude dos resultados da etapa anterior do processo e obtemos dados sobre o fuso hor√°rio no qual nossa inst√¢ncia futura da janela do navegador funcionar√°.  Esses dados ser√£o fornecidos a n√≥s por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="timezonedb.com">profissionais da √°rea de tempo</a> . <br><br>  Um trabalhador simplificado para resolver esse problema ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tarefa 3</a> ) ser√° completamente semelhante ao <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">anterior</a> .  A √∫nica diferen√ßa √© o URL da solicita√ß√£o.  Voc√™ pode encontrar a vers√£o completa no arquivo: <br><blockquote>  // app / src / Process / worker / timeZone.php </blockquote><br><h2>  Um pouco sobre infraestrutura </h2><br>  Al√©m do <strong>beanstalkd</strong> descrito, nossa ferramenta precisar√°: <br><br><ul><li>  <strong>Memcached</strong> - para tarefas de cache; </li><li>  <strong>Selenium Server</strong> - √© conveniente executar o <strong>Selenium Web Driver</strong> em um cont√™iner separado e voc√™ pode monitorar o processo via <strong>VNC</strong> ; </li><li>  Pain√©is para monitorar o <strong>beanstald</strong> , o <strong>memcached</strong> e o <strong>VNC</strong> . </li></ul><br>  Para uma r√°pida implanta√ß√£o de tudo isso, o Docker ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Documentos t√©cnicos do Docker">Como instalar no Ubuntu</a> ) √© muito conveniente. <br><br><div class="spoiler">  <b class="spoiler_title">E o "orquestrador" para ele √© docker-compor (comandos para instala√ß√£o) ...</b> <div class="spoiler_text"><pre> <code class="bash hljs">sudo apt-get -y update sudo apt-get -y install docker-compose</code> </pre><br></div></div><br>  Essas ferramentas permitem que voc√™ execute servidores / processos j√° configurados (por algu√©m anteriormente) em "cont√™ineres" separados do sistema operacional pai.  Para detalhes, recomendo consultar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Artigo do Good Docker">este</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Outro bom artigo do Docker">este</a> artigo. <br><br>  Ent√£o ... <br><br>  Para iniciar a infraestrutura, voc√™ precisa de v√°rios comandos no console: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#   ,    docker- #     (   ) #    sudo -s git clone \ https://oauth2:YRGzV8Ktx2ztoZg_oZZL@git.ituse.ru/deploy/esb-infrastructure.git \ panels cd panels docker-compose up --build -d #   .</span></span></code> </pre><br>  Como resultado da execu√ß√£o bem-sucedida do comando na m√°quina com o endere√ßo XXX.XXX.XXX.XXX, <br>  Voc√™ receber√° o seguinte conjunto de servi√ßos: <br><blockquote>  - XXX.XXX.XXX.XXX:11300 - <strong>beanstalkd</strong> <br>  - XXX.XXX.XXX.XXX:11211 - <strong>Memcached</strong> <br>  - XXX.XXX.XXX.XXX-00-00444 - <strong>Selenium Server</strong> <br>  - XXX.XXX.XXX.XXX:5930 - servidor <b>VNC</b> para controlar o que acontece no <b>Chrome</b> <br>  - XXX.XXX.XXX.XXX:8081 - Painel da Web para comunica√ß√£o com o <strong>Memcached</strong> (admin: pass) <br>  - XXX.XXX.XXX.XXX:8082 - Painel da Web para comunica√ß√£o com <strong>beanstalkd</strong> <br>  - XXX.XXX.XXX.XXX:8083 - Painel da Web para comunica√ß√£o com o <strong>VNC</strong> (senha: secreta) <br>  - XXX.XXX.XXX.XXX:8080 - Painel geral da Web <br></blockquote><br><div class="spoiler">  <b class="spoiler_title">"Veja se tudo est√° no lugar", "entre no console e o cont√™iner", "pare a infraestrutura" podem ser comandos no spoiler.</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#   ,    docker-, #    ..../panels/ #    docker-compose ps # Name Command State Ports # ------------------------------------------------------------------------------------------------------------------------ # beanstalkd /usr/bin/beanstalkd Up 0.0.0.0:11300-&gt;11300/tcp # chrome start-cron Up 0.0.0.0:4444-&gt;4444/tcp, 0.0.0.0:5930-&gt;5900/tcp # memcached docker-entrypoint.sh memcached Up 0.0.0.0:11211-&gt;11211/tcp # nginx docker-php-entrypoint /sta ... Up 0.0.0.0:8443-&gt;443/tcp, 0.0.0.0:8080-&gt;80/tcp, # 0.0.0.0:8082-&gt;8082/tcp, 0.0.0.0:8083-&gt;8083/tcp, 9000/tcp # vnc /usr/bin/supervisord -c /e ... Up 0.0.0.0:8081-&gt;8081/tcp #       chrome docker exec -ti chrome /bin/bash #       docker-compose stop &amp;&amp; docker rm $(docker ps -a -q)</span></span></code> </pre></div></div><a name="subjs"></a><br><h2>  Tarefas 4,5,6 - combine em um utilit√°rio </h2><br>  Depois de analisar detalhadamente as tarefas ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">diagrama acima</a> ), √© f√°cil garantir que apenas uma das tarefas restantes ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tarefa 6</a> ) dependa de um recurso externo.  Ao executar tarefas com tempos de execu√ß√£o "garantidos condicionalmente" (independentemente de fatores n√£o controlados), n√£o obteremos vantagens adicionais √† velocidade de todo o processo.  Nesse sentido, essas tarefas ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">4,5,6</a> ) foram combinadas em um trabalhador.  O arquivo de trabalho √© chamado: <br><blockquote>  // app / src / Process / worker / whoerChecker.php </blockquote><br><h3>  Fa√ßa as configura√ß√µes para o Chrome.  Plugins </h3><br>  <strong>O Chrome √©</strong> configurado de forma flex√≠vel com plug-ins. <br><br>  Um plug-in para o <strong>Chrome</strong> √© um arquivo que cont√©m um arquivo <i>manifest.json</i> .  Ele descreve o plugin.  O arquivo tamb√©m cont√©m um conjunto de <b>JavaScript, html, css e outros</b> arquivos necess√°rios ao plugin ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Documentos oficiais do Chrome">detalhes</a> ). <br><br>  No nosso caso, um dos arquivos <b>JavaScript</b> ser√° executado no contexto da janela de trabalho do <strong>Chrome</strong> e todas as configura√ß√µes necess√°rias entrar√£o em vigor. <br><br>  N√≥s apenas precisamos pegar o modelo de plug-in e substituir os dados necess√°rios (protocolo de intera√ß√£o, endere√ßo e porta ou fuso hor√°rio) pelo servidor proxy em teste nos lugares certos. <br><br>  Um trecho de c√≥digo que cria o arquivo morto: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// app/src/Chrome/proxyHelper.php .... class proxyHelper extends sshDocker{ .... // $name -  - // $files - [ ... '   -' =&gt; '', ...] protected function buildPlugin(string $name, array $files) { $this-&gt;last = "$this-&gt;cache/$name"; if (!file_exists("$this-&gt;last")) { $zip = new \ZipArchive(); $zip-&gt;open("$this-&gt;last", \ZipArchive::CREATE | \ZipArchive::OVERWRITE); foreach ($files as $n =&gt; $data) { $zip-&gt;addFromString(basename($n), $data); } $zip-&gt;close(); } $this-&gt;all[] = $this-&gt;last; $this-&gt;all = array_unique($this-&gt;all); return $this; } .... }</span></span></code> </pre><br>  O modelo para o plug-in de ajuste de proxy foi encontrado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="reposit√≥rio do plug-in para instalar proxy no Chrome">no cofrinho dos resultados do trabalho de pessoas que amam sua profiss√£o</a> , alterado na parte do protocolo e adicionado ao reposit√≥rio. <br><br><h3>  Mudan√ßa na hora da janela </h3><br>  Para alterar o hor√°rio global de uma inst√¢ncia do Chrome em execu√ß√£o, precisamos substituir <i>window.Date</i> por uma classe com funcionalidade semelhante, mas v√°lida no fuso hor√°rio correto. <br><br>  Eu realmente aprecio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="reposit√≥rio do plug-in para alterar o tempo da janela no Chrome">o trabalho de Sampo Juustila</a> .  O script foi feito para teste automatizado da <abbr title="Interface do usu√°rio">interface</abbr> do <abbr title="Interface do usu√°rio">usu√°rio</abbr> , mas ap√≥s um pequeno refinamento. <br><br>  H√° uma nuance aqui que quero chamar sua aten√ß√£o.  Est√° associado ao contexto dos scripts descritos em <i>manifest.json</i> . <br><br>  O segredo √© que o contexto global (aquele em que o script principal do plug-in √© iniciado e as configura√ß√µes definidas, por exemplo, conectadas √† rede) √© isolado do contexto da guia na qual a p√°gina √© carregada. <br><br>  Empiricamente, verificou-se que o impacto no prot√≥tipo da classe no contexto global n√£o levou √† sua altera√ß√£o na guia.  No entanto, ap√≥s registrar o script na p√°gina j√° carregada e execut√°-lo antes das outras, o problema foi resolvido. <br><br>  A solu√ß√£o √© representada pelo seguinte fragmento de c√≥digo: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// app/chromePlugins/timeShift/content.js //     var s = document.createElement('script'); //        s.src = chrome.extension.getURL('timeshift.js'); //      (document.head || document.documentElement).appendChild(s);</span></span></code> </pre><br><h3>  Configura√ß√µes de proxy </h3><br><div class="spoiler">  <b class="spoiler_title">A configura√ß√£o de um proxy no Chrome √© t√£o simples que ocultarei o c√≥digo js em um spoiler</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// app/chromePlugins/proxy/background.js var config = { mode: "fixed_servers", rules: { singleProxy: { scheme: "%scheme", host: "%proxy_host", port: parseInt(%proxy_port) }, bypassList: ["foobar.com"] } }; chrome.proxy.settings.set({value: config, scope: "regular"}, function () { }); function callbackFn(details) { return { authCredentials: { username: "%username", password: "%password" } }; } chrome.webRequest.onAuthRequired.addListener( callbackFn, {urls: ["&amp;gtall_urls&amp;lt"]}, ['blocking'] );</span></span></code> </pre><br></div></div><br><h3>  Caminho dos plug-ins do Chrome </h3><br><div class="spoiler">  <b class="spoiler_title">Todos os plugins s√£o nomeados de acordo com o esquema e s√£o adicionados √† pasta tempor√°ria da m√°quina que controla o processo.</b> <div class="spoiler_text"><blockquote>  // esquema de nomenclatura para o plugin proxy: <br>  proxy- [endere√ßo] - [porta] - [protocolo]&gt;. zip <br>  time shift - ["-" | ""] - [shift_in_minutes_from_GMT] .zip </blockquote></div></div><br>  Em seguida, precisamos instalar esses plug-ins em um cont√™iner de docker que esteja sendo executado na m√°quina respons√°vel pela infraestrutura. <br><br>  Faremos isso com o ssh.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para fazer isso, eu conheci o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Pacote Phpseclib em packagist.org"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">phpseclib</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ainda mais tarde me arrependi). </font><font style="vertical-align: inherit;">Fascinado com o comportamento incomum da biblioteca, passei um dia estudando-o. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O cliente do console ssh funcionar√° melhor aqui e funcionar√° mais r√°pido, mas o trabalho j√° foi feito. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para o n√≠vel baixo (trabalhe com SFTP e SSH), a classe base √© respons√°vel (abaixo). </font><font style="vertical-align: inherit;">Substituir esta classe substituir√° o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Reposit√≥rio phpseclib"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">phpseclib</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pelo cliente do console.</font></font><br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// app/src/Chrome/sshDocker.php //    (DOCKER_HOST, DOCKER_USER, DOCKER_PASS) //   : app/settings.php //      .... class sshDocker { .... //  .     docker //    .         // : app/techs.php const EXEC_DOCKER = DOCKER_BIN_PATH . "/docker exec -i %s %s"; .... //     sudo    (  ),  DOCKER_USER -  protected function sudo(string $command, string $expect = '.*'){...} //     Docker-,      //       -    self::EXEC_DOCKER protected function execDocker(string $command, string $expect){...} .... }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Derivado do sshDocker base e da classe proxyHelper j√° conhecida, ele n√£o apenas produz plugins, mas tamb√©m os coloca em uma pasta tempor√°ria do cont√™iner de infraestrutura. </font></font><br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// app/src/Chrome/proxyHelper.php .... class proxyHelper extends sshDocker { .... public static function new(string $docker, $plugins) { return (new self($docker, $plugins)) -&gt;setupPlugins(); } .... }</span></span></code> </pre><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Inicie o Chome com configura√ß√µes </font></font></h3><br><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">O Selenium Server</font></b><font style="vertical-align: inherit;"> nos ajudar√° a </font><font style="vertical-align: inherit;">lan√ßar o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chrome</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizado </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">O Selenium Server √© uma estrutura criada pela equipe do </font><strong><font style="vertical-align: inherit;">FaceBook</font></strong><font style="vertical-align: inherit;"> especificamente para testar interfaces WEB. </font><font style="vertical-align: inherit;">O trabalho de estrutura permite ao desenvolvedor emular programaticamente qualquer a√ß√£o do usu√°rio em uma janela do navegador (usando o </font><b><font style="vertical-align: inherit;">Chrome</font></b><font style="vertical-align: inherit;"> ou o </font><b><font style="vertical-align: inherit;">Firefox</font></b><font style="vertical-align: inherit;"> ). </font><b><font style="vertical-align: inherit;">O Selenium Server √©</font></b><font style="vertical-align: inherit;"> adaptado para uso em v√°rios idiomas e √© de fato uma ferramenta padr√£o para escrever scripts de teste. </font><font style="vertical-align: inherit;">A melhor maneira de obter uma nova vers√£o para uso em um projeto:</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br><br> <b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><br><br><pre> <code class="bash hljs">composer require facebook/webdriver</code> </pre><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A configura√ß√£o tradicional da inst√¢ncia principal do objeto Selenium Server (RemoteWebDriver) parecia detalhada para mim.</font></font></b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// URL- $url = "https://example.com/books/196/empire-v-povest-o-nastoyashem-sverhcheloveke"; // URL,     (Selenium Server) $server = 'http://' . DOCKER_HOST . '/wd/hub'; //   ,      $options = new ChromeOptions(); $options-&gt;addArguments(array( '--disable-notifications' )); //    - $capabilities = DesiredCapabilities::chrome(); $capabilities-&gt;setCapability(ChromeOptions::CAPABILITY, $options); //        5000     URL $driver = RemoteWebDriver::create($server, $capabilities, 5000); $page = $driver-&gt;get($url);</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> E, portanto, reduzi levemente tudo isso, otimizando a configura√ß√£o para minhas necessidades: </font></font><br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// app/src/Process/worker/whoerChecker.php .... class whoerChecker extends nextStepWorker { //    : app/settings.php // URL Selenium Server const SELENIUM_SERVER = CHVM; //  - const DOCKER_NAME = DOCKER_NAME; .... public function config() .... //        : // $driver = RemoteWebDriver::create($server, $capabilities, 5000); $chrome = Chrome::driver( static::SELENIUM_SERVER, Chrome::capabilities(static::DOCKER_NAME, $plugins), 5000 ); .... } ....</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O olho imediatamente se apega a plugins $. </font><font style="vertical-align: inherit;">$ plugins √© uma estrutura de dados respons√°vel pela configura√ß√£o de plugins. </font><font style="vertical-align: inherit;">Para cada diret√≥rio e para substituir espa√ßos reservados nos </font><font style="vertical-align: inherit;">arquivos </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> do plug-in.</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A estrutura √© descrita no arquivo app / plugs.php e faz parte das op√ß√µes globais app / settings.php.</font></font></b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// app/plugs.php const PLUGS = [ 'timeshift' =&gt; [ 'path' =&gt; PROJECTPATH . '/app/chromePlugins/timeShift', 'files' =&gt; ['manifest.json', 'timeshift.js', 'content.js'], 'fields' =&gt; ['%addsminutes' =&gt; 'timeshift'] ], 'proxy' =&gt; [ 'path' =&gt; PROJECTPATH . '/app/chromePlugins/proxy', 'files' =&gt; ['manifest.json', 'background.js'], 'fields' =&gt; [ '%proxy_host' =&gt; 'host', '%proxy_port' =&gt; 'port', '%scheme' =&gt; 'scheme', '%username' =&gt; 'user', '%password' =&gt; 'pass' ] ] ];</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A an√°lise de uma p√°gina com o </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Selenium WebDriver</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© muito simples.</font></font><br><br><pre> <code class="php hljs">.... $url = <span class="hljs-string"><span class="hljs-string">'https://__/_-_'</span></span>; $page = $chrome-&gt;get($url); .... <span class="hljs-comment"><span class="hljs-comment">//   xPath-   $xpath = '/html[1]/body[1]/div[1]/div[1]/div[1]/div[2]/div[1]/div[1]/div[1]/div[1]/strong[1]'; $element = page-&gt;findElement(WebDriverBy::xpath($xpath)); .... //   $text = $element-&gt;getText(); // HTML- $html = $element-&gt;&gt;getAttribute('innerHTML'); ....</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como j√° escrevi, todas essas a√ß√µes s√£o implementadas pelo utilit√°rio da terceira etapa ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tarefa 4,5,6</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ):</font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> // app / src / Process / worker / whoerChecker.php </font></font><br></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Concluindo a descri√ß√£o do trabalho com o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Selenium Server</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , quero chamar a aten√ß√£o para o fato de que, ao usar esta tecnologia em escala industrial (1000 - 3000 p√°ginas), n√£o √© incomum que uma sess√£o com o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Selenium Server</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> termine incorretamente. A janela n√£o tem dono. E essas janelas podem se acumular muito. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V√°rias maneiras de combater os "broches" foram consideradas. Trabalho "comeu" 2 dias. O mais eficaz foi o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cron</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . A instala√ß√£o e a configura√ß√£o corretas no cont√™iner do Docker se transformaram em uma tarefa separada, descrita de forma cuidadosa e minuciosa por </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">renskiy</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Um artigo sobre como usar cron dentro de um cont√™iner de docker"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">em um artigo dedicado apenas a ESTE </font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;">T√ìPICO</font></a><font style="vertical-align: inherit;"> (o que me surpreendeu).</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A reconstru√ß√£o autom√°tica da imagem original do Docker e a instala√ß√£o de v√°rios scripts para fechar broches e limpar plug-ins n√£o utilizados √© descrita em docker-compose.yml, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="descri√ß√£o detalhada da instala√ß√£o da infraestrutura de clicker e docker a partir do reposit√≥rio"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o reposit√≥rio de infraestrutura</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">A frequ√™ncia de limpeza √© definida no arquivo killcron do mesmo reposit√≥rio.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> WebRTC </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apesar de j√° termos definido a hora correta e o tr√°fego do nosso navegador passar por um proxy, ainda podemos ser detectados. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Al√©m da diferen√ßa de hor√°rio (navegador e endere√ßo IP), existem mais duas fontes de desanonimiza√ß√£o de "sentado atr√°s de um proxy". </font><font style="vertical-align: inherit;">Estas s√£o as </font><font style="vertical-align: inherit;">tecnologias </font><font style="vertical-align: inherit;">flash e </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebRTC</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> incorporadas no navegador. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Flash est√°</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> desativado </font><font style="vertical-align: inherit;">em nosso navegador </font><font style="vertical-align: inherit;">, o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebRTC</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> n√£o. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A raz√£o para ambas as possibilidades de falha √© a mesma - os </font><font style="vertical-align: inherit;">pacotes </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UDP</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> onipresentes e √°geis </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Para o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebRTC,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> essas s√£o duas portas: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3478</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19302</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para interromper o √™xodo de batedores do cont√™iner chrome, a regra iptables √© aplicada na m√°quina host com os cont√™ineres de infraestrutura:</font></font><br><br><pre> <code class="bash hljs">iptables -t raw -I PREROUTING -p udp -m multiport --dports 3478,19302 -j DROP</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O mesmo proxyHelper implementa esta tarefa. </font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O resto dos trabalhadores </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para alcan√ßar com sucesso o objetivo - a implementa√ß√£o de um "clique" no site de destino por meio de um proxy an√¥nimo, precisamos de mais um trabalhador. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ser√° uma vers√£o truncada do </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">whoerChecker</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Eu acho que fazer isso sozinho, usando tudo o que est√° escrito, n√£o ser√° dif√≠cil. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O resultado de todo o processo, caindo na fila </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">localizada</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , cont√©m dados sobre o ‚Äúgrau‚Äù de anonimato de cada endere√ßo de servidor proxy que foi verificado. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ao "jogar" contra os balc√µes, o principal √© lembrar o anonimato e n√£o se deixar levar pelas visitas rob√≥ticas. </font><font style="vertical-align: inherit;">A conformidade com o princ√≠pio de "n√£o se deixe levar pelos cliques" √© garantida pela possibilidade de organizar a√ß√µes em um hor√°rio, incorporado no </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esbTask</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">desde o</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> campo de </font><font style="vertical-align: inherit;">nosso </font><font style="vertical-align: inherit;">envelope </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ESB</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se voc√™ tentar fazer tudo com cuidado, a </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m√©trica yandex do</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> site de destino ser√° semelhante √† figura abaixo.</font></font><br><br><img src="https://habrastorage.org/webt/es/wn/kk/eswnkk5esmtcunc6xvpn90ndefw.png"><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Como juntar tudo </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ent√£o, dado: </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utilit√°rios capazes de aceitar "como entrada" (como argumento da linha de comando) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esbTask no formato</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> json-string e executar alguma l√≥gica e enviar os resultados para </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">beanstalkd</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li><li><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">Enfileiramento de</font></b><font style="vertical-align: inherit;"> Mensagens ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MQ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), com base no </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">beanstalkd</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> M√°quina Linux (m√°quina de processo); </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Com esse "dado", geralmente eu uso o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">libevent</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">React PHP</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Tudo isso, complementado por v√°rias ferramentas, permite controlar o n√∫mero (dentro dos limites especificados) de inst√¢ncias de manipulador para cada est√°gio do processo automaticamente. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No entanto, dado o tamanho do artigo e as especificidades do t√≥pico, terei prazer em descrever tudo isso em um artigo separado. </font><font style="vertical-align: inherit;">Este artigo √© </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uma</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tecnologia </font><b><font style="vertical-align: inherit;">noserver</font></b><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">O material futuro √© " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">servidor</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ".</font></font><blockquote><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A data de sua publica√ß√£o est√° relacionada ao seu interesse, caro leitor.</font></font></b> <div class="spoiler_text"><blockquote>      .      , ,‚Ä¶ . ,  ,    ,   ,     ,         . <br><br>   <b>habr</b>   ,     . , ,          . <br><br>        .     ,        " <b>server</b> ",       <b>README.md</b>         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="   clicker  docker-  "> </a> . </blockquote></div></div></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">noserver</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ", uma inst√¢ncia processar√° uma fila (uma etapa do processo). </font><font style="vertical-align: inherit;">Essa abordagem </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s√≥ pode irritar os esp√≠ritos</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que uso ao depurar trabalhadores. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dependendo da velocidade de processamento necess√°ria, voc√™ pode iniciar quantas c√≥pias desejar manualmente. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pode ser assim:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// app/src/Process/noserver/singleProcess.php //   ,    //   include __DIR__ . '/../../../settings.php'; use App\ESB\pipeNcacheService; use App\arrayNstring\queueDSN; use App\arrayNstring\timeSpent; use App\arrayNstring\progressString; //    $path = __DIR__ . '/../worker'; //   $queues = array_keys(WORKERS); $queue = $argv[1] ?? end($queues); $queue = strtolower($queue); if (!in_array($queue, $queues)) die("php $argv[0] &lt;queue_name&gt;" . PHP_EOL); //  - $progress = new progressString("Listenning... Idle: ", 40, 20); // ,      $stopwatch = timeSpent::start(); //    beanstalkd- list($worker, $task) = WORKERS[$queue]; $procid = ['procid' =&gt; posix_getpid()]; //   beanstalkd  Memcached, //     ( ) $dsn = new queueDSN($task, $queue, ...QUEUE_SERVER); //     ESB- $pnc = new pipeNcacheService($dsn); $pipe = $pnc-&gt;getPipe(); echo "Start listener for queue: $queue." . PHP_EOL; echo "Press Ctrl-C to stop listener." . PHP_EOL; //      //       while (true) { try { $job = $pipe-&gt;watch($queue) -&gt;reserve(1); $now = new DateTime(); $opts = json_encode($pipe-&gt;getPayload($job) + $procid); $pipe-&gt;delete($job); echo PHP_EOL . "Task recived at: " . $now-&gt;format('H:i:s') . " Starting worker: $worker. "; $stopwatch = timeSpent::start(); exec("php $path/$worker $opts", $out); echo "Finished. Time spent: $stopwatch" . PHP_EOL; $stopwatch = timeSpent::start(); } catch (Throwable $exception) { echo $progress($stopwatch('%I:%S', null, $now)); } }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O come√ßo estranho do trabalhador √© impressionante ... Apesar de cada um dos trabalhadores ser um objeto PHP, usei </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exec (...)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isso foi feito para economizar tempo, para n√£o criar trabalhadores separados para " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">noserver</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " ou n√£o alterar o trabalhador com o objetivo de iniciar no modo " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">servidor</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ".</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Algumas palavras sobre configura√ß√£o e implanta√ß√£o </font></font></h2><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Constantes de configura√ß√£o </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O arquivo de configura√ß√£o para sua inst√¢ncia √© </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">app / settings.php</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ele deve ser criado por voc√™ imediatamente ap√≥s a clonagem do reposit√≥rio. </font><font style="vertical-align: inherit;">Para fazer isso, renomeie o arquivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">app / settings.php.dist</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Todas as constantes s√£o descritas internamente. </font></font><br><br> <b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">app / settings.php</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , entre outras coisas, inclui arquivos com outras constantes.</font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">app / queues.php</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cont√©m os nomes de filas e trabalhos </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">app / plugs.php</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cont√©m uma descri√ß√£o dos </font><font style="vertical-align: inherit;">plugins </font><font style="vertical-align: inherit;">do </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chrome</font></font></b><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">app / techs.php</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cont√©m constantes calculadas</font></font><br></blockquote><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Utilit√°rios </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para a conveni√™ncia de processar os resultados do processo e colocar tarefas, existem v√°rios utilit√°rios. </font><font style="vertical-align: inherit;">Os utilit√°rios s√£o iniciados na linha de comando. </font><font style="vertical-align: inherit;">Fornecido com descri√ß√µes de argumento. </font><font style="vertical-align: inherit;">Localizado: </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">app / src / Utils</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><blockquote><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> backup.php - salva filas em um arquivo</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    clear.php - limpa filas</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    exporter.php - exporta de um arquivo com uma fila salva </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                     pares endere√ßo: porta</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    givethejob.php - envia tarefas para o processo </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                     (fonte - endere√ßo: porta caixa de combina√ß√£o).</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                     pode excluir alguns endere√ßos da lista</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    restore.php - restaura uma fila salva </font></font></pre></blockquote><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ajustando os trabalhadores </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ao usar trabalhadores gravados, pode ser conveniente usar as seguintes op√ß√µes de configura√ß√£o: </font></font><br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// app/src/Process/worker/curlChecker.php .... $worker = new curlChecker( [ //    curlChecker::WORKER =&gt; 'curlchecker', //  beanstalkd curlChecker::PIPE_HOSTPORT =&gt; implode(':', QUEUE_SERVER), //  Memcached curlChecker::CACHE_HOSTPORT =&gt; implode(':', MEMCACHED), // ,    . //    -   curlChecker::DB_SCRIPT =&gt; __DIR__ . '/../../../confdb.php', // ,       // (        -) curlChecker::INFO_START =&gt; CURL_START, // ,        // (        -) curlChecker::INFO_END =&gt; CURL_END, //  ,     //    //        curlChecker::INFO_ADDS_END =&gt; ['host', 'port'] ], ['setupworker', 'config', 'logic'] ); ....</span></span></code> </pre><br><a name="deploy"></a><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Implanta√ß√£o </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O manual pressup√µe que voc√™ tem 2 m√°quinas √† sua disposi√ß√£o com o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ubuntu 18.04</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> instalado </font><font style="vertical-align: inherit;">. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um para a infraestrutura ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">janela de encaixe</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), o outro para controle de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">processo</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font><b><font style="vertical-align: inherit;">processo</font></b><font style="vertical-align: inherit;"> ). </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estivador</font></font></b> <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#    root-. # ,     TCP-: # 11300, 11211, 4444, 5930, 8080, 8081, 8082, 8083 #   . sudo -s apt -y update apt -y install git snap snap install docker apt -y install docker-compose # C       # " root-"    cd ~ git clone \ https://oauth2:YRGzV8Ktx2ztoZg_oZZL@git.ituse.ru/deploy/esb-infrastructure.git cd esb-infrastructure docker-compose up --build -d #      3     #   . #       web-.</span></span></code> </pre><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">processo</font></font></b> <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#      . #   . sudo apt -y update sudo apt -y install git php-common php-cli php-curl php-zip php-memcached composer # C     process-   , #     -  php- cd /var/www git clone \ https://oauth2:YRGzV8Ktx2ztoZg_oZZL@git.ituse.ru/deploy/clicker-noserver.git cd clicker-noserver composer update #  .       "XXXXXXXX" mv app/settings.php.dist app/settings.php #   . gnome-terminal \ --tab -e 'bash -c "php app/src/Process/noserver/singleProcess.php curl"' \ --tab -e 'bash -c "php app/src/Process/noserver/singleProcess.php timezone"' \ --tab -e 'bash -c "php app/src/Process/noserver/singleProcess.php whoer"' #  . ,     , #  : - log/list.proxy php app/src/Utils/givethejob.php ./log/list.proxy</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aguarde, observando o que est√° acontecendo no painel da web (http: // ip-address-docker-machines: 8080). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O resultado estar√° dispon√≠vel na fila </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">localizada</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> E em conclus√£o </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Surpreendentemente, escrever e editar este artigo levou mais tempo do que escrever o pr√≥prio c√≥digo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Na minha opini√£o, tudo poderia ser o contr√°rio (e a diferen√ßa de hor√°rio pode ser v√°rias vezes maior), se n√£o fosse por duas ideologias: </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fila de mensagens</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barramento de servi√ßo corporativo</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ficarei muito feliz se voc√™ achar √∫til a abordagem apresentada para escrever aplicativos, cuja carga em diferentes partes n√£o √© clara na fase de design.</font></font><br><br>  Obrigada </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt432038/">https://habr.com/ru/post/pt432038/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt432024/index.html">Gradle 5.0 - novidades</a></li>
<li><a href="../pt432030/index.html">O caminho para um detector de mentiras sem contato ou Como organizar uma hackathon na velocidade m√°xima</a></li>
<li><a href="../pt432032/index.html">Conclu√≠mos o campo de pesquisa do Google</a></li>
<li><a href="../pt432034/index.html">O livro ‚ÄúEletricidade passo a passo‚Äù, de Rudolf Svoren</a></li>
<li><a href="../pt432036/index.html">Ao vivo: infraestrutura de front-end</a></li>
<li><a href="../pt432040/index.html">Validadores + Aspectos: personalizar valida√ß√£o</a></li>
<li><a href="../pt432042/index.html">Yandex abre a nuvem. Arquitetura da nova plataforma</a></li>
<li><a href="../pt432046/index.html">Competi√ß√£o Graal Telecom Data Cup. O mais quente por vir</a></li>
<li><a href="../pt432048/index.html">Por que algu√©m se daria ao trabalho de aprender idiomas fora de demanda. Um estudo de caso da comunidade F #</a></li>
<li><a href="../pt432050/index.html">Bem-vindo ao Waves Blockchain Hackathon</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>