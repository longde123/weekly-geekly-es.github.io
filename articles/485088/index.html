<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëäüèΩ üìä üë©üèΩ‚Äçü§ù‚Äçüë®üèº Rastrillo retrospectivo. C√≥mo una soluci√≥n hecha a s√≠ misma result√≥ ser m√°s fresca de lo que se pag√≥ üî† üßúüèΩ üë©üèª‚Äçüé®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola Mi nombre es Alexey Pyankov, soy el programador jefe de Sportmaster. Dir√© de inmediato que "principal" no significa "el m√°s importante de todos l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Rastrillo retrospectivo. C√≥mo una soluci√≥n hecha a s√≠ misma result√≥ ser m√°s fresca de lo que se pag√≥</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sportmaster_lab/blog/485088/"><p>  Hola  Mi nombre es Alexey Pyankov, soy el programador jefe de Sportmaster.  Dir√© de inmediato que "principal" no significa "el m√°s importante de todos los programadores", no, esto es solo un nombre, una traducci√≥n tan encantadora para "Senior +" ". </p><br><p>  He estado trabajando en Sportmaster desde 2012, y durante este tiempo el equipo de desarrollo ha tomado muchas decisiones que son interesantes desde un punto de vista t√©cnico.  Pero hoy me gustar√≠a hablar sobre nuestro trabajo con un √©nfasis m√°s en c√≥mo razonamos en ciertas situaciones ambiguas. </p><br><p>  Este art√≠culo no tendr√° soluciones t√©cnicas espec√≠ficas (y, de hecho, algo t√©cnico) que deber√≠an ser tomadas y aplicadas en su proyecto.  M√°s bien, es una reflexi√≥n sobre el trabajo realizado.  Hubo momentos tan especiales que nos influenciaron como equipo: se reunieron, se moderaron y se les prob√≥ la fuerza.  Tratar√© de contarte sobre estos momentos, sobre la atm√≥sfera del trabajo en equipo, sobre nuestro rastrillo y una serie de trampas psicol√≥gicas en las que a veces nos metemos. </p><br><p><img src="https://habrastorage.org/webt/ir/56/ba/ir56ba1hkowbjqb5fg16jpnumpi.jpeg" alt="imagen"></p><br><p>  Y comenzar√© en 2012. </p><a name="habracut"></a><br><p>  Llegu√© en 2012 con el objetivo principal en ese momento: trabajar en nuestro sitio web insignia.  En ese momento era un "monstruo de Frankenstein": una parte del equipo trabajaba con nuestro antiguo sistema, que no manejaba muy bien las cargas (Bitrix), en otra parte del equipo (donde inclu√≠) intentaron introducir un nuevo sistema, que fue elegido seg√∫n el criterio "Una vez este es el comercio electr√≥nico m√°s caro del mundo, lo tomamos ".  Fueron ellos quienes "intentaron implementar", porque el sistema se resist√≠a desesperadamente, y por cada momento que se resolvi√≥, hubo una "sorpresa" en respuesta.  Trabajaron mucho, pero avanzaron a la velocidad de un caracol. </p><br><p> Para m√≠ personalmente, la gota que colm√≥ el vaso fue conocer el c√≥digo de un m√©todo en este "comercio electr√≥nico m√°s caro del mundo", cuando varias horas de trabajo concentrado en un error complicado condujeron al hecho de que el motivo se encontr√≥ en alg√∫n lugar de la etiqueta personalizada, que funciona cuando Generaci√≥n html en jsp.  La tarea de esta etiqueta personalizada es mostrar la suma de algunos valores.  Esto no es malo; las etiquetas personalizadas est√°n destinadas a esto.  Pero la sorpresa se ocult√≥ en el hecho de que algunos datos en la base de datos cambian, el comportamiento en las siguientes p√°ginas est√° vinculado a esto, y si presiona F5, la llamada se repite, esto viola la consistencia de los datos.  Adem√°s, viol√≥ de tal manera que apareci√≥ solo despu√©s de unos pocos pasos, en la tercera p√°gina de la secuencia.  No, no me importa que tal "maestro ninja" estuviera en el equipo y con su c√≥digo apoyara la atenci√≥n de colegas en buena forma.  ¬°Pero as√≠, en el sistema m√°s caro! </p><br><p>  Eso fue el viernes.  Y un colega y yo pasamos el s√°bado y el domingo en la oficina para determinar qu√© tareas plantea la compa√±√≠a para el sistema hoy y qu√© tareas puede realizar en un a√±o.  De acuerdo con esto, ¬øc√≥mo los resolver√≠amos si no fu√©ramos conducidos al marco de uso de este sistema m√°s costoso y rentable? </p><br><p>  Apenas dicho que hecho.  Hicimos un piloto en el que sentamos las bases para el desarrollo del nuevo sitio web de Sportmaster.  Muchas de estas ideas han echado ra√≠ces y en este momento su continuaci√≥n est√° girando activamente en el sitio. </p><br><h2 id="etapy-pilota-i-vremennye-ramki">  Fases piloto y plazos </h2><br><p>  <strong>2 dias</strong>  Hicimos un microtrototipo: durante el fin de semana estamos superando nuestra base en ElasticSearch, estamos haciendo una b√∫squeda por facetas.  Woah la!  En el mismo sistema comprado, tal configuraci√≥n "comi√≥" 2 semanas.  Y aqu√≠, ¬°en solo un par de horas!  S√≠, y funciona m√°s r√°pido.  Y m√°s r√°pido por orden. </p><br><p>  <strong>2 semanas</strong>  Estamos aserrando un prototipo, agregando funcionalidad para una entrega personalizada adecuada. </p><br><p>  Por ejemplo, el usuario tiene varios descuentos y promociones que son relevantes espec√≠ficamente para √©l; luego, en los resultados de b√∫squeda de los productos, debe mostrar exactamente el precio que se puede obtener utilizando todos los bollos disponibles de la manera m√°s rentable. </p><br><p>  Con las acciones, no todo es tan simple.  Por ejemplo, compr√© esqu√≠s, ahora hay un descuento del 40% en un sombrero, pero al mismo tiempo, se cancela un descuento del 10% en todo el pedido.  S√≠, s√≠, este es un caso real :) Y para configurar dicha promoci√≥n en el sistema de compra, se pagaron 3 consultas con el proveedor, como resultado de lo cual obtuvimos muchos ejemplos de c√≥mo hacer otras promociones diferentes.  Muy diplom√°tico y, dado el costo de la consulta, muy bueno econ√≥micamente. </p><br><p>  Mostr√© al negocio una demostraci√≥n detallada.  Prometieron armar r√°pidamente al piloto e inmediatamente se pusieron a trabajar. </p><br><p>  <strong>2 meses</strong>  Proyecto piloto: lo hacemos en forma de un sitio en vivo con una b√∫squeda de directorio.  Busque con facetas, resultados de b√∫squeda: con descuentos personales, el piloto se parece casi al sitio de un Sportmaster, y completamos los mismos productos.  Cari√±o! </p><br><p>  Agregamos la "Elocuencia: 100" de nuestro jefe de departamento, ¬°y la presentaci√≥n al negocio se lleva a cabo en Hooray!  Nos dan carta blanca para desarrollar la plataforma de comercio electr√≥nico nosotros mismos. </p><br><p>  Y eso significa, mantener, chicos, equipo, mantener, chicos, presupuesto.  Genial! </p><br><p>  <strong>2 a√±os</strong>  Retiro del sitio web en producci√≥n.  Si mucho tiempo  Todo lo que sab√≠amos entonces, lo probamos solo en la escala del prototipo.  Dos personas forman f√°cilmente un equipo cohesionado.  Y las tareas que "interrumpimos", en general, fueron peque√±os dopila de "Hello World" en nuevas tecnolog√≠as.  Generamos f√°cilmente nuevas hip√≥tesis, las probamos r√°pidamente, no tuvimos tiempo de apegarnos y, por lo tanto, sin remordimientos, las "mataron".  Cuando nos convertimos en 10 personas, inercia extrapolamos nuestra velocidad de trabajo a todos los dem√°s.  Y prometieron tales plazos para la tarea, que son iguales a la idea de lo bello, multiplicados por nuestro entusiasmo. </p><br><p>  ¬øUna situaci√≥n familiar?  :) </p><br><p>  Entonces, ¬øya sabes lo que suceder√° despu√©s? </p><br><h2 id="lovushka-1-ekstrapolyator-krutysh">  Trampa No. 1.  "Extrapolador-resistente" </h2><br><p>  Est√° claro que las nuevas tecnolog√≠as se ven muy bien en las presentaciones y muestran excelentes resultados en la aplicaci√≥n de la categor√≠a "Hola Mundo".  Pero la realidad suele estar un poco m√°s lejos de esto. </p><br><p>  Entonces aqu√≠.  Tomamos la biblioteca, escribimos un mont√≥n de c√≥digo de aplicaci√≥n.  Consideramos que las pruebas unitarias son una carga (somos geniales y apostamos por supers√≥nico aqu√≠, el c√≥digo es moderno, etc.).  Cambiamos y modificamos constantemente la API sobre la marcha, bueno, qu√© tipo de pruebas hay, en serio.  Y todo esto bajo el lema de "optimizado el proceso de desarrollo" (s√≠, ahora da miedo incluso describirlo). </p><br><p>  Y luego todo es bastante obvio. </p><br><p>  Lanzamos una nueva construcci√≥n en UAT.  Los muchachos del negocio van alegremente a probar todo esto y presionan botones.  A veces presionan de manera muy creativa, algo se cae.  Luego ve y descubre lo que hicieron por esto.  Pero, por otro lado, el monitor no es un probador tedioso que despliega todas las caracter√≠sticas ambientales para usted, teniendo en cuenta el clima en la regi√≥n, pero el cliente est√° fuera del negocio.  √âl simplemente "no funciona".  Entonces, √©l es infeliz.  Preg√∫ntale, ¬°y ser√° <em>terriblemente</em> infeliz! </p><br><p><img src="https://habrastorage.org/webt/op/yd/ak/opydakk2ezoie2gk0h-neque39y.png" alt="imagen"></p><br><p>  Luego, para reproducir el error, debes ir y explotar todo.  Por supuesto, no ignoramos una sola queja y arreglamos todo.  Lanzaron las tareas planificadas, pero "extinguieron el fuego". </p><br><p>  As√≠ que nos cavamos el siguiente hoyo. </p><br><h2 id="lovushka-2-stahanovec">  Trampa n√∫mero 2.  "Stakhanovets" </h2><br><p>  No obtuviste el error m√°s agradable.  Empiezas a entender.  No funciona - ira - un intento de solucionarlo de nuevo - otro fastidio - especificas todo lo que es posible - nuevamente no es que pienses en el hecho de que ya eres viejo y todos tienen hijos y una hipoteca - lo intentas de nuevo - no otra vez.  Unas tazas de caf√©, y todo se repite.  12-14 horas seguidas es casi la norma.  Y ahora, cuando todo ya est√° en su l√≠mite: ¬°explosi√≥n, inspiraci√≥n! </p><br><p><img src="https://habrastorage.org/webt/il/ug/1h/ilug1hywomvfzigjqpps-521840.png" alt="imagen"></p><br><p>  Quiz√°s, desde el exterior, la evaluaci√≥n de la efectividad de ese d√≠a sea visible bien y correctamente.  Pero desde adentro, puede ser diferente. </p><br><p>  En mi caso, la impresi√≥n de tal trabajo fue "Termin√©, estoy bien, me retir√©".  No siempre conscientemente, sino inconscientemente, ¬°siempre! </p><br><p>  Y si√©ntate, no es broma.  Resulta que las m√©tricas internas del √©xito del movimiento se desplazan del resultado al n√∫mero de esfuerzos aplicados y al nivel de las haza√±as que logr√≥, cu√°nto sufri√≥, tratando de resolver el problema. </p><br><p>  Esta es probablemente la peor trampa. </p><br><p>  Adem√°s ser√° m√°s f√°cil y m√°s divertido :) </p><br><h2 id="lovushka-3-sila-hello-world">  Trampa n√∫mero 3.  "El poder de Hello world" </h2><br><p>  Nuestra pila de tecnolog√≠a de ese per√≠odo: ElasticSearch, Hazelcast, Pentaho, freemarker (y Java, Spring, Tomcat, nginx).  Freemarker no inform√≥ mensajes de error de manera muy informativa.  Pero ElasticSearch, Hazelcast, Pentaho tuvieron que ser reparados varias veces; encontramos talentosos casos en los que no funcionaban seg√∫n lo especificado en la documentaci√≥n. </p><br><p>  El inicio f√°cil y el pan de jengibre r√°pido del uso de la nueva tecnolog√≠a es bueno, pero introducen la euforia y reducen el estado de alerta.  Debido a que la nueva tecnolog√≠a contiene errores, necesariamente contiene errores.  Y si a√∫n no ha escrito sobre ellos, regoc√≠jese, depende de usted convertirse en el pionero que recoge algo torcido de todos modos y se va a google o en SO.  Por supuesto, lo "torcido" se puede encontrar en productos probados, pero en los nuevos es mucho m√°s f√°cil. </p><br><p><img src="https://habrastorage.org/webt/on/k_/es/onk_esy04syzexdj5odtjk8f_o8.png" alt="imagen"></p><br><p>  A pesar de todas las dificultades, entramos en producci√≥n.  S√≠, con retrasos.  S√≠, no muy estable.  Pero en general, no hay desastres. </p><br><p>  En total, observo una vez m√°s trampas en las que se distorsiona una percepci√≥n saludable del proceso de trabajo. </p><br><ol><li>  <strong>"Extrapolador-resistente"</strong> .  Impresionados por los √©xitos actuales, vamos y extrapolamos alegremente la velocidad de desarrollo a los pr√≥ximos proyectos. </li><li>  <strong>"Stakhanovets"</strong> .  Trabajamos por el desgaste, estamos satisfechos con nosotros mismos, pero no nos damos cuenta de que los problemas que resolvemos son consecuencia de nuestros errores / defectos / negligencias personales.  Trabajos para no hacer. </li><li>  <strong>"El poder de Hello world"</strong> .  Nos apresuramos a presentar todo lo m√°s nuevo e interesante en producci√≥n. </li></ol><br><h2 id="pochemu-vsyo-poluchilos">  ¬øPor qu√© funcion√≥? </h2><br><p>  Por supuesto, no enumer√© todos los errores que tuvimos durante este tiempo, pero s√≠ los m√°s comunes y probables para un proyecto espec√≠fico.  Esta correcci√≥n de errores ayuda a evitarlos en el futuro. </p><br><p>  Un poco sobre c√≥mo generalmente logramos crear una mini-startup de este tipo dentro de la empresa y convencer a la empresa de pasar del sistema ya comprado a algo de su propia clase. </p><br><p>  <strong>Condici√≥n No. 0</strong> .  Clima saludable en la empresa.  Este no es solo el "ardor en los ojos" de los empleados y la sociabilidad en condiciones estresantes de extracci√≥n de cookies, no.  Esto se trata de todas las interacciones. </p><br><p>  <strong>Condici√≥n No. 1</strong> .  Cree en lo que haces.  En serio, no creo que tendr√≠amos al menos alguna posibilidad si tuvi√©ramos que tomar un piloto sin tener que entender el sistema comprado "al grano", es decir, retroceder e inconscientemente sabiendo que este sistema est√° m√°s fresco y ocupado con nosotros. </p><br><p>  Lo que hicimos: 1) descubrimos el sistema de compra, con √©l resolvimos las solicitudes b√°sicas del negocio 2) hicimos una lista de tareas que no solo existen ahora, sino que ser√°n en el futuro previsible 3) seleccionamos una soluci√≥n que se adapte mejor.  Y luego, nuestra evaluaci√≥n de la decisi√≥n: fue una evaluaci√≥n de expertos. </p><br><p>  ¬øNos dar√≠an algo si simplemente vini√©ramos y dij√©ramos "muchachos, toda esta basura, no queremos lidiar con esto y decidimos hacer lo nuestro desde cero"?  Apenas  Y la respuesta habr√≠a sido recibida en una forma que es bien recordada :) </p><br><p>  <strong>Condici√≥n No. 2</strong> .  El primer paso es peque√±o.  Generamos la primera hip√≥tesis y verificamos.  Puedes dedicar tu tiempo personal a esto.  Si no quieres perder el tiempo, entonces no deber√≠as dedicarte a eso.  Y si no quieres probar una peque√±a hip√≥tesis, pero quieres hacerlo de inmediato de manera genial y brillante, ¬°mantente alejado de esas personas! </p><br><p>  Tuvimos suerte, y la primera hip√≥tesis funcion√≥.  Pero esto no siempre sucede.  Por ejemplo, en uno de los siguientes proyectos, cuando el administrador fue promovido como parte de un piloto similar, solo la 18a opci√≥n funcion√≥ para nosotros.  Y se desperdiciaron los primeros 17 enfoques del proyectil.  Por cierto, en la historia con la creaci√≥n del √°rea de administraci√≥n, los giros y vueltas de la trama estaban al nivel de las series brasile√±as, porque el equipo estaba formado por muchachos, para ese entonces ya veteranos, verdaderos "verdugos rallados". </p><br><p>  <strong>Condici√≥n No. 3</strong> .  Hacemos MVP y buscamos dolor en el tomador de decisiones.  Por supuesto, el horror ya puede reflejarse en su rostro por el hecho de que le traes alg√∫n tipo de aventura por en√©sima vez.  Pero aun as√≠.  Y aseg√∫rese de mostrar exactamente c√≥mo resolvemos sus problemas con nuestro producto. </p><br><p>  <strong>Condici√≥n No. 4</strong> .  En la rodilla, r√°pidamente hacemos un piloto que se parece al resultado final.  Hacer que todo sea realmente genial es tentador, pero puedes encontrar el perfeccionismo, por lo que resulta que, en lugar de un piloto, quieres mostrar una versi√≥n piloto de un producto ya ideal.  Pero ellos no existen.  As√≠ que solo haz al menos palos. </p><br><p>  <strong>Condici√≥n No. 5</strong> .  Producto.  El proyecto est√° creciendo, obteniendo finanzas, los expertos vienen con una s√≥lida experiencia. <br>  Y si eres una startup cl√°sica, entonces este es el momento en que debes culpar con un silbato.  Porque los vuelos ligeros en la parte superior y una sensaci√≥n de bondad general de lo que est√° sucediendo se dispersan r√°pidamente. </p><br><p>  Entrar en el producto es una colisi√≥n con cargas reales, integraci√≥n con una docena de sistemas, y cuando cree una nueva funcionalidad, finalizar√° las versiones antiguas como parte del mantenimiento.  Todos estos desaf√≠os son mucho m√°s serios que pensar en una idea y resolverla, aunque bien, pero solo un problema del cliente. </p><br><p>  Estos son desaf√≠os y el crecimiento de habilidades ocurre precisamente en esta etapa. </p><br><p>  Gracias por leer  Happy New Code! </p></div></div><p>Source: <a href="https://habr.com/ru/post/485088/">https://habr.com/ru/post/485088/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../485070/index.html">Andrew Eun "Pasi√≥n por el aprendizaje autom√°tico". Traducci√≥n de los cap√≠tulos 36-46</a></li>
<li><a href="../485074/index.html">C√≥mo no morir en un proyecto o 5 hacks de vida</a></li>
<li><a href="../485078/index.html">Dif√≠cil, vulnerable, subconfigurado: ciberamenazas 2020</a></li>
<li><a href="../485080/index.html">Patos NgRx | Fachadas din√°micas</a></li>
<li><a href="../485084/index.html">Plancton de oficina - Evoluci√≥n</a></li>
<li><a href="../485090/index.html">El secreto de la eficiencia es el c√≥digo de calidad, no un administrador efectivo</a></li>
<li><a href="../485092/index.html">Validaci√≥n de datos en aplicaciones iOS</a></li>
<li><a href="../485094/index.html">Microservicios con Spring Boot. Parte 3. Crear un microservicio de conversi√≥n de moneda</a></li>
<li><a href="../485096/index.html">Cinco m√©todos para la ofuscaci√≥n de la base de datos</a></li>
<li><a href="../485098/index.html">¬øPuede el dise√±o afectar la velocidad de entrega?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>