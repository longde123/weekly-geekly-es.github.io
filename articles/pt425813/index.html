<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®‚Äçüë®‚Äçüëß‚Äçüë¶ ü§ö ‚ùï CICD: implanta√ß√£o cont√≠nua em sistemas de cluster distribu√≠dos sem tempo de inatividade üçú üî∏ üçæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Publico o segundo relat√≥rio do nosso primeiro mitap , realizado em setembro. A √∫ltima vez que voc√™ p√¥de ler (e ver) sobre o uso do Consul para dimensi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>CICD: implanta√ß√£o cont√≠nua em sistemas de cluster distribu√≠dos sem tempo de inatividade</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pixonic/blog/425813/">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Publico</a> o segundo relat√≥rio do nosso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">primeiro mitap</a> , realizado em setembro.  A √∫ltima vez que voc√™ p√¥de ler (e ver) sobre o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">uso do Consul para dimensionar servi√ßos estatais</a> de Ivan Bubnov do BIT.GAMES, e hoje falaremos sobre o CICD.  Mais precisamente, nosso administrador de sistema Egor Panov falar√° sobre isso, que √© respons√°vel pela disponibilidade de infraestrutura e servi√ßos na Pixonic.  Sob o corte - decodifica√ß√£o do desempenho. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/U6AE8J7q81M" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><a name="habracut"></a><br>  Para come√ßar, a ind√∫stria de jogos √© mais arriscada - voc√™ nunca sabe o que exatamente vai afundar no cora√ß√£o do jogador.  E assim criamos muitos prot√≥tipos.  Obviamente, criamos prot√≥tipos no joelho de paus, cordas e outros materiais improvisados. <br><br>  Parece que, com essa abordagem, fazer algo que possa ser apoiado √© geralmente imposs√≠vel.  Mas mesmo nesta fase, estamos aguentando.  Mantemos tr√™s pilares: <br><br><ol><li>  excelente experi√™ncia dos testadores; </li><li>  intera√ß√£o √≠ntima com eles; </li><li>  o tempo que dedicamos aos testes. </li></ol><br>  Portanto, se n√£o construirmos nossos processos, por exemplo, implanta√ß√£o ou IC (integra√ß√£o cont√≠nua), mais cedo ou mais tarde chegaremos √† conclus√£o de que a dura√ß√£o do teste aumentar√° e aumentar√° o tempo todo.  E faremos tudo devagar e perderemos o mercado, ou simplesmente explodiremos a cada implanta√ß√£o. <br><br>  Mas construir um processo CICD n√£o √© t√£o simples.  Alguns dir√£o: bem, eu vou colocar Jenkins, vou ligar rapidamente para algo, agora estou pronto para o CICD.  N√£o, isso n√£o √© apenas uma ferramenta, √© tamb√©m uma pr√°tica.  Vamos come√ßar em ordem. <br><br><img src="https://habrastorage.org/webt/3e/di/1h/3edi1hvgrx4zntc1usxtekz-09w.png"><br>  O primeiro.  Muitos artigos escrevem que tudo precisa ser mantido em um reposit√≥rio: c√≥digo, testes, implanta√ß√£o e at√© o esquema do banco de dados e configura√ß√µes de IDE comuns a todos.  N√≥s seguimos nosso pr√≥prio caminho. <br><br>  Alocamos reposit√≥rios diferentes: implante em nosso reposit√≥rio, testes em outro.  Funciona mais r√°pido.  Pode n√£o lhe agradar, mas para n√≥s √© muito mais conveniente.  Como existe um ponto importante neste momento - voc√™ precisa criar um simples e transparente para todos os fluxos de hits.  Obviamente, voc√™ pode fazer o download do finalizado em algum lugar, mas, em qualquer caso, √© necess√°rio ajust√°-lo por conta pr√≥pria, aprimor√°-lo.  Para n√≥s, por exemplo, uma implanta√ß√£o vive em seu pr√≥prio gitflow, que √© mais parecido com um fluxo do GitHub, e o desenvolvimento do servidor vive em seu pr√≥prio gitflow. <br><br>  O pr√≥ximo par√°grafo.  Voc√™ precisa configurar uma compila√ß√£o totalmente autom√°tica.  √â claro que, no primeiro est√°gio, o pr√≥prio desenvolvedor coleta o projeto pessoalmente, depois o implanta pessoalmente com a ajuda do SCP, o lan√ßa ele mesmo, o envia para quem precisar.  Esta op√ß√£o n√£o durou muito, um script bash apareceu.  Bem, desde que o ambiente dos desenvolvedores est√° mudando constantemente, um servidor de compila√ß√£o dedicado especial apareceu.  Ele viveu muito tempo; durante esse tempo, conseguimos aumentar at√© 500 servidores, configurar o servidor no Puppet, acumular legado no Puppet, recusar o Puppet, mudar para o Ansible e esse servidor de build continuou a funcionar. <br><br>  Eles decidiram mudar tudo depois de duas liga√ß√µes, n√£o esperaram uma terceira.  A hist√≥ria √© clara: o servidor de compila√ß√£o √© um ponto √∫nico de falha e, √© claro, quando precis√°vamos implantar algo, o data center caiu completamente junto com o nosso compilador.  E a segunda chamada: precis√°vamos atualizar a vers√£o Java - atualizamos no servidor de compila√ß√£o, instalamos no palco, tudo √© legal, tudo √© √≥timo e foi necess√°rio executar algumas pequenas corre√ß√µes no prod.  Claro, esquecemos de retroceder e tudo simplesmente desmoronou. <br><br>  Depois disso, eles reescreveram tudo para que toda a compila√ß√£o pudesse acontecer em absolutamente qualquer agente do TeamCity e reescreveu no Ansible, porque foi configurado no Ansible, por que n√£o usar a mesma ferramenta tamb√©m para a implanta√ß√£o. <br><br>  A seguinte regra: quanto mais voc√™ confirmar, melhor.  Porque  Porque existe um quarto: todo commit √© coletado.  E, de fato, ainda mais do que todo commit.  Eu j√° disse que temos o TeamCity, e isso permite que voc√™ execute uma confirma√ß√£o do seu IDE favorito (voc√™ adivinha o que eu quero dizer).  Na verdade, feedback r√°pido, tudo est√° √≥timo. <br><br>  Uma compila√ß√£o quebrada √© reparada imediatamente.  Assim que voc√™ configura a implanta√ß√£o autom√°tica, √© necess√°rio configurar a notifica√ß√£o autom√°tica no Slack.  Todos sabemos muito bem que um desenvolvedor sabe como seu c√≥digo funciona apenas no momento em que ele o escreve.  Portanto: a pessoa descobriu - reparado imediatamente. <br><br>  Testamos no ambiente repetindo prod.  √â simples, escolhemos o Ansible e o AWX.  Algu√©m pode perguntar, mas e o Docker, o Kubernetes, o OpenShift, onde todos os problemas j√° est√£o resolvidos h√° muito tempo?  Esqueci de dizer que temos componentes do Linux e do Windows.  E, por exemplo, o servidor Photon, que est√° no Windows, apenas recentemente conseguimos empacotar mais ou menos normalmente em um cont√™iner de docker de 10 GB.  Portanto, temos um aplicativo do Windows que n√£o se comporta bem em um cont√™iner;  H√° um aplicativo no Linux (que est√° em Java), que √© perfeitamente empacotado, mas n√£o h√° motivo para que funcione bem onde quer que voc√™ o execute.  Isto √© Java. <br><br>  Em seguida, escolhemos entre Ansible e Chef.  Ambos funcionam bem com o Windows, mas o Ansible acabou sendo muito mais f√°cil para n√≥s.  Quando j√° instalamos o AWX - em geral, todo o fogo se tornou.  AWX tem segredos, gr√°ficos, hist√≥ria.  Voc√™ pode mostrar a uma pessoa longe de tudo isso, ela imediatamente ver√° tudo e tudo ficar√° claro. <br><br>  E voc√™ sempre precisa manter a compila√ß√£o r√°pida.  N√£o sei por que, mas sempre que voc√™ lan√ßa um novo projeto, voc√™ esquece completamente o servidor de compila√ß√£o, os agentes e seleciona algum computador que estava por a√≠ - este √© o nosso servidor de compila√ß√£o.  √â indesej√°vel repetir esse erro, porque tudo o que estou falando (feedback r√°pido, vantagens) - tudo n√£o ser√° t√£o relevante se a montagem iniciar no seu laptop muito mais rapidamente do que em algum tipo de farm de cria√ß√£o de servidores. <br><br><img src="https://habrastorage.org/webt/ll/ab/zl/llabzlqv49woxdlukv36uohavcg.png"><br>  7 pontos - e j√° constru√≠mos algum tipo de processo de IC.  √ìtimo  O diagrama a seguir n√£o est√° vis√≠vel, mas ainda existe o Graylog ao lado.  Quem l√™ nossos artigos sobre Habr√©, que j√° viu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">como escolhemos o Graylog</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">como instalar</a> .  De qualquer forma, ajuda a desviar se algum problema ainda ocorreu. <br><br><img src="https://habrastorage.org/webt/7d/g7/vo/7dg7vonpatitv6azg812qcycovw.png"><br>  Agora, nesta base, j√° √© poss√≠vel prosseguir para a implanta√ß√£o. <br><br><img src="https://habrastorage.org/webt/z4/9d/ey/z49deyle1javphwp9unxx8stk24.png"><br>  Mas eu j√° falei sobre a implanta√ß√£o no segundo par√°grafo, ent√£o n√£o vou me alongar muito nisso.  Vou dizer uma coisa sobre a vida: se voc√™ usa o Ansible, adicione esta s√©rie, que est√° no slide.  Aconteceu mais de uma vez que voc√™ iniciou algo e entendeu, mas eu o iniciei errado, errado ou errado, e ent√£o voc√™ v√™ que este √© apenas um servidor.  E podemos facilmente perder um servidor e voc√™ apenas o carrega novamente, ningu√©m percebeu. <br><br>  Al√©m disso, eles instalaram o reposit√≥rio de artefatos no Nexus - √© um ponto de entrada √∫nico para absolutamente todos, n√£o apenas para o IC. <br><br><img src="https://habrastorage.org/webt/vd/gn/bx/vdgnbxlqrwunngs2a2qwec-rqqa.gif"><br>  E isso nos ajuda muito a garantir a repetibilidade.  Bem, como o nexus pode funcionar como servi√ßos de proxy em diferentes regi√µes, eles aceleram a implanta√ß√£o, a instala√ß√£o de pacotes rpm, imagens do docker, qualquer coisa. <br><br>  Quando voc√™ est√° lan√ßando um novo projeto, √© aconselh√°vel escolher componentes f√°ceis de automatizar.  Por exemplo, n√£o tivemos √™xito com o servidor Photon.  De qualquer forma, era a melhor solu√ß√£o em outros aspectos.  Mas Cassandra, por exemplo, √© muito convenientemente atualizado e automatizado. <br><br><img src="https://habrastorage.org/webt/47/0d/dp/470ddpcmyhjgdxscckex6l_drow.png"><br>  Aqui est√° um exemplo de um de nossos projetos.  O cliente chega ao servidor APP, onde ele tem um perfil no banco de dados Cassandra, e depois vai para o servidor mestre, que com a ajuda da cria√ß√£o de partidas, oferece a ele um servidor de jogos com algum tipo de sala.  Todos os outros servi√ßos s√£o feitos na forma de um "banco de dados de aplicativos" e s√£o atualizados exatamente da mesma maneira. <br><br>  O segundo ponto - voc√™ precisa fornecer uma arquitetura de implanta√ß√£o simples e pouco acoplada.  N√≥s conseguimos. <br><br><img src="https://habrastorage.org/webt/hi/_u/gg/hi_uggurj1cdydwxnel9t_wfawi.png"><br>  Veja, atualizando, por exemplo, o servidor de aplicativos.  Dedicamos servi√ßos de descoberta que reconfiguram o balanceador, ent√£o apenas acessamos o servidor de aplicativos, o apagamos, ele falha com o balanceamento, atualizamos tudo.  E assim com cada um individualmente. <br><br>  Servidores principais s√£o atualizados quase de forma id√™ntica.  O cliente faz ping em cada servidor principal da regi√£o e vai para aquele em que o ping √© melhor.  Assim, se atualizarmos o servidor principal, talvez o jogo v√° um pouco mais devagar, mas √© atualizado de maneira f√°cil e simples. <br><br>  Os servidores de jogos s√£o atualizados de maneira um pouco diferente, porque ainda existe um jogo em andamento.  Vamos ao matchmaking, pedimos que ele jogue um certo servidor fora de equil√≠brio, chegue ao servidor do jogo, espere at√© que os jogos se tornem exatamente zero e atualize.  Ent√£o voltamos ao equil√≠brio. <br><br><img src="https://habrastorage.org/webt/yk/iv/eu/ykiveufay9i9b2xbtv11e09pw58.gif"><br>  O ponto principal aqui s√£o os pontos de extremidade que cada um dos componentes possui e com os quais √© f√°cil e simples a comunica√ß√£o.  Se voc√™ precisar de um exemplo, existe um cluster do Elasticsearch.  Usando solicita√ß√µes http regulares em JSON, voc√™ pode se comunicar facilmente com ele.  E ele imediatamente no mesmo JSON fornece todos os tipos de m√©tricas diferentes e informa√ß√µes de alto n√≠vel sobre o cluster: verde, amarelo e vermelho. <br><br>  Depois de concluir essas 12 etapas, aumentamos o n√∫mero de ambientes, come√ßamos a testar mais, a implanta√ß√£o foi acelerada, as pessoas come√ßaram a receber feedback r√°pido. <br><br><img src="https://habrastorage.org/webt/ax/sx/jh/axsxjh2bd2vw8cazn5tdf1kcguq.png"><br>  O que √© muito importante, conseguimos a simplicidade e a velocidade dos experimentos.  E isso √© muito importante, porque quando existem muitos experimentos, podemos filtrar facilmente id√©ias erradas e focar nas corretas.  E n√£o com base em avalia√ß√µes subjetivas, mas com base em indicadores objetivos. <br><br>  Na verdade, eu n√£o sigo mais quando temos uma implanta√ß√£o l√°, quando o lan√ßamento.  N√£o h√° "oh, solte!" Sentimento, tudo se acumulou e arrepios.  Agora, essa √© uma opera√ß√£o t√£o rotineira, vejo periodicamente em uma sala de bate-papo que algo surgiu, ok.  Isso √© muito legal.  Os administradores do sistema rugir√£o de alegria quando voc√™ o fizer. <br><br>  Mas o mundo n√£o p√°ra, √†s vezes salta.  Temos algo a melhorar.  Por exemplo, eu gostaria de colocar os logs da compila√ß√£o no Graylog tamb√©m.  Isso exigir√° um aprimoramento adicional do registro para que n√£o haja uma hist√≥ria separada, mas claramente: √© assim que a constru√ß√£o foi montada, testada, implantada e se comportando no produto.  E monitoramento cont√≠nuo - essa √© uma hist√≥ria mais complicada. <br><br><img src="https://habrastorage.org/webt/bk/b1/pn/bkb1pnqqin9etc8d-ze3jcjl0wa.png"><br>  N√≥s usamos o Zabbix, e ele n√£o est√° preparado para tais abordagens.  A quarta vers√£o ser√° lan√ßada em breve, descobriremos o que est√° l√° e, se tudo estiver ruim, encontraremos uma solu√ß√£o diferente.  Vou lhe contar como ser√° a pr√≥xima reuni√£o. <br><br><h4>  Perguntas da plat√©ia </h4><br>  <b>E o que acontece quando voc√™ despeja um pouco de lixo na produ√ß√£o?</b>  <b>Por exemplo, voc√™ n√£o calculou algo de acordo com o desempenho e est√° tudo bem na integra√ß√£o, mas na produ√ß√£o, veja - seus servidores est√£o come√ßando a falhar.</b>  <b>Como voc√™ reverte?</b>  <b>Existe algum bot√£o me salvar?</b> <br><br>  Tentamos fazer a automa√ß√£o de revers√£o.  Voc√™ pode falar sobre relat√≥rios sobre o qu√£o legal √©, como √© maravilhoso.  Mas primeiro, projetamos para que as vers√µes sejam compat√≠veis com vers√µes anteriores e testamos isso.  E quando fizemos essa coisa totalmente autom√°tica, que verifica alguma coisa e a reverte, e ent√£o come√ßamos a conviver com ela, percebemos que nos esfor√ßamos muito mais do que se apenas peg√°ssemos a vers√£o antiga com o mesmo pedal . <br><br>  <b>Em rela√ß√£o √† atualiza√ß√£o autom√°tica da implanta√ß√£o: por que voc√™ est√° fazendo altera√ß√µes no servidor atual e n√£o adicionando um novo e apenas adicionando-o ao grupo de destino ou ao balanceador?</b> <br><br>  T√£o mais r√°pido. <br><br>  <b>Por exemplo, se voc√™ precisar atualizar a vers√£o Java, altere o estado da inst√¢ncia na Amazon, atualizando a vers√£o Java ou algo mais, como reverter nesse caso?</b>  <b>Voc√™ est√° fazendo altera√ß√µes no servidor de produ√ß√£o?</b> <br><br>  Sim, cada componente funciona bem com a nova vers√£o e a antiga.  Sim, pode ser necess√°rio recarregar o servidor. <br><br>  <b>H√° mudan√ßas de estado quando grandes problemas s√£o poss√≠veis ...</b> <br><br>  Ent√£o exploda. <br><br>  <b>Parece-me adicionar um novo servidor e coloc√°-lo no grupo-alvo no grupo-alvo - uma pequena tarefa em complexidade e uma pr√°tica muito boa.</b> <br><br>  Estamos hospedados em hardware, n√£o nas nuvens.  Podemos adicionar um servidor - √© poss√≠vel, mas um pouco mais do que apenas clicar na nuvem.  Portanto, pegamos nosso servidor atual (n√£o temos essa carga para n√£o podermos retirar algumas das m√°quinas) - pegamos algumas das m√°quinas, atualizamos, colocamos no tr√°fego de vendas, vemos como funciona, se tudo estiver bem, continuaremos fazendo tudo outros carros. <br><br>  <b>Voc√™ diz que se todo commit for coletado e se tudo estiver ruim - o desenvolvedor governa tudo imediatamente.</b>  <b>Voc√™ entende que tudo est√° ruim?</b>  <b>Quais confirma√ß√µes s√£o feitas?</b> <br><br>  Naturalmente, no come√ßo era algum tipo de teste manual, o feedback √© lento.  Ent√£o, com algum tipo de teste autom√°tico no Appium, tudo isso √© coberto, funciona e fornece algum tipo de feedback sobre se os testes ca√≠ram ou n√£o. <br><br>  <b>I.e.</b>  <b>Primeiro, cada confirma√ß√£o √© lan√ßada e os testadores est√£o assistindo?</b> <br><br>  Bem, nem todo mundo, isso √© pr√°tica.  Fizemos uma pr√°tica desses 12 pontos - acelerada.  De fato, este √© um trabalho longo e √°rduo, talvez durante o ano.  Mas, idealmente, voc√™ chega a isso e tudo funciona.  Sim, precisamos de algum tipo de autoteste, pelo menos um conjunto m√≠nimo, para que tudo funcione para voc√™. <br><br>  <b>E a pergunta √© menor: h√° um servidor de aplicativos na imagem e assim por diante, √© isso que me interessa l√°?</b>  <b>Voc√™ disse que n√£o parece ter o Docker, o que √© um servidor?</b>  <b>Java nu ou o qu√™?</b> <br><br>  Em algum lugar como o Photon no Windows (um servidor de jogos), o servidor de aplicativos √© um aplicativo Java no Tomcat. <br><br>  <b>I.e.</b>  <b>sem virtualoks, sem cont√™ineres, nada?</b> <br><br>  Bem, Java √©, voc√™ poderia dizer, um cont√™iner. <br><br>  <b>E tudo isso acontece com o Ansible?</b> <br><br>  Sim  I.e.  em um determinado momento, simplesmente n√£o investimos em orquestra√ß√£o, porque por qu√™?  Se, em qualquer caso, o Windows precisar ser gerenciado separadamente da mesma maneira, e aqui absolutamente tudo ser√° coberto com uma √∫nica ferramenta. <br><br>  <b>E como o banco de dados √© implantado?</b>  <b>Depend√™ncia de componente ou servi√ßo?</b> <br><br>  H√° um esquema no pr√≥prio servi√ßo que ser√° implantado quando aparecer e precisar ser desenvolvido para que nada seja exclu√≠do, mas apenas algo seja adicionado e seja compat√≠vel com vers√µes anteriores. <br><br>  <b>Sua base tamb√©m √© de ferro ou est√° em algum lugar da nuvem na Amaz√¥nia?</b> <br><br>  A maior base √© de ferro, mas existem outras.  Existem pequenos, o RDS n√£o √© mais ferro, virtual.  Esses pequenos servi√ßos que mostrei: bate-papos, ligas, conversando com o Facebook, cl√£s, um deles √© o RDS. <br><br>  <b>Servidor mestre - como √©?</b> <br><br>  Este, de fato, √© o mesmo servidor de jogo, apenas com um sinal do mestre e ele √© um balanceador.  I.e.  o cliente faz ping em todos os mestres e recebe aquele em que o ping √© menor, e o servidor mestre que usa matchmaking coleta salas nos servidores de jogos e envia o jogador. <br><br>  <b>Entendi corretamente que para cada lan√ßamento que voc√™ escreve (se algum recurso aparecer) uma migra√ß√£o para atualizar os dados?</b>  <b>Voc√™ disse que pega artefatos antigos e os preenche - o que acontece com os dados?</b>  <b>Voc√™ est√° escrevendo uma migra√ß√£o para reverter a base?</b> <br><br>  Esta √© uma opera√ß√£o de revers√£o muito rara.  Sim, voc√™ escreve a migra√ß√£o de canetas e o que fazer. <br><br>  <b>Como uma atualiza√ß√£o do servidor √© sincronizada com as atualiza√ß√µes do cliente?</b>  <b>I.e.</b>  <b>voc√™ precisa lan√ßar uma nova vers√£o do jogo - voc√™ primeiro atualizar√° todos os servidores e os clientes ser√£o atualizados?</b>  <b>O servidor suporta a vers√£o antiga e a nova?</b> <br><br>  Sim, estamos desenvolvendo a altern√¢ncia de recursos c e o escurecimento dos recursos.  I.e.  Essa √© uma al√ßa especial, uma alavanca que permite ativar alguns recursos posteriormente.  Voc√™ pode absolutamente atualizar com calma, ver se tudo funciona para voc√™, mas n√£o inclui esse recurso.  E quando voc√™ j√° dispersou o cliente, pode aumentar em 10% o tempo de folga, ver se est√° tudo bem e, em seguida, ao m√°ximo. <br><br>  <b>Voc√™ diz que armazenou partes do projeto separadamente em diferentes reposit√≥rios, ou seja,</b>  <b>voc√™ tem algum tipo de processo de desenvolvimento?</b>  <b>Se voc√™ mudar o projeto em si, seus testes dever√£o cair porque voc√™ mudou o projeto.</b>  <b>Portanto, os testes que est√£o separados precisam ser corrigidos o mais r√°pido poss√≠vel.</b> <br><br>  Eu falei sobre a baleia "intera√ß√£o estreita com testadores".  Esse esquema com reposit√≥rios diferentes funciona muito bem apenas se houver alguma comunica√ß√£o muito densa.  Isso n√£o √© um problema para n√≥s, todos se comunicam facilmente, h√° uma boa comunica√ß√£o. <br><br>  <b>I.e.</b>  <b>os testadores suportam o reposit√≥rio de testes em sua equipe?</b>  <b>E os autotestes est√£o separados?</b> <br><br>  Sim  Voc√™ criou algum recurso e pode coletar exatamente os autotestes necess√°rios no reposit√≥rio de testadores e n√£o verifica todo o resto. <br><br>  <b>Tal abordagem, quando tudo acontece rapidamente - voc√™ pode ir imediatamente ao produto para cada confirma√ß√£o.</b>  <b>Voc√™ segue essas t√°ticas ou comp√µe alguns lan√ßamentos?</b>  <b>I.e.</b>  <b>uma vez por semana, n√£o √†s sextas-feiras, nem nos finais de semana, voc√™ tem alguma t√°tica de lan√ßamento ou o recurso est√° pronto, posso lan√ß√°-lo?</b>  <b>Porque, se voc√™ fizer um pequeno lan√ßamento com pequenos recursos, √© menos prov√°vel que tudo v√° quebrar e, se algo quebrar, voc√™ definitivamente saber√° o que.</b> <br><br>  For√ßar os usu√°rios do cliente a baixar uma nova vers√£o a cada cinco minutos ou todos os dias n√£o √© uma id√©ia do gelo.  Em qualquer caso, voc√™ ser√° anexado ao cliente.  √â √≥timo quando voc√™ tem um projeto da Web no qual pode atualizar pelo menos todos os dias e n√£o precisa fazer nada.  A hist√≥ria √© mais complicada com o cliente, temos algum tipo de t√°tica de lan√ßamento e mantemos isso. <br><br>  <b>Voc√™ falou sobre a implanta√ß√£o da automa√ß√£o nos servidores do produto e (como eu a entendo) tamb√©m h√° a implanta√ß√£o da automa√ß√£o para um teste - e os ambientes de desenvolvimento?</b>  <b>Existe algum tipo de automa√ß√£o implantada pelos desenvolvedores?</b> <br><br>  Quase a mesma coisa.  A √∫nica coisa n√£o s√£o os servidores de ferro, mas a m√°quina virtual, mas a ess√™ncia √© a mesma.  Ao mesmo tempo, no mesmo Ansible, escrevemos (temos o Ovirt) a cria√ß√£o dessa m√°quina virtual e a serrilhada nela. <br><br>  <b>Voc√™ tem toda a hist√≥ria armazenada em um projeto, juntamente com os produtos Ansible e as configura√ß√µes de teste, ou ela vive e se desenvolve separadamente?</b> <br><br>  Podemos dizer que esses s√£o projetos separados.  Dev (chamamos de devbox) √© uma hist√≥ria quando tudo est√° em um pacote e, no prod, √© uma hist√≥ria distribu√≠da. <br><br><h3>  Mais conversas com o Pixonic DevGAMM Talks </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Usando o Consul para dimensionar servi√ßos com estado</a> (Ivan Bubnov, DevOps no BIT.GAMES); </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A pr√°tica de usar o modelo de ator na plataforma de back-end do jogo Quake Champions</a> (Roman Rogozin, desenvolvedor de back-end Saber Interactive); </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Arquitetura de meta servidor de tiro on-line m√≥vel Tacticool</a> (Pavel Platto, Engenheiro de Software L√≠der no PanzerDog); </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como o ECS, o C # Job System e o SRP alteram a abordagem da arquitetura</a> (Valentin Simonov, engenheiro de campo da Unity); </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Princ√≠pio do KISS em desenvolvimento</a> (Konstantin Gladyshev, programador l√≠der de jogos da 1C Game Studios); </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">L√≥gica geral do jogo no cliente e no servidor</a> (Anton Grigoriev, Diretor T√©cnico Adjunto da Pixonic). </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Pepino na nuvem: usando scripts BDD para teste de estresse do produto</a> (Anton Kosyakin, gerente t√©cnico de produto da plataforma ALICE). </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt425813/">https://habr.com/ru/post/pt425813/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt425803/index.html">A luta por recursos, parte 3: h√° pouca mem√≥ria</a></li>
<li><a href="../pt425805/index.html">DevOops 2018: streaming online gratuito, festa e muito mais</a></li>
<li><a href="../pt425807/index.html">Complexidade de sistemas e m√©todos de "luta" com ele</a></li>
<li><a href="../pt425809/index.html">Aprendendo linguagens de programa√ß√£o no processo: desenvolvedor de software sobre projetos complexos</a></li>
<li><a href="../pt425811/index.html">Outro problema de exibi√ß√£o no MacBook Pro</a></li>
<li><a href="../pt425815/index.html">Quem n√£o precisa de SEO, como escolher um otimizador e testar seu trabalho</a></li>
<li><a href="../pt425817/index.html">Arraste e solte nos seus aplicativos para iOS</a></li>
<li><a href="../pt425819/index.html">GitLab 11.3 lan√ßado com reposit√≥rio Maven e ambientes seguros</a></li>
<li><a href="../pt425821/index.html">Como se tornar um desenvolvedor do React em 2018</a></li>
<li><a href="../pt425823/index.html">Estat√≠sticas de IPO 2018: US $ 45 bilh√µes levantados, o Dropbox levantou menos dinheiro do que empresas farmac√™uticas e vendedores de im√≥veis</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>