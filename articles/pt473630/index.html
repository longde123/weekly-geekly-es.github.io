<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèø‚Äçüåæ üßíüèº üë©üèº‚Äçüé§ Pr√°ticas recomendadas e ferramentas para o desenvolvimento de aplicativos iOS üà∑Ô∏è üë®üèø ‚öóÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ao desenvolver aplicativos m√≥veis, tive que criar projetos do zero mais de uma vez. Ao mesmo tempo, eu e minha equipe sempre gastamos muito tempo na c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pr√°ticas recomendadas e ferramentas para o desenvolvimento de aplicativos iOS</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473630/"> Ao desenvolver aplicativos m√≥veis, tive que criar projetos do zero mais de uma vez.  Ao mesmo tempo, eu e minha equipe sempre gastamos muito tempo na configura√ß√£o b√°sica do projeto, como a integra√ß√£o de ferramentas de terceiros, a configura√ß√£o da estrutura do projeto, a cria√ß√£o de classes b√°sicas, a integra√ß√£o de bibliotecas externas etc. <br><br>  Decidi que o tempo necess√°rio para iniciar o projeto pode ser reduzido e a parte principal do processo pode ser automatizada.  Ao mesmo tempo, coletei as melhores pr√°ticas e ferramentas que usamos e preparei <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um modelo de projeto</a> que usamos ao iniciar novos projetos.  Esse modelo deve economizar o tempo do desenvolvedor para configurar um novo projeto, al√©m de fornecer uma estrutura de projeto comum √† qual todos os membros da equipe se acostumar√£o, para que voc√™ n√£o precise mais pensar e estudar a estrutura de um novo projeto para ele.  Agora √© sempre o mesmo. <br><br>  Cada ferramenta ou abordagem adicionada ao modelo merece um artigo separado, mas eu gostaria de tentar resumir cada par√°grafo e dar uma breve explica√ß√£o sobre por que os inclu√≠ neste artigo. <br><a name="habracut"></a><br><h3>  Cocoapods </h3><br>  Eu n√£o acho que Cocoapods exija uma submiss√£o.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Esta √© uma</a> biblioteca para gerenciar depend√™ncias externas para projetos iOS.  Ele existe h√° muito tempo e √© confi√°vel e comprovado em campo em milhares (se n√£o milh√µes) de projetos.  Tamb√©m existem gerenciadores de depend√™ncia alternativos, por exemplo: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Cartago</a> , mas decidi continuar com o Cocoapods, porque ele tem a maior variedade de projetos de c√≥digo aberto suportados.  O uso do Cocoapods √© muito simples e vem com um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">√≠ndice de pesquisa</a> que facilita a localiza√ß√£o de pacotes que podem ser √∫teis a qualquer momento. <br><br>  Um projeto de modelo √© fornecido com um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Podfile</a> simples que cont√©m Swiftlint e R.swift.  O modelo tamb√©m inclui um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">gemfile</a> para gerenciar a vers√£o do Cocoapods usada para gerenciamento de depend√™ncias.  Essa solu√ß√£o geralmente √© ignorada pelos desenvolvedores, mas evita problemas que ocorrem quando os desenvolvedores de sua equipe instalam depend√™ncias usando vers√µes diferentes do Cocoapods.  O Gemfile usa √† for√ßa a mesma vers√£o do Cocoapods para toda a equipe. <br><br><h3>  Swiftlint </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O Swiftlint</a> √© uma ferramenta muito √∫til para impor certas regras e estilo de escrita para cada desenvolvedor na mesma equipe.  Esse sistema pode ser considerado um sistema automatizado de verifica√ß√£o de c√≥digo que avisa o desenvolvedor sobre momentos perigosos, como, por exemplo, proje√ß√µes de for√ßa, tentativas de for√ßa etc. etc., mas, al√©m do exposto, esse sistema aplica um estilo geral de escrita de c√≥digo, monitoramento para que todos os desenvolvedores sigam as mesmas regras associadas ao "estilo de c√≥digo", por exemplo: recuos ou intervalos.  Essa abordagem tem enormes vantagens, n√£o apenas economizando tempo na verifica√ß√£o do c√≥digo, mas tamb√©m tornando os arquivos do projeto reconhec√≠veis, o que aumenta a legibilidade e, como resultado, o entendimento de todos os membros da equipe de desenvolvimento.  Este <a href="">link</a> fornece uma lista de todas as regras.  No modelo Swiftlint, ele √© instalado usando o Cocoapods e inclu√≠do na etapa "Fases de compila√ß√£o", portanto, ser√° exibido um aviso ao desenvolvedor toda vez que o projeto for compilado. <br><br><h3>  R.swift </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">R.swift</a> √© uma ferramenta para obter recursos fortemente tipados e preenchidos automaticamente, como imagens, segmentos de fonte e localiza√ß√µes.  Ele executa todas as a√ß√µes acima, varrendo o projeto e criando as classes necess√°rias para obter recursos.  A maior vantagem desta biblioteca √© que, ao usar recursos, ela cria o c√≥digo do programa: <br><br><ul><li>  <b>Totalmente digitado</b> - menos proje√ß√µes e suposi√ß√µes sobre qual m√©todo ser√° retornado </li><li>  <b>Tempo de compila√ß√£o verificado</b> - n√£o h√° mais linhas inv√°lidas que impedem a execu√ß√£o do aplicativo durante a execu√ß√£o do c√≥digo </li><li>  <b>Preenchimento autom√°tico</b> - n√£o √© necess√°rio adivinhar o nome <i>image / nib / storyboard</i> novamente </li></ul><br>  Considere o seguinte c√≥digo usando a API oficial da string: <br><br><pre><code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> icon = <span class="hljs-type"><span class="hljs-type">UIImage</span></span>(named: ‚Äúcustom-icon‚Äù)</code> </pre> <br>  Se voc√™ cometeu um erro no nome da imagem, receber√° zero.  Se algum membro da sua equipe alterar o nome do recurso de imagem, esse c√≥digo retornar√° zero ou sua execu√ß√£o ser√° interrompida se voc√™ for√ßar a expans√£o da imagem.  Ao usar R.swift, fica assim: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> icon = <span class="hljs-type"><span class="hljs-type">R</span></span>.image.customIcon()</code> </pre><br>  Agora voc√™ pode ter certeza de que o √≠cone realmente existe (o compilador avisar√° se n√£o estiver, gra√ßas √†s verifica√ß√µes do tempo de compila√ß√£o) e ter√° certeza de que n√£o digitar√° o nome do √≠cone, porque usar√° o preenchimento autom√°tico. <br><br>  R.swift √© instalado usando Cocoapods e integra-se ao modelo na Fase de Compila√ß√£o e gerar√° classes de shell Swift para cada compila√ß√£o.  Isso significa que, se voc√™ adicionar um arquivo / imagem / localiza√ß√£o / fonte / cor / caneta, etc., tudo isso estar√° dispon√≠vel atrav√©s da R.swift ap√≥s a compila√ß√£o do projeto. <br><br><h3>  Arquivo AppDelegate separado para testes </h3><br>  Muitas vezes esquecem as boas pr√°ticas de usar uma classe TestAppDelegate separada ao executar testes.  Por que essa √© uma boa ideia?  Normalmente, a classe AppDelegate trabalha bastante quando o aplicativo √© iniciado.  Ele pode ter l√≥gica de configura√ß√£o de janela, configurar a exibi√ß√£o b√°sica da interface do usu√°rio do aplicativo, executar a l√≥gica de registro para receber notifica√ß√µes, ter um c√≥digo de configura√ß√£o de conex√£o com o banco de dados e, √†s vezes, fazer chamadas de API do servidor.  Os testes de unidade n√£o devem ter efeitos colaterais.  Voc√™ realmente n√£o deseja fazer chamadas aleat√≥rias √† API e personalizar toda a estrutura da interface do usu√°rio do seu aplicativo apenas para executar testes de unidade? <br><br>  TestAppDelegate tamb√©m √© uma op√ß√£o apropriada para obter o c√≥digo que voc√™ deseja executar apenas uma vez durante a execu√ß√£o do conjunto de testes.  Pode conter c√≥digo que gera objetos simulados, stubs de solicita√ß√£o de rede etc. <br><br>  O modelo cont√©m o arquivo main.swift, que √© o principal ponto de entrada do aplicativo.  Existem m√©todos neste arquivo que testam o ambiente do aplicativo e, se for um ambiente de teste, eles chamam TestAppDelegate. <br><br><h3>  Sinalizadores de perfil de desempenho do compilador </h3><br>  O Swift √© um √≥timo idioma, mais f√°cil de usar e mais seguro que o Objective-C (IMO).  Mas quando foi introduzido pela primeira vez, havia uma grande falha - o tempo de compila√ß√£o.  Na √©poca em que eu estava trabalhando em um projeto no Swift, que tinha cerca de 40 mil linhas de c√≥digo Swift (um projeto de tamanho m√©dio).  O c√≥digo era muito pesado, com configura√ß√µes e infer√™ncia de tipo, e a compila√ß√£o de uma montagem limpa levou quase 5 minutos.  Se voc√™ fizer pequenas altera√ß√µes, o projeto ser√° recompilado e levar√° cerca de 2 minutos para ver as altera√ß√µes.  Essa foi uma das piores experi√™ncias que j√° experimentei e, por causa disso, quase parei de usar o Swift. <br><br>  A √∫nica solu√ß√£o foi tentar determinar o tempo de compila√ß√£o do projeto e alterar seu c√≥digo para que o compilador funcione mais rapidamente.  Para ajudar a resolver esses problemas, a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Apple introduz alguns sinalizadores n√£o oficiais do compilador</a> que avisam o desenvolvedor que leva muito tempo para compilar o corpo do m√©todo ou determinar o tipo de express√£o.  Adicionei esses sinalizadores ao projeto de modelo para avisar sobre o longo tempo de compila√ß√£o do seu aplicativo. <br><br>  Atualmente, o tempo de compila√ß√£o diminuiu significativamente e os desenvolvedores raramente precisam otimizar seu c√≥digo apenas para reduzir o tempo de compila√ß√£o.  Ainda assim, √© melhor saber tudo com anteced√™ncia do que tentar resolver esse problema quando o projeto se tornar muito grande. <br><br><h3>  Configura√ß√µes de desenvolvimento / prepara√ß√£o / produ√ß√£o </h3><br>  Outra boa abordagem (ou, pode-se dizer, uma necessidade) √© ter uma configura√ß√£o separada e vari√°veis ‚Äã‚Äãde ambiente para ambientes de desenvolvimento, teste final e publica√ß√£o de aplicativos.  Atualmente, quase todos os aplicativos devem funcionar com um servidor e, geralmente, esses servidores s√£o implantados em v√°rios ambientes.  O ambiente de desenvolvimento √© usado para implanta√ß√£o di√°ria pelos desenvolvedores para testar seu c√≥digo.  O ambiente de teste final √© usado para criar vers√µes est√°veis ‚Äã‚Äãou para teste por testadores e clientes. <br><br>  Uma maneira de oferecer suporte a v√°rios ambientes em um projeto iOS √© adicionar configura√ß√µes no n√≠vel do projeto. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c43/dfd/1e9/c43dfd1e9219cb12b1a7a64c8753a1d0.png" alt="imagem"><br>  <i>Configura√ß√µes no n√≠vel do projeto</i> <br><br>  Ap√≥s definir as configura√ß√µes, √© poss√≠vel criar um arquivo Configuration.plist contendo vari√°veis ‚Äã‚Äãpara cada ambiente. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/07e/c6a/01a/07ec6a01adefb9cd9ead37330a0f971b.png" alt="imagem"><br>  <i>Configuration.plist</i> <br><br>  Ao iniciar um projeto, √© poss√≠vel indicar qual configura√ß√£o deve ser usada.  Voc√™ pode fazer isso em um diagrama de montagem. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0a7/4e1/76d/0a74e176d5bf9a23e631c1b79d1a0f28.png" alt="imagem"><br><br>  Em seguida, voc√™ precisa adicionar outra propriedade ao arquivo de projeto Info.plist.  O valor dessa propriedade ser√° substitu√≠do dinamicamente no tempo de execu√ß√£o no nome da configura√ß√£o atual. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1ff/c1b/672/1ffc1b67277e5872652b294be87ce310.png" alt="imagem"><br>  <i>Tudo isso √© pr√©-configurado no modelo.</i> <br><br>  Resta apenas escrever uma classe que possa extrair essas vari√°veis ‚Äã‚Äãem tempo de execu√ß√£o, dependendo da configura√ß√£o selecionada no esquema de montagem.  O modelo cont√©m a classe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ConfigurationManager</a> , que pode recuperar vari√°veis ‚Äã‚Äãpara o ambiente atual.  Voc√™ tamb√©m pode verificar a implementa√ß√£o desta classe no Github para ver como ela funciona. <br><br><h3>  Leia-me </h3><br>  Cada projeto deve conter um arquivo Leiame, que cont√©m pelo menos instru√ß√µes para instalar depend√™ncias e iniciar o projeto.  Tamb√©m deve conter descri√ß√µes da arquitetura e dos m√≥dulos do projeto.  Infelizmente, os desenvolvedores n√£o gostam de escrever documenta√ß√£o (o arquivo leia-me faz parte deste trabalho) e vi um projeto que foi desenvolvido h√° meses e at√© tinha um arquivo Leia-me.  Para remover o √¥nus de escrever um arquivo leia-me, o modelo cont√©m um <a href="">arquivo leia-me padr√£o</a> que cobre a instala√ß√£o e a estrutura do projeto.  Ao configurar um novo projeto usando modelos, voc√™ inclui automaticamente o arquivo Leiame. <br><br><h3>  Gitignore </h3><br>  Atualmente, a maioria dos projetos usa o GIT como um sistema de controle de vers√£o.  Ao usar o GIT, os desenvolvedores n√£o desejam ignorar alguns arquivos ou pastas no projeto, como a pasta de constru√ß√£o ou a pasta de dados derivada.  Para evitar que o desenvolvedor encontre um arquivo gitignore adequado para seu projeto iOS, o modelo cont√©m o gitignore padr√£o fornecido pelos membros do Github. <br><br><h3>  Classes base para manipula√ß√£o de links e notifica√ß√µes externas </h3><br>  Atualmente, quase todos os aplicativos devem lidar com links e notifica√ß√µes externas.  Para fazer isso, o desenvolvedor deve escrever algum c√≥digo padr√£o na classe AppDelegate.  Este modelo cont√©m uma descri√ß√£o de como fazer isso, tamb√©m <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">cont√©m classes base</a> que facilitam o trabalho com links e notifica√ß√µes externos. <br><br><h3>  Conclus√£o </h3><br>  Para resumir, o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">modelo</a> descrito cont√©m as melhores abordagens e integra ferramentas √∫teis de terceiros.  Tudo isso economiza o tempo de desenvolvimento da equipe gasto na cria√ß√£o de um novo projeto, al√©m de fornecer uma base comum e s√≥lida para o restante do projeto.  <i>Deixe este modelo servir voc√™ e sua equipe para o benef√≠cio!</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt473630/">https://habr.com/ru/post/pt473630/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt473610/index.html">Analisando o novo console da web Plesk Obsidian</a></li>
<li><a href="../pt473612/index.html">Tratado sobre o Pin. Pensamentos sobre como configurar e trabalhar com pinos em C ++ para microcontroladores (usando o CortexM como exemplo)</a></li>
<li><a href="../pt473614/index.html">O livro ‚ÄúHead First. Kotlin ¬ª</a></li>
<li><a href="../pt473626/index.html">‚ÄúO desenvolvedor quer comprar um avi√£o em tr√™s anos. Minha tarefa √© ajud√°-lo ‚Äù- Denis Pushkin sobre a motiva√ß√£o do Skyeng</a></li>
<li><a href="../pt473628/index.html">C ++ no servi√ßo de ortodontia: entrevista com Mikhail Matrosov, desenvolvedor CAD da Align Technology</a></li>
<li><a href="../pt473632/index.html">Vimos um artigo sobre Habr</a></li>
<li><a href="../pt473634/index.html">Lobby da Comcast pro√≠be criptografia DNS</a></li>
<li><a href="../pt473636/index.html">Fa√ßa o download do torrent de 16 GB via tablet com 4 GB de espa√ßo livre</a></li>
<li><a href="../pt473638/index.html">Shader n√£o √© m√°gico. Escrevendo shaders no Unity. 1. Introdu√ß√£o</a></li>
<li><a href="../pt473640/index.html">P√¥r-do-sol de grande volume de dados</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>