<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🦆 ♎️ 🤴🏾 Ditambah satu persen otomatisasi 😻 🤳🏾 👩‍🎨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pada akhir artikel terakhir, saya memutuskan untuk mendaftarkan daftar solusi teknis tanpa akhir yang benar-benar ingin saya terapkan sebagai bagian d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ditambah satu persen otomatisasi</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/wirenboard/blog/421689/"><img src="https://habrastorage.org/webt/zi/zb/3d/zizb3dvguspwkvbjbz-dhmfb4sa.png"><br><br>  Pada akhir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel terakhir,</a> saya memutuskan untuk mendaftarkan daftar solusi teknis tanpa akhir yang benar-benar ingin saya terapkan sebagai bagian dari otomatisasi keseluruhan, well, bukan country, tetapi country house. <br><br>  Sebelumnya, total konsumsi dikendalikan oleh meter fase tunggal dengan antarmuka Modbus.  Sangat berguna untuk memantau pembacaan konsumsi saat ini agar tidak melebihi batas yang wajar dan tidak menunggu pemutusan mesin grup.  Dia mengatasi tugas ini dengan keras.  Tetapi jauh lebih menarik untuk memonitor setiap konsumen secara individual.  Untuk apa dan bagaimana melakukan ini saya akan coba ceritakan di artikel ini. <br><a name="habracut"></a><br>  Pertama-tama, saya ingin mengucapkan terima kasih banyak, rekan-rekan, atas minat Anda pada artikel sebelumnya.  Menanggapi komentar Anda tidak kalah menyenangkan daripada menulis artikel itu sendiri.  Seorang pembaca yang jeli memperhatikan bahwa filter air kasar dipasang terbalik! <br><br>  Dewan Wiren menghasilkan beberapa model meter daya modbus multi-saluran: rakasa tiga-fase empat-saluran <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">WB-MAP12H</a> (dan adiknya saluran tunggal <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">WB-MAP3H</a> ), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">WB-MAP6S</a> fase-tunggal enam-saluran dan model terpisah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">WB-MAP3E</a> , yang digunakan dalam kasus-kasus khusus ketika diperlukan untuk mendiagnosis pendek. dan lonjakan kuat. <br><br>  Penghitung dari seri WB-MAP mengukur sejumlah besar parameter jaringan: parameter tegangan sesaat, arus, frekuensi, daya (aktif, reaktif, total), faktor daya, sudut fase;  akumulasi nilai energi untuk setiap saluran.  Antara lain, penghitung MAP memungkinkan Anda untuk mengukur koefisien harmonik berdasarkan tegangan dan arus, yang penting untuk menilai kualitas listrik dalam jaringan dengan konsumen "jahat". <br><br>  Tegangan disuplai langsung ke terminal meter, dan arus untuk setiap saluran diukur oleh transformator arus yang dapat dilepas.  Ini sangat nyaman saat memasang meteran pada panel yang sudah jadi. <br><br><img src="https://habrastorage.org/webt/fb/pn/ia/fbpniasb-wtfodesb_ifftwogs8.png" width="350" height="300"><br>  <i>Pemasangan penghitung</i> <br><table><tbody><tr><td><img src="https://habrastorage.org/webt/xr/ey/rp/xreyrpcn8dsawapw8fgxw4ejby8.png" width="300" height="200"></td><td><img src="https://habrastorage.org/webt/kx/by/6f/kxby6fq6zaejmuviwkuf_k8oizo.png" width="300" height="200"></td></tr></tbody></table>  <i>Pemasangan trafo split saat ini.</i> <br><br>  Pada papan display, transformator saat ini terlihat indah dan rapi (seperti pada gambar di judul posting), dalam kehidupan nyata Anda harus menempatkan transformer di tempat yang ternyata.  Dan ya, perisai harus besar! <br><br>  Proyek otomasi rumah negara saya, seperti yang saya jelaskan dalam artikel sebelumnya, didasarkan pada versi sebelumnya dari pengontrol Wiren Board 5 kami, yang menghubungkan berbagai modul relai, aktuator, dan sensor melalui antarmuka Modbus. <br><br>  Sebelum akhir pekan, saya mempersenjatai diri dengan dua konter WB-MAP6S dan satu counter WB-MAP12H dan mulai berbisnis.  Perkiraan awal jumlah saluran pengukuran ternyata, tentu saja, salah: ada lebih banyak konsumen yang ingin saya amati, jadi saya harus meluangkan waktu untuk memikirkan kelompok mana yang akan mengukur konsumsi. <br><br>  Input umum, beban setelah stabilizer dan inverter, konvektor dan pendingin udara (masing-masing terpisah), dua boiler, kabinet telekomunikasi, gerbang otomatis, kulkas, lantai hangat dipilih. <br><br>  Penghitung mengumpulkan sejumlah besar parameter (WB-MAP12H memiliki lebih dari seribu register), tetapi bahkan jajak pendapat yang konstan dari beberapa puluhan parameter dari setiap penghitung menjadi beban signifikan pada bus RS-485 jika Anda terlalu sering menginterogasinya.  Saya mengurangi template standar yang datang dengan controller ke parameter minimum yang diperlukan. <br><br>  Saya memindahkan penghitung ke bus RS-485 kedua dari pengontrol Wiren Board, agar tidak mengganggu operasi normal modul relai dan sensor, dan meningkatkan kecepatan menjadi 115200 kbit / s.  Dalam konfigurasi ini, survei meter mulai dilakukan dengan cukup ceria dan tidak mengganggu fungsi sisa otomatisasi. <br><br>  Sebelum melanjutkan ke penggunaan praktis dari hasil yang diperoleh, mereka harus dianalisis dari semua sisi.  Pengontrol Wiren Board memiliki database bawaan dan alat visualisasi sederhana, tetapi untuk tugas-tugas serius perlu menggunakan alat yang lebih serius. <br><br>  Mengingat bahwa setelah semua saya Zabbix CP, saya memutuskan untuk menggunakan pemantauan di atasnya, tetapi keinginan untuk dikuasai baru dan saya memutuskan untuk mencoba menggunakan bundel populer Influxdb + Grafana untuk menyimpan dan menampilkan data.  Kontroler menerjemahkan semua data dalam bentuk mqtt-topik ke pialang mqtt terpisah di server, tempat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">skrip Python</a> memprosesnya dan menyimpannya dalam Influx.  Di sana Grafana dipasang untuk menampilkan segala sesuatu. <br><br>  Hasil pertama tidak mengecewakan saya.  Berikut ini beberapa contohnya. <br><br><img src="https://habrastorage.org/webt/60/3x/6g/603x6gqnkbs3lbkagbs15gvoqxi.png"><br>  <i>Tegangan listrik</i> <br><br>  Semua kegagalan, dengan pengecualian yang jarang, terjadi sekitar pukul 21:00 - 23:00 dan khususnya terlihat pada akhir pekan.  Puncak - dini hari. <br><br>  Beginilah cara kerja dua stabilisator terlihat (garis kuning dan biru): <br><br><img src="https://habrastorage.org/webt/cc/zh/nk/cczhnkig80jc4ojl41cr9yibmdq.png"><br><br>  Ini adalah stabilisator relai biasa yang dikenal di kalangan luas pabrikan Latvia-Cina, dengan langkah yang cukup besar, mengubah tegangan output.  Tidak ada yang istimewa, meskipun jelas bahwa salah satunya cenderung beralih ke nilai tegangan yang sangat ekstrem (yang, bagaimanapun, sesuai dengan kerangka kerja GOST).  Kandidat pengganti pertama. <br><br>  Nilai instan ditampilkan dalam bentuk widget graphan tersebut: <br><br><img src="https://habrastorage.org/webt/qx/ag/eu/qxageuehzxgwz7dkm1nqmrmwr54.png"><br><br>  Sederhana dan intuitif, cocok untuk output ke layar informasi atau tablet di dinding. <br><br>  Grafik daya sesaat untuk semua konsumen terlihat sangat indah (klik pada gambar untuk membukanya dalam skala penuh): <br><br> <a href=""><img src="https://habrastorage.org/webt/ft/rf/bg/ftrfbgrskmyh3isa90ckiewlmv0.png"></a> <br><br>  Besar dan hijau bukan buaya, tetapi total daya input. <br><br>  Grafana memungkinkan Anda untuk memilih pada grafik tidak hanya segalanya, tetapi satu atau lebih indikator minat. <br><br>  Faktor daya (cos φ).  Dalam perangkat rumah tangga modern, itu cukup baik untuk dirinya sendiri.  Saya memeriksa operasi tiga konsumen: AC, kulkas, dan pemanas air. <br><br>  Pada saat operasi aktif, pemanas air memiliki faktor daya 1 - "tinggi" (0,95 ... 1), kulkas 0,85 - "baik" (0,8 ... 0,95);  faktor daya AC (0,76) berada di batas atas kisaran "memuaskan" (0,65 ... 0,8). <br><br>  AC inverter: <br><table><tbody><tr><td><img src="https://habrastorage.org/webt/_r/zv/8q/_rzv8qtjho4fmckbrv1lou3y93m.png"></td><td><img src="https://habrastorage.org/webt/0g/w9/lo/0gw9loer2fsvdxf3zaenp3vzugm.png"></td></tr></tbody></table><br>  <i>Pengoperasian dalam mode pendinginan normal dan struktur puncak terpisah di kompresor (di sebelah kanan)</i> <br><br>  Puncak yang terlihat pada saat start-up awal kompresor unit eksternal, mode operasi stabil, mode siaga. <br><br>  Bagaimana cara kerja kulkas?  "Dr-dr-dr-dr-dr-dr?"  Hampir seperti itu.  Kompresor dinyalakan secara berkala saat memanas di dalam ruang: <br><br><img src="https://habrastorage.org/webt/-0/2f/zt/-02fztfesqpqvmmxxeu5n_jynus.png"><br>  <i>Pemasukan kompresor kulkas secara berkala</i> <br><br><img src="https://habrastorage.org/webt/vw/af/gc/vwafgcmfkhqqtu_bjfd9b13abic.png"><br>  <i>Struktur Kekuatan Puncak Tunggal</i> <br><br>  Siklus terpisah: lonjakan listrik terlihat ketika kompresor kulkas dihidupkan.  Penghitung WB-MAP cukup sensitif: lihat puncak kecil ini, sekitar selusin watt?  Lampu ini menyala di dalam lemari es: seseorang naik ke dalamnya! <br><br>  Rel handuk yang dipanaskan beroperasi dalam siklus hidup / mati terus-menerus untuk mempertahankan suhu yang ditetapkan: <br><table><tbody><tr><td><img src="https://habrastorage.org/webt/st/n3/mr/stn3mrsvwcsbeahfc4mrb3xpcx4.png"></td><td><img src="https://habrastorage.org/webt/aj/h2/rg/ajh2rg_v-32ncrz7o-5nc-yu0ey.png"></td></tr></tbody></table><br>  <i>Di sebelah kanan adalah gambar yang lebih rinci dari puncak konsumsi individu.</i> <br><br>  Hob bekerja dengan cara yang hampir sama: <br><br><img src="https://habrastorage.org/webt/1z/ez/hq/1zezhqbdevoxpcnewuygavpszu8.png"><br><br>  Tampaknya telah menyeduh kopi pagi saya. <br><br>  Profil energi yang menarik untuk gerbang otomatis: <br><br><img src="https://habrastorage.org/webt/wi/mz/kz/wimzkzayo2vf00tv825u-4tup3w.png"><br><br>  Mereka mengkonsumsi sekitar 5 watt dalam mode siaga, selama operasi, profil konsumsi energi memungkinkan Anda untuk melihat fase individu dari gerakan katup: yang pertama mulai membuka, kemudian yang kedua dimulai, kemudian mereka buka bersama, dan kemudian mereka berhenti pada gilirannya dan motor penggerak dimatikan. <br><br>  Ketel mempertahankan suhu air, frekuensi dan waktu penyalaan tergantung pada konsumsi air panas: <br><br><img src="https://habrastorage.org/webt/iy/o1/tx/iyo1txuwacaidp4qhmuorksn4ug.png"><br><br>  Saya tidak akan lagi membosankan pembaca dengan grafik - Saya akan menunjukkan tablet!  (Grafana tidak hanya dapat merencanakan, tetapi juga menampilkan data dalam tabel dan bagan batang.) <br><br><img src="https://habrastorage.org/webt/kn/zg/uz/knzguzes7leklkm9yptbxotaav0.png"><br><br>  Labelnya sederhana dan memungkinkan Anda melacak total konsumsi energi per jam, serta menilai berapa biayanya setiap jam sesuai dengan tarif saat ini.  Versi lama Influxdb, yang diinstal dari repositori dari versi Ubuntu saat ini di server, tidak tahu bagaimana membuat sampel biasa dari sampel, sehingga tidak mungkin untuk menambahkan kolom dengan biaya setiap jam. <br><br>  Pada grafik, konsumsi terlihat seperti ini: <br><br><img src="https://habrastorage.org/webt/qk/o3/ev/qko3evrab-xfwmw2jchzdlcnvac.png"><br><br>  Mengingat bahwa Gafana dapat menghasilkan pesan alarm, hasilnya cukup untuk versi ringan dari pemantauan catu daya. <br>  Namun, saya ingin menyelesaikan masalah yang lebih menarik. <br><br><ul><li>  Harmonik arus dan tegangan.  Apakah mereka memberikan informasi yang berguna untuk rumah?  Seringkali konsumen yang buruk atau kontak yang cemerlang menghasilkan harmonisa tingkat tinggi.  Berapa lama resolusi sementara dari counter cukup untuk mendeteksi mereka dan membuat beberapa keputusan tentang menonaktifkan "beban buruk"?  Atau hanya memberi peringatan? </li><li>  Pendingin udara dan konvektor.  Jika Anda mulai dari suhu di dalam ruangan, Anda dapat memahami dalam mode apa AC bekerja: apakah ia mencoba mendinginkan convector dengan kegigihan liar (convector harus dimatikan) atau apakah mereka bekerja bersama untuk dengan cepat memanaskan ruangan, jika AC bekerja dalam mode terbalik, menjadi panas? </li><li>  Gates  Jika profil konsumsi energi berubah dan mulai berbeda secara signifikan dari yang biasa, maka ini mungkin mengindikasikan bahwa ada beberapa jenis penghalang, minyak dalam drive telah menebal karena suhu rendah, seseorang membuka dan menutup pintu gerbang terlalu sering.  Di sini Anda dapat mengirim peringatan, matikan daya.  Apakah ada cukup pengontrol, Influx dan Grafana untuk ini?  Mungkin hal-hal seperti itu perlu diimplementasikan dalam skrip yang terpisah, hanya berlangganan pesan dengan nilai parameter konsumsi energi gerbang. </li><li>  Stasiun pompa dan pompa sumur.  Bersama dengan penilaian aliran air, adalah mungkin untuk melacak penurunan kinerja karena beberapa kerusakan, kebocoran, masalah dengan tangki penyimpanan. </li><li>  Pengoperasian kompresor tangki septik juga dapat diperkirakan dengan konsumsi energi, meskipun konsumsi udara lebih informatif, menurut pendapat saya. </li><li>  Pemanas air.  Air di sumur sangat keras, kerak terbentuk dengan cepat.  Dengan demikian, elemen pemanas harus bekerja lebih banyak dan dalam mode yang lebih parah, memanaskan air dari bawah penutup buangan tambahan (juga mulai terbakar jika cukup tebal).  Akan menarik untuk dipahami jika analisis konsumsi daya cukup untuk mendeteksi skala yang terbentuk (boiler tidak memiliki antarmuka untuk melaporkan suhu air di dalam tangki)? </li><li>  Konsumsi daya total - jika arus mendekati nilai batasnya, beban prioritas rendah dapat dinonaktifkan. </li></ul><br>  Saya akan senang jika seseorang menawarkan opsi yang tak terduga dan menarik untuk menggunakan pemantauan energi masing-masing perangkat. <br><br>  Sampai jumpa lagi, teman-teman! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id421689/">https://habr.com/ru/post/id421689/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id421675/index.html">Akhirnya, ada masalah yang hanya bisa diselesaikan oleh komputer kuantum</a></li>
<li><a href="../id421677/index.html">Bagaimana mengidentifikasi risiko dalam kontrol negara dan mengapa untuk pembelajaran mesin ini</a></li>
<li><a href="../id421683/index.html">Pertemuan #RuPostgres: menskalakan aplikasi PostgreSQL</a></li>
<li><a href="../id421685/index.html">Mengapa bekerja di IT tidak begitu keren</a></li>
<li><a href="../id421687/index.html">Cara mengatur Berbagi Pengetahuan di dalam dan luar</a></li>
<li><a href="../id421691/index.html">Manajemen Proses Statistik (Bagian 1. Pengalaman Implementasi)</a></li>
<li><a href="../id421693/index.html">Kisah satu API: bagaimana kami mengubah Frankenstein menjadi tampan</a></li>
<li><a href="../id421695/index.html">[Tidak] jaringan konvensional: cara mendeteksi air dalam tas menggunakan Wi-Fi</a></li>
<li><a href="../id421699/index.html">Cara menghilangkan kesalahan dengan tabel Objek Aktif saat mengembalikan Jira dari cadangan</a></li>
<li><a href="../id421701/index.html">Python Mempelajari Sandbox dan Cheat Sheet</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>