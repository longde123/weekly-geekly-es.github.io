<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üì∫ üëç ‚õàÔ∏è Construindo seu pr√≥prio servidor sem servidor com base no Fn ü¶Ü ‚öæÔ∏è üî¨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A computa√ß√£o sem servidor √© uma das tend√™ncias mais vis√≠veis na computa√ß√£o em nuvem. O princ√≠pio b√°sico do trabalho √© que a infraestrutura n√£o √© uma p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Construindo seu pr√≥prio servidor sem servidor com base no Fn</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/475044/"><p><img src="https://habrastorage.org/webt/q4/8m/gj/q48mgjqsr4hbppglzpibvajf8xw.jpeg"></p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A computa√ß√£o sem servidor</a> √© uma das tend√™ncias mais vis√≠veis na computa√ß√£o em nuvem.  O princ√≠pio b√°sico do trabalho √© que a infraestrutura n√£o √© uma preocupa√ß√£o do DevOps, mas do provedor de servi√ßos.  A escala de recursos se adapta automaticamente √† carga e tem uma alta taxa de altera√ß√£o. </p><br><p>  Outro recurso comum √© a tend√™ncia de minimizar e focar o c√≥digo; portanto, a computa√ß√£o sem servidor √†s vezes √© chamada de "fun√ß√£o como servi√ßo" (FaaS). </p><a name="habracut"></a><br><p>  Historicamente, o primeiro provedor de servi√ßos em nuvem a oferecer FaaS com o AWS Lambda foi a Amazon, de onde vem o nome.  Outros provedores de servi√ßos em nuvem tamb√©m oferecem an√°logos: </p><br><ul><li>  Fun√ß√µes do Google Cloud </li><li>  Fun√ß√µes do Azure da Microsoft </li></ul><br><p>  Todas essas empresas fornecem computa√ß√£o sem servidor, escala autom√°tica e pagam apenas pelos recursos realmente usados, mas, ao mesmo tempo, vinculam os clientes ao seu produto propriet√°rio.  No entanto, existem alternativas gratuitas de c√≥digo aberto para computa√ß√£o sem servidor.  Vale a pena notar: </p><br><ul><li>  A <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">plataforma Apache OpenWhisk</a> , desenvolvida pela IBM na incubadora, </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Spring Cloud Functions</a> , como parte do ecossistema Spring Framework razoavelmente rico, que tamb√©m pode ser usado como fachada da AWS Lambda, Azure Functions e OpenWhisk, </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Projeto Fn</a> suportado pelo Oracle. </li></ul><br><p>  Todos eles s√£o completamente independentes das nuvens, ou seja, s√£o instalados em qualquer nuvem, incluindo a sua, p√∫blica ou privada e, √© claro, na Exoscale. </p><br><h2 id="kak-proekt-fn-ustroen">  Como o projeto Fn funciona </h2><br><p>  O Fn √© completamente baseado no Docker, consiste em dois componentes principais: </p><br><ul><li>  Programa CLI projetado para gerenciar todos os aspectos da infraestrutura Fn e interagir com o servidor Fn, </li><li>  Na verdade, o servidor Fn, o aplicativo usual empacotado em um cont√™iner para o Docker. </li></ul><br><p>  As fun√ß√µes implantadas no Fn tamb√©m s√£o executadas em cont√™ineres separados, o que permite suportar muitas linguagens de programa√ß√£o, por exemplo ... Clojure! </p><br><p>  Os argumentos das fun√ß√µes s√£o transferidos para a entrada padr√£o (STDIN), os resultados s√£o gravados na sa√≠da padr√£o (STDOUT).  Se os argumentos ou valores de retorno n√£o forem valores simples (por exemplo, um objeto JSON), eles poder√£o ser convertidos usando a camada de abstra√ß√£o fornecida pelo pr√≥prio Fn como um kit de desenvolvimento de fun√ß√µes (FDK). </p><br><p>  Por conveni√™ncia, est√£o dispon√≠veis modelos internos para facilitar a implanta√ß√£o do FaaS em uma extensa lista de idiomas diferentes e suas vers√µes (Go, vers√µes diferentes de Java, Python, etc.). </p><br><p>  Criar o FaaS √© f√°cil seguindo este padr√£o: </p><br><ul><li>  Implementamos a fun√ß√£o usando a CLI Fn: um arquivo de configura√ß√£o de aplicativo para Fn √© criado, com base no modelo selecionado. </li><li> Implementamos nossa pr√≥pria fun√ß√£o, novamente usando a CLI Fn: a imagem do cont√™iner √© colocada em um determinado reposit√≥rio, ap√≥s o qual o servidor √© notificado da exist√™ncia e do posicionamento dessa imagem. </li></ul><br><p><img src="https://habrastorage.org/webt/_0/ds/if/_0dsifqshganceaz5pks7ixl9gs.jpeg"><br>  <em>Fun√ß√£o Princ√≠pio de Entrega em Fn</em> </p><br><h2 id="lokalnaya-ustanovka-i-testirovanie-besservernyh-funkciy">  Instala√ß√£o local e teste de fun√ß√µes sem servidor </h2><br><p>  Prosseguimos com a instala√ß√£o do Fn na m√°quina local.  O Docker √© instalado primeiro, conforme exigido pelo Fn.  N√≥s devemos estar no Debian / Ubuntu: </p><br><pre><code class="plaintext hljs">$ sudo apt-get update $ sudo apt-get install docker.io</code> </pre> <br><p>  Bem, ou use o gerenciador de pacotes / constru√ß√£o do Docker de acordo com o seu sistema.  Ent√£o voc√™ pode ir diretamente para a instala√ß√£o da CLI do Fn.  Por exemplo, usando curl: </p><br><pre> <code class="plaintext hljs">$ curl -LSs https://raw.githubusercontent.com/fnproject/cli/master/install | sh</code> </pre> <br><p>  Se voc√™ estiver executando o OSX com o Homebrew instalado, poder√° seguir o outro caminho: </p><br><pre> <code class="plaintext hljs">$ brew install fn ==&gt; Downloading https://homebrew.bintray.com/bottles/fn-0.5.8.high_sierra.bottle.tar.gz ==&gt; Downloading from https://akamai.bintray.com/b1/b1767fb00e2e69fd9da73427d0926b1d1d0003622f7ddc0dd3a899b2894781ff?__gda__=exp=1538038849~hmac=c702c9335e7785fcbacad1f29afa61244d02f2eebb ######################################################################## 100.0% ==&gt; Pouring fn-0.5.8.high_sierra.bottle.tar.gz /usr/local/Cellar/fn/0.5.8: 5 files, 16.7MB</code> </pre> <br><p>  Agora tudo est√° pronto para a implanta√ß√£o inicial de nossa fun√ß√£o usando a CLI.  Para simplificar, usaremos o ambiente interno para executar, por exemplo, N√≥: </p><br><pre> <code class="plaintext hljs">$ fn init --runtime node --trigger http hellonode Creating function at: /hellonode Function boilerplate generated. func.yaml created.</code> </pre> <br><p>  Um novo diret√≥rio <code>hellonode</code> ser√° criado para desenvolver ainda mais nossa fun√ß√£o Fn com alguns arquivos de configura√ß√£o b√°sicos.  Dentro do diret√≥rio rec√©m-criado, voc√™ pode criar seu aplicativo que segue os padr√µes do idioma ou tempo de execu√ß√£o escolhido: </p><br><pre> <code class="plaintext hljs">#   node  : hellonode ‚îú‚îÄ‚îÄ func.js ‚îú‚îÄ‚îÄ func.yaml ‚îî‚îÄ‚îÄ package.json #   Java11 : hellojava11 ‚îú‚îÄ‚îÄ func.yaml ‚îú‚îÄ‚îÄ pom.xml ‚îî‚îÄ‚îÄ src ‚îú‚îÄ‚îÄ main ‚îÇ ‚îî‚îÄ‚îÄ java ‚îÇ ‚îî‚îÄ‚îÄ com ‚îÇ ‚îî‚îÄ‚îÄ example ‚îÇ ‚îî‚îÄ‚îÄ fn ‚îÇ ‚îî‚îÄ‚îÄ HelloFunction.java ‚îî‚îÄ‚îÄ test ‚îî‚îÄ‚îÄ java ‚îî‚îÄ‚îÄ com ‚îî‚îÄ‚îÄ example ‚îî‚îÄ‚îÄ fn ‚îî‚îÄ‚îÄ HelloFunctionTest.java</code> </pre> <br><p>  Fn cria a estrutura inicial do projeto, cria um arquivo <code>func.yaml</code> contendo as configura√ß√µes necess√°rias para Fn e instala um modelo para o c√≥digo no idioma selecionado. </p><br><p>  No caso do tempo de execu√ß√£o do N√≥, isso significa: </p><br><pre> <code class="plaintext hljs">$ cat hellonode/func.js const fdk=require('@fnproject/fdk'); fdk.handle(function(input){ let name = 'World'; if (input.name) { name = input.name; } return {'message': 'Hello ' + name} })</code> </pre> <br><p>  Agora vamos verificar rapidamente nossa fun√ß√£o localmente para ver como tudo funciona. </p><br><p>  Primeiro, iniciaremos o servidor Fn.  Como j√° mencionado, o servidor Fn √© um cont√™iner do Docker; portanto, ap√≥s a inicializa√ß√£o, ele retirar√° a imagem do registro do Docker. </p><br><pre> <code class="plaintext hljs">$ fn start -d #      Unable to find image 'fnproject/fnserver:latest' locally latest: Pulling from fnproject/fnserver ff3a5c916c92: Pull complete 1a649ea86bca: Pull complete ce35f4d5f86a: Pull complete ... Status: Downloaded newer image for fnproject/fnserver:latest 668ce9ac0ed8d7cd59da49228bda62464e01bff2c0c60079542d24ac6070f8e5</code> </pre> <br><p>  Para executar nossa fun√ß√£o, voc√™ precisa implement√°-la.  Isso requer um <code> </code> : em Fn, todos os aplicativos devem ser definidos como namespaces para fun√ß√µes relacionadas. </p><br><p>  A CLI Fn procurar√° o arquivo <code>func.yaml</code> no diret√≥rio atual, que ser√° usado para configurar a fun√ß√£o.  Ent√£o, primeiro voc√™ precisa ir ao nosso diret√≥rio <code>hellonode</code> . </p><br><pre> <code class="plaintext hljs">$ cd hellonode $ fn deploy --app fnexo --local #   ,   - fnexo. #  local      , #    Deploying hellonode to app: fnexo Bumped to version 0.0.2 Building image nfrankel/hellonode:0.0.3 . Updating function hellonode using image nfrankel/hellonode:0.0.3... Successfully created app: fnexo Successfully created function: hellonode with nfrankel/hellonode:0.0.3 Successfully created trigger: hellonode-trigger</code> </pre> <br><p>  Como voc√™ pode ver na sa√≠da do comando, √© criada uma nova imagem de cont√™iner para o Docker que cont√©m nossa fun√ß√£o.  A fun√ß√£o est√° pronta para ser chamada e temos duas maneiras de fazer isso: </p><br><ul><li>  usando o comando fn <code>invoke</code> </li><li>  chamando diretamente via <code>http</code> </li></ul><br><p>  A chamada de chamada atrav√©s de Fn simplesmente emula o trabalho HTTP para testes, o que √© conveniente para verifica√ß√£o r√°pida: </p><br><pre> <code class="plaintext hljs">$ fn invoke fnexo hellonode #   hellonode  fnexo {"message":"Hello World"}</code> </pre> <br><p>  Para chamar a fun√ß√£o diretamente, voc√™ precisa conhecer o URL completo: </p><br><pre> <code class="plaintext hljs">$ curl http://localhost:8080/t/fnexo/hellonode-trigger {"message":"Hello World"}</code> </pre> <br><p>  O servidor Fn fornece suas fun√ß√µes atrav√©s da porta 8080 e parece que a URL da fun√ß√£o corresponde ao esquema <code>t/app/function</code> , mas n√£o completamente.  Atrav√©s do HTTP, a fun√ß√£o n√£o √© chamada diretamente, mas atrav√©s do chamado gatilho, que, de acordo com seu nome, "inicia" a chamada da fun√ß√£o.  Os gatilhos s√£o definidos no projeto <code>`func.yml</code> : </p><br><pre> <code class="plaintext hljs">schema_version: 20180708 name: hellonode version: 0.0.3 runtime: node entrypoint: node func.js format: json triggers: - name: hellonode-trigger type: http source: /hellonode-trigger # URL </code> </pre> <br><p>  Podemos mudar o nome do gatilho para que ele corresponda ao nome da fun√ß√£o, isso simplificar√° tudo: </p><br><pre> <code class="plaintext hljs">triggers: - name: hellonode-trigger type: http source: /hellonode #    </code> </pre> <br><p>  Ent√£o come√ßamos a entrega da fun√ß√£o novamente e a chamamos do novo gatilho: </p><br><pre> <code class="plaintext hljs">$ fn deploy --app fnexo hellonode --local $ curl http://localhost:8080/t/fnexo/hellonode {"message":"Hello World"}</code> </pre> <br><p>  Tudo funciona!  √â hora de fazer experimentos em grande escala e publicar nosso FaaS no servidor! </p><br><h2 id="ustanovka-servisov-besservernyh-funkciy-na-sobstvennoy-infrastrukture">  Instalando servi√ßos de fun√ß√£o sem servidor em sua pr√≥pria infraestrutura </h2><br><p>  Vamos instalar rapidamente uma m√°quina virtual usando a CLI Exoscale.  Se voc√™ ainda n√£o o configurou, pode usar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">nosso guia para inici√°-lo rapidamente</a> .  Esta √© uma ferramenta interessante que aumentar√° ainda mais sua produtividade.  <strong>N√£o esque√ßa que voc√™ precisa configurar uma regra para abrir a porta 8080 no grupo de seguran√ßa!</strong>  Os seguintes comandos iniciar√£o uma m√°quina virtual limpa, pronta para hospedar nossos recursos: </p><br><pre> <code class="plaintext hljs">$ exo firewall create fn-securitygroup $ exo firewall add fn-securitygroup ssh --my-ip $ exo firewall add fn-securitygroup -p tcp -P 8080-8080 -c 0.0.0.0/0 $ exo vm create fn-server -s fn-securitygroup</code> </pre> <br><p>  Em seguida, voc√™ pode ssh na m√°quina virtual e instalar o servidor Fn remoto: </p><br><pre> <code class="plaintext hljs">$ exo ssh fn-server The authenticity of host '185.19.30.175 (185.19.30.175)' can't be established. ECDSA key fingerprint is SHA256:uaCKRYeX4cvim+Gr8StdPvIQ7eQgPuOKdnj5WI3gI9Q. Are you sure you want to continue connecting (yes/no)? yes Warning: Permanently added '185.19.30.175' (ECDSA) to the list of known hosts. Welcome to Ubuntu 18.04 LTS (GNU/Linux 4.15.0-20-generic x86_64)</code> </pre> <br><p>  Em seguida, instale o Docker e o servidor Fn da mesma maneira que fizemos na m√°quina local, inicie o servidor: </p><br><pre> <code class="plaintext hljs">$ sudo apt-get update $ sudo apt-get install docker.io $ sudo systemctl start docker $ curl -LSs https://raw.githubusercontent.com/fnproject/cli/master/install | sh $ sudo fn start ... ______ / ____/___ / /_ / __ \ / __/ / / / / /_/ /_/ /_/ v0.3.643</code> </pre> <br><p>  Fn est√° pronto para os recursos!  Para a transfer√™ncia direcionada de fun√ß√µes para um servidor remoto, usaremos o comando <code>deploy</code> do computador local, omitindo o sinalizador <code>--local</code> . </p><br><p>  Al√©m disso, o Fn exige que voc√™ especifique o local do servidor Fn e do registro do Docker.  Esses par√¢metros podem ser definidos por meio das vari√°veis ‚Äã‚Äãde ambiente <code>FN_API_URL</code> e <code>FN_REGISTRY</code> respectivamente, mas √© oferecida uma maneira mais conveniente para controlar facilmente a cria√ß√£o e o gerenciamento de configura√ß√µes para implanta√ß√£o. </p><br><p>  Em termos de Fn, a configura√ß√£o para implanta√ß√£o √© chamada de <code>context</code> .  O seguinte comando criar√° o contexto: </p><br><pre> <code class="plaintext hljs">$ fn create context exoscale --provider default --api-url http://185.19.30.175:8080 --registry nfrankel</code> </pre> <br><p>  Voc√™ pode visualizar os contextos dispon√≠veis assim: </p><br><pre> <code class="plaintext hljs">$ fn list contexts CURRENT NAME PROVIDER API URL REGISTRY default default http://localhost:8080/ exoscale default http://185.19.30.175:8080 nfrankel</code> </pre><br><p>  E mude para o contexto que acabou de ser criado, assim: </p><br><pre> <code class="plaintext hljs"> $ fn use context exoscale Now using context: exoscale</code> </pre> <br><p>  A partir deste momento, o fornecimento de fun√ß√µes Fn far√° o upload de imagens do Docker usando a conta selecionada no DockerHub (no meu caso, <code>nfrankel</code> ) e notificar√° o servidor remoto (neste exemplo, <code>http://185.19.30.175:8080</code> ) sobre o local e a vers√£o A √∫ltima imagem que cont√©m sua fun√ß√£o. </p><br><pre> <code class="plaintext hljs">$ fn deploy --app fnexo . #       hellonode Deploying function at: /. Deploying hellonode to app: fnexo Bumped to version 0.0.5 Building image nfrankel/hellonode:0.0.5 .</code> </pre> <br><p>  Finalmente: </p><br><pre> <code class="plaintext hljs">$ curl http://185.19.30.175:8080/t/fnexo/hellonode {"message":"Hello World"}</code> </pre> <br><p><img src="https://habrastorage.org/webt/vl/8c/mt/vl8cmtjvwj7t9tazi7mlaaexoxi.jpeg"><br>  <em>Ciclo de vida das fun√ß√µes na computa√ß√£o sem servidor baseada em Fn</em> </p><br><h2 id="preimuschestva-besservernyh-vychisleniy-na-svoih-moschnostyah">  As vantagens da computa√ß√£o sem servidor em suas instala√ß√µes </h2><br><p>  A computa√ß√£o sem servidor √© uma solu√ß√£o conveniente para implementar rapidamente partes de aplicativos independentes que interagem com aplicativos ou microsservi√ßos mais complexos. </p><br><p>  Muitas vezes, isso se deve ao custo oculto da liga√ß√£o ao fornecedor selecionado, que, dependendo do caso de uso e do volume espec√≠ficos, pode levar a custos mais altos e flexibilidade reduzida no futuro. </p><br><p>  As arquiteturas de nuvem m√∫ltipla e nuvem h√≠brida tamb√©m sofrem nesse caso, porque voc√™ pode se encontrar facilmente em uma situa√ß√£o em que gostaria de usar a computa√ß√£o sem servidor, mas, devido √† pol√≠tica corporativa, isso pode n√£o ser poss√≠vel. </p><br><p>  O Fn √© bastante simples de trabalhar, pode oferecer quase a mesma interface FaaS, com baixos custos.  Ele elimina qualquer liga√ß√£o ao provedor; voc√™ pode instal√°-lo localmente ou em qualquer provedor de solu√ß√µes em nuvem conveniente de sua escolha.  Tamb√©m h√° liberdade na escolha de uma linguagem de programa√ß√£o. </p><br><p>  Apenas o b√°sico do Fn √© apresentado no artigo, mas a cria√ß√£o de seu pr√≥prio ambiente de tempo de execu√ß√£o √© bastante simples, e a arquitetura geral pode ser expandida mais amplamente usando o balanceador de carga do Fn ou colocando o Fn atr√°s de um proxy para prote√ß√£o. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt475044/">https://habr.com/ru/post/pt475044/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt475028/index.html">Observa√ß√µes sobre a aplica√ß√£o do BC nos neg√≥cios sobre a√ß√µes da emeijemeIT</a></li>
<li><a href="../pt475032/index.html">Gartner Hype Cycle 2019: debriefing</a></li>
<li><a href="../pt475034/index.html">Gr√°fico no navegador para Arduino e STM32</a></li>
<li><a href="../pt475036/index.html">Migra√ß√£o de Cassandra para Kubernetes: recursos e solu√ß√µes</a></li>
<li><a href="../pt475038/index.html">O primeiro conjunto de "Matem√°tica Aplicada e Ci√™ncia da Computa√ß√£o" no HSE de S√£o Petersburgo: quem s√£o eles e como trabalhar com eles?</a></li>
<li><a href="../pt475046/index.html">O fim justifica os meios? (!) SEO preto e cinza</a></li>
<li><a href="../pt475048/index.html">Explica√ß√£o intuitiva do teste de hip√≥teses e valor-p</a></li>
<li><a href="../pt475050/index.html">ESports - jogue, envolva-se</a></li>
<li><a href="../pt475054/index.html">SAP no Microsoft Azure Tour em Moscou</a></li>
<li><a href="../pt475058/index.html">A cidade adormece, moradores de Habrovsk acordam</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>