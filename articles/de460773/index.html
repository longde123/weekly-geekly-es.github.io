<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧠 👨🏽‍🎨 🙏🏼 Implementieren des Mustervergleichs in Java 😿 👩‍👩‍👧‍👧 🏳️‍🌈</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Viele moderne Sprachen unterstützen den Mustervergleich auf Sprachebene. Java unterstützt derzeit keinen Mustervergleich, aber es besteht die Hoffnung...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Implementieren des Mustervergleichs in Java</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/460773/"><p>  Viele moderne Sprachen unterstützen den Mustervergleich auf Sprachebene.  Java unterstützt derzeit keinen Mustervergleich, aber es besteht die Hoffnung, dass sich die Dinge in Zukunft ändern können. </p><br><p> Ein Vergleich mit dem Beispiel zeigt dem Entwickler, dass er Code flexibler und schöner schreiben kann, während er verständlich bleibt. </p><br><p>  Mit den Funktionen von Java 8 können Sie einige der Funktionen des Mustervergleichs in Form einer Bibliothek implementieren.  In diesem Fall können Sie sowohl die Anweisung als auch den Ausdruck verwenden. </p><a name="habracut"></a><br><p>  <i><b>Das konstante Muster</b></i> ermöglicht die Überprüfung der Gleichheit mit Konstanten.  In Java können Sie mit einem Schalter nach gleichen Zahlen, Aufzählungen und Zeichenfolgen suchen.  Aber manchmal möchte ich die Gleichheit der Konstanten von Objekten mit der equals () -Methode überprüfen. </p><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (data) { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">case</span></span></span><span class="hljs-function"> new </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Person</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"man"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> -&gt; System.out.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">println</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"man"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">case</span></span></span><span class="hljs-function"> new </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Person</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"woman"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> -&gt; System.out.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">println</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"woman"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">case</span></span></span><span class="hljs-function"> new </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Person</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"child"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> -&gt; System.out.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">println</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"child"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"Null value "</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"Default value: "</span></span> + data); };</code> </pre> <br><p>  Für verschiedene Verzweigungsoptionen müssen Sie die Überladungen der match () -Methode verwenden.  Daher unterstützt die Bibliothek derzeit die Möglichkeit, die Werte einer Variablen mit 6 Konstanten zu überprüfen. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.kl.state.Else; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.kl.state.Null; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.kl.pattern.ConstantPattern.matches; matches(data, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Person(<span class="hljs-string"><span class="hljs-string">"man"</span></span>), () -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"man"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Person(<span class="hljs-string"><span class="hljs-string">"woman"</span></span>), () -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"woman"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Person(<span class="hljs-string"><span class="hljs-string">"child"</span></span>), () -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"child"</span></span>); Null.class, () -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"Null value "</span></span>), Else.class, () -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"Default value: "</span></span> + data) );</code> </pre> <cut></cut><br><p>  <i><b>Mit dem Tupelmuster</b></i> können Sie die Gleichheit mehrerer Änderungen mit Konstanten gleichzeitig überprüfen. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (side, width) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"top"</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span> -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"top"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"bottom"</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span> -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"bottom"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"left"</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span> -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"left"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"right"</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span> -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"right"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"Null value "</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"Default value "</span></span>); };</code> </pre> <br><p>  Derzeit unterstützt die Bibliothek die Angabe von 4 Variablen und 6 Zweigen. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.kl.state.Else; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.kl.state.Null; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.kl.pattern.TuplePattern.matches; matches(side, width, <span class="hljs-string"><span class="hljs-string">"top"</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>, () -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"top"</span></span>); <span class="hljs-string"><span class="hljs-string">"bottom"</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>, () -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"bottom"</span></span>); <span class="hljs-string"><span class="hljs-string">"left"</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, () -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"left"</span></span>); <span class="hljs-string"><span class="hljs-string">"right"</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, () -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"right"</span></span>); Null.class, () -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"Null value"</span></span>), Else.class, () -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"Default value"</span></span>) );</code> </pre> <br><p>  <i><b>Mit dem Typprüfmuster</b></i> können Sie gleichzeitig den Typ abgleichen und den Wert der Variablen extrahieren.  In Java müssen wir dazu zuerst den Typ überprüfen, in den Typ umwandeln und ihn dann einer neuen Variablen zuweisen. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (data) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Integer i -&gt; System.out.println(i * i); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Byte b -&gt; System.out.println(b * b); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Long l -&gt; System.out.println(l * l); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> String s -&gt; System.out.println(s * s); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"Null value "</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"Default value: "</span></span> + data); };</code> </pre> <br><p>  Derzeit unterstützt die Bibliothek die Möglichkeit, die Werte einer Variablen mit 6 Typen zu überprüfen. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.kl.state.Else; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.kl.state.Null; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.kl.pattern.VerifyPattern.matches; matches(data, Integer.class, i -&gt; { System.out.println(i * i); }, Byte.class, b -&gt; { System.out.println(b * b); }, Long.class, l -&gt; { System.out.println(l * l); }, String.class, s -&gt; { System.out.println(s * s); }, Null.class, () -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"Null value "</span></span>); }, Else.class, () -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"Default value: "</span></span> + data); } );</code> </pre> <br><p>  <i><b>Mit dem Schutzmuster</b></i> können Sie gleichzeitig den Typ anpassen und nach Bedingungen suchen. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (data) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Integer i &amp;&amp; i != <span class="hljs-number"><span class="hljs-number">0</span></span> -&gt; System.out.println(i * i); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Byte b &amp;&amp; b &gt; -<span class="hljs-number"><span class="hljs-number">1</span></span> -&gt; System.out.println(b * b); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Long l &amp;&amp; l &lt; <span class="hljs-number"><span class="hljs-number">5</span></span> -&gt; System.out.println(l * l); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> String s &amp;&amp; !s.empty() -&gt; System.out.println(s * s); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"Null value "</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"Default: "</span></span> + data); };</code> </pre> <br><p>  Derzeit unterstützt die Bibliothek die Möglichkeit, die Werte einer Variablen mit 6 Typen und Bedingungen zu überprüfen. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.kl.state.Else; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.kl.state.Null; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.kl.pattern.GuardPattern.matches; matches(data, Integer.class, i -&gt; i != <span class="hljs-number"><span class="hljs-number">0</span></span>, i -&gt; { System.out.println(i * i); }, Byte.class, b -&gt; b &gt; -<span class="hljs-number"><span class="hljs-number">1</span></span>, b -&gt; { System.out.println(b * b); }, Long.class, l -&gt; l == <span class="hljs-number"><span class="hljs-number">5</span></span>, l -&gt; { System.out.println(l * l); }, Null.class, () -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"Null value "</span></span>); }, Else.class, () -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"Default value: "</span></span> + data); } );</code> </pre> <br><p>  Um das Schreiben der Bedingung zu vereinfachen, kann der Entwickler die folgenden Funktionen zum Vergleich verwenden: lessThan / lt, GreaterThan / gt, lessThanOrEqual / le, GreaterThanOrEqual / ge, <br>  gleich / äq, nicht gleich / ne.  Und um die Bedingungen wegzulassen, können Sie versuchen: immer / ja, nie / nein. </p><br><pre> <code class="java hljs">matches(data, Integer.class, ne(<span class="hljs-number"><span class="hljs-number">0</span></span>), i -&gt; { System.out.println(i * i); }, Byte.class, gt(-<span class="hljs-number"><span class="hljs-number">1</span></span>), b -&gt; { System.out.println(b * b); }, Long.class, eq(<span class="hljs-number"><span class="hljs-number">5</span></span>), l -&gt; { System.out.println(l * l); }, Null.class, () -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"Null value "</span></span>); }, Else.class, () -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"Default value: "</span></span> + data); } );</code> </pre> <br><p>  <i><b>Mit dem Dekonstruktionsmuster</b></i> können Sie gleichzeitig den Typ abgleichen und das Objekt in Komponenten zerlegen.  In Java müssen wir dazu zuerst den Typ überprüfen, in einen Typ umwandeln, ihn einer neuen Variablen zuweisen und erst dann über Getter auf die Felder der Klasse zugreifen. </p><br><pre> <code class="java hljs">let (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> w, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> h) = figure; <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (figure) { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">case</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Rectangle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> w, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> h)</span></span></span><span class="hljs-function"> -&gt; out.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">println</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"square: "</span></span></span></span><span class="hljs-function"><span class="hljs-params"> + (w * h)</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">case</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Circle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> r)</span></span></span><span class="hljs-function"> -&gt; out.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">println</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"square: "</span></span></span></span><span class="hljs-function"><span class="hljs-params"> + (</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span><span class="hljs-function"><span class="hljs-params"> * Math.PI * r)</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> -&gt; out.println(<span class="hljs-string"><span class="hljs-string">"Default square: "</span></span> + <span class="hljs-number"><span class="hljs-number">0</span></span>); }; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ((<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> w, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> h) : listFigures) { System.out.println(<span class="hljs-string"><span class="hljs-string">"square: "</span></span> + (w * h)); }</code> </pre> <br><p>  Derzeit unterstützt die Bibliothek die Möglichkeit, die Werte einer Variablen mit 3 Typen zu überprüfen und das Objekt in 3 Komponenten zu zerlegen. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.kl.state.Else; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.kl.pattern.DeconstructPattern.matches; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.kl.pattern.DeconstructPattern.foreach; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.kl.pattern.DeconstructPattern.let; Figure figure = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Rectangle(); let(figure, (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> w, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> h) -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"border: "</span></span> + w + <span class="hljs-string"><span class="hljs-string">" "</span></span> + h)); }); matches(figure, Rectangle.class, (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> w, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> h) -&gt; out.println(<span class="hljs-string"><span class="hljs-string">"square: "</span></span> + (w * h)), Circle.class, (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> r) -&gt; out.println(<span class="hljs-string"><span class="hljs-string">"square: "</span></span> + (<span class="hljs-number"><span class="hljs-number">2</span></span> * Math.PI * r)), Else.class, () -&gt; out.println(<span class="hljs-string"><span class="hljs-string">"Default square: "</span></span> + <span class="hljs-number"><span class="hljs-number">0</span></span>) ); foreach(listRectangles, (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> w, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> h) -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"square: "</span></span> + (w * h)); });</code> </pre> <br><p>  Um eine Komponente zu erhalten, muss eine Klasse über eine oder mehrere Dekonstruktionsmethoden verfügen.  Diese Methoden sollten mit Annotation <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">Extract gekennzeichnet sein</a> . <br>  Alle Parameter müssen offen sein.  Da Grundelemente nicht als Referenz an eine Methode übergeben werden können, müssen Sie Wrapper für Grundelemente IntRef, FloatRef usw. verwenden. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.kl.type.IntRef; ... <span class="hljs-meta"><span class="hljs-meta">@Extract</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">deconstruct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(IntRef width, IntRef height)</span></span></span><span class="hljs-function"> </span></span>{ width.set(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.width); height.set(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.height); }</code> </pre> <br><p>  Auch mit Java 11 können Sie auf Arten von Dekonstruktionsparametern schließen. </p><br><pre> <code class="java hljs">Figure figure = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Rectangle(); let(figure, (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> w, <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> h) -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"border: "</span></span> + w + <span class="hljs-string"><span class="hljs-string">" "</span></span> + h)); }); matches(figure, Rectangle.class, (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> w, <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> h) -&gt; out.println(<span class="hljs-string"><span class="hljs-string">"square: "</span></span> + (w * h)), Circle.class, (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r) -&gt; out.println(<span class="hljs-string"><span class="hljs-string">"square: "</span></span> + (<span class="hljs-number"><span class="hljs-number">2</span></span> * Math.PI * r)), Else.class, () -&gt; out.println(<span class="hljs-string"><span class="hljs-string">"Default square: "</span></span> + <span class="hljs-number"><span class="hljs-number">0</span></span>) ); foreach(listRectangles, (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> w, <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> h) -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"square: "</span></span> + (w * h)); });</code> </pre> <br><p>  <i><b>Mit dem Eigenschaftsmuster</b></i> können Sie gleichzeitig den Typ abgleichen und anhand ihrer Namen auf die Felder der Klasse zugreifen.  Anstatt alle Felder anzugeben, können Sie in beliebiger Reihenfolge auf die benötigten Felder zugreifen. </p><br><pre> <code class="java hljs">let (w: <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> w, h:<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> h) = figure; <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (figure) { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">case</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Rect</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(w: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> w == </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span><span class="hljs-function"><span class="hljs-params">, h: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> h == </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">10</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> -&gt; out.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">println</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"sqr: "</span></span></span></span><span class="hljs-function"><span class="hljs-params"> + (w * h)</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">case</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Rect</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(w: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> w == </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">10</span></span></span></span><span class="hljs-function"><span class="hljs-params">, h: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> h == </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">15</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> -&gt; out.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">println</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"sqr: "</span></span></span></span><span class="hljs-function"><span class="hljs-params"> + (w * h)</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">case</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Circle</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(r: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> r)</span></span></span><span class="hljs-function"> -&gt; out.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">println</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"sqr: "</span></span></span></span><span class="hljs-function"><span class="hljs-params"> + (</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span><span class="hljs-function"><span class="hljs-params"> * Math.PI * r)</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> -&gt; out.println(<span class="hljs-string"><span class="hljs-string">"Default sqr: "</span></span> + <span class="hljs-number"><span class="hljs-number">0</span></span>); }; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ((w: <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> w, h: <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> h) : listRectangles) { System.out.println(<span class="hljs-string"><span class="hljs-string">"square: "</span></span> + (w * h)); }</code> </pre> <br><p>  Derzeit unterstützt die Bibliothek die Möglichkeit, die Werte einer Variablen mit 3 Typen zu überprüfen und das Objekt in 3 Komponenten zu zerlegen. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.kl.state.Else; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.kl.pattern.PropertyPattern.matches; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.kl.pattern.PropertyPattern.foreach; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.kl.pattern.PropertyPattern.let; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.kl.pattern.PropertyPattern.of; Figure figure = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Rectangle(); let(figure, of(<span class="hljs-string"><span class="hljs-string">"w"</span></span>, <span class="hljs-string"><span class="hljs-string">"h"</span></span>), (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> w, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> h) -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"border: "</span></span> + w + <span class="hljs-string"><span class="hljs-string">" "</span></span> + h)); }); matches(figure, Rect.class, of(<span class="hljs-string"><span class="hljs-string">"w"</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-string"><span class="hljs-string">"h"</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>), (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> w, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> h) -&gt; out.println(<span class="hljs-string"><span class="hljs-string">"sqr: "</span></span> + (w * h)), Rect.class, of(<span class="hljs-string"><span class="hljs-string">"w"</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"h"</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>), (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> w, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> h) -&gt; out.println(<span class="hljs-string"><span class="hljs-string">"sqr: "</span></span> + (w * h)), Circle.class, of(<span class="hljs-string"><span class="hljs-string">"r"</span></span>), (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> r) -&gt; out.println(<span class="hljs-string"><span class="hljs-string">"sqr: "</span></span> + (<span class="hljs-number"><span class="hljs-number">2</span></span> * Math.PI * r)), Else.class, () -&gt; out.println(<span class="hljs-string"><span class="hljs-string">"Default sqr: "</span></span> + <span class="hljs-number"><span class="hljs-number">0</span></span>) ); foreach(listRectangles, of(<span class="hljs-string"><span class="hljs-string">"x"</span></span>, <span class="hljs-string"><span class="hljs-string">"y"</span></span>), (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> w, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> h) -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"square: "</span></span> + (w * h)); });</code> </pre> <br><p>  Sie können auch eine andere Methode verwenden, um die Benennung von Feldern zu vereinfachen. </p><br><pre> <code class="java hljs">Figure figure = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Rect(); let(figure, Rect::w, Rect::h, (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> w, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> h) -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"border: "</span></span> + w + <span class="hljs-string"><span class="hljs-string">" "</span></span> + h)); }); matches(figure, Rect.class, Rect::w, Rect::h, (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> w, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> h) -&gt; out.println(<span class="hljs-string"><span class="hljs-string">"sqr: "</span></span> + (w * h)), Circle.class, Circle::r, (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> r) -&gt; out.println(<span class="hljs-string"><span class="hljs-string">"sqr: "</span></span> + (<span class="hljs-number"><span class="hljs-number">2</span></span> * Math.PI * r)), Else.class, () -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"Default sqr: "</span></span> + <span class="hljs-number"><span class="hljs-number">0</span></span>) ); foreach(listRectangles, Rect::w, Rect::h, (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> w, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> h) -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"square: "</span></span> + (w * h)); });</code> </pre> <br><p>  <i><b>Mit dem Positionsmuster</b></i> können Sie gleichzeitig den Typ abgleichen und den Wert der Felder in der Deklarationsreihenfolge überprüfen.  In Java müssen wir dazu zuerst den Typ überprüfen, ihn in einen Typ umwandeln, ihn einer neuen Variablen zuweisen und erst dann über Getter auf die Felder der Klasse zugreifen und auf Gleichheit prüfen. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (data) { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">case</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Circle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> -&gt; System.out.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">println</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"small circle"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">case</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Circle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">15</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> -&gt; System.out.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">println</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"middle circle"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"Null value "</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"Default value: "</span></span> + data); };</code> </pre> <br><p>  Derzeit unterstützt die Bibliothek die Möglichkeit, die Werte einer Variablen mit 6 Typen und 4 Feldern gleichzeitig zu überprüfen. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.kl.state.Else; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.kl.state.Null; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.kl.pattern.PositionPattern.matches; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.kl.pattern.PositionPattern.of; matches(data, Circle.class, of(<span class="hljs-number"><span class="hljs-number">5</span></span>), () -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"small circle"</span></span>); }, Circle.class, of(<span class="hljs-number"><span class="hljs-number">15</span></span>), () -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"middle circle"</span></span>); }, Null.class, () -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"Null value "</span></span>); }, Else.class, () -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"Default value: "</span></span> + data); } );</code> </pre> <br><p>  Wenn der Entwickler einige Felder nicht überprüfen möchte, sollten diese Felder mit @ Exclude-Anmerkungen markiert werden.  Diese Felder müssen zuletzt deklariert werden. </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Circle</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> radius; <span class="hljs-meta"><span class="hljs-meta">@Exclude</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> temp; }</code> </pre> <br><p>  <i><b>Mit dem statischen Muster</b></i> können Sie den Typ gleichzeitig abgleichen und das Objekt mithilfe von Factory-Methoden dekonstruieren. </p><br><pre> <code class="java hljs">Optional some = ...; <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (some) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Optional.empty() -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"empty value"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Optional.of(<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> v) -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"value: "</span></span> + v); <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"Default value"</span></span>); };</code> </pre> <br><p>  Derzeit unterstützt die Bibliothek die Möglichkeit, die Werte einer Variablen mit 6 Typen zu überprüfen und das Objekt in 3 Komponenten zu zerlegen. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.kl.state.Else; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.kl.pattern.StaticPattern.matches; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.kl.pattern.StaticPattern.of; Optional some = ...; matches(figure, Optinal.class, of(<span class="hljs-string"><span class="hljs-string">"empty"</span></span>), () -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"empty value"</span></span>), Optinal.class, of(<span class="hljs-string"><span class="hljs-string">"of"</span></span>) , (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> v) -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"value: "</span></span> + v), Else.class, () -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"Default value"</span></span>) );</code> </pre> <br><p>  Gleichzeitig muss die Klasse über eine oder mehrere Dekonstruktionsmethoden verfügen, die als Annotationen extrahieren bezeichnet werden, um die Komponente abzurufen. </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Extract</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">of</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(IntRef value)</span></span></span><span class="hljs-function"> </span></span>{ value.set(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.value); }</code> </pre> <br><p>  <i><b>Das Sequenzmuster</b></i> erleichtert die Verarbeitung von Datensequenzen. </p><br><pre> <code class="java hljs">List&lt;Integer&gt; list = ...; <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (list) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Ranges.head(<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> h) -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"list head: "</span></span> + h); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Ranges.tail(<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> t) -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"list tail: "</span></span> + t); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Ranges.empty() -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"Empty value"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"Default value"</span></span>); };</code> </pre> <br><p>  Mit der Bibliothek können Sie wie folgt schreiben. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.kl.state.Else; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.kl.range.Ranges; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.kl.pattern.SequencePattern.matches; List&lt;Integer&gt; list = ...; matches(figure, Ranges.head(), (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> h) -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"list head: "</span></span> + h), Ranges.tail(), (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> t) -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"list tail: "</span></span> + t), Ranges.empty() () -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"Empty value"</span></span>), Else.class, () -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"Default value"</span></span>) );</code> </pre> <br><p>  Um den Code zu vereinfachen, können Sie auch die folgenden Funktionen verwenden. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.kl.pattern.CommonPattern.with; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.kl.pattern.CommonPattern.when; Rectangle rect = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Rectangle(); with(rect, it -&gt; { it.setWidth(<span class="hljs-number"><span class="hljs-number">5</span></span>); it.setHeight(<span class="hljs-number"><span class="hljs-number">10</span></span>); }); when( side == Side.LEFT, () -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"left value"</span></span>), side == Side.RIGHT, () -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"right value"</span></span>) );</code> </pre> <br><p>  Wie Sie sehen können, ist Pattern Matching ein leistungsstarkes Tool, das das Schreiben von Code erheblich vereinfacht.  Mithilfe von Lambda-Ausdrücken, Methodenreferenzen und der Ableitung von Arten von Lambda-Parametern können Sie die Möglichkeiten des Mustervergleichs mithilfe der Sprache emulieren. </p><br><p>  Der Quellcode der Bibliothek ist offen und auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">github</a> verfügbar. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de460773/">https://habr.com/ru/post/de460773/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de460745/index.html">Erfahrung in der Verwendung eines GSM-Moduls in der Hausautomation</a></li>
<li><a href="../de460747/index.html">Nach Gewinnen suchen oder Muttern festziehen: Spotify arbeitet nicht mehr direkt mit Autoren zusammen - was bedeutet das?</a></li>
<li><a href="../de460751/index.html">Wie wir Roboter im kleinen Tschernobyl gestartet haben. Teil 1</a></li>
<li><a href="../de460755/index.html">ROS Trolley Robot - Teil 1: Eisen</a></li>
<li><a href="../de460769/index.html">Konfigurieren eines Servers zum Bereitstellen einer Rails-Anwendung mit Ansible</a></li>
<li><a href="../de460777/index.html">Dies ist die Wende: Warum Apple die Anforderungen für Anwendungsentwickler geändert hat</a></li>
<li><a href="../de460779/index.html">Erweitertes Debug</a></li>
<li><a href="../de460783/index.html">Konsens über die Reputation des Knotens. Ist es notwendig</a></li>
<li><a href="../de460785/index.html">Anwendungen für E-Books auf dem Android-Betriebssystem. Teil 1. Einführung und Office-Anwendungen</a></li>
<li><a href="../de460789/index.html">Schließlich ist Verjüngung eine Sache</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>