<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèø‚Äçüíª üö∂ üïô Profiling Go code de projet et r√©solution des probl√®mes d'allocation de m√©moire üíáüèº üë¶üèΩ üñêüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Peut-√™tre que chaque programmeur conna√Æt les mots de Kent Beck: "Faites-le fonctionner, faites-le bien, faites-le vite." Vous devez d'abord faire fonc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Profiling Go code de projet et r√©solution des probl√®mes d'allocation de m√©moire</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/477282/">  Peut-√™tre que chaque programmeur conna√Æt les mots de Kent Beck: "Faites-le fonctionner, faites-le bien, faites-le vite."  Vous devez d'abord faire fonctionner le programme, puis vous devez le faire fonctionner correctement, et seulement ensuite vous pouvez proc√©der √† l'optimisation. <br><br><img src="https://habrastorage.org/webt/nz/-z/sh/nz-zsh2ilh_sy0-ib_6ydrcs9p0.png"><br><br>  L'auteur de l'article, dont nous publions la traduction, dit qu'il a r√©cemment d√©cid√© de reprendre le profilage de son projet open-source <a href="https://github.com/markphelps/flipt">Flipt</a> .  Il voulait trouver dans le projet du code qui pourrait √™tre optimis√© sans effort et acc√©l√©rer ainsi le programme.  Lors du profilage, il a d√©couvert des probl√®mes inattendus dans un projet open source populaire utilis√© par Flipt pour organiser le routage et la prise en charge du middleware.  En cons√©quence, il a √©t√© possible de r√©duire de 100 fois la quantit√© de m√©moire allou√©e par l'application pendant le fonctionnement.  Ceci, √† son tour, a entra√Æn√© une r√©duction du nombre d'op√©rations de collecte des ordures et am√©lior√© la performance globale du projet.  Voici comment c'√©tait. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">G√©n√©ration de trafic √©lev√©</font> </h2><br>  Avant de pouvoir commencer le profilage, je savais que je devais d'abord g√©n√©rer une grande quantit√© de trafic entrant dans l'application, ce qui m'aiderait √† voir certains mod√®les de son comportement.  Ici, j'ai imm√©diatement rencontr√© un probl√®me, car je n'ai rien qui puisse utiliser Flipt en production et obtenir du trafic qui me permet d'√©valuer le travail du projet sous charge.  En cons√©quence, j'ai trouv√© un excellent outil pour les projets de test de charge.  Voici <a href="https://github.com/tsenart/vegeta">Vegeta</a> .  Les auteurs du projet disent que Vegeta est un outil HTTP universel pour les tests de charge.  Ce projet est n√© de la n√©cessit√© de charger des services HTTP avec un grand nombre de requ√™tes venant de services avec une fr√©quence donn√©e. <br><br>  Le projet Vegeta s'est av√©r√© √™tre exactement l'outil dont j'avais besoin, car il m'a permis de cr√©er un flux continu de demandes vers l'application.  Avec ces requ√™tes, vous pouvez "shell" l'application autant que n√©cessaire afin de trouver des indicateurs tels que l'allocation / l'utilisation de la m√©moire sur le tas, les fonctionnalit√©s des goroutines, le temps pass√© sur la collecte des ordures. <br><br>  Apr√®s avoir men√© quelques exp√©riences, je suis pass√© √† la configuration suivante du lancement de Vegeta: <br><br><pre><code class="plaintext hljs">echo 'POST http://localhost:8080/api/v1/evaluate' | vegeta attack -rate 1000 -duration 1m -body evaluate.json</code> </pre> <br>  Cette commande lance <a href="https://github.com/tsenart/vegeta">Vegeta</a> en mode d' <code>attack</code> , envoyant des requ√™tes HTTP <a href="https://flipt.dev/architecture/">Flipt API</a> POST <a href="https://flipt.dev/architecture/">REST</a> √† une vitesse de 1000 requ√™tes par seconde (et cela, certes, est une charge s√©rieuse) pendant une minute.  Les donn√©es JSON envoy√©es par Flipt ne sont pas particuli√®rement importantes.  Ils ne sont n√©cessaires que pour la formation correcte de l'organisme demandeur.  Une telle demande a √©t√© re√ßue par le serveur Flipt, qui a pu effectuer la proc√©dure de <a href="https://flipt.dev/concepts/">v√©rification de</a> la demande. <br><br>  Veuillez noter que j'ai d'abord d√©cid√© de tester le <code>/evaluate</code> Flipt <code>/evaluate</code> .  Le fait est qu'il ex√©cute la plupart du code qui impl√©mente la logique du projet et effectue des calculs de serveur "complexes".  Je pensais que l'analyse des r√©sultats de ce point final me donnerait les donn√©es les plus pr√©cieuses sur les domaines de l'application qui pourraient √™tre am√©lior√©s. <br><br><h2>  <font color="#3AC1EF">Mesures</font> </h2><br>  Maintenant que j'avais un outil pour g√©n√©rer une quantit√© de trafic suffisamment importante, je devais trouver un moyen de mesurer l'impact de ce trafic sur une application en cours d'ex√©cution.  Heureusement, Go dispose d'un assez bon ensemble d'outils standard qui peuvent mesurer les performances du programme.  Il s'agit du paquet <a href="https://golang.org/pkg/runtime/pprof/">pprof</a> . <br><br>  Je n'entrerai pas dans les d√©tails de l'utilisation de pprof.  Je ne pense pas que je le ferai mieux que Julia Evans, qui a √©crit <a href="https://jvns.ca/blog/2017/09/24/profiling-go-with-pprof/">ce</a> merveilleux article sur le profilage des programmes Go avec pprof (si vous ne l‚Äôavez pas lu, je vous recommande vraiment de le consulter). <br><br>  √âtant donn√© que le routeur HTTP dans Flipt est impl√©ment√© √† l'aide de <a href="https://github.com/go-chi/chi/">go-chi / chi</a> , il n'a pas √©t√© difficile pour moi d'activer pprof √† l'aide du gestionnaire interm√©diaire Chi <a href="">appropri√©</a> . <br><br>  Donc, dans une fen√™tre, Flipt a fonctionn√© pour moi, et Vegeta, remplissant Flipt de demandes, a travaill√© dans une autre fen√™tre.  J'ai lanc√© la troisi√®me fen√™tre de terminal afin de collecter et d'examiner les donn√©es de profilage de tas: <br><br><pre> <code class="plaintext hljs">pprof -http=localhost:9090 localhost:8080/debug/pprof/heap</code> </pre> <br>  Il utilise l'outil Google pprof, qui peut visualiser les donn√©es de profilage directement dans le navigateur. <br><br>  J'ai d'abord v√©rifi√© les <code>inuse_space</code> <code>inuse_objects</code> et <code>inuse_space</code> afin de comprendre ce qui se passe sur le tas.  Cependant, je n'ai rien trouv√© de remarquable.  Mais quand j'ai d√©cid√© de jeter un ≈ìil aux <code>alloc_space</code> <code>alloc_objects</code> et <code>alloc_space</code> , quelque chose m'a alert√©. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/12b/e26/640/12be2664018d279c2fcbc0fe4a0fcf2c.png"></div><br>  <i><font color="#999999">Analyse des r√©sultats du profilage ( <a href="">original</a> )</font></i> <br><br>  Il y avait un sentiment que quelque chose appel√© <code>flate.NewWriter</code> allou√© 19370 Mo de m√©moire pendant une minute.  Et cela, soit dit en passant, repr√©sente plus de 19 gigaoctets!  Ici, √©videmment, quelque chose d'√©trange se passait.  Mais quoi exactement?  Si vous regardez attentivement l'original du diagramme ci-dessus, il s'av√®re que <code>flate.NewWriter</code> est appel√© √† partir de <code>gzip.(*Writer).Write</code> , qui, √† son tour, est appel√© √† partir du <code>middleware.(*compressResponseWriter).Write</code> .  J'ai rapidement r√©alis√© que ce qui se passait n'avait rien √† voir avec le code Flipt.  Le probl√®me √©tait quelque part dans le code du middleware <a href="https://github.com/go-chi/chi">Chi</a> utilis√© pour compresser les r√©ponses de l'API. <br><br><pre> <code class="plaintext hljs">//   r.Use(middleware.Compress(gzip.DefaultCompression))</code> </pre> <br>  J'ai comment√© la ligne ci-dessus et relanc√© les tests.  Comme pr√©vu, un grand nombre d'op√©rations d'allocation de m√©moire ont disparu. <br><br>  Avant de commencer √† trouver une solution √† ce probl√®me, je voulais examiner ces op√©rations d'allocation de m√©moire de l'autre c√¥t√© et comprendre comment elles affectent les performances.  En particulier, j'√©tais int√©ress√© par leur impact sur le temps n√©cessaire au programme pour collecter les ordures.  Je me suis souvenu que Go a toujours un outil de suivi qui vous permet d'analyser les programmes pendant leur ex√©cution et de collecter des informations √† leur sujet pendant certaines p√©riodes.  Les donn√©es collect√©es par trace incluent des indicateurs importants tels que l'utilisation du tas, le nombre de goroutines en cours d'ex√©cution, des informations sur les requ√™tes r√©seau et syst√®me et, ce qui √©tait particuli√®rement pr√©cieux pour moi, des informations sur le temps pass√© dans le garbage collector. <br><br>  Pour collecter efficacement des informations sur un programme en cours d'ex√©cution, je devais r√©duire le nombre de requ√™tes par seconde envoy√©es √† l'application en utilisant Vegeta, car le serveur me donnait r√©guli√®rement du <code>socket: too many open files</code> erreurs de <code>socket: too many open files</code> .  J'ai suppos√© que c'√©tait parce que <code>ulimit</code> √©tait r√©gl√© trop bas sur mon ordinateur, mais je ne voulais pas y entrer. <br><br>  J'ai donc red√©marr√© Vegeta avec cette commande: <br><br><pre> <code class="plaintext hljs">echo 'POST http://localhost:8080/api/v1/evaluate' | vegeta attack -rate 100 -duration 2m -body evaluate.json</code> </pre> <br>  Par cons√©quent, si nous comparons cela avec le sc√©nario pr√©c√©dent, seulement un dixi√®me des demandes ont √©t√© envoy√©es au serveur, mais cela a √©t√© fait pour une p√©riode de temps plus longue.  Cela m'a permis de collecter des donn√©es de haute qualit√© sur le travail du programme. <br><br>  Dans une autre fen√™tre de terminal, j'ai ex√©cut√© cette commande: <br><br><pre> <code class="plaintext hljs">wget 'http://localhost:8080/debug/pprof/trace?seconds=60' -O profile/trace</code> </pre> <br>  En cons√©quence, j'avais √† ma disposition un fichier contenant des donn√©es de trace collect√©es en 60 secondes.  Vous pouvez examiner ce fichier √† l'aide de la commande suivante: <br><br><pre> <code class="plaintext hljs">go tool trace profile/trace</code> </pre> <br>  L'ex√©cution de cette commande a conduit √† la d√©couverte des informations collect√©es dans le navigateur.  Ils ont √©t√© pr√©sent√©s sous une forme graphique pratique pour √©tude. <br><br>  Des d√©tails sur la <code>go tool trace</code> peuvent √™tre trouv√©s dans <a href="https://making.pusher.com/go-tool-trace/">ce</a> bon article. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6fd/490/4da/6fd4904daee72efc1d0bc86b71450cc9.png"></div><br>  <i><font color="#999999">R√©sultats de trace de flipt.</font></i>  <i><font color="#999999">Un graphique en dents de scie de l'allocation de m√©moire sur le tas est clairement visible ( <a href="">original</a> )</font></i> <br><br>  Sur ce graphique, il est facile de voir que la quantit√© de m√©moire allou√©e sur le tas a tendance √† augmenter assez rapidement.  Dans ce cas, apr√®s la croissance devrait √™tre une forte baisse.  Les emplacements o√π la m√©moire allou√©e tombe sont des op√©rations de r√©cup√©ration de place.  Ici, vous pouvez voir les colonnes bleues prononc√©es dans la zone GC, repr√©sentant le temps pass√© sur la collecte des ordures. <br><br>  Maintenant, j'ai rassembl√© toutes les preuves du ¬´crime¬ª dont j'ai besoin et je pourrais commencer √† chercher une solution au probl√®me d'allocation de m√©moire. <br><br><h2>  <font color="#3AC1EF">R√©solution de probl√®mes</font> </h2><br>  Afin de d√©couvrir la raison pour laquelle appeler <code>flate.NewWriter</code> conduit √† autant d'op√©rations d'allocation de m√©moire, j'ai d√ª regarder le code source de <a href="https://github.com/go-chi/chi/">Chi</a> .  Afin de savoir quelle version de Chi j'utilise, j'ai ex√©cut√© la commande suivante: <br><br><pre> <code class="plaintext hljs">go list -m all | grep chi github.com/go-chi/chi v3.3.4+incompatible</code> </pre> <br>  Ayant atteint le code source <a href="">chi / middleware / compress.go @ v3.3.4</a> , j'ai pu trouver la m√©thode suivante: <br><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">encoderDeflate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(w http.ResponseWriter, level </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">io</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Writer</span></span></span></span> {    dw, err := flate.NewWriter(w, level)    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> {        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">nil</span></span>    }    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> dw }</code> </pre> <br>  Dans d'autres recherches, j'ai d√©couvert que la m√©thode <code>flate.NewWriter</code> , via un gestionnaire interm√©diaire, √©tait appel√©e pour chaque r√©ponse.  Cela correspondait √† l'√©norme quantit√© d'op√©rations d'allocation de m√©moire que j'ai vu plus t√¥t, chargeant l'API avec mille requ√™tes par seconde. <br><br>  Je ne voulais pas refuser de compresser les r√©ponses de l'API ou chercher un nouveau routeur HTTP et une nouvelle biblioth√®que de support de middleware.  Par cons√©quent, j'ai tout d'abord d√©cid√© de savoir s'il √©tait possible de faire face √† mon probl√®me simplement en mettant √† jour Chi. <br><br>  J'ai ex√©cut√© <code>go get -u -v "github.com/go-chi/chi"</code> , mis √† niveau vers Chi 4.0.2, mais le code du middleware pour la compression des donn√©es semblait, comme il me semblait, le m√™me qu'auparavant.  Lorsque j'ai relanc√© les tests, le probl√®me n'a pas disparu. <br><br>  Avant de mettre fin √† ce probl√®me, j'ai d√©cid√© de rechercher des probl√®mes ou des messages PR dans le r√©f√©rentiel Chi qui mentionnent quelque chose comme ¬´middleware de compression¬ª.  Je suis tomb√© sur un PR avec le titre suivant: "R√©√©criture de la biblioth√®que de compression middleware".  L'auteur de ce PR a d√©clar√© ce qui suit: "De plus, sync.Pool est utilis√© pour les encodeurs, qui a une m√©thode de r√©initialisation (io.Writer), ce qui r√©duit la charge de la m√©moire." <br><br>  √áa y est!  Heureusement, ce PR a √©t√© ajout√© √† la branche principale, mais comme aucune nouvelle version de Chi n'a √©t√© cr√©√©e, j'ai d√ª mettre √† jour comme ceci: <br><br><pre> <code class="plaintext hljs">go get -u -v "github.com/go-chi/chi@master"</code> </pre> <br>  Cette mise √† jour, qui m'a beaucoup plu, √©tait r√©trocompatible, son utilisation n'a pas n√©cessit√© de modification du code de mon application. <br><br><h2>  <font color="#3AC1EF">R√©sultats</font> </h2><br>  J'ai ex√©cut√© √† nouveau les tests de charge et le profilage.  Cela m'a permis de v√©rifier que la mise √† jour Chi a r√©solu le probl√®me. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1ff/600/1df/1ff6001df0eccef0aa5b9c11b80a5dc8.png"></div><br>  <i><font color="#999999">Maintenant, flate.NewWriter utilise un centi√®me de la quantit√© de m√©moire allou√©e pr√©c√©demment ( <a href="">originale</a> )</font></i> <br><br>  En regardant √† nouveau les r√©sultats de la trace, j'ai vu que la taille du tas augmente maintenant beaucoup plus lentement.  De plus, le temps requis pour la collecte des ordures a diminu√©. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/348/584/1fb/3485841fb721f8d31ff3a1bca04bea24.png"></div><br>  <i><font color="#999999">Au revoir - ¬´scie¬ª ( <a href="">original</a> )</font></i> <br><br>  Apr√®s un certain temps, j'ai <a href="https://github.com/markphelps/flipt/pull/170">mis √† jour</a> le r√©f√©rentiel Flipt, ayant plus confiance qu'auparavant que mon projet sera capable de faire face de mani√®re ad√©quate √† la charge √©lev√©e. <br><br><h2>  <font color="#3AC1EF">R√©sum√©</font> </h2><br>  Voici les conclusions que j'ai tir√©es apr√®s avoir r√©ussi √† trouver et √† r√©soudre les probl√®mes ci-dessus: <br><br><ol><li>  Vous ne devez pas vous fier √† l'hypoth√®se que les biblioth√®ques open source (m√™me les plus populaires) ont √©t√© optimis√©es ou qu'elles n'ont pas de probl√®mes √©vidents. </li><li>  Un probl√®me innocent peut entra√Æner des cons√©quences graves, des manifestations de l '"effet domino", notamment sous forte charge. </li><li>  Si possible, vous devez utiliser <a href="https://golang.org/pkg/sync/">sync.Pool</a> . </li><li>  Il est utile de garder √† port√©e de main les outils de test des projets en charge et de profilage. </li><li>  Go Toolkit et Open Source - Super! </li></ol><br>  <b>Chers lecteurs!</b>  Comment recherchez-vous les performances de vos projets Go? <br><br><div style="text-align:center;"> <a href="https://ruvds.com/vps_start/"><img src="https://habrastorage.org/webt/-o/2e/tu/-o2etuqogwhmdnmysb9_vivc9v4.png"></a> </div><br> <a href="https://ruvds.com/ru-rub/"><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr477282/">https://habr.com/ru/post/fr477282/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr477268/index.html">Optimisation de la solution de recherche sur github</a></li>
<li><a href="../fr477272/index.html">Premi√®re introduction √† AssemblyScript</a></li>
<li><a href="../fr477274/index.html">Comment se d√©barrasser du code CSS inutilis√©? Partie 1</a></li>
<li><a href="../fr477276/index.html">Comment se d√©barrasser du code CSS inutilis√©? 2e partie</a></li>
<li><a href="../fr477278/index.html">Tests frontaux</a></li>
<li><a href="../fr477284/index.html">Pourquoi JavaScript est-il requis en mode strict?</a></li>
<li><a href="../fr477286/index.html">Axios ou Fetch: quoi utiliser en 2019?</a></li>
<li><a href="../fr477288/index.html">John Lewis √† la conf√©rence Undoing Aging 2018</a></li>
<li><a href="../fr477290/index.html">√âv√©nements num√©riques √† Moscou du 25 novembre au 1er d√©cembre</a></li>
<li><a href="../fr477292/index.html">√âv√©nements num√©riques √† Saint-P√©tersbourg du 25 novembre au 1er d√©cembre</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>