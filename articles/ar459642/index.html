<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฆ ๐ฉ๐ฝโ๐ ๐ ูุตูู ุขูู ูุชุณุฌูู ุงูุญููู ูู C ++ ุฏูู ุงูุชุถุญูุฉ ุจุงูููุงุกุฉ (ุจุงุณุชุฎุฏุงู CortexM ููุซุงู) ๐ค๐ฟ ๐ฏ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุงูุชูู. ูุฃุฎูุฐุฉ ูู www.extremetech.com/wp-content/uploads/2016/07/MegaProcessor-Feature.jpg 

 ุตุญุฉ ุฌูุฏุฉ ููุฌููุน! 

 ูู ููุงูุฉ ุณุงุจูุฉ ุ ุฏุฑุณุช ูุณุฃูุฉ ุงููุตูู ุฅู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ูุตูู ุขูู ูุชุณุฌูู ุงูุญููู ูู C ++ ุฏูู ุงูุชุถุญูุฉ ุจุงูููุงุกุฉ (ุจุงุณุชุฎุฏุงู CortexM ููุซุงู)</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459642/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/et/ni/fl/etnifl3hcinjjsqt8skfvv6km5q.png" alt="ุตูุฑุฉ"><br>  <sub>ุงูุชูู.</sub>  <sub>ูุฃุฎูุฐุฉ ูู <a href="">www.extremetech.com/wp-content/uploads/2016/07/MegaProcessor-Feature.jpg</a></sub> <br><br>  ุตุญุฉ ุฌูุฏุฉ ููุฌููุน! <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู ููุงูุฉ ุณุงุจูุฉ ุ</a> ุฏุฑุณุช ูุณุฃูุฉ ุงููุตูู ุฅูู ุณุฌูุงุช ูุชุญูู ูุน ููุฑุชููุณู ููุฑ ูู ุณู + + ูุฃุธูุฑุช ุญูููุงู ุจุณูุทุฉ ูุจุนุถ ุงููุดุงูู. <br><br>  ุฃุฑูุฏ ุงูููู ุฃู ุฃูุถุญ ููุฑุฉ ุนู ููููุฉ ุฌุนู ุงููุตูู ุฅูู ุงูุณุฌู ูุญูููู ุขูููุง ุฏูู ุงูุชุถุญูุฉ ุจุงูููุงุกุฉ ุ ูุฐูู ุจุงุณุชุฎุฏุงู ูุฆุงุช C ++ ุงูุชู ุชู ุฅูุดุงุคูุง ูู ูููุงุช SVD. <br><br>  ูู ูู ูููู ุงูุฃูุฑ ุ ูุฑุญุจุง ุจูู ูู ุงููุท.  ุณูููู ููุงู ุงููุซูุฑ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ. <br><a name="habracut"></a><br><h3 style=";text-align:right;direction:rtl">  ููุฏูุฉ </h3><br>  ูู ููุงูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">C ++ Hardware Access Access Redux</a> ุ ุฃูุถุญ ููู ุณููุซ ููููุฉ ุงูุนูู ุจุฃูุงู ูููุงุกุฉ ูุน ุงูุณุฌูุงุช ุ ูุญุชู ุฃุธูุฑูุง ูุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">github.com/kensmith/cppmmio</a> ููุซุงู. <br>  ุซู ุทูุฑ ุงูุนุฏูุฏ ูู ุงูุฃุดุฎุงุต ูุฐู ุงูููุฑุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Niklas Hauser ุจุฅุฌุฑุงุก ูุฑุงุฌุนุฉ ุฑุงุฆุนุฉ</a> ูุงูุชุฑุญ ุนุฏุฉ ุทุฑู ุฃุฎุฑู ูููุตูู ุฅูู ุงูุณุฌูุงุช ุจุฃูุงู. <br><br>  ููุฏ ุชู ุจุงููุนู ุชูููุฐ ุจุนุถ ูุฐู ุงูุฃููุงุฑ ูู ููุชุจุงุช ูุฎุชููุฉ ุ ูุฎุงุตุฉ ูู <a href="">ุงูููุฏู</a> .  ูู ุฃุฌู ุงูุฎูุฑ ุ ููููู ุงุณุชุฎุฏุงู ูู ูุฐู ุงูุฌูู ูู ุงูุญูุงุฉ ุงูุญููููุฉ.  ูููู ูู ููุช ุชุทููุฑ ูุฐู ุงูููุชุจุงุช ุ ุจุฏุฃุช ุชูุญุฏ ุงูุฃูุตุงู ุงูุทุฑููุฉ ูุงูุณุฌูุงุช ูุชูุญูุฏูุง ุ ูุจุงูุชุงูู ุชู ุงูููุงู ุจุจุนุถ ุงูุฃุดูุงุก ุจูุฏู ุฃู ูููู ุงูุนูู ุงูุฑุฆูุณู ูู ูุตู ุงูุณุฌูุงุช ูุน ุงููุจุฑูุฌ.  ุฃูุถุง ุ ุจุนุถ ุงูุญููู ููุณุช ูุนุงูุฉ ูู ุญูุซ ุงูููุฏ ูููุงุฑุฏ ูุชุญูู. <br><br>  ุงูููู ุ ุชููุฑ ูู ุดุฑูุฉ ุชุตููุน ูุชุญูู ARM ูุตููุง ูุฌููุน ุงูุณุฌูุงุช ุจุชูุณูู SVD.  ูููู ุฅูุดุงุก ูููุงุช ุงูุฑุฃุณ ูู ูุฐู ุงูุฃูุตุงู ุ ูุฐูู ุ ูุง ูููู ุฅูุดุงุก ูุตู ุจุณูุท ููุณุฌูุงุช ุ ุจู ูุตู ุฃูุซุฑ ุชุนููุฏูุง ุ ูููู ูู ููุณ ุงูููุช ุ ููุง ุณูุฒูุฏ ูู ููุซูููุฉ ุงูููุฏ.  ููู ุงูุฑุงุฆุน ุฃู ูููู ููู ุงูุฅุฎุฑุงุฌ ุจุฃู ูุบุฉ ุฃู ูุบุฉ C ุฃู C ++ ุฃู ุญุชู <a href="">D</a> <br><br>  ููู ููุฃุฎุฐ ุงูุฃูุฑ ุจุชุฑุชูุจ ุงููุตูู ุงูุขูู ุฅูู ุงูุณุฌูุงุช ุ ูููุงุฐุง ูุนุฏ ุถุฑูุฑููุง ุนูู ุงูุฅุทูุงู.  ูููู ุนุฑุถ ุงูุชูุณูุฑ ุนูู ุฃูุซูุฉ ุงุตุทูุงุนูุฉ ุจุณูุทุฉ ุ ุนูู ุงูุฃุฑุฌุญ ุบูุฑ ูุญุชููุฉ ุ ูููู ูู ุงููููู ุญุฏูุซูุง ุชูุงููุง: <br><br><pre style=";text-align:right;direction:rtl"><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//      GPIOA //,    AHB1ENR RCC-&gt;APB1ENR |= RCC_AHB1ENR_GPIOAEN ; //    ,      RCC-&gt;AHB1ENR = RCC_AHB1ENR_GPIOAEN; //,  TIM1    APB2 RCC-&gt;APB1ENR |= RCC_APB1ENR_TIM2EN | RCC_APB2ENR_TIM1EN; // - ,        . auto result = GPIOA-&gt;BSRR ; if (result &amp; GPIO_BSRR_BS1) { //do something } //-     .   ... GPIOA-&gt;IDR = GPIO_IDR_ID5 ; }</span></span></code> </pre> <br>  ูู ูุฐู ุงูุญุงูุงุช ููููุฉ ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ ุ ูุฃูุง ุจุงูุชุฃููุฏ ุดุงูุฏุช ุดูุฆูุง ููุฐุง ูู ุทูุงุจู.  ุณูููู ุฃูุฑุง ุฑุงุฆุนุง ุฅุฐุง ุฃูููู ุฃู ุชููุน ุงุฑุชูุงุจ ูุซู ูุฐู ุงูุฃุฎุทุงุก. <br><br>  ูุจุฏู ูู ุฃูุถูุง ุฃูู ุฃูุซุฑ ูุชุนุฉ ุนูุฏูุง ูุจุฏู ุงูุฑูุฒ ุฃููููุง ููุง ูุญุชุงุฌ ุฅูู ุชุนูููุงุช.  ุนูู ุณุจูู ุงููุซุงู ุ ุญุชู ูู ููุช ุชุนุฑู ูุชุญูู STM32F411 ุฌูุฏูุง ุ ูููุณ ูู ุงููููู ุฏุงุฆููุง ููู ูุง ูุญุฏุซ ูู ูุฐุง ุงูุฑูุฒ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ uint32 temp = GPIOA-&gt;OSPEEDR ; temp &amp;=~ GPIO_OSPEEDR_OSPEED0_Msk ; temp = (GPIO_OSPEEDR_OSPEED0_0 | GPIO_OSPEEDR_OSPEED0_1) ; GPIOA-&gt;OSPEEDR = temp; }</code> </pre><br>  ูุง ุชุนููู ููุง ูุง ูููู ุงูููุงู ุจู.  ูุนูู ุงูุฑูุฒ ุชุฑุฏุฏ ุชุดุบูู ูููุฐ GPIOA.0 ุฅูู ุงูุญุฏ ุงูุฃูุตู (ุชูุถูุญ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">mctMaks</a> : ูู ุงููุงูุน ุ ุชุคุซุฑ ูุฐู ุงููุนููุฉ ุนูู ููุช ุตุนูุฏ ุงูููุฏูุฉ (ุจูุนูู ุ ุฏุฑุฌุฉ ุงูุญุฏุงุฑูุง) ุ ูุชุนูู ุฃูู ูููู ูููููุฐ ูุนุงูุฌุฉ ุฅุดุงุฑุฉ ุฑูููุฉ ุจุดูู ุทุจูุนู ุนูุฏ ุฅุดุงุฑุฉ ูุนููุฉ (VeryLow \ Low \ Medium \ ุนุงููุฉ) ุงูุชุฑุฏุฏ). <br><br>  ุฏุนููุง ูุญุงูู ุงูุชุฎูุต ูู ูุฐู ุงูุนููุจ. <br><br><h3 style=";text-align:right;direction:rtl">  ุณุฌู ุงูุชุฌุฑูุฏ </h3><br>  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ุชุญุชุงุฌ ุฅูู ูุนุฑูุฉ ูุง ูู ุงูุณุฌู ูู ูุฌูุฉ ูุธุฑ ุงููุจุฑูุฌ ูุงูุจุฑูุงูุฌ. <br><br>  ูุญุชูู ุงูุณุฌู ุนูู ุนููุงู ุฃู ุทูู ุฃู ุญุฌู ูุทุฑููุฉ ูุตูู: ูููู ูุชุงุจุฉ ุจุนุถ ุงูุณุฌูุงุช ูุงูุจุนุถ ุงูุขุฎุฑ ูููู ูุฑุงุกุชูุง ููุท ููููู ูุฑุงุกุฉ ูุนุธููุง ููุชุงุจุชูุง. <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูููู ุชูุซูู ุงูุณุฌู ููุฌููุนุฉ ูู ุงูุญููู.  ูููู ุฃู ูุชููู ุงูุญูู ูู ุจุช ูุงุญุฏ ุฃู ุนุฏุฉ ุจุชุงุช ูููุน ูู ุฃู ููุงู ูู ุงูุณุฌู. <br><br>  ูุฐูู ุ ูุฅู ุฎุตุงุฆุต ุงูุญูู ุงูุชุงููุฉ ูููุฉ ุจุงููุณุจุฉ ููุง: ุงูุทูู ุฃู ุงูุญุฌู ( <b>ุงูุนุฑุถ</b> ุฃู <b>ุงูุญุฌู</b> ) ุ ุงูุฅุฒุงุญุฉ ูู ุจุฏุงูุฉ ุงูุชุณุฌูู ( <b>ุงูุฅุฒุงุญุฉ</b> ) ุ ูุงููููุฉ. <br><br>  ููู ุงูุญููู ูู ูุณุงุญุฉ ููู ุงููููุงุช ุงูููููุฉ ุงูุชู ูููู ุฃู ูุฃุฎุฐูุง ุงูุญูู ููุนุชูุฏ ุฐูู ุนูู ุทูู ุงูุญูู.  ุฃู  ุฅุฐุง ูุงู ุงูุญูู ุจุทูู 2 ุ ูููุงู 4 ููู ุญูู ููููุฉ (0ุ1ุ2ุ3).  ูุซู ุงูุณุฌู ุ ุชุญุชูู ุงูุญููู ูููู ุงูุญูู ุนูู ูุถุน ูุตูู (ูุฑุงุกุฉ ููุชุงุจุฉ ููุฑุงุกุฉ ููุชุงุจุฉ) <br><br>  ูุฌุนููุง ุฃูุซุฑ ูุถูุญูุง ุ ุฏุนูุง ูุฃุฎุฐ ุณุฌู TIM1 CR1 ูู ูุชุญูู STM32F411.  ุจุดูู ุชุฎุทูุทู ุ ูุจุฏู ููุง ููู: <br><br><img src="https://habrastorage.org/webt/sr/da/i4/srdai4a4hmphkmhrulcvdcx9r3u.png" alt="ุตูุฑุฉ"><br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุจุช 0 CEN: ุชูููู ุนุฏุงุฏ <br>  0: ุชูููู ุงูุนุฏุงุฏ: <b>ุชุนุทูู</b> <br>  1: ุนุฏุงุฏ: <b>ุชูููู</b> <br></li><li style=";text-align:right;direction:rtl">  UDIS ุจุช 1: ุชูููู / ุชุนุทูู ุญุฏุซ UEV <br>  0: ุชู ุชูููู ุญุฏุซ UEV: <b>ุชูููู</b> <br>  1: ุญุฏุซ ุฎุงุฑุฌ UEV: <b>ุชุนุทูู</b> <br></li><li style=";text-align:right;direction:rtl">  ุจุช URS 2: ุญุฏุฏ ูุตุงุฏุฑ ุชูููุฏ ุฃุญุฏุงุซ UEV <br>  0: ูุชู ุฅูุดุงุก UEV ุนูุฏูุง ุชููุถ ุฃู ุนูุฏ ุชุนููู UG: <b>ุฃู</b> ุจุช <br>  1: ูุชู ุฅูุดุงุก UEV ููุท ุนูู ุชุฌุงูุฒ <b>ุงูุณุนุฉ</b> : <b>ุชุฌุงูุฒ ุงูุณุนุฉ</b> <br></li><li style=";text-align:right;direction:rtl">  ุจุช 3 OPM: ุชุดุบูู ูุฑุฉ ูุงุญุฏุฉ <br>  0: ูุณุชูุฑ ุงููููุช ูู ุงูุงุนุชูุงุฏ ุฃูุซุฑ ุจุนุฏ ุงูุญุฏุซ UEV: <b>ContinueAfterUEV</b> <br>  1: ุชููู ุงููููุช ุจุนุฏ <b>ุงูุญุฏุซ UEV</b> : <b>StopAfterUEV</b> <br></li><li style=";text-align:right;direction:rtl">  ุจุช 4 DIR: ุงุชุฌุงู ุงูุนุฏ <br>  0: ุงูุญุณุงุจ ุงููุจุงุดุฑ: <b>Upcounter</b> <br>  1: <b>ุงูุนุฏ ุงูุชูุงุฒูู</b> : <b>Downcounter</b> <br></li><li style=";text-align:right;direction:rtl">  ุจุช 6: 5 ุณู: ูุถุน ุงููุญุงุฐุงุฉ <br>  0: ูุถุน ุงููุญุงุฐุงุฉ 0: <b>CenterAlignedMode0</b> <br>  1: ูุถุน ุงููุญุงุฐุงุฉ 1: <b>CenterAlignedMode1</b> <br>  2: ูุถุน ุงููุญุงุฐุงุฉ 2: <b>CenterAlignedMode2</b> <br>  3: ูุถุน ุงููุญุงุฐุงุฉ 3: <b>CenterAlignedMode3</b> <br></li><li style=";text-align:right;direction:rtl">  ุจุช 7 APRE: ูุถุน ุงูุชุญููู ุงููุณุจู ูุชุณุฌูู ARR <br>  0: ูุง ูุชู ุชุฎุฒูู ุณุฌู TIMx_ARR ูุคูุชูุง: <b>ARRNotBuffered</b> <br>  1: ูุง ูุชู ุชุฎุฒูู ุณุฌู TIMx_ARR ูุคูุชูุง: <b>ARRBuffered</b> <br></li><li style=";text-align:right;direction:rtl">  ุจุช 8: 9 ูุฏ: ููุณู ุงูุณุงุนุฉ <br>  0: tDTS = tCK_INT: <b>ClockDevidedBy1</b> <br>  1: tDTS = 2 * tCK_INT: <b>ClockDevidedBy2</b> <br>  2: tDTS = 4 * tCK_INT: <b>ClockDevidedBy4</b> <br>  3: ูุญููุธุฉ: <b>ูุญููุธุฉ</b> <br></li></ul><br>  ููุง ุ ุนูู ุณุจูู ุงููุซุงู ุ CEN ูู ุญูู 1 ุจุช ูุน ุฅุฒุงุญุฉ 0 ูุณุจุฉ ุฅูู ุจุฏุงูุฉ ุงูุชุณุฌูู.  ู <b>Enable</b> (1) ู <b>Disable</b> (0) ููุง ูููุชููุง ุงูููููุฉ. <br><br>  ูู ูุฑูุฒ ุนูู ูุง ูุชุญููู ูู ุญูู ูู ูุฐุง ุงูุณุฌู ุจุดูู ุฎุงุต ุ ูู ุงูููู ุจุงููุณุจุฉ ููุง ุฃู ูููู ููู ุญูู ูุญูู ูููุฉ ุงุณู ูุญูู ูุนูู ุฏูุงูููุง ููููู ูู ุฎูุงูู ููู ูุง ูููู ุจู ูู ุญูุซ ุงููุจุฏุฃ. <br><br>  ูุฌุจ ุฃู ูููู ูุฏููุง ุญู ุงููุตูู ุฅูู ูู ูู ุงูุณุฌู ูุงูููุฏุงู ููููุชู.  ูุฐูู ุ ูู ุดูู ุชูุฑูุจู ููุบุงูุฉ ุ ูููู ุชูุซูู ุชุฌุฑูุฏ ุงูุณุฌู ุจุงููุฆุงุช ุงูุชุงููุฉ: <br><br><img src="https://habrastorage.org/webt/pi/kr/-s/pikr-sq7lnpo9c6uilrmghdzd5a.png" alt="ุตูุฑุฉ"><br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุงููุตูู ุงูุฏุฑุงุณูุฉ ุ ูู ุงูููู ุฃูุถูุง ุฃู ูููู ููุณุฌูุงุช ูุงูุญููู ุงููุฑุฏูุฉ ุฎุตุงุฆุต ูุนููุฉ ุฃู ุฃู ุงูุณุฌู ูู ุนููุงู ุฃู ุญุฌู ุฃู ูุถุน ูุตูู (ูููุฑุงุกุฉ ููุท ุฃู ูููุชุงุจุฉ ููุท ุฃู ููุงููุง). <br>  ูุญุชูู ุงูุญูู ุนูู ุงูุญุฌู ูุงูุฅุฒุงุญุฉ ููุถุน ุงููุตูู ุฃูุถูุง.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุฌุจ ุฃู ูุญุชูู ุงูุญูู ุนูู ุฑุงุจุท ุฅูู ุงูุณุฌู ุงูุฐู ููุชูู ุฅููู. <br><br>  ูุฌุจ ุฃู ุชุญุชูู ูููุฉ ุงูุญูู ุนูู ุงุฑุชุจุงุท ุฅูู ุงูุญูู ูุณูุฉ ุฅุถุงููุฉ - ุงููููุฉ. <br><br>  ูุฐูู ุ ูู ุฅุตุฏุงุฑ ุฃูุซุฑ ุชูุตููุงู ุ ุณูุจุฏู ุงูุชุฌุฑูุฏ ูุฏููุง ููุง ููู: <br><br><img src="https://habrastorage.org/webt/m4/3u/mb/m43umbc8vceiuila8_komovib38.png"><br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุงูุณูุงุช ุ ูุฌุจ ุฃู ูููู ูุฏููุง ุงูุชุฌุฑูุฏ ุฃุณุงููุจ ุงูุชุนุฏูู ูุงููุตูู.  ููุจุณุงุทุฉ ุ ูุญู ููุชุตุฑ ุนูู ุทุฑู ุงูุชุซุจูุช / ุงููุชุงุจุฉ ูุงููุฑุงุกุฉ. <br><br><img src="https://habrastorage.org/webt/uy/d7/sb/uyd7sb-z-tggllnj4knjf_rfhi4.png" alt="ุตูุฑุฉ"><br><br>  ุนูุฏูุง ูุฑุฑูุง ุชุฌุฑูุฏ ุงูุญุงูุฉ ุ ูุญุชุงุฌ ุฅูู ุงูุชุญูู ูู ุชูุงูู ูุฐุง ุงูุชุฌุฑูุฏ ูุน ูุง ูู ููุตูู ูู ููู SVD. <br><br><h3 style=";text-align:right;direction:rtl">  ุนุฑุถ ูุตู ุงููุธุงู (SVD) ููู </h3><br>  ุชูุณูู ูุตู ุงูุนุฑุถ ุงูุชูุฏููู ููุธุงู CMSIS (CMSIS-SVD) ูู ูุตู ุฑุณูู ูุณุฌูุงุช ูุชุญูู ูุนุชูุฏ ุนูู ูุนุงูุฌ ARM Cortex-M.  ุงููุนูููุงุช ุงููุงุฑุฏุฉ ูู ุฃูุตุงู ุชูุซูู ุงููุธุงู ุ ูุชูุงูู ุนูููุง ูุน ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ ูู ุงูุฃุฏูุฉ ุงููุฑุฌุนูุฉ ููุฃุฌูุฒุฉ.  ูููู ุฃู ูุญุชูู ูุตู ุงูุณุฌูุงุช ูู ูุซู ูุฐุง ุงูููู ุนูู ูุนูููุงุช ุฑููุนุฉ ุงููุณุชูู ูุงูุบุฑุถ ูู ุฌุฒุก ูุงุญุฏ ููุท ูู ุงูุญูู ูู ุงูุณุฌู. <br><br>  ูู ุงููุงุญูุฉ ุงูุชุฎุทูุทูุฉ ุ ูููู ูุตู ูุณุชููุงุช ุชูุงุตูู ุงููุนูููุงุช ูู ูุซู ูุฐุง ุงูููู ูู ุฎูุงู ุงููุฎุทุท ุงูุชุงูู ุ ุงูุฐู ุชู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงุชุฎุงุฐู ุนูู ูููุน Keil</a> : <br><br><img src="https://habrastorage.org/webt/1s/oq/6d/1soq6disxizzaj8hvyaovxs9_pm.png" alt="ุตูุฑุฉ"><br><br>  ูุชู ุชูููุฑ ูููุงุช SVD ุงููุตู ูู ูุจู ุงูุดุฑูุงุช ุงููุตูุนุฉ ููุชู ุงุณุชุฎุฏุงููุง ุฃุซูุงุก ุชุตุญูุญ ุงูุฃุฎุทุงุก ูุนุฑุถ ูุนูููุงุช ุญูู ูุชุญูู ูุณุฌูุงุช.  ุนูู ุณุจูู ุงููุซุงู ุ ูุณุชุฎุฏููู IAR ูุนุฑุถ ุงููุนูููุงุช ูู ููุญุฉ View-&gt; Registers.  ุงููููุงุช ููุณูุง ููุฌูุฏุฉ ูู ุงููุฌูุฏ Program Files (x86) \ IAR Systems \ Embedded Workbench 8.3 \ arm \ config \ debugger. <br><br>  ูุณุชุฎุฏู Clion ูู JetBrains ุฃูุถูุง ูููุงุช svd ูุนุฑุถ ูุนูููุงุช ุงูุชุณุฌูู ุฃุซูุงุก ุชุตุญูุญ ุงูุฃุฎุทุงุก. <br><br>  ููููู ุฏุงุฆููุง ุชูุฒูู ุงูุฃูุตุงู ูู ููุงูุน ุงูุดุฑูุฉ ุงููุตูุนุฉ.  <a href="">ููุง ููููู ุฃู ุชุฃุฎุฐ ููู SVD ููุชุญูู ุงูุฏููู STM32F411</a> <br><br>  ุจุดูู ุนุงู ุ ุชูุณูู SVD ูู ุงููุนูุงุฑ ุงูุฐู ุชุฏุนูู ุงูุดุฑูุงุช ุงููุตูุนุฉ.  ุฏุนููุง ูุฑู ูุง ูู ูุณุชููุงุช ุงููุตู ูู SVD. <br><br>  ูู ุงููุฌููุน ุ ูุชู ุชูููุฒ 5 ูุณุชููุงุช ุ ููุณุชูู ุงูุฌูุงุฒ ุ ููุณุชูู ูุชุญูู ุ ููุณุชูู ุงูุชุณุฌูู ุ ููุณุชูู ุงูุญูู ุ ููุณุชูู ุงูููู ุงููุฐููุฑุฉ. <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>ูุณุชูู ุงูุฌูุงุฒ</b> : ูุตู ุงููุณุชูู ุงูุนููู ูุนุฑุถ ุงููุธุงู ูู ุงูุฌูุงุฒ.  ูู ูุฐุง ุงููุณุชูู ุ ูุชู ุชูุถูุญ ุงูุฎุตุงุฆุต ุงููุชุนููุฉ ุจุงูุฌูุงุฒ ููู.  ุนูู ุณุจูู ุงููุซุงู ุ ุงุณู ุงูุฌูุงุฒ ุฃู ุงููุตู ุฃู ุงูุฅุตุฏุงุฑ.  ูุญุฏุฉ ุงูุญุฏ ุงูุฃุฏูู ุนูููุฉ ุ ููุฐูู ุนูู ุจุช ูุงูู ุงูุจูุงูุงุช.  ูููู ุชุนููู ุงูููู ุงูุงูุชุฑุงุถูุฉ ูุณูุงุช ุงูุณุฌู ุ ูุซู ุญุฌู ุงูุชุณุฌูู ุ ููููุฉ ุฅุนุงุฏุฉ ุงูุชุนููู ุ ูุฃุฐููุงุช ุงููุตูู ุ ููุฌูุงุฒ ุจุฃูููู ูู ูุฐุง ุงููุณุชูู ุ ูุชููู ููุฑูุซุฉ ุถูููุงู ุจูุณุชููุงุช ููุฎูุถุฉ ูู ุงููุตู. </li><li style=";text-align:right;direction:rtl">  <b>ูุณุชูู ูุชุญูู:</b> ูุตู ูุณู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุฌููุฑ ูุชุญูู ูููุฒุงุชู.  ูุฐุง ุงููุณู ูุทููุจ ุฅุฐุง ุชู ุงุณุชุฎุฏุงู ููู SVD ูุฅูุดุงุก ููู ุฑุฃุณ ุงูุฌูุงุฒ. </li><li style=";text-align:right;direction:rtl">  <b>ุงูุทุจูุฉ ุงููุญูุทูุฉ</b> : ุงูุฌูุงุฒ ุงููุญูุทู ุนุจุงุฑุฉ ุนู ูุฌููุนุฉ ูุณูุงุฉ ูู ุงูุณุฌูุงุช.  ูุชู ุชุนููู ุงูุฌูุงุฒ ุงููุญูุทู ุฅูู ุนููุงู ุฃุณุงุณู ูุญุฏุฏ ูู ูุณุงุญุฉ ุนููุงู ุงูุฌูุงุฒ. </li><li style=";text-align:right;direction:rtl">  <b>ูุณุชูู ุงูุชุณุฌูู</b> : ุงูุณุฌู ูู ููุฑุฏ ูุงุจู ููุจุฑูุฌุฉ ูุณูู ููุชูู ุฅูู ุฌูุงุฒ ุทุฑูู.  ูุชู ุชุนููู ุงูุณุฌูุงุช ุฅูู ุนููุงู ูุญุฏุฏ ูู ูุณุงุญุฉ ุนููุงู ุงูุฌูุงุฒ.  ุงูุนููุงู ูุฑุชุจุท ุจุงูุนููุงู ุงููุญูุทู ุงูุฃุณุงุณู.  ุฃูุถุง ุ ููุณุฌู ุ ูุดุงุฑ ุฅูู ูุถุน ุงููุตูู (ุงููุฑุงุกุฉ / ุงููุชุงุจุฉ). </li><li style=";text-align:right;direction:rtl">  <b>ูุณุชูู ุงูุญูู</b> : ููุง ุฐูุฑ ุฃุนูุงู ุ ูููู ุชูุณูู ุงูุณุฌูุงุช ุฅูู ุฃุฌุฒุงุก ูู ูุธุงุฆู ูุฎุชููุฉ - ุงูุญููู.  ูุญุชูู ูุฐุง ุงููุณุชูู ุนูู ุฃุณูุงุก ุงูุญููู ุงููุฑูุฏุฉ ูู ููุณ ุงูุณุฌู ุ ูุญุฌููุง ุ ูุงูุฅุฒุงุญุงุช ุงููุชุนููุฉ ุจุจุฏุงูุฉ ุงูุณุฌู ุ ููุฐูู ูุถุน ุงููุตูู. </li><li style=";text-align:right;direction:rtl">  <b>ูุณุชูู ููู ุงูุญููู ุงูุชู ุชู ุชุนุฏุงุฏูุง</b> : ูู ุงููุงูุน ุ ูุชู ุชุณููุฉ ูุฐู ุงูููู ุจููู ุงูุญูู ุงูุชู ูููู ุงุณุชุฎุฏุงููุง ููุฑุงุญุฉ ูู C ู C ++ ู D ููุง ุฅูู ุฐูู. </li></ul><br>  ูู ุงููุงูุน ุ ูููุงุช SVD ูู ูููุงุช xml ุนุงุฏูุฉ ูุน ูุตู ูุงูู ูููุธุงู.  ููุงู ูุญููุงุช ูููุงุช svd ุฅูู ุฑูุฒ C ุ ุนูู ุณุจูู ุงููุซุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> ุ ูุงูุชู ุชููุฏ ุฑุคูุณ ูููุงูู ููุงุฆูุฉ ูู C ููู ูุญูุท ูุชุณุฌูู. <br><br>  ููุฌุฏ ุฃูุถูุง ูุญูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">cmsis-svd</a> ููููุงุช SVD ููุชูุจ ุจูุบุฉ Phyton ุ ููู ูููู ุจุดูุก ูุง ูุซู ุฅูุบุงุก ุชุณูุณู ุงูุจูุงูุงุช ูู ููู ุฅูู ูุงุฆูุงุช ูุฆุฉ ูู Phython ุ ูุงูุชู ูุชู ุงุณุชุฎุฏุงููุง ุจุนุฏ ุฐูู ูู ุจุฑูุงูุฌ ุฅูุดุงุก ุงูุดูุฑุฉ. <br><br>  ูููู ุงูุงุทูุงุน ุนูู ูุซุงู ููุตู ุณุฌู ูุชุญูู STM32F411 ุชุญุช ุงูููุณุฏ: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุซุงู ุณุฌู ูุคูุช CR1 TIM1</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">peripheral</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>TIM1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span>Advanced-timers<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupName</span></span></span><span class="hljs-tag">&gt;</span></span>TIM<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupName</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">baseAddress</span></span></span><span class="hljs-tag">&gt;</span></span>0x40010000<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">baseAddress</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">addressBlock</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">offset</span></span></span><span class="hljs-tag">&gt;</span></span>0x0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">offset</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">size</span></span></span><span class="hljs-tag">&gt;</span></span>0x400<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">size</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">usage</span></span></span><span class="hljs-tag">&gt;</span></span>registers<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">usage</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">addressBlock</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">registers</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">register</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>CR1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">displayName</span></span></span><span class="hljs-tag">&gt;</span></span>CR1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">displayName</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span>control register 1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">addressOffset</span></span></span><span class="hljs-tag">&gt;</span></span>0x0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">addressOffset</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">size</span></span></span><span class="hljs-tag">&gt;</span></span>0x20<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">size</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">access</span></span></span><span class="hljs-tag">&gt;</span></span>read-write<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">access</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resetValue</span></span></span><span class="hljs-tag">&gt;</span></span>0x0000<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resetValue</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fields</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">field</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>CKD<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span>Clock division<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitOffset</span></span></span><span class="hljs-tag">&gt;</span></span>8<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitOffset</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitWidth</span></span></span><span class="hljs-tag">&gt;</span></span>2<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitWidth</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">field</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">field</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>ARPE<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span>Auto-reload preload enable<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitOffset</span></span></span><span class="hljs-tag">&gt;</span></span>7<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitOffset</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitWidth</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitWidth</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">field</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">field</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>CMS<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span>Center-aligned mode selection<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitOffset</span></span></span><span class="hljs-tag">&gt;</span></span>5<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitOffset</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitWidth</span></span></span><span class="hljs-tag">&gt;</span></span>2<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitWidth</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">field</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">field</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>DIR<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span>Direction<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitOffset</span></span></span><span class="hljs-tag">&gt;</span></span>4<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitOffset</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitWidth</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitWidth</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">field</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">field</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>OPM<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span>One-pulse mode<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitOffset</span></span></span><span class="hljs-tag">&gt;</span></span>3<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitOffset</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitWidth</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitWidth</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">field</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">field</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>URS<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span>Update request source<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitOffset</span></span></span><span class="hljs-tag">&gt;</span></span>2<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitOffset</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitWidth</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitWidth</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">field</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">field</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>UDIS<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span>Update disable<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitOffset</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitOffset</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitWidth</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitWidth</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">field</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">field</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>CEN<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span>Counter enable<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitOffset</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitOffset</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitWidth</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bitWidth</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">field</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fields</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">register</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">register</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br>  ููุง ุชุฑูู ุ ููุงู ูู ุงููุนูููุงุช ุงููุงุฒูุฉ ูุชุฌุฑูุฏูุง ุ ุจุงุณุชุซูุงุก ูุตู ููู ุงูุจุชุงุช ุงููุญุฏุฏุฉ ููุญููู. <br><br>  ูุง ูุฑุบุจ ุฌููุน ุงููุตููุนูู ูู ูุถุงุก ุจุนุถ ุงูููุช ูู ูุตู ูุงูู ููุธุงููู ุ ูุฐุง ููุง ุชุฑู ุ ูู ุชุฑุบุจ ST ูู ูุตู ููู ุงูุญููู ูููู ูุฐุง ุงูุนุจุก ุฅูู ูุจุฑูุฌู ุงูุนููุงุก.  ููู TI ุชูุชู ุจุนููุงุฆูุง ูุชุตู ุงููุธุงู ุจุงููุงูู ุ ุจูุง ูู ุฐูู ุฃูุตุงู ููู ุงูุญููู. <br><br>  ูุง ูุฑุฏ ุฃุนูุงู ููุถุญ ุฃู ุชูุณูู ูุตู SVD ูุชูุงูู ุฌุฏูุง ูุน ุชุฌุฑูุฏ ูุถูุชูุง.  ูุญุชูู ุงูููู ุนูู ุฌููุน ุงููุนูููุงุช ุงููุงุฒูุฉ ูู ุฃุฌู ูุตู ุงูุณุฌู ุจุงููุงูู. <br><br><h3 style=";text-align:right;direction:rtl">  ุชุทุจูู </h3><br><h4 style=";text-align:right;direction:rtl">  ุชุณุฌูู </h4><br>  ุงูุขู ูุจุนุฏ ุฃู ูููุง ุจุงูุชุฌุฑูุฏ ูู ุงูุณุฌู ููุฏููุง ูุตู ููุณุฌูุงุช ูู ุดูู ููู svd ูู ุงูุดุฑูุงุช ุงููุตูุนุฉ ุงูุชู ุชุชูุงุณุจ ุจุดูู ูุซุงูู ูุน ูุฐุง ุงูุชุฌุฑูุฏ ุ ูููููุง ุงูุงูุชูุงู ูุจุงุดุฑุฉ ุฅูู ุงูุชูููุฐ. <br><br>  ูุฌุจ ุฃู ูููู ุชูููุฐูุง ูุนุงููุง ูุซู ุฑูุฒ C ูุณูู ุงูุงุณุชุฎุฏุงู.  ุฃุฑุบุจ ูู ุฃู ูููู ุงููุตูู ุฅูู ุงูุณุฌูุงุช ูุงุถุญูุง ูุฏุฑ ุงูุฅููุงู ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุซู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (TIM1::CR1::CKD::DividedBy2::IsSet()) { TIM1::ARR::Set(<span class="hljs-number"><span class="hljs-number">10</span></span>_ms) ; TIM1::CR1::CEN::Enable::Set() ; }</code> </pre><br>  ุชุฐูุฑ ุฃูู ูู ุฃุฌู ุงููุตูู ุฅูู ุนููุงู ุงูุชุณุฌูู ุงูุตุญูุญ ุ ุชุญุชุงุฌ ุฅูู ุงุณุชุฎุฏุงู reinterpret_cast: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">*<span class="hljs-keyword"><span class="hljs-keyword">reinterpret_cast</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> *&gt;(<span class="hljs-number"><span class="hljs-number">0x40010000</span></span>) = (<span class="hljs-number"><span class="hljs-number">1U</span></span> &lt;&lt; <span class="hljs-number"><span class="hljs-number">5U</span></span>) ;</code> </pre> <br>  ุชู ุจุงููุนู ูุตู ูุฆุฉ ุงูุณุฌู ุฃุนูุงู ุ ููุฌุจ ุฃู ูููู ููุง ุนููุงู ูุญุฌู ููุถุน ูุตูู ุ ุจุงูุฅุถุงูุฉ ุฅูู ุทุฑููุชูู <code>Get()</code> ู <code>Set()</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//      template&lt;uint32_t address, size_t size, typename AccessMode&gt; struct RegisterBase { static constexpr auto Addr = address ; using Type = typename RegisterType&lt;size&gt;::Type ; // Set     , //     __forceinline template&lt;typename T = AccessMode, class = typename std::enable_if_t&lt;std::is_base_of&lt;WriteMode, T&gt;::value&gt;&gt; inline static void Set(Type value) { *reinterpret_cast&lt;volatile Type *&gt;(address) = value ; } // Get    , //    ,    __forceinline template&lt;typename T = AccessMode, class = typename std::enable_if_t&lt;std::is_base_of&lt;ReadMode, T&gt;::value&gt;&gt; inline static Type Get() { return *reinterpret_cast&lt;volatile Type *&gt;(address) ; } } ;</span></span></code> </pre> <br>  ูููู ุจุชูุฑูุฑ ุงูุนููุงู ูุทูู ุงูุชุณุฌูู ููุถุน ุงููุตูู ุฅูู ูุนููุงุช ุงููุงูุจ (ูุฐู ุฃูุถูุง ูุฆุฉ).  ุจุงุณุชุฎุฏุงู ุขููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SFINAE</a> ุ ููู <code>enable_if</code> enable_if ุ ุณูููู ุจู "ุงูุชุฎูุต" ูู ูุธุงุฆู ุงููุตูู <code>Set()</code> ุฃู <code>Get()</code> ููุณุฌูุงุช ุงูุชู ูุง ููุจุบู ุฃู ุชุฏุนููุง.  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ูุงู ุงูุณุฌู ูููุฑุงุกุฉ ููุท ุ ูุณูููู <code>ReadMode</code> ููุน <code>ReadMode</code> ุฅูู ูุนููุฉ ุงููุงูุจ ุ ูุณูู ูููู <code>enable_if</code> ุจุงูุชุญูู ููุง ุฅุฐุง ูุงู ุงููุตูู ูู ุฎูููุฉ <code>ReadMode</code> ูุฅุฐุง ูู ููู ุงูุฃูุฑ ูุฐูู ุ ูุณูุคุฏู ุฐูู ุฅูู ุฅูุดุงุก ุฎุทุฃ ูุญููู ุนููู (ูู ูุชู ุนุฑุถ ุงูููุน T) ุ ููู ูุชุถูู ุงููุชุฑุฌู ุทุฑููุฉ <code>Set()</code> ููุซู ูุฐุง ุงูุณุฌู.  ุงูุดูุก ููุณู ููุทุจู ุนูู ุณุฌู ูุฎุตุต ูููุชุงุจุฉ ููุท. <br><br>  ููุชุญูู ูู ุงููุตูู ุ ุณูู ูุณุชุฎุฏู ุงููุตูู ุงูุฏุฑุงุณูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//    struct WriteMode {}; struct ReadMode {}; struct ReadWriteMode: public WriteMode, public ReadMode {};</span></span></code> </pre> <br>  ุชุฃุชู ุงูุณุฌูุงุช ุจุฃุญุฌุงู ูุฎุชููุฉ: 8 ุ 16 ุ 32 ุ 64 ุจุช. ููู ูููุง ุ ูุถุน ููุนูุง: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุน ุงูุณุฌูุงุช ุญุณุจ ุงูุญุฌู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> size&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RegisterType</span></span></span><span class="hljs-class"> {</span></span>} ; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RegisterType</span></span></span><span class="hljs-class">&lt;8&gt; {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Type = <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> ; } ; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RegisterType</span></span></span><span class="hljs-class">&lt;16&gt; {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Type = <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> ; } ; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RegisterType</span></span></span><span class="hljs-class">&lt;32&gt; {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Type = <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> ; } ; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RegisterType</span></span></span><span class="hljs-class">&lt;64&gt; {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Type = <span class="hljs-keyword"><span class="hljs-keyword">uint64_t</span></span> ; } ;</code> </pre> <br></div></div><br>  ุจุนุฏ ุฐูู ุ ุจุงููุณุจุฉ ุฅูู TIM1 ุงููุคูุช ุ ููููู ุชุญุฏูุฏ ุณุฌู CR1 ุ ูุนูู ุณุจูู ุงููุซุงู ุ ุณุฌู EGR ุจูุฐู ุงูุทุฑููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TIM1</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CR1</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> RegisterBase&lt;<span class="hljs-number"><span class="hljs-number">0x40010000</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>, ReadWriteMode&gt; { } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">EGR</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> RegisterBase&lt;<span class="hljs-number"><span class="hljs-number">0x40010014</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>, WriteMode&gt; { } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ TIM1::CR1::Set(<span class="hljs-number"><span class="hljs-number">10</span></span>) ; <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> reg = TIM1::CR1::Get() ; <span class="hljs-comment"><span class="hljs-comment">// ,     reg = TIM1::EGR::Get() }</span></span></code> </pre><br>  ูุธุฑูุง ูุฃู ุงููุญูู ุงูุจุฑูุฌู ูุนุฑุถ ุฃุณููุจ <code>Get()</code> ููุท <code>ReadMode</code> ูุชู ูููุง ุชูุฑูุซ ูุถุน ุงููุตูู ูู <code>ReadMode</code> ุ ูุทุฑู <code>Set()</code> ุงูุฎุงุตุฉ <code>WriteMode</code> ูุชู ูููุง ุชูุฑูุซ ูุถุน ุงููุตูู ูู <code>WriteMode</code> ุ ูู ุญุงูุฉ ุงูุงุณุชุฎุฏุงู ุบูุฑ ุงูุตุญูุญ ูุฃุณุงููุจ ุงููุตูู ุ ุณุชุชููู ุฎุทุฃ ูู ูุฑุญูุฉ <code>WriteMode</code> .  ูุฅุฐุง ููุช ุชุณุชุฎุฏู ุฃุฏูุงุช ุงูุชุทููุฑ ุงูุญุฏูุซุฉ ุ ูุซู Clion ุ ุญุชู ูู ูุฑุญูุฉ ุงูุชุฑููุฒ ุ ุณุชุฑู ุชุญุฐูุฑูุง ูู ูุญูู ุงูุดูุฑุฉ: <br><br><img src="https://habrastorage.org/webt/vc/we/gu/vcwegu6a0vulgfcvzjkaum9ac4a.png" alt="ุตูุฑุฉ"><br><br>  ุญุณููุง ุ ุฃุตุจุญ ุงููุตูู ุฅูู ุงูุณุฌูุงุช ุงูุขู ุฃูุซุฑ ุฃูุงููุง ุ ููุง ูุณูุญ ูู ุฑูุฒูุง ุจุงูููุงู ุจุฃุดูุงุก ุบูุฑ ููุจููุฉ ููุฐุง ุงูุณุฌู ุ ููููุง ูุฑูุฏ ุงููุถู ูุฏููุง ูุงูุฅุดุงุฑุฉ ุฅูู ุงูุณุฌู ุจุฃูููู ุ ูููู ุฅูู ุญูููู. <br><br><h4 style=";text-align:right;direction:rtl">  ุงูุญููู </h4><br>  ูุญุชูู ุงูุญูู ุจุฏูุงู ูู ุงูุนููุงู ุนูู ูููุฉ ุชุญููู ูุณุจุฉ ุฅูู ุจุฏุงูุฉ ุงูุณุฌู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูู ุฃุฌู ูุนุฑูุฉ ุงูุนููุงู ุฃู ุงูููุน ุงูุฐู ูุฌุจ ุชูุฏูู ูููุฉ ุงูุญูู ุฅููู ุ ูุฌุจ ุฃู ูููู ูุฏูู ุฑุงุจุท ุฅูู ุงูุณุฌู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//        template&lt;typename Reg, size_t offset, size_t size, typename AccessMode&gt; struct RegisterField { using RegType = typename Reg::Type ; using Register = Reg ; static constexpr RegType Offset = offset ; static constexpr RegType Size = size ; using Access = AccessMode ; template&lt;typename T = AccessMode, class = typename std::enable_if_t&lt;std::is_base_of&lt;WriteMode, T&gt;::value&gt;&gt; static void Set(RegType value) { assert(value &lt; (1U &lt;&lt; size)) ; //CriticalSection cs ; //    RegType newRegValue = *reinterpret_cast&lt;RegType *&gt;(Register::Address) ; //       newRegValue &amp;= ~ (((1U &lt;&lt; size) - 1U) &lt;&lt; offset); //    newRegValue |= (value &lt;&lt; offset) ; //      *reinterpret_cast&lt;RegType *&gt;(Reg::Address) = newRegValue ; } __forceinline template&lt;typename T = AccessMode, class = typename std::enable_if_t&lt;std::is_base_of&lt;ReadMode, T&gt;::value&gt;&gt; inline static RegType Get() { return ((*reinterpret_cast&lt;RegType *&gt;(Reg::Address)) &amp; (((1U &lt;&lt; size) - 1U) &lt;&lt; offset)) &gt;&gt; offset ; } };</span></span></code> </pre> <br>  ุจุนุฏ ุฐูู ุ ูู ุงููููู ุจุงููุนู ุงูููุงู ุจุงูุฃููุฑ ุงูุชุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TIM1</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CR1</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> RegisterBase&lt;<span class="hljs-number"><span class="hljs-number">0x40010000</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>, ReadWriteMode&gt; { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> CKD = RegisterField&lt;TIM1::CR1, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, ReadWriteMode&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ARPE = RegisterField&lt;TIM1::CR1, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, ReadWriteMode&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> CMS = RegisterField&lt;TIM1::CR1, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, ReadWriteMode&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> DIR = RegisterField&lt;TIM1::CR1, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, ReadWriteMode&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> OPM = RegisterField&lt;TIM1::CR1, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, ReadWriteMode&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> URS = RegisterField&lt;TIM1::CR1, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, ReadWriteMode&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UDIS = RegisterField&lt;TIM1::CR1, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, ReadWriteMode&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> CEN = RegisterField&lt;TIM1::CR1, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, ReadWriteMode&gt; ; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   CR1  9   1,  8  0 TIM1::CR1::CKD::Set(2U) ; auto reg = TIM1::CR1::CEN::Get() ; }</span></span></code> </pre><br>  ุนูู ุงูุฑุบู ูู ุฃู ูู ุดูุก ูุจุฏู ุฌูุฏูุง ุจุดูู ุนุงู ุ ุฅูุง ุฃูู ูุง ูุฒุงู ุบูุฑ ูุงุถุญ ุชูุงููุง ูุงุฐุง <code>TIM1::CR1::CKD::Set(2)</code> ุ ูุงุฐุง ูุนูู <code>TIM1::CR1::CKD::Set(2)</code> ุงููุฐูู ุชู ุชูุฑูุฑููุง ุฅูู ูุธููุฉ <code>Set()</code> ุ  ููุงุฐุง ูุนูู ุงูุฑูู ุงููุฑุชุฌุน ุจูุงุณุทุฉ ุทุฑููุฉ <code>TIM1::CR1::CEN::Get()</code> ุ <br><br>  ุงูุงูุชูุงู ุจุณูุงุณุฉ ุฅูู ููู ุงูุญูู. <br><br><h4 style=";text-align:right;direction:rtl">  ูููุฉ ุงูุญูู </h4><br>  ูุนุฏ ุชุฌุฑูุฏ ูููุฉ ุงูุญูู ุญูููุง ุฃุณุงุณููุง ุฃูุถูุง ุ ููููู ูุงุฏุฑ ุนูู ูุจูู ุญุงูุฉ ูุงุญุฏุฉ ููุท.  ุชุชู ุฅุถุงูุฉ ุงูุณูุงุช ุฅูู ุชุฌุฑูุฏ ุงูุญูู - ุงููููุฉ ุงููุนููุฉ ูุฑุงุจุท ุฅูู ุงูุญูู.  ุทุฑููุฉ <code>Set()</code> ูููุฉ ุงูุญูู ูุทุงุจูุฉ ูุทุฑููุฉ <code>Set()</code> ุงูุญูู ุ ุจุงุณุชุซูุงุก ุฃู ุงููููุฉ ููุณูุง ูุง ุชุญุชุงุฌ ุฅูู ุฃู ุชูุชูู ุฅูู ูุฐู ุงูุทุฑููุฉ ุ ููู ูุนุฑููุฉ ููุฏููุง ุ ุชุญุชุงุฌ ููุท ุฅูู ุถุจุท.  ููู ุฃุณููุจ <code>Get()</code> ูุง ูุนูู ูู ุ ูุจุฏูุงู ูู ุฐูู ุ ูู ุงูุฃูุถู ุงูุชุญูู ููุง ุฅุฐุง ูุงูุช ูุฐู ุงููููุฉ ูุญุฏุฏุฉ ุฃู ูุง ุ <code>IsSet()</code> ูุฐู ุงูุทุฑููุฉ ุจุฃุณููุจ <code>IsSet()</code> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//        template&lt;typename Field, typename Field::Register::Type value&gt; struct FieldValueBase { using RegType = typename Field::Register::Type ; template&lt;typename T = typename Field::Access, class = typename std::enable_if_t&lt;std::is_base_of&lt;WriteMode, T&gt;::value&gt;&gt; static void Set() { RegType newRegValue = *reinterpret_cast&lt;RegType *&gt;(Field::Register::Address) ; newRegValue &amp;= ~ (((1U &lt;&lt; Field::Size) - 1U) &lt;&lt; Field::Offset); newRegValue |= (value &lt;&lt; Field::Offset) ; *reinterpret_cast&lt;RegType *&gt;(Field::Register::Address) = newRegValue ; } __forceinline template&lt;typename T = typename Field::Access, class = typename std::enable_if_t&lt;std::is_base_of&lt;ReadMode, T&gt;::value&gt;&gt; inline static bool IsSet() { return ((*reinterpret_cast&lt;RegType *&gt;(Field::Register::Address)) &amp; static_cast&lt;RegType&gt;(((1U &lt;&lt; Field::Size) - 1U) &lt;&lt; Field::Offset)) == (value &lt;&lt; Field::Offset) ; } };</span></span></code> </pre> <br>  ูููู ุงูุขู ูุตู ุญูู ุงูุณุฌู ุจูุฌููุนุฉ ูู ูููู: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุชุณุฌู ููู CR1 ุญููู ุงููุคูุช TIM1</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> Reg, <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> offset, <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> size, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> AccessMode&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TIM_CR_CKD_Values</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> RegisterField&lt;Reg, offset, size, AccessMode&gt; { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> DividedBy1 = FieldValue&lt;TIM_CR_CKD_Values, <span class="hljs-number"><span class="hljs-number">0U</span></span>&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> DividedBy2 = FieldValue&lt;TIM_CR_CKD_Values, <span class="hljs-number"><span class="hljs-number">1U</span></span>&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> DividedBy4 = FieldValue&lt;TIM_CR_CKD_Values, <span class="hljs-number"><span class="hljs-number">2U</span></span>&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Reserved = FieldValue&lt;TIM_CR_CKD_Values, <span class="hljs-number"><span class="hljs-number">3U</span></span>&gt; ; } ; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> Reg, <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> offset, <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> size, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> AccessMode&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TIM_CR_ARPE_Values</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> RegisterField&lt;Reg, offset, size, AccessMode&gt; { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ARRNotBuffered = FieldValue&lt;TIM_CR_ARPE_Values, <span class="hljs-number"><span class="hljs-number">0U</span></span>&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ARRBuffered = FieldValue&lt;TIM_CR_ARPE_Values, <span class="hljs-number"><span class="hljs-number">1U</span></span>&gt; ; } ; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> Reg, <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> offset, <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> size, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> AccessMode&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TIM_CR_CMS_Values</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> RegisterField&lt;Reg, offset, size, AccessMode&gt; { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> CenterAlignedMode0 = FieldValue&lt;TIM_CR_CMS_Values, <span class="hljs-number"><span class="hljs-number">0U</span></span>&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> CenterAlignedMode1 = FieldValue&lt;TIM_CR_CMS_Values, <span class="hljs-number"><span class="hljs-number">1U</span></span>&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> CenterAlignedMode2 = FieldValue&lt;TIM_CR_CMS_Values, <span class="hljs-number"><span class="hljs-number">2U</span></span>&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> CenterAlignedMode3 = FieldValue&lt;TIM_CR_CMS_Values, <span class="hljs-number"><span class="hljs-number">3U</span></span>&gt; ; } ; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> Reg, <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> offset, <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> size, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> AccessMode&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TIM_CR_DIR_Values</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> RegisterField&lt;Reg, offset, size, AccessMode&gt; { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Upcounter = FieldValue&lt;TIM_CR_DIR_Values, <span class="hljs-number"><span class="hljs-number">0U</span></span>&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Downcounter = FieldValue&lt;TIM_CR_DIR_Values, <span class="hljs-number"><span class="hljs-number">1U</span></span>&gt; ; } ; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> Reg, <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> offset, <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> size, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> AccessMode&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TIM_CR_OPM_Values</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> RegisterField&lt;Reg, offset, size, AccessMode&gt; { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ContinueAfterUEV = FieldValue&lt;TIM_CR_OPM_Values, <span class="hljs-number"><span class="hljs-number">0U</span></span>&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> StopAfterUEV = FieldValue&lt;TIM_CR_OPM_Values, <span class="hljs-number"><span class="hljs-number">1U</span></span>&gt; ; } ; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> Reg, <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> offset, <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> size, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> AccessMode&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TIM_CR_URS_Values</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> RegisterField&lt;Reg, offset, size, AccessMode&gt; { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Any = FieldValue&lt;TIM_CR_URS_Values, <span class="hljs-number"><span class="hljs-number">0U</span></span>&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Overflow = FieldValue&lt;TIM_CR_URS_Values, <span class="hljs-number"><span class="hljs-number">1U</span></span>&gt; ; } ; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> Reg, <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> offset, <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> size, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> AccessMode&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TIM_CR_UDIS_Values</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> RegisterField&lt;Reg, offset, size, AccessMode&gt; { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Enable = FieldValue&lt;TIM_CR_UDIS_Values, <span class="hljs-number"><span class="hljs-number">0U</span></span>&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Disable = FieldValue&lt;TIM_CR_UDIS_Values, <span class="hljs-number"><span class="hljs-number">1U</span></span>&gt; ; } ; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> Reg, <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> offset, <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> size, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> AccessMode&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TIM_CR_CEN_Values</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> RegisterField&lt;Reg, offset, size, AccessMode&gt; { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Disable = FieldValue&lt;TIM_CR_CEN_Values, <span class="hljs-number"><span class="hljs-number">0U</span></span>&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Enable = FieldValue&lt;TIM_CR_CEN_Values, <span class="hljs-number"><span class="hljs-number">1U</span></span>&gt; ; } ;</code> </pre><br></div></div><br>  ุจุนุฏ ุฐูู ุ ุณูุชู ุจุงููุนู ูุตู ุณุฌู CR1 ููุณู ุนูู ุงููุญู ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TIM1</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CR1</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> RegisterBase&lt;<span class="hljs-number"><span class="hljs-number">0x40010000</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>, ReadWriteMode&gt; { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> CKD = TIM_CR1_CKD_Values&lt;TIM1::CR1, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, ReadWriteMode&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ARPE = TIM_CR1_ARPE_Values&lt;TIM1::CR1, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, ReadWriteMode&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> CMS = TIM_CR1_CMS_Values&lt;TIM1::CR1, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, ReadWriteMode&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> DIR = TIM_CR1_DIR_Values&lt;TIM1::CR1, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, ReadWriteMode&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> OPM = TIM_CR1_OPM_Values&lt;TIM1::CR1, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, ReadWriteMode&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> URS = TIM_CR1_URS_Values&lt;TIM1::CR1, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, ReadWriteMode&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UDIS = TIM_CR1_UDIS_Values&lt;TIM1::CR1, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, ReadWriteMode&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> CEN = TIM_CR1_CEN_Values&lt;TIM1::CR1, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, ReadWriteMode&gt; ; } ; }</code> </pre><br>  ุงูุขู ููููู ุชุนููู ููุฑุงุกุฉ ูููุฉ ุญูู ุงูุชุณุฌูู ูุจุงุดุฑุฉ: ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ููุช ุชุฑุบุจ ูู ุชูููู ุงููุคูุช ุนูู ุงูุญุณุงุจ ุ ูุง ุนููู ุณูู ุงูุงุชุตุงู ุจุงูุทุฑููุฉ <code>Set()</code> ุนูู <code>Enable</code> ูููุฉ ุงูุญูู CEN ุงูุฎุงุต ุจุงูุชุณุฌูู CR1 ูู ุงููุคูุช TIM1: <code>TIM1::CR1::CEN::Enable::Set() ;</code>  .  ูู ุงูููุฏ ุ ุณูุจุฏู ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (TIM1::CR1::CKD::DividedBy2::IsSet()) { TIM1::ARR::Set(<span class="hljs-number"><span class="hljs-number">100U</span></span>) ; TIM1::CR1::CEN::Enable::Set() ; } }</code> </pre><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููููุงุฑูุฉ ุ ููุณ ุงูุดูุก ุจุงุณุชุฎุฏุงู ุฑุฃุณ C:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>((TIM1-&gt;CR1 &amp; TIM_CR1_CKD_Msk) == TIM_CR1_CKD_0) { TIM1-&gt;ARR = <span class="hljs-number"><span class="hljs-number">100U</span></span> ; regValue = TIM1-&gt;CR1 ; regValue &amp;=~(TIM_CR1_CEN_Msk) ; regValue |= TIM_CR1_CEN ; TIM1-&gt;CR1 = regValue ; } }</code> </pre><br></div></div><br>  ูุฐูู ุ ุชู ุฅุฌุฑุงุก ุงูุชุญุณููุงุช ุงูุฑุฆูุณูุฉ ุ ูููููุง ุงููุตูู ุฅูู ุงูุณุฌู ุจุทุฑููุฉ ุณููุฉ ููููููุฉ ููุฌุงูุงุชู ููููู.     ,   ,        ,      ,     . <br><br>      ,        . ,    : <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> regValue = TIM1-&gt;CR1 ; regValue &amp;=~(TIM_CR1_CKD_Msk | TIM_CR1_DIR) ; regValue |= (TIM_CR1_CEN | TIM_CR1_CKD_0 | TIM_CR1_CKD_0) ; TIM1-&gt;CR1 = regValue ; }</code> </pre><br>          <code>Set(...)</code>    ,     ,     .  ุฃู     : <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// 1,      Set() TIM1::CR1::Set(TIM1::CR1::DIR::Upcounter, TIM1::CR1::CKD::DividedBy4, TIM1::CR1::CEN::Enable) ; // 2,     TIM1::CR1&lt;TIM1::CR1::DIR::Upcounter, TIM1::CR1::CKD::DividedBy4, TIM1::CR1::CEN::Enable&gt;::Set() ; }</span></span></code> </pre><br>                        ,        ,    ,    ,       . <br><br>      .      : <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//    ,          template&lt;uint32_t address, size_t size, typename AccessMode, typename ...Args&gt; class Register { private: ...</span></span></code> </pre><br>  ,        : <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">       ,      . </li><li style=";text-align:right;direction:rtl">           . </li></ol><br>    constexpr ,        : <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//    ,          template&lt;uint32_t address, size_t size, typename AccessMode, typename ...Args&gt; class Register { private: // ,    //     . __forceinline template&lt;typename T&gt; static constexpr auto GetIndividualMask() { Type result = T::Mask &lt;&lt; T::Offset ; return result ; } // ,    //       . static constexpr auto GetMask() { //       const auto values = {GetIndividualMask&lt;Args&gt;()...} ; Type result = 0UL; for (auto const v: values) { //       result |= v ; } return result ; } //    __forceinline template&lt;typename T&gt; static constexpr auto GetIndividualValue() { Type result = T::Value &lt;&lt; T::Offset ; return result ; } static constexpr auto GetValue() { const auto values = {GetIndividualValue&lt;Args&gt;()...}; Type result = 0UL; for (const auto v: values) { result |= v ; } return result ; } };</span></span></code> </pre><br>      <code>Set()</code>  <code>IsSet()</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//    ,          template&lt;uint32_t address, size_t size, typename AccessMode, typename ...Args&gt; class Register { public: using Type = typename RegisterType&lt;size&gt;::Type; template&lt;typename T = AccessMode, class = typename std::enable_if_t&lt;std::is_base_of&lt;WriteMode, T&gt;::value&gt;&gt; static void Set() { Type newRegValue = *reinterpret_cast&lt;Type *&gt;(address) ; //GetMask()    ,     newRegValue &amp;= ~GetMask() ; //GetValue()    ,     newRegValue |= GetValue() ; //     *reinterpret_cast&lt;Type *&gt;(address) = newRegValue ; } template&lt;typename T = AccessMode, class = typename std::enable_if_t&lt;std::is_base_of&lt;ReadMode, T&gt;::value&gt;&gt; static bool IsSet() { Type newRegValue = *reinterpret_cast&lt;Type *&gt;(address) ; return ((newRegValue &amp; GetMask()) == GetValue()) ; } private: ...</span></span></code> </pre><br>  ,         : <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ,     TIM1::CR1 TIM1::CR1&lt;TIM2::CR1::Enabled, TIM1::CR2::OIS1::OC1OutputIs0&gt;::Set() ; }</span></span></code> </pre> <br> ,   - ,      ,    ,       ,   <code>FieldValueBaseType</code> .      ,          <code>FieldValueBaseType</code> : <br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">       </b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> address, <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> size, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> AccessMode, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> FieldValueBaseType, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> ...Args&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Register</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span>: <span class="hljs-comment"><span class="hljs-comment">//     BaseType     FieldValueBaseType,    . __forceinline template&lt;typename T, class = typename std::enable_if_t&lt;std::is_same&lt;FieldValueBaseType, typename T::BaseType&gt;::value&gt;&gt; static constexpr auto GetIndividualMask() { Type result = T::Mask &lt;&lt; T::Offset ; return result ; } static constexpr auto GetMask() { const auto values = {GetIndividualMask&lt;Args&gt;()...} ; Type result = 0UL; for (auto const v: values) { result |= v ; } return result ; } //     BaseType     FieldValueBaseType,    . __forceinline template&lt;typename T, class = typename std::enable_if_t&lt;std::is_same&lt;FieldValueBaseType, typename T::BaseType&gt;::value&gt;&gt; static constexpr auto GetIndividualValue() { Type result = T::Value &lt;&lt; T::Offset ; return result ; } static constexpr auto GetValue() { const auto values = {GetIndividualValue&lt;Args&gt;()...}; Type result = 0UL; for (const auto v: values) { result |= v ; } return result ; } };</span></span></code> </pre><br></div></div><br>     ,  SFINAE         ,       ,  ,    ,  ,      . <br><br>    CR1  TIM1,   : <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TIM1</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TIM1CR1Base</span></span></span><span class="hljs-class"> {</span></span>} ; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CR1</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> RegisterBase&lt;<span class="hljs-number"><span class="hljs-number">0x40010000</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>, ReadWriteMode&gt; { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> CKD = TIM_CR_CKD_Values&lt;TIM1::CR1, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, ReadWriteMode, TIM1CR1Base&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ARPE = TIM_CR_ARPE_Values&lt;TIM1::CR1, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, ReadWriteMode, TIM1CR1Base&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> CMS = TIM_CR_CMS_Values&lt;TIM1::CR1, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, ReadWriteMode, TIM1CR1Base&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> DIR = TIM_CR_DIR_Values&lt;TIM1::CR1, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, ReadWriteMode, TIM1CR1Base&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> OPM = TIM_CR_OPM_Values&lt;TIM1::CR1, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, ReadWriteMode, TIM1CR1Base&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> URS = TIM_CR_URS_Values&lt;TIM1::CR1, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, ReadWriteMode, TIM1CR1Base&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UDIS = TIM_CR_UDIS_Values&lt;TIM1::CR1, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, ReadWriteMode, TIM1CR1Base&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> CEN = TIM_CR_CEN_Values&lt;TIM1::CR1, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, ReadWriteMode, TIM1CR1Base&gt; ; } ; }</code> </pre> <br> ,          ,        .      ,        ,           ,        . <br><br>        ,     : <br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"> </b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//     GPIOA //,    AHB1ENR RCC-&gt;APB1ENR |= RCC_AHB1ENR_GPIOAEN ; //    ,      RCC-&gt;AHB1ENR = RCC_AHB1ENR_GPIOAEN; //,  TIM1    APB2 RCC-&gt;APB1ENR |= RCC_APB1ENR_TIM2EN | RCC_APB2ENR_TIM1EN; // - ,        . auto result = GPIOA-&gt;BSRR ; if (result &amp; GPIO_BSRR_BS1) { //do something } //-     .   ... GPIOA-&gt;IDR = GPIO_IDR_ID5 ;</span></span></code> </pre></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุญุงูู ุฃู ุชูุนู ุงูุดูุก ููุณู ูุน ุงูููุฌ ุงูุฌุฏูุฏ: </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//     GPIOA // ,   APB1ENR   GPIOAEN RCC::APB1ENR::GPIOAEN::Enable::Set() ; // ,     GPIOA RCC::AHB1ENR::GPIOAEN::Enable::Set() ; // , RCC::APB2ENR::TIM1EN::Enable  //   APB1ENR RCC::APB1ENRPack&lt;RCC::APB1ENR::TIM2EN::Enable, RCC::APB2ENR::TIM1EN::Enable&gt;::Set(); // ,  BSRR    auto result = GPIOA::BSRR::Get() ; // ,  Reset    if (GPIOA::BSRR::BS1::Reset::IsSet()) { //do something } // ,       GPIOA::IDR::IDR5::On::Set() }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ูู ุญุงูุฉ ูู ูุฐู ุงูุญุงูุงุช ุ ุญุตููุง ุนูู ุฎุทุฃ ูู ูุฑุญูุฉ ุงูุชุฌููุน ุ ููุฐุง ุจุงูุถุจุท ูุง ุญูููุงู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญุณููุง ุ ููุฏ ูุฏููุง โโูุตููุงู ุฌูููุงู ูุขููุงู ุฅูู ุงูุณุฌู ููุฌุงูุงุชู ุ ููู ูุงุฐุง ุนู ุงูุณุฑุนุฉุ</font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุณุฑุนุฉ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููููุงุฑูุฉ ุ ูู ูู ุฃูุถู ููุฌูุง ุ ุณูุณุชุฎุฏู ููุฏ C ู C ++ ุงูุฐู ูุบุฐู ุงูุณุงุนุฉ ูููููุฐ A ุ ููุถุจุท ุงูููุงูุฐ ุงูุซูุงุซุฉ ุนูู ูุถุน ุงูุฅุฎุฑุงุฌ ุ ููุนูู ููุงูุฐ ุงูุฅุฎุฑุงุฌ ูู ูุฐู ุงูููุงูุฐ ุงูุซูุงุซุฉ 1: </font></font><br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฑูุฒ C:</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> res = RCC-&gt;AHB2ENR; res &amp;=~ RCC_AHB1ENR_GPIOAEN_Msk ; res |= RCC_AHB1ENR_GPIOAEN ; RCC-&gt;AHB2ENR = res ; res = GPIOA-&gt;MODER ; res &amp;=~ (GPIO_MODER_MODER5 | GPIO_MODER_MODER4 | GPIO_MODER_MODER1) ; res |= (GPIO_MODER_MODER5_0 | GPIO_MODER_MODER4_0 | GPIO_MODER_MODER1_0) ; GPIOA-&gt;MODER = res ; GPIOA-&gt;BSRR = (GPIO_BSRR_BS5 | GPIO_BSRR_BS4 | GPIO_BSRR_BS1) ; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> ; }</code> </pre><br></div></div><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฑูุฒ C ++:</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ RCC::AHB1ENR::GPIOAEN::Enable::Set() ; GPIOA::MODERPack&lt; GPIOA::MODER::MODER5::Output, GPIOA::MODER::MODER4::Output, GPIOA::MODER::MODER1::Output&gt;::Set() ; GPIOA::BSRRPack&lt; GPIOA::BSRR::BS5::Set, GPIOA::BSRR::BS4::Set, GPIOA::BSRR::BS1::Set&gt;::Write() ; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> ; }</code> </pre><br></div></div><br>    IAR.    :      : <br><br>        : <br><br><img src="https://habrastorage.org/webt/w-/wu/ln/w-wulnrmu5wg5pdby7qzzkxfdl8.png" alt="ุตูุฑุฉ"><br><br>   C++     : <br><br><img src="https://habrastorage.org/webt/wz/da/sf/wzdasflo3-fmkqsiq4lbtsbgf6g.png" alt="ุตูุฑุฉ"><br><br> 18         ,     ,       . <br><br>    ,   : <br><br><img src="https://habrastorage.org/webt/xm/m2/ac/xmm2actwv_1w6m_hqnbhsccg6xe.png" alt="ุตูุฑุฉ"><br><br>      13  . <br><br>    ++   : <br><br><img src="https://habrastorage.org/webt/qa/ic/a-/qaica-alj0danc4ffbmhyc2livs.png" alt="ุตูุฑุฉ"><br><br>    :  ,      . <br><br>      ,   .      ,       ? <br><br><h3 style=";text-align:right;direction:rtl">     </h3><br>  , ,      .   .    ,       .     ,    ,         . ,      .       SVD , ,            ,   . <br><br>    , ,        ,   ,  enum,     .        ,   ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> .</a> <br><img src="https://habrastorage.org/webt/jq/0h/kj/jq0hkj-s5u4jyou1-luv7bhlasy.png" alt="ุตูุฑุฉ"><br>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a> <br><br><h3 style=";text-align:right;direction:rtl">  ูุคุฏู </h3><br>  ,      ,     .      ,   gpioa  rcc,       : <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"gpioaregisters.hpp"</span></span></span><span class="hljs-meta"> </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//for GPIOA #include "rccregisters.hpp" //for RCC int main() { RCC::AHB1ENR::GPIOAEN::Enable::Set() ; GPIOA::MODER::MODER15::Output::Set() ; GPIOA::MODERPack&lt; GPIOA::MODER::MODER12::Output, GPIOA::MODER::MODER14::Analog &gt;::Set() ; }</span></span></span></span></code> </pre><br> , SVD      ,     ,        . <br><br> ,     ,       ,       SVD  , -   ST   ,     : <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> Reg, <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> offset, <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> size, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> AccessMode, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> BaseType&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GPIOA_MODER_MODER_Values</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> RegisterField&lt;Reg, offset, size, AccessMode&gt; { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Value0 = FieldValue&lt;GPIOA_MODER_MODER_Values, BaseType, <span class="hljs-number"><span class="hljs-number">0U</span></span>&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Value1 = FieldValue&lt;GPIOA_MODER_MODER_Values, BaseType, <span class="hljs-number"><span class="hljs-number">1U</span></span>&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Value2 = FieldValue&lt;GPIOA_MODER_MODER_Values, BaseType, <span class="hljs-number"><span class="hljs-number">2U</span></span>&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Value3 = FieldValue&lt;GPIOA_MODER_MODER_Values, BaseType, <span class="hljs-number"><span class="hljs-number">3U</span></span>&gt; ; } ;</code> </pre> <br>       ,        Value,  -  : <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> Reg, <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> offset, <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> size, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> AccessMode, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> BaseType&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GPIOA_MODER_MODER_Values</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> RegisterField&lt;Reg, offset, size, AccessMode&gt; { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Input = FieldValue&lt;GPIOA_MODER_MODER_Values, BaseType, <span class="hljs-number"><span class="hljs-number">0U</span></span>&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Output = FieldValue&lt;GPIOA_MODER_MODER_Values, BaseType, <span class="hljs-number"><span class="hljs-number">1U</span></span>&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Alternate = FieldValue&lt;GPIOA_MODER_MODER_Values, BaseType, <span class="hljs-number"><span class="hljs-number">2U</span></span>&gt; ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Analog = FieldValue&lt;GPIOA_MODER_MODER_Values, BaseType, <span class="hljs-number"><span class="hljs-number">3U</span></span>&gt; ; } ;</code> </pre> <br>           . <br><br>  ,  ST         ,      0. <br><br>  ,  ,            enum . <br><br>  ,     . <br><br>   IAR 8.40.1  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a> <br>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ยซ Online GDBยป</a> <br><br> PS:  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">putyavka</a>      <code>RegisterField::Get()</code> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">Ryppka</a>     assert. <br><br><h3 style=";text-align:right;direction:rtl">       </h3><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Typesafe Register Access in C++</a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">One Approach to Using Hardware Registers in C++</a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SVD Description (*.svd) Format</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar459642/">https://habr.com/ru/post/ar459642/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar459626/index.html">ูุฑูู ุฅุนูุงู Windows: ุณุทุญ ุงููุฌูู ุงูุฃูุซุฑ ููุซูุฉ</a></li>
<li><a href="../ar459628/index.html">ุชุถู ุดุจูุฉ Open Invention Network ุฃูุซุฑ ูู ุซูุงุซุฉ ุขูุงู ูุฑุฎูุต ููู - ูุงุฐุง ูุนูู ุฐูู ุจุงููุณุจุฉ ุฅูู ุงูุจุฑุงูุฌ ููุชูุญุฉ ุงููุตุฏุฑ</a></li>
<li><a href="../ar459630/index.html">ุชูู ุชุงู ุชู ุงูุฌุฒุก 2: ุนุฏููู ุงูุฌูุณูุฉ ุงูุชุฑุงุฌุน / ุงูุฅุนุงุฏุฉ</a></li>
<li><a href="../ar459638/index.html">ุฅูุดุงุก ูุงุนุฏุฉ ูุนุงุฑู ุนุงูููุฉ ุนูู ุงูุจุทุงุฑูุงุช</a></li>
<li><a href="../ar459640/index.html">ูุณุชูุฏุงุช ูุฑูุฒ. ุงูุฌุฒุก 1: ุฃุชูุชุฉ ุงูุชุญุฏูุซ</a></li>
<li><a href="../ar459644/index.html">ุงููุฎูุชุงุช LED</a></li>
<li><a href="../ar459648/index.html">ูุฌุจ ุฃู ูููู ูู ุดูุก ุนูู ูุง ูุฑุงู ูู ุงููุญูู: ูู ูู ุงููุธููุฉ ูุงููุงุฌูุฉ ... ูุญู ูุณุชูุดู ูุงุฌูุฉ Solar appScreener 3.1 ุงูุฌุฏูุฏุฉ</a></li>
<li><a href="../ar459650/index.html">ููู ูุง ุชุฎุณุฑ ุงููุงู ูู ุงูุตูุฏูู ุงูุฃุณูุฏ: ุทุฑู ุงุฎุชุจุงุฑ ุงูููุงุชูุฑ</a></li>
<li><a href="../ar459652/index.html">ููุฌ ุงุฎุชุจุงุฑ ุงูุงูุญุฏุงุฑ ุงูุขูู</a></li>
<li><a href="../ar459656/index.html">ุฎุฏูุฉ OData ุฏูู ูุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>